var oP=Object.defineProperty;var aP=(t,e,n)=>e in t?oP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var at=(t,e,n)=>(aP(t,typeof e!="symbol"?e+"":e,n),n);function lP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var D2={exports:{}},qf={},B2={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),uP=Symbol.for("react.portal"),cP=Symbol.for("react.fragment"),hP=Symbol.for("react.strict_mode"),dP=Symbol.for("react.profiler"),fP=Symbol.for("react.provider"),pP=Symbol.for("react.context"),gP=Symbol.for("react.forward_ref"),mP=Symbol.for("react.suspense"),yP=Symbol.for("react.memo"),vP=Symbol.for("react.lazy"),Mw=Symbol.iterator;function _P(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var U2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F2=Object.assign,V2={};function Bl(t,e,n){this.props=t,this.context=e,this.refs=V2,this.updater=n||U2}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $2(){}$2.prototype=Bl.prototype;function xv(t,e,n){this.props=t,this.context=e,this.refs=V2,this.updater=n||U2}var Ev=xv.prototype=new $2;Ev.constructor=xv;F2(Ev,Bl.prototype);Ev.isPureReactComponent=!0;var Lw=Array.isArray,j2=Object.prototype.hasOwnProperty,bv={current:null},z2={key:!0,ref:!0,__self:!0,__source:!0};function H2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j2.call(e,r)&&!z2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qc,type:t,key:s,ref:o,props:i,_owner:bv.current}}function wP(t,e){return{$$typeof:qc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===qc}function xP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ow=/\/+/g;function Pg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xP(""+t.key):e.toString(36)}function ud(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qc:case uP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pg(o,0):r,Lw(i)?(n="",t!=null&&(n=t.replace(Ow,"$&/")+"/"),ud(i,e,n,"",function(u){return u})):i!=null&&(Sv(i)&&(i=wP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ow,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Pg(s,a);o+=ud(s,e,n,l,i)}else if(l=_P(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Pg(s,a++),o+=ud(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sh(t,e,n){if(t==null)return t;var r=[],i=0;return ud(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},cd={transition:null},bP={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:cd,ReactCurrentOwner:bv};Ve.Children={map:Sh,forEach:function(t,e,n){Sh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sh(t,function(){e++}),e},toArray:function(t){return Sh(t,function(e){return e})||[]},only:function(t){if(!Sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Bl;Ve.Fragment=cP;Ve.Profiler=dP;Ve.PureComponent=xv;Ve.StrictMode=hP;Ve.Suspense=mP;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bP;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=F2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j2.call(e,l)&&!z2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ve.createContext=function(t){return t={$$typeof:pP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fP,_context:t},t.Consumer=t};Ve.createElement=H2;Ve.createFactory=function(t){var e=H2.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:gP,render:t}};Ve.isValidElement=Sv;Ve.lazy=function(t){return{$$typeof:vP,_payload:{_status:-1,_result:t},_init:EP}};Ve.memo=function(t,e){return{$$typeof:yP,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=cd.transition;cd.transition={};try{t()}finally{cd.transition=e}};Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ve.useCallback=function(t,e){return rr.current.useCallback(t,e)};Ve.useContext=function(t){return rr.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return rr.current.useEffect(t,e)};Ve.useId=function(){return rr.current.useId()};Ve.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return rr.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};Ve.useRef=function(t){return rr.current.useRef(t)};Ve.useState=function(t){return rr.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return rr.current.useTransition()};Ve.version="18.2.0";B2.exports=Ve;var ee=B2.exports;const q2=ia(ee),SP=lP({__proto__:null,default:q2},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=ee,AP=Symbol.for("react.element"),TP=Symbol.for("react.fragment"),kP=Object.prototype.hasOwnProperty,CP=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RP={key:!0,ref:!0,__self:!0,__source:!0};function W2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kP.call(e,r)&&!RP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AP,type:t,key:s,ref:o,props:i,_owner:CP.current}}qf.Fragment=TP;qf.jsx=W2;qf.jsxs=W2;D2.exports=qf;var E=D2.exports,b0={},K2={exports:{}},Tr={},G2={exports:{}},Q2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,T){var M=C.length;C.push(T);e:for(;0<M;){var I=M-1>>>1,f=C[I];if(0<i(f,T))C[I]=T,C[M]=f,M=I;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var T=C[0],M=C.pop();if(M!==T){C[0]=M;e:for(var I=0,f=C.length,L=f>>>1;I<L;){var W=2*(I+1)-1,X=C[W],J=W+1,oe=C[J];if(0>i(X,M))J<f&&0>i(oe,X)?(C[I]=oe,C[J]=M,I=J):(C[I]=X,C[W]=M,I=W);else if(J<f&&0>i(oe,M))C[I]=oe,C[J]=M,I=J;else break e}}return T}function i(C,T){var M=C.sortIndex-T.sortIndex;return M!==0?M:C.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,y=3,_=!1,S=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=C)r(u),T.sortIndex=T.expirationTime,e(l,T);else break;T=n(u)}}function P(C){if(x=!1,m(C),!S)if(n(l)!==null)S=!0,k(N);else{var T=n(u);T!==null&&O(P,T.startTime-C)}}function N(C,T){S=!1,x&&(x=!1,w(V),V=-1),_=!0;var M=y;try{for(m(T),d=n(l);d!==null&&(!(d.expirationTime>T)||C&&!Q());){var I=d.callback;if(typeof I=="function"){d.callback=null,y=d.priorityLevel;var f=I(d.expirationTime<=T);T=t.unstable_now(),typeof f=="function"?d.callback=f:d===n(l)&&r(l),m(T)}else r(l);d=n(l)}if(d!==null)var L=!0;else{var W=n(u);W!==null&&O(P,W.startTime-T),L=!1}return L}finally{d=null,y=M,_=!1}}var D=!1,F=null,V=-1,G=5,Y=-1;function Q(){return!(t.unstable_now()-Y<G)}function ce(){if(F!==null){var C=t.unstable_now();Y=C;var T=!0;try{T=F(!0,C)}finally{T?U():(D=!1,F=null)}}else D=!1}var U;if(typeof b=="function")U=function(){b(ce)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,v=h.port2;h.port1.onmessage=ce,U=function(){v.postMessage(null)}}else U=function(){A(ce,0)};function k(C){F=C,D||(D=!0,U())}function O(C,T){V=A(function(){C(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){S||_||(S=!0,k(N))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(y){case 1:case 2:case 3:var T=3;break;default:T=y}var M=y;y=T;try{return C()}finally{y=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=y;y=C;try{return T()}finally{y=M}},t.unstable_scheduleCallback=function(C,T,M){var I=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,C){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=M+f,C={id:c++,callback:T,priorityLevel:C,startTime:M,expirationTime:f,sortIndex:-1},M>I?(C.sortIndex=M,e(u,C),n(l)===null&&C===n(u)&&(x?(w(V),V=-1):x=!0,O(P,M-I))):(C.sortIndex=f,e(l,C),S||_||(S=!0,k(N))),C},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(C){var T=y;return function(){var M=y;y=T;try{return C.apply(this,arguments)}finally{y=M}}}})(Q2);G2.exports=Q2;var PP=G2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=ee,Er=PP;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X2=new Set,sc={};function sa(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(sc[t]=e,t=0;t<e.length;t++)X2.add(e[t])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=Object.prototype.hasOwnProperty,NP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dw={},Bw={};function MP(t){return S0.call(Bw,t)?!0:S0.call(Dw,t)?!1:NP.test(t)?Bw[t]=!0:(Dw[t]=!0,!1)}function LP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OP(t,e,n,r){if(e===null||typeof e>"u"||LP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Iv=/[\-:]([a-z])/g;function Av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Iv,Av);Rn[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Iv,Av);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Iv,Av);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tv(t,e,n,r){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OP(e,n,i,r)&&(n=null),r||i===null?MP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cs=Y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ih=Symbol.for("react.element"),Ca=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),J2=Symbol.for("react.provider"),Z2=Symbol.for("react.context"),Cv=Symbol.for("react.forward_ref"),A0=Symbol.for("react.suspense"),T0=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),eS=Symbol.for("react.offscreen"),Uw=Symbol.iterator;function ou(t){return t===null||typeof t!="object"?null:(t=Uw&&t[Uw]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Ng;function Su(t){if(Ng===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ng=e&&e[1]||""}return`
`+Ng+t}var Mg=!1;function Lg(t,e){if(!t||Mg)return"";Mg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Su(t):""}function DP(t){switch(t.tag){case 5:return Su(t.type);case 16:return Su("Lazy");case 13:return Su("Suspense");case 19:return Su("SuspenseList");case 0:case 2:case 15:return t=Lg(t.type,!1),t;case 11:return t=Lg(t.type.render,!1),t;case 1:return t=Lg(t.type,!0),t;default:return""}}function k0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Ca:return"Portal";case I0:return"Profiler";case kv:return"StrictMode";case A0:return"Suspense";case T0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z2:return(t.displayName||"Context")+".Consumer";case J2:return(t._context.displayName||"Context")+".Provider";case Cv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rv:return e=t.displayName||null,e!==null?e:k0(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return k0(t(e))}catch{}}return null}function BP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k0(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UP(t){var e=tS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ah(t){t._valueTracker||(t._valueTracker=UP(t))}function nS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C0(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rS(t,e){e=e.checked,e!=null&&Tv(t,"checked",e,!1)}function R0(t,e){rS(t,e);var n=Ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?P0(t,e.type,n):e.hasOwnProperty("defaultValue")&&P0(t,e.type,Ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function P0(t,e,n){(e!=="number"||Ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Iu=Array.isArray;function qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function N0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Iu(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ys(n)}}function iS(t,e){var n=Ys(e.value),r=Ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Th,oS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FP=["Webkit","ms","Moz","O"];Object.keys(Uu).forEach(function(t){FP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uu[e]=Uu[t]})});function aS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uu.hasOwnProperty(t)&&Uu[t]?(""+e).trim():e+"px"}function lS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VP=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function L0(t,e){if(e){if(VP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function O0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=null;function Pv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var B0=null,Wa=null,Ka=null;function zw(t){if(t=Gc(t)){if(typeof B0!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Yf(e),B0(t.stateNode,t.type,e))}}function uS(t){Wa?Ka?Ka.push(t):Ka=[t]:Wa=t}function cS(){if(Wa){var t=Wa,e=Ka;if(Ka=Wa=null,zw(t),e)for(t=0;t<e.length;t++)zw(e[t])}}function hS(t,e){return t(e)}function dS(){}var Og=!1;function fS(t,e,n){if(Og)return t(e,n);Og=!0;try{return hS(t,e,n)}finally{Og=!1,(Wa!==null||Ka!==null)&&(dS(),cS())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=Yf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var U0=!1;if(ts)try{var au={};Object.defineProperty(au,"passive",{get:function(){U0=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{U0=!1}function $P(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fu=!1,Od=null,Dd=!1,F0=null,jP={onError:function(t){Fu=!0,Od=t}};function zP(t,e,n,r,i,s,o,a,l){Fu=!1,Od=null,$P.apply(jP,arguments)}function HP(t,e,n,r,i,s,o,a,l){if(zP.apply(this,arguments),Fu){if(Fu){var u=Od;Fu=!1,Od=null}else throw Error(re(198));Dd||(Dd=!0,F0=u)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hw(t){if(oa(t)!==t)throw Error(re(188))}function qP(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hw(i),t;if(s===r)return Hw(i),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function gS(t){return t=qP(t),t!==null?mS(t):null}function mS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mS(t);if(e!==null)return e;t=t.sibling}return null}var yS=Er.unstable_scheduleCallback,qw=Er.unstable_cancelCallback,WP=Er.unstable_shouldYield,KP=Er.unstable_requestPaint,Lt=Er.unstable_now,GP=Er.unstable_getCurrentPriorityLevel,Nv=Er.unstable_ImmediatePriority,vS=Er.unstable_UserBlockingPriority,Bd=Er.unstable_NormalPriority,QP=Er.unstable_LowPriority,_S=Er.unstable_IdlePriority,Wf=null,Si=null;function YP(t){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(Wf,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:ZP,XP=Math.log,JP=Math.LN2;function ZP(t){return t>>>=0,t===0?32:31-(XP(t)/JP|0)|0}var kh=64,Ch=4194304;function Au(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Au(a):(s&=o,s!==0&&(r=Au(s)))}else o=n&~i,o!==0?r=Au(o):s!==0&&(r=Au(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ti(e),i=1<<n,r|=t[n],e&=~i;return r}function e3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ti(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=e3(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function V0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wS(){var t=kh;return kh<<=1,!(kh&4194240)&&(kh=64),t}function Dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=n}function n3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ti(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ti(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nt=0;function xS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ES,Lv,bS,SS,IS,$0=!1,Rh=[],Bs=null,Us=null,Fs=null,lc=new Map,uc=new Map,Is=[],r3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ww(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(e.pointerId)}}function lu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gc(e),e!==null&&Lv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i3(t,e,n,r,i){switch(e){case"focusin":return Bs=lu(Bs,t,e,n,r,i),!0;case"dragenter":return Us=lu(Us,t,e,n,r,i),!0;case"mouseover":return Fs=lu(Fs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lc.set(s,lu(lc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uc.set(s,lu(uc.get(s)||null,t,e,n,r,i)),!0}return!1}function AS(t){var e=So(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=pS(n),e!==null){t.blockedOn=e,IS(t.priority,function(){bS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=j0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);D0=r,n.target.dispatchEvent(r),D0=null}else return e=Gc(n),e!==null&&Lv(e),t.blockedOn=n,!1;e.shift()}return!0}function Kw(t,e,n){hd(t)&&n.delete(e)}function s3(){$0=!1,Bs!==null&&hd(Bs)&&(Bs=null),Us!==null&&hd(Us)&&(Us=null),Fs!==null&&hd(Fs)&&(Fs=null),lc.forEach(Kw),uc.forEach(Kw)}function uu(t,e){t.blockedOn===e&&(t.blockedOn=null,$0||($0=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,s3)))}function cc(t){function e(i){return uu(i,t)}if(0<Rh.length){uu(Rh[0],t);for(var n=1;n<Rh.length;n++){var r=Rh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bs!==null&&uu(Bs,t),Us!==null&&uu(Us,t),Fs!==null&&uu(Fs,t),lc.forEach(e),uc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)AS(n),n.blockedOn===null&&Is.shift()}var Ga=cs.ReactCurrentBatchConfig,Fd=!0;function o3(t,e,n,r){var i=nt,s=Ga.transition;Ga.transition=null;try{nt=1,Ov(t,e,n,r)}finally{nt=i,Ga.transition=s}}function a3(t,e,n,r){var i=nt,s=Ga.transition;Ga.transition=null;try{nt=4,Ov(t,e,n,r)}finally{nt=i,Ga.transition=s}}function Ov(t,e,n,r){if(Fd){var i=j0(t,e,n,r);if(i===null)Wg(t,e,r,Vd,n),Ww(t,r);else if(i3(i,t,e,n,r))r.stopPropagation();else if(Ww(t,r),e&4&&-1<r3.indexOf(t)){for(;i!==null;){var s=Gc(i);if(s!==null&&ES(s),s=j0(t,e,n,r),s===null&&Wg(t,e,r,Vd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Wg(t,e,r,null,n)}}var Vd=null;function j0(t,e,n,r){if(Vd=null,t=Pv(r),t=So(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vd=t,null}function TS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GP()){case Nv:return 1;case vS:return 4;case Bd:case QP:return 16;case _S:return 536870912;default:return 16}default:return 16}}var Ps=null,Dv=null,dd=null;function kS(){if(dd)return dd;var t,e=Dv,n=e.length,r,i="value"in Ps?Ps.value:Ps.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dd=i.slice(t,1<r?1-r:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ph(){return!0}function Gw(){return!1}function kr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ph:Gw,this.isPropagationStopped=Gw,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),e}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=kr(Ul),Kc=bt({},Ul,{view:0,detail:0}),l3=kr(Kc),Bg,Ug,cu,Kf=bt({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cu&&(cu&&t.type==="mousemove"?(Bg=t.screenX-cu.screenX,Ug=t.screenY-cu.screenY):Ug=Bg=0,cu=t),Bg)},movementY:function(t){return"movementY"in t?t.movementY:Ug}}),Qw=kr(Kf),u3=bt({},Kf,{dataTransfer:0}),c3=kr(u3),h3=bt({},Kc,{relatedTarget:0}),Fg=kr(h3),d3=bt({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),f3=kr(d3),p3=bt({},Ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g3=kr(p3),m3=bt({},Ul,{data:0}),Yw=kr(m3),y3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_3[t])?!!e[t]:!1}function Uv(){return w3}var x3=bt({},Kc,{key:function(t){if(t.key){var e=y3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uv,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E3=kr(x3),b3=bt({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xw=kr(b3),S3=bt({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uv}),I3=kr(S3),A3=bt({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),T3=kr(A3),k3=bt({},Kf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C3=kr(k3),R3=[9,13,27,32],Fv=ts&&"CompositionEvent"in window,Vu=null;ts&&"documentMode"in document&&(Vu=document.documentMode);var P3=ts&&"TextEvent"in window&&!Vu,CS=ts&&(!Fv||Vu&&8<Vu&&11>=Vu),Jw=String.fromCharCode(32),Zw=!1;function RS(t,e){switch(t){case"keyup":return R3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function N3(t,e){switch(t){case"compositionend":return PS(e);case"keypress":return e.which!==32?null:(Zw=!0,Jw);case"textInput":return t=e.data,t===Jw&&Zw?null:t;default:return null}}function M3(t,e){if(Pa)return t==="compositionend"||!Fv&&RS(t,e)?(t=kS(),dd=Dv=Ps=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CS&&e.locale!=="ko"?null:e.data;default:return null}}var L3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L3[t.type]:e==="textarea"}function NS(t,e,n,r){uS(r),e=$d(e,"onChange"),0<e.length&&(n=new Bv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $u=null,hc=null;function O3(t){zS(t,0)}function Gf(t){var e=La(t);if(nS(e))return t}function D3(t,e){if(t==="change")return e}var MS=!1;if(ts){var Vg;if(ts){var $g="oninput"in document;if(!$g){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),$g=typeof tx.oninput=="function"}Vg=$g}else Vg=!1;MS=Vg&&(!document.documentMode||9<document.documentMode)}function nx(){$u&&($u.detachEvent("onpropertychange",LS),hc=$u=null)}function LS(t){if(t.propertyName==="value"&&Gf(hc)){var e=[];NS(e,hc,t,Pv(t)),fS(O3,e)}}function B3(t,e,n){t==="focusin"?(nx(),$u=e,hc=n,$u.attachEvent("onpropertychange",LS)):t==="focusout"&&nx()}function U3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gf(hc)}function F3(t,e){if(t==="click")return Gf(e)}function V3(t,e){if(t==="input"||t==="change")return Gf(e)}function $3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ai=typeof Object.is=="function"?Object.is:$3;function dc(t,e){if(ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!S0.call(e,i)||!ai(t[i],e[i]))return!1}return!0}function rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ix(t,e){var n=rx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rx(n)}}function OS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DS(){for(var t=window,e=Ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ld(t.document)}return e}function Vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function j3(t){var e=DS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OS(n.ownerDocument.documentElement,n)){if(r!==null&&Vv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ix(n,s);var o=ix(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var z3=ts&&"documentMode"in document&&11>=document.documentMode,Na=null,z0=null,ju=null,H0=!1;function sx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;H0||Na==null||Na!==Ld(r)||(r=Na,"selectionStart"in r&&Vv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ju&&dc(ju,r)||(ju=r,r=$d(z0,"onSelect"),0<r.length&&(e=new Bv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function Nh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ma={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},jg={},BS={};ts&&(BS=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Qf(t){if(jg[t])return jg[t];if(!Ma[t])return t;var e=Ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BS)return jg[t]=e[n];return t}var US=Qf("animationend"),FS=Qf("animationiteration"),VS=Qf("animationstart"),$S=Qf("transitionend"),jS=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){jS.set(t,e),sa(e,[t])}for(var zg=0;zg<ox.length;zg++){var Hg=ox[zg],H3=Hg.toLowerCase(),q3=Hg[0].toUpperCase()+Hg.slice(1);io(H3,"on"+q3)}io(US,"onAnimationEnd");io(FS,"onAnimationIteration");io(VS,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io($S,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function ax(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HP(r,e,void 0,t),t.currentTarget=null}function zS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ax(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ax(i,a,u),s=l}}}if(Dd)throw t=F0,Dd=!1,F0=null,t}function ct(t,e){var n=e[Q0];n===void 0&&(n=e[Q0]=new Set);var r=t+"__bubble";n.has(r)||(HS(e,t,2,!1),n.add(r))}function qg(t,e,n){var r=0;e&&(r|=4),HS(n,t,r,e)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[Mh]){t[Mh]=!0,X2.forEach(function(n){n!=="selectionchange"&&(W3.has(n)||qg(n,!1,t),qg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mh]||(e[Mh]=!0,qg("selectionchange",!1,e))}}function HS(t,e,n,r){switch(TS(e)){case 1:var i=o3;break;case 4:i=a3;break;default:i=Ov}n=i.bind(null,e,n,t),i=void 0,!U0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=So(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fS(function(){var u=s,c=Pv(n),d=[];e:{var y=jS.get(t);if(y!==void 0){var _=Bv,S=t;switch(t){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":_=E3;break;case"focusin":S="focus",_=Fg;break;case"focusout":S="blur",_=Fg;break;case"beforeblur":case"afterblur":_=Fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=c3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=I3;break;case US:case FS:case VS:_=f3;break;case $S:_=T3;break;case"scroll":_=l3;break;case"wheel":_=C3;break;case"copy":case"cut":case"paste":_=g3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Xw}var x=(e&4)!==0,A=!x&&t==="scroll",w=x?y!==null?y+"Capture":null:y;x=[];for(var b=u,m;b!==null;){m=b;var P=m.stateNode;if(m.tag===5&&P!==null&&(m=P,w!==null&&(P=ac(b,w),P!=null&&x.push(pc(b,P,m)))),A)break;b=b.return}0<x.length&&(y=new _(y,S,null,n,c),d.push({event:y,listeners:x}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",y&&n!==D0&&(S=n.relatedTarget||n.fromElement)&&(So(S)||S[ns]))break e;if((_||y)&&(y=c.window===c?c:(y=c.ownerDocument)?y.defaultView||y.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=u,S=S?So(S):null,S!==null&&(A=oa(S),S!==A||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=u),_!==S)){if(x=Qw,P="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=Xw,P="onPointerLeave",w="onPointerEnter",b="pointer"),A=_==null?y:La(_),m=S==null?y:La(S),y=new x(P,b+"leave",_,n,c),y.target=A,y.relatedTarget=m,P=null,So(c)===u&&(x=new x(w,b+"enter",S,n,c),x.target=m,x.relatedTarget=A,P=x),A=P,_&&S)t:{for(x=_,w=S,b=0,m=x;m;m=wa(m))b++;for(m=0,P=w;P;P=wa(P))m++;for(;0<b-m;)x=wa(x),b--;for(;0<m-b;)w=wa(w),m--;for(;b--;){if(x===w||w!==null&&x===w.alternate)break t;x=wa(x),w=wa(w)}x=null}else x=null;_!==null&&lx(d,y,_,x,!1),S!==null&&A!==null&&lx(d,A,S,x,!0)}}e:{if(y=u?La(u):window,_=y.nodeName&&y.nodeName.toLowerCase(),_==="select"||_==="input"&&y.type==="file")var N=D3;else if(ex(y))if(MS)N=V3;else{N=U3;var D=B3}else(_=y.nodeName)&&_.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(N=F3);if(N&&(N=N(t,u))){NS(d,N,n,c);break e}D&&D(t,y,u),t==="focusout"&&(D=y._wrapperState)&&D.controlled&&y.type==="number"&&P0(y,"number",y.value)}switch(D=u?La(u):window,t){case"focusin":(ex(D)||D.contentEditable==="true")&&(Na=D,z0=u,ju=null);break;case"focusout":ju=z0=Na=null;break;case"mousedown":H0=!0;break;case"contextmenu":case"mouseup":case"dragend":H0=!1,sx(d,n,c);break;case"selectionchange":if(z3)break;case"keydown":case"keyup":sx(d,n,c)}var F;if(Fv)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Pa?RS(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(CS&&n.locale!=="ko"&&(Pa||V!=="onCompositionStart"?V==="onCompositionEnd"&&Pa&&(F=kS()):(Ps=c,Dv="value"in Ps?Ps.value:Ps.textContent,Pa=!0)),D=$d(u,V),0<D.length&&(V=new Yw(V,t,null,n,c),d.push({event:V,listeners:D}),F?V.data=F:(F=PS(n),F!==null&&(V.data=F)))),(F=P3?N3(t,n):M3(t,n))&&(u=$d(u,"onBeforeInput"),0<u.length&&(c=new Yw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=F))}zS(d,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $d(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ac(t,n),s!=null&&r.unshift(pc(t,s,i)),s=ac(t,e),s!=null&&r.push(pc(t,s,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ac(n,s),l!=null&&o.unshift(pc(n,l,a))):i||(l=ac(n,s),l!=null&&o.push(pc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var K3=/\r\n?/g,G3=/\u0000|\uFFFD/g;function ux(t){return(typeof t=="string"?t:""+t).replace(K3,`
`).replace(G3,"")}function Lh(t,e,n){if(e=ux(e),ux(t)!==e&&n)throw Error(re(425))}function jd(){}var q0=null,W0=null;function K0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,Q3=typeof clearTimeout=="function"?clearTimeout:void 0,cx=typeof Promise=="function"?Promise:void 0,Y3=typeof queueMicrotask=="function"?queueMicrotask:typeof cx<"u"?function(t){return cx.resolve(null).then(t).catch(X3)}:G0;function X3(t){setTimeout(function(){throw t})}function Kg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cc(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),mi="__reactFiber$"+Fl,gc="__reactProps$"+Fl,ns="__reactContainer$"+Fl,Q0="__reactEvents$"+Fl,J3="__reactListeners$"+Fl,Z3="__reactHandles$"+Fl;function So(t){var e=t[mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ns]||n[mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hx(t);t!==null;){if(n=t[mi])return n;t=hx(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[mi]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Yf(t){return t[gc]||null}var Y0=[],Oa=-1;function so(t){return{current:t}}function ft(t){0>Oa||(t.current=Y0[Oa],Y0[Oa]=null,Oa--)}function lt(t,e){Oa++,Y0[Oa]=t.current,t.current=e}var Xs={},Hn=so(Xs),ur=so(!1),jo=Xs;function ll(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cr(t){return t=t.childContextTypes,t!=null}function zd(){ft(ur),ft(Hn)}function dx(t,e,n){if(Hn.current!==Xs)throw Error(re(168));lt(Hn,e),lt(ur,n)}function qS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,BP(t)||"Unknown",i));return bt({},n,r)}function Hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,jo=Hn.current,lt(Hn,t),lt(ur,ur.current),!0}function fx(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=qS(t,e,jo),r.__reactInternalMemoizedMergedChildContext=t,ft(ur),ft(Hn),lt(Hn,t)):ft(ur),lt(ur,n)}var zi=null,Xf=!1,Gg=!1;function WS(t){zi===null?zi=[t]:zi.push(t)}function eN(t){Xf=!0,WS(t)}function oo(){if(!Gg&&zi!==null){Gg=!0;var t=0,e=nt;try{var n=zi;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zi=null,Xf=!1}catch(i){throw zi!==null&&(zi=zi.slice(t+1)),yS(Nv,oo),i}finally{nt=e,Gg=!1}}return null}var Da=[],Ba=0,qd=null,Wd=0,Br=[],Ur=0,zo=null,Wi=1,Ki="";function yo(t,e){Da[Ba++]=Wd,Da[Ba++]=qd,qd=t,Wd=e}function KS(t,e,n){Br[Ur++]=Wi,Br[Ur++]=Ki,Br[Ur++]=zo,zo=t;var r=Wi;t=Ki;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var s=32-ti(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wi=1<<32-ti(e)+i|n<<i|r,Ki=s+t}else Wi=1<<s|n<<i|r,Ki=t}function $v(t){t.return!==null&&(yo(t,1),KS(t,1,0))}function jv(t){for(;t===qd;)qd=Da[--Ba],Da[Ba]=null,Wd=Da[--Ba],Da[Ba]=null;for(;t===zo;)zo=Br[--Ur],Br[Ur]=null,Ki=Br[--Ur],Br[Ur]=null,Wi=Br[--Ur],Br[Ur]=null}var wr=null,yr=null,yt=!1,Zr=null;function GS(t,e){var n=$r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function px(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,yr=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zo!==null?{id:Wi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,yr=null,!0):!1;default:return!1}}function X0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function J0(t){if(yt){var e=yr;if(e){var n=e;if(!px(t,e)){if(X0(t))throw Error(re(418));e=Vs(n.nextSibling);var r=wr;e&&px(t,e)?GS(r,n):(t.flags=t.flags&-4097|2,yt=!1,wr=t)}}else{if(X0(t))throw Error(re(418));t.flags=t.flags&-4097|2,yt=!1,wr=t}}}function gx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function Oh(t){if(t!==wr)return!1;if(!yt)return gx(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!K0(t.type,t.memoizedProps)),e&&(e=yr)){if(X0(t))throw QS(),Error(re(418));for(;e;)GS(t,e),e=Vs(e.nextSibling)}if(gx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yr=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yr=null}}else yr=wr?Vs(t.stateNode.nextSibling):null;return!0}function QS(){for(var t=yr;t;)t=Vs(t.nextSibling)}function ul(){yr=wr=null,yt=!1}function zv(t){Zr===null?Zr=[t]:Zr.push(t)}var tN=cs.ReactCurrentBatchConfig;function Xr(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Kd=so(null),Gd=null,Ua=null,Hv=null;function qv(){Hv=Ua=Gd=null}function Wv(t){var e=Kd.current;ft(Kd),t._currentValue=e}function Z0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qa(t,e){Gd=t,Hv=Ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},Ua===null){if(Gd===null)throw Error(re(308));Ua=t,Gd.dependencies={lanes:0,firstContext:t}}else Ua=Ua.next=t;return e}var Io=null;function Kv(t){Io===null?Io=[t]:Io.push(t)}function YS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kv(e)):(n.next=i.next,i.next=n),e.interleaved=n,rs(t,r)}function rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ss=!1;function Gv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rs(t,n)}return i=r.interleaved,i===null?(e.next=e,Kv(r)):(e.next=i.next,i.next=e),r.interleaved=e,rs(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}function mx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qd(t,e,n,r){var i=t.updateQueue;Ss=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var y=a.lane,_=a.eventTime;if((r&y)===y){c!==null&&(c=c.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,x=a;switch(y=e,_=n,x.tag){case 1:if(S=x.payload,typeof S=="function"){d=S.call(_,d,y);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,y=typeof S=="function"?S.call(_,d,y):S,y==null)break e;d=bt({},d,y);break e;case 2:Ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else _={eventTime:_,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=_,l=d):c=c.next=_,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qo|=o,t.lanes=o,t.memoizedState=d}}function yx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var JS=new Y2.Component().refs;function ey(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jf={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zn(),i=zs(t),s=Ji(r,i);s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(ni(e,t,i,r),pd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zn(),i=zs(t),s=Ji(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(ni(e,t,i,r),pd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zn(),r=zs(t),i=Ji(n,r);i.tag=2,e!=null&&(i.callback=e),e=$s(t,i,r),e!==null&&(ni(e,t,r,n),pd(e,t,r))}};function vx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(i,s):!0}function ZS(t,e,n){var r=!1,i=Xs,s=e.contextType;return typeof s=="object"&&s!==null?s=Hr(s):(i=cr(e)?jo:Hn.current,r=e.contextTypes,s=(r=r!=null)?ll(t,i):Xs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _x(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jf.enqueueReplaceState(e,e.state,null)}function ty(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=JS,Gv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hr(s):(s=cr(e)?jo:Hn.current,i.context=ll(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ey(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jf.enqueueReplaceState(i,i.state,null),Qd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===JS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Dh(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wx(t){var e=t._init;return e(t._payload)}function eI(t){function e(w,b){if(t){var m=w.deletions;m===null?(w.deletions=[b],w.flags|=16):m.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Hs(w,b),w.index=0,w.sibling=null,w}function s(w,b,m){return w.index=m,t?(m=w.alternate,m!==null?(m=m.index,m<b?(w.flags|=2,b):m):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,m,P){return b===null||b.tag!==6?(b=tm(m,w.mode,P),b.return=w,b):(b=i(b,m),b.return=w,b)}function l(w,b,m,P){var N=m.type;return N===Ra?c(w,b,m.props.children,P,m.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bs&&wx(N)===b.type)?(P=i(b,m.props),P.ref=hu(w,b,m),P.return=w,P):(P=wd(m.type,m.key,m.props,null,w.mode,P),P.ref=hu(w,b,m),P.return=w,P)}function u(w,b,m,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==m.containerInfo||b.stateNode.implementation!==m.implementation?(b=nm(m,w.mode,P),b.return=w,b):(b=i(b,m.children||[]),b.return=w,b)}function c(w,b,m,P,N){return b===null||b.tag!==7?(b=Mo(m,w.mode,P,N),b.return=w,b):(b=i(b,m),b.return=w,b)}function d(w,b,m){if(typeof b=="string"&&b!==""||typeof b=="number")return b=tm(""+b,w.mode,m),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ih:return m=wd(b.type,b.key,b.props,null,w.mode,m),m.ref=hu(w,null,b),m.return=w,m;case Ca:return b=nm(b,w.mode,m),b.return=w,b;case bs:var P=b._init;return d(w,P(b._payload),m)}if(Iu(b)||ou(b))return b=Mo(b,w.mode,m,null),b.return=w,b;Dh(w,b)}return null}function y(w,b,m,P){var N=b!==null?b.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:a(w,b,""+m,P);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ih:return m.key===N?l(w,b,m,P):null;case Ca:return m.key===N?u(w,b,m,P):null;case bs:return N=m._init,y(w,b,N(m._payload),P)}if(Iu(m)||ou(m))return N!==null?null:c(w,b,m,P,null);Dh(w,m)}return null}function _(w,b,m,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(m)||null,a(b,w,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ih:return w=w.get(P.key===null?m:P.key)||null,l(b,w,P,N);case Ca:return w=w.get(P.key===null?m:P.key)||null,u(b,w,P,N);case bs:var D=P._init;return _(w,b,m,D(P._payload),N)}if(Iu(P)||ou(P))return w=w.get(m)||null,c(b,w,P,N,null);Dh(b,P)}return null}function S(w,b,m,P){for(var N=null,D=null,F=b,V=b=0,G=null;F!==null&&V<m.length;V++){F.index>V?(G=F,F=null):G=F.sibling;var Y=y(w,F,m[V],P);if(Y===null){F===null&&(F=G);break}t&&F&&Y.alternate===null&&e(w,F),b=s(Y,b,V),D===null?N=Y:D.sibling=Y,D=Y,F=G}if(V===m.length)return n(w,F),yt&&yo(w,V),N;if(F===null){for(;V<m.length;V++)F=d(w,m[V],P),F!==null&&(b=s(F,b,V),D===null?N=F:D.sibling=F,D=F);return yt&&yo(w,V),N}for(F=r(w,F);V<m.length;V++)G=_(F,w,V,m[V],P),G!==null&&(t&&G.alternate!==null&&F.delete(G.key===null?V:G.key),b=s(G,b,V),D===null?N=G:D.sibling=G,D=G);return t&&F.forEach(function(Q){return e(w,Q)}),yt&&yo(w,V),N}function x(w,b,m,P){var N=ou(m);if(typeof N!="function")throw Error(re(150));if(m=N.call(m),m==null)throw Error(re(151));for(var D=N=null,F=b,V=b=0,G=null,Y=m.next();F!==null&&!Y.done;V++,Y=m.next()){F.index>V?(G=F,F=null):G=F.sibling;var Q=y(w,F,Y.value,P);if(Q===null){F===null&&(F=G);break}t&&F&&Q.alternate===null&&e(w,F),b=s(Q,b,V),D===null?N=Q:D.sibling=Q,D=Q,F=G}if(Y.done)return n(w,F),yt&&yo(w,V),N;if(F===null){for(;!Y.done;V++,Y=m.next())Y=d(w,Y.value,P),Y!==null&&(b=s(Y,b,V),D===null?N=Y:D.sibling=Y,D=Y);return yt&&yo(w,V),N}for(F=r(w,F);!Y.done;V++,Y=m.next())Y=_(F,w,V,Y.value,P),Y!==null&&(t&&Y.alternate!==null&&F.delete(Y.key===null?V:Y.key),b=s(Y,b,V),D===null?N=Y:D.sibling=Y,D=Y);return t&&F.forEach(function(ce){return e(w,ce)}),yt&&yo(w,V),N}function A(w,b,m,P){if(typeof m=="object"&&m!==null&&m.type===Ra&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ih:e:{for(var N=m.key,D=b;D!==null;){if(D.key===N){if(N=m.type,N===Ra){if(D.tag===7){n(w,D.sibling),b=i(D,m.props.children),b.return=w,w=b;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===bs&&wx(N)===D.type){n(w,D.sibling),b=i(D,m.props),b.ref=hu(w,D,m),b.return=w,w=b;break e}n(w,D);break}else e(w,D);D=D.sibling}m.type===Ra?(b=Mo(m.props.children,w.mode,P,m.key),b.return=w,w=b):(P=wd(m.type,m.key,m.props,null,w.mode,P),P.ref=hu(w,b,m),P.return=w,w=P)}return o(w);case Ca:e:{for(D=m.key;b!==null;){if(b.key===D)if(b.tag===4&&b.stateNode.containerInfo===m.containerInfo&&b.stateNode.implementation===m.implementation){n(w,b.sibling),b=i(b,m.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=nm(m,w.mode,P),b.return=w,w=b}return o(w);case bs:return D=m._init,A(w,b,D(m._payload),P)}if(Iu(m))return S(w,b,m,P);if(ou(m))return x(w,b,m,P);Dh(w,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,m),b.return=w,w=b):(n(w,b),b=tm(m,w.mode,P),b.return=w,w=b),o(w)):n(w,b)}return A}var cl=eI(!0),tI=eI(!1),Qc={},Ii=so(Qc),mc=so(Qc),yc=so(Qc);function Ao(t){if(t===Qc)throw Error(re(174));return t}function Qv(t,e){switch(lt(yc,e),lt(mc,t),lt(Ii,Qc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=M0(e,t)}ft(Ii),lt(Ii,e)}function hl(){ft(Ii),ft(mc),ft(yc)}function nI(t){Ao(yc.current);var e=Ao(Ii.current),n=M0(e,t.type);e!==n&&(lt(mc,t),lt(Ii,n))}function Yv(t){mc.current===t&&(ft(Ii),ft(mc))}var vt=so(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qg=[];function Xv(){for(var t=0;t<Qg.length;t++)Qg[t]._workInProgressVersionPrimary=null;Qg.length=0}var gd=cs.ReactCurrentDispatcher,Yg=cs.ReactCurrentBatchConfig,Ho=0,xt=null,on=null,hn=null,Xd=!1,zu=!1,vc=0,nN=0;function Pn(){throw Error(re(321))}function Jv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function Zv(t,e,n,r,i,s){if(Ho=s,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gd.current=t===null||t.memoizedState===null?oN:aN,t=n(r,i),zu){s=0;do{if(zu=!1,vc=0,25<=s)throw Error(re(301));s+=1,hn=on=null,e.updateQueue=null,gd.current=lN,t=n(r,i)}while(zu)}if(gd.current=Jd,e=on!==null&&on.next!==null,Ho=0,hn=on=xt=null,Xd=!1,e)throw Error(re(300));return t}function e1(){var t=vc!==0;return vc=0,t}function gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?xt.memoizedState=hn=t:hn=hn.next=t,hn}function qr(){if(on===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=hn===null?xt.memoizedState:hn.next;if(e!==null)hn=e,on=t;else{if(t===null)throw Error(re(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?xt.memoizedState=hn=t:hn=hn.next=t}return hn}function _c(t,e){return typeof e=="function"?e(t):e}function Xg(t){var e=qr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=on,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ho&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,xt.lanes|=c,qo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ai(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xt.lanes|=s,qo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jg(t){var e=qr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ai(s,e.memoizedState)||(lr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rI(){}function iI(t,e){var n=xt,r=qr(),i=e(),s=!ai(r.memoizedState,i);if(s&&(r.memoizedState=i,lr=!0),r=r.queue,t1(aI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,wc(9,oI.bind(null,n,r,i,e),void 0,null),pn===null)throw Error(re(349));Ho&30||sI(n,e,i)}return i}function sI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oI(t,e,n,r){e.value=n,e.getSnapshot=r,lI(e)&&uI(t)}function aI(t,e,n){return n(function(){lI(e)&&uI(t)})}function lI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch{return!0}}function uI(t){var e=rs(t,1);e!==null&&ni(e,t,1,-1)}function xx(t){var e=gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:t},e.queue=t,t=t.dispatch=sN.bind(null,xt,t),[e.memoizedState,t]}function wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cI(){return qr().memoizedState}function md(t,e,n,r){var i=gi();xt.flags|=t,i.memoizedState=wc(1|e,n,void 0,r===void 0?null:r)}function Zf(t,e,n,r){var i=qr();r=r===void 0?null:r;var s=void 0;if(on!==null){var o=on.memoizedState;if(s=o.destroy,r!==null&&Jv(r,o.deps)){i.memoizedState=wc(e,n,s,r);return}}xt.flags|=t,i.memoizedState=wc(1|e,n,s,r)}function Ex(t,e){return md(8390656,8,t,e)}function t1(t,e){return Zf(2048,8,t,e)}function hI(t,e){return Zf(4,2,t,e)}function dI(t,e){return Zf(4,4,t,e)}function fI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pI(t,e,n){return n=n!=null?n.concat([t]):null,Zf(4,4,fI.bind(null,e,t),n)}function n1(){}function gI(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mI(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yI(t,e,n){return Ho&21?(ai(n,e)||(n=wS(),xt.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function rN(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Yg.transition;Yg.transition={};try{t(!1),e()}finally{nt=n,Yg.transition=r}}function vI(){return qr().memoizedState}function iN(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_I(t))wI(e,n);else if(n=YS(t,e,n,r),n!==null){var i=Zn();ni(n,t,r,i),xI(n,e,r)}}function sN(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_I(t))wI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ai(a,o)){var l=e.interleaved;l===null?(i.next=i,Kv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=YS(t,e,i,r),n!==null&&(i=Zn(),ni(n,t,r,i),xI(n,e,r))}}function _I(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function wI(t,e){zu=Xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mv(t,n)}}var Jd={readContext:Hr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},oN={readContext:Hr,useCallback:function(t,e){return gi().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:Ex,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,md(4194308,4,fI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return md(4194308,4,t,e)},useInsertionEffect:function(t,e){return md(4,2,t,e)},useMemo:function(t,e){var n=gi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iN.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=gi();return t={current:t},e.memoizedState=t},useState:xx,useDebugValue:n1,useDeferredValue:function(t){return gi().memoizedState=t},useTransition:function(){var t=xx(!1),e=t[0];return t=rN.bind(null,t[1]),gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,i=gi();if(yt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),pn===null)throw Error(re(349));Ho&30||sI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ex(aI.bind(null,r,s,t),[t]),r.flags|=2048,wc(9,oI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gi(),e=pn.identifierPrefix;if(yt){var n=Ki,r=Wi;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aN={readContext:Hr,useCallback:gI,useContext:Hr,useEffect:t1,useImperativeHandle:pI,useInsertionEffect:hI,useLayoutEffect:dI,useMemo:mI,useReducer:Xg,useRef:cI,useState:function(){return Xg(_c)},useDebugValue:n1,useDeferredValue:function(t){var e=qr();return yI(e,on.memoizedState,t)},useTransition:function(){var t=Xg(_c)[0],e=qr().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:iI,useId:vI,unstable_isNewReconciler:!1},lN={readContext:Hr,useCallback:gI,useContext:Hr,useEffect:t1,useImperativeHandle:pI,useInsertionEffect:hI,useLayoutEffect:dI,useMemo:mI,useReducer:Jg,useRef:cI,useState:function(){return Jg(_c)},useDebugValue:n1,useDeferredValue:function(t){var e=qr();return on===null?e.memoizedState=t:yI(e,on.memoizedState,t)},useTransition:function(){var t=Jg(_c)[0],e=qr().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:iI,useId:vI,unstable_isNewReconciler:!1};function dl(t,e){try{var n="",r=e;do n+=DP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ny(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uN=typeof WeakMap=="function"?WeakMap:Map;function EI(t,e,n){n=Ji(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ef||(ef=!0,dy=r),ny(t,e)},n}function bI(t,e,n){n=Ji(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ny(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ny(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bN.bind(null,t,e,n),e.then(t,t))}function Sx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ix(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ji(-1,1),e.tag=2,$s(n,e,1))),n.lanes|=1),t)}var cN=cs.ReactCurrentOwner,lr=!1;function Gn(t,e,n,r){e.child=t===null?tI(e,null,n,r):cl(e,t.child,n,r)}function Ax(t,e,n,r,i){n=n.render;var s=e.ref;return Qa(e,i),r=Zv(t,e,n,r,s,i),n=e1(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,is(t,e,i)):(yt&&n&&$v(e),e.flags|=1,Gn(t,e,r,i),e.child)}function Tx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!c1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SI(t,e,s,r,i)):(t=wd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(o,r)&&t.ref===e.ref)return is(t,e,i)}return e.flags|=1,t=Hs(s,r),t.ref=e.ref,t.return=e,e.child=t}function SI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dc(s,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,is(t,e,i)}return ry(t,e,n,r,i)}function II(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Va,gr),gr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Va,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt(Va,gr),gr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt(Va,gr),gr|=r;return Gn(t,e,i,n),e.child}function AI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ry(t,e,n,r,i){var s=cr(n)?jo:Hn.current;return s=ll(e,s),Qa(e,i),n=Zv(t,e,n,r,s,i),r=e1(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,is(t,e,i)):(yt&&r&&$v(e),e.flags|=1,Gn(t,e,n,i),e.child)}function kx(t,e,n,r,i){if(cr(n)){var s=!0;Hd(e)}else s=!1;if(Qa(e,i),e.stateNode===null)yd(t,e),ZS(e,n,r),ty(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hr(u):(u=cr(n)?jo:Hn.current,u=ll(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_x(e,o,r,u),Ss=!1;var y=e.memoizedState;o.state=y,Qd(e,r,o,i),l=e.memoizedState,a!==r||y!==l||ur.current||Ss?(typeof c=="function"&&(ey(e,n,c,r),l=e.memoizedState),(a=Ss||vx(e,n,a,r,y,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xr(e.type,a),o.props=u,d=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hr(l):(l=cr(n)?jo:Hn.current,l=ll(e,l));var _=n.getDerivedStateFromProps;(c=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||y!==l)&&_x(e,o,r,l),Ss=!1,y=e.memoizedState,o.state=y,Qd(e,r,o,i);var S=e.memoizedState;a!==d||y!==S||ur.current||Ss?(typeof _=="function"&&(ey(e,n,_,r),S=e.memoizedState),(u=Ss||vx(e,n,u,r,y,S,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return iy(t,e,n,r,s,i)}function iy(t,e,n,r,i,s){AI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fx(e,n,!1),is(t,e,s);r=e.stateNode,cN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cl(e,t.child,null,s),e.child=cl(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&fx(e,n,!0),e.child}function TI(t){var e=t.stateNode;e.pendingContext?dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dx(t,e.context,!1),Qv(t,e.containerInfo)}function Cx(t,e,n,r,i){return ul(),zv(i),e.flags|=256,Gn(t,e,n,r),e.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function oy(t){return{baseLanes:t,cachePool:null,transitions:null}}function kI(t,e,n){var r=e.pendingProps,i=vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(vt,i&1),t===null)return J0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=np(o,r,0,null),t=Mo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=oy(n),e.memoizedState=sy,t):r1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hs(a,s):(s=Mo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?oy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sy,r}return s=t.child,t=s.sibling,r=Hs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function r1(t,e){return e=np({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bh(t,e,n,r){return r!==null&&zv(r),cl(e,t.child,null,n),t=r1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Zg(Error(re(422))),Bh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=np({mode:"visible",children:r.children},i,0,null),s=Mo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cl(e,t.child,null,o),e.child.memoizedState=oy(o),e.memoizedState=sy,s);if(!(e.mode&1))return Bh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(re(419)),r=Zg(s,r,void 0),Bh(t,e,o,r)}if(a=(o&t.childLanes)!==0,lr||a){if(r=pn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rs(t,i),ni(r,t,i,-1))}return u1(),r=Zg(Error(re(421))),Bh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yr=Vs(i.nextSibling),wr=e,yt=!0,Zr=null,t!==null&&(Br[Ur++]=Wi,Br[Ur++]=Ki,Br[Ur++]=zo,Wi=t.id,Ki=t.overflow,zo=e),e=r1(e,r.children),e.flags|=4096,e)}function Rx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Z0(t.return,e,n)}function em(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function CI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rx(t,n,e);else if(t.tag===19)Rx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),em(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}em(e,!0,n,null,s);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dN(t,e,n){switch(e.tag){case 3:TI(e),ul();break;case 5:nI(e);break;case 1:cr(e.type)&&Hd(e);break;case 4:Qv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(Kd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?kI(t,e,n):(lt(vt,vt.current&1),t=is(t,e,n),t!==null?t.sibling:null);lt(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,II(t,e,n)}return is(t,e,n)}var RI,ay,PI,NI;RI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ay=function(){};PI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ao(Ii.current);var s=null;switch(n){case"input":i=C0(t,i),r=C0(t,r),s=[];break;case"select":i=bt({},i,{value:void 0}),r=bt({},r,{value:void 0}),s=[];break;case"textarea":i=N0(t,i),r=N0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jd)}L0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NI=function(t,e,n,r){n!==r&&(e.flags|=4)};function du(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fN(t,e,n){var r=e.pendingProps;switch(jv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return cr(e.type)&&zd(),Nn(e),null;case 3:return r=e.stateNode,hl(),ft(ur),ft(Hn),Xv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zr!==null&&(gy(Zr),Zr=null))),ay(t,e),Nn(e),null;case 5:Yv(e);var i=Ao(yc.current);if(n=e.type,t!==null&&e.stateNode!=null)PI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Nn(e),null}if(t=Ao(Ii.current),Oh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mi]=e,r[gc]=s,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(i=0;i<Tu.length;i++)ct(Tu[i],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":Fw(r,s),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ct("invalid",r);break;case"textarea":$w(r,s),ct("invalid",r)}L0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lh(r.textContent,a,t),i=["children",""+a]):sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":Ah(r),Vw(r,s,!0);break;case"textarea":Ah(r),jw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mi]=e,t[gc]=r,RI(t,e,!1,!1),e.stateNode=t;e:{switch(o=O0(n,r),n){case"dialog":ct("cancel",t),ct("close",t),i=r;break;case"iframe":case"object":case"embed":ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tu.length;i++)ct(Tu[i],t);i=r;break;case"source":ct("error",t),i=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=r;break;case"details":ct("toggle",t),i=r;break;case"input":Fw(t,r),i=C0(t,r),ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=bt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":$w(t,r),i=N0(t,r),ct("invalid",t);break;default:i=r}L0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oc(t,l):typeof l=="number"&&oc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",t):l!=null&&Tv(t,s,l,o))}switch(n){case"input":Ah(t),Vw(t,r,!1);break;case"textarea":Ah(t),jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ys(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qa(t,!!r.multiple,s,!1):r.defaultValue!=null&&qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)NI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=Ao(yc.current),Ao(Ii.current),Oh(e)){if(r=e.stateNode,n=e.memoizedProps,r[mi]=e,(s=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:Lh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mi]=e,e.stateNode=r}return Nn(e),null;case 13:if(ft(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&yr!==null&&e.mode&1&&!(e.flags&128))QS(),ul(),e.flags|=98560,s=!1;else if(s=Oh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[mi]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),s=!1}else Zr!==null&&(gy(Zr),Zr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?ln===0&&(ln=3):u1())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return hl(),ay(t,e),t===null&&fc(e.stateNode.containerInfo),Nn(e),null;case 10:return Wv(e.type._context),Nn(e),null;case 17:return cr(e.type)&&zd(),Nn(e),null;case 19:if(ft(vt),s=e.memoizedState,s===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)du(s,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yd(t),o!==null){for(e.flags|=128,du(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(vt,vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Lt()>fl&&(e.flags|=128,r=!0,du(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),du(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yt)return Nn(e),null}else 2*Lt()-s.renderingStartTime>fl&&n!==1073741824&&(e.flags|=128,r=!0,du(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Lt(),e.sibling=null,n=vt.current,lt(vt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return l1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function pN(t,e){switch(jv(e),e.tag){case 1:return cr(e.type)&&zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hl(),ft(ur),ft(Hn),Xv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yv(e),null;case 13:if(ft(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(vt),null;case 4:return hl(),null;case 10:return Wv(e.type._context),null;case 22:case 23:return l1(),null;case 24:return null;default:return null}}var Uh=!1,Vn=!1,gN=typeof WeakSet=="function"?WeakSet:Set,de=null;function Fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,e,r)}else n.current=null}function ly(t,e,n){try{n()}catch(r){kt(t,e,r)}}var Px=!1;function mN(t,e){if(q0=Fd,t=DS(),Vv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,y=null;t:for(;;){for(var _;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(_=d.firstChild)!==null;)y=d,d=_;for(;;){if(d===t)break t;if(y===n&&++u===i&&(a=o),y===s&&++c===r&&(l=o),(_=d.nextSibling)!==null)break;d=y,y=d.parentNode}d=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(W0={focusedElem:t,selectionRange:n},Fd=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,A=S.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Xr(e.type,x),A);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(P){kt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return S=Px,Px=!1,S}function Hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ly(e,n,s)}i=i.next}while(i!==r)}}function ep(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MI(t){var e=t.alternate;e!==null&&(t.alternate=null,MI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mi],delete e[gc],delete e[Q0],delete e[J3],delete e[Z3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LI(t){return t.tag===5||t.tag===3||t.tag===4}function Nx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jd));else if(r!==4&&(t=t.child,t!==null))for(cy(t,e,n),t=t.sibling;t!==null;)cy(t,e,n),t=t.sibling}function hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}var wn=null,Jr=!1;function fs(t,e,n){for(n=n.child;n!==null;)OI(t,e,n),n=n.sibling}function OI(t,e,n){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(Wf,n)}catch{}switch(n.tag){case 5:Vn||Fa(n,e);case 6:var r=wn,i=Jr;wn=null,fs(t,e,n),wn=r,Jr=i,wn!==null&&(Jr?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(Jr?(t=wn,n=n.stateNode,t.nodeType===8?Kg(t.parentNode,n):t.nodeType===1&&Kg(t,n),cc(t)):Kg(wn,n.stateNode));break;case 4:r=wn,i=Jr,wn=n.stateNode.containerInfo,Jr=!0,fs(t,e,n),wn=r,Jr=i;break;case 0:case 11:case 14:case 15:if(!Vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ly(n,e,o),i=i.next}while(i!==r)}fs(t,e,n);break;case 1:if(!Vn&&(Fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kt(n,e,a)}fs(t,e,n);break;case 21:fs(t,e,n);break;case 22:n.mode&1?(Vn=(r=Vn)||n.memoizedState!==null,fs(t,e,n),Vn=r):fs(t,e,n);break;default:fs(t,e,n)}}function Mx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gN),e.forEach(function(r){var i=IN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,Jr=!1;break e;case 3:wn=a.stateNode.containerInfo,Jr=!0;break e;case 4:wn=a.stateNode.containerInfo,Jr=!0;break e}a=a.return}if(wn===null)throw Error(re(160));OI(s,o,i),wn=null,Jr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){kt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DI(e,t),e=e.sibling}function DI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kr(e,t),di(t),r&4){try{Hu(3,t,t.return),ep(3,t)}catch(x){kt(t,t.return,x)}try{Hu(5,t,t.return)}catch(x){kt(t,t.return,x)}}break;case 1:Kr(e,t),di(t),r&512&&n!==null&&Fa(n,n.return);break;case 5:if(Kr(e,t),di(t),r&512&&n!==null&&Fa(n,n.return),t.flags&32){var i=t.stateNode;try{oc(i,"")}catch(x){kt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rS(i,s),O0(a,o);var u=O0(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?lS(i,d):c==="dangerouslySetInnerHTML"?oS(i,d):c==="children"?oc(i,d):Tv(i,c,d,u)}switch(a){case"input":R0(i,s);break;case"textarea":iS(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?qa(i,!!s.multiple,_,!1):y!==!!s.multiple&&(s.defaultValue!=null?qa(i,!!s.multiple,s.defaultValue,!0):qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[gc]=s}catch(x){kt(t,t.return,x)}}break;case 6:if(Kr(e,t),di(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){kt(t,t.return,x)}}break;case 3:if(Kr(e,t),di(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cc(e.containerInfo)}catch(x){kt(t,t.return,x)}break;case 4:Kr(e,t),di(t);break;case 13:Kr(e,t),di(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(o1=Lt())),r&4&&Mx(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Vn=(u=Vn)||c,Kr(e,t),Vn=u):Kr(e,t),di(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(de=t,c=t.child;c!==null;){for(d=de=c;de!==null;){switch(y=de,_=y.child,y.tag){case 0:case 11:case 14:case 15:Hu(4,y,y.return);break;case 1:Fa(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(x){kt(r,n,x)}}break;case 5:Fa(y,y.return);break;case 22:if(y.memoizedState!==null){Ox(d);continue}}_!==null?(_.return=y,de=_):Ox(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aS("display",o))}catch(x){kt(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){kt(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kr(e,t),di(t),r&4&&Mx(t);break;case 21:break;default:Kr(e,t),di(t)}}function di(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LI(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oc(i,""),r.flags&=-33);var s=Nx(t);hy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nx(t);cy(t,a,o);break;default:throw Error(re(161))}}catch(l){kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yN(t,e,n){de=t,BI(t)}function BI(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Uh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vn;a=Uh;var u=Vn;if(Uh=o,(Vn=l)&&!u)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?Dx(i):l!==null?(l.return=o,de=l):Dx(i);for(;s!==null;)de=s,BI(s),s=s.sibling;de=i,Uh=a,Vn=u}Lx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):Lx(t)}}function Lx(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vn||ep(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&cc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Vn||e.flags&512&&uy(e)}catch(y){kt(e,e.return,y)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Ox(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Dx(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ep(4,e)}catch(l){kt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){kt(e,i,l)}}var s=e.return;try{uy(e)}catch(l){kt(e,s,l)}break;case 5:var o=e.return;try{uy(e)}catch(l){kt(e,o,l)}}}catch(l){kt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var vN=Math.ceil,Zd=cs.ReactCurrentDispatcher,i1=cs.ReactCurrentOwner,jr=cs.ReactCurrentBatchConfig,Ke=0,pn=null,tn=null,Tn=0,gr=0,Va=so(0),ln=0,xc=null,qo=0,tp=0,s1=0,qu=null,sr=null,o1=0,fl=1/0,ji=null,ef=!1,dy=null,js=null,Fh=!1,Ns=null,tf=0,Wu=0,fy=null,vd=-1,_d=0;function Zn(){return Ke&6?Lt():vd!==-1?vd:vd=Lt()}function zs(t){return t.mode&1?Ke&2&&Tn!==0?Tn&-Tn:tN.transition!==null?(_d===0&&(_d=wS()),_d):(t=nt,t!==0||(t=window.event,t=t===void 0?16:TS(t.type)),t):1}function ni(t,e,n,r){if(50<Wu)throw Wu=0,fy=null,Error(re(185));Wc(t,n,r),(!(Ke&2)||t!==pn)&&(t===pn&&(!(Ke&2)&&(tp|=n),ln===4&&As(t,Tn)),hr(t,r),n===1&&Ke===0&&!(e.mode&1)&&(fl=Lt()+500,Xf&&oo()))}function hr(t,e){var n=t.callbackNode;t3(t,e);var r=Ud(t,t===pn?Tn:0);if(r===0)n!==null&&qw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qw(n),e===1)t.tag===0?eN(Bx.bind(null,t)):WS(Bx.bind(null,t)),Y3(function(){!(Ke&6)&&oo()}),n=null;else{switch(xS(r)){case 1:n=Nv;break;case 4:n=vS;break;case 16:n=Bd;break;case 536870912:n=_S;break;default:n=Bd}n=qI(n,UI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UI(t,e){if(vd=-1,_d=0,Ke&6)throw Error(re(327));var n=t.callbackNode;if(Ya()&&t.callbackNode!==n)return null;var r=Ud(t,t===pn?Tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nf(t,r);else{e=r;var i=Ke;Ke|=2;var s=VI();(pn!==t||Tn!==e)&&(ji=null,fl=Lt()+500,No(t,e));do try{xN();break}catch(a){FI(t,a)}while(1);qv(),Zd.current=s,Ke=i,tn!==null?e=0:(pn=null,Tn=0,e=ln)}if(e!==0){if(e===2&&(i=V0(t),i!==0&&(r=i,e=py(t,i))),e===1)throw n=xc,No(t,0),As(t,r),hr(t,Lt()),n;if(e===6)As(t,r);else{if(i=t.current.alternate,!(r&30)&&!_N(i)&&(e=nf(t,r),e===2&&(s=V0(t),s!==0&&(r=s,e=py(t,s))),e===1))throw n=xc,No(t,0),As(t,r),hr(t,Lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:vo(t,sr,ji);break;case 3:if(As(t,r),(r&130023424)===r&&(e=o1+500-Lt(),10<e)){if(Ud(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=G0(vo.bind(null,t,sr,ji),e);break}vo(t,sr,ji);break;case 4:if(As(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ti(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vN(r/1960))-r,10<r){t.timeoutHandle=G0(vo.bind(null,t,sr,ji),r);break}vo(t,sr,ji);break;case 5:vo(t,sr,ji);break;default:throw Error(re(329))}}}return hr(t,Lt()),t.callbackNode===n?UI.bind(null,t):null}function py(t,e){var n=qu;return t.current.memoizedState.isDehydrated&&(No(t,e).flags|=256),t=nf(t,e),t!==2&&(e=sr,sr=n,e!==null&&gy(e)),t}function gy(t){sr===null?sr=t:sr.push.apply(sr,t)}function _N(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ai(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~s1,e&=~tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ti(e),r=1<<n;t[n]=-1,e&=~r}}function Bx(t){if(Ke&6)throw Error(re(327));Ya();var e=Ud(t,0);if(!(e&1))return hr(t,Lt()),null;var n=nf(t,e);if(t.tag!==0&&n===2){var r=V0(t);r!==0&&(e=r,n=py(t,r))}if(n===1)throw n=xc,No(t,0),As(t,e),hr(t,Lt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vo(t,sr,ji),hr(t,Lt()),null}function a1(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(fl=Lt()+500,Xf&&oo())}}function Wo(t){Ns!==null&&Ns.tag===0&&!(Ke&6)&&Ya();var e=Ke;Ke|=1;var n=jr.transition,r=nt;try{if(jr.transition=null,nt=1,t)return t()}finally{nt=r,jr.transition=n,Ke=e,!(Ke&6)&&oo()}}function l1(){gr=Va.current,ft(Va)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q3(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(jv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zd();break;case 3:hl(),ft(ur),ft(Hn),Xv();break;case 5:Yv(r);break;case 4:hl();break;case 13:ft(vt);break;case 19:ft(vt);break;case 10:Wv(r.type._context);break;case 22:case 23:l1()}n=n.return}if(pn=t,tn=t=Hs(t.current,null),Tn=gr=e,ln=0,xc=null,s1=tp=qo=0,sr=qu=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Io=null}return t}function FI(t,e){do{var n=tn;try{if(qv(),gd.current=Jd,Xd){for(var r=xt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xd=!1}if(Ho=0,hn=on=xt=null,zu=!1,vc=0,i1.current=null,n===null||n.return===null){ln=1,xc=e,tn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var y=c.alternate;y?(c.updateQueue=y.updateQueue,c.memoizedState=y.memoizedState,c.lanes=y.lanes):(c.updateQueue=null,c.memoizedState=null)}var _=Sx(o);if(_!==null){_.flags&=-257,Ix(_,o,a,s,e),_.mode&1&&bx(s,u,e),e=_,l=u;var S=e.updateQueue;if(S===null){var x=new Set;x.add(l),e.updateQueue=x}else S.add(l);break e}else{if(!(e&1)){bx(s,u,e),u1();break e}l=Error(re(426))}}else if(yt&&a.mode&1){var A=Sx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ix(A,o,a,s,e),zv(dl(l,a));break e}}s=l=dl(l,a),ln!==4&&(ln=2),qu===null?qu=[s]:qu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=EI(s,l,e);mx(s,w);break e;case 1:a=l;var b=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(js===null||!js.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=bI(s,a,e);mx(s,P);break e}}s=s.return}while(s!==null)}jI(n)}catch(N){e=N,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(1)}function VI(){var t=Zd.current;return Zd.current=Jd,t===null?Jd:t}function u1(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||!(qo&268435455)&&!(tp&268435455)||As(pn,Tn)}function nf(t,e){var n=Ke;Ke|=2;var r=VI();(pn!==t||Tn!==e)&&(ji=null,No(t,e));do try{wN();break}catch(i){FI(t,i)}while(1);if(qv(),Ke=n,Zd.current=r,tn!==null)throw Error(re(261));return pn=null,Tn=0,ln}function wN(){for(;tn!==null;)$I(tn)}function xN(){for(;tn!==null&&!WP();)$I(tn)}function $I(t){var e=HI(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?jI(t):tn=e,i1.current=null}function jI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pN(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,tn=null;return}}else if(n=fN(n,e,gr),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);ln===0&&(ln=5)}function vo(t,e,n){var r=nt,i=jr.transition;try{jr.transition=null,nt=1,EN(t,e,n,r)}finally{jr.transition=i,nt=r}return null}function EN(t,e,n,r){do Ya();while(Ns!==null);if(Ke&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(n3(t,s),t===pn&&(tn=pn=null,Tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fh||(Fh=!0,qI(Bd,function(){return Ya(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var o=nt;nt=1;var a=Ke;Ke|=4,i1.current=null,mN(t,n),DI(n,t),j3(W0),Fd=!!q0,W0=q0=null,t.current=n,yN(n),KP(),Ke=a,nt=o,jr.transition=s}else t.current=n;if(Fh&&(Fh=!1,Ns=t,tf=i),s=t.pendingLanes,s===0&&(js=null),YP(n.stateNode),hr(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ef)throw ef=!1,t=dy,dy=null,t;return tf&1&&t.tag!==0&&Ya(),s=t.pendingLanes,s&1?t===fy?Wu++:(Wu=0,fy=t):Wu=0,oo(),null}function Ya(){if(Ns!==null){var t=xS(tf),e=jr.transition,n=nt;try{if(jr.transition=null,nt=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,tf=0,Ke&6)throw Error(re(331));var i=Ke;for(Ke|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:Hu(8,c,s)}var d=c.child;if(d!==null)d.return=c,de=d;else for(;de!==null;){c=de;var y=c.sibling,_=c.return;if(MI(c),c===u){de=null;break}if(y!==null){y.return=_,de=y;break}de=_}}}var S=s.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,de=w;break e}de=s.return}}var b=t.current;for(de=b;de!==null;){o=de;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,de=m;else e:for(o=b;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ep(9,a)}}catch(N){kt(a,a.return,N)}if(a===o){de=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,de=P;break e}de=a.return}}if(Ke=i,oo(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(Wf,t)}catch{}r=!0}return r}finally{nt=n,jr.transition=e}}return!1}function Ux(t,e,n){e=dl(n,e),e=EI(t,e,1),t=$s(t,e,1),e=Zn(),t!==null&&(Wc(t,1,e),hr(t,e))}function kt(t,e,n){if(t.tag===3)Ux(t,t,n);else for(;e!==null;){if(e.tag===3){Ux(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=dl(n,t),t=bI(e,t,1),e=$s(e,t,1),t=Zn(),e!==null&&(Wc(e,1,t),hr(e,t));break}}e=e.return}}function bN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(Tn&n)===n&&(ln===4||ln===3&&(Tn&130023424)===Tn&&500>Lt()-o1?No(t,0):s1|=n),hr(t,e)}function zI(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=Zn();t=rs(t,e),t!==null&&(Wc(t,e,n),hr(t,n))}function SN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zI(t,n)}function IN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),zI(t,n)}var HI;HI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,dN(t,e,n);lr=!!(t.flags&131072)}else lr=!1,yt&&e.flags&1048576&&KS(e,Wd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yd(t,e),t=e.pendingProps;var i=ll(e,Hn.current);Qa(e,n),i=Zv(null,e,r,t,i,n);var s=e1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(r)?(s=!0,Hd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gv(e),i.updater=Jf,e.stateNode=i,i._reactInternals=e,ty(e,r,t,n),e=iy(null,e,r,!0,s,n)):(e.tag=0,yt&&s&&$v(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TN(r),t=Xr(r,t),i){case 0:e=ry(null,e,r,t,n);break e;case 1:e=kx(null,e,r,t,n);break e;case 11:e=Ax(null,e,r,t,n);break e;case 14:e=Tx(null,e,r,Xr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),ry(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),kx(t,e,r,i,n);case 3:e:{if(TI(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,XS(t,e),Qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dl(Error(re(423)),e),e=Cx(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(re(424)),e),e=Cx(t,e,r,n,i);break e}else for(yr=Vs(e.stateNode.containerInfo.firstChild),wr=e,yt=!0,Zr=null,n=tI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===i){e=is(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return nI(e),t===null&&J0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,K0(r,i)?o=null:s!==null&&K0(r,s)&&(e.flags|=32),AI(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&J0(e),null;case 13:return kI(t,e,n);case 4:return Qv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cl(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),Ax(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt(Kd,r._currentValue),r._currentValue=o,s!==null)if(ai(s.value,o)){if(s.children===i.children&&!ur.current){e=is(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ji(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Z0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Z0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qa(e,n),i=Hr(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=Xr(r,e.pendingProps),i=Xr(r.type,i),Tx(t,e,r,i,n);case 15:return SI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),yd(t,e),e.tag=1,cr(r)?(t=!0,Hd(e)):t=!1,Qa(e,n),ZS(e,r,i),ty(e,r,i,n),iy(null,e,r,!0,t,n);case 19:return CI(t,e,n);case 22:return II(t,e,n)}throw Error(re(156,e.tag))};function qI(t,e){return yS(t,e)}function AN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,n,r){return new AN(t,e,n,r)}function c1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TN(t){if(typeof t=="function")return c1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cv)return 11;if(t===Rv)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=$r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")c1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Mo(n.children,i,s,e);case kv:o=8,i|=8;break;case I0:return t=$r(12,n,e,i|2),t.elementType=I0,t.lanes=s,t;case A0:return t=$r(13,n,e,i),t.elementType=A0,t.lanes=s,t;case T0:return t=$r(19,n,e,i),t.elementType=T0,t.lanes=s,t;case eS:return np(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J2:o=10;break e;case Z2:o=9;break e;case Cv:o=11;break e;case Rv:o=14;break e;case bs:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=$r(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Mo(t,e,n,r){return t=$r(7,t,r,e),t.lanes=n,t}function np(t,e,n,r){return t=$r(22,t,r,e),t.elementType=eS,t.lanes=n,t.stateNode={isHidden:!1},t}function tm(t,e,n){return t=$r(6,t,null,e),t.lanes=n,t}function nm(t,e,n){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dg(0),this.expirationTimes=Dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function h1(t,e,n,r,i,s,o,a,l){return t=new kN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gv(s),t}function CN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ca,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WI(t){if(!t)return Xs;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(cr(n))return qS(t,n,e)}return e}function KI(t,e,n,r,i,s,o,a,l){return t=h1(n,r,!0,t,i,s,o,a,l),t.context=WI(null),n=t.current,r=Zn(),i=zs(n),s=Ji(r,i),s.callback=e??null,$s(n,s,i),t.current.lanes=i,Wc(t,i,r),hr(t,r),t}function rp(t,e,n,r){var i=e.current,s=Zn(),o=zs(i);return n=WI(n),e.context===null?e.context=n:e.pendingContext=n,e=Ji(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$s(i,e,o),t!==null&&(ni(t,i,o,s),pd(t,i,o)),o}function rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function d1(t,e){Fx(t,e),(t=t.alternate)&&Fx(t,e)}function RN(){return null}var GI=typeof reportError=="function"?reportError:function(t){console.error(t)};function f1(t){this._internalRoot=t}ip.prototype.render=f1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));rp(t,e,null,null)};ip.prototype.unmount=f1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){rp(null,t,null,null)}),e[ns]=null}};function ip(t){this._internalRoot=t}ip.prototype.unstable_scheduleHydration=function(t){if(t){var e=SS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&AS(t)}};function p1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vx(){}function PN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=rf(o);s.call(u)}}var o=KI(e,r,t,0,null,!1,!1,"",Vx);return t._reactRootContainer=o,t[ns]=o.current,fc(t.nodeType===8?t.parentNode:t),Wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=rf(l);a.call(u)}}var l=h1(t,0,!1,null,null,!1,!1,"",Vx);return t._reactRootContainer=l,t[ns]=l.current,fc(t.nodeType===8?t.parentNode:t),Wo(function(){rp(e,l,n,r)}),l}function op(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rf(o);a.call(l)}}rp(e,o,t,i)}else o=PN(n,e,t,i,r);return rf(o)}ES=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Au(e.pendingLanes);n!==0&&(Mv(e,n|1),hr(e,Lt()),!(Ke&6)&&(fl=Lt()+500,oo()))}break;case 13:Wo(function(){var r=rs(t,1);if(r!==null){var i=Zn();ni(r,t,1,i)}}),d1(t,1)}};Lv=function(t){if(t.tag===13){var e=rs(t,134217728);if(e!==null){var n=Zn();ni(e,t,134217728,n)}d1(t,134217728)}};bS=function(t){if(t.tag===13){var e=zs(t),n=rs(t,e);if(n!==null){var r=Zn();ni(n,t,e,r)}d1(t,e)}};SS=function(){return nt};IS=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};B0=function(t,e,n){switch(e){case"input":if(R0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yf(r);if(!i)throw Error(re(90));nS(r),R0(r,i)}}}break;case"textarea":iS(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};hS=a1;dS=Wo;var NN={usingClientEntryPoint:!1,Events:[Gc,La,Yf,uS,cS,a1]},fu={findFiberByHostInstance:So,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MN={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gS(t),t===null?null:t.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||RN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Wf=Vh.inject(MN),Si=Vh}catch{}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NN;Tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p1(e))throw Error(re(200));return CN(t,e,null,n)};Tr.createRoot=function(t,e){if(!p1(t))throw Error(re(299));var n=!1,r="",i=GI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=h1(t,1,!1,null,null,n,!1,r,i),t[ns]=e.current,fc(t.nodeType===8?t.parentNode:t),new f1(e)};Tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=gS(e),t=t===null?null:t.stateNode,t};Tr.flushSync=function(t){return Wo(t)};Tr.hydrate=function(t,e,n){if(!sp(e))throw Error(re(200));return op(null,t,e,!0,n)};Tr.hydrateRoot=function(t,e,n){if(!p1(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KI(e,null,t,1,n??null,i,!1,s,o),t[ns]=e.current,fc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ip(e)};Tr.render=function(t,e,n){if(!sp(e))throw Error(re(200));return op(null,t,e,!1,n)};Tr.unmountComponentAtNode=function(t){if(!sp(t))throw Error(re(40));return t._reactRootContainer?(Wo(function(){op(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};Tr.unstable_batchedUpdates=a1;Tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sp(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return op(t,e,n,!1,r)};Tr.version="18.2.0-next-9e3b772b8-20220608";function QI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QI)}catch(t){console.error(t)}}QI(),K2.exports=Tr;var LN=K2.exports,Xa,$x=LN;Xa=b0.createRoot=$x.createRoot,b0.hydrateRoot=$x.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ec.apply(this,arguments)}var Ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ms||(Ms={}));const jx="popstate";function ON(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return my("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sf(i)}return BN(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DN(){return Math.random().toString(36).substr(2,8)}function zx(t,e){return{usr:t.state,key:t.key,idx:e}}function my(t,e,n,r){return n===void 0&&(n=null),Ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vl(e):e,{state:n,key:e&&e.key||r||DN()})}function sf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ms.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ec({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ms.Pop;let A=c(),w=A==null?null:A-u;u=A,l&&l({action:a,location:x.location,delta:w})}function y(A,w){a=Ms.Push;let b=my(x.location,A,w);n&&n(b,A),u=c()+1;let m=zx(b,u),P=x.createHref(b);try{o.pushState(m,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(P)}s&&l&&l({action:a,location:x.location,delta:1})}function _(A,w){a=Ms.Replace;let b=my(x.location,A,w);n&&n(b,A),u=c();let m=zx(b,u),P=x.createHref(b);o.replaceState(m,"",P),s&&l&&l({action:a,location:x.location,delta:0})}function S(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof A=="string"?A:sf(A);return Et(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let x={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jx,d),l=A,()=>{i.removeEventListener(jx,d),l=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let w=S(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:_,go(A){return o.go(A)}};return x}var Hx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hx||(Hx={}));function UN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Vl(e):e,i=bc(r.pathname||"/",n);if(i==null)return null;let s=YI(t);FN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=GN(s[a],YN(i));return o}function YI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Et(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=qs([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YI(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:WN(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XI(s.path))i(s,o,l)}),e}function XI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=XI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VN=/^:\w+$/,$N=3,jN=2,zN=1,HN=10,qN=-2,qx=t=>t==="*";function WN(t,e){let n=t.split("/"),r=n.length;return n.some(qx)&&(r+=qN),e&&(r+=jN),n.filter(i=>!qx(i)).reduce((i,s)=>i+(VN.test(s)?$N:s===""?zN:HN),r)}function KN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=yy({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:qs([i,c.pathname]),pathnameBase:e6(qs([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=qs([i,c.pathnameBase]))}return s}function yy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return u[c]=XN(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function QN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YN(t){try{return decodeURI(t)}catch(e){return g1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function XN(t,e){try{return decodeURIComponent(t)}catch(n){return g1(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function bc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vl(t):t;return{pathname:n?n.startsWith("/")?n:ZN(n,e):e,search:t6(r),hash:n6(i)}}function ZN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vl(t):(i=Ec({},t),Et(!i.pathname||!i.pathname.includes("?"),rm("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),rm("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),rm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),d-=1;i.pathname=y.join("/")}a=d>=0?e[d]:"/"}let l=JN(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),e6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JI=["post","put","patch","delete"];new Set(JI);const i6=["get",...JI];new Set(i6);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}const ap=ee.createContext(null),ZI=ee.createContext(null),aa=ee.createContext(null),lp=ee.createContext(null),Bi=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),eA=ee.createContext(null);function s6(t,e){let{relative:n}=e===void 0?{}:e;$l()||Et(!1);let{basename:r,navigator:i}=ee.useContext(aa),{hash:s,pathname:o,search:a}=up(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:qs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $l(){return ee.useContext(lp)!=null}function jl(){return $l()||Et(!1),ee.useContext(lp).location}function tA(t){ee.useContext(aa).static||ee.useLayoutEffect(t)}function zl(){let{isDataRoute:t}=ee.useContext(Bi);return t?w6():o6()}function o6(){$l()||Et(!1);let t=ee.useContext(ap),{basename:e,navigator:n}=ee.useContext(aa),{matches:r}=ee.useContext(Bi),{pathname:i}=jl(),s=JSON.stringify(m1(r).map(l=>l.pathnameBase)),o=ee.useRef(!1);return tA(()=>{o.current=!0}),ee.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=y1(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:qs([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const a6=ee.createContext(null);function l6(t){let e=ee.useContext(Bi).outlet;return e&&ee.createElement(a6.Provider,{value:t},e)}function nA(){let{matches:t}=ee.useContext(Bi),e=t[t.length-1];return e?e.params:{}}function up(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=ee.useContext(Bi),{pathname:i}=jl(),s=JSON.stringify(m1(r).map(o=>o.pathnameBase));return ee.useMemo(()=>y1(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function u6(t,e){return c6(t,e)}function c6(t,e,n){$l()||Et(!1);let{navigator:r}=ee.useContext(aa),{matches:i}=ee.useContext(Bi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=jl(),u;if(e){var c;let x=typeof e=="string"?Vl(e):e;a==="/"||(c=x.pathname)!=null&&c.startsWith(a)||Et(!1),u=x}else u=l;let d=u.pathname||"/",y=a==="/"?d:d.slice(a.length)||"/",_=UN(t,{pathname:y}),S=g6(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:qs([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:qs([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&S?ee.createElement(lp.Provider,{value:{location:of({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ms.Pop}},S):S}function h6(){let t=_6(),e=r6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:i},n):null,s)}const d6=ee.createElement(h6,null);class f6 extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?ee.createElement(Bi.Provider,{value:this.props.routeContext},ee.createElement(eA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p6(t){let{routeContext:e,match:n,children:r}=t,i=ee.useContext(ap);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(Bi.Provider,{value:e},r)}function g6(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Et(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||d6);let y=e.concat(s.slice(0,u+1)),_=()=>{let S;return c?S=d:l.route.Component?S=ee.createElement(l.route.Component,null):l.route.element?S=l.route.element:S=a,ee.createElement(p6,{match:l,routeContext:{outlet:a,matches:y,isDataRoute:n!=null},children:S})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?ee.createElement(f6,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var rA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rA||{}),af=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(af||{});function m6(t){let e=ee.useContext(ap);return e||Et(!1),e}function y6(t){let e=ee.useContext(ZI);return e||Et(!1),e}function v6(t){let e=ee.useContext(Bi);return e||Et(!1),e}function iA(t){let e=v6(),n=e.matches[e.matches.length-1];return n.route.id||Et(!1),n.route.id}function _6(){var t;let e=ee.useContext(eA),n=y6(af.UseRouteError),r=iA(af.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function w6(){let{router:t}=m6(rA.UseNavigateStable),e=iA(af.UseNavigateStable),n=ee.useRef(!1);return tA(()=>{n.current=!0}),ee.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,of({fromRouteId:e},s)))},[t,e])}function Ku(t){let{to:e,replace:n,state:r,relative:i}=t;$l()||Et(!1);let{matches:s}=ee.useContext(Bi),{pathname:o}=jl(),a=zl(),l=y1(e,m1(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return ee.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function sA(t){return l6(t.context)}function Un(t){Et(!1)}function x6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ms.Pop,navigator:s,static:o=!1}=t;$l()&&Et(!1);let a=e.replace(/^\/*/,"/"),l=ee.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Vl(r));let{pathname:u="/",search:c="",hash:d="",state:y=null,key:_="default"}=r,S=ee.useMemo(()=>{let x=bc(u,a);return x==null?null:{location:{pathname:x,search:c,hash:d,state:y,key:_},navigationType:i}},[a,u,c,d,y,_,i]);return S==null?null:ee.createElement(aa.Provider,{value:l},ee.createElement(lp.Provider,{children:n,value:S}))}function Wx(t){let{children:e,location:n}=t;return u6(vy(e),n)}new Promise(()=>{});function vy(t,e){e===void 0&&(e=[]);let n=[];return ee.Children.forEach(t,(r,i)=>{if(!ee.isValidElement(r))return;let s=[...e,i];if(r.type===ee.Fragment){n.push.apply(n,vy(r.props.children,s));return}r.type!==Un&&Et(!1),!r.props.index||!r.props.children||Et(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function oA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function E6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b6(t,e){return t.button===0&&(!e||e==="_self")&&!E6(t)}const S6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],I6=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],A6=ee.createContext({isTransitioning:!1}),T6="startTransition",Kx=SP[T6];function Gx(t){let{basename:e,children:n,future:r,window:i}=t,s=ee.useRef();s.current==null&&(s.current=ON({window:i,v5Compat:!0}));let o=s.current,[a,l]=ee.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=ee.useCallback(d=>{u&&Kx?Kx(()=>l(d)):l(d)},[l,u]);return ee.useLayoutEffect(()=>o.listen(c),[o,c]),ee.createElement(x6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const k6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Js=ee.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,y=oA(e,S6),{basename:_}=ee.useContext(aa),S,x=!1;if(typeof u=="string"&&C6.test(u)&&(S=u,k6))try{let m=new URL(window.location.href),P=u.startsWith("//")?new URL(m.protocol+u):new URL(u),N=bc(P.pathname,_);P.origin===m.origin&&N!=null?u=N+P.search+P.hash:x=!0}catch{}let A=s6(u,{relative:i}),w=P6(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function b(m){r&&r(m),m.defaultPrevented||w(m)}return ee.createElement("a",lf({},y,{href:S||A,onClick:x||s?r:b,ref:n,target:l}))}),wo=ee.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,d=oA(e,I6),y=up(l,{relative:d.relative}),_=jl(),S=ee.useContext(ZI),{navigator:x}=ee.useContext(aa),A=S!=null&&N6(y)&&u===!0,w=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,b=_.pathname,m=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(b=b.toLowerCase(),m=m?m.toLowerCase():null,w=w.toLowerCase());let P=b===w||!o&&b.startsWith(w)&&b.charAt(w.length)==="/",N=m!=null&&(m===w||!o&&m.startsWith(w)&&m.charAt(w.length)==="/"),D={isActive:P,isPending:N,isTransitioning:A},F=P?r:void 0,V;typeof s=="function"?V=s(D):V=[s,P?"active":null,N?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(D):a;return ee.createElement(Js,lf({},d,{"aria-current":F,className:V,ref:n,style:G,to:l,unstable_viewTransition:u}),typeof c=="function"?c(D):c)});var _y;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_y||(_y={}));var Qx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qx||(Qx={}));function R6(t){let e=ee.useContext(ap);return e||Et(!1),e}function P6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=zl(),u=jl(),c=up(t,{relative:o});return ee.useCallback(d=>{if(b6(d,n)){d.preventDefault();let y=r!==void 0?r:sf(u)===sf(c);l(t,{replace:y,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function N6(t,e){e===void 0&&(e={});let n=ee.useContext(A6);n==null&&Et(!1);let{basename:r}=R6(_y.useViewTransitionState),i=up(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=bc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yy(i.pathname,o)!=null||yy(i.pathname,s)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let y=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(y=64)),r.push(n[c],n[d],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new L6;const y=s<<2|a>>4;if(r.push(y),u!==64){const _=a<<4&240|u>>2;if(r.push(_),d!==64){const S=u<<6&192|d;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O6=function(t){const e=aA(t);return lA.encodeByteArray(e,!0)},uf=function(t){return O6(t).replace(/\./g,"")},uA=function(t){try{return lA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=()=>D6().__FIREBASE_DEFAULTS__,U6=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uA(t[1]);return e&&JSON.parse(e)},cp=()=>{try{return B6()||U6()||F6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cA=t=>{var e,n;return(n=(e=cp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hA=t=>{const e=cA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dA=()=>{var t;return(t=cp())===null||t===void 0?void 0:t.config},fA=t=>{var e;return(e=cp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[uf(JSON.stringify(n)),uf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function j6(){var t;const e=(t=cp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q6(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function W6(){try{return typeof indexedDB=="object"}catch{return!1}}function K6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G6,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Q6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ui(i,a,r)}}function Q6(t,e){return t.replace(Y6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Y6=/\{\$([^}]+)}/g;function X6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Yx(s)&&Yx(o)){if(!cf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J6(t,e){const n=new Z6(t,e);return n.subscribe.bind(n)}class Z6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=im),i.error===void 0&&(i.error=im),i.complete===void 0&&(i.complete=im);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new V6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rM(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nM(t){return t===_o?void 0:t}function rM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const sM={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},oM=$e.INFO,aM={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},lM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v1{constructor(e){this.name=e,this._logLevel=oM,this._logHandler=lM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const uM=(t,e)=>e.some(n=>t instanceof n);let Xx,Jx;function cM(){return Xx||(Xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hM(){return Jx||(Jx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gA=new WeakMap,wy=new WeakMap,mA=new WeakMap,sm=new WeakMap,_1=new WeakMap;function dM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gA.set(n,t)}).catch(()=>{}),_1.set(e,t),e}function fM(t){if(wy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wy.set(t,e)}let xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pM(t){xy=t(xy)}function gM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(om(this),e,...n);return mA.set(r,e.sort?e.sort():[e]),Ws(r)}:hM().includes(t)?function(...e){return t.apply(om(this),e),Ws(gA.get(this))}:function(...e){return Ws(t.apply(om(this),e))}}function mM(t){return typeof t=="function"?gM(t):(t instanceof IDBTransaction&&fM(t),uM(t,cM())?new Proxy(t,xy):t)}function Ws(t){if(t instanceof IDBRequest)return dM(t);if(sm.has(t))return sm.get(t);const e=mM(t);return e!==t&&(sm.set(t,e),_1.set(e,t)),e}const om=t=>_1.get(t);function yM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vM=["get","getKey","getAll","getAllKeys","count"],_M=["put","add","delete","clear"],am=new Map;function Zx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_M.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return am.set(e,s),s}pM(t=>({...t,get:(e,n,r)=>Zx(e,n)||t.get(e,n,r),has:(e,n)=>!!Zx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",eE="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new v1("@firebase/app"),EM="@firebase/app-compat",bM="@firebase/analytics-compat",SM="@firebase/analytics",IM="@firebase/app-check-compat",AM="@firebase/app-check",TM="@firebase/auth",kM="@firebase/auth-compat",CM="@firebase/database",RM="@firebase/database-compat",PM="@firebase/functions",NM="@firebase/functions-compat",MM="@firebase/installations",LM="@firebase/installations-compat",OM="@firebase/messaging",DM="@firebase/messaging-compat",BM="@firebase/performance",UM="@firebase/performance-compat",FM="@firebase/remote-config",VM="@firebase/remote-config-compat",$M="@firebase/storage",jM="@firebase/storage-compat",zM="@firebase/firestore",HM="@firebase/firestore-compat",qM="firebase",WM="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",KM={[Ey]:"fire-core",[EM]:"fire-core-compat",[SM]:"fire-analytics",[bM]:"fire-analytics-compat",[AM]:"fire-app-check",[IM]:"fire-app-check-compat",[TM]:"fire-auth",[kM]:"fire-auth-compat",[CM]:"fire-rtdb",[RM]:"fire-rtdb-compat",[PM]:"fire-fn",[NM]:"fire-fn-compat",[MM]:"fire-iid",[LM]:"fire-iid-compat",[OM]:"fire-fcm",[DM]:"fire-fcm-compat",[BM]:"fire-perf",[UM]:"fire-perf-compat",[FM]:"fire-rc",[VM]:"fire-rc-compat",[$M]:"fire-gcs",[jM]:"fire-gcs-compat",[zM]:"fire-fst",[HM]:"fire-fst-compat","fire-js":"fire-js",[qM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,Sy=new Map;function GM(t,e){try{t.container.addComponent(e)}catch(n){Ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(Sy.has(e))return Ko.debug(`There were multiple attempts to register component ${e}.`),!1;Sy.set(e,t);for(const n of hf.values())GM(n,t);return!0}function hp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ks=new Yc("app","Firebase",QM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=WM;function ao(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=dA()),!n)throw Ks.create("no-options");const s=hf.get(i);if(s){if(cf(n,s.options)&&cf(r,s.config))return s;throw Ks.create("duplicate-app",{appName:i})}const o=new iM(i);for(const l of Sy.values())o.addComponent(l);const a=new YM(n,r,o);return hf.set(i,a),a}function w1(t=by){const e=hf.get(t);if(!e&&t===by&&dA())return ao();if(!e)throw Ks.create("no-app",{appName:t});return e}function Ai(t,e,n){var r;let i=(r=KM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ko.warn(a.join(" "));return}Go(new Zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="firebase-heartbeat-database",JM=1,Sc="firebase-heartbeat-store";let lm=null;function yA(){return lm||(lm=yM(XM,JM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sc)}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),lm}async function ZM(t){try{return await(await yA()).transaction(Sc).objectStore(Sc).get(vA(t))}catch(e){if(e instanceof Ui)Ko.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ko.warn(n.message)}}}async function tE(t,e){try{const r=(await yA()).transaction(Sc,"readwrite");await r.objectStore(Sc).put(e,vA(t)),await r.done}catch(n){if(n instanceof Ui)Ko.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ko.warn(r.message)}}}function vA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=1024,t5=30*24*60*60*1e3;class n5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=t5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nE(),{heartbeatsToSend:n,unsentEntries:r}=r5(this._heartbeatsCache.heartbeats),i=uf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function nE(){return new Date().toISOString().substring(0,10)}function r5(t,e=e5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W6()?K6().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ZM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rE(t){return uf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){Go(new Zs("platform-logger",e=>new wM(e),"PRIVATE")),Go(new Zs("heartbeat",e=>new n5(e),"PRIVATE")),Ai(Ey,eE,t),Ai(Ey,eE,"esm2017"),Ai("fire-js","")}s5("");var o5="firebase",a5="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(o5,a5,"app");function x1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iE(t){return t!==void 0&&t.enterprise!==void 0}class l5{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u5=_A,wA=new Yc("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new v1("@firebase/auth");function c5(t,...e){df.logLevel<=$e.WARN&&df.warn(`Auth (${la}): ${t}`,...e)}function xd(t,...e){df.logLevel<=$e.ERROR&&df.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw E1(t,...e)}function Ti(t,...e){return E1(t,...e)}function xA(t,e,n){const r=Object.assign(Object.assign({},u5()),{[e]:n});return new Yc("auth","Firebase",r).create(e,{appName:t.name})}function h5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wr(t,"argument-error"),xA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wA.create(t,...e)}function be(t,e,...n){if(!t)throw E1(e,...n)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xd(e),new Error(e)}function ss(t,e){t||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function d5(){return sE()==="http:"||sE()==="https:"}function sE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d5()||z6()||"connection"in navigator)?navigator.onLine:!0}function p5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=$6()||H6()}get(){return f5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Jc(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lo(t,e,n,r,i={}){return bA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Xc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),EA.fetch()(SA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function bA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g5),e);try{const i=new y5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw $h(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $h(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xA(t,c,u);Wr(t,c)}}catch(i){if(i instanceof Ui)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function Zc(t,e,n,r,i={}){const s=await lo(t,e,n,r,i);return"mfaPendingCredential"in s&&Wr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function SA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?b1(t.config,i):`${t.config.apiScheme}://${i}`}class y5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),m5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ti(t,e,r);return i.customData._tokenResponse=n,i}async function v5(t,e){return lo(t,"GET","/v2/recaptchaConfig",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function w5(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x5(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=S1(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gu(um(i.auth_time)),issuedAtTime:Gu(um(i.iat)),expirationTime:Gu(um(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function um(t){return Number(t)*1e3}function S1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const i=uA(n);return i?JSON.parse(i):(xd("Failed to decode base64 JWT payload"),null)}catch(i){return xd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function E5(t){const e=S1(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&b5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pl(t,w5(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?T5(s.providerUserInfo):[],a=A5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new IA(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function I5(t){const e=Ct(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T5(t){return t.map(e=>{var{providerId:n}=e,r=x1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){const n=await bA(t,{},async()=>{const r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=SA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",EA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return be(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ic;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ic,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=x1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new IA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return x5(this,e)}reload(){return I5(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pl(this,_5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:P,isAnonymous:N,providerData:D,stsTokenManager:F}=n;be(m&&F,e,"internal-error");const V=Ic.fromJSON(this.name,F);be(typeof m=="string",e,"internal-error"),ps(d,e.name),ps(y,e.name),be(typeof P=="boolean",e,"internal-error"),be(typeof N=="boolean",e,"internal-error"),ps(_,e.name),ps(S,e.name),ps(x,e.name),ps(A,e.name),ps(w,e.name),ps(b,e.name);const G=new Lo({uid:m,auth:e,email:y,emailVerified:P,displayName:d,isAnonymous:N,photoURL:S,phoneNumber:_,tenantId:x,stsTokenManager:V,createdAt:w,lastLoginAt:b});return D&&Array.isArray(D)&&(G.providerData=D.map(Y=>Object.assign({},Y))),A&&(G._redirectEventId=A),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ic;i.updateFromServerResponse(n);const s=new Lo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ff(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function Qi(t){ss(t instanceof Function,"Expected a class definition");let e=oE.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AA.type="NONE";const aE=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ed(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ed("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ja(Qi(aE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Qi(aE);const o=Ed(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Lo._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ja(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ja(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PA(e))return"Blackberry";if(NA(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||kA(e))&&!e.includes("edge/"))return"Chrome";if(RA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TA(t=qn()){return/firefox\//i.test(t)}function I1(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kA(t=qn()){return/crios\//i.test(t)}function CA(t=qn()){return/iemobile/i.test(t)}function RA(t=qn()){return/android/i.test(t)}function PA(t=qn()){return/blackberry/i.test(t)}function NA(t=qn()){return/webos/i.test(t)}function dp(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C5(t=qn()){var e;return dp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R5(){return q6()&&document.documentMode===10}function MA(t=qn()){return dp(t)||RA(t)||NA(t)||PA(t)||/windows phone/i.test(t)||CA(t)}function P5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e=[]){let n;switch(t){case"Browser":n=lE(qn());break;case"Worker":n=`${lE(qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=6;class O5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:L5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new N5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ct(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M5(this),n=new O5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&c5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return Ct(t)}let uE=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=J6(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function OA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B5().appendChild(r)})}function U5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const F5="https://www.google.com/recaptcha/enterprise.js?render=",V5="recaptcha-enterprise",$5="NO_RECAPTCHA";class j5{constructor(e){this.type=V5,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{v5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new l5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;iE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o($5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&iE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}OA(F5+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function pf(t,e,n,r=!1){const i=new j5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e){const n=hp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cf(s,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function H5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q5(t,e,n){const r=hs(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=DA(e),{host:o,port:a}=W5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||K5()}function DA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W5(t){const e=DA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:cE(o)}}}function cE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function G5(t,e){return lo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}async function Y5(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends A1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await pf(e,r,"signInWithPassword");return cm(e,i)}else return cm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await pf(e,r,"signInWithPassword");return cm(e,s)}else return Promise.reject(i)});case"emailLink":return Q5(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return G5(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Y5(e,{idToken:n,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="http://localhost";class Qo extends A1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=x1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Qo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:X5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z5(t){const e=ku(Cu(t)).link,n=e?ku(Cu(e)).deep_link_id:null,r=ku(Cu(t)).deep_link_id;return(r?ku(Cu(r)).link:null)||r||n||e||t}class T1{constructor(e){var n,r,i,s,o,a;const l=ku(Cu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=J5((i=l.mode)!==null&&i!==void 0?i:null);be(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Z5(e);try{return new T1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return Ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=T1.parseLink(n);return be(r,"argument-error"),Ac._fromEmailAndCode(e,r.code,r.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends k1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends eh{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends eh{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends eh{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t,e){return Zc(t,"POST","/v1/accounts:signUp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Lo._fromIdTokenResponse(e,r,i),o=hE(r);return new os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hE(r);return new os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t){var e;const n=hs(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new os({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await bd(n,{returnSecureToken:!0}),i=await os._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends Ui{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gf(e,n,r,i)}}function BA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(t,s,e,r):s})}async function tL(t,e,n=!1){const r=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await pl(t,BA(r,i,e,t),n);be(s.idToken,r,"internal-error");const o=S1(s.idToken);be(o,r,"internal-error");const{sub:a}=o;return be(t.uid===a,r,"user-mismatch"),os._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t,e,n=!1){const r="signIn",i=await BA(t,r,e),s=await os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function rL(t,e){return UA(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iL(t,e,n){var r;const i=hs(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await pf(i,s,"signUpPassword");o=bd(i,u)}else o=bd(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await pf(i,s,"signUpPassword");return bd(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&FA(t),u}),l=await os._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function sL(t,e,n){return rL(Ct(t),Hl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){return lo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await pl(r,oL(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function aL(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function lL(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function uL(t){return Ct(t).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){const t=qn();return I1(t)||dp(t)}const hL=1e3,dL=10;class jA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cL()&&P5(),this.fallbackToPolling=MA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);R5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jA.type="LOCAL";const fL=jA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zA.type="SESSION";const HA=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await pL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=C1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const y=d;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function mL(t){ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function yL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _L(){return qA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebaseLocalStorageDb",wL=1,yf="firebaseLocalStorage",KA="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pp(t,e){return t.transaction([yf],e?"readwrite":"readonly").objectStore(yf)}function xL(){const t=indexedDB.deleteDatabase(WA);return new th(t).toPromise()}function Ay(){const t=indexedDB.open(WA,wL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yf,{keyPath:KA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yf)?e(r):(r.close(),await xL(),e(await Ay()))})})}async function dE(t,e,n){const r=pp(t,!0).put({[KA]:e,value:n});return new th(r).toPromise()}async function EL(t,e){const n=pp(t,!1).get(e),r=await new th(n).toPromise();return r===void 0?null:r.value}function fE(t,e){const n=pp(t,!0).delete(e);return new th(n).toPromise()}const bL=800,SL=3;class GA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fp._getInstance(_L()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yL(),!this.activeServiceWorker)return;this.sender=new gL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ay();return await dE(e,mf,"1"),await fE(e,mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pp(i,!1).getAll();return new th(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GA.type="LOCAL";const IL=GA;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e){return e?Qi(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends A1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AL(t){return UA(t.auth,new R1(t),t.bypassAuthState)}function TL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),nL(n,new R1(t),t.bypassAuthState)}async function kL(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),tL(n,new R1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AL;case"linkViaPopup":case"linkViaRedirect":return kL;case"reauthViaPopup":case"reauthViaRedirect":return TL;default:Wr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new Jc(2e3,1e4);async function XA(t,e,n){const r=hs(t);h5(t,e,k1);const i=QA(r,n);return new To(r,"signInViaPopup",e,i).executeNotNull()}class To extends YA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=C1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CL.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="pendingRedirect",Sd=new Map;class PL extends YA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const r=await NL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NL(t,e){const n=OL(e),r=LL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ML(t,e){Sd.set(t._key(),e)}function LL(t){return Qi(t._redirectPersistence)}function OL(t){return Ed(RL,t.config.apiKey,t.name)}async function DL(t,e,n=!1){const r=hs(t),i=QA(r,e),o=await new PL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=10*60*1e3;class UL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BL&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jL=/^https?/;async function zL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VL(t);for(const n of e)try{if(HL(n))return}catch{}Wr(t,"unauthorized-domain")}function HL(t){const e=Iy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jL.test(n))return!1;if($L.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Jc(3e4,6e4);function gE(){const t=ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WL(t){return new Promise((e,n)=>{var r,i,s;function o(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(Ti(t,"network-request-failed"))},timeout:qL.get()})}if(!((i=(r=ki().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ki().gapi)===null||s===void 0)&&s.load)o();else{const a=U5("iframefcb");return ki()[a]=()=>{gapi.load?o():n(Ti(t,"network-request-failed"))},OA(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Id=null,e})}let Id=null;function KL(t){return Id=Id||WL(t),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Jc(5e3,15e3),QL="__/auth/iframe",YL="emulator/auth/iframe",XL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZL(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?b1(e,YL):`https://${t.config.authDomain}/${QL}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=JL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xc(r).slice(1)}`}async function eO(t){const e=await KL(t),n=ki().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:ZL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ti(t,"network-request-failed"),a=ki().setTimeout(()=>{s(o)},GL.get());function l(){ki().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nO=500,rO=600,iO="_blank",sO="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oO(t,e,n,r=nO,i=rO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tO),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qn().toLowerCase();n&&(a=kA(u)?iO:n),TA(u)&&(e=e||sO,l.scrollbars="yes");const c=Object.entries(l).reduce((y,[_,S])=>`${y}${_}=${S},`,"");if(C5(u)&&a!=="_self")return aO(e||"",a),new mE(null);const d=window.open(e||"",a,c);be(d,t,"popup-blocked");try{d.focus()}catch{}return new mE(d)}function aO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="__/auth/handler",uO="emulator/auth/handler",cO=encodeURIComponent("fac");async function yE(t,e,n,r,i,s){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof k1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",X6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof eh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${cO}=${encodeURIComponent(l)}`:"";return`${hO(t)}?${Xc(a).slice(1)}${u}`}function hO({config:t}){return t.emulator?b1(t,uO):`https://${t.authDomain}/${lO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class dO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HA,this._completeRedirectFn=DL,this._overrideRedirectResult=ML}async _openPopup(e,n,r,i){var s;ss((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yE(e,n,r,Iy(),i);return oO(e,o,C1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yE(e,n,r,Iy(),i);return mL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ss(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eO(e),r=new UL(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hm];o!==void 0&&n(!!o),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MA()||I1()||dp()}}const fO=dO;var vE="@firebase/auth",_E="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function mO(t){Go(new Zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LA(t)},u=new D5(r,i,s,l);return H5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Zs("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new pO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(vE,_E,gO(t)),Ai(vE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=5*60,vO=fA("authIdTokenMaxAge")||yO;let wE=null;const _O=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vO)return;const i=n==null?void 0:n.token;wE!==i&&(wE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Oo(t=w1()){const e=hp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=z5(t,{popupRedirectResolver:fO,persistence:[IL,fL,HA]}),r=fA("authTokenSyncURL");if(r){const s=_O(r);lL(n,s,()=>s(n.currentUser)),aL(n,o=>s(o))}const i=cA("auth");return i&&q5(n,`http://${i}`),n}mO("Browser");var wO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,P1=P1||{},Ae=wO||self;function gp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function xO(t){return Object.prototype.hasOwnProperty.call(t,dm)&&t[dm]||(t[dm]=++EO)}var dm="closure_uid_"+(1e9*Math.random()>>>0),EO=0;function bO(t,e,n){return t.call.apply(t.bind,arguments)}function SO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jn=bO:jn=SO,jn.apply(null,arguments)}function jh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function uo(){this.s=this.s,this.o=this.o}var IO=0;uo.prototype.s=!1;uo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IO!=0)&&xO(this)};uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function N1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var AO=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ae.addEventListener("test",()=>{},e),Ae.removeEventListener("test",()=>{},e)}catch{}return t}();function Tc(t){return/^[\s\xa0]*$/.test(t)}function mp(){var t=Ae.navigator;return t&&(t=t.userAgent)?t:""}function yi(t){return mp().indexOf(t)!=-1}function M1(t){return M1[" "](t),t}M1[" "]=function(){};function TO(t,e){var n=_D;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var kO=yi("Opera"),gl=yi("Trident")||yi("MSIE"),eT=yi("Edge"),Ty=eT||gl,tT=yi("Gecko")&&!(mp().toLowerCase().indexOf("webkit")!=-1&&!yi("Edge"))&&!(yi("Trident")||yi("MSIE"))&&!yi("Edge"),CO=mp().toLowerCase().indexOf("webkit")!=-1&&!yi("Edge");function nT(){var t=Ae.document;return t?t.documentMode:void 0}var ky;e:{var fm="",pm=function(){var t=mp();if(tT)return/rv:([^\);]+)(\)|;)/.exec(t);if(eT)return/Edge\/([\d\.]+)/.exec(t);if(gl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(CO)return/WebKit\/(\S+)/.exec(t);if(kO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(pm&&(fm=pm?pm[1]:""),gl){var gm=nT();if(gm!=null&&gm>parseFloat(fm)){ky=String(gm);break e}}ky=fm}var Cy;if(Ae.document&&gl){var EE=nT();Cy=EE||parseInt(ky,10)||void 0}else Cy=void 0;var RO=Cy;function kc(t,e){if(zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tT){e:{try{M1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&kc.$.h.call(this)}}mn(kc,zn);var PO={2:"touch",3:"pen",4:"mouse"};kc.prototype.h=function(){kc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rh="closure_listenable_"+(1e6*Math.random()|0),NO=0;function MO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++NO,this.fa=this.ia=!1}function yp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function L1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function LO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function rT(t){const e={};for(const n in t)e[n]=t[n];return e}const bE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<bE.length;s++)n=bE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vp(t){this.src=t,this.g={},this.h=0}vp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Py(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new MO(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ry(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ZA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(yp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Py(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var O1="closure_lm_"+(1e6*Math.random()|0),mm={};function sT(t,e,n,r,i){if(r&&r.once)return aT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sT(t,e[s],n,r,i);return null}return n=U1(n),t&&t[rh]?t.O(e,n,nh(r)?!!r.capture:!!r,i):oT(t,e,n,!1,r,i)}function oT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=nh(i)?!!i.capture:!!i,a=B1(t);if(a||(t[O1]=a=new vp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=OO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)AO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OO(){function t(n){return e.call(t.src,t.listener,n)}const e=DO;return t}function aT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aT(t,e[s],n,r,i);return null}return n=U1(n),t&&t[rh]?t.P(e,n,nh(r)?!!r.capture:!!r,i):oT(t,e,n,!0,r,i)}function lT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lT(t,e[s],n,r,i);else r=nh(r)?!!r.capture:!!r,n=U1(n),t&&t[rh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Py(s,n,r,i),-1<n&&(yp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=B1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Py(e,n,r,i)),(n=-1<t?e[t]:null)&&D1(n))}function D1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rh])Ry(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=B1(e))?(Ry(n,t),n.h==0&&(n.src=null,e[O1]=null)):yp(t)}}}function uT(t){return t in mm?mm[t]:mm[t]="on"+t}function DO(t,e){if(t.fa)t=!0;else{e=new kc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&D1(t),t=n.call(r,e)}return t}function B1(t){return t=t[O1],t instanceof vp?t:null}var ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function U1(t){return typeof t=="function"?t:(t[ym]||(t[ym]=function(e){return t.handleEvent(e)}),t[ym])}function gn(){uo.call(this),this.i=new vp(this),this.S=this,this.J=null}mn(gn,uo);gn.prototype[rh]=!0;gn.prototype.removeEventListener=function(t,e,n,r){lT(this,t,e,n,r)};function kn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zn(e,t);else if(e instanceof zn)e.target=e.target||t;else{var i=e;e=new zn(r,t),iT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zh(o,r,!0,e)&&i}if(o=e.g=t,i=zh(o,r,!0,e)&&i,i=zh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=zh(o,r,!1,e)&&i}gn.prototype.N=function(){if(gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yp(n[r]);delete t.g[e],t.h--}}this.J=null};gn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ry(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var F1=Ae.JSON.stringify;class BO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function UO(){var t=V1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class FO{constructor(){this.h=this.g=null}add(e,n){const r=cT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var cT=new BO(()=>new VO,t=>t.reset());class VO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $O(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function jO(t){Ae.setTimeout(()=>{throw t},0)}let Cc,Rc=!1,V1=new FO,hT=()=>{const t=Ae.Promise.resolve(void 0);Cc=()=>{t.then(zO)}};var zO=()=>{for(var t;t=UO();){try{t.h.call(t.g)}catch(n){jO(n)}var e=cT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rc=!1};function _p(t,e){gn.call(this),this.h=t||1,this.g=e||Ae,this.j=jn(this.qb,this),this.l=Date.now()}mn(_p,gn);ae=_p.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kn(this,"tick"),this.ga&&($1(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){_p.$.N.call(this),$1(this),delete this.g};function j1(t,e,n){if(typeof t=="function")n&&(t=jn(t,n));else if(t&&typeof t.handleEvent=="function")t=jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function dT(t){t.g=j1(()=>{t.g=null,t.i&&(t.i=!1,dT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HO extends uo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dT(this)}N(){super.N(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pc(t){uo.call(this),this.h=t,this.g={}}mn(Pc,uo);var SE=[];function fT(t,e,n,r){Array.isArray(n)||(n&&(SE[0]=n.toString()),n=SE);for(var i=0;i<n.length;i++){var s=sT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function pT(t){L1(t.g,function(e,n){this.g.hasOwnProperty(n)&&D1(e)},t),t.g={}}Pc.prototype.N=function(){Pc.$.N.call(this),pT(this)};Pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wp(){this.g=!0}wp.prototype.Ea=function(){this.g=!1};function qO(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function WO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function $a(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GO(t,n)+(r?" "+r:"")})}function KO(t,e){t.info(function(){return"TIMEOUT: "+e})}wp.prototype.info=function(){};function GO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return F1(n)}catch{return e}}var ca={},IE=null;function xp(){return IE=IE||new gn}ca.Ta="serverreachability";function gT(t){zn.call(this,ca.Ta,t)}mn(gT,zn);function Nc(t){const e=xp();kn(e,new gT(e))}ca.STAT_EVENT="statevent";function mT(t,e){zn.call(this,ca.STAT_EVENT,t),this.stat=e}mn(mT,zn);function Yn(t){const e=xp();kn(e,new mT(e,t))}ca.Ua="timingevent";function yT(t,e){zn.call(this,ca.Ua,t),this.size=e}mn(yT,zn);function ih(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){t()},e)}var Ep={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function z1(){}z1.prototype.h=null;function AE(t){return t.h||(t.h=t.i())}function _T(){}var sh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function H1(){zn.call(this,"d")}mn(H1,zn);function q1(){zn.call(this,"c")}mn(q1,zn);var Ny;function bp(){}mn(bp,z1);bp.prototype.g=function(){return new XMLHttpRequest};bp.prototype.i=function(){return{}};Ny=new bp;function oh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Pc(this),this.P=QO,t=Ty?125:void 0,this.V=new _p(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wT}function wT(){this.i=null,this.g="",this.h=!1}var QO=45e3,My={},vf={};ae=oh.prototype;ae.setTimeout=function(t){this.P=t};function Ly(t,e,n){t.L=1,t.v=Ip(as(e)),t.s=n,t.S=!0,xT(t,null)}function xT(t,e){t.G=Date.now(),ah(t),t.A=as(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),CT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new wT,t.g=YT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new HO(jn(t.Pa,t,t.g),t.O)),fT(t.U,t.g,"readystatechange",t.nb),e=t.I?rT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nc(),qO(t.j,t.u,t.A,t.m,t.W,t.s)}ae.nb=function(t){t=t.target;const e=this.M;e&&_i(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const c=_i(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Ty||this.g&&(this.h.h||this.g.ja()||RE(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Nc(3):Nc(2)),Sp(this);var n=this.g.da();this.ca=n;t:if(ET(this)){var r=RE(this.g);t="";var i=r.length,s=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),Qu(this);var o="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,WO(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tc(a)){var u=a;break t}}u=null}if(n=u)$a(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oy(this,n);else{this.i=!1,this.o=3,Yn(12),ko(this),Qu(this);break e}}this.S?(bT(this,c,o),Ty&&this.i&&c==3&&(fT(this.U,this.V,"tick",this.mb),this.V.start())):($a(this.j,this.m,o,null),Oy(this,o)),c==4&&ko(this),this.i&&!this.J&&(c==4?WT(this.l,this):(this.i=!1,ah(this)))}else mD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Yn(12)):(this.o=0,Yn(13)),ko(this),Qu(this)}}}catch{}finally{}};function ET(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function bT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=YO(t,n),i==vf){e==4&&(t.o=4,Yn(14),r=!1),$a(t.j,t.m,null,"[Incomplete Response]");break}else if(i==My){t.o=4,Yn(15),$a(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else $a(t.j,t.m,i,null),Oy(t,i);ET(t)&&i!=vf&&i!=My&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Yn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),X1(e),e.M=!0,Yn(11))):($a(t.j,t.m,n,"[Invalid Chunked Response]"),ko(t),Qu(t))}ae.mb=function(){if(this.g){var t=_i(this.g),e=this.g.ja();this.C<e.length&&(Sp(this),bT(this,t,e),this.i&&t!=4&&ah(this))}};function YO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vf:(n=Number(e.substring(n,r)),isNaN(n)?My:(r+=1,r+n>e.length?vf:(e=e.slice(r,r+n),t.C=r+n,e)))}ae.cancel=function(){this.J=!0,ko(this)};function ah(t){t.Y=Date.now()+t.P,ST(t,t.P)}function ST(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ih(jn(t.lb,t),e)}function Sp(t){t.B&&(Ae.clearTimeout(t.B),t.B=null)}ae.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(KO(this.j,this.A),this.L!=2&&(Nc(),Yn(17)),ko(this),this.o=2,Qu(this)):ST(this,this.Y-t)};function Qu(t){t.l.H==0||t.J||WT(t.l,t)}function ko(t){Sp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,$1(t.V),pT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Oy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dy(n.i,t))){if(!t.K&&Dy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xf(n),Cp(n);else break e;Y1(n),Yn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ih(jn(n.ib,n),6e3));if(1>=NT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Co(n,11)}else if((t.K||n.g==t)&&xf(n),!Tc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const y=u[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const _=t.g;if(_){const S=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(W1(s,s.h),s.h=null))}if(r.F){const x=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,ht(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=QT(r,r.J?r.pa:null,r.Y),o.K){MT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Sp(a),ah(a)),r.g=o}else HT(r);0<n.j.length&&Rp(n)}else u[0]!="stop"&&u[0]!="close"||Co(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Co(n,7):Q1(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Nc(4)}catch{}}function XO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function JO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function IT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=JO(t),r=XO(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var AT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Do(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Do){this.h=t.h,_f(this,t.j),this.s=t.s,this.g=t.g,wf(this,t.m),this.l=t.l;var e=t.i,n=new Mc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),TE(this,n),this.o=t.o}else t&&(e=String(t).match(AT))?(this.h=!1,_f(this,e[1]||"",!0),this.s=Ru(e[2]||""),this.g=Ru(e[3]||"",!0),wf(this,e[4]),this.l=Ru(e[5]||"",!0),TE(this,e[6]||"",!0),this.o=Ru(e[7]||"")):(this.h=!1,this.i=new Mc(null,this.h))}Do.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pu(e,kE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pu(e,kE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pu(n,n.charAt(0)=="/"?nD:tD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pu(n,iD)),t.join("")};function as(t){return new Do(t)}function _f(t,e,n){t.j=n?Ru(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function TE(t,e,n){e instanceof Mc?(t.i=e,sD(t.i,t.h)):(n||(e=Pu(e,rD)),t.i=new Mc(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function Ip(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ru(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var kE=/[#\/\?@]/g,tD=/[#\?:]/g,nD=/[#\?]/g,rD=/[#\?@]/g,iD=/#/g;function Mc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function co(t){t.g||(t.g=new Map,t.h=0,t.i&&ZO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=Mc.prototype;ae.add=function(t,e){co(this),this.i=null,t=ql(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TT(t,e){co(t),e=ql(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kT(t,e){return co(t),e=ql(t,e),t.g.has(e)}ae.forEach=function(t,e){co(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){co(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ae.Z=function(t){co(this);let e=[];if(typeof t=="string")kT(this,t)&&(e=e.concat(this.g.get(ql(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return co(this),this.i=null,t=ql(this,t),kT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function CT(t,e,n){TT(t,e),0<n.length&&(t.i=null,t.g.set(ql(t,e),N1(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ql(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sD(t,e){e&&!t.j&&(co(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TT(this,r),CT(this,i,n))},t)),t.j=e}var oD=class{constructor(e,n){this.g=e,this.map=n}};function RT(t){this.l=t||aD,Ae.PerformanceNavigationTiming?(t=Ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ae.g&&Ae.g.Ka&&Ae.g.Ka()&&Ae.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aD=10;function PT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function NT(t){return t.h?1:t.g?t.g.size:0}function Dy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W1(t,e){t.g?t.g.add(e):t.h=e}function MT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}RT.prototype.cancel=function(){if(this.i=LT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function LT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return N1(t.i)}var lD=class{stringify(e){return Ae.JSON.stringify(e,void 0)}parse(e){return Ae.JSON.parse(e,void 0)}};function uD(){this.g=new lD}function cD(t,e,n){const r=n||"";try{IT(t,function(i,s){let o=i;nh(i)&&(o=F1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hD(t,e){const n=new wp;if(Ae.Image){const r=new Image;r.onload=jh(Hh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jh(Hh,n,r,"TestLoadImage: error",!1,e),r.onabort=jh(Hh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jh(Hh,n,r,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ap(t){this.l=t.ec||null,this.j=t.ob||!1}mn(Ap,z1);Ap.prototype.g=function(){return new Tp(this.l,this.j)};Ap.prototype.i=function(t){return function(){return t}}({});function Tp(t,e){gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=K1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(Tp,gn);var K1=0;ae=Tp.prototype;ae.open=function(t,e){if(this.readyState!=K1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Lc(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lh(this)),this.readyState=K1};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function OT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lh(this):Lc(this),this.readyState==3&&OT(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,lh(this))};ae.Ya=function(t){this.g&&(this.response=t,lh(this))};ae.ka=function(){this.g&&lh(this)};function lh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Lc(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Lc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Tp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dD=Ae.JSON.parse;function Rt(t){gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DT,this.L=this.M=!1}mn(Rt,gn);var DT="",fD=/^https?$/i,pD=["POST","PUT"];ae=Rt.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ny.g(),this.C=this.u?AE(this.u):AE(Ny),this.g.onreadystatechange=jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){CE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ae.FormData&&t instanceof Ae.FormData,!(0<=ZA(pD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FT(this),0<this.B&&((this.L=gD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jn(this.ua,this)):this.A=j1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){CE(this,s)}};function gD(t){return gl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof P1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kn(this,"timeout"),this.abort(8))};function CE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BT(t),kp(t)}function BT(t){t.F||(t.F=!0,kn(t,"complete"),kn(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kn(this,"complete"),kn(this,"abort"),kp(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kp(this,!0)),Rt.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?UT(this):this.kb())};ae.kb=function(){UT(this)};function UT(t){if(t.h&&typeof P1<"u"&&(!t.C[1]||_i(t)!=4||t.da()!=2)){if(t.v&&_i(t)==4)j1(t.La,0,t);else if(kn(t,"readystatechange"),_i(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(AT)[1]||null;!i&&Ae.self&&Ae.self.location&&(i=Ae.self.location.protocol.slice(0,-1)),r=!fD.test(i?i.toLowerCase():"")}n=r}if(n)kn(t,"complete"),kn(t,"success");else{t.m=6;try{var s=2<_i(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",BT(t)}}finally{kp(t)}}}}function kp(t,e){if(t.g){FT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||kn(t,"ready");try{n.onreadystatechange=r}catch{}}}function FT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ae.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function _i(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dD(e)}};function RE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case DT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mD(t){const e={};t=(t.g&&2<=_i(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tc(t[r]))continue;var n=$O(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}LO(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VT(t){let e="";return L1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function G1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function pu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $T(t){this.Ga=0,this.j=[],this.l=new wp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pu("baseRetryDelayMs",5e3,t),this.hb=pu("retryDelaySeedMs",1e4,t),this.eb=pu("forwardChannelMaxRetries",2,t),this.xa=pu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new RT(t&&t.concurrentRequestLimit),this.Ja=new uD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=$T.prototype;ae.ra=8;ae.H=1;function Q1(t){if(jT(t),t.H==3){var e=t.W++,n=as(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),uh(t,n),e=new oh(t,t.l,e),e.L=2,e.v=Ip(as(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon)try{n=Ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=YT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ah(e)}GT(t)}function Cp(t){t.g&&(X1(t),t.g.cancel(),t.g=null)}function jT(t){Cp(t),t.u&&(Ae.clearTimeout(t.u),t.u=null),xf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ae.clearTimeout(t.m),t.m=null)}function Rp(t){if(!PT(t.i)&&!t.m){t.m=!0;var e=t.Na;Cc||hT(),Rc||(Cc(),Rc=!0),V1.add(e,t),t.C=0}}function yD(t,e){return NT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ih(jn(t.Na,t,e),KT(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new oh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=rT(s),iT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zT(this,i,e),n=as(this.I),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),uh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(VT(s)))+"&"+e:this.o&&G1(n,this.o,s)),W1(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,Ly(i,n,null)):Ly(i,n,e),this.H=2}}else this.H==3&&(t?PE(this,t):this.j.length==0||PT(this.i)||PE(this))};function PE(t,e){var n;e?n=e.m:n=t.W++;const r=as(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),uh(t,r),t.o&&t.s&&G1(r,t.o,t.s),n=new oh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),W1(t.i,n),Ly(n,r,e)}function uh(t,e){t.na&&L1(t.na,function(n,r){ht(e,r,n)}),t.h&&IT({},function(n,r){ht(e,r,n)})}function zT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{cD(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function HT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Cc||hT(),Rc||(Cc(),Rc=!0),V1.add(e,t),t.A=0}}function Y1(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ih(jn(t.Ma,t),KT(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,qT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ih(jn(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yn(10),Cp(this),qT(this))};function X1(t){t.B!=null&&(Ae.clearTimeout(t.B),t.B=null)}function qT(t){t.g=new oh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=as(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),uh(t,e),t.o&&t.s&&G1(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ip(as(e)),n.s=null,n.S=!0,xT(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,Cp(this),Y1(this),Yn(19))};function xf(t){t.v!=null&&(Ae.clearTimeout(t.v),t.v=null)}function WT(t,e){var n=null;if(t.g==e){xf(t),X1(t),t.g=null;var r=2}else if(Dy(t.i,e))n=e.F,MT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=xp(),kn(r,new yT(r,n)),Rp(t)}else HT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&yD(t,e)||r==2&&Y1(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Co(t,5);break;case 4:Co(t,10);break;case 3:Co(t,6);break;default:Co(t,2)}}}function KT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Co(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jn(t.pb,t);n||(n=new Do("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||_f(n,"https"),Ip(n)),hD(n.toString(),r)}else Yn(2);t.H=0,t.h&&t.h.za(e),GT(t),jT(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Yn(2)):(this.l.info("Failed to ping google.com"),Yn(1))};function GT(t){if(t.H=0,t.ma=[],t.h){const e=LT(t.i);(e.length!=0||t.j.length!=0)&&(xE(t.ma,e),xE(t.ma,t.j),t.i.i.length=0,N1(t.j),t.j.length=0),t.h.ya()}}function QT(t,e,n){var r=n instanceof Do?as(n):new Do(n);if(r.g!="")e&&(r.g=e+"."+r.g),wf(r,r.m);else{var i=Ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Do(null);r&&_f(s,r),e&&(s.g=e),i&&wf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.ra),uh(t,r),r}function YT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Rt(new Ap({ob:!0})):new Rt(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function XT(){}ae=XT.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function Ef(){if(gl&&!(10<=Number(RO)))throw Error("Environmental error: no available transport.")}Ef.prototype.g=function(t,e){return new br(t,e)};function br(t,e){gn.call(this),this.g=new $T(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wl(this)}mn(br,gn);br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Yn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=QT(t,null,t.Y),Rp(t)};br.prototype.close=function(){Q1(this.g)};br.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=F1(t),t=n);e.j.push(new oD(e.fb++,t)),e.H==3&&Rp(e)};br.prototype.N=function(){this.g.h=null,delete this.j,Q1(this.g),delete this.g,br.$.N.call(this)};function JT(t){H1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mn(JT,H1);function ZT(){q1.call(this),this.status=1}mn(ZT,q1);function Wl(t){this.g=t}mn(Wl,XT);Wl.prototype.Ba=function(){kn(this.g,"a")};Wl.prototype.Aa=function(t){kn(this.g,new JT(t))};Wl.prototype.za=function(t){kn(this.g,new ZT)};Wl.prototype.ya=function(){kn(this.g,"b")};function vD(){this.blockSize=-1}function li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mn(li,vD);li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function vm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}li.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)vm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){vm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){vm(this,r),i=0;break}}this.h=i,this.i+=e};li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var _D={};function J1(t){return-128<=t&&128>t?TO(t,function(e){return new rt([e|0],0>e?-1:0)}):new rt([t|0],0>t?-1:0)}function wi(t){if(isNaN(t)||!isFinite(t))return el;if(0>t)return Sn(wi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=By;return new rt(e,0)}function ek(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Sn(ek(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wi(Math.pow(e,8)),r=el,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=wi(Math.pow(e,s)),r=r.R(s).add(wi(o))):(r=r.R(n),r=r.add(wi(o)))}return r}var By=4294967296,el=J1(0),Uy=J1(1),NE=J1(16777216);ae=rt.prototype;ae.ea=function(){if(Vr(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:By+r)*e,e*=By}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yi(this))return"0";if(Vr(this))return"-"+Sn(this).toString(t);for(var e=wi(Math.pow(t,6)),n=this,r="";;){var i=Sf(n,e).g;n=bf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Yi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vr(t){return t.h==-1}ae.X=function(t){return t=bf(this,t),Vr(t)?-1:Yi(t)?0:1};function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rt(n,~t.h).add(Uy)}ae.abs=function(){return Vr(this)?Sn(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new rt(n,n[n.length-1]&-2147483648?-1:0)};function bf(t,e){return t.add(Sn(e))}ae.R=function(t){if(Yi(this)||Yi(t))return el;if(Vr(this))return Vr(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(Vr(t))return Sn(this.R(Sn(t)));if(0>this.X(NE)&&0>t.X(NE))return wi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,qh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,qh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,qh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,qh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rt(n,0)};function qh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gu(t,e){this.g=t,this.h=e}function Sf(t,e){if(Yi(e))throw Error("division by zero");if(Yi(t))return new gu(el,el);if(Vr(t))return e=Sf(Sn(t),e),new gu(Sn(e.g),Sn(e.h));if(Vr(e))return e=Sf(t,Sn(e)),new gu(Sn(e.g),e.h);if(30<t.g.length){if(Vr(t)||Vr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Uy,r=e;0>=r.X(t);)n=ME(n),r=ME(r);var i=xa(n,1),s=xa(r,1);for(r=xa(r,2),n=xa(n,2);!Yi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xa(r,1),n=xa(n,1)}return e=bf(t,i.R(e)),new gu(i,e)}for(i=el;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=wi(n),o=s.R(e);Vr(o)||0<o.X(t);)n-=r,s=wi(n),o=s.R(e);Yi(s)&&(s=Uy),i=i.add(s),t=bf(t,o)}return new gu(i,t)}ae.gb=function(t){return Sf(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rt(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rt(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rt(n,this.h^t.h)};function ME(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rt(n,t.h)}function xa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new rt(i,t.h)}Ef.prototype.createWebChannel=Ef.prototype.g;br.prototype.send=br.prototype.u;br.prototype.open=br.prototype.m;br.prototype.close=br.prototype.close;Ep.NO_ERROR=0;Ep.TIMEOUT=8;Ep.HTTP_ERROR=6;vT.COMPLETE="complete";_T.EventType=sh;sh.OPEN="a";sh.CLOSE="b";sh.ERROR="c";sh.MESSAGE="d";gn.prototype.listen=gn.prototype.O;Rt.prototype.listenOnce=Rt.prototype.P;Rt.prototype.getLastError=Rt.prototype.Sa;Rt.prototype.getLastErrorCode=Rt.prototype.Ia;Rt.prototype.getStatus=Rt.prototype.da;Rt.prototype.getResponseJson=Rt.prototype.Wa;Rt.prototype.getResponseText=Rt.prototype.ja;Rt.prototype.send=Rt.prototype.ha;Rt.prototype.setWithCredentials=Rt.prototype.Oa;li.prototype.digest=li.prototype.l;li.prototype.reset=li.prototype.reset;li.prototype.update=li.prototype.j;rt.prototype.add=rt.prototype.add;rt.prototype.multiply=rt.prototype.R;rt.prototype.modulo=rt.prototype.gb;rt.prototype.compare=rt.prototype.X;rt.prototype.toNumber=rt.prototype.ea;rt.prototype.toString=rt.prototype.toString;rt.prototype.getBits=rt.prototype.D;rt.fromNumber=wi;rt.fromString=ek;var wD=function(){return new Ef},xD=function(){return xp()},_m=Ep,ED=vT,bD=ca,LE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Wh=_T,SD=Rt,ID=li,tl=rt;const OE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new v1("@firebase/firestore");function mu(){return Yo.logLevel}function pe(t,...e){if(Yo.logLevel<=$e.DEBUG){const n=e.map(Z1);Yo.debug(`Firestore (${Kl}): ${t}`,...n)}}function ls(t,...e){if(Yo.logLevel<=$e.ERROR){const n=e.map(Z1);Yo.error(`Firestore (${Kl}): ${t}`,...n)}}function ml(t,...e){if(Yo.logLevel<=$e.WARN){const n=e.map(Z1);Yo.warn(`Firestore (${Kl}): ${t}`,...n)}}function Z1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw ls(e),new Error(e)}function pt(t,e){t||Se()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class TD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kD{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string"),new tk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new Fn(e)}}class CD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ND{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string"),this.R=n.token,new PD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function yl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new un(0,0))}static max(){return new Ce(new un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Oc{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const LD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends Oc{construct(e,n,r){return new An(e,n,r)}static isValidIdentifier(e){return LD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new An(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(n)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}function OD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new eo(i,ve.empty(),e)}function DD(t){return new eo(t.readTime,t.key,-1)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(Ce.min(),ve.empty(),-1)}static max(){return new eo(Ce.max(),ve.empty(),-1)}}function BD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==UD)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}e_.ae=-1;function Pp(t){return t==null}function If(t){return t===0&&1/t==-1/0}function VD(t){return typeof t=="number"&&Number.isInteger(t)&&!If(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kh(this.root,e,this.comparator,!0)}}class Kh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=s??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new En(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new vr([])}unionWith(e){let n=new Cn(An.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ik("Invalid base64 string: "+s):s}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(pt(!!t),typeof t=="string"){let e=0;const n=$D.exec(t);if(pt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function n_(t){const e=t.mapValue.fields.__previous_value__;return t_(e)?n_(e):e}function Dc(t){const e=to(t.mapValue.fields.__local_write_time__.timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Bc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t_(t)?4:zD(t)?9007199254740991:10:Se()}function Ni(t,e){if(t===e)return!0;const n=Jo(t);if(n!==Jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=to(i.timestampValue),a=to(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xo(i.bytesValue).isEqual(Xo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return en(i.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return en(i.integerValue)===en(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=en(i.doubleValue),a=en(s.doubleValue);return o===a?If(o)===If(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(DE(o)!==DE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ni(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function Uc(t,e){return(t.values||[]).find(n=>Ni(n,e))!==void 0}function vl(t,e){if(t===e)return 0;const n=Jo(t),r=Jo(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=en(s.integerValue||s.doubleValue),l=en(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return UE(t.timestampValue,e.timestampValue);case 4:return UE(Dc(t),Dc(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Xo(s),l=Xo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Xe(a[u],l[u]);if(c!==0)return c}return Xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Xe(en(s.latitude),en(o.latitude));return a!==0?a:Xe(en(s.longitude),en(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=vl(a[u],l[u]);if(c)return c}return Xe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Gh.mapValue&&o===Gh.mapValue)return 0;if(s===Gh.mapValue)return 1;if(o===Gh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const y=Xe(l[d],c[d]);if(y!==0)return y;const _=vl(a[l[d]],u[c[d]]);if(_!==0)return _}return Xe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Se()}}function UE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=to(t),r=to(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function _l(t){return Fy(t)}function Fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Fy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Fy(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function FE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vy(t){return!!t&&"integerValue"in t}function r_(t){return!!t&&"arrayValue"in t}function VE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function Yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(n)}setAll(e){let n=An.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ad(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ha(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new or(Yu(this.value))}}function sk(t){const e=[];return ha(t.fields,(n,r)=>{const i=new An([n]);if(Ad(r)){const s=sk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $n(e,0,Ce.min(),Ce.min(),Ce.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,Ce.min(),Ce.min(),or.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,Ce.min(),Ce.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.position=e,this.inclusive=n}}function jE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=vl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function HD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{}class nn extends ok{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WD(e,n,r):n==="array-contains"?new QD(e,r):n==="in"?new YD(e,r):n==="not-in"?new XD(e,r):n==="array-contains-any"?new JD(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KD(e,r):new GD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&Jo(this.value)===Jo(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends ok{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ui(e,n)}matches(e){return ak(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ak(t){return t.op==="and"}function lk(t){return qD(t)&&ak(t)}function qD(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function $y(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(lk(t))return t.filters.map(e=>$y(e)).join(",");{const e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function uk(t,e){return t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&Ni(r.value,i.value)}(t,e):t instanceof ui?function(r,i){return i instanceof ui&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&uk(o,i.filters[a]),!0):!1}(t,e):void Se()}function ck(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(ck).join(" ,")+"}"}(t):"Filter"}class WD extends nn{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class KD extends nn{constructor(e,n){super(e,"in",n),this.keys=hk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GD extends nn{constructor(e,n){super(e,"not-in",n),this.keys=hk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class QD extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return r_(n)&&Uc(n.arrayValue,this.value)}}class YD extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class XD extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uc(this.value.arrayValue,n)}}class JD extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!r_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function HE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ZD(t,e,n,r,i,s,o)}function i_(t){const e=Ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_l(r)).join(",")),e.le=n}return e.le}function s_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function jy(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function eB(t,e,n,r,i,s,o,a){return new dh(t,e,n,r,i,s,o,a)}function o_(t){return new dh(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dk(t){return t.collectionGroup!==null}function Xu(t){const e=Ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Cn(An.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Tf(s,r))}),n.has(An.keyField().canonicalString())||e.he.push(new Tf(An.keyField(),r))}return e.he}function Ci(t){const e=Ne(t);return e.Pe||(e.Pe=tB(e,Xu(t))),e.Pe}function tB(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tf(i.field,s)});const n=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zy(t,e){const n=t.filters.concat([e]);return new dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hy(t,e,n){return new dh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Np(t,e){return s_(Ci(t),Ci(e))&&t.limitType===e.limitType}function fk(t){return`${i_(Ci(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ck(i)).join(", ")}]`),Pp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_l(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_l(i)).join(",")),`Target(${r})`}(Ci(t))}; limitType=${t.limitType})`}function Mp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Xu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=jE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Xu(r),i)||r.endAt&&!function(o,a,l){const u=jE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Xu(r),i))}(t,e)}function nB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pk(t){return(e,n)=>{let r=!1;for(const i of Xu(t)){const s=rB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function rB(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?vl(l,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new St(ve.comparator);function us(){return iB}const gk=new St(ve.comparator);function Nu(...t){let e=gk;for(const n of t)e=e.insert(n.key,n);return e}function mk(t){let e=gk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ro(){return Ju()}function yk(){return Ju()}function Ju(){return new Gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const sB=new St(ve.comparator),oB=new Cn(ve.comparator);function Fe(...t){let e=oB;for(const n of t)e=e.add(n);return e}const aB=new Cn(Xe);function lB(){return aB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function _k(t){return{integerValue:""+t}}function uB(t,e){return VD(e)?_k(e):vk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this._=void 0}}function cB(t,e,n){return t instanceof Fc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&t_(s)&&(s=n_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof wl?xk(t,e):t instanceof xl?Ek(t,e):function(i,s){const o=wk(i,s),a=WE(o)+WE(i.Te);return Vy(o)&&Vy(i.Te)?_k(a):vk(i.serializer,a)}(t,e)}function hB(t,e,n){return t instanceof wl?xk(t,e):t instanceof xl?Ek(t,e):n}function wk(t,e){return t instanceof kf?function(r){return Vy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fc extends Lp{}class wl extends Lp{constructor(e){super(),this.elements=e}}function xk(t,e){const n=bk(e);for(const r of t.elements)n.some(i=>Ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends Lp{constructor(e){super(),this.elements=e}}function Ek(t,e){let n=bk(e);for(const r of t.elements)n=n.filter(i=>!Ni(i,r));return{arrayValue:{values:n}}}class kf extends Lp{constructor(e,n){super(),this.serializer=e,this.Te=n}}function WE(t){return en(t.integerValue||t.doubleValue)}function bk(t){return r_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.field=e,this.transform=n}}function dB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wl&&i instanceof wl||r instanceof xl&&i instanceof xl?yl(r.elements,i.elements,Ni):r instanceof kf&&i instanceof kf?Ni(r.Te,i.Te):r instanceof Fc&&i instanceof Fc}(t.transform,e.transform)}class fB{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Op{}function Sk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ak(t.key,ri.none()):new fh(t.key,t.data,ri.none());{const n=t.data,r=or.empty();let i=new Cn(An.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ho(t.key,r,new vr(i.toArray()),ri.none())}}function pB(t,e,n){t instanceof fh?function(i,s,o){const a=i.value.clone(),l=GE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ho?function(i,s,o){if(!Td(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=GE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ik(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zu(t,e,n,r){return t instanceof fh?function(s,o,a,l){if(!Td(s.precondition,o))return a;const u=s.value.clone(),c=QE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ho?function(s,o,a,l){if(!Td(s.precondition,o))return a;const u=QE(s.fieldTransforms,l,o),c=o.data;return c.setAll(Ik(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Td(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wk(r.transform,i||null);s!=null&&(n===null&&(n=or.empty()),n.set(r.field,s))}return n||null}function KE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yl(r,i,(s,o)=>dB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fh extends Op{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ho extends Op{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ik(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GE(t,e,n){const r=new Map;pt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hB(o,a,n[i]))}return r}function QE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,cB(s,o,e))}return r}class Ak extends Op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mB extends Op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&pB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Sk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,r)=>KE(n,r))&&yl(this.baseMutations,e.baseMutations,(n,r)=>KE(n,r))}}class l_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pt(e.mutations.length===r.length);let i=function(){return sB}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new l_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,ze;function wB(t){switch(t){default:return Se();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Tk(t){if(t===void 0)return ls("GRPC error has no .code"),Z.UNKNOWN;switch(t){case Jt.OK:return Z.OK;case Jt.CANCELLED:return Z.CANCELLED;case Jt.UNKNOWN:return Z.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return Z.INTERNAL;case Jt.UNAVAILABLE:return Z.UNAVAILABLE;case Jt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Jt.NOT_FOUND:return Z.NOT_FOUND;case Jt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Jt.ABORTED:return Z.ABORTED;case Jt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Jt.DATA_LOSS:return Z.DATA_LOSS;default:return Se()}}(ze=Jt||(Jt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=new tl([4294967295,4294967295],0);function YE(t){const e=xB().encode(t),n=new ID;return n.update(e),new Uint8Array(n.digest())}function XE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tl([n,r],0),new tl([i,s],0)]}class u_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=tl.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(tl.fromNumber(r)));return i.compare(EB)===1&&(i=new tl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=YE(e),[r,i]=XE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new u_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=YE(e),[r,i]=XE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dp(Ce.min(),i,new St(Xe),us(),Fe())}}class ph{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ph(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class kk{constructor(e,n){this.targetId=e,this.ge=n}}class Ck{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JE{constructor(){this.pe=0,this.ye=eb(),this.we=Wn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),n=Fe(),r=Fe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new ph(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=eb()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class bB{constructor(e){this.ke=e,this.qe=new Map,this.Qe=us(),this.Ke=ZE(),this.$e=new St(Xe)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(jy(s))if(r===0){const o=new ve(s.path);this.Ge(n,o,$n.newNoDocument(o,Ce.min()))}else pt(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Xo(r).toUint8Array()}catch(l){if(l instanceof ik)return ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new u_(o,i,s)}catch(l){return ml(l instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&jy(a.target)){const l=new ve(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,$n.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Fe();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Dp(e,n,this.$e,this.Qe,r);return this.Qe=us(),this.Ke=ZE(),this.$e=new St(Xe),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new JE,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new Cn(Xe),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new JE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ZE(){return new St(ve.comparator)}function eb(){return new St(ve.comparator)}const SB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),IB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AB=(()=>({and:"AND",or:"OR"}))();class TB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qy(t,e){return t.useProto3Json||Pp(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kB(t,e){return Cf(t,e.toTimestamp())}function Ri(t){return pt(!!t),Ce.fromTimestamp(function(n){const r=to(n);return new un(r.seconds,r.nanos)}(t))}function c_(t,e){return function(r){return new dt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Pk(t){const e=dt.fromString(t);return pt(Ok(e)),e}function Wy(t,e){return c_(t.databaseId,e.path)}function wm(t,e){const n=Pk(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(Nk(n))}function Ky(t,e){return c_(t.databaseId,e)}function CB(t){const e=Pk(t);return e.length===4?dt.emptyPath():Nk(e)}function Gy(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nk(t){return pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tb(t,e,n){return{name:Wy(t,e),fields:n.value.mapValue.fields}}function RB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(pt(c===void 0||typeof c=="string"),Wn.fromBase64String(c||"")):(pt(c===void 0||c instanceof Uint8Array),Wn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Z.UNKNOWN:Tk(u.code);return new fe(c,u.message||"")}(o);n=new Ck(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wm(t,r.document.name),s=Ri(r.document.updateTime),o=r.document.createTime?Ri(r.document.createTime):Ce.min(),a=new or({mapValue:{fields:r.document.fields}}),l=$n.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new kd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wm(t,r.document),s=r.readTime?Ri(r.readTime):Ce.min(),o=$n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wm(t,r.document),s=r.removedTargetIds||[];n=new kd([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _B(i,s),a=r.targetId;n=new kk(a,o)}}return n}function PB(t,e){let n;if(e instanceof fh)n={update:tb(t,e.key,e.value)};else if(e instanceof Ak)n={delete:Wy(t,e.key)};else if(e instanceof ho)n={update:tb(t,e.key,e.data),updateMask:VB(e.fieldMask)};else{if(!(e instanceof mB))return Se();n={verify:Wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kf)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function NB(t,e){return t&&t.length>0?(pt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ri(i.updateTime):Ri(s);return o.isEqual(Ce.min())&&(o=Ri(s)),new fB(o,i.transformResults||[])}(n,e))):[]}function MB(t,e){return{documents:[Ky(t,e.path)]}}function LB(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ky(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ky(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Lk(ui.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Sa(d.field),direction:BB(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=qy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function OB(t){let e=CB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const y=Mk(d);return y instanceof ui&&lk(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(y=>function(S){return new Tf(Ia(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(d){let y;return y=typeof d=="object"?d.value:d,Pp(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(d){const y=!!d.before,_=d.values||[];return new Af(_,y)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const y=!d.before,_=d.values||[];return new Af(_,y)}(n.endAt)),eB(e,i,o,s,a,"F",l,u)}function DB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ia(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ia(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ia(n.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ia(n.unaryFilter.field);return nn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(r=>Mk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function BB(t){return SB[t]}function UB(t){return IB[t]}function FB(t){return AB[t]}function Sa(t){return{fieldPath:t.canonicalString()}}function Ia(t){return An.fromServerFormat(t.fieldPath)}function Lk(t){return t instanceof nn?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(VE(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(VE(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:UB(n.op),value:n.value}}}(t):t instanceof ui?function(n){const r=n.getFilters().map(i=>Lk(i));return r.length===1?r[0]:{compositeFilter:{op:FB(n.op),filters:r}}}(t):Se()}function VB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ok(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r,i,s=Ce.min(),o=Ce.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.ct=e}}function jB(t){const e=OB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this._n=new HB}addToCollectionParentIndex(e,n){return this._n.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(eo.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class HB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Cn(dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new El(0)}static Bn(){return new El(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.changes=new Gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zu(r.mutation,i,vr.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const i=Ro();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=us();const o=Ju(),a=function(){return Ju()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ho)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Zu(c.mutation,u,c.mutation.getFieldMask(),un.now())):o.set(u.key,vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new WB(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ju();let i=new St((o,a)=>o-a),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||vr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=yk();c.forEach(y=>{if(!s.has(y)){const _=Sk(n.get(y),r.get(y));_!==null&&d.set(y,_),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ne.resolve(Ro());let a=-1,l=s;return o.next(u=>ne.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?ne.resolve():this.remoteDocumentCache.getEntry(e,c).next(y=>{l=l.insert(c,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Fe())).next(c=>({batchId:a,changes:mk(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nu();return this.indexManager.getCollectionParents(e,s).next(a=>ne.forEach(a,l=>{const u=function(d,y){return new dh(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,y)=>{o=o.insert(d,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$n.newInvalidDocument(c)))});let a=Nu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Zu(c.mutation,u,vr.empty(),un.now()),Mp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ri(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:jB(i.bundledQuery),readTime:Ri(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this.overlays=new St(ve.comparator),this.hr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ro();return ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=Ro(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new St((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ro(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ro(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ne.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vB(n,r));let s=this.hr.get(n);s===void 0&&(s=Fe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Pr=new Cn(cn.Ir),this.Tr=new Cn(cn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new cn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ve(new dt([])),r=new cn(n,e),i=new cn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ve(new dt([])),r=new cn(n,e),i=new cn(n,e+1);let s=Fe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new cn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ve.comparator(e.key,n.key)||Xe(e.pr,n.pr)}static Er(e,n){return Xe(e.pr,n.pr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Cn(cn.Ir)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new cn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),i=new cn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(Xe);return n.forEach(i=>{const s=new cn(i,0),o=new cn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new cn(new ve(s),0);let a=new Cn(Xe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),ne.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ne.forEach(n.mutations,i=>{const s=new cn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new cn(n,0),i=this.wr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.vr=e,this.docs=function(){return new St(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$n.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=us();const o=n.path,a=new ve(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||BD(DD(c),r)<=0||(i.has(c.key)||Mp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Fr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JB(this)}getSize(e){return ne.resolve(this.size)}}class JB extends qB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.persistence=e,this.Mr=new Gl(n=>i_(n),s_),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new h_,this.targetCount=0,this.Br=El.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ne.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new El(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.qn(n),ne.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.Lr={},this.overlays={},this.kr=new e_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ZB(this),this.indexManager=new zB,this.remoteDocumentCache=function(i){return new XB(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new $B(n),this.$r=new GB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new YB(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new t8(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class t8 extends FD{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.zr=new h_,this.jr=null}static Hr(e){return new d_(e)}get Jr(){if(this.jr)return this.jr;throw Se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Jr,r=>{const i=ve.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ne.or([()=>ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Fe(),i=Fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new f_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new n8;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(mu()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ne.resolve()):(mu()<=$e.DEBUG&&pe("QueryEngine","Query:",ba(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(mu()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ne.resolve())}ji(e,n){if(qE(n))return ne.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hy(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Fe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Hy(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return qE(n)||i.isEqual(Ce.min())?ne.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?ne.resolve(null):(mu()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ba(n)),this.es(e,o,n,OD(i,-1)).next(a=>a))})}Zi(e,n){let r=new Cn(pk(e));return n.forEach((i,s)=>{Mp(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return mu()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ba(n)),this.zi.getDocumentsMatchingQuery(e,n,eo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new St(Xe),this.rs=new Gl(s=>i_(s),s_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function s8(t,e,n,r){return new i8(t,e,n,r)}async function Dk(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Fe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function o8(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,y=d.keys();let _=ne.resolve();return y.forEach(S=>{_=_.next(()=>c.getEntry(l,S)).next(x=>{const A=u.docVersions.get(S);pt(A!==null),x.version.compareTo(A)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),c.addEntry(x)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Bk(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function a8(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const y=i.get(d);if(!y)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let _=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?_=_.withResumeToken(Wn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):c.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(c.resumeToken,r)),i=i.insert(d,_),function(x,A,w){return x.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(y,_,c)&&a.push(n.Qr.updateTargetData(s,_))});let l=us(),u=Fe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(l8(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Ce.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function l8(t,e,n){let r=Fe(),i=Fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=us();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function u8(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c8(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ls(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Qy(t,e,n){const r=Ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hh(o))throw o;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function nb(t,e,n){const r=Ne(t);let i=Ce.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ne(l),y=d.rs.get(c);return y!==void 0?ne.resolve(d.ns.get(y)):d.Qr.getTargetData(u,c)}(r,o,Ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ce.min(),n?s:Fe())).next(a=>(h8(r,nB(e),a),{documents:a,hs:s})))}function h8(t,e,n){let r=t.ss.get(e)||Ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class rb{constructor(){this.activeTargetIds=lB()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d8{constructor(){this.no=new rb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new rb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function xm(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class m8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=xm(),l=this.bo(n,r);pe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(pe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ml("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=p8[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=xm();return new Promise((o,a)=>{const l=new SD;l.setWithCredentials(!0),l.listenOnce(ED.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _m.NO_ERROR:const c=l.getResponseJson();pe(Mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case _m.TIMEOUT:pe(Mn,`RPC '${e}' ${s} timed out`),a(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const d=l.getStatus();if(pe(Mn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const S=function(A){const w=A.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(w)>=0?w:Z.UNKNOWN}(_.status);a(new fe(S,_.message))}else a(new fe(Z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{pe(Mn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);pe(Mn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=xm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wD(),a=xD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");pe(Mn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let y=!1,_=!1;const S=new g8({lo:A=>{_?pe(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(pe(Mn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),y=!0),pe(Mn,`RPC '${e}' stream ${i} sending:`,A),d.send(A))},ho:()=>d.close()}),x=(A,w,b)=>{A.listen(w,m=>{try{b(m)}catch(P){setTimeout(()=>{throw P},0)}})};return x(d,Wh.EventType.OPEN,()=>{_||pe(Mn,`RPC '${e}' stream ${i} transport opened.`)}),x(d,Wh.EventType.CLOSE,()=>{_||(_=!0,pe(Mn,`RPC '${e}' stream ${i} transport closed`),S.Vo())}),x(d,Wh.EventType.ERROR,A=>{_||(_=!0,ml(Mn,`RPC '${e}' stream ${i} transport errored:`,A),S.Vo(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),x(d,Wh.EventType.MESSAGE,A=>{var w;if(!_){const b=A.data[0];pt(!!b);const m=b,P=m.error||((w=m[0])===null||w===void 0?void 0:w.error);if(P){pe(Mn,`RPC '${e}' stream ${i} received error:`,P);const N=P.status;let D=function(G){const Y=Jt[G];if(Y!==void 0)return Tk(Y)}(N),F=P.message;D===void 0&&(D=Z.INTERNAL,F="Unknown error status: "+N+" with message "+P.message),_=!0,S.Vo(new fe(D,F)),d.close()}else pe(Mn,`RPC '${e}' stream ${i} received:`,b),S.mo(b)}}),x(a,bD.STAT_EVENT,A=>{A.stat===LE.PROXY?pe(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===LE.NOPROXY&&pe(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ro()},0),S}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){return new TB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Uk(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new fe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y8 extends Fk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=RB(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?Ri(o.readTime):Ce.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Gy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=jy(l)?{documents:MB(s,l)}:{query:LB(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Rk(s,o.resumeToken);const u=qy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Cf(s,o.snapshotVersion.toTimestamp());const u=qy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=DB(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Gy(this.serializer),n.removeTarget=e,this.t_(n)}}class v8 extends Fk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=NB(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.T_(r,n)}return pt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Gy(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PB(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(Z.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(Z.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class w8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ls(n),this.g_=!1):pe("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{da(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ne(l);u.v_.add(4),await gh(u),u.x_.set("Unknown"),u.v_.delete(4),await Up(u)}(this))})}),this.x_=new w8(r,i)}}async function Up(t){if(da(t))for(const e of t.F_)await e(!0)}async function gh(t){for(const e of t.F_)await e(!1)}function Vk(t,e){const n=Ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),m_(n)?g_(n):Ql(n).Jo()&&p_(n,e))}function $k(t,e){const n=Ne(t),r=Ql(n);n.C_.delete(e),r.Jo()&&jk(n,e),n.C_.size===0&&(r.Jo()?r.Xo():da(n)&&n.x_.set("Unknown"))}function p_(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ql(t).c_(e)}function jk(t,e){t.O_.Ne(e),Ql(t).l_(e)}function g_(t){t.O_=new bB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Ql(t).start(),t.x_.p_()}function m_(t){return da(t)&&!Ql(t).Ho()&&t.C_.size>0}function da(t){return Ne(t).v_.size===0}function zk(t){t.O_=void 0}async function E8(t){t.C_.forEach((e,n)=>{p_(t,e)})}async function b8(t,e){zk(t),m_(t)?(t.x_.S_(e),g_(t)):t.x_.set("Unknown")}async function S8(t,e,n){if(t.x_.set("Online"),e instanceof Ck&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rf(t,r)}else if(e instanceof kd?t.O_.Ue(e):e instanceof kk?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Ce.min()))try{const r=await Bk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Wn.EMPTY_BYTE_STRING,c.snapshotVersion)),jk(s,l);const d=new Ls(c.target,l,u,c.sequenceNumber);p_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await Rf(t,r)}}async function Rf(t,e,n){if(!hh(e))throw e;t.v_.add(1),await gh(t),t.x_.set("Offline"),n||(n=()=>Bk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Up(t)})}function Hk(t,e){return e().catch(n=>Rf(t,n,e))}async function Fp(t){const e=Ne(t),n=no(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;I8(e);)try{const i=await u8(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,A8(e,i)}catch(i){await Rf(e,i)}qk(e)&&Wk(e)}function I8(t){return da(t)&&t.D_.length<10}function A8(t,e){t.D_.push(e);const n=no(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function qk(t){return da(t)&&!no(t).Ho()&&t.D_.length>0}function Wk(t){no(t).start()}async function T8(t){no(t).d_()}async function k8(t){const e=no(t);for(const n of t.D_)e.I_(n.mutations)}async function C8(t,e,n){const r=t.D_.shift(),i=l_.from(r,e,n);await Hk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fp(t)}async function R8(t,e){e&&no(t).P_&&await async function(r,i){if(function(o){return wB(o)&&o!==Z.ABORTED}(i.code)){const s=r.D_.shift();no(r).Zo(),await Hk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fp(r)}}(t,e),qk(t)&&Wk(t)}async function sb(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=da(n);n.v_.add(3),await gh(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Up(n)}async function P8(t,e){const n=Ne(t);e?(n.v_.delete(2),await Up(n)):e||(n.v_.add(2),await gh(n),n.x_.set("Unknown"))}function Ql(t){return t.N_||(t.N_=function(n,r,i){const s=Ne(n);return s.R_(),new y8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:E8.bind(null,t),To:b8.bind(null,t),u_:S8.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),m_(t)?g_(t):t.x_.set("Unknown")):(await t.N_.stop(),zk(t))})),t.N_}function no(t){return t.B_||(t.B_=function(n,r,i){const s=Ne(n);return s.R_(),new v8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:T8.bind(null,t),To:R8.bind(null,t),E_:k8.bind(null,t),T_:C8.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Fp(t)):(await t.B_.stop(),t.D_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new y_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(t,e){if(ls("AsyncQueue",`${e}: ${t}`),hh(t))return new fe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.L_=new St(ve.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Se():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bl(e,n,nl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.q_=void 0,this.listeners=[]}}class M8{constructor(){this.queries=new Gl(e=>fk(e),Np),this.onlineState="Unknown",this.Q_=new Set}}async function Kk(t,e){const n=Ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new N8),i)try{s.q_=await n.onListen(r)}catch(o){const a=v_(o,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&__(n)}async function Gk(t,e){const n=Ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function L8(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&__(n)}function O8(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function __(t){t.Q_.forEach(e=>{e.next()})}class Qk{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.key=e}}class Xk{constructor(e){this.key=e}}class D8{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Fe(),this.mutatedKeys=Fe(),this.aa=pk(e),this.ua=new nl(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new ob,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const y=i.get(c),_=Mp(this.query,d)?d:null,S=!!y&&this.mutatedKeys.has(y.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;y&&_?y.data.isEqual(_.data)?S!==x&&(r.track({type:3,doc:_}),A=!0):this.Pa(y,_)||(r.track({type:2,doc:_}),A=!0,(l&&this.aa(_,l)>0||u&&this.aa(_,u)<0)&&(a=!0)):!y&&_?(r.track({type:0,doc:_}),A=!0):y&&!_&&(r.track({type:1,doc:y}),A=!0,(l||u)&&(a=!0)),A&&(_?(o=o.add(_),s=x?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((u,c)=>function(y,_){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return S(y)-S(_)}(u.type,c.type)||this.aa(u.doc,c.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new bl(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new ob,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Fe(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new Xk(r))}),this._a.forEach(r=>{e.has(r)||n.push(new Yk(r))}),n}Aa(e){this.sa=e.hs,this._a=Fe();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return bl.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class B8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U8{constructor(e){this.key=e,this.Va=!1}}class F8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Gl(a=>fk(a),Np),this.ga=new Map,this.pa=new Set,this.ya=new St(ve.comparator),this.wa=new Map,this.Sa=new h_,this.ba={},this.Da=new Map,this.Ca=El.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function V8(t,e){const n=Y8(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await c8(n.localStore,Ci(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await $8(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Vk(n.remoteStore,o)}return i}async function $8(t,e,n,r,i){t.Fa=(d,y,_)=>async function(x,A,w,b){let m=A.view.la(w);m.Xi&&(m=await nb(x.localStore,A.query,!1).then(({documents:D})=>A.view.la(D,m)));const P=b&&b.targetChanges.get(A.targetId),N=A.view.applyChanges(m,x.isPrimaryClient,P);return lb(x,A.targetId,N.Ea),N.snapshot}(t,d,y,_);const s=await nb(t.localStore,e,!0),o=new D8(e,s.hs),a=o.la(s.documents),l=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);lb(t,n,u.Ea);const c=new B8(e,n,o);return t.fa.set(e,c),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function j8(t,e){const n=Ne(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!Np(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$k(n.remoteStore,r.targetId),Yy(n,r.targetId)}).catch(ch)):(Yy(n,r.targetId),await Qy(n.localStore,r.targetId,!0))}async function z8(t,e,n){const r=X8(t);try{const i=await function(o,a){const l=Ne(o),u=un.now(),c=a.reduce((_,S)=>_.add(S.key),Fe());let d,y;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=us(),x=Fe();return l.os.getEntries(_,c).next(A=>{S=A,S.forEach((w,b)=>{b.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,S)).next(A=>{d=A;const w=[];for(const b of a){const m=gB(b,d.get(b.key).overlayedDocument);m!=null&&w.push(new ho(b.key,m,sk(m.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,w,a)}).next(A=>{y=A;const w=A.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(_,A.batchId,w)})}).then(()=>({batchId:y.batchId,changes:mk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.ba[o.currentUser.toKey()];u||(u=new St(Xe)),u=u.insert(a,l),o.ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await mh(r,i.changes),await Fp(r.remoteStore)}catch(i){const s=v_(i,"Failed to persist write");n.reject(s)}}async function Jk(t,e){const n=Ne(t);try{const r=await a8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?pt(o.Va):i.removedDocuments.size>0&&(pt(o.Va),o.Va=!1))}),await mh(n,r,e)}catch(r){await ch(r)}}function ab(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const y of d.listeners)y.K_(a)&&(u=!0)}),u&&__(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H8(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new St(ve.comparator);o=o.insert(s,$n.newNoDocument(s,Ce.min()));const a=Fe().add(s),l=new Dp(Ce.min(),new Map,new St(Xe),o,a);await Jk(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),w_(r)}else await Qy(r.localStore,e,!1).then(()=>Yy(r,e,n)).catch(ch)}async function q8(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await o8(n.localStore,e);eC(n,r,null),Zk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mh(n,i)}catch(i){await ch(i)}}async function W8(t,e,n){const r=Ne(t);try{const i=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(pt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);eC(r,e,n),Zk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mh(r,i)}catch(i){await ch(i)}}function Zk(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function eC(t,e,n){const r=Ne(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function Yy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||tC(t,r)})}function tC(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&($k(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),w_(t))}function lb(t,e,n){for(const r of n)r instanceof Yk?(t.Sa.addReference(r.key,e),K8(t,r)):r instanceof Xk?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||tC(t,r.key)):Se()}function K8(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.pa.add(r),w_(t))}function w_(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new ve(dt.fromString(e)),r=t.Ca.next();t.wa.set(r,new U8(n)),t.ya=t.ya.insert(n,r),Vk(t.remoteStore,new Ls(Ci(o_(n.path)),r,"TargetPurposeLimboResolution",e_.ae))}}async function mh(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=f_.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,u){const c=Ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ne.forEach(u,y=>ne.forEach(y.qi,_=>c.persistence.referenceDelegate.addReference(d,y.targetId,_)).next(()=>ne.forEach(y.Qi,_=>c.persistence.referenceDelegate.removeReference(d,y.targetId,_)))))}catch(d){if(!hh(d))throw d;pe("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const y=d.targetId;if(!d.fromCache){const _=c.ns.get(y),S=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(S);c.ns=c.ns.insert(y,x)}}}(r.localStore,s))}async function G8(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await Dk(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new fe(Z.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mh(n,r.us)}}function Q8(t,e){const n=Ne(t),r=n.wa.get(e);if(r&&r.Va)return Fe().add(r.key);{let i=Fe();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function Y8(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H8.bind(null,e),e.ma.u_=L8.bind(null,e.eventManager),e.ma.Ma=O8.bind(null,e.eventManager),e}function X8(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W8.bind(null,e),e}class ub{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return s8(this.persistence,new r8,e.initialUser,this.serializer)}createPersistence(e){return new e8(d_.Hr,this.serializer)}createSharedClientState(e){return new d8}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class J8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ab(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G8.bind(null,this.syncEngine),await P8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M8}()}createDatastore(e){const n=Bp(e.databaseInfo.databaseId),r=function(s){return new m8(s)}(e.databaseInfo);return function(s,o,a,l){return new _8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new x8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ab(this.syncEngine,n,0),function(){return ib.C()?new ib:new f8}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new F8(i,s,o,a,l,u);return c&&(d.va=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ne(n);pe("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await gh(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=nk.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{pe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(pe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bm(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Dk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tU(t);pe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>sb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>sb(e.remoteStore,s)),t._onlineComponents=e}function eU(t){return t.name==="FirebaseError"?t.code===Z.FAILED_PRECONDITION||t.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function tU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!eU(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await bm(t,new ub)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await bm(t,new ub);return t._offlineComponents}async function rC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await cb(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await cb(t,new J8))),t._onlineComponents}function nU(t){return rC(t).then(e=>e.syncEngine)}async function iC(t){const e=await rC(t),n=e.eventManager;return n.onListen=V8.bind(null,e.syncEngine),n.onUnlisten=j8.bind(null,e.syncEngine),n}function rU(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new nC({next:y=>{o.enqueueAndForget(()=>Gk(s,d));const _=y.docs.has(a);!_&&y.fromCache?u.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&l&&l.source==="server"?u.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),d=new Qk(o_(a.path),c,{includeMetadataChanges:!0,Y_:!0});return Kk(s,d)}(await iC(t),t.asyncQueue,e,n,r)),r.promise}function iU(t,e,n={}){const r=new Zi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new nC({next:y=>{o.enqueueAndForget(()=>Gk(s,d)),y.fromCache&&l.source==="server"?u.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),d=new Qk(a,c,{includeMetadataChanges:!0,Y_:!0});return Kk(s,d)}(await iC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e,n){if(!n)throw new fe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sU(t,e,n,r){if(e===!0&&r===!0)throw new fe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function db(t){if(!ve.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fb(t){if(ve.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vp(t);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $p{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AD;switch(r.type){case"firstParty":return new RD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hb.get(n);r&&(pe("ComponentProvider","Removing Datastore"),hb.delete(n),r.terminate())}(this),Promise.resolve()}}function oU(t,e,n,r={}){var i;const s=(t=Mi(t,$p))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Fn.MOCK_USER;else{a=pA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fn(u)}t._authCredentials=new TD(new tk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yl(this.firestore,e,this._query)}}class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Gs extends Yl{constructor(e,n,r){super(e,n,o_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ve(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function jp(t,e,...n){if(t=Ct(t),oC("collection","path",e),t instanceof $p){const r=dt.fromString(e,...n);return fb(r),new Gs(t,null,r)}{if(!(t instanceof er||t instanceof Gs))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return fb(r),new Gs(t.firestore,null,r)}}function dn(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=nk.V()),oC("doc","path",e),t instanceof $p){const r=dt.fromString(e,...n);return db(r),new er(t,null,new ve(r))}{if(!(t instanceof er||t instanceof Gs))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return db(r),new er(t.firestore,t instanceof Gs?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new Uk(this,"async_queue_retry"),this.su=()=>{const n=Em();n&&pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Em();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Zi;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!hh(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ls("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=y_.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Se()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class Xl extends $p{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aU}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aC(this),this._firestoreClient.terminate()}}function fa(t,e){const n=typeof t=="object"?t:w1(),r=typeof t=="string"?t:e||"(default)",i=hp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hA("firestore");s&&oU(i,...s)}return i}function x_(t){return t._firestoreClient||aC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new jD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,sC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Z8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(Wn.fromBase64String(e))}catch(n){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sl(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=/^__.*__$/;class uU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new fh(e,this.data,n,this.fieldTransforms)}}class lC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Hp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Pf(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(uC(this.Tu)&&lU.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class cU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bp(e)}yu(e,n,r,i=!1){return new Hp({Tu:e,methodName:n,pu:r,path:An.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(t){const e=t._freezeSettings(),n=Bp(t._databaseId);return new cU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cC(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);S_("Data must be an object, but it was:",o,r);const a=dC(r,o);let l,u;if(s.merge)l=new vr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const y=Xy(e,d,n);if(!o.contains(y))throw new fe(Z.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);pC(c,y)||c.push(y)}l=new vr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new uU(new or(a),l,u)}class Wp extends Jl{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wp}}function hC(t,e,n){return new Hp({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class b_ extends Jl{_toFieldTransform(e){return new a_(e.path,new Fc)}isEqual(e){return e instanceof b_}}class hU extends Jl{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=hC(this,e,!0),r=this.wu.map(s=>pa(s,n)),i=new wl(r);return new a_(e.path,i)}isEqual(e){return this===e}}class dU extends Jl{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=hC(this,e,!0),r=this.wu.map(s=>pa(s,n)),i=new xl(r);return new a_(e.path,i)}isEqual(e){return this===e}}function fU(t,e,n,r){const i=t.yu(1,e,n);S_("Data must be an object, but it was:",i,r);const s=[],o=or.empty();ha(r,(l,u)=>{const c=I_(e,l,n);u=Ct(u);const d=i.Vu(c);if(u instanceof Wp)s.push(c);else{const y=pa(u,d);y!=null&&(s.push(c),o.set(c,y))}});const a=new vr(s);return new lC(o,a,i.fieldTransforms)}function pU(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[Xy(e,r,n)],l=[i];if(s.length%2!=0)throw new fe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(Xy(e,s[y])),l.push(s[y+1]);const u=[],c=or.empty();for(let y=a.length-1;y>=0;--y)if(!pC(u,a[y])){const _=a[y];let S=l[y];S=Ct(S);const x=o.Vu(_);if(S instanceof Wp)u.push(_);else{const A=pa(S,x);A!=null&&(u.push(_),c.set(_,A))}}const d=new vr(u);return new lC(c,d,o.fieldTransforms)}function gU(t,e,n,r=!1){return pa(n,t.yu(r?4:3,e))}function pa(t,e){if(fC(t=Ct(t)))return S_("Unsupported field value:",e,t),dC(t,e);if(t instanceof Jl)return function(r,i){if(!uC(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=pa(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=un.fromDate(r);return{timestampValue:Cf(i.serializer,s)}}if(r instanceof un){const s=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cf(i.serializer,s)}}if(r instanceof E_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sl)return{bytesValue:Rk(i.serializer,r._byteString)};if(r instanceof er){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${Vp(r)}`)}(t,e)}function dC(t,e){const n={};return rk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,(r,i)=>{const s=pa(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof E_||t instanceof Sl||t instanceof er||t instanceof Jl)}function S_(t,e,n){if(!fC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vp(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function Xy(t,e,n){if((e=Ct(e))instanceof zp)return e._internalPath;if(typeof e=="string")return I_(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const mU=new RegExp("[~\\*/\\[\\]]");function I_(t,e,n){if(e.search(mU)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zp(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new fe(Z.INVALID_ARGUMENT,a+t+l)}function pC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yU extends gC{data(){return super.data()}}function A_(t,e){return typeof e=="string"?I_(t,e):e instanceof zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T_{}class _U extends T_{}function mC(t,e,...n){let r=[];e instanceof T_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof k_).length,a=s.filter(l=>l instanceof Kp).length;if(o>1||o>0&&a>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kp extends _U{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kp(e,n,r)}_apply(e){const n=this._parse(e);return vC(e._query,n),new Yl(e.firestore,e.converter,zy(e._query,n))}_parse(e){const n=qp(e.firestore);return function(s,o,a,l,u,c,d){let y;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){mb(d,c);const _=[];for(const S of d)_.push(gb(l,s,S));y={arrayValue:{values:_}}}else y=gb(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||mb(d,c),y=gU(a,o,d,c==="in"||c==="not-in");return nn.create(u,c,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yC(t,e,n){const r=e,i=A_("where",t);return Kp._create(i,r,n)}class k_ extends T_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new k_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vC(o,l),o=zy(o,l)}(e._query,n),new Yl(e.firestore,e.converter,zy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gb(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dk(e)&&n.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ve.isDocumentKey(r))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return FE(t,new ve(r))}if(n instanceof er)return FE(t,n._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vp(n)}.`)}function mb(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wU{convertValue(e,n="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new E_(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=n_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=to(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);pt(Ok(r));const i=new Bc(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||ls(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wC extends gC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cd extends wC{data(e={}){return super.data(e)}}class xU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cd(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Cd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:EU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){t=Mi(t,er);const e=Mi(t.firestore,Xl);return rU(x_(e),t._key).then(n=>IU(e,t,n))}class xC extends wU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function C_(t){t=Mi(t,Yl);const e=Mi(t.firestore,Xl),n=x_(e),r=new xC(e);return vU(t._query),iU(n,t._query).then(i=>new xU(e,r,t,i))}function bU(t,e,n){t=Mi(t,er);const r=Mi(t.firestore,Xl),i=_C(t.converter,e,n);return R_(r,[cC(qp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ri.none())])}function ja(t,e,n,...r){t=Mi(t,er);const i=Mi(t.firestore,Xl),s=qp(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof zp?pU(s,"updateDoc",t._key,e,n,r):fU(s,"updateDoc",t._key,e),R_(i,[o.toMutation(t._key,ri.exists(!0))])}function SU(t,e){const n=Mi(t.firestore,Xl),r=dn(t),i=_C(t.converter,e);return R_(n,[cC(qp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}function R_(t,e){return function(r,i){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>z8(await nU(r),i,s)),s.promise}(x_(t),e)}function IU(t,e,n){const r=n.docs.get(e._key),i=new xC(t);return new wC(t,i,e._key,r,new Lu(n.hasPendingWrites,n.fromCache),e.converter)}function AU(){return new b_("serverTimestamp")}function Sm(...t){return new hU("arrayUnion",t)}function TU(...t){return new dU("arrayRemove",t)}(function(e,n=!0){(function(i){Kl=i})(la),Go(new Zs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Xl(new kD(r.getProvider("auth-internal")),new ND(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ai(OE,"4.3.0",e),Ai(OE,"4.3.0","esm2017")})();const Im=(()=>{const t={};let e=1;return{set(n,r,i){typeof n[r]>"u"&&(n[r]={key:r,id:e},e++),t[n[r].id]=i},get(n,r){if(!n||typeof n[r]>"u")return null;const i=n[r];return i.key===r?t[i.id]:null},delete(n,r){if(typeof n[r]>"u")return;const i=n[r];i.key===r&&(delete t[i.id],delete n[r])}}})(),Xi={setData(t,e,n){Im.set(t,e,n)},getData(t,e){return Im.get(t,e)},removeData(t,e){Im.delete(t,e)}},kU=1e6,CU=1e3,Jy="transitionend",RU=t=>t==null?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),EC=t=>{do t+=Math.floor(Math.random()*kU);while(document.getElementById(t));return t},bC=t=>{let e=t.getAttribute("data-te-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},SC=t=>{const e=bC(t);return e&&document.querySelector(e)?e:null},Vc=t=>{const e=bC(t);return e?document.querySelector(e):null},PU=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*CU)},NU=t=>{t.dispatchEvent(new Event(Jy))},$c=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Il=t=>$c(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,Al=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],s=e[r],o=s&&$c(s)?"element":RU(s);if(!new RegExp(i).test(o))throw new Error(`${t.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)})},Gp=t=>{if(!t||t.getClientRects().length===0)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return getComputedStyle(t).getPropertyValue("visibility")==="visible"||e.display!=="none"&&n.display!=="none"&&e.visibility!=="hidden"}return!1},rl=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",IC=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?IC(t.parentNode):null},Nf=()=>function(){},MU=t=>{t.offsetHeight},AC=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-te-no-jquery")?t:null},Am=[],LU=t=>{document.readyState==="loading"?(Am.length||document.addEventListener("DOMContentLoaded",()=>{Am.forEach(e=>e())}),Am.push(t)):t()},Li=()=>document.documentElement.dir==="rtl",TC=t=>document.createElement(t),yb=t=>{typeof t=="function"&&t()},OU=(t,e,n=!0)=>{if(!n){yb(t);return}const r=5,i=PU(e)+r;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(Jy,o),yb(t))};e.addEventListener(Jy,o),setTimeout(()=>{s||NU(e)},i)},DU=(t,e,n,r)=>{let i=t.indexOf(e);if(i===-1)return t[!n&&r?t.length-1:0];const s=t.length;return i+=n?1:-1,r&&(i=(i+s)%s),t[Math.max(0,Math.min(i,s-1))]},BU=/[^.]*(?=\..*)\.|.*/,UU=/\..*/,FU=/::\d+$/,Tm={};let vb=1;const VU={mouseenter:"mouseover",mouseleave:"mouseout"},$U=/^(mouseenter|mouseleave)/i,kC=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CC(t,e){return e&&`${e}::${vb++}`||t.uidEvent||vb++}function RC(t){const e=CC(t);return t.uidEvent=e,Tm[e]=Tm[e]||{},Tm[e]}function jU(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&Pe.off(t,r.type,e),e.apply(t,[r])}}function zU(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a=s.length;a--;"")if(s[a]===o)return i.delegateTarget=o,r.oneOff&&Pe.off(t,i.type,n),n.apply(o,[i]);return null}}function PC(t,e,n=null){const r=Object.keys(t);for(let i=0,s=r.length;i<s;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function NC(t,e,n){const r=typeof e=="string",i=r?n:e;let s=MC(t);return kC.has(s)||(s=t),[r,i,s]}function _b(t,e,n,r,i){if(typeof e!="string"||!t)return;if(n||(n=r,r=null),$U.test(e)){const _=S=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return S.call(this,x)};r?r=_(r):n=_(n)}const[s,o,a]=NC(e,n,r),l=RC(t),u=l[a]||(l[a]={}),c=PC(u,o,s?n:null);if(c){c.oneOff=c.oneOff&&i;return}const d=CC(o,e.replace(BU,"")),y=s?zU(t,n,r):jU(t,n);y.delegationSelector=s?n:null,y.originalHandler=o,y.oneOff=i,y.uidEvent=d,u[d]=y,t.addEventListener(a,y,s)}function Zy(t,e,n,r,i){const s=PC(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function HU(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(s=>{if(s.includes(r)){const o=i[s];Zy(t,e,n,o.originalHandler,o.delegationSelector)}})}function MC(t){return t=t.replace(UU,""),VU[t]||t}const Pe={on(t,e,n,r){_b(t,e,n,r,!1)},one(t,e,n,r){_b(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=NC(e,n,r),a=o!==e,l=RC(t),u=e.startsWith(".");if(typeof s<"u"){if(!l||!l[o])return;Zy(t,l,o,s,i?n:null);return}u&&Object.keys(l).forEach(d=>{HU(t,l,d,e.slice(1))});const c=l[o]||{};Object.keys(c).forEach(d=>{const y=d.replace(FU,"");if(!a||e.includes(y)){const _=c[d];Zy(t,l,o,_.originalHandler,_.delegationSelector)}})},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=AC(),i=MC(e),s=e!==i,o=kC.has(i);let a,l=!0,u=!0,c=!1,d=null;return s&&r&&(a=r.Event(e,n),r(t).trigger(a),l=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),o?(d=document.createEvent("HTMLEvents"),d.initEvent(i,l,!0)):d=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof n<"u"&&Object.keys(n).forEach(y=>{Object.defineProperty(d,y,{get(){return n[y]}})}),c&&d.preventDefault(),u&&t.dispatchEvent(d),d.defaultPrevented&&typeof a<"u"&&a.preventDefault(),d}},qU="5.1.3";class P_{constructor(e){e=Il(e),e&&(this._element=e,Xi.setData(this._element,this.constructor.DATA_KEY,this))}dispose(){Xi.removeData(this._element,this.constructor.DATA_KEY),Pe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,n,r=!0){OU(e,n,r)}static getInstance(e){return Xi.getData(Il(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return qU}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`te.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}var tr="top",Sr="bottom",Ir="right",nr="left",yh="auto",Zl=[tr,Sr,Ir,nr],Zo="start",Tl="end",LC="clippingParents",N_="viewport",Aa="popper",OC="reference",ev=Zl.reduce(function(t,e){return t.concat([e+"-"+Zo,e+"-"+Tl])},[]),M_=[].concat(Zl,[yh]).reduce(function(t,e){return t.concat([e,e+"-"+Zo,e+"-"+Tl])},[]),DC="beforeRead",BC="read",UC="afterRead",FC="beforeMain",VC="main",$C="afterMain",jC="beforeWrite",zC="write",HC="afterWrite",Mf=[DC,BC,UC,FC,VC,$C,jC,zC,HC];function Oi(t){return t?(t.nodeName||"").toLowerCase():null}function Ar(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ea(t){var e=Ar(t).Element;return t instanceof e||t instanceof Element}function xr(t){var e=Ar(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function L_(t){if(typeof ShadowRoot>"u")return!1;var e=Ar(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function WU(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!xr(s)||!Oi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function KU(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!xr(i)||!Oi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const O_={name:"applyStyles",enabled:!0,phase:"write",fn:WU,effect:KU,requires:["computeStyles"]};function ii(t){return t.split("-")[0]}var Bo=Math.max,Lf=Math.min,kl=Math.round;function tv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function qC(){return!/^((?!chrome|android).)*safari/i.test(tv())}function Cl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&xr(t)&&(i=t.offsetWidth>0&&kl(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&kl(r.height)/t.offsetHeight||1);var o=ea(t)?Ar(t):window,a=o.visualViewport,l=!qC()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,y=r.height/s;return{width:d,height:y,top:c,right:u+d,bottom:c+y,left:u,x:u,y:c}}function D_(t){var e=Cl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function WC(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&L_(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ci(t){return Ar(t).getComputedStyle(t)}function GU(t){return["table","td","th"].indexOf(Oi(t))>=0}function fo(t){return((ea(t)?t.ownerDocument:t.document)||window.document).documentElement}function Qp(t){return Oi(t)==="html"?t:t.assignedSlot||t.parentNode||(L_(t)?t.host:null)||fo(t)}function wb(t){return!xr(t)||ci(t).position==="fixed"?null:t.offsetParent}function QU(t){var e=/firefox/i.test(tv()),n=/Trident/i.test(tv());if(n&&xr(t)){var r=ci(t);if(r.position==="fixed")return null}var i=Qp(t);for(L_(i)&&(i=i.host);xr(i)&&["html","body"].indexOf(Oi(i))<0;){var s=ci(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function vh(t){for(var e=Ar(t),n=wb(t);n&&GU(n)&&ci(n).position==="static";)n=wb(n);return n&&(Oi(n)==="html"||Oi(n)==="body"&&ci(n).position==="static")?e:n||QU(t)||e}function B_(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ec(t,e,n){return Bo(t,Lf(e,n))}function YU(t,e,n){var r=ec(t,e,n);return r>n?n:r}function KC(){return{top:0,right:0,bottom:0,left:0}}function GC(t){return Object.assign({},KC(),t)}function QC(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var XU=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,GC(typeof t!="number"?t:QC(t,Zl))};function JU(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ii(n.placement),l=B_(a),u=[nr,Ir].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=XU(i.padding,n),y=D_(s),_=l==="y"?tr:nr,S=l==="y"?Sr:Ir,x=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],A=o[l]-n.rects.reference[l],w=vh(s),b=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,m=x/2-A/2,P=d[_],N=b-y[c]-d[S],D=b/2-y[c]/2+m,F=ec(P,D,N),V=l;n.modifiersData[r]=(e={},e[V]=F,e.centerOffset=F-D,e)}}function ZU(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;if(i!=null&&!(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i))){if({}.NODE_ENV!=="production"&&(xr(i)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),!WC(e.elements.popper,i)){({}).NODE_ENV!=="production"&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}e.elements.arrow=i}}const YC={name:"arrow",enabled:!0,phase:"main",fn:JU,effect:ZU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rl(t){return t.split("-")[1]}var e9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function t9(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:kl(n*i)/i||0,y:kl(r*i)/i||0}}function xb(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,y=o.x,_=y===void 0?0:y,S=o.y,x=S===void 0?0:S,A=typeof c=="function"?c({x:_,y:x}):{x:_,y:x};_=A.x,x=A.y;var w=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),m=nr,P=tr,N=window;if(u){var D=vh(n),F="clientHeight",V="clientWidth";if(D===Ar(n)&&(D=fo(n),ci(D).position!=="static"&&a==="absolute"&&(F="scrollHeight",V="scrollWidth")),D=D,i===tr||(i===nr||i===Ir)&&s===Tl){P=Sr;var G=d&&D===N&&N.visualViewport?N.visualViewport.height:D[F];x-=G-r.height,x*=l?1:-1}if(i===nr||(i===tr||i===Sr)&&s===Tl){m=Ir;var Y=d&&D===N&&N.visualViewport?N.visualViewport.width:D[V];_-=Y-r.width,_*=l?1:-1}}var Q=Object.assign({position:a},u&&e9),ce=c===!0?t9({x:_,y:x},Ar(n)):{x:_,y:x};if(_=ce.x,x=ce.y,l){var U;return Object.assign({},Q,(U={},U[P]=b?"0":"",U[m]=w?"0":"",U.transform=(N.devicePixelRatio||1)<=1?"translate("+_+"px, "+x+"px)":"translate3d("+_+"px, "+x+"px, 0)",U))}return Object.assign({},Q,(e={},e[P]=b?x+"px":"",e[m]=w?_+"px":"",e.transform="",e))}function n9(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a;if({}.NODE_ENV!=="production"){var u=ci(e.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some(function(d){return u.indexOf(d)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var c={placement:ii(e.placement),variation:Rl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,xb(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,xb(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const U_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:n9,data:{}};var Yh={passive:!0};function r9(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Ar(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Yh)}),a&&l.addEventListener("resize",n.update,Yh),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Yh)}),a&&l.removeEventListener("resize",n.update,Yh)}}const F_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:r9,data:{}};var i9={left:"right",right:"left",bottom:"top",top:"bottom"};function Rd(t){return t.replace(/left|right|bottom|top/g,function(e){return i9[e]})}var s9={start:"end",end:"start"};function Eb(t){return t.replace(/start|end/g,function(e){return s9[e]})}function V_(t){var e=Ar(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function $_(t){return Cl(fo(t)).left+V_(t).scrollLeft}function o9(t,e){var n=Ar(t),r=fo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=qC();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+$_(t),y:l}}function a9(t){var e,n=fo(t),r=V_(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Bo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Bo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+$_(t),l=-r.scrollTop;return ci(i||n).direction==="rtl"&&(a+=Bo(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function j_(t){var e=ci(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function XC(t){return["html","body","#document"].indexOf(Oi(t))>=0?t.ownerDocument.body:xr(t)&&j_(t)?t:XC(Qp(t))}function tc(t,e){var n;e===void 0&&(e=[]);var r=XC(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ar(r),o=i?[s].concat(s.visualViewport||[],j_(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(tc(Qp(o)))}function nv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function l9(t,e){var n=Cl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bb(t,e,n){return e===N_?nv(o9(t,n)):ea(e)?l9(e,n):nv(a9(fo(t)))}function u9(t){var e=tc(Qp(t)),n=["absolute","fixed"].indexOf(ci(t).position)>=0,r=n&&xr(t)?vh(t):t;return ea(r)?e.filter(function(i){return ea(i)&&WC(i,r)&&Oi(i)!=="body"}):[]}function c9(t,e,n,r){var i=e==="clippingParents"?u9(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=bb(t,u,r);return l.top=Bo(c.top,l.top),l.right=Lf(c.right,l.right),l.bottom=Lf(c.bottom,l.bottom),l.left=Bo(c.left,l.left),l},bb(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function JC(t){var e=t.reference,n=t.element,r=t.placement,i=r?ii(r):null,s=r?Rl(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case tr:l={x:o,y:e.y-n.height};break;case Sr:l={x:o,y:e.y+e.height};break;case Ir:l={x:e.x+e.width,y:a};break;case nr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?B_(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Zo:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Tl:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Pl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?LC:a,u=n.rootBoundary,c=u===void 0?N_:u,d=n.elementContext,y=d===void 0?Aa:d,_=n.altBoundary,S=_===void 0?!1:_,x=n.padding,A=x===void 0?0:x,w=GC(typeof A!="number"?A:QC(A,Zl)),b=y===Aa?OC:Aa,m=t.rects.popper,P=t.elements[S?b:y],N=c9(ea(P)?P:P.contextElement||fo(t.elements.popper),l,c,o),D=Cl(t.elements.reference),F=JC({reference:D,element:m,strategy:"absolute",placement:i}),V=nv(Object.assign({},m,F)),G=y===Aa?V:D,Y={top:N.top-G.top+w.top,bottom:G.bottom-N.bottom+w.bottom,left:N.left-G.left+w.left,right:G.right-N.right+w.right},Q=t.modifiersData.offset;if(y===Aa&&Q){var ce=Q[i];Object.keys(Y).forEach(function(U){var h=[Ir,Sr].indexOf(U)>=0?1:-1,v=[tr,Sr].indexOf(U)>=0?"y":"x";Y[U]+=ce[v]*h})}return Y}function h9(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?M_:l,c=Rl(r),d=c?a?ev:ev.filter(function(S){return Rl(S)===c}):Zl,y=d.filter(function(S){return u.indexOf(S)>=0});y.length===0&&(y=d,{}.NODE_ENV!=="production"&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var _=y.reduce(function(S,x){return S[x]=Pl(t,{placement:x,boundary:i,rootBoundary:s,padding:o})[ii(x)],S},{});return Object.keys(_).sort(function(S,x){return _[S]-_[x]})}function d9(t){if(ii(t)===yh)return[];var e=Rd(t);return[Eb(t),e,Eb(e)]}function f9(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,y=n.altBoundary,_=n.flipVariations,S=_===void 0?!0:_,x=n.allowedAutoPlacements,A=e.options.placement,w=ii(A),b=w===A,m=l||(b||!S?[Rd(A)]:d9(A)),P=[A].concat(m).reduce(function(W,X){return W.concat(ii(X)===yh?h9(e,{placement:X,boundary:c,rootBoundary:d,padding:u,flipVariations:S,allowedAutoPlacements:x}):X)},[]),N=e.rects.reference,D=e.rects.popper,F=new Map,V=!0,G=P[0],Y=0;Y<P.length;Y++){var Q=P[Y],ce=ii(Q),U=Rl(Q)===Zo,h=[tr,Sr].indexOf(ce)>=0,v=h?"width":"height",k=Pl(e,{placement:Q,boundary:c,rootBoundary:d,altBoundary:y,padding:u}),O=h?U?Ir:nr:U?Sr:tr;N[v]>D[v]&&(O=Rd(O));var C=Rd(O),T=[];if(s&&T.push(k[ce]<=0),a&&T.push(k[O]<=0,k[C]<=0),T.every(function(W){return W})){G=Q,V=!1;break}F.set(Q,T)}if(V)for(var M=S?3:1,I=function(W){var X=P.find(function(J){var oe=F.get(J);if(oe)return oe.slice(0,W).every(function(he){return he})});if(X)return G=X,"break"},f=M;f>0;f--){var L=I(f);if(L==="break")break}e.placement!==G&&(e.modifiersData[r]._skip=!0,e.placement=G,e.reset=!0)}}const ZC={name:"flip",enabled:!0,phase:"main",fn:f9,requiresIfExists:["offset"],data:{_skip:!1}};function Sb(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ib(t){return[tr,Ir,Sr,nr].some(function(e){return t[e]>=0})}function p9(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Pl(e,{elementContext:"reference"}),a=Pl(e,{altBoundary:!0}),l=Sb(o,r),u=Sb(a,i,s),c=Ib(l),d=Ib(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const eR={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:p9};function g9(t,e,n){var r=ii(t),i=[nr,tr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[nr,Ir].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function m9(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=M_.reduce(function(c,d){return c[d]=g9(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const tR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:m9};function y9(t){var e=t.state,n=t.name;e.modifiersData[n]=JC({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const z_={name:"popperOffsets",enabled:!0,phase:"read",fn:y9,data:{}};function v9(t){return t==="x"?"y":"x"}function _9(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,y=n.tether,_=y===void 0?!0:y,S=n.tetherOffset,x=S===void 0?0:S,A=Pl(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),w=ii(e.placement),b=Rl(e.placement),m=!b,P=B_(w),N=v9(P),D=e.modifiersData.popperOffsets,F=e.rects.reference,V=e.rects.popper,G=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,Y=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),Q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ce={x:0,y:0};if(D){if(s){var U,h=P==="y"?tr:nr,v=P==="y"?Sr:Ir,k=P==="y"?"height":"width",O=D[P],C=O+A[h],T=O-A[v],M=_?-V[k]/2:0,I=b===Zo?F[k]:V[k],f=b===Zo?-V[k]:-F[k],L=e.elements.arrow,W=_&&L?D_(L):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:KC(),J=X[h],oe=X[v],he=ec(0,F[k],W[k]),ge=m?F[k]/2-M-he-J-Y.mainAxis:I-he-J-Y.mainAxis,qe=m?-F[k]/2+M+he+oe+Y.mainAxis:f+he+oe+Y.mainAxis,Te=e.elements.arrow&&vh(e.elements.arrow),Me=Te?P==="y"?Te.clientTop||0:Te.clientLeft||0:0,je=(U=Q==null?void 0:Q[P])!=null?U:0,Oe=O+ge-je-Me,Ge=O+qe-je,fr=ec(_?Lf(C,Oe):C,O,_?Bo(T,Ge):T);D[P]=fr,ce[P]=fr-O}if(a){var Ze,ot=P==="x"?tr:nr,ds=P==="x"?Sr:Ir,We=D[N],Qe=N==="y"?"height":"width",sn=We+A[ot],et=We-A[ds],tt=[tr,nr].indexOf(w)!==-1,yn=(Ze=Q==null?void 0:Q[N])!=null?Ze:0,st=tt?sn:We-F[Qe]-V[Qe]-yn+Y.altAxis,R=tt?We+F[Qe]+V[Qe]-yn-Y.altAxis:et,p=_&&tt?YU(st,We,R):ec(_?st:sn,We,_?R:et);D[N]=p,ce[N]=p-We}e.modifiersData[r]=ce}}const nR={name:"preventOverflow",enabled:!0,phase:"main",fn:_9,requiresIfExists:["offset"]};function w9(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function x9(t){return t===Ar(t)||!xr(t)?V_(t):w9(t)}function E9(t){var e=t.getBoundingClientRect(),n=kl(e.width)/t.offsetWidth||1,r=kl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function b9(t,e,n){n===void 0&&(n=!1);var r=xr(e),i=xr(e)&&E9(e),s=fo(e),o=Cl(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Oi(e)!=="body"||j_(s))&&(a=x9(e)),xr(e)?(l=Cl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=$_(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function S9(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function I9(t){var e=S9(t);return Mf.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function A9(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function gs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(i,s){return i.replace(/%s/,s)},t)}var po='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',T9='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Ab=["name","enabled","phase","fn","effect","requires","options"];function k9(t){t.forEach(function(e){[].concat(Object.keys(e),Ab).filter(function(n,r,i){return i.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof e.name!="string"&&console.error(gs(po,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(gs(po,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":Mf.indexOf(e.phase)<0&&console.error(gs(po,e.name,'"phase"',"either "+Mf.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(gs(po,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(gs(po,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(gs(po,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(gs(po,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+Ab.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach(function(r){t.find(function(i){return i.name===r})==null&&console.error(gs(T9,String(e.name),r,r))})})})}function C9(t,e){var n=new Set;return t.filter(function(r){var i=e(r);if(!n.has(i))return n.add(i),!0})}function R9(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Tb="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",P9="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",kb={placement:"bottom",modifiers:[],strategy:"absolute"};function Cb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Yp(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?kb:i;return function(o,a,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},kb,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},c=[],d=!1,y={state:u,setOptions:function(x){var A=typeof x=="function"?x(u.options):x;S(),u.options=Object.assign({},s,u.options,A),u.scrollParents={reference:ea(o)?tc(o):o.contextElement?tc(o.contextElement):[],popper:tc(a)};var w=I9(R9([].concat(r,u.options.modifiers)));if(u.orderedModifiers=w.filter(function(G){return G.enabled}),{}.NODE_ENV!=="production"){var b=C9([].concat(w,u.options.modifiers),function(G){var Y=G.name;return Y});if(k9(b),ii(u.options.placement)===yh){var m=u.orderedModifiers.find(function(G){var Y=G.name;return Y==="flip"});m||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var P=ci(a),N=P.marginTop,D=P.marginRight,F=P.marginBottom,V=P.marginLeft;[N,D,F,V].some(function(G){return parseFloat(G)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return _(),y.update()},forceUpdate:function(){if(!d){var x=u.elements,A=x.reference,w=x.popper;if(!Cb(A,w)){({}).NODE_ENV!=="production"&&console.error(Tb);return}u.rects={reference:b9(A,vh(w),u.options.strategy==="fixed"),popper:D_(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(G){return u.modifiersData[G.name]=Object.assign({},G.data)});for(var b=0,m=0;m<u.orderedModifiers.length;m++){if({}.NODE_ENV!=="production"&&(b+=1,b>100)){console.error(P9);break}if(u.reset===!0){u.reset=!1,m=-1;continue}var P=u.orderedModifiers[m],N=P.fn,D=P.options,F=D===void 0?{}:D,V=P.name;typeof N=="function"&&(u=N({state:u,options:F,name:V,instance:y})||u)}}},update:A9(function(){return new Promise(function(x){y.forceUpdate(),x(u)})}),destroy:function(){S(),d=!0}};if(!Cb(o,a))return{}.NODE_ENV!=="production"&&console.error(Tb),y;y.setOptions(l).then(function(x){!d&&l.onFirstUpdate&&l.onFirstUpdate(x)});function _(){u.orderedModifiers.forEach(function(x){var A=x.name,w=x.options,b=w===void 0?{}:w,m=x.effect;if(typeof m=="function"){var P=m({state:u,name:A,instance:y,options:b}),N=function(){};c.push(P||N)}})}function S(){c.forEach(function(x){return x()}),c=[]}return y}}var N9=Yp(),M9=[F_,z_,U_,O_],L9=Yp({defaultModifiers:M9}),O9=[F_,z_,U_,O_,tR,ZC,nR,YC,eR],H_=Yp({defaultModifiers:O9});const rR=Object.freeze(Object.defineProperty({__proto__:null,afterMain:$C,afterRead:UC,afterWrite:HC,applyStyles:O_,arrow:YC,auto:yh,basePlacements:Zl,beforeMain:FC,beforeRead:DC,beforeWrite:jC,bottom:Sr,clippingParents:LC,computeStyles:U_,createPopper:H_,createPopperBase:N9,createPopperLite:L9,detectOverflow:Pl,end:Tl,eventListeners:F_,flip:ZC,hide:eR,left:nr,main:VC,modifierPhases:Mf,offset:tR,placements:M_,popper:Aa,popperGenerator:Yp,popperOffsets:z_,preventOverflow:nR,read:BC,reference:OC,right:Ir,start:Zo,top:tr,variationPlacements:ev,viewport:N_,write:zC},Symbol.toStringTag,{value:"Module"}));function km(t){return t==="true"?!0:t==="false"?!1:t===Number(t).toString()?Number(t):t===""||t==="null"?null:t}function Cm(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const He={setDataAttribute(t,e,n){t.setAttribute(`data-te-${Cm(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-te-${Cm(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(n=>n.startsWith("te")).forEach(n=>{if(n.startsWith("teClass"))return;let r=n.replace(/^te/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=km(t.dataset[n])}),e},getDataClassAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter(n=>n.startsWith("teClass")).forEach(n=>{let r=n.replace(/^teClass/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=km(e[n])}),e},getDataAttribute(t,e){return km(t.getAttribute(`data-te-${Cm(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position(t){return{top:t.offsetTop,left:t.offsetLeft}},style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&Rm(e).forEach(n=>{t.classList.contains(n)?t.classList.remove(n):t.classList.add(n)})},addClass(t,e){Rm(e).forEach(n=>!t.classList.contains(n)&&t.classList.add(n))},addStyle(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]})},removeClass(t,e){Rm(e).forEach(n=>t.classList.contains(n)&&t.classList.remove(n))},hasClass(t,e){return t.classList.contains(e)},maxOffset(t){const e=t.getBoundingClientRect();return{top:e.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:e.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function Rm(t){return typeof t=="string"?t.split(" "):Array.isArray(t)?t:!1}const D9=3,Mt={closest(t,e){return t.closest(e)},matches(t,e){return t.matches(e)},find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==D9;)this.matches(r,e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(", ");return this.find(e,t).filter(n=>!rl(n)&&Gp(n))}},Pm="dropdown",B9="te.dropdown",ga=`.${B9}`,q_=".data-api",Pd="Escape",Rb="Space",Pb="Tab",rv="ArrowUp",Nd="ArrowDown",U9=2,F9=new RegExp(`${rv}|${Nd}|${Pd}`),V9=`hide${ga}`,$9=`hidden${ga}`,j9=`show${ga}`,z9=`shown${ga}`,H9=`click${ga}${q_}`,Nb=`keydown${ga}${q_}`,q9=`keyup${ga}${q_}`,ms="show",W9="dropup",K9="dropend",G9="dropstart",Q9="[data-te-navbar-ref]",Xh="[data-te-dropdown-toggle-ref]",Nm="[data-te-dropdown-menu-ref]",Y9="[data-te-navbar-nav-ref]",X9="[data-te-dropdown-menu-ref] [data-te-dropdown-item-ref]:not(.disabled):not(:disabled)",J9=Li()?"top-end":"top-start",Z9=Li()?"top-start":"top-end",eF=Li()?"bottom-end":"bottom-start",tF=Li()?"bottom-start":"bottom-end",nF=Li()?"left-start":"right-start",rF=Li()?"right-start":"left-start",iF=[{opacity:"0"},{opacity:"1"}],sF=[{opacity:"1"},{opacity:"0"}],Jh={duration:550,iterations:1,easing:"ease",fill:"both"},oF={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0,dropdownAnimation:"on"},aF={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)",dropdownAnimation:"string"};class Qr extends P_{constructor(e,n){super(e),this._popper=null,this._config=this._getConfig(n),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._fadeOutAnimate=null;const r=window.matchMedia("(prefers-reduced-motion: reduce)").matches;this._animationCanPlay=this._config.dropdownAnimation==="on"&&!r,this._didInit=!1,this._init()}static get Default(){return oF}static get DefaultType(){return aF}static get NAME(){return Pm}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rl(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(Pe.trigger(this._element,j9,e).defaultPrevented)return;const n=Qr.getParentFromElement(this._element);this._inNavbar?He.setDataAttribute(this._menu,"popper","none"):this._createPopper(n),"ontouchstart"in document.documentElement&&!n.closest(Y9)&&[].concat(...document.body.children).forEach(r=>Pe.on(r,"mouseover",Nf)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.setAttribute(`data-te-dropdown-${ms}`,""),this._animationCanPlay&&this._menu.animate(iF,Jh),this._element.setAttribute(`data-te-dropdown-${ms}`,""),setTimeout(()=>{Pe.trigger(this._element,z9,e)},this._animationCanPlay?Jh.duration:0)}hide(){if(rl(this._element)||!this._isShown(this._menu))return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_init(){this._didInit||(Pe.on(document,Nb,Xh,Qr.dataApiKeydownHandler),Pe.on(document,Nb,Nm,Qr.dataApiKeydownHandler),Pe.on(document,H9,Qr.clearMenus),Pe.on(document,q9,Qr.clearMenus),this._didInit=!0)}_completeHide(e){this._fadeOutAnimate&&this._fadeOutAnimate.playState==="running"||Pe.trigger(this._element,V9,e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(n=>Pe.off(n,"mouseover",Nf)),this._animationCanPlay&&(this._fadeOutAnimate=this._menu.animate(sF,Jh)),setTimeout(()=>{this._popper&&this._popper.destroy(),this._menu.removeAttribute(`data-te-dropdown-${ms}`),this._element.removeAttribute(`data-te-dropdown-${ms}`),this._element.setAttribute("aria-expanded","false"),He.removeDataAttribute(this._menu,"popper"),Pe.trigger(this._element,$9,e)},this._animationCanPlay?Jh.duration:0))}_getConfig(e){if(e={...this.constructor.Default,...He.getDataAttributes(this._element),...e},Al(Pm,e,this.constructor.DefaultType),typeof e.reference=="object"&&!$c(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Pm.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(typeof rR>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;this._config.reference==="parent"?n=e:$c(this._config.reference)?n=Il(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const r=this._getPopperConfig(),i=r.modifiers.find(s=>s.name==="applyStyles"&&s.enabled===!1);this._popper=H_(n,this._menu,r),i&&He.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.dataset[`teDropdown${ms.charAt(0).toUpperCase()+ms.slice(1)}`]===""}_getMenuElement(){return Mt.next(this._element,Nm)[0]}_getPlacement(){const e=this._element.parentNode;if(e.dataset.teDropdownPosition===K9)return nF;if(e.dataset.teDropdownPosition===G9)return rF;const n=e.dataset.teDropdownAlignment==="end";return e.dataset.teDropdownPosition===W9?n?Z9:J9:n?tF:eF}_detectNavbar(){return this._element.closest(Q9)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const r=Mt.find(X9,this._menu).filter(Gp);r.length&&DU(r,n,e===Nd,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Qr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e&&(e.button===U9||e.type==="keyup"&&e.key!==Pb))return;const n=Mt.find(Xh);for(let r=0,i=n.length;r<i;r++){const s=Qr.getInstance(n[r]);if(!s||s._config.autoClose===!1||!s._isShown())continue;const o={relatedTarget:s._element};if(e){const a=e.composedPath(),l=a.includes(s._menu);if(a.includes(s._element)||s._config.autoClose==="inside"&&!l||s._config.autoClose==="outside"&&l||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Pb||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;e.type==="click"&&(o.clickEvent=e)}s._completeHide(o)}}static getParentFromElement(e){return Vc(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===Rb||e.key!==Pd&&(e.key!==Nd&&e.key!==rv||e.target.closest(Nm)):!F9.test(e.key))return;const n=this.dataset[`teDropdown${ms.charAt(0).toUpperCase()+ms.slice(1)}`]==="";if(!n&&e.key===Pd||(e.preventDefault(),e.stopPropagation(),rl(this)))return;const r=this.matches(Xh)?this:Mt.prev(this,Xh)[0],i=Qr.getOrCreateInstance(r);if(e.key===Pd){i.hide();return}if(e.key===rv||e.key===Nd){n||i.show(),i._selectMenuItem(e);return}(!n||e.key===Rb)&&Qr.clearMenus()}}const Mm="collapse",iR="te.collapse",Xp=`.${iR}`,Mb={toggle:!0,parent:null},lF={toggle:"boolean",parent:"(null|element)"},uF=`show${Xp}`,cF=`shown${Xp}`,hF=`hide${Xp}`,dF=`hidden${Xp}`,Lm="data-te-collapse-show",Lb="data-te-collapse-collapsed",Zh="data-te-collapse-collapsing",fF="data-te-collapse-horizontal",za="data-te-collapse-item",Ob=`:scope [${za}] [${za}]`,pF="width",gF="height",mF="[data-te-collapse-item][data-te-collapse-show], [data-te-collapse-item][data-te-collapse-collapsing]",Db="[data-te-collapse-init]",yF={visible:"!visible",hidden:"hidden",baseTransition:"overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none",collapsing:"h-0 transition-[height] overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none",collapsingHorizontal:"w-0 h-auto transition-[width] overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none"},vF={visible:"string",hidden:"string",baseTransition:"string",collapsing:"string",collapsingHorizontal:"string"};class nc extends P_{constructor(e,n,r){super(e),this._isTransitioning=!1,this._config=this._getConfig(n),this._classes=this._getClasses(r),this._triggerArray=[];const i=Mt.find(Db);for(let s=0,o=i.length;s<o;s++){const a=i[s],l=SC(a),u=Mt.find(l).filter(c=>c===this._element);l!==null&&u.length&&(this._selector=l,this._triggerArray.push(a))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Mb}static get NAME(){return Mm}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[],n;if(this._config.parent){const l=Mt.find(Ob,this._config.parent);e=Mt.find(mF,this._config.parent).filter(u=>!l.includes(u))}const r=Mt.findOne(this._selector);if(e.length){const l=e.find(u=>r!==u);if(n=l?nc.getInstance(l):null,n&&n._isTransitioning)return}if(Pe.trigger(this._element,uF).defaultPrevented)return;e.forEach(l=>{r!==l&&nc.getOrCreateInstance(l,{toggle:!1}).hide(),n||Xi.setData(l,iR,null)});const i=this._getDimension(),s=i==="height"?this._classes.collapsing:this._classes.collapsingHorizontal;He.removeClass(this._element,this._classes.visible),He.removeClass(this._element,this._classes.hidden),He.addClass(this._element,s),this._element.removeAttribute(za),this._element.setAttribute(Zh,""),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,He.removeClass(this._element,this._classes.hidden),He.removeClass(this._element,s),He.addClass(this._element,this._classes.visible),this._element.removeAttribute(Zh),this._element.setAttribute(za,""),this._element.setAttribute(Lm,""),this._element.style[i]="",Pe.trigger(this._element,cF)},a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Pe.trigger(this._element,hF).defaultPrevented)return;const e=this._getDimension(),n=e==="height"?this._classes.collapsing:this._classes.collapsingHorizontal;this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,MU(this._element),He.addClass(this._element,n),He.removeClass(this._element,this._classes.visible),He.removeClass(this._element,this._classes.hidden),this._element.setAttribute(Zh,""),this._element.removeAttribute(za),this._element.removeAttribute(Lm);const r=this._triggerArray.length;for(let s=0;s<r;s++){const o=this._triggerArray[s],a=Vc(o);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,He.removeClass(this._element,n),He.addClass(this._element,this._classes.visible),He.addClass(this._element,this._classes.hidden),this._element.removeAttribute(Zh),this._element.setAttribute(za,""),Pe.trigger(this._element,dF)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.hasAttribute(Lm)}_getConfig(e){return e={...Mb,...He.getDataAttributes(this._element),...e},e.toggle=!!e.toggle,e.parent=Il(e.parent),Al(Mm,e,lF),e}_getClasses(e){const n=He.getDataClassAttributes(this._element);return e={...yF,...n,...e},Al(Mm,e,vF),e}_getDimension(){return this._element.hasAttribute(fF)?pF:gF}_initializeChildren(){if(!this._config.parent)return;const e=Mt.find(Ob,this._config.parent);Mt.find(Db,this._config.parent).filter(n=>!e.includes(n)).forEach(n=>{const r=Vc(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))})}_addAriaAndCollapsedClass(e,n){e.length&&e.forEach(r=>{n?r.removeAttribute(Lb):r.setAttribute(`${Lb}`,""),r.setAttribute("aria-expanded",n)})}static jQueryInterface(e){return this.each(function(){const n={};typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1);const r=nc.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}const _F=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wF=/^aria-[\w-]*$/i,xF=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,EF=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,bF=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return _F.has(n)?!!(xF.test(t.nodeValue)||EF.test(t.nodeValue)):!0;const r=e.filter(i=>i instanceof RegExp);for(let i=0,s=r.length;i<s;i++)if(r[i].test(n))return!0;return!1},SF={"*":["class","dir","id","lang","role",wF],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Bb(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(let s=0,o=i.length;s<o;s++){const a=i[s],l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const u=[].concat(...a.attributes),c=[].concat(e["*"]||[],e[l]||[]);u.forEach(d=>{bF(d,c)||a.removeAttribute(d.nodeName)})}return r.body.innerHTML}const Ub="tooltip",IF="te.tooltip",fi=`.${IF}`,AF="te-tooltip",TF=new Set(["sanitize","allowList","sanitizeFn"]),kF={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},CF={AUTO:"auto",TOP:"top",RIGHT:Li()?"left":"right",BOTTOM:"bottom",LEFT:Li()?"right":"left"},RF={animation:!0,template:'<div class="opacity-0 transition-opacity duration-300 ease-in-out absolute z-[1080] block m-0 text-sm not-italic font-normal text-left no-underline underline-offset-auto normal-case leading-6 tracking-normal break-normal whitespace-normal" role="tooltip"><div data-te-tooltip-inner-ref class="tooltip-inner max-w-[200px] text-sm py-1.5 px-4 text-white text-center bg-[#6d6d6d] rounded"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:SF,popperConfig:{hide:!0}},PF={HIDE:`hide${fi}`,HIDDEN:`hidden${fi}`,SHOW:`show${fi}`,SHOWN:`shown${fi}`,INSERTED:`inserted${fi}`,CLICK:`click${fi}`,FOCUSIN:`focusin${fi}`,FOCUSOUT:`focusout${fi}`,MOUSEENTER:`mouseenter${fi}`,MOUSELEAVE:`mouseleave${fi}`},NF="fade",MF="modal",Om="show",yu="show",Dm="out",Fb=".tooltip-inner",Vb=`.${MF}`,$b="hide.te.modal",vu="hover",Bm="focus",LF="click",OF="manual";class eu extends P_{constructor(e,n){if(typeof rR>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(n),this.tip=null,this._setListeners()}static get Default(){return RF}static get NAME(){return Ub}static get Event(){return PF}static get DefaultType(){return kF}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const n=this._initializeOnDelegatedTarget(e);n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(this.getTipElement().classList.contains(Om)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),Pe.off(this._element.closest(Vb),$b,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;const e=Pe.trigger(this._element,this.constructor.Event.SHOW),n=IC(this._element),r=n===null?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(e.defaultPrevented||!r)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(Fb).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),s=EC(this.constructor.NAME);i.setAttribute("id",s),this._element.setAttribute("aria-describedby",s),this._config.animation&&setTimeout(()=>{this.tip.classList.add("opacity-100"),this.tip.classList.remove("opacity-0")},100);const o=typeof this._config.placement=="function"?this._config.placement.call(this,i,this._element):this._config.placement,a=this._getAttachment(o);this._addAttachmentClass(a);const{container:l}=this._config;if(Xi.setData(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(i),Pe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=H_(this._element,i,this._getPopperConfig(a)),i.getAttribute("id").includes("tooltip"))switch(o){case"bottom":i.classList.add("py-[0.4rem]");break;case"left":i.classList.add("px-[0.4rem]");break;case"right":i.classList.add("px-[0.4rem]");break;default:i.classList.add("py-[0.4rem]");break}const u=this._resolvePossibleFunction(this._config.customClass);u&&i.classList.add(...u.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(y=>{Pe.on(y,"mouseover",Nf)});const c=()=>{const y=this._hoverState;this._hoverState=null,Pe.trigger(this._element,this.constructor.Event.SHOWN),y===Dm&&this._leave(null,this)},d=this.tip.classList.contains("transition-opacity");this._queueCallback(c,this.tip,d)}hide(){if(!this._popper)return;const e=this.getTipElement(),n=()=>{this._isWithActiveTrigger()||(this._hoverState!==yu&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),Pe.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())};if(Pe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.add("opacity-0"),e.classList.remove("opacity-100"),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(i=>Pe.off(i,"mouseover",Nf)),this._activeTrigger[LF]=!1,this._activeTrigger[Bm]=!1,this._activeTrigger[vu]=!1;const r=this.tip.classList.contains("opacity-0");this._queueCallback(n,this.tip,r),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return!!this.getTitle()}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const n=e.children[0];return this.setContent(n),n.classList.remove(NF,Om),this.tip=n,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),Fb)}_sanitizeAndSetContent(e,n,r){const i=Mt.findOne(r,e);if(!n&&i){i.remove();return}this.setElementContent(i,n)}setElementContent(e,n){if(e!==null){if($c(n)){n=Il(n),this._config.html?n.parentNode!==e&&(e.innerHTML="",e.append(n)):e.textContent=n.textContent;return}this._config.html?(this._config.sanitize&&(n=Bb(n,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=n):e.textContent=n}}getTitle(){const e=this._element.getAttribute("data-te-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return e==="right"?"end":e==="left"?"start":e}_initializeOnDelegatedTarget(e,n){return n||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:r=>this._handlePopperPlacementChange(r)}],onFirstUpdate:r=>{r.options.placement!==r.placement&&this._handlePopperPlacementChange(r)}};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return CF[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(e=>{if(e==="click")Pe.on(this._element,this.constructor.Event.CLICK,this._config.selector,n=>this.toggle(n));else if(e!==OF){const n=e===vu?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,r=e===vu?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;Pe.on(this._element,n,this._config.selector,i=>this._enter(i)),Pe.on(this._element,r,this._config.selector,i=>this._leave(i))}}),this._hideModalHandler=()=>{this._element&&this.hide()},Pe.on(this._element.closest(Vb),$b,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),n=typeof this._element.getAttribute("data-te-original-title");(e||n!=="string")&&(this._element.setAttribute("data-te-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,n){if(n=this._initializeOnDelegatedTarget(e,n),e&&(n._activeTrigger[e.type==="focusin"?Bm:vu]=!0),n.getTipElement().classList.contains(Om)||n._hoverState===yu){n._hoverState=yu;return}if(clearTimeout(n._timeout),n._hoverState=yu,!n._config.delay||!n._config.delay.show){n.show();return}n._timeout=setTimeout(()=>{n._hoverState===yu&&n.show()},n._config.delay.show)}_leave(e,n){if(n=this._initializeOnDelegatedTarget(e,n),e&&(n._activeTrigger[e.type==="focusout"?Bm:vu]=n._element.contains(e.relatedTarget)),!n._isWithActiveTrigger()){if(clearTimeout(n._timeout),n._hoverState=Dm,!n._config.delay||!n._config.delay.hide){n.hide();return}n._timeout=setTimeout(()=>{n._hoverState===Dm&&n.hide()},n._config.delay.hide)}}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const n=He.getDataAttributes(this._element);return Object.keys(n).forEach(r=>{TF.has(r)&&delete n[r]}),e={...this.constructor.Default,...n,...typeof e=="object"&&e?e:{}},e.container=e.container===!1?document.body:Il(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),Al(Ub,e,this.constructor.DefaultType),e.sanitize&&(e.template=Bb(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e}_cleanTipClass(){const e=this.getTipElement(),n=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),r=e.getAttribute("class").match(n);r!==null&&r.length>0&&r.map(i=>i.trim()).forEach(i=>e.classList.remove(i))}_getBasicClassPrefix(){return AF}_handlePopperPlacementChange(e){const{state:n}=e;n&&(this.tip=n.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(n.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){const n=eu.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}({...eu.Default});({...eu.DefaultType});(()=>{var t={454:(r,i,s)=>{s.d(i,{Z:()=>l});var o=s(645),a=s.n(o)()(function(u){return u[1]});a.push([r.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const l=a},645:r=>{r.exports=function(i){var s=[];return s.toString=function(){return this.map(function(o){var a=i(o);return o[2]?"@media ".concat(o[2]," {").concat(a,"}"):a}).join("")},s.i=function(o,a,l){typeof o=="string"&&(o=[[null,o,""]]);var u={};if(l)for(var c=0;c<this.length;c++){var d=this[c][0];d!=null&&(u[d]=!0)}for(var y=0;y<o.length;y++){var _=[].concat(o[y]);l&&u[_[0]]||(a&&(_[2]?_[2]="".concat(a," and ").concat(_[2]):_[2]=a),s.push(_))}},s}},810:()=>{(function(){if(typeof window<"u")try{var r=new window.CustomEvent("test",{cancelable:!0});if(r.preventDefault(),r.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var i=function(s,o){var a,l;return(o=o||{}).bubbles=!!o.bubbles,o.cancelable=!!o.cancelable,(a=document.createEvent("CustomEvent")).initCustomEvent(s,o.bubbles,o.cancelable,o.detail),l=a.preventDefault,a.preventDefault=function(){l.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},a};i.prototype=window.Event.prototype,window.CustomEvent=i}})()},379:(r,i,s)=>{var o,a=function(){var m={};return function(P){if(m[P]===void 0){var N=document.querySelector(P);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}m[P]=N}return m[P]}}(),l=[];function u(m){for(var P=-1,N=0;N<l.length;N++)if(l[N].identifier===m){P=N;break}return P}function c(m,P){for(var N={},D=[],F=0;F<m.length;F++){var V=m[F],G=P.base?V[0]+P.base:V[0],Y=N[G]||0,Q="".concat(G," ").concat(Y);N[G]=Y+1;var ce=u(Q),U={css:V[1],media:V[2],sourceMap:V[3]};ce!==-1?(l[ce].references++,l[ce].updater(U)):l.push({identifier:Q,updater:b(U,P),references:1}),D.push(Q)}return D}function d(m){var P=document.createElement("style"),N=m.attributes||{};if(N.nonce===void 0){var D=s.nc;D&&(N.nonce=D)}if(Object.keys(N).forEach(function(V){P.setAttribute(V,N[V])}),typeof m.insert=="function")m.insert(P);else{var F=a(m.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(P)}return P}var y,_=(y=[],function(m,P){return y[m]=P,y.filter(Boolean).join(`
`)});function S(m,P,N,D){var F=N?"":D.media?"@media ".concat(D.media," {").concat(D.css,"}"):D.css;if(m.styleSheet)m.styleSheet.cssText=_(P,F);else{var V=document.createTextNode(F),G=m.childNodes;G[P]&&m.removeChild(G[P]),G.length?m.insertBefore(V,G[P]):m.appendChild(V)}}function x(m,P,N){var D=N.css,F=N.media,V=N.sourceMap;if(F?m.setAttribute("media",F):m.removeAttribute("media"),V&&typeof btoa<"u"&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(V))))," */")),m.styleSheet)m.styleSheet.cssText=D;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(D))}}var A=null,w=0;function b(m,P){var N,D,F;if(P.singleton){var V=w++;N=A||(A=d(P)),D=S.bind(null,N,V,!1),F=S.bind(null,N,V,!0)}else N=d(P),D=x.bind(null,N,P),F=function(){(function(G){if(G.parentNode===null)return!1;G.parentNode.removeChild(G)})(N)};return D(m),function(G){if(G){if(G.css===m.css&&G.media===m.media&&G.sourceMap===m.sourceMap)return;D(m=G)}else F()}}r.exports=function(m,P){(P=P||{}).singleton||typeof P.singleton=="boolean"||(P.singleton=(o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o));var N=c(m=m||[],P);return function(D){if(D=D||[],Object.prototype.toString.call(D)==="[object Array]"){for(var F=0;F<N.length;F++){var V=u(N[F]);l[V].references--}for(var G=c(D,P),Y=0;Y<N.length;Y++){var Q=u(N[Y]);l[Q].references===0&&(l[Q].updater(),l.splice(Q,1))}N=G}}}}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return n.d(i,{a:i}),i},n.d=(r,i)=>{for(var s in i)n.o(i,s)&&!n.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:i[s]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),(()=>{var r=n(379),i=n.n(r),s=n(454);function o(l){if(!l.hasAttribute("autocompleted")){l.setAttribute("autocompleted","");var u=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});l.dispatchEvent(u)||(l.value="")}}function a(l){l.hasAttribute("autocompleted")&&(l.removeAttribute("autocompleted"),l.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,n(810),document.addEventListener("animationstart",function(l){l.animationName==="onautofillstart"?o(l.target):a(l.target)},!0),document.addEventListener("input",function(l){l.inputType!=="insertReplacementText"&&"data"in l?a(l.target):o(l.target)},!0)})()})();const Um="ripple",ed="te.ripple",DF="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",BF=["[data-te-ripple-init]"],Fm=[0,0,0],UF=[{name:"primary",gradientColor:"#3B71CA"},{name:"secondary",gradientColor:"#9FA6B2"},{name:"success",gradientColor:"#14A44D"},{name:"danger",gradientColor:"#DC4C64"},{name:"warning",gradientColor:"#E4A11B"},{name:"info",gradientColor:"#54B4D3"},{name:"light",gradientColor:"#fbfbfb"},{name:"dark",gradientColor:"#262626"}],jb=.5,FF={rippleCentered:!1,rippleColor:"",rippleColorDark:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},VF={rippleCentered:"boolean",rippleColor:"string",rippleColorDark:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},$F={ripple:"relative overflow-hidden inline-block align-bottom",rippleWave:"rounded-[50%] opacity-50 pointer-events-none absolute touch-none scale-0 transition-[transform,_opacity] ease-[cubic-bezier(0,0,0.15,1),_cubic-bezier(0,0,0.15,1)] z-[999]",unbound:"overflow-visible"},jF={ripple:"string",rippleWave:"string",unbound:"string"};class W_{constructor(e,n,r){this._element=e,this._options=this._getConfig(n),this._classes=this._getClasses(r),this._element&&(Xi.setData(e,ed,this),He.addClass(this._element,this._classes.ripple)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this._initialClasses=null,this.init()}static get NAME(){return Um}init(){this._addClickEvent(this._element)}dispose(){Xi.removeData(this._element,ed),Pe.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(e){BF.forEach(n=>{Mt.closest(e.target,n)&&(this._element=Mt.closest(e.target,n))}),this._element.style.minWidth||(He.style(this._element,{"min-width":getComputedStyle(this._element).width}),this._isMinWidthSet=!0),this._options=this._getConfig(),this._classes=this._getClasses(),this._initialClasses=[...this._element.classList],He.addClass(this._element,this._classes.ripple),this._createRipple(e)}_addClickEvent(e){Pe.on(e,"mousedown",this._clickHandler)}_createRipple(e){this._element.className.indexOf(this._classes.ripple)<0&&He.addClass(this._element,this._classes.ripple);const{layerX:n,layerY:r}=e,i=e.offsetX||n,s=e.offsetY||r,o=this._element.offsetHeight,a=this._element.offsetWidth,l=this._durationToMsNumber(this._options.rippleDuration),u={offsetX:this._options.rippleCentered?o/2:i,offsetY:this._options.rippleCentered?a/2:s,height:o,width:a},c=this._getDiameter(u),d=this._options.rippleRadius||c/2,y={delay:l*jb,duration:l-l*jb},_={left:this._options.rippleCentered?`${a/2-d}px`:`${i-d}px`,top:this._options.rippleCentered?`${o/2-d}px`:`${s-d}px`,height:`${this._options.rippleRadius*2||c}px`,width:`${this._options.rippleRadius*2||c}px`,transitionDelay:`0s, ${y.delay}ms`,transitionDuration:`${l}ms, ${y.duration}ms`},S=TC("div");this._createHTMLRipple({wrapper:this._element,ripple:S,styles:_}),this._removeHTMLRipple({ripple:S,duration:l})}_createHTMLRipple({wrapper:e,ripple:n,styles:r}){Object.keys(r).forEach(i=>n.style[i]=r[i]),He.addClass(n,this._classes.rippleWave),n.setAttribute("data-te-ripple-ref",""),this._addColor(n,e),this._toggleUnbound(e),this._appendRipple(n,e)}_removeHTMLRipple({ripple:e,duration:n}){this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),e&&setTimeout(()=>{e.classList.add("!opacity-0")},10),this._rippleTimer=setTimeout(()=>{if(e&&(e.remove(),this._element)){Mt.find("[data-te-ripple-ref]",this._element).forEach(i=>{i.remove()}),this._isMinWidthSet&&(He.style(this._element,{"min-width":""}),this._isMinWidthSet=!1);const r=this._initialClasses?this._addedNewRippleClasses(this._classes.ripple,this._initialClasses):this._classes.ripple.split(" ");He.removeClass(this._element,r)}},n)}_addedNewRippleClasses(e,n){return e.split(" ").filter(r=>n.findIndex(i=>r===i)===-1)}_durationToMsNumber(e){return Number(e.replace("ms","").replace("s","000"))}_getConfig(e={}){const n=He.getDataAttributes(this._element);return e={...FF,...n,...e},Al(Um,e,VF),e}_getClasses(e={}){const n=He.getDataClassAttributes(this._element);return e={...$F,...n,...e},Al(Um,e,jF),e}_getDiameter({offsetX:e,offsetY:n,height:r,width:i}){const s=n<=r/2,o=e<=i/2,a=(y,_)=>Math.sqrt(y**2+_**2),l=n===r/2&&e===i/2,u={first:s===!0&&o===!1,second:s===!0&&o===!0,third:s===!1&&o===!0,fourth:s===!1&&o===!1},c={topLeft:a(e,n),topRight:a(i-e,n),bottomLeft:a(e,r-n),bottomRight:a(i-e,r-n)};let d=0;return l||u.fourth?d=c.topLeft:u.third?d=c.topRight:u.second?d=c.bottomRight:u.first&&(d=c.bottomLeft),d*2}_appendRipple(e,n){n.appendChild(e),setTimeout(()=>{He.addClass(e,"opacity-0 scale-100")},50)}_toggleUnbound(e){this._options.rippleUnbound===!0?He.addClass(e,this._classes.unbound):He.removeClass(e,this._classes.unbound)}_addColor(e){let n=this._options.rippleColor||"rgb(0,0,0)";(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(n=this._options.rippleColorDark||this._options.rippleColor);const r=UF.find(o=>o.name===n.toLowerCase()),i=r?this._colorToRGB(r.gradientColor).join(","):this._colorToRGB(n).join(","),s=DF.split("{{color}}").join(`${i}`);e.style.backgroundImage=`radial-gradient(circle, ${s})`}_colorToRGB(e){function n(s){return s.length<7&&(s=`#${s[1]}${s[1]}${s[2]}${s[2]}${s[3]}${s[3]}`),[parseInt(s.substr(1,2),16),parseInt(s.substr(3,2),16),parseInt(s.substr(5,2),16)]}function r(s){const o=document.body.appendChild(document.createElement("fictum")),a="rgb(1, 2, 3)";return o.style.color=a,o.style.color!==a||(o.style.color=s,o.style.color===a||o.style.color==="")?Fm:(s=getComputedStyle(o).color,document.body.removeChild(o),s)}function i(s){return s=s.match(/[.\d]+/g).map(o=>+Number(o)),s.length=3,s}return e.toLowerCase()==="transparent"?Fm:e[0]==="#"?n(e):(e.indexOf("rgb")===-1&&(e=r(e)),e.indexOf("rgb")===0?i(e):Fm)}static autoInitial(e){return function(n){e._autoInit(n)}}static jQueryInterface(e){return this.each(function(){return Xi.getData(this,ed)?null:new W_(this,e)})}static getInstance(e){return Xi.getData(e,ed)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}}Li();Li();EC("chips-input-");const ys={plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}},zF={line:{options:{...ys,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bar:{options:{...ys,backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},pie:{options:{...ys,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},doughnut:{options:{...ys,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},polarArea:{options:{...ys,elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}}},radar:{options:{...ys,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},scatter:{options:{...ys,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bubble:{options:{...ys,elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}}};var Jp=function(t){this.element=t,this.handlers={}},sR={isEmpty:{configurable:!0}};Jp.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};Jp.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(n.element.removeEventListener(t,r,!1),!1)})};Jp.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};sR.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(Jp.prototype,sR);typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),typeof navigator<"u"&&navigator.msMaxTouchPoints,typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent);TC("div");const HF=t=>{LU(()=>{const e=AC();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},qF=(t,e)=>{Pe.on(document,`click.te.${t.NAME}`,e,function(n){n.preventDefault(),t.getOrCreateInstance(this).toggle()})},WF=(t,e)=>{Pe.on(document,`click.te.${t.NAME}.data-api`,e,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!rl(this)&&t.getOrCreateInstance(this).show()})},KF=(t,e)=>{Pe.on(document,`click.te.${t.NAME}.data-api`,e,function(n){const r=Vc(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),rl(this))return;Pe.one(r,t.EVENT_HIDDEN,()=>{Gp(this)&&this.focus()});const i=Mt.findOne(t.OPEN_SELECTOR);i&&i!==r&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},GF=(t,e)=>{Pe.on(document,`click.te.${t.NAME}`,e,n=>{n.preventDefault();const r=n.target.closest(e);t.getOrCreateInstance(r).toggle()})},QF=(t,e)=>{Pe.on(document,`click.te.${t.NAME}`,e,function(n){const r=Vc(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Pe.one(r,t.EVENT_SHOW,s=>{s.defaultPrevented||Pe.one(r,t.EVENT_HIDDEN,()=>{Gp(this)&&this.focus()})});const i=Mt.findOne(`[${t.OPEN_SELECTOR}="true"]`);i&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},YF=(t,e)=>{Pe.one(document,"mousedown",e,t.autoInitial(new t))},XF=(t,e)=>{Pe.on(document,`click.te.${t.NAME}.data-api`,e,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const r=SC(this);Mt.find(r).forEach(i=>{t.getOrCreateInstance(i,{toggle:!1}).toggle()})})},JF=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},ZF=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},e7=(t,e)=>{Mt.find(e).forEach(n=>{new t(n)}),Pe.on(document,`click.te.${t.NAME}.data-api`,`${e} img:not([data-te-lightbox-disabled])`,t.toggle())},t7=(t,e)=>{const n=s=>s[0]==="{"&&s[s.length-1]==="}"||s[0]==="["&&s[s.length-1]==="]",r=s=>typeof s!="string"?s:n(s)?JSON.parse(s.replace(/'/g,'"')):s,i=s=>{const o={};return Object.keys(s).forEach(a=>{if(a.match(/dataset.*/)){const l=a.slice(7,8).toLowerCase().concat(a.slice(8));o[l]=r(s[a])}}),o};Mt.find(e).forEach(s=>{if(He.getDataAttribute(s,"chart")!=="bubble"&&He.getDataAttribute(s,"chart")!=="scatter"){const o=He.getDataAttributes(s),a={data:{datasets:[i(o)]}};return o.chart&&(a.type=o.chart),o.labels&&(a.data.labels=JSON.parse(o.labels.replace(/'/g,'"'))),new t(s,{...a,...zF[a.type]})}return null})};class n7{constructor(){this.inits=[]}get initialized(){return this.inits}isInited(e){return this.inits.includes(e)}add(e){this.isInited(e)||this.inits.push(e)}}const iv=new n7,Ou={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:t7},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:GF},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:XF},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:qF},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:QF},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:YF},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:KF},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:WF},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:JF},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:ZF},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:e7},touch:{name:"Touch",selector:"[data-te-touch-init]"}},r7=t=>Ou[t.NAME]||null,i7=(t,e)=>{if(!t||!e.allowReinits&&iv.isInited(t.NAME))return;iv.add(t.NAME);const n=r7(t),r=(n==null?void 0:n.isToggler)||!1;if(HF(t),n!=null&&n.advanced){n==null||n.advanced(t,n==null?void 0:n.selector);return}if(r){n==null||n.callback(t,n==null?void 0:n.selector);return}Mt.find(n==null?void 0:n.selector).forEach(i=>{let s=t.getInstance(i);s||(s=new t(i),n!=null&&n.onInit&&s[n.onInit]())})},s7=(t,e)=>{t.forEach(n=>i7(n,e))},o7={allowReinits:!1,checkOtherImports:!1},K_=(t,e={})=>{e={...o7,...e};const n=Object.keys(Ou).map(r=>{if(document.querySelector(Ou[r].selector)){const i=t[Ou[r].name];return!i&&!iv.isInited(r)&&e.checkOtherImports&&console.warn(`Please import ${Ou[r].name} from "tw-elements" package and add it to a object parameter inside "initTE" function`),i}});s7(n,e)},a7=()=>E.jsxs(E.Fragment,{children:[E.jsxs("nav",{className:"navbar",children:[E.jsx(wo,{to:"/freeflow-edu/",className:({isActive:t})=>t?"link active":"link",children:"Login"}),E.jsx(wo,{to:"/freeflow-edu/register",className:({isActive:t})=>t?"link active":"link",children:"Register"})]}),E.jsx(sA,{})]}),il=t=>!(t!==void 0&&t!=null&&t.length>0),Qn=t=>t.charAt(0).toUpperCase()+t.slice(1),l7={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},u7=ao(l7),c7=fa(u7),h7=t=>{ee.useEffect(()=>{K_({Collapse:nc,Dropdown:Qr,Tooltip:eu})},[]);const e=dn(c7,"Users",t.state.user.uid);return(async()=>{try{const r=await xi(e);r.data().role==="teacher"?$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M576 48H224c-8.8 0-16 7.2-16 16v41.3c-14.8-6-31-9.3-48-9.3V64c0-35.3 28.7-64 64-64H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H544 520 392 368 336.8c-8.3-18-19.8-34.2-33.7-48H368V328c0-30.9 25.1-56 56-56h64c30.9 0 56 25.1 56 56v40h32c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16zM496 368V328c0-4.4-3.6-8-8-8H424c-4.4 0-8 3.6-8 8v40h80zM208 224a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM64 224a96 96 0 1 1 192 0A96 96 0 1 1 64 224zM50.7 464H269.3c-9.5-36.8-42.9-64-82.6-64H133.3c-39.8 0-73.2 27.2-82.6 64zM0 485.3C0 411.7 59.7 352 133.3 352h53.3C260.3 352 320 411.7 320 485.3c0 14.7-11.9 26.7-26.7 26.7H26.7C11.9 512 0 500.1 0 485.3z"></path></svg>'):r.data().role==="student"?$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M320 80c2.5 0 5 .4 7.4 1.3l218 78.7-218 78.7c-2.4 .9-4.9 1.3-7.4 1.3s-5-.4-7.4-1.3L184.9 192.6l140.8-52.8c8.3-3.1 12.5-12.3 9.4-20.6s-12.3-12.5-20.6-9.4L154.9 169.6c-5.2 2-10.3 4.2-15.3 6.6L94.7 160l218-78.7c2.4-.9 4.9-1.3 7.4-1.3zM15.8 182.6l77.4 27.9c-27.2 28.7-43.7 66.7-45.1 107.7c-.1 .6-.1 1.2-.1 1.8c0 28.4-10.8 57.8-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7c-3.2-14-7.5-28.3-13.4-41.5c1.9-37 19.2-70.9 46.7-94.2l169.5 61.2c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32s-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6zm480.8 80l-46.5 16.8 12.7 120.5c-4.8 3.5-12.8 8-24.6 12.6C410 423.6 368 432 320 432s-90-8.4-118.3-19.4c-11.8-4.6-19.8-9.2-24.6-12.6l12.7-120.5-46.5-16.8L128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6zM467.4 396a.7 .7 0 1 0 -1.2-.7 .7 .7 0 1 0 1.2 .7zm-294.8 0a.7 .7 0 1 0 1.2-.6 .7 .7 0 1 0 -1.2 .6z"></path></svg>'):r.data().role==="special needy / refugee / disabilities"?$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9l0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 6-.4 12-1.1 17.9c-14.6-7.3-30.4-12.7-47-15.8c0-.7 0-1.4 0-2.1v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2l-.1 .1-.1 .1-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7l8.7-8c5.3 16.1 12.8 31.2 22.2 44.9l-.6 .6c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM432 224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm47.9 63c-4.3-3.7-10.6-4-15.1-.6l-96 72c-4.1 3.1-5.8 8.5-4.2 13.4s6.2 8.2 11.4 8.2h35.6l-30.1 54.2c-2.8 5-1.7 11.1 2.6 14.9s10.6 4 15.1 .6l96-72c4.1-3.1 5.8-8.5 4.2-13.4s-6.2-8.2-11.4-8.2H452.4l30.1-54.2c2.8-5 1.7-11.1-2.6-14.9z"></path></svg>'):$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M267.6 3c-7.2-4-16-4-23.2 0L17.6 128.1C6.7 134.1 0 145.5 0 157.9C0 176.8 15.2 192 34.1 192H477.9c18.8 0 34.1-15.2 34.1-34.1c0-12.4-6.7-23.8-17.6-29.8L267.6 3zM256 51.4L423.8 144H88.2L256 51.4zM112 224H64V384H56c-13.3 0-24 10.7-24 24s10.7 24 24 24H456c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8V224H400V384H336V224H288V384H224V224H176V384H112V224zM0 488c0 13.3 10.7 24 24 24H488c13.3 0 24-10.7 24-24s-10.7-24-24-24H24c-13.3 0-24 10.7-24 24z"></path></svg>'),$("#dropdownMenuButton2").attr("data-te-original-title",t.state.user.displayName+" "+t.state.user.email+" "+Qn(r.data().role)),$("#dropdownMenuButton2").attr("aria-label",t.state.user.displayName+" "+t.state.user.email+" "+Qn(r.data().role)),r.data().role==="teacher"&&$("#uploadLink").attr("style","display: inherit"),(!t.state.role||t.state.role!==r.data().role)&&t.updateRoleState(r.data().role)}catch(r){console.log("Error reading document of collection Users: ",r)}})(),console.log(t.state.walletAddress),E.jsxs(E.Fragment,{children:[E.jsx("nav",{className:"flex-no-wrap relative flex w-full items-center justify-between bg-[#FBFBFB] dark:bg-transparent lg:flex-wrap lg:justify-start mb-4",children:E.jsxs("div",{className:"flex w-full flex-wrap items-center justify-between px-3",children:[E.jsx("button",{className:"block border-0 bg-transparent px-2 text-neutral-500 hover:no-underline hover:shadow-none focus:no-underline focus:shadow-none focus:outline-none focus:ring-0 dark:text-neutral-200 lg:hidden",type:"button","data-te-collapse-init":!0,"data-te-target":"#navbarSupportedContent1","aria-controls":"navbarSupportedContent1","aria-expanded":"false","aria-label":"Toggle navigation",children:E.jsx("span",{className:"[&>svg]:w-7",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-7 w-7",children:E.jsx("path",{"fill-rule":"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})})})}),E.jsx("div",{className:"!visible hidden flex-grow basis-[100%] items-center lg:!flex lg:basis-auto",id:"navbarSupportedContent1","data-te-collapse-item":!0,children:E.jsxs("ul",{className:"list-style-none mr-auto flex flex-col pl-0 lg:flex-row","data-te-navbar-nav-ref":!0,children:[E.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:E.jsx(wo,{to:"/freeflow-edu/",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Home"})}),E.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:E.jsx(wo,{to:"/freeflow-edu/profile/"+t.state.user.uid,className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Profile"})}),E.jsx("li",{style:{display:"none"},className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,id:"uploadLink",children:E.jsx(wo,{to:"/freeflow-edu/upload",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Upload"})}),E.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:E.jsx(wo,{to:"/freeflow-edu/subscription",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Subscription"})}),E.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:E.jsx(wo,{to:"/freeflow-edu/sign-out",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Sign Out"})})]})}),E.jsxs("div",{className:"relative flex items-center justify-center",children:[E.jsx("div",{className:"button relative ms-4 me-4 rounded bg-[#84948C] px-6 pt-3 pb-3.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-[#6A7770] hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-[#515B55] focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-[] active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",to:"/freeflow-edu/profile/"+t.state.user.uid,children:E.jsxs(Js,{className:"hidden-arrow flex items-center whitespace-nowrap transition duration-150 ease-in-out motion-reduce:transition-none flex items-center justify-center",id:"dropdownMenuButton2",role:"button","data-te-toggle":"tooltip",title:t.state.user.displayName+`
`+t.state.user.email,to:"/freeflow-edu/profile/"+t.state.user.uid,children:[E.jsx("img",{src:t.state.user.photoURL,className:"rounded-full",style:{height:"25px",width:"25px"},alt:"Profile Img",loading:"lazy"}),E.jsx("p",{className:"ms-2",id:"t_role"})]})}),E.jsx("div",{className:"relative",children:t.renderNotConnectedContainer()})]})]})}),E.jsx(sA,{})]})},d7="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd",oR=t=>{const[e,n]=ee.useState(0);return ee.useEffect(()=>{(async()=>{(await fetch(d7)).json().then(s=>{n(s.solana.usd)})})()},[]),(e*t.sol).toFixed(6)};class f7 extends ee.Component{constructor(n){super(n);at(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bLogin())});at(this,"bLogin",()=>{if($("#t_email").val()!=""&&$("#t_password").val()!=""){const i=Oo();var n=$("#t_email").val(),r=$("#t_password").val();sL(i,n,r).then(s=>{const o=s.user;this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),o=="auth/invalid-login-credentials"?alert("Wrong Email or Password."):o=="auth/invalid-email"?alert("Invalid Email."):alert(o)})}else alert("Please fill in all the information required.")});at(this,"signUpGoogle",()=>{const n=Oo(),r=new Fr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),XA(n,r).then(i=>{Fr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})})});at(this,"guest",()=>{const n=Oo();eL(n).then(r=>{console.log(r.user);const i=r.user;VA(n.currentUser,{displayName:"Guest"}).then(s=>{console.log(s)}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a})}),this.setState({user:i}),this.props.updateUserState(i),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("displayName","Guest"),localStorage.setItem("email",i.email))}).catch(r=>{const i=r.code,s=r.message;console.log({errorCode:i,errorMessage:s})})});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return E.jsx(E.Fragment,{children:E.jsx("div",{className:"min-h-screen mt-4 bg-gray-100 text-gray-900 flex justify-center",children:E.jsxs("div",{className:"max-w-screen-xl m-0 sm:m-10 bg-white shadow sm:rounded-lg flex justify-center flex-1",children:[E.jsx("div",{className:"lg:w-1/2 xl:w-5/12 p-6 sm:p-12",children:E.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[E.jsx("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Login"}),E.jsxs("div",{className:"w-full flex-1 mt-8",children:[E.jsx("div",{className:"flex flex-col items-center",children:E.jsxs("button",{onClick:this.signUpGoogle,className:"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline",children:[E.jsx("div",{className:"bg-white p-2 rounded-full",children:E.jsxs("svg",{className:"w-4",viewBox:"0 0 533.5 544.3",children:[E.jsx("path",{d:"M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z",fill:"#4285f4"}),E.jsx("path",{d:"M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z",fill:"#34a853"}),E.jsx("path",{d:"M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z",fill:"#fbbc04"}),E.jsx("path",{d:"M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z",fill:"#ea4335"})]})}),E.jsx("span",{className:"ml-4",children:" Login with G+"})]})}),E.jsx("div",{className:"my-12 border-b text-center",children:E.jsx("div",{className:"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2",children:" Or login with e-mail"})}),E.jsxs("div",{className:"mx-auto max-w-xs",children:[E.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white",type:"email",placeholder:"Email",id:"t_email"}),E.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Password",id:"t_password"}),E.jsxs("label",{className:"w-full py-4",children:[E.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"})," Remember me"]}),E.jsxs("button",{onClick:this.bLogin,className:"mt-5  tracking-wide font-semibold bg-indigo-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:[E.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),E.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),E.jsx("path",{d:"M20 8v6M23 11h-6"})]}),E.jsx("span",{className:"ml-3",children:"Login"})]}),E.jsx(Js,{className:"mb-2 mt-2 block",to:"register",children:"Haven't registered?"}),E.jsx(Js,{onClick:this.guest,children:"Login as Guest"})]})]})]})}),E.jsx("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:E.jsx("div",{className:"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat",style:{backgroundImage:"url('https://storage.googleapis.com/devitary-image-host.appspot.com/15848031292911696601-undraw_designer_life_w96d.svg')"}})})]})})})}}class zb extends ee.Component{constructor(n){super(n);at(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bRegister())});at(this,"bRegister",()=>{if($("#t_email").val()!=""&&$("#t_username").val()!=""&&$("#t_password").val()!=""&&$("#t_confirm_password").val()!=""&&$("#t_otp").val()!="")if($("#t_password").val()==$("#t_confirm_password").val())if(document.getElementById("c_privacy").checked){const i=Oo();var n=$("#t_email").val(),r=$("#t_password").val();iL(i,n,r).then(s=>{const o=s.user,a=$("#t_username").val();VA(i.currentUser,{displayName:a}).then(l=>{}).catch(l=>{const u=l.code,c=l.message;console.log({errorCode:u,errorMessage:c})}),this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",a),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),s.code==="auth/email-already-in-use"?alert("Email is already in use.","warning"):s.code==="auth/weak-password"?alert("Weak password.","warning"):alert(s.code+": "+s.messagee,"danger")})}else alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.");else alert("Password not match.");else alert("Please fill in all the information required.")});at(this,"signUpGoogle",()=>{const n=Oo(),r=new Fr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),document.getElementById("c_privacy").checked?XA(n,r).then(i=>{Fr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})}):alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.")});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return this.state.user?(console.log("loged in"),E.jsx(Ku,{to:"/freeflow-edu/"})):(console.log(this.state.user),E.jsx(E.Fragment,{children:E.jsx("div",{className:"min-h-screen mt-4 bg-gray-100 text-gray-900 flex justify-center",children:E.jsxs("div",{className:"max-w-screen-xl m-0 sm:m-10 bg-white shadow sm:rounded-lg flex justify-center flex-1",children:[E.jsx("div",{className:"lg:w-1/2 xl:w-5/12 p-6 sm:p-12",children:E.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[E.jsx("h1",{className:"text-2xl xl:text-3xl font-extrabold",children:"Register"}),E.jsxs("div",{className:"w-full flex-1 mt-8",children:[E.jsx("div",{className:"flex flex-col items-center ",children:E.jsxs("button",{onClick:this.signUpGoogle,className:"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-green-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline",children:[E.jsx("div",{className:"bg-white p-2 rounded-full",children:E.jsxs("svg",{className:"w-4",viewBox:"0 0 533.5 544.3",children:[E.jsx("path",{d:"M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z",fill:"#4285f4"}),E.jsx("path",{d:"M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z",fill:"#34a853"}),E.jsx("path",{d:"M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z",fill:"#fbbc04"}),E.jsx("path",{d:"M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z",fill:"#ea4335"})]})}),E.jsx("span",{className:"ml-4",children:" Sign up with G+"})]})}),E.jsx("div",{className:"my-12 border-b text-center",children:E.jsx("div",{className:"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2",children:" Or sign up with e-mail"})}),E.jsxs("div",{className:"mx-auto max-w-xs",children:[E.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"email",placeholder:"Email",id:"t_email"}),E.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"username",placeholder:"Username",id:"t_username"}),E.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Password",id:"t_password"}),E.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Confirm Password",id:"t_confirm_password"}),E.jsxs("label",{className:"w-full py-4",children:[E.jsx("input",{onKeyUp:this.handleKeyPress,type:"checkbox",name:"",id:"c_privacy"})," I agree to the",E.jsx("a",{href:"privacy_policy.html",target:"_blank",children:"Privacy Policy"}),", and ",E.jsx("a",{href:"terms_and_conditions.html",target:"_blank",children:"Terms and Conditions"})," of FreeFlow Edu app."]}),E.jsx("br",{}),E.jsxs("label",{className:"w-full py-4",children:[E.jsx("input",{className:"mb-2",type:"checkbox",name:"",id:"c_rmb_me"})," Remember me"]}),E.jsxs("button",{onClick:this.bRegister,className:"mt-5  tracking-wide font-semibold bg-green-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:[E.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),E.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),E.jsx("path",{d:"M20 8v6M23 11h-6"})]}),E.jsx("span",{className:"ml-3 ",children:"Register"})]}),E.jsx(Js,{className:"mb-2 mt-2 block",to:"../",children:"Already login?"})]})]})]})}),E.jsx("div",{className:"flex-1 bg-green-100 text-center hidden lg:flex",children:E.jsx("div",{className:"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat",style:{backgroundImage:"url('https://drive.google.com/uc?export=view&id=1KZ_Ub_2lZ0dHbKV0fAIhxVhiQA183RCz')"}})})]})})}))}}/*! countries-list v3.0.6 by Annexare | MIT */var Of={AD:{name:"Andorra",native:"Andorra",phone:[376],continent:"EU",capital:"Andorra la Vella",currency:["EUR"],languages:["ca"]},AE:{name:"United Arab Emirates",native:"   ",phone:[971],continent:"AS",capital:"Abu Dhabi",currency:["AED"],languages:["ar"]},AF:{name:"Afghanistan",native:"",phone:[93],continent:"AS",capital:"Kabul",currency:["AFN"],languages:["ps","uz","tk"]},AG:{name:"Antigua and Barbuda",native:"Antigua and Barbuda",phone:[1268],continent:"NA",capital:"Saint John's",currency:["XCD"],languages:["en"]},AI:{name:"Anguilla",native:"Anguilla",phone:[1264],continent:"NA",capital:"The Valley",currency:["XCD"],languages:["en"]},AL:{name:"Albania",native:"Shqipria",phone:[355],continent:"EU",capital:"Tirana",currency:["ALL"],languages:["sq"]},AM:{name:"Armenia",native:"",phone:[374],continent:"AS",capital:"Yerevan",currency:["AMD"],languages:["hy","ru"]},AO:{name:"Angola",native:"Angola",phone:[244],continent:"AF",capital:"Luanda",currency:["AOA"],languages:["pt"]},AQ:{name:"Antarctica",native:"Antarctica",phone:[672],continent:"AN",capital:"",currency:[],languages:[]},AR:{name:"Argentina",native:"Argentina",phone:[54],continent:"SA",capital:"Buenos Aires",currency:["ARS"],languages:["es","gn"]},AS:{name:"American Samoa",native:"American Samoa",phone:[1684],continent:"OC",capital:"Pago Pago",currency:["USD"],languages:["en","sm"]},AT:{name:"Austria",native:"sterreich",phone:[43],continent:"EU",capital:"Vienna",currency:["EUR"],languages:["de"]},AU:{name:"Australia",native:"Australia",phone:[61],continent:"OC",capital:"Canberra",currency:["AUD"],languages:["en"]},AW:{name:"Aruba",native:"Aruba",phone:[297],continent:"NA",capital:"Oranjestad",currency:["AWG"],languages:["nl","pa"]},AX:{name:"Aland",native:"land",phone:[358],continent:"EU",capital:"Mariehamn",currency:["EUR"],languages:["sv"]},AZ:{name:"Azerbaijan",native:"Azrbaycan",phone:[994],continent:"AS",continents:["AS","EU"],capital:"Baku",currency:["AZN"],languages:["az"]},BA:{name:"Bosnia and Herzegovina",native:"Bosna i Hercegovina",phone:[387],continent:"EU",capital:"Sarajevo",currency:["BAM"],languages:["bs","hr","sr"]},BB:{name:"Barbados",native:"Barbados",phone:[1246],continent:"NA",capital:"Bridgetown",currency:["BBD"],languages:["en"]},BD:{name:"Bangladesh",native:"Bangladesh",phone:[880],continent:"AS",capital:"Dhaka",currency:["BDT"],languages:["bn"]},BE:{name:"Belgium",native:"Belgi",phone:[32],continent:"EU",capital:"Brussels",currency:["EUR"],languages:["nl","fr","de"]},BF:{name:"Burkina Faso",native:"Burkina Faso",phone:[226],continent:"AF",capital:"Ouagadougou",currency:["XOF"],languages:["fr","ff"]},BG:{name:"Bulgaria",native:"",phone:[359],continent:"EU",capital:"Sofia",currency:["BGN"],languages:["bg"]},BH:{name:"Bahrain",native:"",phone:[973],continent:"AS",capital:"Manama",currency:["BHD"],languages:["ar"]},BI:{name:"Burundi",native:"Burundi",phone:[257],continent:"AF",capital:"Bujumbura",currency:["BIF"],languages:["fr","rn"]},BJ:{name:"Benin",native:"Bnin",phone:[229],continent:"AF",capital:"Porto-Novo",currency:["XOF"],languages:["fr"]},BL:{name:"Saint Barthelemy",native:"Saint-Barthlemy",phone:[590],continent:"NA",capital:"Gustavia",currency:["EUR"],languages:["fr"]},BM:{name:"Bermuda",native:"Bermuda",phone:[1441],continent:"NA",capital:"Hamilton",currency:["BMD"],languages:["en"]},BN:{name:"Brunei",native:"Negara Brunei Darussalam",phone:[673],continent:"AS",capital:"Bandar Seri Begawan",currency:["BND"],languages:["ms"]},BO:{name:"Bolivia",native:"Bolivia",phone:[591],continent:"SA",capital:"Sucre",currency:["BOB","BOV"],languages:["es","ay","qu"]},BQ:{name:"Bonaire",native:"Bonaire",phone:[5997],continent:"NA",capital:"Kralendijk",currency:["USD"],languages:["nl"]},BR:{name:"Brazil",native:"Brasil",phone:[55],continent:"SA",capital:"Braslia",currency:["BRL"],languages:["pt"]},BS:{name:"Bahamas",native:"Bahamas",phone:[1242],continent:"NA",capital:"Nassau",currency:["BSD"],languages:["en"]},BT:{name:"Bhutan",native:"brug-yul",phone:[975],continent:"AS",capital:"Thimphu",currency:["BTN","INR"],languages:["dz"]},BV:{name:"Bouvet Island",native:"Bouvetya",phone:[47],continent:"AN",capital:"",currency:["NOK"],languages:["no","nb","nn"]},BW:{name:"Botswana",native:"Botswana",phone:[267],continent:"AF",capital:"Gaborone",currency:["BWP"],languages:["en","tn"]},BY:{name:"Belarus",native:"",phone:[375],continent:"EU",capital:"Minsk",currency:["BYN"],languages:["be","ru"]},BZ:{name:"Belize",native:"Belize",phone:[501],continent:"NA",capital:"Belmopan",currency:["BZD"],languages:["en","es"]},CA:{name:"Canada",native:"Canada",phone:[1],continent:"NA",capital:"Ottawa",currency:["CAD"],languages:["en","fr"]},CC:{name:"Cocos (Keeling) Islands",native:"Cocos (Keeling) Islands",phone:[61],continent:"AS",capital:"West Island",currency:["AUD"],languages:["en"]},CD:{name:"Democratic Republic of the Congo",native:"Rpublique dmocratique du Congo",phone:[243],continent:"AF",capital:"Kinshasa",currency:["CDF"],languages:["fr","ln","kg","sw","lu"]},CF:{name:"Central African Republic",native:"Kdrsse t Bafrka",phone:[236],continent:"AF",capital:"Bangui",currency:["XAF"],languages:["fr","sg"]},CG:{name:"Republic of the Congo",native:"Rpublique du Congo",phone:[242],continent:"AF",capital:"Brazzaville",currency:["XAF"],languages:["fr","ln"]},CH:{name:"Switzerland",native:"Schweiz",phone:[41],continent:"EU",capital:"Bern",currency:["CHE","CHF","CHW"],languages:["de","fr","it"]},CI:{name:"Ivory Coast",native:"Cte d'Ivoire",phone:[225],continent:"AF",capital:"Yamoussoukro",currency:["XOF"],languages:["fr"]},CK:{name:"Cook Islands",native:"Cook Islands",phone:[682],continent:"OC",capital:"Avarua",currency:["NZD"],languages:["en"]},CL:{name:"Chile",native:"Chile",phone:[56],continent:"SA",capital:"Santiago",currency:["CLF","CLP"],languages:["es"]},CM:{name:"Cameroon",native:"Cameroon",phone:[237],continent:"AF",capital:"Yaound",currency:["XAF"],languages:["en","fr"]},CN:{name:"China",native:"",phone:[86],continent:"AS",capital:"Beijing",currency:["CNY"],languages:["zh"]},CO:{name:"Colombia",native:"Colombia",phone:[57],continent:"SA",capital:"Bogot",currency:["COP"],languages:["es"]},CR:{name:"Costa Rica",native:"Costa Rica",phone:[506],continent:"NA",capital:"San Jos",currency:["CRC"],languages:["es"]},CU:{name:"Cuba",native:"Cuba",phone:[53],continent:"NA",capital:"Havana",currency:["CUC","CUP"],languages:["es"]},CV:{name:"Cape Verde",native:"Cabo Verde",phone:[238],continent:"AF",capital:"Praia",currency:["CVE"],languages:["pt"]},CW:{name:"Curacao",native:"Curaao",phone:[5999],continent:"NA",capital:"Willemstad",currency:["ANG"],languages:["nl","pa","en"]},CX:{name:"Christmas Island",native:"Christmas Island",phone:[61],continent:"AS",capital:"Flying Fish Cove",currency:["AUD"],languages:["en"]},CY:{name:"Cyprus",native:"",phone:[357],continent:"EU",capital:"Nicosia",currency:["EUR"],languages:["el","tr","hy"]},CZ:{name:"Czech Republic",native:"esk republika",phone:[420],continent:"EU",capital:"Prague",currency:["CZK"],languages:["cs"]},DE:{name:"Germany",native:"Deutschland",phone:[49],continent:"EU",capital:"Berlin",currency:["EUR"],languages:["de"]},DJ:{name:"Djibouti",native:"Djibouti",phone:[253],continent:"AF",capital:"Djibouti",currency:["DJF"],languages:["fr","ar"]},DK:{name:"Denmark",native:"Danmark",phone:[45],continent:"EU",continents:["EU","NA"],capital:"Copenhagen",currency:["DKK"],languages:["da"]},DM:{name:"Dominica",native:"Dominica",phone:[1767],continent:"NA",capital:"Roseau",currency:["XCD"],languages:["en"]},DO:{name:"Dominican Republic",native:"Repblica Dominicana",phone:[1809,1829,1849],continent:"NA",capital:"Santo Domingo",currency:["DOP"],languages:["es"]},DZ:{name:"Algeria",native:"",phone:[213],continent:"AF",capital:"Algiers",currency:["DZD"],languages:["ar"]},EC:{name:"Ecuador",native:"Ecuador",phone:[593],continent:"SA",capital:"Quito",currency:["USD"],languages:["es"]},EE:{name:"Estonia",native:"Eesti",phone:[372],continent:"EU",capital:"Tallinn",currency:["EUR"],languages:["et"]},EG:{name:"Egypt",native:"",phone:[20],continent:"AF",continents:["AF","AS"],capital:"Cairo",currency:["EGP"],languages:["ar"]},EH:{name:"Western Sahara",native:" ",phone:[212],continent:"AF",capital:"El Aain",currency:["MAD","DZD","MRU"],languages:["es"]},ER:{name:"Eritrea",native:"",phone:[291],continent:"AF",capital:"Asmara",currency:["ERN"],languages:["ti","ar","en"]},ES:{name:"Spain",native:"Espaa",phone:[34],continent:"EU",capital:"Madrid",currency:["EUR"],languages:["es","eu","ca","gl","oc"]},ET:{name:"Ethiopia",native:"",phone:[251],continent:"AF",capital:"Addis Ababa",currency:["ETB"],languages:["am"]},FI:{name:"Finland",native:"Suomi",phone:[358],continent:"EU",capital:"Helsinki",currency:["EUR"],languages:["fi","sv"]},FJ:{name:"Fiji",native:"Fiji",phone:[679],continent:"OC",capital:"Suva",currency:["FJD"],languages:["en","fj","hi","ur"]},FK:{name:"Falkland Islands",native:"Falkland Islands",phone:[500],continent:"SA",capital:"Stanley",currency:["FKP"],languages:["en"]},FM:{name:"Micronesia",native:"Micronesia",phone:[691],continent:"OC",capital:"Palikir",currency:["USD"],languages:["en"]},FO:{name:"Faroe Islands",native:"Froyar",phone:[298],continent:"EU",capital:"Trshavn",currency:["DKK"],languages:["fo"]},FR:{name:"France",native:"France",phone:[33],continent:"EU",capital:"Paris",currency:["EUR"],languages:["fr"]},GA:{name:"Gabon",native:"Gabon",phone:[241],continent:"AF",capital:"Libreville",currency:["XAF"],languages:["fr"]},GB:{name:"United Kingdom",native:"United Kingdom",phone:[44],continent:"EU",capital:"London",currency:["GBP"],languages:["en"]},GD:{name:"Grenada",native:"Grenada",phone:[1473],continent:"NA",capital:"St. George's",currency:["XCD"],languages:["en"]},GE:{name:"Georgia",native:"",phone:[995],continent:"AS",continents:["AS","EU"],capital:"Tbilisi",currency:["GEL"],languages:["ka"]},GF:{name:"French Guiana",native:"Guyane franaise",phone:[594],continent:"SA",capital:"Cayenne",currency:["EUR"],languages:["fr"]},GG:{name:"Guernsey",native:"Guernsey",phone:[44],continent:"EU",capital:"St. Peter Port",currency:["GBP"],languages:["en","fr"]},GH:{name:"Ghana",native:"Ghana",phone:[233],continent:"AF",capital:"Accra",currency:["GHS"],languages:["en"]},GI:{name:"Gibraltar",native:"Gibraltar",phone:[350],continent:"EU",capital:"Gibraltar",currency:["GIP"],languages:["en"]},GL:{name:"Greenland",native:"Kalaallit Nunaat",phone:[299],continent:"NA",capital:"Nuuk",currency:["DKK"],languages:["kl"]},GM:{name:"Gambia",native:"Gambia",phone:[220],continent:"AF",capital:"Banjul",currency:["GMD"],languages:["en"]},GN:{name:"Guinea",native:"Guine",phone:[224],continent:"AF",capital:"Conakry",currency:["GNF"],languages:["fr","ff"]},GP:{name:"Guadeloupe",native:"Guadeloupe",phone:[590],continent:"NA",capital:"Basse-Terre",currency:["EUR"],languages:["fr"]},GQ:{name:"Equatorial Guinea",native:"Guinea Ecuatorial",phone:[240],continent:"AF",capital:"Malabo",currency:["XAF"],languages:["es","fr"]},GR:{name:"Greece",native:"",phone:[30],continent:"EU",capital:"Athens",currency:["EUR"],languages:["el"]},GS:{name:"South Georgia and the South Sandwich Islands",native:"South Georgia",phone:[500],continent:"AN",capital:"King Edward Point",currency:["GBP"],languages:["en"]},GT:{name:"Guatemala",native:"Guatemala",phone:[502],continent:"NA",capital:"Guatemala City",currency:["GTQ"],languages:["es"]},GU:{name:"Guam",native:"Guam",phone:[1671],continent:"OC",capital:"Hagta",currency:["USD"],languages:["en","ch","es"]},GW:{name:"Guinea-Bissau",native:"Guin-Bissau",phone:[245],continent:"AF",capital:"Bissau",currency:["XOF"],languages:["pt"]},GY:{name:"Guyana",native:"Guyana",phone:[592],continent:"SA",capital:"Georgetown",currency:["GYD"],languages:["en"]},HK:{name:"Hong Kong",native:"",phone:[852],continent:"AS",capital:"City of Victoria",currency:["HKD"],languages:["zh","en"]},HM:{name:"Heard Island and McDonald Islands",native:"Heard Island and McDonald Islands",phone:[61],continent:"AN",capital:"",currency:["AUD"],languages:["en"]},HN:{name:"Honduras",native:"Honduras",phone:[504],continent:"NA",capital:"Tegucigalpa",currency:["HNL"],languages:["es"]},HR:{name:"Croatia",native:"Hrvatska",phone:[385],continent:"EU",capital:"Zagreb",currency:["EUR"],languages:["hr"]},HT:{name:"Haiti",native:"Hati",phone:[509],continent:"NA",capital:"Port-au-Prince",currency:["HTG","USD"],languages:["fr","ht"]},HU:{name:"Hungary",native:"Magyarorszg",phone:[36],continent:"EU",capital:"Budapest",currency:["HUF"],languages:["hu"]},ID:{name:"Indonesia",native:"Indonesia",phone:[62],continent:"AS",capital:"Jakarta",currency:["IDR"],languages:["id"]},IE:{name:"Ireland",native:"ire",phone:[353],continent:"EU",capital:"Dublin",currency:["EUR"],languages:["ga","en"]},IL:{name:"Israel",native:"",phone:[972],continent:"AS",capital:"Jerusalem",currency:["ILS"],languages:["he","ar"]},IM:{name:"Isle of Man",native:"Isle of Man",phone:[44],continent:"EU",capital:"Douglas",currency:["GBP"],languages:["en","gv"]},IN:{name:"India",native:"",phone:[91],continent:"AS",capital:"New Delhi",currency:["INR"],languages:["hi","en"]},IO:{name:"British Indian Ocean Territory",native:"British Indian Ocean Territory",phone:[246],continent:"AS",capital:"Diego Garcia",currency:["USD"],languages:["en"]},IQ:{name:"Iraq",native:"",phone:[964],continent:"AS",capital:"Baghdad",currency:["IQD"],languages:["ar","ku"]},IR:{name:"Iran",native:"",phone:[98],continent:"AS",capital:"Tehran",currency:["IRR"],languages:["fa"]},IS:{name:"Iceland",native:"sland",phone:[354],continent:"EU",capital:"Reykjavik",currency:["ISK"],languages:["is"]},IT:{name:"Italy",native:"Italia",phone:[39],continent:"EU",capital:"Rome",currency:["EUR"],languages:["it"]},JE:{name:"Jersey",native:"Jersey",phone:[44],continent:"EU",capital:"Saint Helier",currency:["GBP"],languages:["en","fr"]},JM:{name:"Jamaica",native:"Jamaica",phone:[1876],continent:"NA",capital:"Kingston",currency:["JMD"],languages:["en"]},JO:{name:"Jordan",native:"",phone:[962],continent:"AS",capital:"Amman",currency:["JOD"],languages:["ar"]},JP:{name:"Japan",native:"",phone:[81],continent:"AS",capital:"Tokyo",currency:["JPY"],languages:["ja"]},KE:{name:"Kenya",native:"Kenya",phone:[254],continent:"AF",capital:"Nairobi",currency:["KES"],languages:["en","sw"]},KG:{name:"Kyrgyzstan",native:"",phone:[996],continent:"AS",capital:"Bishkek",currency:["KGS"],languages:["ky","ru"]},KH:{name:"Cambodia",native:"Kmpcha",phone:[855],continent:"AS",capital:"Phnom Penh",currency:["KHR"],languages:["km"]},KI:{name:"Kiribati",native:"Kiribati",phone:[686],continent:"OC",capital:"South Tarawa",currency:["AUD"],languages:["en"]},KM:{name:"Comoros",native:"Komori",phone:[269],continent:"AF",capital:"Moroni",currency:["KMF"],languages:["ar","fr"]},KN:{name:"Saint Kitts and Nevis",native:"Saint Kitts and Nevis",phone:[1869],continent:"NA",capital:"Basseterre",currency:["XCD"],languages:["en"]},KP:{name:"North Korea",native:"",phone:[850],continent:"AS",capital:"Pyongyang",currency:["KPW"],languages:["ko"]},KR:{name:"South Korea",native:"",phone:[82],continent:"AS",capital:"Seoul",currency:["KRW"],languages:["ko"]},KW:{name:"Kuwait",native:"",phone:[965],continent:"AS",capital:"Kuwait City",currency:["KWD"],languages:["ar"]},KY:{name:"Cayman Islands",native:"Cayman Islands",phone:[1345],continent:"NA",capital:"George Town",currency:["KYD"],languages:["en"]},KZ:{name:"Kazakhstan",native:"",phone:[76,77],continent:"AS",continents:["AS","EU"],capital:"Astana",currency:["KZT"],languages:["kk","ru"]},LA:{name:"Laos",native:"",phone:[856],continent:"AS",capital:"Vientiane",currency:["LAK"],languages:["lo"]},LB:{name:"Lebanon",native:"",phone:[961],continent:"AS",capital:"Beirut",currency:["LBP"],languages:["ar","fr"]},LC:{name:"Saint Lucia",native:"Saint Lucia",phone:[1758],continent:"NA",capital:"Castries",currency:["XCD"],languages:["en"]},LI:{name:"Liechtenstein",native:"Liechtenstein",phone:[423],continent:"EU",capital:"Vaduz",currency:["CHF"],languages:["de"]},LK:{name:"Sri Lanka",native:"r lakva",phone:[94],continent:"AS",capital:"Colombo",currency:["LKR"],languages:["si","ta"]},LR:{name:"Liberia",native:"Liberia",phone:[231],continent:"AF",capital:"Monrovia",currency:["LRD"],languages:["en"]},LS:{name:"Lesotho",native:"Lesotho",phone:[266],continent:"AF",capital:"Maseru",currency:["LSL","ZAR"],languages:["en","st"]},LT:{name:"Lithuania",native:"Lietuva",phone:[370],continent:"EU",capital:"Vilnius",currency:["EUR"],languages:["lt"]},LU:{name:"Luxembourg",native:"Luxembourg",phone:[352],continent:"EU",capital:"Luxembourg",currency:["EUR"],languages:["fr","de","lb"]},LV:{name:"Latvia",native:"Latvija",phone:[371],continent:"EU",capital:"Riga",currency:["EUR"],languages:["lv"]},LY:{name:"Libya",native:"",phone:[218],continent:"AF",capital:"Tripoli",currency:["LYD"],languages:["ar"]},MA:{name:"Morocco",native:"",phone:[212],continent:"AF",capital:"Rabat",currency:["MAD"],languages:["ar"]},MC:{name:"Monaco",native:"Monaco",phone:[377],continent:"EU",capital:"Monaco",currency:["EUR"],languages:["fr"]},MD:{name:"Moldova",native:"Moldova",phone:[373],continent:"EU",capital:"Chiinu",currency:["MDL"],languages:["ro"]},ME:{name:"Montenegro",native:" ",phone:[382],continent:"EU",capital:"Podgorica",currency:["EUR"],languages:["sr","bs","sq","hr"]},MF:{name:"Saint Martin",native:"Saint-Martin",phone:[590],continent:"NA",capital:"Marigot",currency:["EUR"],languages:["en","fr","nl"]},MG:{name:"Madagascar",native:"Madagasikara",phone:[261],continent:"AF",capital:"Antananarivo",currency:["MGA"],languages:["fr","mg"]},MH:{name:"Marshall Islands",native:"Maje",phone:[692],continent:"OC",capital:"Majuro",currency:["USD"],languages:["en","mh"]},MK:{name:"North Macedonia",native:" ",phone:[389],continent:"EU",capital:"Skopje",currency:["MKD"],languages:["mk"]},ML:{name:"Mali",native:"Mali",phone:[223],continent:"AF",capital:"Bamako",currency:["XOF"],languages:["fr"]},MM:{name:"Myanmar (Burma)",native:"",phone:[95],continent:"AS",capital:"Naypyidaw",currency:["MMK"],languages:["my"]},MN:{name:"Mongolia",native:" ",phone:[976],continent:"AS",capital:"Ulan Bator",currency:["MNT"],languages:["mn"]},MO:{name:"Macao",native:"",phone:[853],continent:"AS",capital:"",currency:["MOP"],languages:["zh","pt"]},MP:{name:"Northern Mariana Islands",native:"Northern Mariana Islands",phone:[1670],continent:"OC",capital:"Saipan",currency:["USD"],languages:["en","ch"]},MQ:{name:"Martinique",native:"Martinique",phone:[596],continent:"NA",capital:"Fort-de-France",currency:["EUR"],languages:["fr"]},MR:{name:"Mauritania",native:"",phone:[222],continent:"AF",capital:"Nouakchott",currency:["MRU"],languages:["ar"]},MS:{name:"Montserrat",native:"Montserrat",phone:[1664],continent:"NA",capital:"Plymouth",currency:["XCD"],languages:["en"]},MT:{name:"Malta",native:"Malta",phone:[356],continent:"EU",capital:"Valletta",currency:["EUR"],languages:["mt","en"]},MU:{name:"Mauritius",native:"Maurice",phone:[230],continent:"AF",capital:"Port Louis",currency:["MUR"],languages:["en"]},MV:{name:"Maldives",native:"Maldives",phone:[960],continent:"AS",capital:"Mal",currency:["MVR"],languages:["dv"]},MW:{name:"Malawi",native:"Malawi",phone:[265],continent:"AF",capital:"Lilongwe",currency:["MWK"],languages:["en","ny"]},MX:{name:"Mexico",native:"Mxico",phone:[52],continent:"NA",capital:"Mexico City",currency:["MXN"],languages:["es"]},MY:{name:"Malaysia",native:"Malaysia",phone:[60],continent:"AS",capital:"Kuala Lumpur",currency:["MYR"],languages:["ms"]},MZ:{name:"Mozambique",native:"Moambique",phone:[258],continent:"AF",capital:"Maputo",currency:["MZN"],languages:["pt"]},NA:{name:"Namibia",native:"Namibia",phone:[264],continent:"AF",capital:"Windhoek",currency:["NAD","ZAR"],languages:["en","af"]},NC:{name:"New Caledonia",native:"Nouvelle-Caldonie",phone:[687],continent:"OC",capital:"Nouma",currency:["XPF"],languages:["fr"]},NE:{name:"Niger",native:"Niger",phone:[227],continent:"AF",capital:"Niamey",currency:["XOF"],languages:["fr"]},NF:{name:"Norfolk Island",native:"Norfolk Island",phone:[672],continent:"OC",capital:"Kingston",currency:["AUD"],languages:["en"]},NG:{name:"Nigeria",native:"Nigeria",phone:[234],continent:"AF",capital:"Abuja",currency:["NGN"],languages:["en"]},NI:{name:"Nicaragua",native:"Nicaragua",phone:[505],continent:"NA",capital:"Managua",currency:["NIO"],languages:["es"]},NL:{name:"Netherlands",native:"Nederland",phone:[31],continent:"EU",capital:"Amsterdam",currency:["EUR"],languages:["nl"]},NO:{name:"Norway",native:"Norge",phone:[47],continent:"EU",capital:"Oslo",currency:["NOK"],languages:["no","nb","nn"]},NP:{name:"Nepal",native:"",phone:[977],continent:"AS",capital:"Kathmandu",currency:["NPR"],languages:["ne"]},NR:{name:"Nauru",native:"Nauru",phone:[674],continent:"OC",capital:"Yaren",currency:["AUD"],languages:["en","na"]},NU:{name:"Niue",native:"Niu",phone:[683],continent:"OC",capital:"Alofi",currency:["NZD"],languages:["en"]},NZ:{name:"New Zealand",native:"New Zealand",phone:[64],continent:"OC",capital:"Wellington",currency:["NZD"],languages:["en","mi"]},OM:{name:"Oman",native:"",phone:[968],continent:"AS",capital:"Muscat",currency:["OMR"],languages:["ar"]},PA:{name:"Panama",native:"Panam",phone:[507],continent:"NA",capital:"Panama City",currency:["PAB","USD"],languages:["es"]},PE:{name:"Peru",native:"Per",phone:[51],continent:"SA",capital:"Lima",currency:["PEN"],languages:["es"]},PF:{name:"French Polynesia",native:"Polynsie franaise",phone:[689],continent:"OC",capital:"Papeet",currency:["XPF"],languages:["fr"]},PG:{name:"Papua New Guinea",native:"Papua Niugini",phone:[675],continent:"OC",capital:"Port Moresby",currency:["PGK"],languages:["en"]},PH:{name:"Philippines",native:"Pilipinas",phone:[63],continent:"AS",capital:"Manila",currency:["PHP"],languages:["en"]},PK:{name:"Pakistan",native:"Pakistan",phone:[92],continent:"AS",capital:"Islamabad",currency:["PKR"],languages:["en","ur"]},PL:{name:"Poland",native:"Polska",phone:[48],continent:"EU",capital:"Warsaw",currency:["PLN"],languages:["pl"]},PM:{name:"Saint Pierre and Miquelon",native:"Saint-Pierre-et-Miquelon",phone:[508],continent:"NA",capital:"Saint-Pierre",currency:["EUR"],languages:["fr"]},PN:{name:"Pitcairn Islands",native:"Pitcairn Islands",phone:[64],continent:"OC",capital:"Adamstown",currency:["NZD"],languages:["en"]},PR:{name:"Puerto Rico",native:"Puerto Rico",phone:[1787,1939],continent:"NA",capital:"San Juan",currency:["USD"],languages:["es","en"]},PS:{name:"Palestine",native:"",phone:[970],continent:"AS",capital:"Ramallah",currency:["ILS"],languages:["ar"]},PT:{name:"Portugal",native:"Portugal",phone:[351],continent:"EU",capital:"Lisbon",currency:["EUR"],languages:["pt"]},PW:{name:"Palau",native:"Palau",phone:[680],continent:"OC",capital:"Ngerulmud",currency:["USD"],languages:["en"]},PY:{name:"Paraguay",native:"Paraguay",phone:[595],continent:"SA",capital:"Asuncin",currency:["PYG"],languages:["es","gn"]},QA:{name:"Qatar",native:"",phone:[974],continent:"AS",capital:"Doha",currency:["QAR"],languages:["ar"]},RE:{name:"Reunion",native:"La Runion",phone:[262],continent:"AF",capital:"Saint-Denis",currency:["EUR"],languages:["fr"]},RO:{name:"Romania",native:"Romnia",phone:[40],continent:"EU",capital:"Bucharest",currency:["RON"],languages:["ro"]},RS:{name:"Serbia",native:"",phone:[381],continent:"EU",capital:"Belgrade",currency:["RSD"],languages:["sr"]},RU:{name:"Russia",native:"",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Moscow",currency:["RUB"],languages:["ru"]},RW:{name:"Rwanda",native:"Rwanda",phone:[250],continent:"AF",capital:"Kigali",currency:["RWF"],languages:["rw","en","fr"]},SA:{name:"Saudi Arabia",native:" ",phone:[966],continent:"AS",capital:"Riyadh",currency:["SAR"],languages:["ar"]},SB:{name:"Solomon Islands",native:"Solomon Islands",phone:[677],continent:"OC",capital:"Honiara",currency:["SBD"],languages:["en"]},SC:{name:"Seychelles",native:"Seychelles",phone:[248],continent:"AF",capital:"Victoria",currency:["SCR"],languages:["fr","en"]},SD:{name:"Sudan",native:"",phone:[249],continent:"AF",capital:"Khartoum",currency:["SDG"],languages:["ar","en"]},SE:{name:"Sweden",native:"Sverige",phone:[46],continent:"EU",capital:"Stockholm",currency:["SEK"],languages:["sv"]},SG:{name:"Singapore",native:"Singapore",phone:[65],continent:"AS",capital:"Singapore",currency:["SGD"],languages:["en","ms","ta","zh"]},SH:{name:"Saint Helena",native:"Saint Helena",phone:[290],continent:"AF",capital:"Jamestown",currency:["SHP"],languages:["en"]},SI:{name:"Slovenia",native:"Slovenija",phone:[386],continent:"EU",capital:"Ljubljana",currency:["EUR"],languages:["sl"]},SJ:{name:"Svalbard and Jan Mayen",native:"Svalbard og Jan Mayen",phone:[4779],continent:"EU",capital:"Longyearbyen",currency:["NOK"],languages:["no"]},SK:{name:"Slovakia",native:"Slovensko",phone:[421],continent:"EU",capital:"Bratislava",currency:["EUR"],languages:["sk"]},SL:{name:"Sierra Leone",native:"Sierra Leone",phone:[232],continent:"AF",capital:"Freetown",currency:["SLL"],languages:["en"]},SM:{name:"San Marino",native:"San Marino",phone:[378],continent:"EU",capital:"City of San Marino",currency:["EUR"],languages:["it"]},SN:{name:"Senegal",native:"Sngal",phone:[221],continent:"AF",capital:"Dakar",currency:["XOF"],languages:["fr"]},SO:{name:"Somalia",native:"Soomaaliya",phone:[252],continent:"AF",capital:"Mogadishu",currency:["SOS"],languages:["so","ar"]},SR:{name:"Suriname",native:"Suriname",phone:[597],continent:"SA",capital:"Paramaribo",currency:["SRD"],languages:["nl"]},SS:{name:"South Sudan",native:"South Sudan",phone:[211],continent:"AF",capital:"Juba",currency:["SSP"],languages:["en"]},ST:{name:"Sao Tome and Principe",native:"So Tom e Prncipe",phone:[239],continent:"AF",capital:"So Tom",currency:["STN"],languages:["pt"]},SV:{name:"El Salvador",native:"El Salvador",phone:[503],continent:"NA",capital:"San Salvador",currency:["SVC","USD"],languages:["es"]},SX:{name:"Sint Maarten",native:"Sint Maarten",phone:[1721],continent:"NA",capital:"Philipsburg",currency:["ANG"],languages:["nl","en"]},SY:{name:"Syria",native:"",phone:[963],continent:"AS",capital:"Damascus",currency:["SYP"],languages:["ar"]},SZ:{name:"Eswatini",native:"Eswatini",phone:[268],continent:"AF",capital:"Lobamba",currency:["SZL"],languages:["en","ss"]},TC:{name:"Turks and Caicos Islands",native:"Turks and Caicos Islands",phone:[1649],continent:"NA",capital:"Cockburn Town",currency:["USD"],languages:["en"]},TD:{name:"Chad",native:"Tchad",phone:[235],continent:"AF",capital:"N'Djamena",currency:["XAF"],languages:["fr","ar"]},TF:{name:"French Southern Territories",native:"Territoire des Terres australes et antarctiques fr",phone:[262],continent:"AN",capital:"Port-aux-Franais",currency:["EUR"],languages:["fr"]},TG:{name:"Togo",native:"Togo",phone:[228],continent:"AF",capital:"Lom",currency:["XOF"],languages:["fr"]},TH:{name:"Thailand",native:"",phone:[66],continent:"AS",capital:"Bangkok",currency:["THB"],languages:["th"]},TJ:{name:"Tajikistan",native:"",phone:[992],continent:"AS",capital:"Dushanbe",currency:["TJS"],languages:["tg","ru"]},TK:{name:"Tokelau",native:"Tokelau",phone:[690],continent:"OC",capital:"Fakaofo",currency:["NZD"],languages:["en"]},TL:{name:"East Timor",native:"Timor-Leste",phone:[670],continent:"OC",capital:"Dili",currency:["USD"],languages:["pt"]},TM:{name:"Turkmenistan",native:"Trkmenistan",phone:[993],continent:"AS",capital:"Ashgabat",currency:["TMT"],languages:["tk","ru"]},TN:{name:"Tunisia",native:"",phone:[216],continent:"AF",capital:"Tunis",currency:["TND"],languages:["ar"]},TO:{name:"Tonga",native:"Tonga",phone:[676],continent:"OC",capital:"Nuku'alofa",currency:["TOP"],languages:["en","to"]},TR:{name:"Turkey",native:"Trkiye",phone:[90],continent:"AS",continents:["AS","EU"],capital:"Ankara",currency:["TRY"],languages:["tr"]},TT:{name:"Trinidad and Tobago",native:"Trinidad and Tobago",phone:[1868],continent:"NA",capital:"Port of Spain",currency:["TTD"],languages:["en"]},TV:{name:"Tuvalu",native:"Tuvalu",phone:[688],continent:"OC",capital:"Funafuti",currency:["AUD"],languages:["en"]},TW:{name:"Taiwan",native:"",phone:[886],continent:"AS",capital:"Taipei",currency:["TWD"],languages:["zh"]},TZ:{name:"Tanzania",native:"Tanzania",phone:[255],continent:"AF",capital:"Dodoma",currency:["TZS"],languages:["sw","en"]},UA:{name:"Ukraine",native:"",phone:[380],continent:"EU",capital:"Kyiv",currency:["UAH"],languages:["uk"]},UG:{name:"Uganda",native:"Uganda",phone:[256],continent:"AF",capital:"Kampala",currency:["UGX"],languages:["en","sw"]},UM:{name:"U.S. Minor Outlying Islands",native:"United States Minor Outlying Islands",phone:[1],continent:"OC",capital:"",currency:["USD"],languages:["en"]},US:{name:"United States",native:"United States",phone:[1],continent:"NA",capital:"Washington D.C.",currency:["USD","USN","USS"],languages:["en"]},UY:{name:"Uruguay",native:"Uruguay",phone:[598],continent:"SA",capital:"Montevideo",currency:["UYI","UYU"],languages:["es"]},UZ:{name:"Uzbekistan",native:"O'zbekiston",phone:[998],continent:"AS",capital:"Tashkent",currency:["UZS"],languages:["uz","ru"]},VA:{name:"Vatican City",native:"Vaticano",phone:[379],continent:"EU",capital:"Vatican City",currency:["EUR"],languages:["it","la"]},VC:{name:"Saint Vincent and the Grenadines",native:"Saint Vincent and the Grenadines",phone:[1784],continent:"NA",capital:"Kingstown",currency:["XCD"],languages:["en"]},VE:{name:"Venezuela",native:"Venezuela",phone:[58],continent:"SA",capital:"Caracas",currency:["VES"],languages:["es"]},VG:{name:"British Virgin Islands",native:"British Virgin Islands",phone:[1284],continent:"NA",capital:"Road Town",currency:["USD"],languages:["en"]},VI:{name:"U.S. Virgin Islands",native:"United States Virgin Islands",phone:[1340],continent:"NA",capital:"Charlotte Amalie",currency:["USD"],languages:["en"]},VN:{name:"Vietnam",native:"Vit Nam",phone:[84],continent:"AS",capital:"Hanoi",currency:["VND"],languages:["vi"]},VU:{name:"Vanuatu",native:"Vanuatu",phone:[678],continent:"OC",capital:"Port Vila",currency:["VUV"],languages:["bi","en","fr"]},WF:{name:"Wallis and Futuna",native:"Wallis et Futuna",phone:[681],continent:"OC",capital:"Mata-Utu",currency:["XPF"],languages:["fr"]},WS:{name:"Samoa",native:"Samoa",phone:[685],continent:"OC",capital:"Apia",currency:["WST"],languages:["sm","en"]},XK:{name:"Kosovo",native:"Republika e Kosovs",phone:[377,381,383,386],continent:"EU",capital:"Pristina",currency:["EUR"],languages:["sq","sr"]},YE:{name:"Yemen",native:"",phone:[967],continent:"AS",capital:"Sana'a",currency:["YER"],languages:["ar"]},YT:{name:"Mayotte",native:"Mayotte",phone:[262],continent:"AF",capital:"Mamoudzou",currency:["EUR"],languages:["fr"]},ZA:{name:"South Africa",native:"South Africa",phone:[27],continent:"AF",capital:"Pretoria",currency:["ZAR"],languages:["af","en","nr","st","ss","tn","ts","ve","xh","zu"]},ZM:{name:"Zambia",native:"Zambia",phone:[260],continent:"AF",capital:"Lusaka",currency:["ZMW"],languages:["en"]},ZW:{name:"Zimbabwe",native:"Zimbabwe",phone:[263],continent:"AF",capital:"Harare",currency:["USD","ZAR","BWP","GBP","AUD","CNY","INR","JPY"],languages:["en","sn","nd"]}},p7={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",XK:"XKX",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"},g7=t=>({...Of[t],iso2:t,iso3:p7[t]}),m7=()=>Object.keys(Of).map(t=>g7(t));m7();const y7={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},v7=ao(y7),_7=fa(v7);class w7 extends ee.Component{constructor(n){super(n);at(this,"handleKeyPress",n=>{n.key=="Enter"&&console.log("enter")});at(this,"updateState",(n,r)=>{this.setState({[n]:r,currentQuestion:this.state.currentQuestion+1})});at(this,"uploadData",async()=>{try{const n=await bU(dn(_7,"Users",this.state.user.uid),{role:this.state.role,recommendBy:this.state.recommendBy,eduLvl:this.state.eduLvl,country:this.state.country,displayName:this.state.user.displayName,email:this.state.user.email,photoURL:this.state.user.photoURL})}catch(n){console.log("Error adding document of first-time login user: ",n)}});console.log(n.state.user),this.state={user:n.state.user,currentQuestion:1,role:null,recommendBy:null,eduLvl:null,country:null};let r=["-- Please Select --"];for(let i in Of)r.push(Of[i].name);r.sort(),this.data=[{id:1,answering:"role",question:"I am a ...",options:["student","teacher","special needy / refugee / disabilities","public"]},{id:2,answering:"recommendBy",question:"Who recommend me to this platform?",options:["friends","family","school","social media","others"]},{id:3,answering:"eduLvl",question:"I am currently in ...",options:["primary school","secondary school","high school","undergraduate","postgraduate","workplace"]},{id:4,answering:"country",question:"I am from ...",options:r}]}render(){if(console.log(this.state),this.state.user)if(this.state.user.metadata.creationTime===this.state.user.metadata.lastSignInTime)console.log("first-time user");else return E.jsx(Ku,{to:"/freeflow-edu/"});else return E.jsx(Ku,{to:"/freeflow-edu/"});const n=il(this.data)?[]:this.data.map((r,i)=>{const s=il(r.options)?[]:r.options.map((o,a)=>r.options.length<10?E.jsx("button",{onClick:()=>this.updateState(r.answering,o),value:o,children:o},o):E.jsx("option",{value:o,children:o},o));return E.jsxs("div",{style:{display:r.id===this.state.currentQuestion?"inherit":"none"},children:[E.jsxs("h3",{children:["Question ",r.id,": ",r.question]}),r.options.length<10?s:E.jsx("select",{id:"s_country",onChange:()=>$("#s_country").val()!=="-- Please Select --"?this.updateState("country",$("#s_country").val()):alert("Please select your origin."),children:s})]},r.id)});return this.state.currentQuestion>4?(console.log("End of survey"),this.uploadData(),E.jsx(Ku,{to:"/freeflow-edu/"})):E.jsxs(E.Fragment,{children:[E.jsx("h1",{children:"First Time Login Q&A"}),n]})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firebasestorage.googleapis.com",lR="storageBucket",x7=2*60*1e3,E7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends Ui{constructor(e,n,r=0){super(Vm(e),`Firebase Storage: ${n} (${Vm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function Vm(t){return"storage/"+t}function G_(){const t="An unknown error occurred, please check the error payload for server response.";return new Nt(Pt.UNKNOWN,t)}function b7(t){return new Nt(Pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function S7(t){return new Nt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function I7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(Pt.UNAUTHENTICATED,t)}function A7(){return new Nt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function T7(t){return new Nt(Pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function k7(){return new Nt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C7(){return new Nt(Pt.CANCELED,"User canceled the upload/download.")}function R7(t){return new Nt(Pt.INVALID_URL,"Invalid URL '"+t+"'.")}function P7(t){return new Nt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N7(){return new Nt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lR+"' property when initializing the app?")}function M7(){return new Nt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function L7(){return new Nt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O7(t){return new Nt(Pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sv(t){return new Nt(Pt.INVALID_ARGUMENT,t)}function uR(){return new Nt(Pt.APP_DELETED,"The Firebase app was deleted.")}function D7(t){return new Nt(Pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rc(t,e){return new Nt(Pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _u(t){throw new Nt(Pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_r.makeFromUrl(e,n)}catch{return new _r(e,"")}if(r.path==="")return r;throw P7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${d}/${c}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},x=n===aR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",w=new RegExp(`^https?://${x}/${i}/${A}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:_,indices:S,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<m.length;P++){const N=m[P],D=N.regex.exec(e);if(D){const F=D[N.indices.bucket];let V=D[N.indices.path];V||(V=""),r=new _r(F,V),N.postModify(r);break}}if(r==null)throw R7(e);return r}}class B7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...A){u||(u=!0,e.apply(null,A))}function d(A){i=setTimeout(()=>{i=null,t(_,l())},A)}function y(){s&&clearTimeout(s)}function _(A,...w){if(u){y();return}if(A){y(),c.call(null,A,...w);return}if(l()||o){y(),c.call(null,A,...w);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,d(m)}let S=!1;function x(A){S||(S=!0,y(),!u&&(i!==null?(A||(a=2),clearTimeout(i),d(0)):A||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function F7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){return t!==void 0}function $7(t){return typeof t=="object"&&!Array.isArray(t)}function Q_(t){return typeof t=="string"||t instanceof String}function Hb(t){return Y_()&&t instanceof Blob}function Y_(){return typeof Blob<"u"&&!j6()}function qb(t,e,n,r){if(r<e)throw sv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function cR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,n,r,i,s,o,a,l,u,c,d,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new td(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Uo.NO_ERROR,l=s.getStatus();if(!a||j7(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Uo.ABORT;r(!1,new td(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new td(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());V7(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=G_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?uR():C7();o(l)}else{const l=k7();o(l)}};this.canceled_?n(!1,new td(!1,null,!0)):this.backoffId_=U7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class td{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function H7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function K7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function G7(t,e,n,r,i,s,o=!0){const a=cR(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return W7(u,e),H7(u,n),q7(u,s),K7(u,r),new z7(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Y7(...t){const e=Q7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Y_())return new Blob(t);throw new Nt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function X7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(t){if(typeof atob>"u")throw O7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $m{constructor(e,n){this.data=e,this.contentType=n||null}}function Z7(t,e){switch(t){case Ei.RAW:return new $m(hR(e));case Ei.BASE64:case Ei.BASE64URL:return new $m(dR(t,e));case Ei.DATA_URL:return new $m(tV(e),nV(e))}throw G_()}function hR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eV(t){let e;try{e=decodeURIComponent(t)}catch{throw rc(Ei.DATA_URL,"Malformed data URL.")}return hR(e)}function dR(t,e){switch(t){case Ei.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=J7(e)}catch(i){throw i.message.includes("polyfill")?i:rc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class fR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw rc(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tV(t){const e=new fR(t);return e.base64?dR(Ei.BASE64,e.rest):eV(e.rest)}function nV(t){return new fR(t).contentType}function rV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){let r=0,i="";Hb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Hb(this.data_)){const r=this.data_,i=X7(r,e,n);return i===null?null:new Rs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Rs(r,!0)}}static getBlob(...e){if(Y_()){const n=e.map(r=>r instanceof Rs?r.data_:r);return new Rs(Y7.apply(null,n))}else{const n=e.map(o=>Q_(o)?Z7(Ei.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Rs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){let e;try{e=JSON.parse(t)}catch{return null}return $7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function gR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e){return e}class Kn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||oV}}let nd=null;function aV(t){return!Q_(t)||t.length<2?t:gR(t)}function mR(){if(nd)return nd;const t=[];t.push(new Kn("bucket")),t.push(new Kn("generation")),t.push(new Kn("metageneration")),t.push(new Kn("name","fullPath",!0));function e(s,o){return aV(o)}const n=new Kn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Kn("size");return i.xform=r,t.push(i),t.push(new Kn("timeCreated")),t.push(new Kn("updated")),t.push(new Kn("md5Hash",null,!0)),t.push(new Kn("cacheControl",null,!0)),t.push(new Kn("contentDisposition",null,!0)),t.push(new Kn("contentEncoding",null,!0)),t.push(new Kn("contentLanguage",null,!0)),t.push(new Kn("contentType",null,!0)),t.push(new Kn("metadata","customMetadata",!0)),nd=t,nd}function lV(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new _r(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function uV(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return lV(r,t),r}function yR(t,e,n){const r=pR(e);return r===null?null:uV(t,r,n)}function cV(t,e,n,r){const i=pR(e);if(i===null||!Q_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,y="/b/"+o(c)+"/o/"+o(d),_=X_(y,n,r),S=cR({alt:"media",token:u});return _+S})[0]}function hV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class vR{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){if(!t)throw G_()}function dV(t,e){function n(r,i){const s=yR(t,i,e);return _R(s!==null),s}return n}function fV(t,e){function n(r,i){const s=yR(t,i,e);return _R(s!==null),cV(s,i,t.host,t._protocol)}return n}function wR(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=A7():i=I7():n.getStatus()===402?i=S7(t.bucket):n.getStatus()===403?i=T7(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pV(t){const e=wR(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=b7(t.path)),s.serverResponse=i.serverResponse,s}return n}function gV(t,e,n){const r=e.fullServerUrl(),i=X_(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new vR(i,s,fV(t,n),o);return a.errorHandler=pV(e),a}function mV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mV(null,e)),r}function vV(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let m="";for(let P=0;P<2;P++)m=m+Math.random().toString().slice(2);return m}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=yV(e,r,i),c=hV(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,y=`\r
--`+l+"--",_=Rs.getBlob(d,r,y);if(_===null)throw M7();const S={name:u.fullPath},x=X_(s,t.host,t._protocol),A="POST",w=t.maxUploadRetryTime,b=new vR(x,A,dV(t,n),w);return b.urlParams=S,b.headers=o,b.body=_.uploadData(),b.errorHandler=wR(e),b}class _V{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Uo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Uo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw _u("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wV extends _V{initXhr(){this.xhr_.responseType="text"}}function xR(){return new wV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this._service=e,n instanceof _r?this._location=n:this._location=_r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ta(e,n)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gR(this._location.path)}get storage(){return this._service}get parent(){const e=iV(this._location.path);if(e===null)return null;const n=new _r(this._location.bucket,e);return new ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D7(e)}}function xV(t,e,n){t._throwIfRoot("uploadBytes");const r=vV(t.storage,t._location,mR(),new Rs(e,!0),n);return t.storage.makeRequestWithTokens(r,xR).then(i=>({metadata:i,ref:t}))}function EV(t){t._throwIfRoot("getDownloadURL");const e=gV(t.storage,t._location,mR());return t.storage.makeRequestWithTokens(e,xR).then(n=>{if(n===null)throw L7();return n})}function bV(t,e){const n=sV(t._location.path,e),r=new _r(t._location.bucket,n);return new ta(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){return/^[A-Za-z]+:\/\//.test(t)}function IV(t,e){return new ta(t,e)}function ER(t,e){if(t instanceof J_){const n=t;if(n._bucket==null)throw N7();const r=new ta(n,n._bucket);return e!=null?ER(r,e):r}else return e!==void 0?bV(t,e):t}function AV(t,e){if(e&&SV(e)){if(t instanceof J_)return IV(t,e);throw sv("To use ref(service, url), the first argument must be a Storage instance.")}else return ER(t,e)}function Wb(t,e){const n=e==null?void 0:e[lR];return n==null?null:_r.makeFromBucketSpec(n,t)}function TV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:pA(i,t.app.options.projectId))}class J_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=aR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x7,this._maxUploadRetryTime=E7,this._requests=new Set,i!=null?this._bucket=_r.makeFromBucketSpec(i,this._host):this._bucket=Wb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,e):this._bucket=Wb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new B7(uR());{const o=G7(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Kb="@firebase/storage",Gb="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="storage";function wu(t,e,n){return t=Ct(t),xV(t,e,n)}function Fo(t){return t=Ct(t),EV(t)}function Pi(t,e){return t=Ct(t),AV(t,e)}function Zp(t=w1(),e){t=Ct(t);const r=hp(t,bR).getImmediate({identifier:e}),i=hA("storage");return i&&kV(r,...i),r}function kV(t,e,n,r={}){TV(t,e,n,r)}function CV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new J_(n,r,i,e,la)}function RV(){Go(new Zs(bR,CV,"PUBLIC").setMultipleInstances(!0)),Ai(Kb,Gb,""),Ai(Kb,Gb,"esm2017")}RV();const PV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},SR=ao(PV),jm=fa(SR),NV=Zp(SR),MV=t=>{const[e,n]=ee.useState(t.state.user);ee.useState(t.state.credential);const[r,i]=ee.useState(null),s=zl();if(e){const o=dn(jm,"Users",e.uid);(()=>{xi(o).then(c=>{c.exists()?console.log("registered"):e.metadata.creationTime===e.metadata.lastSignInTime?(console.log("first-time user"),s("/freeflow-edu/first-time-user")):console.log("registered")}).catch(c=>{console.log("Error getting document of collection Users: ",c)})})();const l=()=>il(r)?[]:r.map((c,d)=>{const y=_=>(console.log(_),s("course/"+_));return E.jsx("main",{class:"my-8",children:E.jsx("div",{className:"w-full h-96 md:mx-4 rounded-md overflow-hidden bg-cover bg-center md:w-1/2",style:{backgroundImage:"url('https://images.unsplash.com/photo-1547949003-9792a18a2601?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80')"},alt:"Course Thumbnail",id:c+"_card_thumbnail",children:E.jsx("div",{className:"bg-gray-900 bg-opacity-70 flex items-center h-full dark:bg-opacity-50",children:E.jsxs("div",{className:"px-10 max-w-xl",children:[E.jsxs("p",{className:"mb-4 text-sm text-yellow-500 dark:text-neutral-500 dark:text-yellow-500",children:[E.jsx("span",{id:c+"_eduLvl"})," ",E.jsx("span",{id:c+"_sub"})]}),E.jsx("h2",{className:"text-2xl text-white font-semibold",id:c+"_title"}),E.jsx("p",{className:"mt-2 mb-3 text-gray-300 text-sm [text-shadow:_0_1px_0_rgb(0_0_0_/_30%)]",id:c+"_des"}),E.jsx("div",{className:"gap-4",id:c+"_tag"}),E.jsxs("button",{className:"flex items-center mt-4 text-white bg-transparent text-sm uppercase font-medium rounded hover:underline focus:outline-none",onClick:()=>y(c),children:[E.jsx("span",{children:"View Course"}),E.jsx("svg",{className:"h-5 w-5 mx-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})},d)})});ee.useEffect(()=>{Xa(document.getElementById("div_recommended")).render(E.jsx(l,{}));for(let d in r){const y=dn(jm,"Course",r[d]);xi(y).then(_=>{$("#"+_.id+"_title").text(_.data().title),$("#"+_.id+"_des").text(_.data().des),$("#"+_.id+"_eduLvl").text(Qn(_.data().eduLvl)),$("#"+_.id+"_sub").text(Qn(_.data().sub)),(x=>{Fo(Pi(NV,x+"/thumbnail.jpg")).then(A=>{$(`#${r[d]}_card_thumbnail`).css("backgroundImage",`url(${A})`)})})(r[d]);for(let x in _.data().tag)$("#"+_.id+"_tag").html($("#"+_.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${_.data().tag[x]}</span>`)}).catch(_=>{console.error("No such document Course for id",r[d],_)})}},[r]),(async()=>{const c=await C_(jp(jm,"Course"));r||i(c.docs.map(d=>d.id))})()}return E.jsxs(E.Fragment,{children:[E.jsx("h1",{children:"Home"}),E.jsx("h3",{className:"text-3xl bold py-5",children:"Recommended Course"}),E.jsx("div",{id:"div_recommended"})]})},LV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},IR=ao(LV),xu=fa(IR),zm=Zp(IR),OV=t=>{const{id:e}=nA(),n=zl(),[r,i]=ee.useState(null),[s,o]=ee.useState(null),[a,l]=ee.useState(null),[u,c]=ee.useState(null),d=dn(xu,"Users",e),y=async()=>{const S=await xi(d);S.exists()?($("#t_img_profile").attr("src",S.data().photoURL),$("#t_name_profile").text(S.data().displayName),$("#t_role_profile").text(Qn(S.data().role)),e===t.state.user.uid&&(S.data().wishlist&&(s||o(S.data().wishlist)),S.data().enrolled&&(r||i(S.data().enrolled))),u||c(S.data().role)):console.log("No such document for users with uid",t.state.user.uid)};if(console.log("profile id",e),y(),t.state.user.uid===e){const S=()=>il(r)?[]:r.map((A,w)=>{const b=m=>n("../course/"+m);return E.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[E.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:A+"_enrolled_card_thumbnail"}),E.jsxs("div",{className:"flex flex-col justify-start p-6",children:[E.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:A+"_enrolled_title"}),E.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:A+"_enrolled_des"}),E.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[E.jsx("span",{id:A+"_enrolled_eduLvl"})," ",E.jsx("span",{id:A+"_enrolled_sub"})]}),E.jsx("div",{className:"gap-4",id:A+"_enrolled_tag"}),E.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>b(A),children:"View Course"})]})]},w)});ee.useEffect(()=>{Xa(document.getElementById("div_enrolled")).render(E.jsx(S,{}));for(let w in r){const b=dn(xu,"Course",r[w]);xi(b).then(m=>{$("#"+m.id+"_enrolled_title").text(m.data().title),$("#"+m.id+"_enrolled_des").text(m.data().des),$("#"+m.id+"_enrolled_eduLvl").text(Qn(m.data().eduLvl)),$("#"+m.id+"_enrolled_sub").text(Qn(m.data().sub)),(N=>{Fo(Pi(zm,N+"/thumbnail.jpg")).then(D=>{$(`#${r[w]}_enrolled_card_thumbnail`).attr("src",D)})})(r[w]);for(let N in m.data().tag)$("#"+m.id+"_enrolled_tag").html($("#"+m.id+"_enrolled_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${m.data().tag[N]}</span>`)}).catch(m=>{console.error("No such document Course for id",s[w],m)})}},[r]);const x=()=>il(r)?[]:s.map((A,w)=>{const b=m=>n("../course/"+m);return E.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[E.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:A+"_card_thumbnail"}),E.jsxs("div",{className:"flex flex-col justify-start p-6",children:[E.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:A+"_title"}),E.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:A+"_des"}),E.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[E.jsx("span",{id:A+"_eduLvl"})," ",E.jsx("span",{id:A+"_sub"})]}),E.jsx("div",{className:"gap-4",id:A+"_tag"}),E.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>b(A),children:"View Course"})]})]},w)});ee.useEffect(()=>{Xa(document.getElementById("div_wishlist")).render(E.jsx(x,{}));for(let w in s){const b=dn(xu,"Course",s[w]);xi(b).then(m=>{$("#"+m.id+"_title").text(m.data().title),$("#"+m.id+"_des").text(m.data().des),$("#"+m.id+"_eduLvl").text(Qn(m.data().eduLvl)),$("#"+m.id+"_sub").text(Qn(m.data().sub)),(N=>{Fo(Pi(zm,N+"/thumbnail.jpg")).then(D=>{$(`#${s[w]}_card_thumbnail`).attr("src",D)})})(s[w]);for(let N in m.data().tag)$("#"+m.id+"_tag").html($("#"+m.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${m.data().tag[N]}</span>`)}).catch(m=>{console.error("No such document Course for id",s[w],m)})}},[s])}const _=()=>il(a)?[]:a.map((S,x)=>{const A=w=>n("../course/"+w);return E.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[E.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:S+"_lesson_card_thumbnail"}),E.jsxs("div",{className:"flex flex-col justify-start p-6",children:[E.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:S+"_lesson_title"}),E.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:S+"_lesson_des"}),E.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[E.jsx("span",{id:S+"_lesson_eduLvl"})," ",E.jsx("span",{id:S+"_lesson_sub"})]}),E.jsx("div",{className:"gap-4",id:S+"_lesson_tag"}),E.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>A(S),children:"View Course"})]})]},x)});return ee.useEffect(()=>{Xa(document.getElementById("div_teacher")).render(E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-3xl bold py-5",children:"Lessons"}),E.jsx(_,{})]}));for(let x in a){const A=dn(xu,"Course",a[x]);xi(A).then(w=>{$("#"+w.id+"_lesson_title").text(w.data().title),$("#"+w.id+"_lesson_des").text(w.data().des),$("#"+w.id+"_lesson_eduLvl").text(Qn(w.data().eduLvl)),$("#"+w.id+"_lesson_sub").text(Qn(w.data().sub)),(m=>{Fo(Pi(zm,m+"/thumbnail.jpg")).then(P=>{$(`#${a[x]}_lesson_card_thumbnail`).attr("src",P)})})(a[x]);for(let m in w.data().tag)$("#"+w.id+"_lesson_tag").html($("#"+w.id+"_lesson_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${w.data().tag[m]}</span>`)}).catch(w=>{console.error("No such document Course for id",a[x],w)})}},[a]),ee.useEffect(()=>{if(u==="teacher"){const S=mC(jp(xu,"Course"),yC("userUID","==","TaTnr1b52dY46GbLtOF2XtdKShm1"));(async()=>{const A=await C_(S);l(A.docs.map(w=>w.id))})()}},[u]),E.jsxs(E.Fragment,{children:[E.jsx("h1",{children:"Profile"}),E.jsx("img",{src:"",alt:"Profile Image",id:"t_img_profile"}),E.jsxs("h3",{children:["Name: ",E.jsx("span",{id:"t_name_profile"})]}),E.jsx("h3",{id:"t_role_profile"}),t.state.user.uid===e&&E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"text-3xl bold py-5",children:"Enrolled Course"}),E.jsx("div",{id:"div_enrolled"}),E.jsx("h3",{className:"text-3xl bold py-5",children:"Wishlist"}),E.jsx("div",{id:"div_wishlist"})]}),E.jsx("div",{id:"div_teacher"})]})};var ke={},eg={};eg.byteLength=UV;eg.toByteArray=VV;eg.fromByteArray=zV;var vi=[],Nr=[],DV=typeof Uint8Array<"u"?Uint8Array:Array,Hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ea=0,BV=Hm.length;Ea<BV;++Ea)vi[Ea]=Hm[Ea],Nr[Hm.charCodeAt(Ea)]=Ea;Nr["-".charCodeAt(0)]=62;Nr["_".charCodeAt(0)]=63;function AR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function UV(t){var e=AR(t),n=e[0],r=e[1];return(n+r)*3/4-r}function FV(t,e,n){return(e+n)*3/4-n}function VV(t){var e,n=AR(t),r=n[0],i=n[1],s=new DV(FV(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Nr[t.charCodeAt(l)]<<18|Nr[t.charCodeAt(l+1)]<<12|Nr[t.charCodeAt(l+2)]<<6|Nr[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Nr[t.charCodeAt(l)]<<2|Nr[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Nr[t.charCodeAt(l)]<<10|Nr[t.charCodeAt(l+1)]<<4|Nr[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function $V(t){return vi[t>>18&63]+vi[t>>12&63]+vi[t>>6&63]+vi[t&63]}function jV(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push($V(r));return i.join("")}function zV(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(jV(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(vi[e>>2]+vi[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(vi[e>>10]+vi[e>>4&63]+vi[e<<2&63]+"=")),i.join("")}var Z_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Z_.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,y=n?-1:1,_=t[e+d];for(d+=y,s=_&(1<<-c)-1,_>>=-c,c+=a;c>0;s=s*256+t[e+d],d+=y,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+d],d+=y,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(_?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(_?-1:1)*o*Math.pow(2,s-r)};Z_.write=function(t,e,n,r,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,d=c>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:s-1,S=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=y/l:e+=y*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(e*l-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+_]=a&255,_+=S,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+_]=o&255,_+=S,o/=256,u-=8);t[n+_-S]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=eg,n=Z_,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const R=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(R,p),R.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(R){if(R>i)throw new RangeError('The value "'+R+'" is invalid for option "size"');const p=new Uint8Array(R);return Object.setPrototypeOf(p,a.prototype),p}function a(R,p,g){if(typeof R=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(R)}return l(R,p,g)}a.poolSize=8192;function l(R,p,g){if(typeof R=="string")return y(R,p);if(ArrayBuffer.isView(R))return S(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(sn(R,ArrayBuffer)||R&&sn(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sn(R,SharedArrayBuffer)||R&&sn(R.buffer,SharedArrayBuffer)))return x(R,p,g);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=R.valueOf&&R.valueOf();if(B!=null&&B!==R)return a.from(B,p,g);const j=A(R);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return a.from(R[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}a.from=function(R,p,g){return l(R,p,g)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function c(R,p,g){return u(R),R<=0?o(R):p!==void 0?typeof g=="string"?o(R).fill(p,g):o(R).fill(p):o(R)}a.alloc=function(R,p,g){return c(R,p,g)};function d(R){return u(R),o(R<0?0:w(R)|0)}a.allocUnsafe=function(R){return d(R)},a.allocUnsafeSlow=function(R){return d(R)};function y(R,p){if((typeof p!="string"||p==="")&&(p="utf8"),!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const g=m(R,p)|0;let B=o(g);const j=B.write(R,p);return j!==g&&(B=B.slice(0,j)),B}function _(R){const p=R.length<0?0:w(R.length)|0,g=o(p);for(let B=0;B<p;B+=1)g[B]=R[B]&255;return g}function S(R){if(sn(R,Uint8Array)){const p=new Uint8Array(R);return x(p.buffer,p.byteOffset,p.byteLength)}return _(R)}function x(R,p,g){if(p<0||R.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');let B;return p===void 0&&g===void 0?B=new Uint8Array(R):g===void 0?B=new Uint8Array(R,p):B=new Uint8Array(R,p,g),Object.setPrototypeOf(B,a.prototype),B}function A(R){if(a.isBuffer(R)){const p=w(R.length)|0,g=o(p);return g.length===0||R.copy(g,0,0,p),g}if(R.length!==void 0)return typeof R.length!="number"||et(R.length)?o(0):_(R);if(R.type==="Buffer"&&Array.isArray(R.data))return _(R.data)}function w(R){if(R>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return R|0}function b(R){return+R!=R&&(R=0),a.alloc(+R)}a.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype},a.compare=function(p,g){if(sn(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),sn(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(p)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;let B=p.length,j=g.length;for(let z=0,K=Math.min(B,j);z<K;++z)if(p[z]!==g[z]){B=p[z],j=g[z];break}return B<j?-1:j<B?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);let B;if(g===void 0)for(g=0,B=0;B<p.length;++B)g+=p[B].length;const j=a.allocUnsafe(g);let z=0;for(B=0;B<p.length;++B){let K=p[B];if(sn(K,Uint8Array))z+K.length>j.length?(a.isBuffer(K)||(K=a.from(K)),K.copy(j,z)):Uint8Array.prototype.set.call(j,K,z);else if(a.isBuffer(K))K.copy(j,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=K.length}return j};function m(R,p){if(a.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||sn(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);const g=R.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&g===0)return 0;let j=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return Ze(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return We(R).length;default:if(j)return B?-1:Ze(R).length;p=(""+p).toLowerCase(),j=!0}}a.byteLength=m;function P(R,p,g){let B=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(R||(R="utf8");;)switch(R){case"hex":return T(this,p,g);case"utf8":case"utf-8":return h(this,p,g);case"ascii":return O(this,p,g);case"latin1":case"binary":return C(this,p,g);case"base64":return U(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,p,g);default:if(B)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),B=!0}}a.prototype._isBuffer=!0;function N(R,p,g){const B=R[p];R[p]=R[g],R[g]=B}a.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<p;g+=2)N(this,g,g+1);return this},a.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<p;g+=4)N(this,g,g+3),N(this,g+1,g+2);return this},a.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<p;g+=8)N(this,g,g+7),N(this,g+1,g+6),N(this,g+2,g+5),N(this,g+3,g+4);return this},a.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?h(this,0,p):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){let p="";const g=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(p,g,B,j,z){if(sn(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),B===void 0&&(B=p?p.length:0),j===void 0&&(j=0),z===void 0&&(z=this.length),g<0||B>p.length||j<0||z>this.length)throw new RangeError("out of range index");if(j>=z&&g>=B)return 0;if(j>=z)return-1;if(g>=B)return 1;if(g>>>=0,B>>>=0,j>>>=0,z>>>=0,this===p)return 0;let K=z-j,Le=B-g;const Re=Math.min(K,Le),Ie=this.slice(j,z),ut=p.slice(g,B);for(let Ee=0;Ee<Re;++Ee)if(Ie[Ee]!==ut[Ee]){K=Ie[Ee],Le=ut[Ee];break}return K<Le?-1:Le<K?1:0};function D(R,p,g,B,j){if(R.length===0)return-1;if(typeof g=="string"?(B=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,et(g)&&(g=j?0:R.length-1),g<0&&(g=R.length+g),g>=R.length){if(j)return-1;g=R.length-1}else if(g<0)if(j)g=0;else return-1;if(typeof p=="string"&&(p=a.from(p,B)),a.isBuffer(p))return p.length===0?-1:F(R,p,g,B,j);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(R,p,g):Uint8Array.prototype.lastIndexOf.call(R,p,g):F(R,[p],g,B,j);throw new TypeError("val must be string, number or Buffer")}function F(R,p,g,B,j){let z=1,K=R.length,Le=p.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(R.length<2||p.length<2)return-1;z=2,K/=2,Le/=2,g/=2}function Re(ut,Ee){return z===1?ut[Ee]:ut.readUInt16BE(Ee*z)}let Ie;if(j){let ut=-1;for(Ie=g;Ie<K;Ie++)if(Re(R,Ie)===Re(p,ut===-1?0:Ie-ut)){if(ut===-1&&(ut=Ie),Ie-ut+1===Le)return ut*z}else ut!==-1&&(Ie-=Ie-ut),ut=-1}else for(g+Le>K&&(g=K-Le),Ie=g;Ie>=0;Ie--){let ut=!0;for(let Ee=0;Ee<Le;Ee++)if(Re(R,Ie+Ee)!==Re(p,Ee)){ut=!1;break}if(ut)return Ie}return-1}a.prototype.includes=function(p,g,B){return this.indexOf(p,g,B)!==-1},a.prototype.indexOf=function(p,g,B){return D(this,p,g,B,!0)},a.prototype.lastIndexOf=function(p,g,B){return D(this,p,g,B,!1)};function V(R,p,g,B){g=Number(g)||0;const j=R.length-g;B?(B=Number(B),B>j&&(B=j)):B=j;const z=p.length;B>z/2&&(B=z/2);let K;for(K=0;K<B;++K){const Le=parseInt(p.substr(K*2,2),16);if(et(Le))return K;R[g+K]=Le}return K}function G(R,p,g,B){return Qe(Ze(p,R.length-g),R,g,B)}function Y(R,p,g,B){return Qe(ot(p),R,g,B)}function Q(R,p,g,B){return Qe(We(p),R,g,B)}function ce(R,p,g,B){return Qe(ds(p,R.length-g),R,g,B)}a.prototype.write=function(p,g,B,j){if(g===void 0)j="utf8",B=this.length,g=0;else if(B===void 0&&typeof g=="string")j=g,B=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(B)?(B=B>>>0,j===void 0&&(j="utf8")):(j=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-g;if((B===void 0||B>z)&&(B=z),p.length>0&&(B<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let K=!1;for(;;)switch(j){case"hex":return V(this,p,g,B);case"utf8":case"utf-8":return G(this,p,g,B);case"ascii":case"latin1":case"binary":return Y(this,p,g,B);case"base64":return Q(this,p,g,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,p,g,B);default:if(K)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),K=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(R,p,g){return p===0&&g===R.length?e.fromByteArray(R):e.fromByteArray(R.slice(p,g))}function h(R,p,g){g=Math.min(R.length,g);const B=[];let j=p;for(;j<g;){const z=R[j];let K=null,Le=z>239?4:z>223?3:z>191?2:1;if(j+Le<=g){let Re,Ie,ut,Ee;switch(Le){case 1:z<128&&(K=z);break;case 2:Re=R[j+1],(Re&192)===128&&(Ee=(z&31)<<6|Re&63,Ee>127&&(K=Ee));break;case 3:Re=R[j+1],Ie=R[j+2],(Re&192)===128&&(Ie&192)===128&&(Ee=(z&15)<<12|(Re&63)<<6|Ie&63,Ee>2047&&(Ee<55296||Ee>57343)&&(K=Ee));break;case 4:Re=R[j+1],Ie=R[j+2],ut=R[j+3],(Re&192)===128&&(Ie&192)===128&&(ut&192)===128&&(Ee=(z&15)<<18|(Re&63)<<12|(Ie&63)<<6|ut&63,Ee>65535&&Ee<1114112&&(K=Ee))}}K===null?(K=65533,Le=1):K>65535&&(K-=65536,B.push(K>>>10&1023|55296),K=56320|K&1023),B.push(K),j+=Le}return k(B)}const v=4096;function k(R){const p=R.length;if(p<=v)return String.fromCharCode.apply(String,R);let g="",B=0;for(;B<p;)g+=String.fromCharCode.apply(String,R.slice(B,B+=v));return g}function O(R,p,g){let B="";g=Math.min(R.length,g);for(let j=p;j<g;++j)B+=String.fromCharCode(R[j]&127);return B}function C(R,p,g){let B="";g=Math.min(R.length,g);for(let j=p;j<g;++j)B+=String.fromCharCode(R[j]);return B}function T(R,p,g){const B=R.length;(!p||p<0)&&(p=0),(!g||g<0||g>B)&&(g=B);let j="";for(let z=p;z<g;++z)j+=tt[R[z]];return j}function M(R,p,g){const B=R.slice(p,g);let j="";for(let z=0;z<B.length-1;z+=2)j+=String.fromCharCode(B[z]+B[z+1]*256);return j}a.prototype.slice=function(p,g){const B=this.length;p=~~p,g=g===void 0?B:~~g,p<0?(p+=B,p<0&&(p=0)):p>B&&(p=B),g<0?(g+=B,g<0&&(g=0)):g>B&&(g=B),g<p&&(g=p);const j=this.subarray(p,g);return Object.setPrototypeOf(j,a.prototype),j};function I(R,p,g){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+p>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(p,g,B){p=p>>>0,g=g>>>0,B||I(p,g,this.length);let j=this[p],z=1,K=0;for(;++K<g&&(z*=256);)j+=this[p+K]*z;return j},a.prototype.readUintBE=a.prototype.readUIntBE=function(p,g,B){p=p>>>0,g=g>>>0,B||I(p,g,this.length);let j=this[p+--g],z=1;for(;g>0&&(z*=256);)j+=this[p+--g]*z;return j},a.prototype.readUint8=a.prototype.readUInt8=function(p,g){return p=p>>>0,g||I(p,1,this.length),this[p]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||I(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||I(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||I(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||I(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readBigUInt64LE=yn(function(p){p=p>>>0,je(p,"offset");const g=this[p],B=this[p+7];(g===void 0||B===void 0)&&Oe(p,this.length-8);const j=g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,z=this[++p]+this[++p]*2**8+this[++p]*2**16+B*2**24;return BigInt(j)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=yn(function(p){p=p>>>0,je(p,"offset");const g=this[p],B=this[p+7];(g===void 0||B===void 0)&&Oe(p,this.length-8);const j=g*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],z=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+B;return(BigInt(j)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(p,g,B){p=p>>>0,g=g>>>0,B||I(p,g,this.length);let j=this[p],z=1,K=0;for(;++K<g&&(z*=256);)j+=this[p+K]*z;return z*=128,j>=z&&(j-=Math.pow(2,8*g)),j},a.prototype.readIntBE=function(p,g,B){p=p>>>0,g=g>>>0,B||I(p,g,this.length);let j=g,z=1,K=this[p+--j];for(;j>0&&(z*=256);)K+=this[p+--j]*z;return z*=128,K>=z&&(K-=Math.pow(2,8*g)),K},a.prototype.readInt8=function(p,g){return p=p>>>0,g||I(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,g){p=p>>>0,g||I(p,2,this.length);const B=this[p]|this[p+1]<<8;return B&32768?B|4294901760:B},a.prototype.readInt16BE=function(p,g){p=p>>>0,g||I(p,2,this.length);const B=this[p+1]|this[p]<<8;return B&32768?B|4294901760:B},a.prototype.readInt32LE=function(p,g){return p=p>>>0,g||I(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,g){return p=p>>>0,g||I(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readBigInt64LE=yn(function(p){p=p>>>0,je(p,"offset");const g=this[p],B=this[p+7];(g===void 0||B===void 0)&&Oe(p,this.length-8);const j=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(B<<24);return(BigInt(j)<<BigInt(32))+BigInt(g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),a.prototype.readBigInt64BE=yn(function(p){p=p>>>0,je(p,"offset");const g=this[p],B=this[p+7];(g===void 0||B===void 0)&&Oe(p,this.length-8);const j=(g<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(j)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+B)}),a.prototype.readFloatLE=function(p,g){return p=p>>>0,g||I(p,4,this.length),n.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,g){return p=p>>>0,g||I(p,4,this.length),n.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||I(p,8,this.length),n.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||I(p,8,this.length),n.read(this,p,!1,52,8)};function f(R,p,g,B,j,z){if(!a.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>j||p<z)throw new RangeError('"value" argument is out of bounds');if(g+B>R.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(p,g,B,j){if(p=+p,g=g>>>0,B=B>>>0,!j){const Le=Math.pow(2,8*B)-1;f(this,p,g,B,Le,0)}let z=1,K=0;for(this[g]=p&255;++K<B&&(z*=256);)this[g+K]=p/z&255;return g+B},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(p,g,B,j){if(p=+p,g=g>>>0,B=B>>>0,!j){const Le=Math.pow(2,8*B)-1;f(this,p,g,B,Le,0)}let z=B-1,K=1;for(this[g+z]=p&255;--z>=0&&(K*=256);)this[g+z]=p/K&255;return g+B},a.prototype.writeUint8=a.prototype.writeUInt8=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,1,255,0),this[g]=p&255,g+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function L(R,p,g,B,j){Me(p,B,j,R,g,7);let z=Number(p&BigInt(4294967295));R[g++]=z,z=z>>8,R[g++]=z,z=z>>8,R[g++]=z,z=z>>8,R[g++]=z;let K=Number(p>>BigInt(32)&BigInt(4294967295));return R[g++]=K,K=K>>8,R[g++]=K,K=K>>8,R[g++]=K,K=K>>8,R[g++]=K,g}function W(R,p,g,B,j){Me(p,B,j,R,g,7);let z=Number(p&BigInt(4294967295));R[g+7]=z,z=z>>8,R[g+6]=z,z=z>>8,R[g+5]=z,z=z>>8,R[g+4]=z;let K=Number(p>>BigInt(32)&BigInt(4294967295));return R[g+3]=K,K=K>>8,R[g+2]=K,K=K>>8,R[g+1]=K,K=K>>8,R[g]=K,g+8}a.prototype.writeBigUInt64LE=yn(function(p,g=0){return L(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=yn(function(p,g=0){return W(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(p,g,B,j){if(p=+p,g=g>>>0,!j){const Re=Math.pow(2,8*B-1);f(this,p,g,B,Re-1,-Re)}let z=0,K=1,Le=0;for(this[g]=p&255;++z<B&&(K*=256);)p<0&&Le===0&&this[g+z-1]!==0&&(Le=1),this[g+z]=(p/K>>0)-Le&255;return g+B},a.prototype.writeIntBE=function(p,g,B,j){if(p=+p,g=g>>>0,!j){const Re=Math.pow(2,8*B-1);f(this,p,g,B,Re-1,-Re)}let z=B-1,K=1,Le=0;for(this[g+z]=p&255;--z>=0&&(K*=256);)p<0&&Le===0&&this[g+z+1]!==0&&(Le=1),this[g+z]=(p/K>>0)-Le&255;return g+B},a.prototype.writeInt8=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},a.prototype.writeInt16LE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeInt16BE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeInt32LE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},a.prototype.writeInt32BE=function(p,g,B){return p=+p,g=g>>>0,B||f(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},a.prototype.writeBigInt64LE=yn(function(p,g=0){return L(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=yn(function(p,g=0){return W(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(R,p,g,B,j,z){if(g+B>R.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function J(R,p,g,B,j){return p=+p,g=g>>>0,j||X(R,p,g,4),n.write(R,p,g,B,23,4),g+4}a.prototype.writeFloatLE=function(p,g,B){return J(this,p,g,!0,B)},a.prototype.writeFloatBE=function(p,g,B){return J(this,p,g,!1,B)};function oe(R,p,g,B,j){return p=+p,g=g>>>0,j||X(R,p,g,8),n.write(R,p,g,B,52,8),g+8}a.prototype.writeDoubleLE=function(p,g,B){return oe(this,p,g,!0,B)},a.prototype.writeDoubleBE=function(p,g,B){return oe(this,p,g,!1,B)},a.prototype.copy=function(p,g,B,j){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(B||(B=0),!j&&j!==0&&(j=this.length),g>=p.length&&(g=p.length),g||(g=0),j>0&&j<B&&(j=B),j===B||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),p.length-g<j-B&&(j=p.length-g+B);const z=j-B;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,B,j):Uint8Array.prototype.set.call(p,this.subarray(B,j),g),z},a.prototype.fill=function(p,g,B,j){if(typeof p=="string"){if(typeof g=="string"?(j=g,g=0,B=this.length):typeof B=="string"&&(j=B,B=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(p.length===1){const K=p.charCodeAt(0);(j==="utf8"&&K<128||j==="latin1")&&(p=K)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<B)throw new RangeError("Out of range index");if(B<=g)return this;g=g>>>0,B=B===void 0?this.length:B>>>0,p||(p=0);let z;if(typeof p=="number")for(z=g;z<B;++z)this[z]=p;else{const K=a.isBuffer(p)?p:a.from(p,j),Le=K.length;if(Le===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(z=0;z<B-g;++z)this[z+g]=K[z%Le]}return this};const he={};function ge(R,p,g){he[R]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(R,p){return`The "${R}" argument must be of type number. Received type ${typeof p}`},TypeError),ge("ERR_OUT_OF_RANGE",function(R,p,g){let B=`The value of "${R}" is out of range.`,j=g;return Number.isInteger(g)&&Math.abs(g)>2**32?j=qe(String(g)):typeof g=="bigint"&&(j=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(j=qe(j)),j+="n"),B+=` It must be ${p}. Received ${j}`,B},RangeError);function qe(R){let p="",g=R.length;const B=R[0]==="-"?1:0;for(;g>=B+4;g-=3)p=`_${R.slice(g-3,g)}${p}`;return`${R.slice(0,g)}${p}`}function Te(R,p,g){je(p,"offset"),(R[p]===void 0||R[p+g]===void 0)&&Oe(p,R.length-(g+1))}function Me(R,p,g,B,j,z){if(R>g||R<p){const K=typeof p=="bigint"?"n":"";let Le;throw z>3?p===0||p===BigInt(0)?Le=`>= 0${K} and < 2${K} ** ${(z+1)*8}${K}`:Le=`>= -(2${K} ** ${(z+1)*8-1}${K}) and < 2 ** ${(z+1)*8-1}${K}`:Le=`>= ${p}${K} and <= ${g}${K}`,new he.ERR_OUT_OF_RANGE("value",Le,R)}Te(B,j,z)}function je(R,p){if(typeof R!="number")throw new he.ERR_INVALID_ARG_TYPE(p,"number",R)}function Oe(R,p,g){throw Math.floor(R)!==R?(je(R,g),new he.ERR_OUT_OF_RANGE(g||"offset","an integer",R)):p<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${p}`,R)}const Ge=/[^+/0-9A-Za-z-_]/g;function fr(R){if(R=R.split("=")[0],R=R.trim().replace(Ge,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function Ze(R,p){p=p||1/0;let g;const B=R.length;let j=null;const z=[];for(let K=0;K<B;++K){if(g=R.charCodeAt(K),g>55295&&g<57344){if(!j){if(g>56319){(p-=3)>-1&&z.push(239,191,189);continue}else if(K+1===B){(p-=3)>-1&&z.push(239,191,189);continue}j=g;continue}if(g<56320){(p-=3)>-1&&z.push(239,191,189),j=g;continue}g=(j-55296<<10|g-56320)+65536}else j&&(p-=3)>-1&&z.push(239,191,189);if(j=null,g<128){if((p-=1)<0)break;z.push(g)}else if(g<2048){if((p-=2)<0)break;z.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;z.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;z.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return z}function ot(R){const p=[];for(let g=0;g<R.length;++g)p.push(R.charCodeAt(g)&255);return p}function ds(R,p){let g,B,j;const z=[];for(let K=0;K<R.length&&!((p-=2)<0);++K)g=R.charCodeAt(K),B=g>>8,j=g%256,z.push(j),z.push(B);return z}function We(R){return e.toByteArray(fr(R))}function Qe(R,p,g,B){let j;for(j=0;j<B&&!(j+g>=p.length||j>=R.length);++j)p[j+g]=R[j];return j}function sn(R,p){return R instanceof p||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===p.name}function et(R){return R!==R}const tt=function(){const R="0123456789abcdef",p=new Array(256);for(let g=0;g<16;++g){const B=g*16;for(let j=0;j<16;++j)p[B+j]=R[g]+R[j]}return p}();function yn(R){return typeof BigInt>"u"?st:R}function st(){throw new Error("BigInt not supported")}})(ke);function Qb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function TR(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function HV(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Qb(t.outputLen),Qb(t.blockLen)}function Df(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qV(t,e){TR(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const qm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kR=t=>t instanceof Uint8Array,Wm=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),pi=(t,e)=>t<<32-e|t>>>e,WV=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!WV)throw new Error("Non little-endian hardware is not supported");function CR(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ew(t){if(typeof t=="string"&&(t=CR(t)),!kR(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function RR(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!kR(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class PR{clone(){return this._cloneInto()}}function NR(t){const e=r=>t().update(ew(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function MR(t=32){if(qm&&typeof qm.getRandomValues=="function")return qm.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function KV(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,u=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+u,a,r)}class LR extends PR{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Wm(this.buffer)}update(e){Df(this);const{view:n,buffer:r,blockLen:i}=this;e=ew(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Wm(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Df(this),qV(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;KV(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Wm(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,c[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const rd=BigInt(2**32-1),ov=BigInt(32);function OR(t,e=!1){return e?{h:Number(t&rd),l:Number(t>>ov&rd)}:{h:Number(t>>ov&rd)|0,l:Number(t&rd)|0}}function GV(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=OR(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const QV=(t,e)=>BigInt(t>>>0)<<ov|BigInt(e>>>0),YV=(t,e,n)=>t>>>n,XV=(t,e,n)=>t<<32-n|e>>>n,JV=(t,e,n)=>t>>>n|e<<32-n,ZV=(t,e,n)=>t<<32-n|e>>>n,e$=(t,e,n)=>t<<64-n|e>>>n-32,t$=(t,e,n)=>t>>>n-32|e<<64-n,n$=(t,e)=>e,r$=(t,e)=>t,i$=(t,e,n)=>t<<n|e>>>32-n,s$=(t,e,n)=>e<<n|t>>>32-n,o$=(t,e,n)=>e<<n-32|t>>>64-n,a$=(t,e,n)=>t<<n-32|e>>>64-n;function l$(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const u$=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),c$=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,h$=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),d$=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,f$=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),p$=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,g$={fromBig:OR,split:GV,toBig:QV,shrSH:YV,shrSL:XV,rotrSH:JV,rotrSL:ZV,rotrBH:e$,rotrBL:t$,rotr32H:n$,rotr32L:r$,rotlSH:i$,rotlSL:s$,rotlBH:o$,rotlBL:a$,add:l$,add3L:u$,add3H:c$,add4L:h$,add4H:d$,add5H:p$,add5L:f$},De=g$,[m$,y$]=(()=>De.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),vs=new Uint32Array(80),_s=new Uint32Array(80);class v$ extends LR{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:d,Fl:y,Gh:_,Gl:S,Hh:x,Hl:A}=this;return[e,n,r,i,s,o,a,l,u,c,d,y,_,S,x,A]}set(e,n,r,i,s,o,a,l,u,c,d,y,_,S,x,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=d|0,this.Fl=y|0,this.Gh=_|0,this.Gl=S|0,this.Hh=x|0,this.Hl=A|0}process(e,n){for(let m=0;m<16;m++,n+=4)vs[m]=e.getUint32(n),_s[m]=e.getUint32(n+=4);for(let m=16;m<80;m++){const P=vs[m-15]|0,N=_s[m-15]|0,D=De.rotrSH(P,N,1)^De.rotrSH(P,N,8)^De.shrSH(P,N,7),F=De.rotrSL(P,N,1)^De.rotrSL(P,N,8)^De.shrSL(P,N,7),V=vs[m-2]|0,G=_s[m-2]|0,Y=De.rotrSH(V,G,19)^De.rotrBH(V,G,61)^De.shrSH(V,G,6),Q=De.rotrSL(V,G,19)^De.rotrBL(V,G,61)^De.shrSL(V,G,6),ce=De.add4L(F,Q,_s[m-7],_s[m-16]),U=De.add4H(ce,D,Y,vs[m-7],vs[m-16]);vs[m]=U|0,_s[m]=ce|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:d,El:y,Fh:_,Fl:S,Gh:x,Gl:A,Hh:w,Hl:b}=this;for(let m=0;m<80;m++){const P=De.rotrSH(d,y,14)^De.rotrSH(d,y,18)^De.rotrBH(d,y,41),N=De.rotrSL(d,y,14)^De.rotrSL(d,y,18)^De.rotrBL(d,y,41),D=d&_^~d&x,F=y&S^~y&A,V=De.add5L(b,N,F,y$[m],_s[m]),G=De.add5H(V,w,P,D,m$[m],vs[m]),Y=V|0,Q=De.rotrSH(r,i,28)^De.rotrBH(r,i,34)^De.rotrBH(r,i,39),ce=De.rotrSL(r,i,28)^De.rotrBL(r,i,34)^De.rotrBL(r,i,39),U=r&s^r&a^s&a,h=i&o^i&l^o&l;w=x|0,b=A|0,x=_|0,A=S|0,_=d|0,S=y|0,{h:d,l:y}=De.add(u|0,c|0,G|0,Y|0),u=a|0,c=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const v=De.add3L(Y,ce,h);r=De.add3H(v,G,Q,U),i=v|0}({h:r,l:i}=De.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=De.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=De.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=De.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:d,l:y}=De.add(this.Eh|0,this.El|0,d|0,y|0),{h:_,l:S}=De.add(this.Fh|0,this.Fl|0,_|0,S|0),{h:x,l:A}=De.add(this.Gh|0,this.Gl|0,x|0,A|0),{h:w,l:b}=De.add(this.Hh|0,this.Hl|0,w|0,b|0),this.set(r,i,s,o,a,l,u,c,d,y,_,S,x,A,w,b)}roundClean(){vs.fill(0),_s.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const DR=NR(()=>new v$);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BR=BigInt(0),tg=BigInt(1),_$=BigInt(2),ng=t=>t instanceof Uint8Array,w$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function na(t){if(!ng(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=w$[t[n]];return e}function UR(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function tw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Nl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Vo(t){return tw(na(t))}function sl(t){if(!ng(t))throw new Error("Uint8Array expected");return tw(na(Uint8Array.from(t).reverse()))}function Ml(t,e){return Nl(t.toString(16).padStart(e*2,"0"))}function jc(t,e){return Ml(t,e).reverse()}function x$(t){return Nl(UR(t))}function an(t,e,n){let r;if(typeof e=="string")try{r=Nl(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(ng(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function ra(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!ng(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function E$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function b$(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function S$(t){let e;for(e=0;t>BR;t>>=tg,e+=1);return e}function I$(t,e){return t>>BigInt(e)&tg}const A$=(t,e,n)=>t|(n?tg:BR)<<BigInt(e),nw=t=>(_$<<BigInt(t-1))-tg,Km=t=>new Uint8Array(t),Yb=t=>Uint8Array.from(t);function FR(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Km(t),i=Km(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),l=(d=Km())=>{i=a(Yb([0]),d),r=a(),d.length!==0&&(i=a(Yb([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const _=r.slice();y.push(_),d+=r.length}return ra(...y)};return(d,y)=>{o(),l(d);let _;for(;!(_=y(u()));)l();return o(),_}}const T$={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tu(t,e,n={}){const r=(i,s,o)=>{const a=T$[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const k$=Object.freeze(Object.defineProperty({__proto__:null,bitGet:I$,bitLen:S$,bitMask:nw,bitSet:A$,bytesToHex:na,bytesToNumberBE:Vo,bytesToNumberLE:sl,concatBytes:ra,createHmacDrbg:FR,ensureBytes:an,equalBytes:E$,hexToBytes:Nl,hexToNumber:tw,numberToBytesBE:Ml,numberToBytesLE:jc,numberToHexUnpadded:UR,numberToVarBytesBE:x$,utf8ToBytes:b$,validateObject:tu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fn=BigInt(0),wt=BigInt(1),xo=BigInt(2),C$=BigInt(3),av=BigInt(4),Xb=BigInt(5),Jb=BigInt(8);BigInt(9);BigInt(16);function mt(t,e){const n=t%e;return n>=fn?n:e+n}function R$(t,e,n){if(n<=fn||e<fn)throw new Error("Expected power/modulo > 0");if(n===wt)return fn;let r=wt;for(;e>fn;)e&wt&&(r=r*t%n),t=t*t%n,e>>=wt;return r}function It(t,e,n){let r=t;for(;e-- >fn;)r*=r,r%=n;return r}function lv(t,e){if(t===fn||e<=fn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=mt(t,e),r=e,i=fn,s=wt;for(;n!==fn;){const a=r/n,l=r%n,u=i-s*a;r=n,n=l,i=s,s=u}if(r!==wt)throw new Error("invert: does not exist");return mt(i,e)}function P$(t){const e=(t-wt)/xo;let n,r,i;for(n=t-wt,r=0;n%xo===fn;n/=xo,r++);for(i=xo;i<t&&R$(i,e,t)!==t-wt;i++);if(r===1){const o=(t+wt)/av;return function(l,u){const c=l.pow(u,o);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(n+wt)/xo;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,s),y=a.pow(l,n);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let _=1;for(let x=a.sqr(y);_<u&&!a.eql(x,a.ONE);_++)x=a.sqr(x);const S=a.pow(c,wt<<BigInt(u-_-1));c=a.sqr(S),d=a.mul(d,S),y=a.mul(y,c),u=_}return d}}function N$(t){if(t%av===C$){const e=(t+wt)/av;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Jb===Xb){const e=(t-Xb)/Jb;return function(r,i){const s=r.mul(i,xo),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,xo),o),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return P$(t)}const M$=(t,e)=>(mt(t,e)&wt)===wt,L$=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O$(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=L$.reduce((r,i)=>(r[i]="function",r),e);return tu(t,n)}function D$(t,e,n){if(n<fn)throw new Error("Expected power > 0");if(n===fn)return t.ONE;if(n===wt)return e;let r=t.ONE,i=e;for(;n>fn;)n&wt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=wt;return r}function B$(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function VR(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function $R(t,e,n=!1,r={}){if(t<=fn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=VR(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=N$(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:nw(i),ZERO:fn,ONE:wt,create:l=>mt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return fn<=l&&l<t},is0:l=>l===fn,isOdd:l=>(l&wt)===wt,neg:l=>mt(-l,t),eql:(l,u)=>l===u,sqr:l=>mt(l*l,t),add:(l,u)=>mt(l+u,t),sub:(l,u)=>mt(l-u,t),mul:(l,u)=>mt(l*u,t),pow:(l,u)=>D$(a,l,u),div:(l,u)=>mt(l*lv(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>lv(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>B$(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?jc(l,s):Ml(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?sl(l):Vo(l)}});return Object.freeze(a)}function U$(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function jR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function zR(t){const e=jR(t);return e+Math.ceil(e/2)}function F$(t,e,n=!1){const r=t.length,i=jR(e),s=zR(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Vo(t):sl(t),a=mt(o,e-wt)+wt;return n?jc(a,i):Ml(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V$=BigInt(0),Gm=BigInt(1);function HR(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>V$;)s&Gm&&(o=o.add(a)),a=a.double(),s>>=Gm;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let u=i,c=u;for(let d=0;d<o;d++){c=u,l.push(c);for(let y=1;y<a;y++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let u=t.ZERO,c=t.BASE;const d=BigInt(2**i-1),y=2**i,_=BigInt(i);for(let S=0;S<a;S++){const x=S*l;let A=Number(o&d);o>>=_,A>l&&(A-=y,o+=Gm);const w=x,b=x+Math.abs(A)-1,m=S%2!==0,P=A<0;A===0?c=c.add(n(m,s[w])):u=u.add(n(P,s[b]))}return{p:u,f:c}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&s.set(i,a(u))),this.wNAF(l,u,o)}}}function rw(t){return O$(t.Fp),tu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...VR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gr=BigInt(0),pr=BigInt(1),id=BigInt(2),$$=BigInt(8),j$={zip215:!0};function z$(t){const e=rw(t);return tu(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function iw(t){const e=z$(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,u=id<<BigInt(a*8)-pr,c=n.create,d=e.uvRatio||((C,T)=>{try{return{isValid:!0,value:n.sqrt(C*n.inv(T))}}catch{return{isValid:!1,value:Gr}}}),y=e.adjustScalarBytes||(C=>C),_=e.domain||((C,T,M)=>{if(T.length||M)throw new Error("Contexts/pre-hash are not supported");return C}),S=C=>typeof C=="bigint"&&Gr<C,x=(C,T)=>S(C)&&S(T)&&C<T,A=C=>C===Gr||x(C,u);function w(C,T){if(x(C,T))return C;throw new Error(`Expected valid scalar < ${T}, got ${typeof C} ${C}`)}function b(C){return C===Gr?C:w(C,r)}const m=new Map;function P(C){if(!(C instanceof N))throw new Error("ExtendedPoint expected")}class N{constructor(T,M,I,f){if(this.ex=T,this.ey=M,this.ez=I,this.et=f,!A(T))throw new Error("x required");if(!A(M))throw new Error("y required");if(!A(I))throw new Error("z required");if(!A(f))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(T){if(T instanceof N)throw new Error("extended point not allowed");const{x:M,y:I}=T||{};if(!A(M)||!A(I))throw new Error("invalid affine point");return new N(M,I,pr,c(M*I))}static normalizeZ(T){const M=n.invertBatch(T.map(I=>I.ez));return T.map((I,f)=>I.toAffine(M[f])).map(N.fromAffine)}_setWindowSize(T){this._WINDOW_SIZE=T,m.delete(this)}assertValidity(){const{a:T,d:M}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:I,ey:f,ez:L,et:W}=this,X=c(I*I),J=c(f*f),oe=c(L*L),he=c(oe*oe),ge=c(X*T),qe=c(oe*c(ge+J)),Te=c(he+c(M*c(X*J)));if(qe!==Te)throw new Error("bad point: equation left != right (1)");const Me=c(I*f),je=c(L*W);if(Me!==je)throw new Error("bad point: equation left != right (2)")}equals(T){P(T);const{ex:M,ey:I,ez:f}=this,{ex:L,ey:W,ez:X}=T,J=c(M*X),oe=c(L*f),he=c(I*X),ge=c(W*f);return J===oe&&he===ge}is0(){return this.equals(N.ZERO)}negate(){return new N(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:T}=e,{ex:M,ey:I,ez:f}=this,L=c(M*M),W=c(I*I),X=c(id*c(f*f)),J=c(T*L),oe=M+I,he=c(c(oe*oe)-L-W),ge=J+W,qe=ge-X,Te=J-W,Me=c(he*qe),je=c(ge*Te),Oe=c(he*Te),Ge=c(qe*ge);return new N(Me,je,Ge,Oe)}add(T){P(T);const{a:M,d:I}=e,{ex:f,ey:L,ez:W,et:X}=this,{ex:J,ey:oe,ez:he,et:ge}=T;if(M===BigInt(-1)){const sn=c((L-f)*(oe+J)),et=c((L+f)*(oe-J)),tt=c(et-sn);if(tt===Gr)return this.double();const yn=c(W*id*ge),st=c(X*id*he),R=st+yn,p=et+sn,g=st-yn,B=c(R*tt),j=c(p*g),z=c(R*g),K=c(tt*p);return new N(B,j,K,z)}const qe=c(f*J),Te=c(L*oe),Me=c(X*I*ge),je=c(W*he),Oe=c((f+L)*(J+oe)-qe-Te),Ge=je-Me,fr=je+Me,Ze=c(Te-M*qe),ot=c(Oe*Ge),ds=c(fr*Ze),We=c(Oe*Ze),Qe=c(Ge*fr);return new N(ot,ds,Qe,We)}subtract(T){return this.add(T.negate())}wNAF(T){return V.wNAFCached(this,m,T,N.normalizeZ)}multiply(T){const{p:M,f:I}=this.wNAF(w(T,r));return N.normalizeZ([M,I])[0]}multiplyUnsafe(T){let M=b(T);return M===Gr?F:this.equals(F)||M===pr?this:this.equals(D)?this.wNAF(M).p:V.unsafeLadder(this,M)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return V.unsafeLadder(this,r).is0()}toAffine(T){const{ex:M,ey:I,ez:f}=this,L=this.is0();T==null&&(T=L?$$:n.inv(f));const W=c(M*T),X=c(I*T),J=c(f*T);if(L)return{x:Gr,y:pr};if(J!==pr)throw new Error("invZ was invalid");return{x:W,y:X}}clearCofactor(){const{h:T}=e;return T===pr?this:this.multiplyUnsafe(T)}static fromHex(T,M=!1){const{d:I,a:f}=e,L=n.BYTES;T=an("pointHex",T,L);const W=T.slice(),X=T[L-1];W[L-1]=X&-129;const J=sl(W);J===Gr||(M?w(J,u):w(J,n.ORDER));const oe=c(J*J),he=c(oe-pr),ge=c(I*oe-f);let{isValid:qe,value:Te}=d(he,ge);if(!qe)throw new Error("Point.fromHex: invalid y coordinate");const Me=(Te&pr)===pr,je=(X&128)!==0;if(!M&&Te===Gr&&je)throw new Error("Point.fromHex: x=0 and x_0=1");return je!==Me&&(Te=c(-Te)),N.fromAffine({x:Te,y:J})}static fromPrivateKey(T){return Q(T).point}toRawBytes(){const{x:T,y:M}=this.toAffine(),I=jc(M,n.BYTES);return I[I.length-1]|=T&pr?128:0,I}toHex(){return na(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,pr,c(e.Gx*e.Gy)),N.ZERO=new N(Gr,pr,pr,Gr);const{BASE:D,ZERO:F}=N,V=HR(N,a*8);function G(C){return mt(C,r)}function Y(C){return G(sl(C))}function Q(C){const T=a;C=an("private key",C,T);const M=an("hashed private key",s(C),2*T),I=y(M.slice(0,T)),f=M.slice(T,2*T),L=Y(I),W=D.multiply(L),X=W.toRawBytes();return{head:I,prefix:f,scalar:L,point:W,pointBytes:X}}function ce(C){return Q(C).pointBytes}function U(C=new Uint8Array,...T){const M=ra(...T);return Y(s(_(M,an("context",C),!!i)))}function h(C,T,M={}){C=an("message",C),i&&(C=i(C));const{prefix:I,scalar:f,pointBytes:L}=Q(T),W=U(M.context,I,C),X=D.multiply(W).toRawBytes(),J=U(M.context,X,L,C),oe=G(W+J*f);b(oe);const he=ra(X,jc(oe,n.BYTES));return an("result",he,a*2)}const v=j$;function k(C,T,M,I=v){const{context:f,zip215:L}=I,W=n.BYTES;C=an("signature",C,2*W),T=an("message",T),i&&(T=i(T));const X=sl(C.slice(W,2*W));let J,oe,he;try{J=N.fromHex(M,L),oe=N.fromHex(C.slice(0,W),L),he=D.multiplyUnsafe(X)}catch{return!1}if(!L&&J.isSmallOrder())return!1;const ge=U(f,oe.toRawBytes(),J.toRawBytes(),T);return oe.add(J.multiplyUnsafe(ge)).subtract(he).clearCofactor().equals(N.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:ce,sign:h,verify:k,ExtendedPoint:N,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>o(n.BYTES),precompute(C=8,T=N.BASE){return T._setWindowSize(C),T.multiply(BigInt(3)),T}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sw=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Zb=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const H$=BigInt(1),uv=BigInt(2),q$=BigInt(5),e2=BigInt(10),W$=BigInt(20),K$=BigInt(40),t2=BigInt(80);function G$(t){const e=sw,r=t*t%e*t%e,i=It(r,uv,e)*r%e,s=It(i,H$,e)*t%e,o=It(s,q$,e)*s%e,a=It(o,e2,e)*o%e,l=It(a,W$,e)*a%e,u=It(l,K$,e)*l%e,c=It(u,t2,e)*u%e,d=It(c,t2,e)*u%e,y=It(d,e2,e)*o%e;return{pow_p_5_8:It(y,uv,e)*t%e,b2:r}}function Q$(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Y$(t,e){const n=sw,r=mt(e*e*e,n),i=mt(r*r*e,n),s=G$(t*i).pow_p_5_8;let o=mt(t*r*s,n);const a=mt(e*o*o,n),l=o,u=mt(o*Zb,n),c=a===t,d=a===mt(-t,n),y=a===mt(-t*Zb,n);return c&&(o=l),(d||y)&&(o=u),M$(o,n)&&(o=mt(-o,n)),{isValid:c||d,value:o}}const es=$R(sw,void 0,!0),ow={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:es,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:DR,randomBytes:MR,adjustScalarBytes:Q$,uvRatio:Y$},nu=iw(ow);function qR(t,e,n){if(e.length>255)throw new Error("Context is too big");return RR(CR("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}({...ow});({...ow});const X$=(es.ORDER+BigInt(3))/BigInt(8);es.pow(uv,X$);es.sqrt(es.neg(es.ONE));(es.ORDER-BigInt(5))/BigInt(8);BigInt(486662);U$(es,es.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var aw={exports:{}};const J$={},Z$=Object.freeze(Object.defineProperty({__proto__:null,default:J$},Symbol.toStringTag,{value:"Module"})),ej=wv(Z$);aw.exports;(function(t){(function(e,n){function r(U,h){if(!U)throw new Error(h||"Assertion failed")}function i(U,h){U.super_=h;var v=function(){};v.prototype=h.prototype,U.prototype=new v,U.prototype.constructor=U}function s(U,h,v){if(s.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((h==="le"||h==="be")&&(v=h,h=10),this._init(U||0,h||10,v||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ej.Buffer}catch{}s.isBN=function(h){return h instanceof s?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,v){return h.cmp(v)>0?h:v},s.min=function(h,v){return h.cmp(v)<0?h:v},s.prototype._init=function(h,v,k){if(typeof h=="number")return this._initNumber(h,v,k);if(typeof h=="object")return this._initArray(h,v,k);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),h=h.toString().replace(/\s+/g,"");var O=0;h[0]==="-"&&(O++,this.negative=1),O<h.length&&(v===16?this._parseHex(h,O,k):(this._parseBase(h,v,O),k==="le"&&this._initArray(this.toArray(),v,k)))},s.prototype._initNumber=function(h,v,k){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),v,k)},s.prototype._initArray=function(h,v,k){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C,T,M=0;if(k==="be")for(O=h.length-1,C=0;O>=0;O-=3)T=h[O]|h[O-1]<<8|h[O-2]<<16,this.words[C]|=T<<M&67108863,this.words[C+1]=T>>>26-M&67108863,M+=24,M>=26&&(M-=26,C++);else if(k==="le")for(O=0,C=0;O<h.length;O+=3)T=h[O]|h[O+1]<<8|h[O+2]<<16,this.words[C]|=T<<M&67108863,this.words[C+1]=T>>>26-M&67108863,M+=24,M>=26&&(M-=26,C++);return this._strip()};function a(U,h){var v=U.charCodeAt(h);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;r(!1,"Invalid character in "+U)}function l(U,h,v){var k=a(U,v);return v-1>=h&&(k|=a(U,v-1)<<4),k}s.prototype._parseHex=function(h,v,k){this.length=Math.ceil((h.length-v)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var C=0,T=0,M;if(k==="be")for(O=h.length-1;O>=v;O-=2)M=l(h,v,O)<<C,this.words[T]|=M&67108863,C>=18?(C-=18,T+=1,this.words[T]|=M>>>26):C+=8;else{var I=h.length-v;for(O=I%2===0?v+1:v;O<h.length;O+=2)M=l(h,v,O)<<C,this.words[T]|=M&67108863,C>=18?(C-=18,T+=1,this.words[T]|=M>>>26):C+=8}this._strip()};function u(U,h,v,k){for(var O=0,C=0,T=Math.min(U.length,v),M=h;M<T;M++){var I=U.charCodeAt(M)-48;O*=k,I>=49?C=I-49+10:I>=17?C=I-17+10:C=I,r(I>=0&&C<k,"Invalid character"),O+=C}return O}s.prototype._parseBase=function(h,v,k){this.words=[0],this.length=1;for(var O=0,C=1;C<=67108863;C*=v)O++;O--,C=C/v|0;for(var T=h.length-k,M=T%O,I=Math.min(T,T-M)+k,f=0,L=k;L<I;L+=O)f=u(h,L,L+O,v),this.imuln(C),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(M!==0){var W=1;for(f=u(h,L,h.length,v),L=0;L<M;L++)W*=v;this.imuln(W),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(h){h.words=new Array(this.length);for(var v=0;v<this.length;v++)h.words[v]=this.words[v];h.length=this.length,h.negative=this.negative,h.red=this.red};function c(U,h){U.words=h.words,U.length=h.length,U.negative=h.negative,U.red=h.red}if(s.prototype._move=function(h){c(h,this)},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(h,v){h=h||10,v=v|0||1;var k;if(h===16||h==="hex"){k="";for(var O=0,C=0,T=0;T<this.length;T++){var M=this.words[T],I=((M<<O|C)&16777215).toString(16);C=M>>>24-O&16777215,O+=2,O>=26&&(O-=26,T--),C!==0||T!==this.length-1?k=y[6-I.length]+I+k:k=I+k}for(C!==0&&(k=C.toString(16)+k);k.length%v!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(h===(h|0)&&h>=2&&h<=36){var f=_[h],L=S[h];k="";var W=this.clone();for(W.negative=0;!W.isZero();){var X=W.modrn(L).toString(h);W=W.idivn(L),W.isZero()?k=X+k:k=y[f-X.length]+X+k}for(this.isZero()&&(k="0"+k);k.length%v!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(h,v){return this.toArrayLike(o,h,v)}),s.prototype.toArray=function(h,v){return this.toArrayLike(Array,h,v)};var x=function(h,v){return h.allocUnsafe?h.allocUnsafe(v):new h(v)};s.prototype.toArrayLike=function(h,v,k){this._strip();var O=this.byteLength(),C=k||Math.max(1,O);r(O<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var T=x(h,C),M=v==="le"?"LE":"BE";return this["_toArrayLike"+M](T,O),T},s.prototype._toArrayLikeLE=function(h,v){for(var k=0,O=0,C=0,T=0;C<this.length;C++){var M=this.words[C]<<T|O;h[k++]=M&255,k<h.length&&(h[k++]=M>>8&255),k<h.length&&(h[k++]=M>>16&255),T===6?(k<h.length&&(h[k++]=M>>24&255),O=0,T=0):(O=M>>>24,T+=2)}if(k<h.length)for(h[k++]=O;k<h.length;)h[k++]=0},s.prototype._toArrayLikeBE=function(h,v){for(var k=h.length-1,O=0,C=0,T=0;C<this.length;C++){var M=this.words[C]<<T|O;h[k--]=M&255,k>=0&&(h[k--]=M>>8&255),k>=0&&(h[k--]=M>>16&255),T===6?(k>=0&&(h[k--]=M>>24&255),O=0,T=0):(O=M>>>24,T+=2)}if(k>=0)for(h[k--]=O;k>=0;)h[k--]=0},Math.clz32?s.prototype._countBits=function(h){return 32-Math.clz32(h)}:s.prototype._countBits=function(h){var v=h,k=0;return v>=4096&&(k+=13,v>>>=13),v>=64&&(k+=7,v>>>=7),v>=8&&(k+=4,v>>>=4),v>=2&&(k+=2,v>>>=2),k+v},s.prototype._zeroBits=function(h){if(h===0)return 26;var v=h,k=0;return v&8191||(k+=13,v>>>=13),v&127||(k+=7,v>>>=7),v&15||(k+=4,v>>>=4),v&3||(k+=2,v>>>=2),v&1||k++,k},s.prototype.bitLength=function(){var h=this.words[this.length-1],v=this._countBits(h);return(this.length-1)*26+v};function A(U){for(var h=new Array(U.bitLength()),v=0;v<h.length;v++){var k=v/26|0,O=v%26;h[v]=U.words[k]>>>O&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,v=0;v<this.length;v++){var k=this._zeroBits(this.words[v]);if(h+=k,k!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var v=0;v<h.length;v++)this.words[v]=this.words[v]|h.words[v];return this._strip()},s.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var v;this.length>h.length?v=h:v=this;for(var k=0;k<v.length;k++)this.words[k]=this.words[k]&h.words[k];return this.length=v.length,this._strip()},s.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var v,k;this.length>h.length?(v=this,k=h):(v=h,k=this);for(var O=0;O<k.length;O++)this.words[O]=v.words[O]^k.words[O];if(this!==v)for(;O<v.length;O++)this.words[O]=v.words[O];return this.length=v.length,this._strip()},s.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var v=Math.ceil(h/26)|0,k=h%26;this._expand(v),k>0&&v--;for(var O=0;O<v;O++)this.words[O]=~this.words[O]&67108863;return k>0&&(this.words[O]=~this.words[O]&67108863>>26-k),this._strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,v){r(typeof h=="number"&&h>=0);var k=h/26|0,O=h%26;return this._expand(k+1),v?this.words[k]=this.words[k]|1<<O:this.words[k]=this.words[k]&~(1<<O),this._strip()},s.prototype.iadd=function(h){var v;if(this.negative!==0&&h.negative===0)return this.negative=0,v=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,v=this.isub(h),h.negative=1,v._normSign();var k,O;this.length>h.length?(k=this,O=h):(k=h,O=this);for(var C=0,T=0;T<O.length;T++)v=(k.words[T]|0)+(O.words[T]|0)+C,this.words[T]=v&67108863,C=v>>>26;for(;C!==0&&T<k.length;T++)v=(k.words[T]|0)+C,this.words[T]=v&67108863,C=v>>>26;if(this.length=k.length,C!==0)this.words[this.length]=C,this.length++;else if(k!==this)for(;T<k.length;T++)this.words[T]=k.words[T];return this},s.prototype.add=function(h){var v;return h.negative!==0&&this.negative===0?(h.negative=0,v=this.sub(h),h.negative^=1,v):h.negative===0&&this.negative!==0?(this.negative=0,v=h.sub(this),this.negative=1,v):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var v=this.iadd(h);return h.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var k=this.cmp(h);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,C;k>0?(O=this,C=h):(O=h,C=this);for(var T=0,M=0;M<C.length;M++)v=(O.words[M]|0)-(C.words[M]|0)+T,T=v>>26,this.words[M]=v&67108863;for(;T!==0&&M<O.length;M++)v=(O.words[M]|0)+T,T=v>>26,this.words[M]=v&67108863;if(T===0&&M<O.length&&O!==this)for(;M<O.length;M++)this.words[M]=O.words[M];return this.length=Math.max(this.length,M),O!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(h){return this.clone().isub(h)};function w(U,h,v){v.negative=h.negative^U.negative;var k=U.length+h.length|0;v.length=k,k=k-1|0;var O=U.words[0]|0,C=h.words[0]|0,T=O*C,M=T&67108863,I=T/67108864|0;v.words[0]=M;for(var f=1;f<k;f++){for(var L=I>>>26,W=I&67108863,X=Math.min(f,h.length-1),J=Math.max(0,f-U.length+1);J<=X;J++){var oe=f-J|0;O=U.words[oe]|0,C=h.words[J]|0,T=O*C+W,L+=T/67108864|0,W=T&67108863}v.words[f]=W|0,I=L|0}return I!==0?v.words[f]=I|0:v.length--,v._strip()}var b=function(h,v,k){var O=h.words,C=v.words,T=k.words,M=0,I,f,L,W=O[0]|0,X=W&8191,J=W>>>13,oe=O[1]|0,he=oe&8191,ge=oe>>>13,qe=O[2]|0,Te=qe&8191,Me=qe>>>13,je=O[3]|0,Oe=je&8191,Ge=je>>>13,fr=O[4]|0,Ze=fr&8191,ot=fr>>>13,ds=O[5]|0,We=ds&8191,Qe=ds>>>13,sn=O[6]|0,et=sn&8191,tt=sn>>>13,yn=O[7]|0,st=yn&8191,R=yn>>>13,p=O[8]|0,g=p&8191,B=p>>>13,j=O[9]|0,z=j&8191,K=j>>>13,Le=C[0]|0,Re=Le&8191,Ie=Le>>>13,ut=C[1]|0,Ee=ut&8191,Ot=ut>>>13,Iw=C[2]|0,Dt=Iw&8191,Bt=Iw>>>13,Aw=C[3]|0,Ut=Aw&8191,Ft=Aw>>>13,Tw=C[4]|0,Vt=Tw&8191,$t=Tw>>>13,kw=C[5]|0,jt=kw&8191,zt=kw>>>13,Cw=C[6]|0,Ht=Cw&8191,qt=Cw>>>13,Rw=C[7]|0,Wt=Rw&8191,Kt=Rw>>>13,Pw=C[8]|0,Gt=Pw&8191,Qt=Pw>>>13,Nw=C[9]|0,Yt=Nw&8191,Xt=Nw>>>13;k.negative=h.negative^v.negative,k.length=19,I=Math.imul(X,Re),f=Math.imul(X,Ie),f=f+Math.imul(J,Re)|0,L=Math.imul(J,Ie);var dg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(dg>>>26)|0,dg&=67108863,I=Math.imul(he,Re),f=Math.imul(he,Ie),f=f+Math.imul(ge,Re)|0,L=Math.imul(ge,Ie),I=I+Math.imul(X,Ee)|0,f=f+Math.imul(X,Ot)|0,f=f+Math.imul(J,Ee)|0,L=L+Math.imul(J,Ot)|0;var fg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(fg>>>26)|0,fg&=67108863,I=Math.imul(Te,Re),f=Math.imul(Te,Ie),f=f+Math.imul(Me,Re)|0,L=Math.imul(Me,Ie),I=I+Math.imul(he,Ee)|0,f=f+Math.imul(he,Ot)|0,f=f+Math.imul(ge,Ee)|0,L=L+Math.imul(ge,Ot)|0,I=I+Math.imul(X,Dt)|0,f=f+Math.imul(X,Bt)|0,f=f+Math.imul(J,Dt)|0,L=L+Math.imul(J,Bt)|0;var pg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(pg>>>26)|0,pg&=67108863,I=Math.imul(Oe,Re),f=Math.imul(Oe,Ie),f=f+Math.imul(Ge,Re)|0,L=Math.imul(Ge,Ie),I=I+Math.imul(Te,Ee)|0,f=f+Math.imul(Te,Ot)|0,f=f+Math.imul(Me,Ee)|0,L=L+Math.imul(Me,Ot)|0,I=I+Math.imul(he,Dt)|0,f=f+Math.imul(he,Bt)|0,f=f+Math.imul(ge,Dt)|0,L=L+Math.imul(ge,Bt)|0,I=I+Math.imul(X,Ut)|0,f=f+Math.imul(X,Ft)|0,f=f+Math.imul(J,Ut)|0,L=L+Math.imul(J,Ft)|0;var gg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(gg>>>26)|0,gg&=67108863,I=Math.imul(Ze,Re),f=Math.imul(Ze,Ie),f=f+Math.imul(ot,Re)|0,L=Math.imul(ot,Ie),I=I+Math.imul(Oe,Ee)|0,f=f+Math.imul(Oe,Ot)|0,f=f+Math.imul(Ge,Ee)|0,L=L+Math.imul(Ge,Ot)|0,I=I+Math.imul(Te,Dt)|0,f=f+Math.imul(Te,Bt)|0,f=f+Math.imul(Me,Dt)|0,L=L+Math.imul(Me,Bt)|0,I=I+Math.imul(he,Ut)|0,f=f+Math.imul(he,Ft)|0,f=f+Math.imul(ge,Ut)|0,L=L+Math.imul(ge,Ft)|0,I=I+Math.imul(X,Vt)|0,f=f+Math.imul(X,$t)|0,f=f+Math.imul(J,Vt)|0,L=L+Math.imul(J,$t)|0;var mg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(mg>>>26)|0,mg&=67108863,I=Math.imul(We,Re),f=Math.imul(We,Ie),f=f+Math.imul(Qe,Re)|0,L=Math.imul(Qe,Ie),I=I+Math.imul(Ze,Ee)|0,f=f+Math.imul(Ze,Ot)|0,f=f+Math.imul(ot,Ee)|0,L=L+Math.imul(ot,Ot)|0,I=I+Math.imul(Oe,Dt)|0,f=f+Math.imul(Oe,Bt)|0,f=f+Math.imul(Ge,Dt)|0,L=L+Math.imul(Ge,Bt)|0,I=I+Math.imul(Te,Ut)|0,f=f+Math.imul(Te,Ft)|0,f=f+Math.imul(Me,Ut)|0,L=L+Math.imul(Me,Ft)|0,I=I+Math.imul(he,Vt)|0,f=f+Math.imul(he,$t)|0,f=f+Math.imul(ge,Vt)|0,L=L+Math.imul(ge,$t)|0,I=I+Math.imul(X,jt)|0,f=f+Math.imul(X,zt)|0,f=f+Math.imul(J,jt)|0,L=L+Math.imul(J,zt)|0;var yg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(yg>>>26)|0,yg&=67108863,I=Math.imul(et,Re),f=Math.imul(et,Ie),f=f+Math.imul(tt,Re)|0,L=Math.imul(tt,Ie),I=I+Math.imul(We,Ee)|0,f=f+Math.imul(We,Ot)|0,f=f+Math.imul(Qe,Ee)|0,L=L+Math.imul(Qe,Ot)|0,I=I+Math.imul(Ze,Dt)|0,f=f+Math.imul(Ze,Bt)|0,f=f+Math.imul(ot,Dt)|0,L=L+Math.imul(ot,Bt)|0,I=I+Math.imul(Oe,Ut)|0,f=f+Math.imul(Oe,Ft)|0,f=f+Math.imul(Ge,Ut)|0,L=L+Math.imul(Ge,Ft)|0,I=I+Math.imul(Te,Vt)|0,f=f+Math.imul(Te,$t)|0,f=f+Math.imul(Me,Vt)|0,L=L+Math.imul(Me,$t)|0,I=I+Math.imul(he,jt)|0,f=f+Math.imul(he,zt)|0,f=f+Math.imul(ge,jt)|0,L=L+Math.imul(ge,zt)|0,I=I+Math.imul(X,Ht)|0,f=f+Math.imul(X,qt)|0,f=f+Math.imul(J,Ht)|0,L=L+Math.imul(J,qt)|0;var vg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(vg>>>26)|0,vg&=67108863,I=Math.imul(st,Re),f=Math.imul(st,Ie),f=f+Math.imul(R,Re)|0,L=Math.imul(R,Ie),I=I+Math.imul(et,Ee)|0,f=f+Math.imul(et,Ot)|0,f=f+Math.imul(tt,Ee)|0,L=L+Math.imul(tt,Ot)|0,I=I+Math.imul(We,Dt)|0,f=f+Math.imul(We,Bt)|0,f=f+Math.imul(Qe,Dt)|0,L=L+Math.imul(Qe,Bt)|0,I=I+Math.imul(Ze,Ut)|0,f=f+Math.imul(Ze,Ft)|0,f=f+Math.imul(ot,Ut)|0,L=L+Math.imul(ot,Ft)|0,I=I+Math.imul(Oe,Vt)|0,f=f+Math.imul(Oe,$t)|0,f=f+Math.imul(Ge,Vt)|0,L=L+Math.imul(Ge,$t)|0,I=I+Math.imul(Te,jt)|0,f=f+Math.imul(Te,zt)|0,f=f+Math.imul(Me,jt)|0,L=L+Math.imul(Me,zt)|0,I=I+Math.imul(he,Ht)|0,f=f+Math.imul(he,qt)|0,f=f+Math.imul(ge,Ht)|0,L=L+Math.imul(ge,qt)|0,I=I+Math.imul(X,Wt)|0,f=f+Math.imul(X,Kt)|0,f=f+Math.imul(J,Wt)|0,L=L+Math.imul(J,Kt)|0;var _g=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(_g>>>26)|0,_g&=67108863,I=Math.imul(g,Re),f=Math.imul(g,Ie),f=f+Math.imul(B,Re)|0,L=Math.imul(B,Ie),I=I+Math.imul(st,Ee)|0,f=f+Math.imul(st,Ot)|0,f=f+Math.imul(R,Ee)|0,L=L+Math.imul(R,Ot)|0,I=I+Math.imul(et,Dt)|0,f=f+Math.imul(et,Bt)|0,f=f+Math.imul(tt,Dt)|0,L=L+Math.imul(tt,Bt)|0,I=I+Math.imul(We,Ut)|0,f=f+Math.imul(We,Ft)|0,f=f+Math.imul(Qe,Ut)|0,L=L+Math.imul(Qe,Ft)|0,I=I+Math.imul(Ze,Vt)|0,f=f+Math.imul(Ze,$t)|0,f=f+Math.imul(ot,Vt)|0,L=L+Math.imul(ot,$t)|0,I=I+Math.imul(Oe,jt)|0,f=f+Math.imul(Oe,zt)|0,f=f+Math.imul(Ge,jt)|0,L=L+Math.imul(Ge,zt)|0,I=I+Math.imul(Te,Ht)|0,f=f+Math.imul(Te,qt)|0,f=f+Math.imul(Me,Ht)|0,L=L+Math.imul(Me,qt)|0,I=I+Math.imul(he,Wt)|0,f=f+Math.imul(he,Kt)|0,f=f+Math.imul(ge,Wt)|0,L=L+Math.imul(ge,Kt)|0,I=I+Math.imul(X,Gt)|0,f=f+Math.imul(X,Qt)|0,f=f+Math.imul(J,Gt)|0,L=L+Math.imul(J,Qt)|0;var wg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(wg>>>26)|0,wg&=67108863,I=Math.imul(z,Re),f=Math.imul(z,Ie),f=f+Math.imul(K,Re)|0,L=Math.imul(K,Ie),I=I+Math.imul(g,Ee)|0,f=f+Math.imul(g,Ot)|0,f=f+Math.imul(B,Ee)|0,L=L+Math.imul(B,Ot)|0,I=I+Math.imul(st,Dt)|0,f=f+Math.imul(st,Bt)|0,f=f+Math.imul(R,Dt)|0,L=L+Math.imul(R,Bt)|0,I=I+Math.imul(et,Ut)|0,f=f+Math.imul(et,Ft)|0,f=f+Math.imul(tt,Ut)|0,L=L+Math.imul(tt,Ft)|0,I=I+Math.imul(We,Vt)|0,f=f+Math.imul(We,$t)|0,f=f+Math.imul(Qe,Vt)|0,L=L+Math.imul(Qe,$t)|0,I=I+Math.imul(Ze,jt)|0,f=f+Math.imul(Ze,zt)|0,f=f+Math.imul(ot,jt)|0,L=L+Math.imul(ot,zt)|0,I=I+Math.imul(Oe,Ht)|0,f=f+Math.imul(Oe,qt)|0,f=f+Math.imul(Ge,Ht)|0,L=L+Math.imul(Ge,qt)|0,I=I+Math.imul(Te,Wt)|0,f=f+Math.imul(Te,Kt)|0,f=f+Math.imul(Me,Wt)|0,L=L+Math.imul(Me,Kt)|0,I=I+Math.imul(he,Gt)|0,f=f+Math.imul(he,Qt)|0,f=f+Math.imul(ge,Gt)|0,L=L+Math.imul(ge,Qt)|0,I=I+Math.imul(X,Yt)|0,f=f+Math.imul(X,Xt)|0,f=f+Math.imul(J,Yt)|0,L=L+Math.imul(J,Xt)|0;var xg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(xg>>>26)|0,xg&=67108863,I=Math.imul(z,Ee),f=Math.imul(z,Ot),f=f+Math.imul(K,Ee)|0,L=Math.imul(K,Ot),I=I+Math.imul(g,Dt)|0,f=f+Math.imul(g,Bt)|0,f=f+Math.imul(B,Dt)|0,L=L+Math.imul(B,Bt)|0,I=I+Math.imul(st,Ut)|0,f=f+Math.imul(st,Ft)|0,f=f+Math.imul(R,Ut)|0,L=L+Math.imul(R,Ft)|0,I=I+Math.imul(et,Vt)|0,f=f+Math.imul(et,$t)|0,f=f+Math.imul(tt,Vt)|0,L=L+Math.imul(tt,$t)|0,I=I+Math.imul(We,jt)|0,f=f+Math.imul(We,zt)|0,f=f+Math.imul(Qe,jt)|0,L=L+Math.imul(Qe,zt)|0,I=I+Math.imul(Ze,Ht)|0,f=f+Math.imul(Ze,qt)|0,f=f+Math.imul(ot,Ht)|0,L=L+Math.imul(ot,qt)|0,I=I+Math.imul(Oe,Wt)|0,f=f+Math.imul(Oe,Kt)|0,f=f+Math.imul(Ge,Wt)|0,L=L+Math.imul(Ge,Kt)|0,I=I+Math.imul(Te,Gt)|0,f=f+Math.imul(Te,Qt)|0,f=f+Math.imul(Me,Gt)|0,L=L+Math.imul(Me,Qt)|0,I=I+Math.imul(he,Yt)|0,f=f+Math.imul(he,Xt)|0,f=f+Math.imul(ge,Yt)|0,L=L+Math.imul(ge,Xt)|0;var Eg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(Eg>>>26)|0,Eg&=67108863,I=Math.imul(z,Dt),f=Math.imul(z,Bt),f=f+Math.imul(K,Dt)|0,L=Math.imul(K,Bt),I=I+Math.imul(g,Ut)|0,f=f+Math.imul(g,Ft)|0,f=f+Math.imul(B,Ut)|0,L=L+Math.imul(B,Ft)|0,I=I+Math.imul(st,Vt)|0,f=f+Math.imul(st,$t)|0,f=f+Math.imul(R,Vt)|0,L=L+Math.imul(R,$t)|0,I=I+Math.imul(et,jt)|0,f=f+Math.imul(et,zt)|0,f=f+Math.imul(tt,jt)|0,L=L+Math.imul(tt,zt)|0,I=I+Math.imul(We,Ht)|0,f=f+Math.imul(We,qt)|0,f=f+Math.imul(Qe,Ht)|0,L=L+Math.imul(Qe,qt)|0,I=I+Math.imul(Ze,Wt)|0,f=f+Math.imul(Ze,Kt)|0,f=f+Math.imul(ot,Wt)|0,L=L+Math.imul(ot,Kt)|0,I=I+Math.imul(Oe,Gt)|0,f=f+Math.imul(Oe,Qt)|0,f=f+Math.imul(Ge,Gt)|0,L=L+Math.imul(Ge,Qt)|0,I=I+Math.imul(Te,Yt)|0,f=f+Math.imul(Te,Xt)|0,f=f+Math.imul(Me,Yt)|0,L=L+Math.imul(Me,Xt)|0;var bg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(bg>>>26)|0,bg&=67108863,I=Math.imul(z,Ut),f=Math.imul(z,Ft),f=f+Math.imul(K,Ut)|0,L=Math.imul(K,Ft),I=I+Math.imul(g,Vt)|0,f=f+Math.imul(g,$t)|0,f=f+Math.imul(B,Vt)|0,L=L+Math.imul(B,$t)|0,I=I+Math.imul(st,jt)|0,f=f+Math.imul(st,zt)|0,f=f+Math.imul(R,jt)|0,L=L+Math.imul(R,zt)|0,I=I+Math.imul(et,Ht)|0,f=f+Math.imul(et,qt)|0,f=f+Math.imul(tt,Ht)|0,L=L+Math.imul(tt,qt)|0,I=I+Math.imul(We,Wt)|0,f=f+Math.imul(We,Kt)|0,f=f+Math.imul(Qe,Wt)|0,L=L+Math.imul(Qe,Kt)|0,I=I+Math.imul(Ze,Gt)|0,f=f+Math.imul(Ze,Qt)|0,f=f+Math.imul(ot,Gt)|0,L=L+Math.imul(ot,Qt)|0,I=I+Math.imul(Oe,Yt)|0,f=f+Math.imul(Oe,Xt)|0,f=f+Math.imul(Ge,Yt)|0,L=L+Math.imul(Ge,Xt)|0;var Sg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(Sg>>>26)|0,Sg&=67108863,I=Math.imul(z,Vt),f=Math.imul(z,$t),f=f+Math.imul(K,Vt)|0,L=Math.imul(K,$t),I=I+Math.imul(g,jt)|0,f=f+Math.imul(g,zt)|0,f=f+Math.imul(B,jt)|0,L=L+Math.imul(B,zt)|0,I=I+Math.imul(st,Ht)|0,f=f+Math.imul(st,qt)|0,f=f+Math.imul(R,Ht)|0,L=L+Math.imul(R,qt)|0,I=I+Math.imul(et,Wt)|0,f=f+Math.imul(et,Kt)|0,f=f+Math.imul(tt,Wt)|0,L=L+Math.imul(tt,Kt)|0,I=I+Math.imul(We,Gt)|0,f=f+Math.imul(We,Qt)|0,f=f+Math.imul(Qe,Gt)|0,L=L+Math.imul(Qe,Qt)|0,I=I+Math.imul(Ze,Yt)|0,f=f+Math.imul(Ze,Xt)|0,f=f+Math.imul(ot,Yt)|0,L=L+Math.imul(ot,Xt)|0;var Ig=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(Ig>>>26)|0,Ig&=67108863,I=Math.imul(z,jt),f=Math.imul(z,zt),f=f+Math.imul(K,jt)|0,L=Math.imul(K,zt),I=I+Math.imul(g,Ht)|0,f=f+Math.imul(g,qt)|0,f=f+Math.imul(B,Ht)|0,L=L+Math.imul(B,qt)|0,I=I+Math.imul(st,Wt)|0,f=f+Math.imul(st,Kt)|0,f=f+Math.imul(R,Wt)|0,L=L+Math.imul(R,Kt)|0,I=I+Math.imul(et,Gt)|0,f=f+Math.imul(et,Qt)|0,f=f+Math.imul(tt,Gt)|0,L=L+Math.imul(tt,Qt)|0,I=I+Math.imul(We,Yt)|0,f=f+Math.imul(We,Xt)|0,f=f+Math.imul(Qe,Yt)|0,L=L+Math.imul(Qe,Xt)|0;var Ag=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(Ag>>>26)|0,Ag&=67108863,I=Math.imul(z,Ht),f=Math.imul(z,qt),f=f+Math.imul(K,Ht)|0,L=Math.imul(K,qt),I=I+Math.imul(g,Wt)|0,f=f+Math.imul(g,Kt)|0,f=f+Math.imul(B,Wt)|0,L=L+Math.imul(B,Kt)|0,I=I+Math.imul(st,Gt)|0,f=f+Math.imul(st,Qt)|0,f=f+Math.imul(R,Gt)|0,L=L+Math.imul(R,Qt)|0,I=I+Math.imul(et,Yt)|0,f=f+Math.imul(et,Xt)|0,f=f+Math.imul(tt,Yt)|0,L=L+Math.imul(tt,Xt)|0;var Tg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(Tg>>>26)|0,Tg&=67108863,I=Math.imul(z,Wt),f=Math.imul(z,Kt),f=f+Math.imul(K,Wt)|0,L=Math.imul(K,Kt),I=I+Math.imul(g,Gt)|0,f=f+Math.imul(g,Qt)|0,f=f+Math.imul(B,Gt)|0,L=L+Math.imul(B,Qt)|0,I=I+Math.imul(st,Yt)|0,f=f+Math.imul(st,Xt)|0,f=f+Math.imul(R,Yt)|0,L=L+Math.imul(R,Xt)|0;var kg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(kg>>>26)|0,kg&=67108863,I=Math.imul(z,Gt),f=Math.imul(z,Qt),f=f+Math.imul(K,Gt)|0,L=Math.imul(K,Qt),I=I+Math.imul(g,Yt)|0,f=f+Math.imul(g,Xt)|0,f=f+Math.imul(B,Yt)|0,L=L+Math.imul(B,Xt)|0;var Cg=(M+I|0)+((f&8191)<<13)|0;M=(L+(f>>>13)|0)+(Cg>>>26)|0,Cg&=67108863,I=Math.imul(z,Yt),f=Math.imul(z,Xt),f=f+Math.imul(K,Yt)|0,L=Math.imul(K,Xt);var Rg=(M+I|0)+((f&8191)<<13)|0;return M=(L+(f>>>13)|0)+(Rg>>>26)|0,Rg&=67108863,T[0]=dg,T[1]=fg,T[2]=pg,T[3]=gg,T[4]=mg,T[5]=yg,T[6]=vg,T[7]=_g,T[8]=wg,T[9]=xg,T[10]=Eg,T[11]=bg,T[12]=Sg,T[13]=Ig,T[14]=Ag,T[15]=Tg,T[16]=kg,T[17]=Cg,T[18]=Rg,M!==0&&(T[19]=M,k.length++),k};Math.imul||(b=w);function m(U,h,v){v.negative=h.negative^U.negative,v.length=U.length+h.length;for(var k=0,O=0,C=0;C<v.length-1;C++){var T=O;O=0;for(var M=k&67108863,I=Math.min(C,h.length-1),f=Math.max(0,C-U.length+1);f<=I;f++){var L=C-f,W=U.words[L]|0,X=h.words[f]|0,J=W*X,oe=J&67108863;T=T+(J/67108864|0)|0,oe=oe+M|0,M=oe&67108863,T=T+(oe>>>26)|0,O+=T>>>26,T&=67108863}v.words[C]=M,k=T,T=O}return k!==0?v.words[C]=k:v.length--,v._strip()}function P(U,h,v){return m(U,h,v)}s.prototype.mulTo=function(h,v){var k,O=this.length+h.length;return this.length===10&&h.length===10?k=b(this,h,v):O<63?k=w(this,h,v):O<1024?k=m(this,h,v):k=P(this,h,v),k},s.prototype.mul=function(h){var v=new s(null);return v.words=new Array(this.length+h.length),this.mulTo(h,v)},s.prototype.mulf=function(h){var v=new s(null);return v.words=new Array(this.length+h.length),P(this,h,v)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){var v=h<0;v&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var k=0,O=0;O<this.length;O++){var C=(this.words[O]|0)*h,T=(C&67108863)+(k&67108863);k>>=26,k+=C/67108864|0,k+=T>>>26,this.words[O]=T&67108863}return k!==0&&(this.words[O]=k,this.length++),v?this.ineg():this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var v=A(h);if(v.length===0)return new s(1);for(var k=this,O=0;O<v.length&&v[O]===0;O++,k=k.sqr());if(++O<v.length)for(var C=k.sqr();O<v.length;O++,C=C.sqr())v[O]!==0&&(k=k.mul(C));return k},s.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var v=h%26,k=(h-v)/26,O=67108863>>>26-v<<26-v,C;if(v!==0){var T=0;for(C=0;C<this.length;C++){var M=this.words[C]&O,I=(this.words[C]|0)-M<<v;this.words[C]=I|T,T=M>>>26-v}T&&(this.words[C]=T,this.length++)}if(k!==0){for(C=this.length-1;C>=0;C--)this.words[C+k]=this.words[C];for(C=0;C<k;C++)this.words[C]=0;this.length+=k}return this._strip()},s.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,v,k){r(typeof h=="number"&&h>=0);var O;v?O=(v-v%26)/26:O=0;var C=h%26,T=Math.min((h-C)/26,this.length),M=67108863^67108863>>>C<<C,I=k;if(O-=T,O=Math.max(0,O),I){for(var f=0;f<T;f++)I.words[f]=this.words[f];I.length=T}if(T!==0)if(this.length>T)for(this.length-=T,f=0;f<this.length;f++)this.words[f]=this.words[f+T];else this.words[0]=0,this.length=1;var L=0;for(f=this.length-1;f>=0&&(L!==0||f>=O);f--){var W=this.words[f]|0;this.words[f]=L<<26-C|W>>>C,L=W&M}return I&&L!==0&&(I.words[I.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(h,v,k){return r(this.negative===0),this.iushrn(h,v,k)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var v=h%26,k=(h-v)/26,O=1<<v;if(this.length<=k)return!1;var C=this.words[k];return!!(C&O)},s.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var v=h%26,k=(h-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(v!==0&&k++,this.length=Math.min(k,this.length),v!==0){var O=67108863^67108863>>>v<<v;this.words[this.length-1]&=O}return this._strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,v,k){var O=h.length+k,C;this._expand(O);var T,M=0;for(C=0;C<h.length;C++){T=(this.words[C+k]|0)+M;var I=(h.words[C]|0)*v;T-=I&67108863,M=(T>>26)-(I/67108864|0),this.words[C+k]=T&67108863}for(;C<this.length-k;C++)T=(this.words[C+k]|0)+M,M=T>>26,this.words[C+k]=T&67108863;if(M===0)return this._strip();for(r(M===-1),M=0,C=0;C<this.length;C++)T=-(this.words[C]|0)+M,M=T>>26,this.words[C]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(h,v){var k=this.length-h.length,O=this.clone(),C=h,T=C.words[C.length-1]|0,M=this._countBits(T);k=26-M,k!==0&&(C=C.ushln(k),O.iushln(k),T=C.words[C.length-1]|0);var I=O.length-C.length,f;if(v!=="mod"){f=new s(null),f.length=I+1,f.words=new Array(f.length);for(var L=0;L<f.length;L++)f.words[L]=0}var W=O.clone()._ishlnsubmul(C,1,I);W.negative===0&&(O=W,f&&(f.words[I]=1));for(var X=I-1;X>=0;X--){var J=(O.words[C.length+X]|0)*67108864+(O.words[C.length+X-1]|0);for(J=Math.min(J/T|0,67108863),O._ishlnsubmul(C,J,X);O.negative!==0;)J--,O.negative=0,O._ishlnsubmul(C,1,X),O.isZero()||(O.negative^=1);f&&(f.words[X]=J)}return f&&f._strip(),O._strip(),v!=="div"&&k!==0&&O.iushrn(k),{div:f||null,mod:O}},s.prototype.divmod=function(h,v,k){if(r(!h.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var O,C,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,v),v!=="mod"&&(O=T.div.neg()),v!=="div"&&(C=T.mod.neg(),k&&C.negative!==0&&C.iadd(h)),{div:O,mod:C}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),v),v!=="mod"&&(O=T.div.neg()),{div:O,mod:T.mod}):this.negative&h.negative?(T=this.neg().divmod(h.neg(),v),v!=="div"&&(C=T.mod.neg(),k&&C.negative!==0&&C.isub(h)),{div:T.div,mod:C}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?v==="div"?{div:this.divn(h.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modrn(h.words[0]))}:this._wordDiv(h,v)},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var v=this.divmod(h);if(v.mod.isZero())return v.div;var k=v.div.negative!==0?v.mod.isub(h):v.mod,O=h.ushrn(1),C=h.andln(1),T=k.cmp(O);return T<0||C===1&&T===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(h){var v=h<0;v&&(h=-h),r(h<=67108863);for(var k=(1<<26)%h,O=0,C=this.length-1;C>=0;C--)O=(k*O+(this.words[C]|0))%h;return v?-O:O},s.prototype.modn=function(h){return this.modrn(h)},s.prototype.idivn=function(h){var v=h<0;v&&(h=-h),r(h<=67108863);for(var k=0,O=this.length-1;O>=0;O--){var C=(this.words[O]|0)+k*67108864;this.words[O]=C/h|0,k=C%h}return this._strip(),v?this.ineg():this},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var v=this,k=h.clone();v.negative!==0?v=v.umod(h):v=v.clone();for(var O=new s(1),C=new s(0),T=new s(0),M=new s(1),I=0;v.isEven()&&k.isEven();)v.iushrn(1),k.iushrn(1),++I;for(var f=k.clone(),L=v.clone();!v.isZero();){for(var W=0,X=1;!(v.words[0]&X)&&W<26;++W,X<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(O.isOdd()||C.isOdd())&&(O.iadd(f),C.isub(L)),O.iushrn(1),C.iushrn(1);for(var J=0,oe=1;!(k.words[0]&oe)&&J<26;++J,oe<<=1);if(J>0)for(k.iushrn(J);J-- >0;)(T.isOdd()||M.isOdd())&&(T.iadd(f),M.isub(L)),T.iushrn(1),M.iushrn(1);v.cmp(k)>=0?(v.isub(k),O.isub(T),C.isub(M)):(k.isub(v),T.isub(O),M.isub(C))}return{a:T,b:M,gcd:k.iushln(I)}},s.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var v=this,k=h.clone();v.negative!==0?v=v.umod(h):v=v.clone();for(var O=new s(1),C=new s(0),T=k.clone();v.cmpn(1)>0&&k.cmpn(1)>0;){for(var M=0,I=1;!(v.words[0]&I)&&M<26;++M,I<<=1);if(M>0)for(v.iushrn(M);M-- >0;)O.isOdd()&&O.iadd(T),O.iushrn(1);for(var f=0,L=1;!(k.words[0]&L)&&f<26;++f,L<<=1);if(f>0)for(k.iushrn(f);f-- >0;)C.isOdd()&&C.iadd(T),C.iushrn(1);v.cmp(k)>=0?(v.isub(k),O.isub(C)):(k.isub(v),C.isub(O))}var W;return v.cmpn(1)===0?W=O:W=C,W.cmpn(0)<0&&W.iadd(h),W},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var v=this.clone(),k=h.clone();v.negative=0,k.negative=0;for(var O=0;v.isEven()&&k.isEven();O++)v.iushrn(1),k.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;k.isEven();)k.iushrn(1);var C=v.cmp(k);if(C<0){var T=v;v=k,k=T}else if(C===0||k.cmpn(1)===0)break;v.isub(k)}while(!0);return k.iushln(O)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){r(typeof h=="number");var v=h%26,k=(h-v)/26,O=1<<v;if(this.length<=k)return this._expand(k+1),this.words[k]|=O,this;for(var C=O,T=k;C!==0&&T<this.length;T++){var M=this.words[T]|0;M+=C,C=M>>>26,M&=67108863,this.words[T]=M}return C!==0&&(this.words[T]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var v=h<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var k;if(this.length>1)k=1;else{v&&(h=-h),r(h<=67108863,"Number is too big");var O=this.words[0]|0;k=O===h?0:O<h?-1:1}return this.negative!==0?-k|0:k},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var v=this.ucmp(h);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var v=0,k=this.length-1;k>=0;k--){var O=this.words[k]|0,C=h.words[k]|0;if(O!==C){O<C?v=-1:O>C&&(v=1);break}}return v},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new Q(h)},s.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var N={k256:null,p224:null,p192:null,p25519:null};function D(U,h){this.name=U,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var h=new s(null);return h.words=new Array(Math.ceil(this.n/13)),h},D.prototype.ireduce=function(h){var v=h,k;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),k=v.bitLength();while(k>this.n);var O=k<this.n?-1:v.ucmp(this.p);return O===0?(v.words[0]=0,v.length=1):O>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},D.prototype.split=function(h,v){h.iushrn(this.n,0,v)},D.prototype.imulK=function(h){return h.imul(this.k)};function F(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,D),F.prototype.split=function(h,v){for(var k=4194303,O=Math.min(h.length,9),C=0;C<O;C++)v.words[C]=h.words[C];if(v.length=O,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(v.words[v.length++]=T&k,C=10;C<h.length;C++){var M=h.words[C]|0;h.words[C-10]=(M&k)<<4|T>>>22,T=M}T>>>=22,h.words[C-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},F.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var v=0,k=0;k<h.length;k++){var O=h.words[k]|0;v+=O*977,h.words[k]=v&67108863,v=O*64+(v/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function V(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,D);function G(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,D);function Y(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Y,D),Y.prototype.imulK=function(h){for(var v=0,k=0;k<h.length;k++){var O=(h.words[k]|0)*19+v,C=O&67108863;O>>>=26,h.words[k]=C,v=O}return v!==0&&(h.words[h.length++]=v),h},s._prime=function(h){if(N[h])return N[h];var v;if(h==="k256")v=new F;else if(h==="p224")v=new V;else if(h==="p192")v=new G;else if(h==="p25519")v=new Y;else throw new Error("Unknown prime "+h);return N[h]=v,v};function Q(U){if(typeof U=="string"){var h=s._prime(U);this.m=h.p,this.prime=h}else r(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}Q.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},Q.prototype._verify2=function(h,v){r((h.negative|v.negative)===0,"red works only with positives"),r(h.red&&h.red===v.red,"red works only with red numbers")},Q.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(c(h,h.umod(this.m)._forceRed(this)),h)},Q.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},Q.prototype.add=function(h,v){this._verify2(h,v);var k=h.add(v);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},Q.prototype.iadd=function(h,v){this._verify2(h,v);var k=h.iadd(v);return k.cmp(this.m)>=0&&k.isub(this.m),k},Q.prototype.sub=function(h,v){this._verify2(h,v);var k=h.sub(v);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},Q.prototype.isub=function(h,v){this._verify2(h,v);var k=h.isub(v);return k.cmpn(0)<0&&k.iadd(this.m),k},Q.prototype.shl=function(h,v){return this._verify1(h),this.imod(h.ushln(v))},Q.prototype.imul=function(h,v){return this._verify2(h,v),this.imod(h.imul(v))},Q.prototype.mul=function(h,v){return this._verify2(h,v),this.imod(h.mul(v))},Q.prototype.isqr=function(h){return this.imul(h,h.clone())},Q.prototype.sqr=function(h){return this.mul(h,h)},Q.prototype.sqrt=function(h){if(h.isZero())return h.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var k=this.m.add(new s(1)).iushrn(2);return this.pow(h,k)}for(var O=this.m.subn(1),C=0;!O.isZero()&&O.andln(1)===0;)C++,O.iushrn(1);r(!O.isZero());var T=new s(1).toRed(this),M=T.redNeg(),I=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,I).cmp(M)!==0;)f.redIAdd(M);for(var L=this.pow(f,O),W=this.pow(h,O.addn(1).iushrn(1)),X=this.pow(h,O),J=C;X.cmp(T)!==0;){for(var oe=X,he=0;oe.cmp(T)!==0;he++)oe=oe.redSqr();r(he<J);var ge=this.pow(L,new s(1).iushln(J-he-1));W=W.redMul(ge),L=ge.redSqr(),X=X.redMul(L),J=he}return W},Q.prototype.invm=function(h){var v=h._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},Q.prototype.pow=function(h,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return h.clone();var k=4,O=new Array(1<<k);O[0]=new s(1).toRed(this),O[1]=h;for(var C=2;C<O.length;C++)O[C]=this.mul(O[C-1],h);var T=O[0],M=0,I=0,f=v.bitLength()%26;for(f===0&&(f=26),C=v.length-1;C>=0;C--){for(var L=v.words[C],W=f-1;W>=0;W--){var X=L>>W&1;if(T!==O[0]&&(T=this.sqr(T)),X===0&&M===0){I=0;continue}M<<=1,M|=X,I++,!(I!==k&&(C!==0||W!==0))&&(T=this.mul(T,O[M]),I=0,M=0)}f=26}return T},Q.prototype.convertTo=function(h){var v=h.umod(this.m);return v===h?v.clone():v},Q.prototype.convertFrom=function(h){var v=h.clone();return v.red=null,v},s.mont=function(h){return new ce(h)};function ce(U){Q.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,Q),ce.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},ce.prototype.convertFrom=function(h){var v=this.imod(h.mul(this.rinv));return v.red=null,v},ce.prototype.imul=function(h,v){if(h.isZero()||v.isZero())return h.words[0]=0,h.length=1,h;var k=h.imul(v),O=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(O).iushrn(this.shift),T=C;return C.cmp(this.m)>=0?T=C.isub(this.m):C.cmpn(0)<0&&(T=C.iadd(this.m)),T._forceRed(this)},ce.prototype.mul=function(h,v){if(h.isZero()||v.isZero())return new s(0)._forceRed(this);var k=h.mul(v),O=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=k.isub(O).iushrn(this.shift),T=C;return C.cmp(this.m)>=0?T=C.isub(this.m):C.cmpn(0)<0&&(T=C.iadd(this.m)),T._forceRed(this)},ce.prototype.invm=function(h){var v=this.imod(h._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(t,oi)})(aw);var WR=aw.exports;const n2=ia(WR);var cv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ke,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(cv,cv.exports);var KR=cv.exports,sd=KR.Buffer;function tj(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=sd.from(_)),!sd.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var S=0,x=0,A=0,w=_.length;A!==w&&_[A]===0;)A++,S++;for(var b=(w-A)*u+1>>>0,m=new Uint8Array(b);A!==w;){for(var P=_[A],N=0,D=b-1;(P!==0||N<x)&&D!==-1;D--,N++)P+=256*m[D]>>>0,m[D]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=N,A++}for(var F=b-x;F!==b&&m[F]===0;)F++;for(var V=a.repeat(S);F<b;++F)V+=t.charAt(m[F]);return V}function d(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return sd.alloc(0);for(var S=0,x=0,A=0;_[S]===a;)x++,S++;for(var w=(_.length-S)*l+1>>>0,b=new Uint8Array(w);_[S];){var m=e[_.charCodeAt(S)];if(m===255)return;for(var P=0,N=w-1;(m!==0||P<A)&&N!==-1;N--,P++)m+=o*b[N]>>>0,b[N]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");A=P,S++}for(var D=w-A;D!==w&&b[D]===0;)D++;var F=sd.allocUnsafe(x+(w-D));F.fill(0,0,x);for(var V=x;D!==w;)F[V++]=b[D++];return F}function y(_){var S=d(_);if(S)return S;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:d,decode:y}}var nj=tj,rj=nj,ij="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",sj=rj(ij);const In=ia(sj),oj=(t,e,n)=>t&e^~t&n,aj=(t,e,n)=>t&e^t&n^e&n,lj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ws=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xs=new Uint32Array(64);class uj extends LR{constructor(){super(64,32,8,!1),this.A=ws[0]|0,this.B=ws[1]|0,this.C=ws[2]|0,this.D=ws[3]|0,this.E=ws[4]|0,this.F=ws[5]|0,this.G=ws[6]|0,this.H=ws[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)xs[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const y=xs[d-15],_=xs[d-2],S=pi(y,7)^pi(y,18)^y>>>3,x=pi(_,17)^pi(_,19)^_>>>10;xs[d]=x+xs[d-7]+S+xs[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let d=0;d<64;d++){const y=pi(a,6)^pi(a,11)^pi(a,25),_=c+y+oj(a,l,u)+lj[d]+xs[d]|0,x=(pi(r,2)^pi(r,13)^pi(r,22))+aj(r,i,s)|0;c=u,u=l,l=a,a=o+_|0,o=s,s=i,i=r,r=_+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,l,u,c)}roundClean(){xs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const hv=NR(()=>new uj);var bn={},od=KR.Buffer;function cj(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=od.from(_)),!od.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var S=0,x=0,A=0,w=_.length;A!==w&&_[A]===0;)A++,S++;for(var b=(w-A)*u+1>>>0,m=new Uint8Array(b);A!==w;){for(var P=_[A],N=0,D=b-1;(P!==0||N<x)&&D!==-1;D--,N++)P+=256*m[D]>>>0,m[D]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=N,A++}for(var F=b-x;F!==b&&m[F]===0;)F++;for(var V=a.repeat(S);F<b;++F)V+=t.charAt(m[F]);return V}function d(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return od.alloc(0);for(var S=0,x=0,A=0;_[S]===a;)x++,S++;for(var w=(_.length-S)*l+1>>>0,b=new Uint8Array(w);_[S];){var m=e[_.charCodeAt(S)];if(m===255)return;for(var P=0,N=w-1;(m!==0||P<A)&&N!==-1;N--,P++)m+=o*b[N]>>>0,b[N]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");A=P,S++}for(var D=w-A;D!==w&&b[D]===0;)D++;var F=od.allocUnsafe(x+(w-D));F.fill(0,0,x);for(var V=x;D!==w;)F[V++]=b[D++];return F}function y(_){var S=d(_);if(S)return S;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:d,decode:y}}var hj=cj,dj=hj,fj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pj=dj(fj);function Hi(t,e,n){return e<=t&&t<=n}function rg(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function gj(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function mj(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Bf=-1;function lw(t){this.tokens=[].slice.call(t)}lw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Bf},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Ll=-1;function Qm(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Uf="utf-8";function Ff(t,e){if(!(this instanceof Ff))return new Ff(t,e);if(t=t!==void 0?String(t).toLowerCase():Uf,t!==Uf)throw new Error("Encoding not supported. Only utf-8 is supported");e=rg(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ff.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=rg(n),this._streaming||(this._decoder=new yj({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new lw(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Ll);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Ll)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),mj(s)}};function Vf(t,e){if(!(this instanceof Vf))return new Vf(t,e);if(t=t!==void 0?String(t).toLowerCase():Uf,t!==Uf)throw new Error("Encoding not supported. Only utf-8 is supported");e=rg(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Vf.prototype={encode:function(e,n){e=e?String(e):"",n=rg(n),this._streaming||(this._encoder=new vj(this._options)),this._streaming=!!n.stream;for(var r=[],i=new lw(gj(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Ll);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Ll;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function yj(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===Bf&&i!==0)return i=0,Qm(e);if(l===Bf)return Ll;if(i===0){if(Hi(l,0,127))return l;if(Hi(l,194,223))i=1,n=l-192;else if(Hi(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Hi(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return Qm(e);return n=n<<6*i,null}if(!Hi(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),Qm(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function vj(t){t.fatal,this.handler=function(e,n){if(n===Bf)return Ll;if(Hi(n,0,127))return n;var r,i;Hi(n,128,2047)?(r=1,i=192):Hi(n,2048,65535)?(r=2,i=224):Hi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const _j=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Ff,TextEncoder:Vf},Symbol.toStringTag,{value:"Module"})),wj=wv(_j);var xj=oi&&oi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ej=oi&&oi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fi=oi&&oi.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bj=oi&&oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&xj(e,t,n);return Ej(e,t),e},GR=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bn,"__esModule",{value:!0});var QR=bn.deserializeUnchecked=t4=bn.deserialize=e4=bn.serialize=bn.BinaryReader=bn.BinaryWriter=bn.BorshError=bn.baseDecode=bn.baseEncode=void 0;const Os=GR(WR),YR=GR(pj),Sj=bj(wj),Ij=typeof TextDecoder!="function"?Sj.TextDecoder:TextDecoder,Aj=new Ij("utf-8",{fatal:!0});function Tj(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),YR.default.encode(Buffer.from(t))}bn.baseEncode=Tj;function kj(t){return Buffer.from(YR.default.decode(t))}bn.baseDecode=kj;const Ym=1024;class Xn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}bn.BorshError=Xn;class XR{constructor(){this.buf=Buffer.alloc(Ym),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Ym)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Os.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Os.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Os.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Os.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Ym)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}bn.BinaryWriter=XR;function Vi(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Xn("Reached the end of buffer when deserializing")}throw s}}}class Cr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Os.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Os.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Os.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Os.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Xn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return Aj.decode(n)}catch(r){throw new Xn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Fi([Vi],Cr.prototype,"readU8",null);Fi([Vi],Cr.prototype,"readU16",null);Fi([Vi],Cr.prototype,"readU32",null);Fi([Vi],Cr.prototype,"readU64",null);Fi([Vi],Cr.prototype,"readU128",null);Fi([Vi],Cr.prototype,"readU256",null);Fi([Vi],Cr.prototype,"readU512",null);Fi([Vi],Cr.prototype,"readString",null);Fi([Vi],Cr.prototype,"readFixedArray",null);Fi([Vi],Cr.prototype,"readArray",null);bn.BinaryReader=Cr;function JR(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Eo(t,e,n,r,i){try{if(typeof r=="string")i[`write${JR(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Xn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Xn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Eo(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Eo(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Eo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Eo(t,e,o,r.key,i),Eo(t,e,s,r.value,i)});break}default:throw new Xn(`FieldType ${r} unrecognized`)}else ZR(t,n,i)}catch(s){throw s instanceof Xn&&s.addToFieldPath(e),s}}function ZR(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Xn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Eo(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Eo(t,o,e[o],a,n);break}}}else throw new Xn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Cj(t,e,n=XR){const r=new n;return ZR(t,e,r),r.toArray()}var e4=bn.serialize=Cj;function bo(t,e,n,r){try{if(typeof n=="string")return r[`read${JR(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(bo(t,null,n[0],r));return i}else return r.readArray(()=>bo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?bo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=bo(t,e,n.key,r),l=bo(t,e,n.value,r);i.set(a,l)}return i}return uw(t,n,r)}catch(i){throw i instanceof Xn&&i.addToFieldPath(e),i}}function uw(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Xn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=bo(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Xn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=bo(t,s,o,n);return new e({[s]:a})}throw new Xn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Rj(t,e,n,r=Cr){const i=new r(n),s=uw(t,e,i);if(i.offset<n.length)throw new Xn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var t4=bn.deserialize=Rj;function Pj(t,e,n,r=Cr){const i=new r(n);return uw(t,e,i)}QR=bn.deserializeUnchecked=Pj;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.s16=q.s8=q.nu64be=q.u48be=q.u40be=q.u32be=q.u24be=q.u16be=_n=q.nu64=q.u48=q.u40=_e=q.u32=q.u24=Lr=q.u16=Je=q.u8=$o=q.offset=q.greedy=q.Constant=q.UTF8=q.CString=q.Blob=q.Boolean=q.BitField=q.BitStructure=q.VariantLayout=q.Union=q.UnionLayoutDiscriminator=q.UnionDiscriminator=q.Structure=q.Sequence=q.DoubleBE=q.Double=q.FloatBE=q.Float=q.NearInt64BE=q.NearInt64=q.NearUInt64BE=q.NearUInt64=q.IntBE=q.Int=q.UIntBE=q.UInt=q.OffsetLayout=q.GreedyCount=q.ExternalLayout=q.bindConstructorLayout=q.nameWithProperty=q.Layout=q.uint8ArrayToBuffer=q.checkUint8Array=void 0;q.constant=q.utf8=q.cstr=At=q.blob=q.unionLayoutDiscriminator=q.union=Jn=q.seq=q.bits=ye=q.struct=q.f64be=q.f64=q.f32be=q.f32=q.ns64be=q.s48be=q.s40be=q.s32be=q.s24be=q.s16be=mr=q.ns64=q.s48=q.s40=q.s32=q.s24=void 0;const cw=ke;function ru(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}q.checkUint8Array=ru;function Ye(t){return ru(t),cw.Buffer.from(t.buffer,t.byteOffset,t.length)}q.uint8ArrayToBuffer=Ye;class it{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}q.Layout=it;function hw(t,e){return e.property?t+"["+e.property+"]":t}q.nameWithProperty=hw;function Nj(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof it))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}q.bindConstructorLayout=Nj;class ar extends it{isCount(){throw new Error("ExternalLayout is abstract")}}q.ExternalLayout=ar;class n4 extends ar{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){ru(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}q.GreedyCount=n4;class dw extends ar{constructor(e,n=0,r){if(!(e instanceof it))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof zr||this.layout instanceof si}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}q.OffsetLayout=dw;class zr extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ye(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Ye(n).writeUIntLE(e,r,this.span),this.span}}q.UInt=zr;class si extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ye(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Ye(n).writeUIntBE(e,r,this.span),this.span}}q.UIntBE=si;class ma extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ye(e).readIntLE(n,this.span)}encode(e,n,r=0){return Ye(n).writeIntLE(e,r,this.span),this.span}}q.Int=ma;class iu extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ye(e).readIntBE(n,this.span)}encode(e,n,r=0){return Ye(n).writeIntBE(e,r,this.span),this.span}}q.IntBE=iu;const dv=Math.pow(2,32);function ig(t){const e=Math.floor(t/dv),n=t-e*dv;return{hi32:e,lo32:n}}function sg(t,e){return t*dv+e}class r4 extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Ye(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return sg(s,i)}encode(e,n,r=0){const i=ig(e),s=Ye(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}q.NearUInt64=r4;class i4 extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Ye(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return sg(i,s)}encode(e,n,r=0){const i=ig(e),s=Ye(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearUInt64BE=i4;class s4 extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Ye(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return sg(s,i)}encode(e,n,r=0){const i=ig(e),s=Ye(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}q.NearInt64=s4;class o4 extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Ye(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return sg(i,s)}encode(e,n,r=0){const i=ig(e),s=Ye(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearInt64BE=o4;class a4 extends it{constructor(e){super(4,e)}decode(e,n=0){return Ye(e).readFloatLE(n)}encode(e,n,r=0){return Ye(n).writeFloatLE(e,r),4}}q.Float=a4;class l4 extends it{constructor(e){super(4,e)}decode(e,n=0){return Ye(e).readFloatBE(n)}encode(e,n,r=0){return Ye(n).writeFloatBE(e,r),4}}q.FloatBE=l4;class u4 extends it{constructor(e){super(8,e)}decode(e,n=0){return Ye(e).readDoubleLE(n)}encode(e,n,r=0){return Ye(n).writeDoubleLE(e,r),8}}q.Double=u4;class c4 extends it{constructor(e){super(8,e)}decode(e,n=0){return Ye(e).readDoubleBE(n)}encode(e,n,r=0){return Ye(n).writeDoubleBE(e,r),8}}q.DoubleBE=c4;class h4 extends it{constructor(e,n,r){if(!(e instanceof it))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ar&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof ar)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof ar&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof ar&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof ar&&this.count.encode(e.length,n,r),s}}q.Sequence=h4;class d4 extends it{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof it,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){ru(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}q.Structure=d4;class fw{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}q.UnionDiscriminator=fw;class $f extends fw{constructor(e,n){if(!(e instanceof ar&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}q.UnionLayoutDiscriminator=$f;class pw extends it{constructor(e,n,r){let i;if(e instanceof zr||e instanceof si)i=new $f(new dw(e));else if(e instanceof ar&&e.isCount())i=new $f(e);else if(e instanceof fw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof it))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof zr||e instanceof si)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof zr||e instanceof si,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new f4(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}q.Union=pw;class f4 extends it{constructor(e,n,r,i){if(!(e instanceof pw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof it))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}q.VariantLayout=f4;function Ta(t){return 0>t&&(t+=4294967296),t}class gw extends it{constructor(e,n,r){if(!(e instanceof zr||e instanceof si))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Ta(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new mw(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new p4(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}q.BitStructure=gw;class mw{constructor(e,n,r){if(!(e instanceof gw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Ta(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Ta(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ta(e&this.valueMask))throw new TypeError(hw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Ta(e<<this.start);this.container._packedSetValue(Ta(n&~this.wordMask)|r)}}q.BitField=mw;let p4=class extends mw{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};q.Boolean=p4;let g4=class extends it{constructor(e,n){if(!(e instanceof ar&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ar||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Ye(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof ar&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(hw("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Ye(e);return Ye(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof ar&&this.length.encode(i,n,r),i}};q.Blob=g4;class m4 extends it{constructor(e){super(-1,e)}getSpan(e,n=0){ru(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Ye(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=cw.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Ye(n);return i.copy(o,r),o[r+s]=0,s+1}}q.CString=m4;class y4 extends it{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return ru(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Ye(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=cw.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ye(n),r),s}}q.UTF8=y4;class v4 extends it{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}q.Constant=v4;q.greedy=(t,e)=>new n4(t,e);var $o=q.offset=(t,e,n)=>new dw(t,e,n),Je=q.u8=t=>new zr(1,t),Lr=q.u16=t=>new zr(2,t);q.u24=t=>new zr(3,t);var _e=q.u32=t=>new zr(4,t);q.u40=t=>new zr(5,t);q.u48=t=>new zr(6,t);var _n=q.nu64=t=>new r4(t);q.u16be=t=>new si(2,t);q.u24be=t=>new si(3,t);q.u32be=t=>new si(4,t);q.u40be=t=>new si(5,t);q.u48be=t=>new si(6,t);q.nu64be=t=>new i4(t);q.s8=t=>new ma(1,t);q.s16=t=>new ma(2,t);q.s24=t=>new ma(3,t);q.s32=t=>new ma(4,t);q.s40=t=>new ma(5,t);q.s48=t=>new ma(6,t);var mr=q.ns64=t=>new s4(t);q.s16be=t=>new iu(2,t);q.s24be=t=>new iu(3,t);q.s32be=t=>new iu(4,t);q.s40be=t=>new iu(5,t);q.s48be=t=>new iu(6,t);q.ns64be=t=>new o4(t);q.f32=t=>new a4(t);q.f32be=t=>new l4(t);q.f64=t=>new u4(t);q.f64be=t=>new c4(t);var ye=q.struct=(t,e,n)=>new d4(t,e,n);q.bits=(t,e,n)=>new gw(t,e,n);var Jn=q.seq=(t,e,n)=>new h4(t,e,n);q.union=(t,e,n)=>new pw(t,e,n);q.unionLayoutDiscriminator=(t,e)=>new $f(t,e);var At=q.blob=(t,e)=>new g4(t,e);q.cstr=t=>new m4(t);q.utf8=(t,e)=>new y4(t,e);q.constant=(t,e)=>new v4(t,e);var _h={};Object.defineProperty(_h,"__esModule",{value:!0});function Mj(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var Lj=_h.toBigIntLE=Mj;function Oj(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}_h.toBigIntBE=Oj;function Dj(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var Bj=_h.toBufferLE=Dj;function Uj(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}_h.toBufferBE=Uj;class Fj extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function Vj(t){return Qs(t)&&typeof t[Symbol.iterator]=="function"}function Qs(t){return typeof t=="object"&&t!=null}function hi(t){return typeof t=="string"?JSON.stringify(t):""+t}function $j(t){const{done:e,value:n}=t.next();return e?void 0:n}function jj(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+hi(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*r2(t,e,n,r){Vj(t)||(t=[t]);for(const i of t){const s=jj(i,e,n,r);s&&(yield s)}}function*yw(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Qs(e.schema)&&Qs(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l=!0;for(const u of e.validator(t,a))l=!1,yield[u,void 0];for(let[u,c,d]of e.entries(t,a)){const y=yw(c,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,c],coerce:s,mask:o});for(const _ of y)_[0]?(l=!1,yield[_[0],void 0]):s&&(c=_[1],u===void 0?t=c:t instanceof Map?t.set(u,c):t instanceof Set?t.add(c):Qs(t)&&(t[u]=c))}if(l)for(const u of e.refiner(t,a))l=!1,yield[u,void 0];l&&(yield[void 0,t])}let $i=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,u)=>{const c=i(l,u);return r2(c,u,this,l)}:this.validator=()=>[],s?this.refiner=(l,u)=>{const c=s(l,u);return r2(c,u,this,l)}:this.refiner=()=>[]}assert(e){return zj(e,this)}create(e){return se(e,this)}is(e){return _4(e,this)}mask(e){return Hj(e,this)}validate(e,n={}){return wh(e,this,n)}};function zj(t,e){const n=wh(t,e);if(n[0])throw n[0]}function se(t,e){const n=wh(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function Hj(t,e){const n=wh(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function _4(t,e){return!wh(t,e)[0]}function wh(t,e,n={}){const r=yw(t,e,n),i=$j(r);return i[0]?[new Fj(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ya(t,e){return new $i({type:t,schema:null,validator:e})}function qj(){return ya("any",()=>!0)}function le(t){return new $i({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+hi(e)}})}function Di(){return ya("boolean",t=>typeof t=="boolean")}function vw(t){return ya("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+hi(e))}function _t(t){const e=hi(t),n=typeof t;return new $i({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+hi(r)}})}function Wj(){return ya("never",()=>!1)}function ue(t){return new $i({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return ya("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+hi(t))}function xe(t){return new $i({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function w4(t,e){return new $i({type:"record",schema:null,*entries(n){if(Qs(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Qs(n)||"Expected an object, but received: "+hi(n)}})}function ie(){return ya("string",t=>typeof t=="string"||"Expected a string, but received: "+hi(t))}function _w(t){const e=Wj();return new $i({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+hi(n)}})}function te(t){const e=Object.keys(t);return new $i({type:"type",schema:t,*entries(n){if(Qs(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Qs(n)||"Expected an object, but received: "+hi(n)}})}function dr(t){const e=t.map(n=>n.type).join(" | ");return new $i({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=yw(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+hi(n),...i]}})}function xh(){return ya("unknown",()=>!0)}function Eh(t,e,n){return new $i({...t,coercer:(r,i)=>_4(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var ad,Kj=new Uint8Array(16);function x4(){if(!ad&&(ad=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ad))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ad(Kj)}const Gj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function og(t){return typeof t=="string"&&Gj.test(t)}var vn=[];for(var Xm=0;Xm<256;++Xm)vn.push((Xm+256).toString(16).substr(1));function ag(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vn[t[e+0]]+vn[t[e+1]]+vn[t[e+2]]+vn[t[e+3]]+"-"+vn[t[e+4]]+vn[t[e+5]]+"-"+vn[t[e+6]]+vn[t[e+7]]+"-"+vn[t[e+8]]+vn[t[e+9]]+"-"+vn[t[e+10]]+vn[t[e+11]]+vn[t[e+12]]+vn[t[e+13]]+vn[t[e+14]]+vn[t[e+15]]).toLowerCase();if(!og(n))throw TypeError("Stringified UUID is invalid");return n}var i2,Jm,Zm=0,e0=0;function Qj(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||i2,o=t.clockseq!==void 0?t.clockseq:Jm;if(s==null||o==null){var a=t.random||(t.rng||x4)();s==null&&(s=i2=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Jm=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:e0+1,c=l-Zm+(u-e0)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||l>Zm)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Zm=l,e0=u,Jm=o,l+=122192928e5;var d=((l&268435455)*1e4+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var y=l/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=y&255,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var _=0;_<6;++_)i[r+_]=s[_];return e||ag(i)}function E4(t){if(!og(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Yj(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Xj="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Jj="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function b4(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=Yj(i)),typeof s=="string"&&(s=E4(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return ag(l)}try{r.name=t}catch{}return r.DNS=Xj,r.URL=Jj,r}function Zj(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return ez(tz(nz(t),t.length*8))}function ez(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function S4(t){return(t+64>>>9<<4)+14+1}function tz(t,e){t[e>>5]|=128<<e%32,t[S4(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,u=i,c=s;n=Ln(n,r,i,s,t[o],7,-680876936),s=Ln(s,n,r,i,t[o+1],12,-389564586),i=Ln(i,s,n,r,t[o+2],17,606105819),r=Ln(r,i,s,n,t[o+3],22,-1044525330),n=Ln(n,r,i,s,t[o+4],7,-176418897),s=Ln(s,n,r,i,t[o+5],12,1200080426),i=Ln(i,s,n,r,t[o+6],17,-1473231341),r=Ln(r,i,s,n,t[o+7],22,-45705983),n=Ln(n,r,i,s,t[o+8],7,1770035416),s=Ln(s,n,r,i,t[o+9],12,-1958414417),i=Ln(i,s,n,r,t[o+10],17,-42063),r=Ln(r,i,s,n,t[o+11],22,-1990404162),n=Ln(n,r,i,s,t[o+12],7,1804603682),s=Ln(s,n,r,i,t[o+13],12,-40341101),i=Ln(i,s,n,r,t[o+14],17,-1502002290),r=Ln(r,i,s,n,t[o+15],22,1236535329),n=On(n,r,i,s,t[o+1],5,-165796510),s=On(s,n,r,i,t[o+6],9,-1069501632),i=On(i,s,n,r,t[o+11],14,643717713),r=On(r,i,s,n,t[o],20,-373897302),n=On(n,r,i,s,t[o+5],5,-701558691),s=On(s,n,r,i,t[o+10],9,38016083),i=On(i,s,n,r,t[o+15],14,-660478335),r=On(r,i,s,n,t[o+4],20,-405537848),n=On(n,r,i,s,t[o+9],5,568446438),s=On(s,n,r,i,t[o+14],9,-1019803690),i=On(i,s,n,r,t[o+3],14,-187363961),r=On(r,i,s,n,t[o+8],20,1163531501),n=On(n,r,i,s,t[o+13],5,-1444681467),s=On(s,n,r,i,t[o+2],9,-51403784),i=On(i,s,n,r,t[o+7],14,1735328473),r=On(r,i,s,n,t[o+12],20,-1926607734),n=Dn(n,r,i,s,t[o+5],4,-378558),s=Dn(s,n,r,i,t[o+8],11,-2022574463),i=Dn(i,s,n,r,t[o+11],16,1839030562),r=Dn(r,i,s,n,t[o+14],23,-35309556),n=Dn(n,r,i,s,t[o+1],4,-1530992060),s=Dn(s,n,r,i,t[o+4],11,1272893353),i=Dn(i,s,n,r,t[o+7],16,-155497632),r=Dn(r,i,s,n,t[o+10],23,-1094730640),n=Dn(n,r,i,s,t[o+13],4,681279174),s=Dn(s,n,r,i,t[o],11,-358537222),i=Dn(i,s,n,r,t[o+3],16,-722521979),r=Dn(r,i,s,n,t[o+6],23,76029189),n=Dn(n,r,i,s,t[o+9],4,-640364487),s=Dn(s,n,r,i,t[o+12],11,-421815835),i=Dn(i,s,n,r,t[o+15],16,530742520),r=Dn(r,i,s,n,t[o+2],23,-995338651),n=Bn(n,r,i,s,t[o],6,-198630844),s=Bn(s,n,r,i,t[o+7],10,1126891415),i=Bn(i,s,n,r,t[o+14],15,-1416354905),r=Bn(r,i,s,n,t[o+5],21,-57434055),n=Bn(n,r,i,s,t[o+12],6,1700485571),s=Bn(s,n,r,i,t[o+3],10,-1894986606),i=Bn(i,s,n,r,t[o+10],15,-1051523),r=Bn(r,i,s,n,t[o+1],21,-2054922799),n=Bn(n,r,i,s,t[o+8],6,1873313359),s=Bn(s,n,r,i,t[o+15],10,-30611744),i=Bn(i,s,n,r,t[o+6],15,-1560198380),r=Bn(r,i,s,n,t[o+13],21,1309151649),n=Bn(n,r,i,s,t[o+4],6,-145523070),s=Bn(s,n,r,i,t[o+11],10,-1120210379),i=Bn(i,s,n,r,t[o+2],15,718787259),r=Bn(r,i,s,n,t[o+9],21,-343485551),n=Ds(n,a),r=Ds(r,l),i=Ds(i,u),s=Ds(s,c)}return[n,r,i,s]}function nz(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(S4(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Ds(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function rz(t,e){return t<<e|t>>>32-e}function lg(t,e,n,r,i,s){return Ds(rz(Ds(Ds(e,t),Ds(r,s)),i),n)}function Ln(t,e,n,r,i,s,o){return lg(e&n|~e&r,t,e,i,s,o)}function On(t,e,n,r,i,s,o){return lg(e&r|n&~r,t,e,i,s,o)}function Dn(t,e,n,r,i,s,o){return lg(e^n^r,t,e,i,s,o)}function Bn(t,e,n,r,i,s,o){return lg(n^(e|~r),t,e,i,s,o)}var iz=b4("v3",48,Zj);const sz=iz;function oz(t,e,n){t=t||{};var r=t.random||(t.rng||x4)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return ag(r)}function az(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function t0(t,e){return t<<e|t>>>32-e}function lz(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];a[l]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var y=new Uint32Array(80),_=0;_<16;++_)y[_]=a[d][_];for(var S=16;S<80;++S)y[S]=t0(y[S-3]^y[S-8]^y[S-14]^y[S-16],1);for(var x=n[0],A=n[1],w=n[2],b=n[3],m=n[4],P=0;P<80;++P){var N=Math.floor(P/20),D=t0(x,5)+az(N,A,w,b)+m+e[N]+y[P]>>>0;m=b,b=w,w=t0(A,30)>>>0,A=x,x=D}n[0]=n[0]+x>>>0,n[1]=n[1]+A>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+m>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var uz=b4("v5",80,lz);const cz=uz,hz="00000000-0000-0000-0000-000000000000";function dz(t){if(!og(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const fz=Object.freeze(Object.defineProperty({__proto__:null,NIL:hz,parse:E4,stringify:ag,v1:Qj,v3:sz,v4:oz,v5:cz,validate:og,version:dz},Symbol.toStringTag,{value:"Module"})),I4=wv(fz),pz=I4.v4,gz=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return pz()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var mz=gz;const yz=I4.v4,vz=mz,zc=function(t,e){if(!(this instanceof zc))return new zc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return yz()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var _z=zc;zc.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=vz(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(u)return r(c);throw c}if(!u)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,function(u,c){i._parseResponse(u,c,r)}),s};zc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const wz=ia(_z);var A4={},T4={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(T4);var k4=T4.exports,n0={exports:{}},r0={exports:{}},s2;function bh(){return s2||(s2=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(r0)),r0.exports}var o2;function xz(){return o2||(o2=1,function(t){var e=bh().default;function n(){t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(T,M,I){T[M]=I.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function y(T,M,I){return Object.defineProperty(T,M,{value:I,enumerable:!0,configurable:!0,writable:!0}),T[M]}try{y({},"")}catch{y=function(I,f,L){return I[f]=L}}function _(T,M,I,f){var L=M&&M.prototype instanceof P?M:P,W=Object.create(L.prototype),X=new O(f||[]);return a(W,"_invoke",{value:U(T,I,X)}),W}function S(T,M,I){try{return{type:"normal",arg:T.call(M,I)}}catch(f){return{type:"throw",arg:f}}}i.wrap=_;var x="suspendedStart",A="suspendedYield",w="executing",b="completed",m={};function P(){}function N(){}function D(){}var F={};y(F,u,function(){return this});var V=Object.getPrototypeOf,G=V&&V(V(C([])));G&&G!==s&&o.call(G,u)&&(F=G);var Y=D.prototype=P.prototype=Object.create(F);function Q(T){["next","throw","return"].forEach(function(M){y(T,M,function(I){return this._invoke(M,I)})})}function ce(T,M){function I(L,W,X,J){var oe=S(T[L],T,W);if(oe.type!=="throw"){var he=oe.arg,ge=he.value;return ge&&e(ge)=="object"&&o.call(ge,"__await")?M.resolve(ge.__await).then(function(qe){I("next",qe,X,J)},function(qe){I("throw",qe,X,J)}):M.resolve(ge).then(function(qe){he.value=qe,X(he)},function(qe){return I("throw",qe,X,J)})}J(oe.arg)}var f;a(this,"_invoke",{value:function(W,X){function J(){return new M(function(oe,he){I(W,X,oe,he)})}return f=f?f.then(J,J):J()}})}function U(T,M,I){var f=x;return function(L,W){if(f===w)throw new Error("Generator is already running");if(f===b){if(L==="throw")throw W;return{value:r,done:!0}}for(I.method=L,I.arg=W;;){var X=I.delegate;if(X){var J=h(X,I);if(J){if(J===m)continue;return J}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(f===x)throw f=b,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);f=w;var oe=S(T,M,I);if(oe.type==="normal"){if(f=I.done?b:A,oe.arg===m)continue;return{value:oe.arg,done:I.done}}oe.type==="throw"&&(f=b,I.method="throw",I.arg=oe.arg)}}}function h(T,M){var I=M.method,f=T.iterator[I];if(f===r)return M.delegate=null,I==="throw"&&T.iterator.return&&(M.method="return",M.arg=r,h(T,M),M.method==="throw")||I!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+I+"' method")),m;var L=S(f,T.iterator,M.arg);if(L.type==="throw")return M.method="throw",M.arg=L.arg,M.delegate=null,m;var W=L.arg;return W?W.done?(M[T.resultName]=W.value,M.next=T.nextLoc,M.method!=="return"&&(M.method="next",M.arg=r),M.delegate=null,m):W:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,m)}function v(T){var M={tryLoc:T[0]};1 in T&&(M.catchLoc=T[1]),2 in T&&(M.finallyLoc=T[2],M.afterLoc=T[3]),this.tryEntries.push(M)}function k(T){var M=T.completion||{};M.type="normal",delete M.arg,T.completion=M}function O(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(v,this),this.reset(!0)}function C(T){if(T||T===""){var M=T[u];if(M)return M.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var I=-1,f=function L(){for(;++I<T.length;)if(o.call(T,I))return L.value=T[I],L.done=!1,L;return L.value=r,L.done=!0,L};return f.next=f}}throw new TypeError(e(T)+" is not iterable")}return N.prototype=D,a(Y,"constructor",{value:D,configurable:!0}),a(D,"constructor",{value:N,configurable:!0}),N.displayName=y(D,d,"GeneratorFunction"),i.isGeneratorFunction=function(T){var M=typeof T=="function"&&T.constructor;return!!M&&(M===N||(M.displayName||M.name)==="GeneratorFunction")},i.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,D):(T.__proto__=D,y(T,d,"GeneratorFunction")),T.prototype=Object.create(Y),T},i.awrap=function(T){return{__await:T}},Q(ce.prototype),y(ce.prototype,c,function(){return this}),i.AsyncIterator=ce,i.async=function(T,M,I,f,L){L===void 0&&(L=Promise);var W=new ce(_(T,M,I,f),L);return i.isGeneratorFunction(M)?W:W.next().then(function(X){return X.done?X.value:W.next()})},Q(Y),y(Y,d,"Generator"),y(Y,u,function(){return this}),y(Y,"toString",function(){return"[object Generator]"}),i.keys=function(T){var M=Object(T),I=[];for(var f in M)I.push(f);return I.reverse(),function L(){for(;I.length;){var W=I.pop();if(W in M)return L.value=W,L.done=!1,L}return L.done=!0,L}},i.values=C,O.prototype={constructor:O,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!M)for(var I in this)I.charAt(0)==="t"&&o.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=r)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var I=this;function f(he,ge){return X.type="throw",X.arg=M,I.next=he,ge&&(I.method="next",I.arg=r),!!ge}for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L],X=W.completion;if(W.tryLoc==="root")return f("end");if(W.tryLoc<=this.prev){var J=o.call(W,"catchLoc"),oe=o.call(W,"finallyLoc");if(J&&oe){if(this.prev<W.catchLoc)return f(W.catchLoc,!0);if(this.prev<W.finallyLoc)return f(W.finallyLoc)}else if(J){if(this.prev<W.catchLoc)return f(W.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return f(W.finallyLoc)}}}},abrupt:function(M,I){for(var f=this.tryEntries.length-1;f>=0;--f){var L=this.tryEntries[f];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var W=L;break}}W&&(M==="break"||M==="continue")&&W.tryLoc<=I&&I<=W.finallyLoc&&(W=null);var X=W?W.completion:{};return X.type=M,X.arg=I,W?(this.method="next",this.next=W.finallyLoc,m):this.complete(X)},complete:function(M,I){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&I&&(this.next=I),m},finish:function(M){for(var I=this.tryEntries.length-1;I>=0;--I){var f=this.tryEntries[I];if(f.finallyLoc===M)return this.complete(f.completion,f.afterLoc),k(f),m}},catch:function(M){for(var I=this.tryEntries.length-1;I>=0;--I){var f=this.tryEntries[I];if(f.tryLoc===M){var L=f.completion;if(L.type==="throw"){var W=L.arg;k(f)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(M,I,f){return this.delegate={iterator:C(M),resultName:I,nextLoc:f},this.method==="next"&&(this.arg=r),m}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(n0)),n0.exports}var i0,a2;function Ez(){if(a2)return i0;a2=1;var t=xz()();i0=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return i0}var s0={exports:{}},l2;function bz(){return l2||(l2=1,function(t){function e(r,i,s,o,a,l,u){try{var c=r[l](u),d=c.value}catch(y){s(y);return}c.done?i(d):Promise.resolve(d).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var l=r.apply(i,s);function u(d){e(l,o,a,u,c,"next",d)}function c(d){e(l,o,a,u,c,"throw",d)}u(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(s0)),s0.exports}var o0={exports:{}},u2;function C4(){return u2||(u2=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(o0)),o0.exports}var a0={exports:{}},l0={exports:{}},u0={exports:{}},c2;function Sz(){return c2||(c2=1,function(t){var e=bh().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(u0)),u0.exports}var h2;function Iz(){return h2||(h2=1,function(t){var e=bh().default,n=Sz();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(l0)),l0.exports}var d2;function R4(){return d2||(d2=1,function(t){var e=Iz();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(a0)),a0.exports}var c0={exports:{}},h0={exports:{}},f2;function Az(){return f2||(f2=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(h0)),h0.exports}var p2;function P4(){return p2||(p2=1,function(t){var e=Az();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(c0)),c0.exports}var d0={exports:{}},f0={exports:{}},g2;function Tz(){return g2||(g2=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(f0)),f0.exports}var m2;function N4(){return m2||(m2=1,function(t){var e=bh().default,n=Tz();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(d0)),d0.exports}var p0={exports:{}},y2;function M4(){return y2||(y2=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(p0)),p0.exports}var g0={exports:{}},v2;function L4(){return v2||(v2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,y){if(typeof c!="function")throw new TypeError("The listener must be a function");var _=new i(c,d||l,y),S=n?n+u:u;return l._events[S]?l._events[S].fn?l._events[S]=[l._events[S],_]:l._events[S].push(_):(l._events[S]=_,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var y=0,_=d.length,S=new Array(_);y<_;y++)S[y]=d[y].fn;return S},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,y,_,S){var x=n?n+u:u;if(!this._events[x])return!1;var A=this._events[x],w=arguments.length,b,m;if(A.fn){switch(A.once&&this.removeListener(u,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,c),!0;case 3:return A.fn.call(A.context,c,d),!0;case 4:return A.fn.call(A.context,c,d,y),!0;case 5:return A.fn.call(A.context,c,d,y,_),!0;case 6:return A.fn.call(A.context,c,d,y,_,S),!0}for(m=1,b=new Array(w-1);m<w;m++)b[m-1]=arguments[m];A.fn.apply(A.context,b)}else{var P=A.length,N;for(m=0;m<P;m++)switch(A[m].once&&this.removeListener(u,A[m].fn,void 0,!0),w){case 1:A[m].fn.call(A[m].context);break;case 2:A[m].fn.call(A[m].context,c);break;case 3:A[m].fn.call(A[m].context,c,d);break;case 4:A[m].fn.call(A[m].context,c,d,y);break;default:if(!b)for(N=1,b=new Array(w-1);N<w;N++)b[N-1]=arguments[N];A[m].fn.apply(A[m].context,b)}}return!0},a.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,y){var _=n?n+u:u;if(!this._events[_])return this;if(!c)return o(this,_),this;var S=this._events[_];if(S.fn)S.fn===c&&(!y||S.once)&&(!d||S.context===d)&&o(this,_);else{for(var x=0,A=[],w=S.length;x<w;x++)(S[x].fn!==c||y&&!S[x].once||d&&S[x].context!==d)&&A.push(S[x]);A.length?this._events[_]=A.length===1?A[0]:A:o(this,_)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(g0)),g0.exports}(function(t){var e=k4;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(Ez()),r=e(bz()),i=e(bh()),s=e(C4()),o=e(R4()),a=e(P4()),l=e(N4()),u=e(M4()),c=L4();function d(x){var A=y();return function(){var b=(0,u.default)(x),m;if(A){var P=(0,u.default)(this).constructor;m=Reflect.construct(b,arguments,P)}else m=b.apply(this,arguments);return(0,l.default)(this,m)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _=function(x,A){var w={};for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&A.indexOf(b)<0&&(w[b]=x[b]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,b=Object.getOwnPropertySymbols(x);m<b.length;m++)A.indexOf(b[m])<0&&Object.prototype.propertyIsEnumerable.call(x,b[m])&&(w[b[m]]=x[b[m]]);return w},S=function(x){(0,a.default)(w,x);var A=d(w);function w(b){var m,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,w);var F=N.autoconnect,V=F===void 0?!0:F,G=N.reconnect,Y=G===void 0?!0:G,Q=N.reconnect_interval,ce=Q===void 0?1e3:Q,U=N.max_reconnects,h=U===void 0?5:U,v=_(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return m=A.call(this),m.webSocketFactory=b,m.queue={},m.rpc_id=0,m.address=P,m.autoconnect=V,m.ready=!1,m.reconnect=Y,m.reconnect_timer_id=void 0,m.reconnect_interval=ce,m.max_reconnects=h,m.rest_options=v,m.current_reconnects=0,m.generate_request_id=D||function(){return++m.rpc_id},m.autoconnect&&m._connect(m.address,Object.assign({autoconnect:m.autoconnect,reconnect:m.reconnect,reconnect_interval:m.reconnect_interval,max_reconnects:m.max_reconnects},m.rest_options)),m}return(0,o.default)(w,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(m,P,N,D){var F=this;return!D&&(0,i.default)(N)==="object"&&(D=N,N=null),new Promise(function(V,G){if(!F.ready)return G(new Error("socket not ready"));var Y=F.generate_request_id(m,P),Q={jsonrpc:"2.0",method:m,params:P||null,id:Y};F.socket.send(JSON.stringify(Q),D,function(ce){if(ce)return G(ce);F.queue[Y]={promise:[V,G]},N&&(F.queue[Y].timeout=setTimeout(function(){delete F.queue[Y],G(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var b=(0,r.default)(n.default.mark(function P(N){var D;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,this.call("rpc.login",N);case 2:if(D=V.sent,D){V.next=5;break}throw new Error("authentication failed");case 5:return V.abrupt("return",D);case 6:case"end":return V.stop()}},P,this)}));function m(P){return b.apply(this,arguments)}return m}()},{key:"listMethods",value:function(){var b=(0,r.default)(n.default.mark(function P(){return n.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,this.call("__listMethods");case 2:return D.abrupt("return",D.sent);case 3:case"end":return D.stop()}},P,this)}));function m(){return b.apply(this,arguments)}return m}()},{key:"notify",value:function(m,P){var N=this;return new Promise(function(D,F){if(!N.ready)return F(new Error("socket not ready"));var V={jsonrpc:"2.0",method:m,params:P||null};N.socket.send(JSON.stringify(V),function(G){if(G)return F(G);D()})})}},{key:"subscribe",value:function(){var b=(0,r.default)(n.default.mark(function P(N){var D;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.on",N);case 3:if(D=V.sent,!(typeof N=="string"&&D[N]!=="ok")){V.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+D[N]);case 6:return V.abrupt("return",D);case 7:case"end":return V.stop()}},P,this)}));function m(P){return b.apply(this,arguments)}return m}()},{key:"unsubscribe",value:function(){var b=(0,r.default)(n.default.mark(function P(N){var D;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.off",N);case 3:if(D=V.sent,!(typeof N=="string"&&D[N]!=="ok")){V.next=6;break}throw new Error("Failed unsubscribing from an event with: "+D);case 6:return V.abrupt("return",D);case 7:case"end":return V.stop()}},P,this)}));function m(P){return b.apply(this,arguments)}return m}()},{key:"close",value:function(m,P){this.socket.close(m||1e3,P)}},{key:"_connect",value:function(m,P){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(m,P),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(D){var F=D.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&N.listeners(F.notification).length){if(!Object.keys(F.params).length)return N.emit(F.notification);var V=[F.notification];if(F.params.constructor===Object)V.push(F.params);else for(var G=0;G<F.params.length;G++)V.push(F.params[G]);return Promise.resolve().then(function(){N.emit.apply(N,V)})}if(!N.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){N.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&N.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[F.id].timeout&&clearTimeout(N.queue[F.id].timeout),F.error?N.queue[F.id].promise[1](F.error):N.queue[F.id].promise[0](F.result),delete N.queue[F.id]}),this.socket.addEventListener("error",function(D){return N.emit("error",D)}),this.socket.addEventListener("close",function(D){var F=D.code,V=D.reason;N.ready&&setTimeout(function(){return N.emit("close",F,V)},0),N.ready=!1,N.socket=void 0,F!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(m,P)},N.reconnect_interval)))})}}]),w}(c.EventEmitter);t.default=S})(A4);const kz=ia(A4);var O4={};(function(t){var e=k4;Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=e(C4()),r=e(R4()),i=e(P4()),s=e(N4()),o=e(M4()),a=L4();function l(y){var _=u();return function(){var x=(0,o.default)(y),A;if(_){var w=(0,o.default)(this).constructor;A=Reflect.construct(x,arguments,w)}else A=x.apply(this,arguments);return(0,s.default)(this,A)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var c=function(y){(0,i.default)(S,y);var _=l(S);function S(x,A,w){var b;return(0,n.default)(this,S),b=_.call(this),b.socket=new window.WebSocket(x,w),b.socket.onopen=function(){return b.emit("open")},b.socket.onmessage=function(m){return b.emit("message",m.data)},b.socket.onerror=function(m){return b.emit("error",m)},b.socket.onclose=function(m){b.emit("close",m.code,m.reason)},b}return(0,r.default)(S,[{key:"send",value:function(A,w,b){var m=b||w;try{this.socket.send(A),m()}catch(P){m(P)}}},{key:"close",value:function(A,w){this.socket.close(A,w)}},{key:"addEventListener",value:function(A,w,b){this.socket.addEventListener(A,w,b)}}]),S}(a.EventEmitter);function d(y,_){return new c(y,_)}})(O4);const Cz=ia(O4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rz(t){const e=rw(t);tu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Pz,hexToBytes:Nz}=k$,Po={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Po;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Pz(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Po,n=typeof t=="string"?Nz(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Po._parseInt(n.subarray(2)),{d:o,l:a}=Po._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},qi=BigInt(0),Mr=BigInt(1);BigInt(2);const _2=BigInt(3);BigInt(4);function Mz(t){const e=Rz(t),{Fp:n}=e,r=e.toBytes||((S,x,A)=>{const w=x.toAffine();return ra(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(S=>{const x=S.subarray(1),A=n.fromBytes(x.subarray(0,n.BYTES)),w=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:A,y:w}});function s(S){const{a:x,b:A}=e,w=n.sqr(S),b=n.mul(w,S);return n.add(n.add(b,n.mul(S,x)),A)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(S){return typeof S=="bigint"&&qi<S&&S<e.n}function a(S){if(!o(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(S){const{allowedPrivateKeyLengths:x,nByteLength:A,wrapPrivateKey:w,n:b}=e;if(x&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=na(S)),typeof S!="string"||!x.includes(S.length))throw new Error("Invalid key");S=S.padStart(A*2,"0")}let m;try{m=typeof S=="bigint"?S:Vo(an("private key",S,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof S}`)}return w&&(m=mt(m,b)),a(m),m}const u=new Map;function c(S){if(!(S instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(x,A,w){if(this.px=x,this.py=A,this.pz=w,x==null||!n.isValid(x))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(x){const{x:A,y:w}=x||{};if(!x||!n.isValid(A)||!n.isValid(w))throw new Error("invalid affine point");if(x instanceof d)throw new Error("projective point not allowed");const b=m=>n.eql(m,n.ZERO);return b(A)&&b(w)?d.ZERO:new d(A,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const A=n.invertBatch(x.map(w=>w.pz));return x.map((w,b)=>w.toAffine(A[b])).map(d.fromAffine)}static fromHex(x){const A=d.fromAffine(i(an("pointHex",x)));return A.assertValidity(),A}static fromPrivateKey(x){return d.BASE.multiply(l(x))}_setWindowSize(x){this._WINDOW_SIZE=x,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:A}=this.toAffine();if(!n.isValid(x)||!n.isValid(A))throw new Error("bad point: x or y not FE");const w=n.sqr(A),b=s(x);if(!n.eql(w,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){c(x);const{px:A,py:w,pz:b}=this,{px:m,py:P,pz:N}=x,D=n.eql(n.mul(A,N),n.mul(m,b)),F=n.eql(n.mul(w,N),n.mul(P,b));return D&&F}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:A}=e,w=n.mul(A,_2),{px:b,py:m,pz:P}=this;let N=n.ZERO,D=n.ZERO,F=n.ZERO,V=n.mul(b,b),G=n.mul(m,m),Y=n.mul(P,P),Q=n.mul(b,m);return Q=n.add(Q,Q),F=n.mul(b,P),F=n.add(F,F),N=n.mul(x,F),D=n.mul(w,Y),D=n.add(N,D),N=n.sub(G,D),D=n.add(G,D),D=n.mul(N,D),N=n.mul(Q,N),F=n.mul(w,F),Y=n.mul(x,Y),Q=n.sub(V,Y),Q=n.mul(x,Q),Q=n.add(Q,F),F=n.add(V,V),V=n.add(F,V),V=n.add(V,Y),V=n.mul(V,Q),D=n.add(D,V),Y=n.mul(m,P),Y=n.add(Y,Y),V=n.mul(Y,Q),N=n.sub(N,V),F=n.mul(Y,G),F=n.add(F,F),F=n.add(F,F),new d(N,D,F)}add(x){c(x);const{px:A,py:w,pz:b}=this,{px:m,py:P,pz:N}=x;let D=n.ZERO,F=n.ZERO,V=n.ZERO;const G=e.a,Y=n.mul(e.b,_2);let Q=n.mul(A,m),ce=n.mul(w,P),U=n.mul(b,N),h=n.add(A,w),v=n.add(m,P);h=n.mul(h,v),v=n.add(Q,ce),h=n.sub(h,v),v=n.add(A,b);let k=n.add(m,N);return v=n.mul(v,k),k=n.add(Q,U),v=n.sub(v,k),k=n.add(w,b),D=n.add(P,N),k=n.mul(k,D),D=n.add(ce,U),k=n.sub(k,D),V=n.mul(G,v),D=n.mul(Y,U),V=n.add(D,V),D=n.sub(ce,V),V=n.add(ce,V),F=n.mul(D,V),ce=n.add(Q,Q),ce=n.add(ce,Q),U=n.mul(G,U),v=n.mul(Y,v),ce=n.add(ce,U),U=n.sub(Q,U),U=n.mul(G,U),v=n.add(v,U),Q=n.mul(ce,v),F=n.add(F,Q),Q=n.mul(k,v),D=n.mul(h,D),D=n.sub(D,Q),Q=n.mul(h,ce),V=n.mul(k,V),V=n.add(V,Q),new d(D,F,V)}subtract(x){return this.add(x.negate())}is0(){return this.equals(d.ZERO)}wNAF(x){return _.wNAFCached(this,u,x,A=>{const w=n.invertBatch(A.map(b=>b.pz));return A.map((b,m)=>b.toAffine(w[m])).map(d.fromAffine)})}multiplyUnsafe(x){const A=d.ZERO;if(x===qi)return A;if(a(x),x===Mr)return this;const{endo:w}=e;if(!w)return _.unsafeLadder(this,x);let{k1neg:b,k1:m,k2neg:P,k2:N}=w.splitScalar(x),D=A,F=A,V=this;for(;m>qi||N>qi;)m&Mr&&(D=D.add(V)),N&Mr&&(F=F.add(V)),V=V.double(),m>>=Mr,N>>=Mr;return b&&(D=D.negate()),P&&(F=F.negate()),F=new d(n.mul(F.px,w.beta),F.py,F.pz),D.add(F)}multiply(x){a(x);let A=x,w,b;const{endo:m}=e;if(m){const{k1neg:P,k1:N,k2neg:D,k2:F}=m.splitScalar(A);let{p:V,f:G}=this.wNAF(N),{p:Y,f:Q}=this.wNAF(F);V=_.constTimeNegate(P,V),Y=_.constTimeNegate(D,Y),Y=new d(n.mul(Y.px,m.beta),Y.py,Y.pz),w=V.add(Y),b=G.add(Q)}else{const{p:P,f:N}=this.wNAF(A);w=P,b=N}return d.normalizeZ([w,b])[0]}multiplyAndAddUnsafe(x,A,w){const b=d.BASE,m=(N,D)=>D===qi||D===Mr||!N.equals(b)?N.multiplyUnsafe(D):N.multiply(D),P=m(this,A).add(m(x,w));return P.is0()?void 0:P}toAffine(x){const{px:A,py:w,pz:b}=this,m=this.is0();x==null&&(x=m?n.ONE:n.inv(b));const P=n.mul(A,x),N=n.mul(w,x),D=n.mul(b,x);if(m)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:P,y:N}}isTorsionFree(){const{h:x,isTorsionFree:A}=e;if(x===Mr)return!0;if(A)return A(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:A}=e;return x===Mr?this:A?A(d,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),r(d,this,x)}toHex(x=!0){return na(this.toRawBytes(x))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,_=HR(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Lz(t){const e=rw(t);return tu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Oz(t){const e=Lz(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(v){return qi<v&&v<n.ORDER}function a(v){return mt(v,r)}function l(v){return lv(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:y}=Mz({...e,toBytes(v,k,O){const C=k.toAffine(),T=n.toBytes(C.x),M=ra;return O?M(Uint8Array.from([k.hasEvenY()?2:3]),T):M(Uint8Array.from([4]),T,n.toBytes(C.y))},fromBytes(v){const k=v.length,O=v[0],C=v.subarray(1);if(k===i&&(O===2||O===3)){const T=Vo(C);if(!o(T))throw new Error("Point is not on curve");const M=d(T);let I=n.sqrt(M);const f=(I&Mr)===Mr;return(O&1)===1!==f&&(I=n.neg(I)),{x:T,y:I}}else if(k===s&&O===4){const T=n.fromBytes(C.subarray(0,n.BYTES)),M=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:T,y:M}}else throw new Error(`Point of length ${k} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),_=v=>na(Ml(v,e.nByteLength));function S(v){const k=r>>Mr;return v>k}function x(v){return S(v)?a(-v):v}const A=(v,k,O)=>Vo(v.slice(k,O));class w{constructor(k,O,C){this.r=k,this.s=O,this.recovery=C,this.assertValidity()}static fromCompact(k){const O=e.nByteLength;return k=an("compactSignature",k,O*2),new w(A(k,0,O),A(k,O,2*O))}static fromDER(k){const{r:O,s:C}=Po.toSig(an("DER",k));return new w(O,C)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new w(this.r,this.s,k)}recoverPublicKey(k){const{r:O,s:C,recovery:T}=this,M=F(an("msgHash",k));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");const I=T===2||T===3?O+e.n:O;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=T&1?"03":"02",L=u.fromHex(f+_(I)),W=l(I),X=a(-M*W),J=a(C*W),oe=u.BASE.multiplyAndAddUnsafe(L,X,J);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Nl(this.toDERHex())}toDERHex(){return Po.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nl(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const b={isValidPrivateKey(v){try{return c(v),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const v=zR(e.n);return F$(e.randomBytes(v),e.n)},precompute(v=8,k=u.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}};function m(v,k=!0){return u.fromPrivateKey(v).toRawBytes(k)}function P(v){const k=v instanceof Uint8Array,O=typeof v=="string",C=(k||O)&&v.length;return k?C===i||C===s:O?C===2*i||C===2*s:v instanceof u}function N(v,k,O=!0){if(P(v))throw new Error("first arg must be private key");if(!P(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(c(v)).toRawBytes(O)}const D=e.bits2int||function(v){const k=Vo(v),O=v.length*8-e.nBitLength;return O>0?k>>BigInt(O):k},F=e.bits2int_modN||function(v){return a(D(v))},V=nw(e.nBitLength);function G(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(qi<=v&&v<V))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ml(v,e.nByteLength)}function Y(v,k,O=Q){if(["recovered","canonical"].some(ge=>ge in O))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:T}=e;let{lowS:M,prehash:I,extraEntropy:f}=O;M==null&&(M=!0),v=an("msgHash",v),I&&(v=an("prehashed msgHash",C(v)));const L=F(v),W=c(k),X=[G(W),G(L)];if(f!=null){const ge=f===!0?T(n.BYTES):f;X.push(an("extraEntropy",ge))}const J=ra(...X),oe=L;function he(ge){const qe=D(ge);if(!y(qe))return;const Te=l(qe),Me=u.BASE.multiply(qe).toAffine(),je=a(Me.x);if(je===qi)return;const Oe=a(Te*a(oe+je*W));if(Oe===qi)return;let Ge=(Me.x===je?0:2)|Number(Me.y&Mr),fr=Oe;return M&&S(Oe)&&(fr=x(Oe),Ge^=1),new w(je,fr,Ge)}return{seed:J,k2sig:he}}const Q={lowS:e.lowS,prehash:!1},ce={lowS:e.lowS,prehash:!1};function U(v,k,O=Q){const{seed:C,k2sig:T}=Y(v,k,O),M=e;return FR(M.hash.outputLen,M.nByteLength,M.hmac)(C,T)}u.BASE._setWindowSize(8);function h(v,k,O,C=ce){var Me;const T=v;if(k=an("msgHash",k),O=an("publicKey",O),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:M,prehash:I}=C;let f,L;try{if(typeof T=="string"||T instanceof Uint8Array)try{f=w.fromDER(T)}catch(je){if(!(je instanceof Po.Err))throw je;f=w.fromCompact(T)}else if(typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint"){const{r:je,s:Oe}=T;f=new w(je,Oe)}else throw new Error("PARSE");L=u.fromHex(O)}catch(je){if(je.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&f.hasHighS())return!1;I&&(k=e.hash(k));const{r:W,s:X}=f,J=F(k),oe=l(X),he=a(J*oe),ge=a(W*oe),qe=(Me=u.BASE.multiplyAndAddUnsafe(L,he,ge))==null?void 0:Me.toAffine();return qe?a(qe.x)===W:!1}return{CURVE:e,getPublicKey:m,getSharedSecret:N,sign:U,verify:h,ProjectivePoint:u,Signature:w,utils:b}}class D4 extends PR{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HV(e);const r=ew(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Df(this),this.iHash.update(e),this}digestInto(e){Df(this),TR(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const B4=(t,e,n)=>new D4(t,e).update(n).digest();B4.create=(t,e)=>new D4(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dz(t){return{hash:t,hmac:(e,...n)=>B4(t,e,RR(...n)),randomBytes:MR}}function Bz(t,e){const n=r=>Oz({...t,...Dz(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const U4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),w2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Uz=BigInt(1),fv=BigInt(2),x2=(t,e)=>(t+e/fv)/e;function Fz(t){const e=U4,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,d=It(c,n,e)*c%e,y=It(d,n,e)*c%e,_=It(y,fv,e)*u%e,S=It(_,i,e)*_%e,x=It(S,s,e)*S%e,A=It(x,a,e)*x%e,w=It(A,l,e)*A%e,b=It(w,a,e)*x%e,m=It(b,n,e)*c%e,P=It(m,o,e)*S%e,N=It(P,r,e)*u%e,D=It(N,fv,e);if(!pv.eql(pv.sqr(D),t))throw new Error("Cannot find square root");return D}const pv=$R(U4,void 0,void 0,{sqrt:Fz}),ww=Bz({a:BigInt(0),b:BigInt(7),Fp:pv,n:w2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=w2,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Uz*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=x2(s*t,e),l=x2(-r*t,e);let u=mt(t-a*n-l*i,e),c=mt(-a*r-l*s,e);const d=u>o,y=c>o;if(d&&(u=e-u),y&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:y,k2:c}}}},hv);BigInt(0);ww.ProjectivePoint;nu.utils.randomPrivateKey;const E2=()=>{const t=nu.utils.randomPrivateKey(),e=gv(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},gv=nu.getPublicKey;function b2(t){try{return nu.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Vz=(t,e)=>nu.sign(t,e.slice(0,32)),$z=nu.verify,xn=t=>ke.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ke.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ke.Buffer.from(t);class jz{constructor(e){Object.assign(this,e)}encode(){return ke.Buffer.from(e4(Md,this))}static decode(e){return t4(Md,this,e)}static decodeUnchecked(e){return QR(Md,this,e)}}const Md=new Map;var F4;let V4;const zz=32,bi=32;function Hz(t){return t._bn!==void 0}let S2=1;V4=Symbol.toStringTag;class we extends jz{constructor(e){if(super({}),this._bn=void 0,Hz(e))this._bn=e._bn;else{if(typeof e=="string"){const n=In.decode(e);if(n.length!=bi)throw new Error("Invalid public key input");this._bn=new n2(n)}else this._bn=new n2(e);if(this._bn.byteLength()>bi)throw new Error("Invalid public key input")}}static unique(){const e=new we(S2);return S2+=1,new we(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return In.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ke.Buffer);if(e.length===bi)return e;const n=ke.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[V4](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ke.Buffer.concat([e.toBuffer(),ke.Buffer.from(n),r.toBuffer()]),s=hv(i);return new we(s)}static createProgramAddressSync(e,n){let r=ke.Buffer.alloc(0);e.forEach(function(s){if(s.length>zz)throw new TypeError("Max seed length exceeded");r=ke.Buffer.concat([r,xn(s)])}),r=ke.Buffer.concat([r,n.toBuffer(),ke.Buffer.from("ProgramDerivedAddress")]);const i=hv(r);if(b2(i))throw new Error("Invalid seeds, address must fall off the curve");return new we(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(ke.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new we(e);return b2(n.toBytes())}}F4=we;we.default=new F4("11111111111111111111111111111111");Md.set(we,{kind:"struct",fields:[["_bn","u256"]]});new we("BPFLoader1111111111111111111111111111111111");const ol=1280-40-8,$4=127,mv=64;class j4 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(j4.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class z4 extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(z4.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Du extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Du.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class jf{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Ue=(t="publicKey")=>At(32,t),Ha=(t="string")=>{const e=ye([_e("length"),_e("lengthPadding"),At($o(_e(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:ke.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>_e().span+_e().span+ke.Buffer.from(s,"utf8").length,i},qz=(t="authorized")=>ye([Ue("staker"),Ue("withdrawer")],t),Wz=(t="lockup")=>ye([mr("unixTimestamp"),mr("epoch"),Ue("custodian")],t),Kz=(t="voteInit")=>ye([Ue("nodePubkey"),Ue("authorizedVoter"),Ue("authorizedWithdrawer"),Je("commission")],t),Gz=(t="voteAuthorizeWithSeedArgs")=>ye([_e("voteAuthorizationType"),Ue("currentAuthorityDerivedKeyOwnerPubkey"),Ha("currentAuthorityDerivedKeySeed"),Ue("newAuthorized")],t);function H4(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return H4({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Or(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Dr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Zt(t,e){if(!t)throw new Error(e||"Assertion failed")}class ug{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new ug(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Zt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Zt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Zt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new we(l)),...r.map(([l])=>new we(l)),...i.map(([l])=>new we(l)),...s.map(([l])=>new we(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new we(s),l=e.findIndex(u=>u.equals(a));l>=0&&(Zt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}class ro{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new we(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:In.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new jf(this.staticAccountKeys)}static compile(e){const n=ug.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new jf(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:In.encode(a.data)}));return new ro({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Dr(n,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:_}=d,S=Array.from(In.decode(d.data));let x=[];Dr(x,y.length);let A=[];return Dr(A,S.length),{programIdIndex:_,keyIndicesCount:ke.Buffer.from(x),keyIndices:y,dataLength:ke.Buffer.from(A),data:S}});let i=[];Dr(i,r.length);let s=ke.Buffer.alloc(ol);ke.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const _=ye([Je("programIdIndex"),At(d.keyIndicesCount.length,"keyIndicesCount"),Jn(Je("keyIndex"),d.keyIndices.length,"keyIndices"),At(d.dataLength.length,"dataLength"),Jn(Je("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=_}),s=s.slice(0,o);const a=ye([At(1,"numRequiredSignatures"),At(1,"numReadonlySignedAccounts"),At(1,"numReadonlyUnsignedAccounts"),At(n.length,"keyCount"),Jn(Ue("key"),e,"keys"),Ue("recentBlockhash")]),l={numRequiredSignatures:ke.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ke.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ke.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ke.Buffer.from(n),keys:this.accountKeys.map(d=>xn(d.toBytes())),recentBlockhash:In.decode(this.recentBlockhash)};let u=ke.Buffer.alloc(2048);const c=a.encode(l,u);return s.copy(u,c),u.slice(0,c+s.length)}static from(e){let n=[...e];const r=n.shift();if(r!==(r&$4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=n.shift(),s=n.shift(),o=Or(n);let a=[];for(let y=0;y<o;y++){const _=n.slice(0,bi);n=n.slice(bi),a.push(new we(ke.Buffer.from(_)))}const l=n.slice(0,bi);n=n.slice(bi);const u=Or(n);let c=[];for(let y=0;y<u;y++){const _=n.shift(),S=Or(n),x=n.slice(0,S);n=n.slice(S);const A=Or(n),w=n.slice(0,A),b=In.encode(ke.Buffer.from(w));n=n.slice(A),c.push({programIdIndex:_,accounts:x,data:b})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:In.encode(ke.Buffer.from(l)),accountKeys:a,instructions:c};return new ro(d)}}class zf{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new jf(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=ug.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const c of s){const d=n.extractTableLookup(c);if(d!==void 0){const[y,{writable:_,readonly:S}]=d;r.push(y),i.writable.push(..._),i.readonly.push(...S)}}const[o,a]=n.getMessageComponents(),u=new jf(a,i).compileInstructions(e.instructions);return new zf({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Dr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Dr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Dr(s,this.addressTableLookups.length);const o=ye([Je("prefix"),ye([Je("numRequiredSignatures"),Je("numReadonlySignedAccounts"),Je("numReadonlyUnsignedAccounts")],"header"),At(e.length,"staticAccountKeysLength"),Jn(Ue(),this.staticAccountKeys.length,"staticAccountKeys"),Ue("recentBlockhash"),At(r.length,"instructionsLength"),At(n.length,"serializedInstructions"),At(s.length,"addressTableLookupsLength"),At(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(ol),l=128,u=o.encode({prefix:l,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(c=>c.toBytes()),recentBlockhash:In.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const n=new Uint8Array(ol);for(const r of this.compiledInstructions){const i=Array();Dr(i,r.accountKeyIndexes.length);const s=Array();Dr(s,r.data.length);const o=ye([Je("programIdIndex"),At(i.length,"encodedAccountKeyIndexesLength"),Jn(Je(),r.accountKeyIndexes.length,"accountKeyIndexes"),At(s.length,"encodedDataLength"),At(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(ol);for(const r of this.addressTableLookups){const i=Array();Dr(i,r.writableIndexes.length);const s=Array();Dr(s,r.readonlyIndexes.length);const o=ye([Ue("accountKey"),At(i.length,"encodedWritableIndexesLength"),Jn(Je(),r.writableIndexes.length,"writableIndexes"),At(s.length,"encodedReadonlyIndexesLength"),Jn(Je(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=n.shift(),i=r&$4;Zt(r!==i,"Expected versioned message but received legacy message");const s=i;Zt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:n.shift(),numReadonlySignedAccounts:n.shift(),numReadonlyUnsignedAccounts:n.shift()},a=[],l=Or(n);for(let S=0;S<l;S++)a.push(new we(n.splice(0,bi)));const u=In.encode(n.splice(0,bi)),c=Or(n),d=[];for(let S=0;S<c;S++){const x=n.shift(),A=Or(n),w=n.splice(0,A),b=Or(n),m=new Uint8Array(n.splice(0,b));d.push({programIdIndex:x,accountKeyIndexes:w,data:m})}const y=Or(n),_=[];for(let S=0;S<y;S++){const x=new we(n.splice(0,bi)),A=Or(n),w=n.splice(0,A),b=Or(n),m=n.splice(0,b);_.push({accountKey:x,writableIndexes:w,readonlyIndexes:m})}return new zf({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:_})}}let Es=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Qz=ke.Buffer.alloc(mv).fill(0);class Yr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ke.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ei{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Yr(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];n.forEach(x=>{x.keys.forEach(w=>{s.push({...w})});const A=x.programId.toString();i.includes(A)||i.push(A)}),i.forEach(x=>{s.push({pubkey:new we(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const A=x.pubkey.toString(),w=o.findIndex(b=>b.pubkey.toString()===A);w>-1?(o[w].isWritable=o[w].isWritable||x.isWritable,o[w].isSigner=o[w].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,A){if(x.isSigner!==A.isSigner)return x.isSigner?-1:1;if(x.isWritable!==A.isWritable)return x.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(A.pubkey.toBase58(),"en",w)});const a=o.findIndex(x=>x.pubkey.equals(r));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const A=o.findIndex(w=>w.pubkey.equals(x.publicKey));if(A>-1)o[A].isSigner||(o[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let l=0,u=0,c=0;const d=[],y=[];o.forEach(({pubkey:x,isSigner:A,isWritable:w})=>{A?(d.push(x.toString()),l+=1,w||(u+=1)):(y.push(x.toString()),w||(c+=1))});const _=d.concat(y),S=n.map(x=>{const{data:A,programId:w}=x;return{programIdIndex:_.indexOf(w.toString()),accounts:x.keys.map(b=>_.indexOf(b.pubkey.toString())),data:In.encode(A)}});return S.forEach(x=>{Zt(x.programIdIndex>=0),x.accounts.forEach(A=>Zt(A>=0))}),new ro({header:{numRequiredSignatures:l,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:_,recentBlockhash:e,instructions:S})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=Vz(r,i.secretKey);this._addSignature(i.publicKey,xn(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Zt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=ke.Buffer.from(n)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,n){for(const{signature:r,publicKey:i}of this.signatures)if(r===null){if(n)return!1}else if(!$z(r,e,i.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r&&!this._verifySignatures(i,n))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Dr(r,n.length);const i=r.length+n.length*64+e.length,s=ke.Buffer.alloc(i);return Zt(n.length<256),ke.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Zt(o.length===64,"signature has invalid length"),ke.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Zt(s.length<=ol,`Transaction too large: ${s.length} > ${ol}`),s}get keys(){return Zt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Zt(this.instructions.length===1),this.instructions[0].programId}get data(){return Zt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Or(n);let i=[];for(let s=0;s<r;s++){const o=n.slice(0,mv);n=n.slice(mv),i.push(In.encode(ke.Buffer.from(o)))}return ei.populate(ro.from(n),i)}static populate(e,n=[]){const r=new ei;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==In.encode(Qz)?null:In.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Yr({keys:s,programId:e.accountKeys[i.programIdIndex],data:In.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}const Yz=160,Xz=64,Jz=Yz/Xz,Zz=1e3/Jz;new we("SysvarC1ock11111111111111111111111111111111");new we("SysvarEpochSchedu1e111111111111111111111111");new we("Sysvar1nstructions1111111111111111111111111");const m0=new we("SysvarRecentB1ockHashes11111111111111111111"),I2=new we("SysvarRent111111111111111111111111111111111");new we("SysvarRewards111111111111111111111111111111");new we("SysvarS1otHashes111111111111111111111111111");new we("SysvarS1otHistory11111111111111111111111111");new we("SysvarStakeHistory1111111111111111111111111");function ka(t){return new Promise(e=>setTimeout(e,t))}function Rr(t,e){const n=t.layout.span>=0?t.layout.span:H4(t,e),r=ke.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const eH=_n("lamportsPerSignature"),q4=ye([_e("version"),_e("state"),Ue("authorizedPubkey"),Ue("nonce"),ye([eH],"feeCalculator")]),A2=q4.span;class xw{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=q4.decode(xn(e),0);return new xw({authorizedPubkey:new we(n.authorizedPubkey),nonce:new we(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const tH=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},nH=t=>e=>{const n=At(t,e),{encode:r,decode:i}=tH(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return Lj(ke.Buffer.from(l))},s.encode=(o,a,l)=>{const u=Bj(o,t);return r(u,a,l)},s},Ol=nH(8),Pr=Object.freeze({Create:{index:0,layout:ye([_e("instruction"),mr("lamports"),mr("space"),Ue("programId")])},Assign:{index:1,layout:ye([_e("instruction"),Ue("programId")])},Transfer:{index:2,layout:ye([_e("instruction"),Ol("lamports")])},CreateWithSeed:{index:3,layout:ye([_e("instruction"),Ue("base"),Ha("seed"),mr("lamports"),mr("space"),Ue("programId")])},AdvanceNonceAccount:{index:4,layout:ye([_e("instruction")])},WithdrawNonceAccount:{index:5,layout:ye([_e("instruction"),mr("lamports")])},InitializeNonceAccount:{index:6,layout:ye([_e("instruction"),Ue("authorized")])},AuthorizeNonceAccount:{index:7,layout:ye([_e("instruction"),Ue("authorized")])},Allocate:{index:8,layout:ye([_e("instruction"),mr("space")])},AllocateWithSeed:{index:9,layout:ye([_e("instruction"),Ue("base"),Ha("seed"),mr("space"),Ue("programId")])},AssignWithSeed:{index:10,layout:ye([_e("instruction"),Ue("base"),Ha("seed"),Ue("programId")])},TransferWithSeed:{index:11,layout:ye([_e("instruction"),Ol("lamports"),Ha("seed"),Ue("programId")])},UpgradeNonceAccount:{index:12,layout:ye([_e("instruction")])}});class Dl{constructor(){}static createAccount(e){const n=Pr.Create,r=Rr(n,{lamports:e.lamports,space:e.space,programId:xn(e.programId.toBuffer())});return new Yr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Pr.TransferWithSeed;n=Rr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Pr.Transfer;n=Rr(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Yr({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Pr.AssignWithSeed;n=Rr(i,{base:xn(e.basePubkey.toBuffer()),seed:e.seed,programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Pr.Assign;n=Rr(i,{programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Yr({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Pr.CreateWithSeed,r=Rr(n,{base:xn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:xn(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Yr({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new ei;"basePubkey"in e&&"seed"in e?n.add(Dl.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:A2,programId:this.programId})):n.add(Dl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:A2,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Pr.InitializeNonceAccount,r=Rr(n,{authorized:xn(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:m0,isSigner:!1,isWritable:!1},{pubkey:I2,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Yr(i)}static nonceAdvance(e){const n=Pr.AdvanceNonceAccount,r=Rr(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:m0,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Yr(i)}static nonceWithdraw(e){const n=Pr.WithdrawNonceAccount,r=Rr(n,{lamports:e.lamports});return new Yr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:m0,isSigner:!1,isWritable:!1},{pubkey:I2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Pr.AuthorizeNonceAccount,r=Rr(n,{authorized:xn(e.newAuthorizedPubkey.toBuffer())});return new Yr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Pr.AllocateWithSeed;n=Rr(i,{base:xn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Pr.Allocate;n=Rr(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Yr({keys:r,programId:this.programId,data:n})}}Dl.programId=new we("11111111111111111111111111111111");new we("BPFLoader2111111111111111111111111111111111");function rH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iH=Object.prototype.toString,sH=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function Bu(t,e){var n,r,i,s,o,a,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return Bu(t.toJSON(),e);if(l=iH.call(t),l==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=Bu(t[n],!0)+",";return r>-1&&(i+=Bu(t[n],!0)),i+"]"}else if(l==="[object Object]"){for(s=sH(t).sort(),r=s.length,i="",n=0;n<r;)o=s[n],a=Bu(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var oH=function(t){var e=Bu(t,!1);if(e!==void 0)return""+e},T2=rH(oH);const Eu=32;function y0(t){let e=0;for(;t>1;)t/=2,e++;return e}function aH(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class lH{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=y0(aH(e+Eu+1))-y0(Eu)-1,r=this.getSlotsInEpoch(n),i=e-(r-Eu);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Eu:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+y0(Eu)):this.slotsPerEpoch}}class k2 extends Error{constructor(e,n){super(e),this.logs=void 0,this.logs=n}}class me extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var uH=globalThis.fetch;class cH extends kz{constructor(e,n,r){const i=s=>{const o=Cz(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function hH(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const C2=56;class R2{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=hH(dH,e),r=e.length-C2;Zt(r>=0,"lookup table is invalid"),Zt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=ye([Jn(Ue(),i,"addresses")]).decode(e.slice(C2));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new we(n.authority[0]):void 0,addresses:s.map(o=>new we(o))}}}const dH={index:1,layout:ye([_e("typeIndex"),Ol("deactivationSlot"),_n("lastExtendedSlot"),Je("lastExtendedStartIndex"),Je(),Jn(Ue(),$o(Je(),-1),"authority")])},fH=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function pH(t){const e=t.match(fH);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const rn=Eh(vw(we),ie(),t=>new we(t)),W4=_w([ie(),_t("base64")]),Ew=Eh(vw(ke.Buffer),W4,t=>ke.Buffer.from(t[0],"base64")),gH=30*1e3;function mH(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function gt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function K4(t){return dr([te({jsonrpc:_t("2.0"),id:ie(),result:t}),te({jsonrpc:_t("2.0"),id:ie(),error:te({code:xh(),message:ie(),data:xe(qj())})})])}const yH=K4(xh());function Be(t){return Eh(K4(t),yH,e=>"error"in e?e:{...e,result:se(e.result,t)})}function Tt(t){return Be(te({context:te({slot:H()}),value:t}))}function cg(t){return te({context:te({slot:H()}),value:t})}function v0(t,e){return t===0?new zf({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new we(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:In.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ro(e)}const vH=te({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),_H=Be(le(ue(te({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:xe(ue(H()))})))),wH=le(te({slot:H(),prioritizationFee:H()})),xH=te({total:H(),validator:H(),foundation:H(),epoch:H()}),EH=te({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:xe(H()),transactionCount:xe(H())}),bH=te({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:Di(),firstNormalEpoch:H(),firstNormalSlot:H()}),SH=w4(ie(),le(H())),va=ue(dr([te({}),ie()])),IH=te({err:va}),AH=_t("receivedSignature"),TH=te({"solana-core":ie(),"feature-set":xe(H())}),P2=Tt(te({err:ue(dr([te({}),ie()])),logs:ue(le(ie())),accounts:xe(ue(le(ue(te({executable:Di(),owner:ie(),lamports:H(),data:le(ie()),rentEpoch:xe(H())}))))),unitsConsumed:xe(H()),returnData:xe(ue(te({programId:ie(),data:_w([ie(),_t("base64")])})))})),kH=Tt(te({byIdentity:w4(ie(),le(H())),range:te({firstSlot:H(),lastSlot:H()})}));function CH(t,e,n,r,i,s){const o=n||uH;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(c,d)=>{const y=await new Promise((_,S)=>{try{r(c,d,(x,A)=>_([x,A]))}catch(x){S(x)}});return await o(...y)}),new wz(async(c,d)=>{const y={method:"POST",body:c,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Rq)};try{let _=5,S,x=500;for(;l?S=await l(t,y):S=await o(t,y),!(S.status!==429||i===!0||(_-=1,_===0));)console.log(`Server responded with ${S.status} ${S.statusText}.  Retrying after ${x}ms delay...`),await ka(x),x*=2;const A=await S.text();S.ok?d(null,A):d(new Error(`${S.status} ${S.statusText}: ${A}`))}catch(_){_ instanceof Error&&d(_)}},{})}function RH(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function PH(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const NH=Be(vH),MH=Be(xH),LH=Be(wH),OH=Be(EH),DH=Be(bH),BH=Be(SH),UH=Be(H()),FH=Tt(te({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:le(rn)})),yv=te({amount:ie(),uiAmount:ue(H()),decimals:H(),uiAmountString:xe(ie())}),VH=Tt(le(te({address:rn,amount:ie(),uiAmount:ue(H()),decimals:H(),uiAmountString:xe(ie())}))),$H=Tt(le(te({pubkey:rn,account:te({executable:Di(),owner:rn,lamports:H(),data:Ew,rentEpoch:H()})}))),vv=te({program:ie(),parsed:xh(),space:H()}),jH=Tt(le(te({pubkey:rn,account:te({executable:Di(),owner:rn,lamports:H(),data:vv,rentEpoch:H()})}))),zH=Tt(le(te({lamports:H(),address:rn}))),Hc=te({executable:Di(),owner:rn,lamports:H(),data:Ew,rentEpoch:H()}),HH=te({pubkey:rn,account:Hc}),qH=Eh(dr([vw(ke.Buffer),vv]),dr([W4,vv]),t=>Array.isArray(t)?se(t,Ew):t),_v=te({executable:Di(),owner:rn,lamports:H(),data:qH,rentEpoch:H()}),WH=te({pubkey:rn,account:_v}),KH=te({state:dr([_t("active"),_t("inactive"),_t("activating"),_t("deactivating")]),active:H(),inactive:H()}),GH=Be(le(te({signature:ie(),slot:H(),err:va,memo:ue(ie()),blockTime:xe(ue(H()))}))),QH=Be(le(te({signature:ie(),slot:H(),err:va,memo:ue(ie()),blockTime:xe(ue(H()))}))),YH=te({subscription:H(),result:cg(Hc)}),XH=te({pubkey:rn,account:Hc}),JH=te({subscription:H(),result:cg(XH)}),ZH=te({parent:H(),slot:H(),root:H()}),eq=te({subscription:H(),result:ZH}),tq=dr([te({type:dr([_t("firstShredReceived"),_t("completed"),_t("optimisticConfirmation"),_t("root")]),slot:H(),timestamp:H()}),te({type:_t("createdBank"),parent:H(),slot:H(),timestamp:H()}),te({type:_t("frozen"),slot:H(),timestamp:H(),stats:te({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),te({type:_t("dead"),slot:H(),timestamp:H(),err:ie()})]),nq=te({subscription:H(),result:tq}),rq=te({subscription:H(),result:cg(dr([IH,AH]))}),iq=te({subscription:H(),result:H()}),sq=te({pubkey:ie(),gossip:ue(ie()),tpu:ue(ie()),rpc:ue(ie()),version:ue(ie())}),N2=te({votePubkey:ie(),nodePubkey:ie(),activatedStake:H(),epochVoteAccount:Di(),epochCredits:le(_w([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ue(H())}),oq=Be(te({current:le(N2),delinquent:le(N2)})),aq=dr([_t("processed"),_t("confirmed"),_t("finalized")]),lq=te({slot:H(),confirmations:ue(H()),err:va,confirmationStatus:xe(aq)}),uq=Tt(le(ue(lq))),cq=Be(H()),G4=te({accountKey:rn,writableIndexes:le(H()),readonlyIndexes:le(H())}),bw=te({signatures:le(ie()),message:te({accountKeys:le(ie()),header:te({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:le(te({accounts:le(H()),data:ie(),programIdIndex:H()})),recentBlockhash:ie(),addressTableLookups:xe(le(G4))})}),Q4=te({pubkey:rn,signer:Di(),writable:Di(),source:xe(dr([_t("transaction"),_t("lookupTable")]))}),Y4=te({accountKeys:le(Q4),signatures:le(ie())}),X4=te({parsed:xh(),program:ie(),programId:rn}),J4=te({accounts:le(rn),data:ie(),programId:rn}),hq=dr([J4,X4]),dq=dr([te({parsed:xh(),program:ie(),programId:ie()}),te({accounts:le(ie()),data:ie(),programId:ie()})]),Z4=Eh(hq,dq,t=>"accounts"in t?se(t,J4):se(t,X4)),eP=te({signatures:le(ie()),message:te({accountKeys:le(Q4),instructions:le(Z4),recentBlockhash:ie(),addressTableLookups:xe(ue(le(G4)))})}),Hf=te({accountIndex:H(),mint:ie(),owner:xe(ie()),uiTokenAmount:yv}),tP=te({writable:le(rn),readonly:le(rn)}),hg=te({err:va,fee:H(),innerInstructions:xe(ue(le(te({index:H(),instructions:le(te({accounts:le(H()),data:ie(),programIdIndex:H()}))})))),preBalances:le(H()),postBalances:le(H()),logMessages:xe(ue(le(ie()))),preTokenBalances:xe(ue(le(Hf))),postTokenBalances:xe(ue(le(Hf))),loadedAddresses:xe(tP),computeUnitsConsumed:xe(H())}),Sw=te({err:va,fee:H(),innerInstructions:xe(ue(le(te({index:H(),instructions:le(Z4)})))),preBalances:le(H()),postBalances:le(H()),logMessages:xe(ue(le(ie()))),preTokenBalances:xe(ue(le(Hf))),postTokenBalances:xe(ue(le(Hf))),loadedAddresses:xe(tP),computeUnitsConsumed:xe(H())}),su=dr([_t(0),_t("legacy")]),_a=te({pubkey:ie(),lamports:H(),postBalance:ue(H()),rewardType:ue(ie()),commission:xe(ue(H()))}),fq=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:bw,meta:ue(hg),version:xe(su)})),rewards:xe(le(_a)),blockTime:ue(H()),blockHeight:ue(H())}))),pq=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:xe(le(_a)),blockTime:ue(H()),blockHeight:ue(H())}))),gq=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:Y4,meta:ue(hg),version:xe(su)})),rewards:xe(le(_a)),blockTime:ue(H()),blockHeight:ue(H())}))),mq=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:eP,meta:ue(Sw),version:xe(su)})),rewards:xe(le(_a)),blockTime:ue(H()),blockHeight:ue(H())}))),yq=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:Y4,meta:ue(Sw),version:xe(su)})),rewards:xe(le(_a)),blockTime:ue(H()),blockHeight:ue(H())}))),vq=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:xe(le(_a)),blockTime:ue(H()),blockHeight:ue(H())}))),_q=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:bw,meta:ue(hg)})),rewards:xe(le(_a)),blockTime:ue(H())}))),M2=Be(ue(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),signatures:le(ie()),blockTime:ue(H())}))),_0=Be(ue(te({slot:H(),meta:hg,blockTime:xe(ue(H())),transaction:bw,version:xe(su)}))),ld=Be(ue(te({slot:H(),transaction:eP,meta:ue(Sw),blockTime:xe(ue(H())),version:xe(su)}))),wq=Tt(te({blockhash:ie(),feeCalculator:te({lamportsPerSignature:H()})})),xq=Tt(te({blockhash:ie(),lastValidBlockHeight:H()})),Eq=Tt(Di()),bq=te({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),Sq=Be(le(bq)),Iq=Tt(ue(te({feeCalculator:te({lamportsPerSignature:H()})}))),Aq=Be(ie()),Tq=Be(ie()),kq=te({err:va,logs:le(ie()),signature:ie()}),Cq=te({result:cg(kq),subscription:H()}),Rq={"solana-client":"js/0.0.0-development"};class Pq{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async c=>{const{commitment:d,config:y}=gt(c),_=this._buildArgs([],d,void 0,y),S=T2(_);return u[S]=u[S]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",_),A=se(x,Be(H()));if("error"in A)throw new me(A.error,"failed to get block height information");return A.result}finally{delete u[S]}})(),await u[S]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=mH(e),this._rpcWsEndpoint=r||pH(e),this._rpcClient=CH(e,i,s,o,a,l),this._rpcRequest=RH(this._rpcClient),this._rpcBatchRequest=PH(this._rpcClient),this._rpcWebSocket=new cH(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=se(o,Tt(H()));if("error"in a)throw new me(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=se(n,Be(ue(H())));if("error"in r)throw new me(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=se(e,Be(H()));if("error"in n)throw new me(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=se(e,UH);if("error"in n)throw new me(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=se(r,FH);if("error"in i)throw new me(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=se(i,Tt(yv));if("error"in s)throw new me(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=se(i,Tt(yv));if("error"in s)throw new me(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=gt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),u=se(l,$H);if("error"in u)throw new me(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=se(o,jH);if("error"in a)throw new me(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=se(i,zH);if("error"in s)throw new me(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=se(i,VH);if("error"in s)throw new me(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,Tt(ue(Hc)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,Tt(ue(_v)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=gt(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=se(a,Tt(le(ue(_v))));if("error"in l)throw new me(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=gt(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=se(a,Tt(le(ue(Hc))));if("error"in l)throw new me(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=gt(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=se(a,Be(KH));if("error"in l)throw new me(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=gt(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),l=await this._rpcRequest("getProgramAccounts",a),u=le(HH),c=o.withContext===!0?se(l,Tt(u)):se(l,Be(u));if("error"in c)throw new me(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=se(o,Be(le(WH)));if("error"in a)throw new me(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=In.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Zt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,u)=>{try{r=this.onSignature(n,(d,y)=>{r=void 0;const _={context:y,value:d};l({__type:Es.PROCESSED,response:_})},e);const c=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await c,s)return;const d=await this.getSignatureStatus(n);if(s||d==null)return;const{context:y,value:_}=d;if(_!=null)if(_!=null&&_.err)u(_.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(_.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(_.confirmationStatus==="processed"||_.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:Es.PROCESSED,response:{context:y,value:_}})}})()}catch(c){u(c)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let _=await y();if(!s){for(;_<=r;)if(await ka(1e3),s||(_=await y(),s))return;d({__type:Es.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(n);let c;try{const d=await Promise.race([u,l,o]);if(d.__type===Es.PROCESSED)c=d.response;else throw new j4(i)}finally{s=!0,a()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(_=>{let S=s,x=null;const A=async()=>{try{const{context:w,value:b}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=w.slot,b==null?void 0:b.nonce}catch{return S}};(async()=>{if(S=await A(),!a)for(;;){if(s!==S){_({__type:Es.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await ka(2e3),a||(S=await A(),a))return}})()}),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(n);let y;try{const _=await Promise.race([d,c,l]);if(_.__type===Es.PROCESSED)y=_.response;else{let S;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(_.slotInWhichNonceDidAdvance??r)){await ka(400);continue}S=x;break}if(S!=null&&S.value){const x=e||"finalized",{confirmationStatus:A}=S.value;switch(x){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new Du(o);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new Du(o);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new Du(o);break;default:}y={context:S.context,value:{err:S.value.err}}}else throw new Du(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:Es.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===Es.PROCESSED)a=l.response;else throw new z4(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=se(e,Be(le(sq)));if("error"in n)throw new me(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=se(r,oq);if("error"in i)throw new me(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=se(s,Be(H()));if("error"in o)throw new me(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=se(s,Be(ie()));if("error"in o)throw new me(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=se(i,Be(le(rn)));if("error"in s)throw new me(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Zt(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=se(i,uq);if("error"in s)throw new me(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=se(s,Be(H()));if("error"in o)throw new me(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=se(r,NH);if("error"in i)throw new me(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=gt(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=se(a,_H);if("error"in l)throw new me(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=se(e,MH);if("error"in n)throw new me(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=se(s,OH);if("error"in o)throw new me(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=se(e,DH);if("error"in n)throw new me(n.error,"failed to get epoch schedule");const r=n.result;return new lH(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=se(e,BH);if("error"in n)throw new me(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=se(i,cq);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",n),i=se(r,wq);if("error"in i)throw new me(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=se(n,Sq);if("error"in r)throw new me(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=se(i,Iq);if("error"in s)throw new me(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=xn(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=se(s,Tt(ue(H())));if("error"in o)throw new me(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=se(i,LH);if("error"in s)throw new me(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=se(s,xq);if("error"in o)throw new me(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=se(o,Eq);if("error"in a)throw new me(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=se(e,Be(TH));if("error"in n)throw new me(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=se(e,Be(ie()));if("error"in n)throw new me(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,gq);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,pq);if("error"in a)throw a.error;return a.result}default:{const a=se(o,fq);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:u,meta:c,version:d})=>({meta:c,transaction:{...u,message:v0(d,u.message)},version:d}))}:null}}}catch(a){throw new me(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,yq);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,vq);if("error"in a)throw a.error;return a.result}default:{const a=se(o,mq);if("error"in a)throw a.error;return a.result}}}catch(a){throw new me(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=se(s,kH);if("error"in o)throw new me(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=se(o,_0);if("error"in a)throw new me(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:v0(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=se(o,ld);if("error"in a)throw new me(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=gt(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const u=se(l,ld);if("error"in u)throw new me(u.error,"failed to get transactions");return u.result})}async getTransactions(e,n){const{commitment:r,config:i}=gt(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const u=se(l,_0);if("error"in u)throw new me(u.error,"failed to get transactions");const c=u.result;return c&&{...c,transaction:{...c.transaction,message:v0(c.version,c.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,_q);if("error"in s)throw new me(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:u})=>{const c=new ro(l.message);return{meta:u,transaction:{...l,message:c}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:u})=>({meta:u,transaction:ei.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=se(s,Be(le(H())));if("error"in o)throw new me(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=se(i,M2);if("error"in s)throw new me(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,M2);if("error"in s)throw new me(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,_0);if("error"in s)throw new me(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ro(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:ei.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,ld);if("error"in s)throw new me(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=se(o,ld);if("error"in a)throw new me(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=se(s,GH);if("error"in o)throw new me(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=se(s,QH);if("error"in o)throw new me(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new R2({key:e,state:R2.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=xw.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=se(r,Aq);if("error"in i)throw new me(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ka(100);const r=Date.now()-this._blockhashInfo.lastFetch>=gH;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await ka(Zz/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=se(s,Tt(H()));if("error"in o)throw new me(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),A=ke.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const w=n||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const b=[A,w],m=await this._rpcRequest("simulateTransaction",b),P=se(m,P2);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof ei){let S=e;i=new ei,i.feePayer=S.feePayer,i.instructions=e.instructions,i.nonceInfo=S.nonceInfo,i.signatures=S.signatures}else i=ei.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let S=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(S);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const A=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(A)&&!this._blockhashInfo.transactionSignatures.includes(A)){this._blockhashInfo.simulatedSignatures.push(A);break}else S=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(r){const S=(Array.isArray(r)?r:o.nonProgramIds()).map(x=>x.toBase58());c.accounts={encoding:"base64",addresses:S}}s&&(c.sigVerify=!0);const d=[u,c],y=await this._rpcRequest("simulateTransaction",d),_=se(y,P2);if("error"in _){let S;if("data"in _.error&&(S=_.error.data.logs,S&&Array.isArray(S))){const x=`
    `,A=x+S.join(x);console.error(_.error.message,A)}throw new k2("failed to simulate transaction: "+_.error.message,S)}return _.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=xn(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=se(a,Tq);if("error"in l){let u;throw"data"in l.error&&(u=l.error.data.logs),new k2("failed to send transaction: "+l.error.message,u)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=se(e,YH);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=T2([e.method,n],!0),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Zt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=se(e,JH);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=se(e,Cq);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=se(e,eq);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=se(e,nq);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=se(e,rq);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,u)=>{n(l,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=se(e,iq);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ic{constructor(e){this._keypair=void 0,this._keypair=e??E2()}static generate(){return new ic(E2())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),s=gv(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new ic({publicKey:r,secretKey:e})}static fromSeed(e){const n=gv(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new ic({publicKey:n,secretKey:r})}get publicKey(){return new we(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ye([_e("instruction"),Ol("recentSlot"),Je("bumpSeed")])},FreezeLookupTable:{index:1,layout:ye([_e("instruction")])},ExtendLookupTable:{index:2,layout:ye([_e("instruction"),Ol(),Jn(Ue(),$o(_e(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ye([_e("instruction")])},CloseLookupTable:{index:4,layout:ye([_e("instruction")])}});new we("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ye([Je("instruction"),_e("units"),_e("additionalFee")])},RequestHeapFrame:{index:1,layout:ye([Je("instruction"),_e("bytes")])},SetComputeUnitLimit:{index:2,layout:ye([Je("instruction"),_e("units")])},SetComputeUnitPrice:{index:3,layout:ye([Je("instruction"),Ol("microLamports")])}});new we("ComputeBudget111111111111111111111111111111");ye([Je("numSignatures"),Je("padding"),Lr("signatureOffset"),Lr("signatureInstructionIndex"),Lr("publicKeyOffset"),Lr("publicKeyInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),Lr("messageInstructionIndex")]);new we("Ed25519SigVerify111111111111111111111111111");ww.utils.isValidPrivateKey;ww.getPublicKey;ye([Je("numSignatures"),Lr("signatureOffset"),Je("signatureInstructionIndex"),Lr("ethAddressOffset"),Je("ethAddressInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),Je("messageInstructionIndex"),At(20,"ethAddress"),At(64,"signature"),Je("recoveryId")]);new we("KeccakSecp256k11111111111111111111111111111");var nP;new we("StakeConfig11111111111111111111111111111111");class rP{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}nP=rP;rP.default=new nP(0,0,we.default);Object.freeze({Initialize:{index:0,layout:ye([_e("instruction"),qz(),Wz()])},Authorize:{index:1,layout:ye([_e("instruction"),Ue("newAuthorized"),_e("stakeAuthorizationType")])},Delegate:{index:2,layout:ye([_e("instruction")])},Split:{index:3,layout:ye([_e("instruction"),mr("lamports")])},Withdraw:{index:4,layout:ye([_e("instruction"),mr("lamports")])},Deactivate:{index:5,layout:ye([_e("instruction")])},Merge:{index:7,layout:ye([_e("instruction")])},AuthorizeWithSeed:{index:8,layout:ye([_e("instruction"),Ue("newAuthorized"),_e("stakeAuthorizationType"),Ha("authoritySeed"),Ue("authorityOwner")])}});new we("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ye([_e("instruction"),Kz()])},Authorize:{index:1,layout:ye([_e("instruction"),Ue("newAuthorized"),_e("voteAuthorizationType")])},Withdraw:{index:3,layout:ye([_e("instruction"),mr("lamports")])},AuthorizeWithSeed:{index:10,layout:ye([_e("instruction"),Gz()])}});new we("Vote111111111111111111111111111111111111111");new we("Va1idator1nfo111111111111111111111111111111");te({name:ie(),website:xe(ie()),details:xe(ie()),keybaseUsername:xe(ie())});new we("Vote111111111111111111111111111111111111111");ye([Ue("nodePubkey"),Ue("authorizedWithdrawer"),Je("commission"),_n(),Jn(ye([_n("slot"),_e("confirmationCount")]),$o(_e(),-8),"votes"),Je("rootSlotValid"),_n("rootSlot"),_n(),Jn(ye([_n("epoch"),Ue("authorizedVoter")]),$o(_e(),-8),"authorizedVoters"),ye([Jn(ye([Ue("authorizedPubkey"),_n("epochOfLastAuthorizedSwitch"),_n("targetEpoch")]),32,"buf"),_n("idx"),Je("isEmpty")],"priorVoters"),_n(),Jn(ye([_n("epoch"),_n("credits"),_n("prevCredits")]),$o(_e(),-8),"epochCredits"),ye([_n("slot"),_n("timestamp")],"lastTimestamp")]);const bu=1e9;function Nq(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var S=0,x=0,A=0,w=_.length;A!==w&&_[A]===0;)A++,S++;for(var b=(w-A)*u+1>>>0,m=new Uint8Array(b);A!==w;){for(var P=_[A],N=0,D=b-1;(P!==0||N<x)&&D!==-1;D--,N++)P+=256*m[D]>>>0,m[D]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=N,A++}for(var F=b-x;F!==b&&m[F]===0;)F++;for(var V=a.repeat(S);F<b;++F)V+=t.charAt(m[F]);return V}function d(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var S=0,x=0,A=0;_[S]===a;)x++,S++;for(var w=(_.length-S)*l+1>>>0,b=new Uint8Array(w);_[S];){var m=e[_.charCodeAt(S)];if(m===255)return;for(var P=0,N=w-1;(m!==0||P<A)&&N!==-1;N--,P++)m+=o*b[N]>>>0,b[N]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");A=P,S++}for(var D=w-A;D!==w&&b[D]===0;)D++;for(var F=new Uint8Array(x+(w-D)),V=x;D!==w;)F[V++]=b[D++];return F}function y(_){var S=d(_);if(S)return S;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:d,decode:y}}var Mq=Nq;const Lq=Mq,Oq="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Dq=Lq(Oq);const Bq=ia(Dq);window.Buffer=ke.Buffer;const go=new Pq("https://api.devnet.solana.com"),Uq={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},iP=ao(Uq),mo=fa(iP),w0=Zp(iP),Fq=t=>{const{url:e}=nA(),n=zl(),[r,i]=ee.useState(!1),[s,o]=ee.useState(null),[a,l]=ee.useState(null),[u,c]=ee.useState(null);console.log(t.state.walletResponse),ee.useEffect(()=>{K_({Ripple:W_})},[]);const[d,y]=ee.useState(t.rate);ee.useEffect(()=>{t.state.walletAddress},[t.state.walletAddress]),ee.useEffect(()=>{$("#card_price").text(d)},[$("#card_sol").text()]);const _=dn(mo,"Course",e);(async()=>{const P=await xi(_);if(P.exists()){$("#card_title").text(Qn(P.data().title)),$("#card_des").text(P.data().des),$("#card_sub").text(Qn(P.data().sub)),$("#card_level").text(Qn(P.data().eduLvl)),$("#card_lang").text(Qn(P.data().lang)),$("#card_sol").text((P.data().sol*1.05).toFixed(2)),l(P.data().sol),$("#card_uploadTime").text(new Date(P.data().uploadTime.seconds*1e3).toLocaleString()),P.data().mode==="both"?$("#card_mode").text("Video and notes"):P.data().mode==="video"?$("#card_mode").text("Video"):$("#card_mode").text("Notes");const N=()=>{let Q="";for(let ce in P.data().tag)Q+=`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${P.data().tag[ce]}</span>`;$("#card_tag").html(Q)};N(),$("#card_tag").html(N),s||o(P.data().userUID);const D=dn(mo,"Users",P.data().userUID);(async()=>{const Q=await xi(D);Q.exists()?(Xa(document.getElementById("card_tutor")),$("#card_tutor").text(Q.data().displayName),c(Q.data().walletAddress)):console.log("No such document for Users with UID of",Q.data().userUID)})();const V=Pi(w0,e+"/thumbnail.jpg");Fo(V).then(Q=>{$("#card_img").attr("src",Q)});const G=dn(mo,"Users",t.state.user.uid);(async()=>{const Q=await xi(G);Q.exists()?(Q.data().wishlist&&(Q.data().wishlist.indexOf(e)>=0?$("#b_wishlist").text("- REMOVE FROM WISHLIST"):$("#b_wishlist").text("+ ADD TO WISHLIST")),Q.data().enrolled&&(Q.data().enrolled.indexOf(e)>=0?($("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)):$("#b_enroll").text("ENROLL NOW"))):console.log("No such document for User with UID",t.state.user.uid)})()}else console.log("No such document for Course with link",e)})(),(()=>{const P=mC(jp(mo,"Users"),yC("enrolled","array-contains",e));(async()=>{const D=await C_(P);$("#card_enroll").text(D.docs.length)})()})();const A=()=>{const P=dn(mo,"Users",t.state.user.uid);(async()=>{$("#b_wishlist").text()==="+ ADD TO WISHLIST"?(await ja(P,{wishlist:Sm(e)}),$("#b_wishlist").text("- REMOVE FROM WISHLIST"),alert("Added to wishlist!")):(await ja(P,{wishlist:TU(e)}),$("#b_wishlist").text("+ ADD TO WISHLIST"),alert("Removed from wishlist!"))})()},w=async(P,N,D)=>{if(console.log("sendSol"),!N&&!D){console.log("Wallet address of recipent or amount to transfer not found!");return}const F=ic.fromSecretKey(Bq.decode("2EhyfeJPRDYCdQFvZwc5ZUiMRASqhPt17N8a55WoZnnZ8B6d6G5ih87g4q8Li6wreZGcUEXWAoG9nxRTMbpenEXm")),V=new we(N);(async()=>{let Q=await go.getBalance(F.publicKey),ce=await go.getBalance(V);console.log(`Sender Balance: ${Q/bu} SOL`),console.log(`Receiver Balance: ${ce/bu} SOL`)})(),(async()=>{if(await go.getBalance(F.publicKey)/bu>(a*1.05).toFixed(2)){let ce=new ei().add(Dl.transfer({fromPubkey:F.publicKey,toPubkey:V,lamports:D*bu}));ce.recentBlockhash=(await go.getRecentBlockhash()).blockhash,ce.feePayer=F.publicKey,ce.partialSign(F);let U=await go.sendTransaction(ce,[F]);console.log("Transaction hash to teacher:",U,D);let h=new ei().add(Dl.transfer({fromPubkey:F.publicKey,toPubkey:"5VHWzF3jFnc9WK7MijhcHT7QDRZ1Zt1W6Pvf6wrTsdQh",lamports:parseInt((D*.05).toFixed(2)*bu)}));h.recentBlockhash=(await go.getRecentBlockhash()).blockhash,h.feePayer=F.publicKey,h.partialSign(F);let v=await go.sendTransaction(h,[F]);console.log("Commission hash:",v,(D*.05).toFixed(2));const k=dn(mo,"Users",t.state.user.uid);(async()=>{await ja(k,{enrolled:Sm(e)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)})(),alert("Commission of 5% paid successfully.")}else{alert("Transaction failed. Not enough SOL tokens to pay.");return}})()},b=()=>{n("../profile/"+s)},m=()=>{if(t.state.role==="special needy / refugee / disabilities"){const P=dn(mo,"Users",t.state.user.uid);(async()=>{await ja(P,{enrolled:Sm(e)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)})(),alert("Enrolled with special discount #FreeHelpEdu")}else confirm(`Are you sure you want to proceeed by paying a transcation fee of ${(a*1.05).toFixed(2)} SOL? 

 5% of commission fee is applied for web maintainence.`)&&w(t.state.walletAddress,u,a)};return ee.useEffect(()=>{if(r){const P=Pi(w0,e+"/video.mp4");Fo(P).then(D=>{$("#media_area").html($("#media_area").html()+`<h1>Video</h1><video width="100%" height="100%" controls><source src="${D}" type="video/mp4">Your browser does not support the video tag.</video>`)});const N=Pi(w0,e+"/notes.pdf");Fo(N).then(D=>{$("#media_area").html($("#media_area").html()+'<h1>Notes</h1><object data="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20210101201653/PDF.pdf" width="100%" height="800"></object>')})}},[r]),E.jsxs(E.Fragment,{children:[E.jsx("h1",{className:"mb-4",children:"Course"}),E.jsxs("div",{className:"flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 max-w-lg md:flex-row",children:[E.jsx("img",{className:"w-1/2 rounded-t-lg object-cover md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course thumbnail",id:"card_img"}),E.jsxs("div",{className:"flex flex-col justify-start max-w-3xl p-6",children:[E.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:"card_title"}),E.jsxs("p",{className:"mb-4 text-sm text-warning-600 dark:text-warning-400",children:["* ",E.jsx("span",{id:"card_mode"})," included."]}),E.jsx("p",{className:"mb-2 text-base text-neutral-600 dark:text-neutral-200",id:"card_des"}),E.jsx("div",{className:"mb-4 gap-4",id:"card_tag"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-xs mb-4",children:[E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:E.jsx("b",{children:"Subject"})}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_sub"}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:E.jsx("b",{children:"Tutor"})}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 underline text-primary transition duration-150 ease-in-out hover:text-primary-600 focus:text-primary-600 active:text-primary-700 dark:text-primary-400 dark:hover:text-primary-500 dark:focus:text-primary-500 dark:active:text-primary-600 cursor-pointer",onClick:b,id:"card_tutor"}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:E.jsx("b",{children:"Level"})}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_level"}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:E.jsx("b",{children:"Language"})}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_lang"}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:E.jsx("b",{children:"Price"})}),E.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[E.jsx("span",{id:"card_sol",children:"0.00"})," SOL / ",E.jsx("span",{id:"card_price",children:E.jsx(oR,{sol:$("#card_sol").text()})}),' USD"']}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:E.jsx("b",{children:"Enrollment"})}),E.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_enroll",children:"0"})]}),E.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-300 mb-4",children:["Uploaded on ",E.jsx("span",{id:"card_uploadTime"})]}),E.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[E.jsx("button",{type:"button",onClick:m,className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] disabled:opacity-70","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_enroll",children:"ENROLL NOW"}),E.jsx("button",{onClick:A,type:"button",className:"inline-block rounded bg-primary-100 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-primary-accent-100 focus:bg-primary-accent-100 focus:outline-none focus:ring-0 active:bg-primary-accent-200","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_wishlist",children:"+ ADD TO WISHLIST"})]})]})]}),E.jsx("br",{}),E.jsx("div",{id:"media_area"})]})},Vq=t=>e=>{const n=zl();return E.jsx(t,{...e,navigate:n})},$q={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},sP=ao($q),jq=fa(sP),x0=Zp(sP);class zq extends ee.Component{constructor(n){super(n);at(this,"select",n=>{$(".button_choice").attr("class","button_choice"),$(`#b_${n}`).attr("class","button_choice text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),this.setState({choice:n}),n==="both"?($("#div_video").css("display","inherit"),$("#div_notes").css("display","inherit")):($(".div_upload").css("display","none"),$(`#div_${n}`).css("display","inherit"))});at(this,"handleKeyPress",n=>{n.preventDefault(),n.key=="Enter"&&this.uploadConfirm()});at(this,"handleTagKeyPress",n=>{n.key=="Enter"&&(this.setState({tag:this.state.tag.add($("#t_tag").val())}),$("#t_tag").val(""))});at(this,"removeTag",n=>{this.state.tag.delete(n),this.setState({tag:this.state.tag})});at(this,"changeSOL",()=>{this.setState({sol:$("#t_sol").val()})});at(this,"uploadConfirm",async()=>{const{navigate:n}=this.props;if($("#t_title").val()!==""&&$("#t_des").val()!==""&&$("#c_level").val()!==""&&$("#t_sub").val()!==""&&$("#t_lang").val()!==""&&$("#t_sol").val()!=="")if($("#div_tag").html()!=="")if(this.state.choice)if(this.state.thumbnailUpload&&(this.state.choice==="video"&&this.state.videoUpload||this.state.choice==="notes"&&this.state.notesUpload||this.state.choice==="both"&&this.state.videoUpload&&this.state.notesUpload)){if(confirm(`Make sure all information are correct. You cannot edit any part anymore after material is uploaded.

Do not reload the page before uploading process is not done.`)){$("#main").css("opacity",.5),$("#main").css("pointerEvents","none"),$("#main").attr("disabled",!0);const r=await SU(jp(jq,"Course"),{title:$("#t_title").val(),des:$("#t_des").val().split(`
`),eduLvl:$("#c_level").val(),sub:$("#t_sub").val(),lang:$("#t_lang").val(),sol:parseFloat($("#t_sol").val()),tag:[...this.state.tag],userUID:this.state.user.uid,mode:this.state.choice,uploadTime:AU(),view:0});console.log("Document written with ID: ",r.id);let i=Pi(x0,`${r.id}/thumbnail.jpg`);await wu(i,this.state.thumbnailUpload).then(()=>{console.log("Uploaded thumbnail file!")});let s=Pi(x0,`${r.id}/video.mp4`),o=Pi(x0,`${r.id}/notes.pdf`);switch(this.state.choice){case"video":await wu(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")});break;case"notes":await wu(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break;case"both":await wu(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")}),await wu(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break}$("#main").css("opacity",1),$("#main").css("pointerEvents","inherit"),$("#main").attr("disabled",!1),await alert("Upload success!"),n("/freeflow-edu/")}}else alert("Please upload required image / video / notes.");else alert("Please select either to upload video / notes / both.");else alert("Please add some tags! ");else alert("Please fill in all information required.")});this.state={user:n.state.user,credential:n.state.credential,choice:null,tag:new Set,thumbnailUpload:null,videoUpload:null,notesUpload:null,sol:1}}render(){console.log(this.state);const n=this.state.tag.size===0?[]:[...this.state.tag].map((r,i)=>E.jsxs("span",{id:"tag_"+r,children:[r,E.jsx("button",{onClick:()=>this.removeTag(r),children:"x"})]},r));return E.jsxs("section",{id:"main",children:[E.jsx("h1",{children:"Upload"}),E.jsxs("div",{className:"div_general",children:[E.jsxs("label",{children:[" Course Title:",E.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_tile",id:"t_title",placeholder:"Trigonometry",required:!0})]}),E.jsx("br",{}),E.jsxs("label",{children:[" Course Description:",E.jsx("textarea",{name:"t_des",id:"t_des",placeholder:"Write something here...",required:!0})]}),E.jsx("br",{}),E.jsxs("label",{children:[" Level:",E.jsxs("select",{name:"",id:"c_level",required:!0,children:[E.jsx("option",{value:"",children:"-- Please select --"}),E.jsx("option",{value:"primary",children:"Primary School"}),E.jsx("option",{value:"secondary",children:"Secondary School"}),E.jsx("option",{value:"undergraduate",children:"Undergraduate"}),E.jsx("option",{value:"postgraduate",children:"Postgraduate"}),E.jsx("option",{value:"workplace",children:"Workplace"})]})]}),E.jsxs("label",{children:[" Subject:",E.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_sub",id:"t_sub",placeholder:"Mathematics",required:!0})]}),E.jsxs("label",{children:[" Language:",E.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_lang",id:"t_lang",placeholder:"English",required:!0})]}),E.jsx("br",{}),E.jsxs("label",{children:[" Sell for $:",E.jsx("input",{onKeyUp:this.handleKeyPress,onChange:this.changeSOL,type:"number",name:"t_sol",id:"t_sol",placeholder:"0.00",required:!0})," Solana",E.jsx("br",{}),this.state.sol," SOL = ",E.jsx(oR,{sol:this.state.sol})," USD"]}),E.jsx("br",{}),E.jsxs("label",{children:[" Tag:",E.jsx("input",{onKeyUp:this.handleTagKeyPress,type:"text",name:"t_tag",id:"t_tag",placeholder:"Write some keywords here..."})]}),E.jsx("div",{id:"div_tag",children:n}),E.jsx("br",{}),E.jsxs("label",{children:[" Author:",E.jsx("input",{type:"text",name:"t_author_uid",id:"t_author_uid",value:this.state.user.email,disabled:!0})]}),E.jsx("br",{}),E.jsxs("label",{children:[" Thumbnail:",E.jsx("input",{type:"file",onChange:r=>this.setState({thumbnailUpload:r.target.files[0]}),name:"vid",id:"f_thumbnail",accept:".jpg"})]})]}),E.jsx("br",{}),E.jsx("hr",{}),E.jsx("br",{}),E.jsxs("div",{children:[E.jsx("button",{className:"button_choice",id:"b_video",onClick:()=>this.select("video"),children:"Video"}),E.jsx("button",{className:"button_choice",id:"b_notes",onClick:()=>this.select("notes"),children:"Notes"}),E.jsx("button",{className:"button_choice",id:"b_both",onClick:()=>this.select("both"),children:"Both"})]}),E.jsxs("div",{id:"div_video",className:"div_upload",style:{display:"none"},children:[E.jsx("h1",{children:"Video"}),E.jsxs("label",{children:["Upload Video:",E.jsx("input",{type:"file",onChange:r=>this.setState({videoUpload:r.target.files[0]}),name:"vid",id:"f_video",accept:".mp4"})]}),E.jsx("br",{})]}),E.jsxs("div",{id:"div_notes",className:"div_upload",style:{display:"none"},children:[E.jsx("h1",{children:"Notes"}),E.jsxs("label",{children:["Upload Notes:",E.jsx("input",{type:"file",onChange:r=>this.setState({notesUpload:r.target.files[0]}),name:"vid",id:"f_notes",accept:".pdf"})]}),E.jsx("br",{})]}),E.jsx("br",{}),E.jsx("hr",{}),E.jsx("br",{}),E.jsx("button",{onClick:this.uploadConfirm,children:"Upload"})]})}}const Hq=Vq(zq),qq=()=>E.jsxs(E.Fragment,{children:[E.jsx("h1",{children:"Subscription"}),E.jsx("div",{className:"container my-24 mx-auto md:px-6",children:E.jsxs("section",{className:"mb-32",children:[E.jsx("h1",{className:"mb-12 text-center text-3xl font-bold",children:"Choose your learning plan and join our global community"}),E.jsxs("div",{className:"mb-6",children:[E.jsx("div",{className:"hidden opacity-100 transition-opacity duration-150 ease-linear data-[te-tab-active]:block",id:"pills-home02",role:"tabpanel","aria-labelledby":"pills-home-tab02","data-te-tab-active":!0,children:E.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 lg:gap-x-12",children:[E.jsx("div",{className:"mb-6 lg:mb-0",children:E.jsxs("div",{className:"block h-full rounded-lg bg-sky-200 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-sky-700",children:[E.jsxs("div",{className:"border-b-2 dark:border-black border-opacity-100 p-6 text-center ",children:[E.jsx("p",{className:"mb-4 text-sm uppercase",children:E.jsx("strong",{children:"Basic"})}),E.jsx("h3",{className:"mb-6 text-3xl",children:E.jsx("strong",{children:"Current Plan"})}),E.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)] disabled:cursor-auto","data-te-ripple-init":!0,"data-te-ripple-color":"light",disabled:!0,children:"Free"})]}),E.jsx("div",{className:"p-6",children:E.jsxs("ol",{className:"list-inside",children:[E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Unlimited updates"]}),E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Git repository"]}),E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"npm installation"]})]})})]})}),E.jsx("div",{className:"mb-6 lg:mb-0",children:E.jsxs("div",{className:"block h-full rounded-lg bg-sky-200 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-sky-700",children:[E.jsxs("div",{className:"border-b-2 dark:border-black border-opacity-100 p-6 text-center",children:[E.jsx("p",{className:"mb-4 text-sm uppercase",children:E.jsx("strong",{children:"Advanced"})}),E.jsxs("h3",{className:"mb-6 text-3xl",children:[E.jsx("strong",{children:"$ 300"}),E.jsx("small",{className:"text-base text-neutral-500 dark:text-neutral-300",children:"/month"})]}),E.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)] hover:text-white hover:bg-black","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]}),E.jsx("div",{className:"p-6",children:E.jsxs("ol",{className:"list-inside",children:[E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Unlimited updates"]}),E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Git repository"]}),E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"npm installation"]}),E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Code examples"]}),E.jsxs("li",{className:"mb-4 flex",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Premium snippets"]})]})})]})}),E.jsx("div",{className:"mb-6 lg:mb-0",children:E.jsxs("div",{className:"block h-full rounded-lg bg-orange-500 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:[E.jsxs("div",{className:"border-b-2 border-black border-opacity-100 p-6 text-center dark:bg-orange-500",children:[E.jsx("p",{className:"mb-4 text-sm uppercase",children:E.jsx("strong",{className:"text-black",children:"Enterprise"})}),E.jsxs("h3",{className:"mb-6 text-3xl",children:[E.jsx("strong",{className:"text-black",children:"$ 50"}),E.jsx("small",{className:"text-base text-neutral-500 dark:text-black",children:"/year"})]}),E.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)] bg-neutral-950 hover:text-black","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]}),E.jsx("div",{className:"p-6 dark:bg-orange-500 rounded-lg",children:E.jsxs("ol",{className:"list-inside",children:[E.jsxs("li",{className:"mb-4 flex dark:text-black",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Unlimited updates"]}),E.jsxs("li",{className:"mb-4 flex dark:text-black",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Git repository"]}),E.jsxs("li",{className:"mb-4 flex dark:text-black",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"npm installation"]}),E.jsxs("li",{className:"mb-4 flex dark:text-black",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Code examples"]}),E.jsxs("li",{className:"mb-4 flex dark:text-black",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Premium snippets"]}),E.jsxs("li",{className:"mb-4 flex dark:text-black",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Premium support"]}),E.jsxs("li",{className:"mb-4 flex dark:text-black",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Drag&Drop builder"]})]})})]})})]})}),E.jsx("div",{className:"hidden opacity-0 transition-opacity duration-150 ease-linear data-[te-tab-active]:block",id:"pills-profile02",role:"tabpanel","aria-labelledby":"pills-profile-tab02",children:E.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 lg:gap-x-12",children:[E.jsx("div",{className:"mb-6 lg:mb-0",children:E.jsx("div",{className:"block h-full rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:E.jsxs("div",{className:"p-6 pt-6 pb-10 text-center",children:[E.jsx("p",{className:"mb-4 text-sm uppercase",children:E.jsx("strong",{children:"3 users"})}),E.jsxs("h3",{className:"mb-6 text-3xl",children:[E.jsx("strong",{children:"$ 799"}),E.jsx("small",{className:"text-base text-neutral-500 dark:text-neutral-300",children:"/year"})]}),E.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)]","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]})})}),E.jsx("div",{className:"mb-6 lg:mb-0",children:E.jsx("div",{className:"block h-full rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:E.jsxs("div",{className:"p-6 pt-6 pb-10 text-center",children:[E.jsx("p",{className:"mb-4 text-sm uppercase",children:E.jsx("strong",{children:"4 users"})}),E.jsxs("h3",{className:"mb-6 text-3xl",children:[E.jsx("strong",{children:"$ 999"}),E.jsx("small",{className:"text-base text-neutral-500 dark:text-neutral-300",children:"/year"})]}),E.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)]","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]})})}),E.jsx("div",{className:"mb-6 lg:mb-0",children:E.jsx("div",{className:"block h-full rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:E.jsxs("div",{className:"p-6 pt-6 pb-10 text-center",children:[E.jsx("p",{className:"mb-4 text-sm uppercase",children:E.jsx("strong",{children:"More users"})}),E.jsx("h3",{className:"mb-6 text-3xl",children:E.jsx("strong",{children:"Custom offer"})}),E.jsx("button",{type:"button",className:"inline-block w-full rounded bg-primary px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Contact us"})]})})})]})})]})]})})]});class L2 extends ee.Component{constructor(n){super(n);at(this,"auth",Oo());at(this,"logout",()=>{uL(this.auth).then(n=>{this.setState({user:null}),this.props.updateUserState(null)}).catch(n=>{console.log(n)}),localStorage.clear()});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return console.log(this.state),this.state?E.jsx("div",{className:"m-12 mt-4 flex items-center justify-center",children:E.jsxs("div",{className:"p-4 sm:p-10 bg-gray-50 rounded-md  w-[300px] md:w-[500px] text-center overflow-y-auto",children:[E.jsx("span",{className:"mb-4 inline-flex justify-center items-center w-[62px] h-[62px] rounded-full border-4 border-yellow-50 bg-yellow-100 text-yellow-500",children:E.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:E.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})}),E.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-800",children:"Sign out"}),E.jsx("p",{className:"text-gray-500",children:"Are you sure you would like to sign out of your account?"}),E.jsxs("div",{className:"mt-6 flex justify-center gap-x-4",children:[E.jsx(Js,{onClick:this.logout,className:"py-2.5 px-4 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm",children:"Sign out"}),E.jsx(Js,{to:"/freeflow-edu/",type:"button",className:"py-2.5 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 text-white hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",children:"Cancel"})]})]})}):E.jsx(Ku,{to:"/freeflow-edu/"})}}const O2=({setUser:t})=>E.jsx(E.Fragment,{children:E.jsx("div",{className:"h-90 w-full mt-4 dark:bg-transparent bg-gray-50 flex items-center",children:E.jsxs("div",{className:"container flex flex-col md:flex-row items-center justify-between px-5 text-gray-700",children:[E.jsxs("div",{className:"w-full lg:w-1/2 mx-8",children:[E.jsx("div",{className:"text-7xl text-orange-400 font-dark font-extrabold mb-8",children:" 404"}),E.jsx("p",{className:"text-2xl md:text-3xl font-light leading-normal mb-10 dark:text-gray-50",children:"Sorry we couldn't find the page you're looking for"}),E.jsx(Js,{to:"/freeflow-edu/",className:"px-5 inline py-3 text-sm font-medium leading-5 shadow-2xl text-white transition-all duration-400 border border-transparent rounded-lg focus:outline-none bg-orange-500 active:bg-red-600 hover:bg-red-00 text-white hover:text-white active:text-white",children:"Back to homepage"})]}),E.jsx("div",{className:"w-full lg:flex lg:justify-end lg:w-1/2 mx-5 my-12 dark:bg-gray-100 p-12 rounded-lg",children:E.jsx("img",{src:"https://user-images.githubusercontent.com/43953425/166269493-acd08ccb-4df3-4474-95c7-ad1034d3c070.svg",className:"",alt:"Page not found"})})]})})});const Wq={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},Kq=ao(Wq),E0=fa(Kq);class Gq extends ee.Component{constructor(n){K_({Tooltip:eu});super(n);at(this,"auth",Oo());at(this,"updateUserState",n=>{this.setState({user:n})});at(this,"updateRoleState",n=>{this.setState({role:n})});at(this,"checkIfWalletIsConnected",async()=>{var n;if((n=window==null?void 0:window.solana)!=null&&n.isPhantom){console.log("Phantom wallet found!");const r=await window.solana.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString(),walletResponse:r});const i=dn(E0,"Users",this.state.user.uid);return await ja(i,{walletAddress:r.publicKey.toString()}).then(()=>{}),!0}else return console.log("Solana object not found! Get a Phantom Wallet "),!1});at(this,"connectWallet",async()=>{const{solana:n}=window;if(n){const r=await n.connect().catch(()=>{alert("Fail to connect Wallet. Have you login to your Phantom wallet?")});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString(),walletResponse:r});const i=dn(E0,"Users",this.state.user.uid);await ja(i,{walletAddress:r.publicKey.toString()}).then(()=>{})}else alert("You do not have a Phantom wallet. Please install it from your web browser extension store.")});at(this,"disconnectWallet",async()=>{solana&&(await solana.disconnect(),console.log("Disconnected with Public Key:",this.state.walletAddress),alert("Wallet address"+this.state.walletAddress+" is disconnected from your FreeFlow Edu account now."),this.setState({walletAddress:null}),dn(E0,"Users",this.state.user.uid))});at(this,"renderNotConnectedContainer",()=>E.jsxs("button",{type:"button","data-te-ripple-init":!0,"data-te-ripple-color":"light",className:"cta-button connect-wallet-button flex items-center rounded bg-[#878595] px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-[#6B6A77] hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-[#52515B] focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-[#52515B] active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",onClick:this.state.walletAddress?this.disconnectWallet:this.connectWallet,"data-te-toggle":"tooltip",title:this.state.walletAddress!=null&&this.state.walletAddress.slice(0,4)+"..."+this.state.walletAddress.slice(-5,-1),children:[E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",className:"mr-1 h-8 w-8",children:[E.jsx("rect",{xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",fill:"transparent"}),E.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.6416 82.1477C50.8744 89.4525 42.8862 98.6966 32.2568 98.6966C27.232 98.6966 22.4004 96.628 22.4004 87.6424C22.4004 64.7584 53.6445 29.3335 82.6339 29.3335C99.1257 29.3335 105.697 40.7755 105.697 53.7689C105.697 70.4471 94.8739 89.5171 84.1156 89.5171C80.7013 89.5171 79.0264 87.6424 79.0264 84.6688C79.0264 83.8931 79.1552 83.0527 79.4129 82.1477C75.7409 88.4182 68.6546 94.2361 62.0192 94.2361C57.1877 94.2361 54.7397 91.1979 54.7397 86.9314C54.7397 85.3799 55.0618 83.7638 55.6416 82.1477ZM80.6133 53.3182C80.6133 57.1044 78.3795 58.9975 75.8806 58.9975C73.3438 58.9975 71.1479 57.1044 71.1479 53.3182C71.1479 49.532 73.3438 47.6389 75.8806 47.6389C78.3795 47.6389 80.6133 49.532 80.6133 53.3182ZM94.8102 53.3184C94.8102 57.1046 92.5763 58.9977 90.0775 58.9977C87.5407 58.9977 85.3447 57.1046 85.3447 53.3184C85.3447 49.5323 87.5407 47.6392 90.0775 47.6392C92.5763 47.6392 94.8102 49.5323 94.8102 53.3184Z",fill:"#FFFDF8"})]}),this.state.walletAddress?"Disconnect from Wallet":"Connect to Wallet"]}));this.state={user:JSON.parse(localStorage.getItem("user")),walletAddress:null,role:null,walletResponse:null}}componentDidMount(){this.state.user!==null&&JSON.parse(localStorage.getItem("user"))&&this.setState({user:JSON.parse(localStorage.getItem("user"))}),this.checkIfWalletIsConnected()}render(){return this.state.user||JSON.parse(localStorage.getItem("user"))?E.jsx(Gx,{children:E.jsx(Wx,{children:E.jsxs(Un,{exact:!0,path:"/freeflow-edu/",element:E.jsx(h7,{state:this.state,renderNotConnectedContainer:this.renderNotConnectedContainer,updateRoleState:this.updateRoleState}),children:[E.jsx(Un,{index:!0,active:!0,element:E.jsx(MV,{state:this.state})}),E.jsx(Un,{path:"profile/:id",element:E.jsx(OV,{state:this.state})}),E.jsx(Un,{path:"sign-out",element:E.jsx(L2,{state:this.state,updateUserState:this.updateUserState})}),E.jsx(Un,{path:"register",element:E.jsx(zb,{state:this.state,updateUserState:this.updateUserState})}),E.jsx(Un,{path:"course/:url",element:E.jsx(Fq,{state:this.state})}),E.jsx(Un,{path:"upload",element:E.jsx(Hq,{state:this.state})}),E.jsx(Un,{path:"subscription",element:E.jsx(qq,{})}),E.jsx(Un,{path:"first-time-user",element:E.jsx(w7,{state:this.state})}),E.jsx(Un,{path:"*",element:E.jsx(O2,{})})]})})}):(console.log("Session has expired. Login again."),E.jsx(Gx,{children:E.jsx(Wx,{children:E.jsxs(Un,{exact:!0,path:"/freeflow-edu/",element:E.jsx(a7,{}),children:[E.jsx(Un,{index:!0,active:!0,element:E.jsx(f7,{state:this.state,updateUserState:this.updateUserState})}),E.jsx(Un,{path:"register",element:E.jsx(zb,{state:this.state,updateUserState:this.updateUserState})}),E.jsx(Un,{path:"sign-out",element:E.jsx(L2,{})}),E.jsx(Un,{path:"*",element:E.jsx(O2,{})})]})})}))}}b0.createRoot(document.getElementById("root")).render(E.jsx(q2.StrictMode,{children:E.jsx(Gq,{})}));
