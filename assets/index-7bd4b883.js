var dC=Object.defineProperty;var pC=(t,e,n)=>e in t?dC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xe=(t,e,n)=>(pC(t,typeof e!="symbol"?e+"":e,n),n);function gC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var NE={exports:{}},hf={},ME={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),mC=Symbol.for("react.portal"),yC=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),_C=Symbol.for("react.profiler"),wC=Symbol.for("react.provider"),EC=Symbol.for("react.context"),IC=Symbol.for("react.forward_ref"),SC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),AC=Symbol.for("react.lazy"),o1=Symbol.iterator;function xC(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var DE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,LE={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||DE}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BE(){}BE.prototype=Pa.prototype;function c0(t,e,n){this.props=t,this.context=e,this.refs=LE,this.updater=n||DE}var h0=c0.prototype=new BE;h0.constructor=c0;OE(h0,Pa.prototype);h0.isPureReactComponent=!0;var a1=Array.isArray,UE=Object.prototype.hasOwnProperty,f0={current:null},FE={key:!0,ref:!0,__self:!0,__source:!0};function VE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)UE.call(e,r)&&!FE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tu,type:t,key:s,ref:o,props:i,_owner:f0.current}}function RC(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function d0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function CC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l1=/\/+/g;function zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CC(""+t.key):e.toString(36)}function Lc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tu:case mC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zd(o,0):r,a1(i)?(n="",t!=null&&(n=t.replace(l1,"$&/")+"/"),Lc(i,e,n,"",function(u){return u})):i!=null&&(d0(i)&&(i=RC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",a1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+zd(s,a);o+=Lc(s,e,n,l,i)}else if(l=xC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+zd(s,a++),o+=Lc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tc(t,e,n){if(t==null)return t;var r=[],i=0;return Lc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},Bc={transition:null},kC={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:f0};Me.Children={map:tc,forEach:function(t,e,n){tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!d0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Pa;Me.Fragment=yC;Me.Profiler=_C;Me.PureComponent=c0;Me.StrictMode=vC;Me.Suspense=SC;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=f0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)UE.call(e,l)&&!FE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Tu,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:EC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wC,_context:t},t.Consumer=t};Me.createElement=VE;Me.createFactory=function(t){var e=VE.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:IC,render:t}};Me.isValidElement=d0;Me.lazy=function(t){return{$$typeof:AC,_payload:{_status:-1,_result:t},_init:bC}};Me.memo=function(t,e){return{$$typeof:TC,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Bc.transition;Bc.transition={};try{t()}finally{Bc.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return $n.current.useCallback(t,e)};Me.useContext=function(t){return $n.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};Me.useEffect=function(t,e){return $n.current.useEffect(t,e)};Me.useId=function(){return $n.current.useId()};Me.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return $n.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};Me.useRef=function(t){return $n.current.useRef(t)};Me.useState=function(t){return $n.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return $n.current.useTransition()};Me.version="18.2.0";ME.exports=Me;var re=ME.exports;const $E=l0(re),PC=gC({__proto__:null,default:$E},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=re,MC=Symbol.for("react.element"),DC=Symbol.for("react.fragment"),OC=Object.prototype.hasOwnProperty,LC=NC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BC={key:!0,ref:!0,__self:!0,__source:!0};function jE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OC.call(e,r)&&!BC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MC,type:t,key:s,ref:o,props:i,_owner:LC.current}}hf.Fragment=DC;hf.jsx=jE;hf.jsxs=jE;NE.exports=hf;var U=NE.exports,Eg={},zE={exports:{}},lr={},HE={exports:{}},qE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,w){var R=I.length;I.push(w);e:for(;0<R;){var _=R-1>>>1,f=I[_];if(0<i(f,w))I[_]=w,I[R]=f,R=_;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var w=I[0],R=I.pop();if(R!==w){I[0]=R;e:for(var _=0,f=I.length,b=f>>>1;_<b;){var G=2*(_+1)-1,K=I[G],Q=G+1,oe=I[Q];if(0>i(K,R))Q<f&&0>i(oe,K)?(I[_]=oe,I[Q]=R,_=Q):(I[_]=K,I[G]=R,_=G);else if(Q<f&&0>i(oe,R))I[_]=oe,I[Q]=R,_=Q;else break e}}return w}function i(I,w){var R=I.sortIndex-w.sortIndex;return R!==0?R:I.id-w.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,g=null,v=3,x=!1,k=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var w=n(u);w!==null;){if(w.callback===null)r(u);else if(w.startTime<=I)r(u),w.sortIndex=w.expirationTime,e(l,w);else break;w=n(u)}}function O(I){if(C=!1,y(I),!k)if(n(l)!==null)k=!0,T(P);else{var w=n(u);w!==null&&M(O,w.startTime-I)}}function P(I,w){k=!1,C&&(C=!1,A(V),V=-1),x=!0;var R=v;try{for(y(w),g=n(l);g!==null&&(!(g.expirationTime>w)||I&&!ne());){var _=g.callback;if(typeof _=="function"){g.callback=null,v=g.priorityLevel;var f=_(g.expirationTime<=w);w=t.unstable_now(),typeof f=="function"?g.callback=f:g===n(l)&&r(l),y(w)}else r(l);g=n(l)}if(g!==null)var b=!0;else{var G=n(u);G!==null&&M(O,G.startTime-w),b=!1}return b}finally{g=null,v=R,x=!1}}var B=!1,F=null,V=-1,Y=5,X=-1;function ne(){return!(t.unstable_now()-X<Y)}function ye(){if(F!==null){var I=t.unstable_now();X=I;var w=!0;try{w=F(!0,I)}finally{w?L():(B=!1,F=null)}}else B=!1}var L;if(typeof E=="function")L=function(){E(ye)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,m=h.port2;h.port1.onmessage=ye,L=function(){m.postMessage(null)}}else L=function(){N(ye,0)};function T(I){F=I,B||(B=!0,L())}function M(I,w){V=N(function(){I(t.unstable_now())},w)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,T(P))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(v){case 1:case 2:case 3:var w=3;break;default:w=v}var R=v;v=w;try{return I()}finally{v=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,w){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var R=v;v=I;try{return w()}finally{v=R}},t.unstable_scheduleCallback=function(I,w,R){var _=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?_+R:_):R=_,I){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=R+f,I={id:c++,callback:w,priorityLevel:I,startTime:R,expirationTime:f,sortIndex:-1},R>_?(I.sortIndex=R,e(u,I),n(l)===null&&I===n(u)&&(C?(A(V),V=-1):C=!0,M(O,R-_))):(I.sortIndex=f,e(l,I),k||x||(k=!0,T(P))),I},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(I){var w=v;return function(){var R=v;v=w;try{return I.apply(this,arguments)}finally{v=R}}}})(qE);HE.exports=qE;var UC=HE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=re,or=UC;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WE=new Set,$l={};function go(t,e){la(t,e),la(t+"Capture",e)}function la(t,e){for($l[t]=e,t=0;t<e.length;t++)WE.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,FC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},c1={};function VC(t){return Ig.call(c1,t)?!0:Ig.call(u1,t)?!1:FC.test(t)?c1[t]=!0:(u1[t]=!0,!1)}function $C(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jC(t,e,n,r){if(e===null||typeof e>"u"||$C(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var p0=/[\-:]([a-z])/g;function g0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(p0,g0);mn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(p0,g0);mn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(p0,g0);mn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});mn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function m0(t,e,n,r){var i=mn.hasOwnProperty(e)?mn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jC(e,n,i,r)&&(n=null),r||i===null?VC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pi=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),KE=Symbol.for("react.provider"),QE=Symbol.for("react.context"),v0=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),_0=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),YE=Symbol.for("react.offscreen"),h1=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Hd;function cl(t){if(Hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hd=e&&e[1]||""}return`
`+Hd+t}var qd=!1;function Gd(t,e){if(!t||qd)return"";qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cl(t):""}function zC(t){switch(t.tag){case 5:return cl(t.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return t=Gd(t.type,!1),t;case 11:return t=Gd(t.type.render,!1),t;case 1:return t=Gd(t.type,!0),t;default:return""}}function xg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case Lo:return"Portal";case Sg:return"Profiler";case y0:return"StrictMode";case Tg:return"Suspense";case Ag:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QE:return(t.displayName||"Context")+".Consumer";case KE:return(t._context.displayName||"Context")+".Provider";case v0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _0:return e=t.displayName||null,e!==null?e:xg(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return xg(t(e))}catch{}}return null}function HC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xg(e);case 8:return e===y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qC(t){var e=XE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=qC(t))}function ZE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rg(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ms(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JE(t,e){e=e.checked,e!=null&&m0(t,"checked",e,!1)}function Cg(t,e){JE(t,e);var n=ms(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bg(t,e.type,n):e.hasOwnProperty("defaultValue")&&bg(t,e.type,ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function d1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bg(t,e,n){(e!=="number"||ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hl=Array.isArray;function Yo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ms(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(hl(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ms(n)}}function eI(t,e){var n=ms(e.value),r=ms(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,nI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GC=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(t){GC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Il[e]=Il[t]})});function rI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Il.hasOwnProperty(t)&&Il[t]?(""+e).trim():e+"px"}function iI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WC=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(t,e){if(e){if(WC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Mg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dg=null;function w0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Og=null,Xo=null,Zo=null;function m1(t){if(t=Ru(t)){if(typeof Og!="function")throw Error(te(280));var e=t.stateNode;e&&(e=mf(e),Og(t.stateNode,t.type,e))}}function sI(t){Xo?Zo?Zo.push(t):Zo=[t]:Xo=t}function oI(){if(Xo){var t=Xo,e=Zo;if(Zo=Xo=null,m1(t),e)for(t=0;t<e.length;t++)m1(e[t])}}function aI(t,e){return t(e)}function lI(){}var Wd=!1;function uI(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return aI(t,e,n)}finally{Wd=!1,(Xo!==null||Zo!==null)&&(lI(),oI())}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var r=mf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Lg=!1;if(Ii)try{var Xa={};Object.defineProperty(Xa,"passive",{get:function(){Lg=!0}}),window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Lg=!1}function KC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Sl=!1,sh=null,oh=!1,Bg=null,QC={onError:function(t){Sl=!0,sh=t}};function YC(t,e,n,r,i,s,o,a,l){Sl=!1,sh=null,KC.apply(QC,arguments)}function XC(t,e,n,r,i,s,o,a,l){if(YC.apply(this,arguments),Sl){if(Sl){var u=sh;Sl=!1,sh=null}else throw Error(te(198));oh||(oh=!0,Bg=u)}}function mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y1(t){if(mo(t)!==t)throw Error(te(188))}function ZC(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return y1(i),t;if(s===r)return y1(i),e;s=s.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function hI(t){return t=ZC(t),t!==null?fI(t):null}function fI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fI(t);if(e!==null)return e;t=t.sibling}return null}var dI=or.unstable_scheduleCallback,v1=or.unstable_cancelCallback,JC=or.unstable_shouldYield,eb=or.unstable_requestPaint,Tt=or.unstable_now,tb=or.unstable_getCurrentPriorityLevel,E0=or.unstable_ImmediatePriority,pI=or.unstable_UserBlockingPriority,ah=or.unstable_NormalPriority,nb=or.unstable_LowPriority,gI=or.unstable_IdlePriority,ff=null,Qr=null;function rb(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(ff,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:ob,ib=Math.log,sb=Math.LN2;function ob(t){return t>>>=0,t===0?32:31-(ib(t)/sb|0)|0}var sc=64,oc=4194304;function fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=fl(a):(s&=o,s!==0&&(r=fl(s)))}else o=n&~i,o!==0?r=fl(o):s!==0&&(r=fl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function ab(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ab(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mI(){var t=sc;return sc<<=1,!(sc&4194240)&&(sc=64),t}function Kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function ub(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function I0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function yI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vI,S0,_I,wI,EI,Fg=!1,ac=[],ns=null,rs=null,is=null,Hl=new Map,ql=new Map,Hi=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Za(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ru(e),e!==null&&S0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hb(t,e,n,r,i){switch(e){case"focusin":return ns=Za(ns,t,e,n,r,i),!0;case"dragenter":return rs=Za(rs,t,e,n,r,i),!0;case"mouseover":return is=Za(is,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hl.set(s,Za(Hl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,Za(ql.get(s)||null,t,e,n,r,i)),!0}return!1}function II(t){var e=Ls(t.target);if(e!==null){var n=mo(e);if(n!==null){if(e=n.tag,e===13){if(e=cI(n),e!==null){t.blockedOn=e,EI(t.priority,function(){_I(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dg=r,n.target.dispatchEvent(r),Dg=null}else return e=Ru(n),e!==null&&S0(e),t.blockedOn=n,!1;e.shift()}return!0}function w1(t,e,n){Uc(t)&&n.delete(e)}function fb(){Fg=!1,ns!==null&&Uc(ns)&&(ns=null),rs!==null&&Uc(rs)&&(rs=null),is!==null&&Uc(is)&&(is=null),Hl.forEach(w1),ql.forEach(w1)}function Ja(t,e){t.blockedOn===e&&(t.blockedOn=null,Fg||(Fg=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,fb)))}function Gl(t){function e(i){return Ja(i,t)}if(0<ac.length){Ja(ac[0],t);for(var n=1;n<ac.length;n++){var r=ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ns!==null&&Ja(ns,t),rs!==null&&Ja(rs,t),is!==null&&Ja(is,t),Hl.forEach(e),ql.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)II(n),n.blockedOn===null&&Hi.shift()}var Jo=Pi.ReactCurrentBatchConfig,uh=!0;function db(t,e,n,r){var i=He,s=Jo.transition;Jo.transition=null;try{He=1,T0(t,e,n,r)}finally{He=i,Jo.transition=s}}function pb(t,e,n,r){var i=He,s=Jo.transition;Jo.transition=null;try{He=4,T0(t,e,n,r)}finally{He=i,Jo.transition=s}}function T0(t,e,n,r){if(uh){var i=Vg(t,e,n,r);if(i===null)ip(t,e,r,ch,n),_1(t,r);else if(hb(i,t,e,n,r))r.stopPropagation();else if(_1(t,r),e&4&&-1<cb.indexOf(t)){for(;i!==null;){var s=Ru(i);if(s!==null&&vI(s),s=Vg(t,e,n,r),s===null&&ip(t,e,r,ch,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ip(t,e,r,null,n)}}var ch=null;function Vg(t,e,n,r){if(ch=null,t=w0(r),t=Ls(t),t!==null)if(e=mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ch=t,null}function SI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tb()){case E0:return 1;case pI:return 4;case ah:case nb:return 16;case gI:return 536870912;default:return 16}default:return 16}}var Yi=null,A0=null,Fc=null;function TI(){if(Fc)return Fc;var t,e=A0,n=e.length,r,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Fc=i.slice(t,1<r?1-r:void 0)}function Vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lc(){return!0}function E1(){return!1}function ur(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lc:E1,this.isPropagationStopped=E1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),e}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=ur(Na),xu=yt({},Na,{view:0,detail:0}),gb=ur(xu),Qd,Yd,el,df=yt({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==el&&(el&&t.type==="mousemove"?(Qd=t.screenX-el.screenX,Yd=t.screenY-el.screenY):Yd=Qd=0,el=t),Qd)},movementY:function(t){return"movementY"in t?t.movementY:Yd}}),I1=ur(df),mb=yt({},df,{dataTransfer:0}),yb=ur(mb),vb=yt({},xu,{relatedTarget:0}),Xd=ur(vb),_b=yt({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),wb=ur(_b),Eb=yt({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ib=ur(Eb),Sb=yt({},Na,{data:0}),S1=ur(Sb),Tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ab={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xb[t])?!!e[t]:!1}function R0(){return Rb}var Cb=yt({},xu,{key:function(t){if(t.key){var e=Tb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ab[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R0,charCode:function(t){return t.type==="keypress"?Vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bb=ur(Cb),kb=yt({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T1=ur(kb),Pb=yt({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R0}),Nb=ur(Pb),Mb=yt({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),Db=ur(Mb),Ob=yt({},df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lb=ur(Ob),Bb=[9,13,27,32],C0=Ii&&"CompositionEvent"in window,Tl=null;Ii&&"documentMode"in document&&(Tl=document.documentMode);var Ub=Ii&&"TextEvent"in window&&!Tl,AI=Ii&&(!C0||Tl&&8<Tl&&11>=Tl),A1=String.fromCharCode(32),x1=!1;function xI(t,e){switch(t){case"keyup":return Bb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function Fb(t,e){switch(t){case"compositionend":return RI(e);case"keypress":return e.which!==32?null:(x1=!0,A1);case"textInput":return t=e.data,t===A1&&x1?null:t;default:return null}}function Vb(t,e){if(Uo)return t==="compositionend"||!C0&&xI(t,e)?(t=TI(),Fc=A0=Yi=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AI&&e.locale!=="ko"?null:e.data;default:return null}}var $b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$b[t.type]:e==="textarea"}function CI(t,e,n,r){sI(r),e=hh(e,"onChange"),0<e.length&&(n=new x0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Al=null,Wl=null;function jb(t){FI(t,0)}function pf(t){var e=$o(t);if(ZE(e))return t}function zb(t,e){if(t==="change")return e}var bI=!1;if(Ii){var Zd;if(Ii){var Jd="oninput"in document;if(!Jd){var C1=document.createElement("div");C1.setAttribute("oninput","return;"),Jd=typeof C1.oninput=="function"}Zd=Jd}else Zd=!1;bI=Zd&&(!document.documentMode||9<document.documentMode)}function b1(){Al&&(Al.detachEvent("onpropertychange",kI),Wl=Al=null)}function kI(t){if(t.propertyName==="value"&&pf(Wl)){var e=[];CI(e,Wl,t,w0(t)),uI(jb,e)}}function Hb(t,e,n){t==="focusin"?(b1(),Al=e,Wl=n,Al.attachEvent("onpropertychange",kI)):t==="focusout"&&b1()}function qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pf(Wl)}function Gb(t,e){if(t==="click")return pf(e)}function Wb(t,e){if(t==="input"||t==="change")return pf(e)}function Kb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:Kb;function Kl(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function k1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P1(t,e){var n=k1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k1(n)}}function PI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NI(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ih(t.document)}return e}function b0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qb(t){var e=NI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PI(n.ownerDocument.documentElement,n)){if(r!==null&&b0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=P1(n,s);var o=P1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yb=Ii&&"documentMode"in document&&11>=document.documentMode,Fo=null,$g=null,xl=null,jg=!1;function N1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jg||Fo==null||Fo!==ih(r)||(r=Fo,"selectionStart"in r&&b0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xl&&Kl(xl,r)||(xl=r,r=hh($g,"onSelect"),0<r.length&&(e=new x0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vo={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},ep={},MI={};Ii&&(MI=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function gf(t){if(ep[t])return ep[t];if(!Vo[t])return t;var e=Vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MI)return ep[t]=e[n];return t}var DI=gf("animationend"),OI=gf("animationiteration"),LI=gf("animationstart"),BI=gf("transitionend"),UI=new Map,M1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){UI.set(t,e),go(e,[t])}for(var tp=0;tp<M1.length;tp++){var np=M1[tp],Xb=np.toLowerCase(),Zb=np[0].toUpperCase()+np.slice(1);Ss(Xb,"on"+Zb)}Ss(DI,"onAnimationEnd");Ss(OI,"onAnimationIteration");Ss(LI,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(BI,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function D1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XC(r,e,void 0,t),t.currentTarget=null}function FI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;D1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;D1(i,a,u),s=l}}}if(oh)throw t=Bg,oh=!1,Bg=null,t}function rt(t,e){var n=e[Wg];n===void 0&&(n=e[Wg]=new Set);var r=t+"__bubble";n.has(r)||(VI(e,t,2,!1),n.add(r))}function rp(t,e,n){var r=0;e&&(r|=4),VI(n,t,r,e)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[cc]){t[cc]=!0,WE.forEach(function(n){n!=="selectionchange"&&(Jb.has(n)||rp(n,!1,t),rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cc]||(e[cc]=!0,rp("selectionchange",!1,e))}}function VI(t,e,n,r){switch(SI(e)){case 1:var i=db;break;case 4:i=pb;break;default:i=T0}n=i.bind(null,e,n,t),i=void 0,!Lg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ip(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ls(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uI(function(){var u=s,c=w0(n),g=[];e:{var v=UI.get(t);if(v!==void 0){var x=x0,k=t;switch(t){case"keypress":if(Vc(n)===0)break e;case"keydown":case"keyup":x=bb;break;case"focusin":k="focus",x=Xd;break;case"focusout":k="blur",x=Xd;break;case"beforeblur":case"afterblur":x=Xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=I1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=yb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Nb;break;case DI:case OI:case LI:x=wb;break;case BI:x=Db;break;case"scroll":x=gb;break;case"wheel":x=Lb;break;case"copy":case"cut":case"paste":x=Ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=T1}var C=(e&4)!==0,N=!C&&t==="scroll",A=C?v!==null?v+"Capture":null:v;C=[];for(var E=u,y;E!==null;){y=E;var O=y.stateNode;if(y.tag===5&&O!==null&&(y=O,A!==null&&(O=zl(E,A),O!=null&&C.push(Yl(E,O,y)))),N)break;E=E.return}0<C.length&&(v=new x(v,k,null,n,c),g.push({event:v,listeners:C}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",v&&n!==Dg&&(k=n.relatedTarget||n.fromElement)&&(Ls(k)||k[Si]))break e;if((x||v)&&(v=c.window===c?c:(v=c.ownerDocument)?v.defaultView||v.parentWindow:window,x?(k=n.relatedTarget||n.toElement,x=u,k=k?Ls(k):null,k!==null&&(N=mo(k),k!==N||k.tag!==5&&k.tag!==6)&&(k=null)):(x=null,k=u),x!==k)){if(C=I1,O="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(C=T1,O="onPointerLeave",A="onPointerEnter",E="pointer"),N=x==null?v:$o(x),y=k==null?v:$o(k),v=new C(O,E+"leave",x,n,c),v.target=N,v.relatedTarget=y,O=null,Ls(c)===u&&(C=new C(A,E+"enter",k,n,c),C.target=y,C.relatedTarget=N,O=C),N=O,x&&k)t:{for(C=x,A=k,E=0,y=C;y;y=bo(y))E++;for(y=0,O=A;O;O=bo(O))y++;for(;0<E-y;)C=bo(C),E--;for(;0<y-E;)A=bo(A),y--;for(;E--;){if(C===A||A!==null&&C===A.alternate)break t;C=bo(C),A=bo(A)}C=null}else C=null;x!==null&&O1(g,v,x,C,!1),k!==null&&N!==null&&O1(g,N,k,C,!0)}}e:{if(v=u?$o(u):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var P=zb;else if(R1(v))if(bI)P=Wb;else{P=qb;var B=Hb}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=Gb);if(P&&(P=P(t,u))){CI(g,P,n,c);break e}B&&B(t,v,u),t==="focusout"&&(B=v._wrapperState)&&B.controlled&&v.type==="number"&&bg(v,"number",v.value)}switch(B=u?$o(u):window,t){case"focusin":(R1(B)||B.contentEditable==="true")&&(Fo=B,$g=u,xl=null);break;case"focusout":xl=$g=Fo=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,N1(g,n,c);break;case"selectionchange":if(Yb)break;case"keydown":case"keyup":N1(g,n,c)}var F;if(C0)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Uo?xI(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(AI&&n.locale!=="ko"&&(Uo||V!=="onCompositionStart"?V==="onCompositionEnd"&&Uo&&(F=TI()):(Yi=c,A0="value"in Yi?Yi.value:Yi.textContent,Uo=!0)),B=hh(u,V),0<B.length&&(V=new S1(V,t,null,n,c),g.push({event:V,listeners:B}),F?V.data=F:(F=RI(n),F!==null&&(V.data=F)))),(F=Ub?Fb(t,n):Vb(t,n))&&(u=hh(u,"onBeforeInput"),0<u.length&&(c=new S1("onBeforeInput","beforeinput",null,n,c),g.push({event:c,listeners:u}),c.data=F))}FI(g,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zl(t,n),s!=null&&r.unshift(Yl(t,s,i)),s=zl(t,e),s!=null&&r.push(Yl(t,s,i))),t=t.return}return r}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=zl(n,s),l!=null&&o.unshift(Yl(n,l,a))):i||(l=zl(n,s),l!=null&&o.push(Yl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function L1(t){return(typeof t=="string"?t:""+t).replace(ek,`
`).replace(tk,"")}function hc(t,e,n){if(e=L1(e),L1(t)!==e&&n)throw Error(te(425))}function fh(){}var zg=null,Hg=null;function qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(t){return B1.resolve(null).then(t).catch(ik)}:Gg;function ik(t){setTimeout(function(){throw t})}function sp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gl(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function U1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),zr="__reactFiber$"+Ma,Xl="__reactProps$"+Ma,Si="__reactContainer$"+Ma,Wg="__reactEvents$"+Ma,sk="__reactListeners$"+Ma,ok="__reactHandles$"+Ma;function Ls(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=U1(t);t!==null;){if(n=t[zr])return n;t=U1(t)}return e}t=n,n=t.parentNode}return null}function Ru(t){return t=t[zr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function mf(t){return t[Xl]||null}var Kg=[],jo=-1;function Ts(t){return{current:t}}function st(t){0>jo||(t.current=Kg[jo],Kg[jo]=null,jo--)}function Ze(t,e){jo++,Kg[jo]=t.current,t.current=e}var ys={},Pn=Ts(ys),Kn=Ts(!1),Js=ys;function ua(t,e){var n=t.type.contextTypes;if(!n)return ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function dh(){st(Kn),st(Pn)}function F1(t,e,n){if(Pn.current!==ys)throw Error(te(168));Ze(Pn,e),Ze(Kn,n)}function $I(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,HC(t)||"Unknown",i));return yt({},n,r)}function ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,Js=Pn.current,Ze(Pn,t),Ze(Kn,Kn.current),!0}function V1(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=$I(t,e,Js),r.__reactInternalMemoizedMergedChildContext=t,st(Kn),st(Pn),Ze(Pn,t)):st(Kn),Ze(Kn,n)}var hi=null,yf=!1,op=!1;function jI(t){hi===null?hi=[t]:hi.push(t)}function ak(t){yf=!0,jI(t)}function As(){if(!op&&hi!==null){op=!0;var t=0,e=He;try{var n=hi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,yf=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),dI(E0,As),i}finally{He=e,op=!1}}return null}var zo=[],Ho=0,gh=null,mh=0,pr=[],gr=0,eo=null,pi=1,gi="";function ks(t,e){zo[Ho++]=mh,zo[Ho++]=gh,gh=t,mh=e}function zI(t,e,n){pr[gr++]=pi,pr[gr++]=gi,pr[gr++]=eo,eo=t;var r=pi;t=gi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var s=32-Pr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pi=1<<32-Pr(e)+i|n<<i|r,gi=s+t}else pi=1<<s|n<<i|r,gi=t}function k0(t){t.return!==null&&(ks(t,1),zI(t,1,0))}function P0(t){for(;t===gh;)gh=zo[--Ho],zo[Ho]=null,mh=zo[--Ho],zo[Ho]=null;for(;t===eo;)eo=pr[--gr],pr[gr]=null,gi=pr[--gr],pr[gr]=null,pi=pr[--gr],pr[gr]=null}var sr=null,nr=null,ut=!1,kr=null;function HI(t,e){var n=_r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sr=t,nr=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sr=t,nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:pi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sr=t,nr=null,!0):!1;default:return!1}}function Qg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yg(t){if(ut){var e=nr;if(e){var n=e;if(!$1(t,e)){if(Qg(t))throw Error(te(418));e=ss(n.nextSibling);var r=sr;e&&$1(t,e)?HI(r,n):(t.flags=t.flags&-4097|2,ut=!1,sr=t)}}else{if(Qg(t))throw Error(te(418));t.flags=t.flags&-4097|2,ut=!1,sr=t}}}function j1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sr=t}function fc(t){if(t!==sr)return!1;if(!ut)return j1(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qg(t.type,t.memoizedProps)),e&&(e=nr)){if(Qg(t))throw qI(),Error(te(418));for(;e;)HI(t,e),e=ss(e.nextSibling)}if(j1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nr=ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nr=null}}else nr=sr?ss(t.stateNode.nextSibling):null;return!0}function qI(){for(var t=nr;t;)t=ss(t.nextSibling)}function ca(){nr=sr=null,ut=!1}function N0(t){kr===null?kr=[t]:kr.push(t)}var lk=Pi.ReactCurrentBatchConfig;function Cr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yh=Ts(null),vh=null,qo=null,M0=null;function D0(){M0=qo=vh=null}function O0(t){var e=yh.current;st(yh),t._currentValue=e}function Xg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ea(t,e){vh=t,M0=qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wn=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(M0!==t)if(t={context:t,memoizedValue:e,next:null},qo===null){if(vh===null)throw Error(te(308));qo=t,vh.dependencies={lanes:0,firstContext:t}}else qo=qo.next=t;return e}var Bs=null;function L0(t){Bs===null?Bs=[t]:Bs.push(t)}function GI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,L0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ti(t,r)}function Ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function B0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ti(t,n)}return i=r.interleaved,i===null?(e.next=e,L0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ti(t,n)}function $c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I0(t,n)}}function z1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _h(t,e,n,r){var i=t.updateQueue;ji=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;o=0,c=u=l=null,a=s;do{var v=a.lane,x=a.eventTime;if((r&v)===v){c!==null&&(c=c.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,C=a;switch(v=e,x=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){g=k.call(x,g,v);break e}g=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,v=typeof k=="function"?k.call(x,g,v):k,v==null)break e;g=yt({},g,v);break e;case 2:ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else x={eventTime:x,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=x,l=g):c=c.next=x,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(c===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);no|=o,t.lanes=o,t.memoizedState=g}}function H1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var KI=new GE.Component().refs;function Zg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vf={isMounted:function(t){return(t=t._reactInternals)?mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),i=ls(t),s=_i(r,i);s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Nr(e,t,i,r),$c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),i=ls(t),s=_i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=os(t,s,i),e!==null&&(Nr(e,t,i,r),$c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=ls(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=os(t,i,r),e!==null&&(Nr(e,t,r,n),$c(e,t,r))}};function q1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kl(n,r)||!Kl(i,s):!0}function QI(t,e,n){var r=!1,i=ys,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=Qn(e)?Js:Pn.current,r=e.contextTypes,s=(r=r!=null)?ua(t,i):ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function G1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vf.enqueueReplaceState(e,e.state,null)}function Jg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=KI,B0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=Qn(e)?Js:Pn.current,i.context=ua(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vf.enqueueReplaceState(i,i.state,null),_h(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===KI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function dc(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function W1(t){var e=t._init;return e(t._payload)}function YI(t){function e(A,E){if(t){var y=A.deletions;y===null?(A.deletions=[E],A.flags|=16):y.push(E)}}function n(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function r(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function i(A,E){return A=us(A,E),A.index=0,A.sibling=null,A}function s(A,E,y){return A.index=y,t?(y=A.alternate,y!==null?(y=y.index,y<E?(A.flags|=2,E):y):(A.flags|=2,E)):(A.flags|=1048576,E)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,E,y,O){return E===null||E.tag!==6?(E=dp(y,A.mode,O),E.return=A,E):(E=i(E,y),E.return=A,E)}function l(A,E,y,O){var P=y.type;return P===Bo?c(A,E,y.props.children,O,y.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===$i&&W1(P)===E.type)?(O=i(E,y.props),O.ref=tl(A,E,y),O.return=A,O):(O=Wc(y.type,y.key,y.props,null,A.mode,O),O.ref=tl(A,E,y),O.return=A,O)}function u(A,E,y,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=pp(y,A.mode,O),E.return=A,E):(E=i(E,y.children||[]),E.return=A,E)}function c(A,E,y,O,P){return E===null||E.tag!==7?(E=Gs(y,A.mode,O,P),E.return=A,E):(E=i(E,y),E.return=A,E)}function g(A,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=dp(""+E,A.mode,y),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nc:return y=Wc(E.type,E.key,E.props,null,A.mode,y),y.ref=tl(A,null,E),y.return=A,y;case Lo:return E=pp(E,A.mode,y),E.return=A,E;case $i:var O=E._init;return g(A,O(E._payload),y)}if(hl(E)||Ya(E))return E=Gs(E,A.mode,y,null),E.return=A,E;dc(A,E)}return null}function v(A,E,y,O){var P=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:a(A,E,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nc:return y.key===P?l(A,E,y,O):null;case Lo:return y.key===P?u(A,E,y,O):null;case $i:return P=y._init,v(A,E,P(y._payload),O)}if(hl(y)||Ya(y))return P!==null?null:c(A,E,y,O,null);dc(A,y)}return null}function x(A,E,y,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return A=A.get(y)||null,a(E,A,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case nc:return A=A.get(O.key===null?y:O.key)||null,l(E,A,O,P);case Lo:return A=A.get(O.key===null?y:O.key)||null,u(E,A,O,P);case $i:var B=O._init;return x(A,E,y,B(O._payload),P)}if(hl(O)||Ya(O))return A=A.get(y)||null,c(E,A,O,P,null);dc(E,O)}return null}function k(A,E,y,O){for(var P=null,B=null,F=E,V=E=0,Y=null;F!==null&&V<y.length;V++){F.index>V?(Y=F,F=null):Y=F.sibling;var X=v(A,F,y[V],O);if(X===null){F===null&&(F=Y);break}t&&F&&X.alternate===null&&e(A,F),E=s(X,E,V),B===null?P=X:B.sibling=X,B=X,F=Y}if(V===y.length)return n(A,F),ut&&ks(A,V),P;if(F===null){for(;V<y.length;V++)F=g(A,y[V],O),F!==null&&(E=s(F,E,V),B===null?P=F:B.sibling=F,B=F);return ut&&ks(A,V),P}for(F=r(A,F);V<y.length;V++)Y=x(F,A,V,y[V],O),Y!==null&&(t&&Y.alternate!==null&&F.delete(Y.key===null?V:Y.key),E=s(Y,E,V),B===null?P=Y:B.sibling=Y,B=Y);return t&&F.forEach(function(ne){return e(A,ne)}),ut&&ks(A,V),P}function C(A,E,y,O){var P=Ya(y);if(typeof P!="function")throw Error(te(150));if(y=P.call(y),y==null)throw Error(te(151));for(var B=P=null,F=E,V=E=0,Y=null,X=y.next();F!==null&&!X.done;V++,X=y.next()){F.index>V?(Y=F,F=null):Y=F.sibling;var ne=v(A,F,X.value,O);if(ne===null){F===null&&(F=Y);break}t&&F&&ne.alternate===null&&e(A,F),E=s(ne,E,V),B===null?P=ne:B.sibling=ne,B=ne,F=Y}if(X.done)return n(A,F),ut&&ks(A,V),P;if(F===null){for(;!X.done;V++,X=y.next())X=g(A,X.value,O),X!==null&&(E=s(X,E,V),B===null?P=X:B.sibling=X,B=X);return ut&&ks(A,V),P}for(F=r(A,F);!X.done;V++,X=y.next())X=x(F,A,V,X.value,O),X!==null&&(t&&X.alternate!==null&&F.delete(X.key===null?V:X.key),E=s(X,E,V),B===null?P=X:B.sibling=X,B=X);return t&&F.forEach(function(ye){return e(A,ye)}),ut&&ks(A,V),P}function N(A,E,y,O){if(typeof y=="object"&&y!==null&&y.type===Bo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case nc:e:{for(var P=y.key,B=E;B!==null;){if(B.key===P){if(P=y.type,P===Bo){if(B.tag===7){n(A,B.sibling),E=i(B,y.props.children),E.return=A,A=E;break e}}else if(B.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===$i&&W1(P)===B.type){n(A,B.sibling),E=i(B,y.props),E.ref=tl(A,B,y),E.return=A,A=E;break e}n(A,B);break}else e(A,B);B=B.sibling}y.type===Bo?(E=Gs(y.props.children,A.mode,O,y.key),E.return=A,A=E):(O=Wc(y.type,y.key,y.props,null,A.mode,O),O.ref=tl(A,E,y),O.return=A,A=O)}return o(A);case Lo:e:{for(B=y.key;E!==null;){if(E.key===B)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){n(A,E.sibling),E=i(E,y.children||[]),E.return=A,A=E;break e}else{n(A,E);break}else e(A,E);E=E.sibling}E=pp(y,A.mode,O),E.return=A,A=E}return o(A);case $i:return B=y._init,N(A,E,B(y._payload),O)}if(hl(y))return k(A,E,y,O);if(Ya(y))return C(A,E,y,O);dc(A,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(n(A,E.sibling),E=i(E,y),E.return=A,A=E):(n(A,E),E=dp(y,A.mode,O),E.return=A,A=E),o(A)):n(A,E)}return N}var ha=YI(!0),XI=YI(!1),Cu={},Yr=Ts(Cu),Zl=Ts(Cu),Jl=Ts(Cu);function Us(t){if(t===Cu)throw Error(te(174));return t}function U0(t,e){switch(Ze(Jl,e),Ze(Zl,t),Ze(Yr,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pg(e,t)}st(Yr),Ze(Yr,e)}function fa(){st(Yr),st(Zl),st(Jl)}function ZI(t){Us(Jl.current);var e=Us(Yr.current),n=Pg(e,t.type);e!==n&&(Ze(Zl,t),Ze(Yr,n))}function F0(t){Zl.current===t&&(st(Yr),st(Zl))}var ft=Ts(0);function wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ap=[];function V0(){for(var t=0;t<ap.length;t++)ap[t]._workInProgressVersionPrimary=null;ap.length=0}var jc=Pi.ReactCurrentDispatcher,lp=Pi.ReactCurrentBatchConfig,to=0,gt=null,Wt=null,en=null,Eh=!1,Rl=!1,eu=0,uk=0;function vn(){throw Error(te(321))}function $0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function j0(t,e,n,r,i,s){if(to=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?dk:pk,t=n(r,i),Rl){s=0;do{if(Rl=!1,eu=0,25<=s)throw Error(te(301));s+=1,en=Wt=null,e.updateQueue=null,jc.current=gk,t=n(r,i)}while(Rl)}if(jc.current=Ih,e=Wt!==null&&Wt.next!==null,to=0,en=Wt=gt=null,Eh=!1,e)throw Error(te(300));return t}function z0(){var t=eu!==0;return eu=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?gt.memoizedState=en=t:en=en.next=t,en}function Sr(){if(Wt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=en===null?gt.memoizedState:en.next;if(e!==null)en=e,Wt=t;else{if(t===null)throw Error(te(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},en===null?gt.memoizedState=en=t:en=en.next=t}return en}function tu(t,e){return typeof e=="function"?e(t):e}function up(t){var e=Sr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((to&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,gt.lanes|=c,no|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Lr(r,e.memoizedState)||(Wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,no|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cp(t){var e=Sr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lr(s,e.memoizedState)||(Wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JI(){}function eS(t,e){var n=gt,r=Sr(),i=e(),s=!Lr(r.memoizedState,i);if(s&&(r.memoizedState=i,Wn=!0),r=r.queue,H0(rS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,nu(9,nS.bind(null,n,r,i,e),void 0,null),nn===null)throw Error(te(349));to&30||tS(n,e,i)}return i}function tS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nS(t,e,n,r){e.value=n,e.getSnapshot=r,iS(e)&&sS(t)}function rS(t,e,n){return n(function(){iS(e)&&sS(t)})}function iS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function sS(t){var e=Ti(t,1);e!==null&&Nr(e,t,1,-1)}function K1(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=fk.bind(null,gt,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oS(){return Sr().memoizedState}function zc(t,e,n,r){var i=jr();gt.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function _f(t,e,n,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(Wt!==null){var o=Wt.memoizedState;if(s=o.destroy,r!==null&&$0(r,o.deps)){i.memoizedState=nu(e,n,s,r);return}}gt.flags|=t,i.memoizedState=nu(1|e,n,s,r)}function Q1(t,e){return zc(8390656,8,t,e)}function H0(t,e){return _f(2048,8,t,e)}function aS(t,e){return _f(4,2,t,e)}function lS(t,e){return _f(4,4,t,e)}function uS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cS(t,e,n){return n=n!=null?n.concat([t]):null,_f(4,4,uS.bind(null,e,t),n)}function q0(){}function hS(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fS(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dS(t,e,n){return to&21?(Lr(n,e)||(n=mI(),gt.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wn=!0),t.memoizedState=n)}function ck(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=lp.transition;lp.transition={};try{t(!1),e()}finally{He=n,lp.transition=r}}function pS(){return Sr().memoizedState}function hk(t,e,n){var r=ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gS(t))mS(e,n);else if(n=GI(t,e,n,r),n!==null){var i=Fn();Nr(n,t,r,i),yS(n,e,r)}}function fk(t,e,n){var r=ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gS(t))mS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,o)){var l=e.interleaved;l===null?(i.next=i,L0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GI(t,e,i,r),n!==null&&(i=Fn(),Nr(n,t,r,i),yS(n,e,r))}}function gS(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function mS(t,e){Rl=Eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I0(t,n)}}var Ih={readContext:Ir,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},dk={readContext:Ir,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:Q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zc(4194308,4,uS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return zc(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hk.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:K1,useDebugValue:q0,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=K1(!1),e=t[0];return t=ck.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=jr();if(ut){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),nn===null)throw Error(te(349));to&30||tS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Q1(rS.bind(null,r,s,t),[t]),r.flags|=2048,nu(9,nS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=jr(),e=nn.identifierPrefix;if(ut){var n=gi,r=pi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pk={readContext:Ir,useCallback:hS,useContext:Ir,useEffect:H0,useImperativeHandle:cS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:fS,useReducer:up,useRef:oS,useState:function(){return up(tu)},useDebugValue:q0,useDeferredValue:function(t){var e=Sr();return dS(e,Wt.memoizedState,t)},useTransition:function(){var t=up(tu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:JI,useSyncExternalStore:eS,useId:pS,unstable_isNewReconciler:!1},gk={readContext:Ir,useCallback:hS,useContext:Ir,useEffect:H0,useImperativeHandle:cS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:fS,useReducer:cp,useRef:oS,useState:function(){return cp(tu)},useDebugValue:q0,useDeferredValue:function(t){var e=Sr();return Wt===null?e.memoizedState=t:dS(e,Wt.memoizedState,t)},useTransition:function(){var t=cp(tu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:JI,useSyncExternalStore:eS,useId:pS,unstable_isNewReconciler:!1};function da(t,e){try{var n="",r=e;do n+=zC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function em(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mk=typeof WeakMap=="function"?WeakMap:Map;function vS(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,cm=r),em(t,e)},n}function _S(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){em(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){em(t,e),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Y1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kk.bind(null,t,e,n),e.then(t,t))}function X1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Z1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,os(n,e,1))),n.lanes|=1),t)}var yk=Pi.ReactCurrentOwner,Wn=!1;function Ln(t,e,n,r){e.child=t===null?XI(e,null,n,r):ha(e,t.child,n,r)}function J1(t,e,n,r,i){n=n.render;var s=e.ref;return ea(e,i),r=j0(t,e,n,r,s,i),n=z0(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ut&&n&&k0(e),e.flags|=1,Ln(t,e,r,i),e.child)}function e_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!J0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wS(t,e,s,r,i)):(t=Wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(o,r)&&t.ref===e.ref)return Ai(t,e,i)}return e.flags|=1,t=us(s,r),t.ref=e.ref,t.return=e,e.child=t}function wS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Kl(s,r)&&t.ref===e.ref)if(Wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Wn=!0);else return e.lanes=t.lanes,Ai(t,e,i)}return tm(t,e,n,r,i)}function ES(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Wo,er),er|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Wo,er),er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(Wo,er),er|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(Wo,er),er|=r;return Ln(t,e,i,n),e.child}function IS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tm(t,e,n,r,i){var s=Qn(n)?Js:Pn.current;return s=ua(e,s),ea(e,i),n=j0(t,e,n,r,s,i),r=z0(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ut&&r&&k0(e),e.flags|=1,Ln(t,e,n,i),e.child)}function t_(t,e,n,r,i){if(Qn(n)){var s=!0;ph(e)}else s=!1;if(ea(e,i),e.stateNode===null)Hc(t,e),QI(e,n,r),Jg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=Qn(n)?Js:Pn.current,u=ua(e,u));var c=n.getDerivedStateFromProps,g=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&G1(e,o,r,u),ji=!1;var v=e.memoizedState;o.state=v,_h(e,r,o,i),l=e.memoizedState,a!==r||v!==l||Kn.current||ji?(typeof c=="function"&&(Zg(e,n,c,r),l=e.memoizedState),(a=ji||q1(e,n,a,r,v,l,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cr(e.type,a),o.props=u,g=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ir(l):(l=Qn(n)?Js:Pn.current,l=ua(e,l));var x=n.getDerivedStateFromProps;(c=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||v!==l)&&G1(e,o,r,l),ji=!1,v=e.memoizedState,o.state=v,_h(e,r,o,i);var k=e.memoizedState;a!==g||v!==k||Kn.current||ji?(typeof x=="function"&&(Zg(e,n,x,r),k=e.memoizedState),(u=ji||q1(e,n,u,r,v,k,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return nm(t,e,n,r,s,i)}function nm(t,e,n,r,i,s){IS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&V1(e,n,!1),Ai(t,e,s);r=e.stateNode,yk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ha(e,t.child,null,s),e.child=ha(e,null,a,s)):Ln(t,e,a,s),e.memoizedState=r.state,i&&V1(e,n,!0),e.child}function SS(t){var e=t.stateNode;e.pendingContext?F1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F1(t,e.context,!1),U0(t,e.containerInfo)}function n_(t,e,n,r,i){return ca(),N0(i),e.flags|=256,Ln(t,e,n,r),e.child}var rm={dehydrated:null,treeContext:null,retryLane:0};function im(t){return{baseLanes:t,cachePool:null,transitions:null}}function TS(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ft,i&1),t===null)return Yg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=If(o,r,0,null),t=Gs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=im(n),e.memoizedState=rm,t):G0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=us(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=us(a,s):(s=Gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?im(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rm,r}return s=t.child,t=s.sibling,r=us(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function G0(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pc(t,e,n,r){return r!==null&&N0(r),ha(e,t.child,null,n),t=G0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hp(Error(te(422))),pc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=If({mode:"visible",children:r.children},i,0,null),s=Gs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ha(e,t.child,null,o),e.child.memoizedState=im(o),e.memoizedState=rm,s);if(!(e.mode&1))return pc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(te(419)),r=hp(s,r,void 0),pc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wn||a){if(r=nn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ti(t,i),Nr(r,t,i,-1))}return Z0(),r=hp(Error(te(421))),pc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Pk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nr=ss(i.nextSibling),sr=e,ut=!0,kr=null,t!==null&&(pr[gr++]=pi,pr[gr++]=gi,pr[gr++]=eo,pi=t.id,gi=t.overflow,eo=e),e=G0(e,r.children),e.flags|=4096,e)}function r_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xg(t.return,e,n)}function fp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function AS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ln(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r_(t,n,e);else if(t.tag===19)r_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fp(e,!0,n,null,s);break;case"together":fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _k(t,e,n){switch(e.tag){case 3:SS(e),ca();break;case 5:ZI(e);break;case 1:Qn(e.type)&&ph(e);break;case 4:U0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(yh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?TS(t,e,n):(Ze(ft,ft.current&1),t=Ai(t,e,n),t!==null?t.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,ES(t,e,n)}return Ai(t,e,n)}var xS,sm,RS,CS;xS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sm=function(){};RS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Us(Yr.current);var s=null;switch(n){case"input":i=Rg(t,i),r=Rg(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=kg(t,i),r=kg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fh)}Ng(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($l.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($l.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};CS=function(t,e,n,r){n!==r&&(e.flags|=4)};function nl(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wk(t,e,n){var r=e.pendingProps;switch(P0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return Qn(e.type)&&dh(),_n(e),null;case 3:return r=e.stateNode,fa(),st(Kn),st(Pn),V0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(dm(kr),kr=null))),sm(t,e),_n(e),null;case 5:F0(e);var i=Us(Jl.current);if(n=e.type,t!==null&&e.stateNode!=null)RS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return _n(e),null}if(t=Us(Yr.current),fc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zr]=e,r[Xl]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<dl.length;i++)rt(dl[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":f1(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":p1(r,s),rt("invalid",r)}Ng(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",""+a]):$l.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":rc(r),d1(r,s,!0);break;case"textarea":rc(r),g1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zr]=e,t[Xl]=r,xS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mg(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<dl.length;i++)rt(dl[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":f1(t,r),i=Rg(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":p1(t,r),i=kg(t,r),rt("invalid",t);break;default:i=r}Ng(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jl(t,l):typeof l=="number"&&jl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($l.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",t):l!=null&&m0(t,s,l,o))}switch(n){case"input":rc(t),d1(t,r,!1);break;case"textarea":rc(t),g1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ms(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Yo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)CS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Us(Jl.current),Us(Yr.current),fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(s=r.nodeValue!==n)&&(t=sr,t!==null))switch(t.tag){case 3:hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return _n(e),null;case 13:if(st(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&nr!==null&&e.mode&1&&!(e.flags&128))qI(),ca(),e.flags|=98560,s=!1;else if(s=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[zr]=e}else ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),s=!1}else kr!==null&&(dm(kr),kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Yt===0&&(Yt=3):Z0())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return fa(),sm(t,e),t===null&&Ql(e.stateNode.containerInfo),_n(e),null;case 10:return O0(e.type._context),_n(e),null;case 17:return Qn(e.type)&&dh(),_n(e),null;case 19:if(st(ft),s=e.memoizedState,s===null)return _n(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)nl(s,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wh(t),o!==null){for(e.flags|=128,nl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>pa&&(e.flags|=128,r=!0,nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=wh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return _n(e),null}else 2*Tt()-s.renderingStartTime>pa&&n!==1073741824&&(e.flags|=128,r=!0,nl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,n=ft.current,Ze(ft,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return X0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?er&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function Ek(t,e){switch(P0(e),e.tag){case 1:return Qn(e.type)&&dh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fa(),st(Kn),st(Pn),V0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return F0(e),null;case 13:if(st(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ft),null;case 4:return fa(),null;case 10:return O0(e.type._context),null;case 22:case 23:return X0(),null;case 24:return null;default:return null}}var gc=!1,Rn=!1,Ik=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function om(t,e,n){try{n()}catch(r){wt(t,e,r)}}var i_=!1;function Sk(t,e){if(zg=uh,t=NI(),b0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,g=t,v=null;t:for(;;){for(var x;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(x=g.firstChild)!==null;)v=g,g=x;for(;;){if(g===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++c===r&&(l=o),(x=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hg={focusedElem:t,selectionRange:n},uh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,N=k.memoizedState,A=e.stateNode,E=A.getSnapshotBeforeUpdate(e.elementType===e.type?C:Cr(e.type,C),N);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(O){wt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return k=i_,i_=!1,k}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&om(e,n,s)}i=i.next}while(i!==r)}}function wf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function am(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bS(t){var e=t.alternate;e!==null&&(t.alternate=null,bS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[Xl],delete e[Wg],delete e[sk],delete e[ok])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kS(t){return t.tag===5||t.tag===3||t.tag===4}function s_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fh));else if(r!==4&&(t=t.child,t!==null))for(lm(t,e,n),t=t.sibling;t!==null;)lm(t,e,n),t=t.sibling}function um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(um(t,e,n),t=t.sibling;t!==null;)um(t,e,n),t=t.sibling}var ln=null,br=!1;function Di(t,e,n){for(n=n.child;n!==null;)PS(t,e,n),n=n.sibling}function PS(t,e,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:Rn||Go(n,e);case 6:var r=ln,i=br;ln=null,Di(t,e,n),ln=r,br=i,ln!==null&&(br?(t=ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(br?(t=ln,n=n.stateNode,t.nodeType===8?sp(t.parentNode,n):t.nodeType===1&&sp(t,n),Gl(t)):sp(ln,n.stateNode));break;case 4:r=ln,i=br,ln=n.stateNode.containerInfo,br=!0,Di(t,e,n),ln=r,br=i;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&om(n,e,o),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!Rn&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,Di(t,e,n),Rn=r):Di(t,e,n);break;default:Di(t,e,n)}}function o_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ik),e.forEach(function(r){var i=Nk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ln=a.stateNode,br=!1;break e;case 3:ln=a.stateNode.containerInfo,br=!0;break e;case 4:ln=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(ln===null)throw Error(te(160));PS(s,o,i),ln=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NS(e,t),e=e.sibling}function NS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Vr(t),r&4){try{Cl(3,t,t.return),wf(3,t)}catch(C){wt(t,t.return,C)}try{Cl(5,t,t.return)}catch(C){wt(t,t.return,C)}}break;case 1:xr(e,t),Vr(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(xr(e,t),Vr(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var i=t.stateNode;try{jl(i,"")}catch(C){wt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JE(i,s),Mg(a,o);var u=Mg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],g=l[o+1];c==="style"?iI(i,g):c==="dangerouslySetInnerHTML"?nI(i,g):c==="children"?jl(i,g):m0(i,c,g,u)}switch(a){case"input":Cg(i,s);break;case"textarea":eI(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?Yo(i,!!s.multiple,x,!1):v!==!!s.multiple&&(s.defaultValue!=null?Yo(i,!!s.multiple,s.defaultValue,!0):Yo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xl]=s}catch(C){wt(t,t.return,C)}}break;case 6:if(xr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){wt(t,t.return,C)}}break;case 3:if(xr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(C){wt(t,t.return,C)}break;case 4:xr(e,t),Vr(t);break;case 13:xr(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Q0=Tt())),r&4&&o_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Rn=(u=Rn)||c,xr(e,t),Rn=u):xr(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ae=t,c=t.child;c!==null;){for(g=ae=c;ae!==null;){switch(v=ae,x=v.child,v.tag){case 0:case 11:case 14:case 15:Cl(4,v,v.return);break;case 1:Go(v,v.return);var k=v.stateNode;if(typeof k.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(C){wt(r,n,C)}}break;case 5:Go(v,v.return);break;case 22:if(v.memoizedState!==null){l_(g);continue}}x!==null?(x.return=v,ae=x):l_(g)}c=c.sibling}e:for(c=null,g=t;;){if(g.tag===5){if(c===null){c=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rI("display",o))}catch(C){wt(t,t.return,C)}}}else if(g.tag===6){if(c===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(C){wt(t,t.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;c===g&&(c=null),g=g.return}c===g&&(c=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:xr(e,t),Vr(t),r&4&&o_(t);break;case 21:break;default:xr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kS(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jl(i,""),r.flags&=-33);var s=s_(t);um(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s_(t);lm(t,a,o);break;default:throw Error(te(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tk(t,e,n){ae=t,MS(t)}function MS(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Rn;a=gc;var u=Rn;if(gc=o,(Rn=l)&&!u)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?u_(i):l!==null?(l.return=o,ae=l):u_(i);for(;s!==null;)ae=s,MS(s),s=s.sibling;ae=i,gc=a,Rn=u}a_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):a_(t)}}function a_(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rn||wf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&H1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}H1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var g=c.dehydrated;g!==null&&Gl(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Rn||e.flags&512&&am(e)}catch(v){wt(e,e.return,v)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function l_(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function u_(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wf(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{am(e)}catch(l){wt(e,s,l)}break;case 5:var o=e.return;try{am(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var Ak=Math.ceil,Sh=Pi.ReactCurrentDispatcher,W0=Pi.ReactCurrentOwner,wr=Pi.ReactCurrentBatchConfig,Le=0,nn=null,qt=null,dn=0,er=0,Wo=Ts(0),Yt=0,ru=null,no=0,Ef=0,K0=0,bl=null,Hn=null,Q0=0,pa=1/0,ci=null,Th=!1,cm=null,as=null,mc=!1,Xi=null,Ah=0,kl=0,hm=null,qc=-1,Gc=0;function Fn(){return Le&6?Tt():qc!==-1?qc:qc=Tt()}function ls(t){return t.mode&1?Le&2&&dn!==0?dn&-dn:lk.transition!==null?(Gc===0&&(Gc=mI()),Gc):(t=He,t!==0||(t=window.event,t=t===void 0?16:SI(t.type)),t):1}function Nr(t,e,n,r){if(50<kl)throw kl=0,hm=null,Error(te(185));Au(t,n,r),(!(Le&2)||t!==nn)&&(t===nn&&(!(Le&2)&&(Ef|=n),Yt===4&&qi(t,dn)),Yn(t,r),n===1&&Le===0&&!(e.mode&1)&&(pa=Tt()+500,yf&&As()))}function Yn(t,e){var n=t.callbackNode;lb(t,e);var r=lh(t,t===nn?dn:0);if(r===0)n!==null&&v1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v1(n),e===1)t.tag===0?ak(c_.bind(null,t)):jI(c_.bind(null,t)),rk(function(){!(Le&6)&&As()}),n=null;else{switch(yI(r)){case 1:n=E0;break;case 4:n=pI;break;case 16:n=ah;break;case 536870912:n=gI;break;default:n=ah}n=$S(n,DS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DS(t,e){if(qc=-1,Gc=0,Le&6)throw Error(te(327));var n=t.callbackNode;if(ta()&&t.callbackNode!==n)return null;var r=lh(t,t===nn?dn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xh(t,r);else{e=r;var i=Le;Le|=2;var s=LS();(nn!==t||dn!==e)&&(ci=null,pa=Tt()+500,qs(t,e));do try{Ck();break}catch(a){OS(t,a)}while(1);D0(),Sh.current=s,Le=i,qt!==null?e=0:(nn=null,dn=0,e=Yt)}if(e!==0){if(e===2&&(i=Ug(t),i!==0&&(r=i,e=fm(t,i))),e===1)throw n=ru,qs(t,0),qi(t,r),Yn(t,Tt()),n;if(e===6)qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!xk(i)&&(e=xh(t,r),e===2&&(s=Ug(t),s!==0&&(r=s,e=fm(t,s))),e===1))throw n=ru,qs(t,0),qi(t,r),Yn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Ps(t,Hn,ci);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=Q0+500-Tt(),10<e)){if(lh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gg(Ps.bind(null,t,Hn,ci),e);break}Ps(t,Hn,ci);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ak(r/1960))-r,10<r){t.timeoutHandle=Gg(Ps.bind(null,t,Hn,ci),r);break}Ps(t,Hn,ci);break;case 5:Ps(t,Hn,ci);break;default:throw Error(te(329))}}}return Yn(t,Tt()),t.callbackNode===n?DS.bind(null,t):null}function fm(t,e){var n=bl;return t.current.memoizedState.isDehydrated&&(qs(t,e).flags|=256),t=xh(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&dm(e)),t}function dm(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function xk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~K0,e&=~Ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function c_(t){if(Le&6)throw Error(te(327));ta();var e=lh(t,0);if(!(e&1))return Yn(t,Tt()),null;var n=xh(t,e);if(t.tag!==0&&n===2){var r=Ug(t);r!==0&&(e=r,n=fm(t,r))}if(n===1)throw n=ru,qs(t,0),qi(t,e),Yn(t,Tt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ps(t,Hn,ci),Yn(t,Tt()),null}function Y0(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(pa=Tt()+500,yf&&As())}}function ro(t){Xi!==null&&Xi.tag===0&&!(Le&6)&&ta();var e=Le;Le|=1;var n=wr.transition,r=He;try{if(wr.transition=null,He=1,t)return t()}finally{He=r,wr.transition=n,Le=e,!(Le&6)&&As()}}function X0(){er=Wo.current,st(Wo)}function qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nk(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(P0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dh();break;case 3:fa(),st(Kn),st(Pn),V0();break;case 5:F0(r);break;case 4:fa();break;case 13:st(ft);break;case 19:st(ft);break;case 10:O0(r.type._context);break;case 22:case 23:X0()}n=n.return}if(nn=t,qt=t=us(t.current,null),dn=er=e,Yt=0,ru=null,K0=Ef=no=0,Hn=bl=null,Bs!==null){for(e=0;e<Bs.length;e++)if(n=Bs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bs=null}return t}function OS(t,e){do{var n=qt;try{if(D0(),jc.current=Ih,Eh){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Eh=!1}if(to=0,en=Wt=gt=null,Rl=!1,eu=0,W0.current=null,n===null||n.return===null){Yt=1,ru=e,qt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=dn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,g=c.tag;if(!(c.mode&1)&&(g===0||g===11||g===15)){var v=c.alternate;v?(c.updateQueue=v.updateQueue,c.memoizedState=v.memoizedState,c.lanes=v.lanes):(c.updateQueue=null,c.memoizedState=null)}var x=X1(o);if(x!==null){x.flags&=-257,Z1(x,o,a,s,e),x.mode&1&&Y1(s,u,e),e=x,l=u;var k=e.updateQueue;if(k===null){var C=new Set;C.add(l),e.updateQueue=C}else k.add(l);break e}else{if(!(e&1)){Y1(s,u,e),Z0();break e}l=Error(te(426))}}else if(ut&&a.mode&1){var N=X1(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Z1(N,o,a,s,e),N0(da(l,a));break e}}s=l=da(l,a),Yt!==4&&(Yt=2),bl===null?bl=[s]:bl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=vS(s,l,e);z1(s,A);break e;case 1:a=l;var E=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(as===null||!as.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=_S(s,a,e);z1(s,O);break e}}s=s.return}while(s!==null)}US(n)}catch(P){e=P,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(1)}function LS(){var t=Sh.current;return Sh.current=Ih,t===null?Ih:t}function Z0(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),nn===null||!(no&268435455)&&!(Ef&268435455)||qi(nn,dn)}function xh(t,e){var n=Le;Le|=2;var r=LS();(nn!==t||dn!==e)&&(ci=null,qs(t,e));do try{Rk();break}catch(i){OS(t,i)}while(1);if(D0(),Le=n,Sh.current=r,qt!==null)throw Error(te(261));return nn=null,dn=0,Yt}function Rk(){for(;qt!==null;)BS(qt)}function Ck(){for(;qt!==null&&!JC();)BS(qt)}function BS(t){var e=VS(t.alternate,t,er);t.memoizedProps=t.pendingProps,e===null?US(t):qt=e,W0.current=null}function US(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ek(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,qt=null;return}}else if(n=wk(n,e,er),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);Yt===0&&(Yt=5)}function Ps(t,e,n){var r=He,i=wr.transition;try{wr.transition=null,He=1,bk(t,e,n,r)}finally{wr.transition=i,He=r}return null}function bk(t,e,n,r){do ta();while(Xi!==null);if(Le&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ub(t,s),t===nn&&(qt=nn=null,dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mc||(mc=!0,$S(ah,function(){return ta(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wr.transition,wr.transition=null;var o=He;He=1;var a=Le;Le|=4,W0.current=null,Sk(t,n),NS(n,t),Qb(Hg),uh=!!zg,Hg=zg=null,t.current=n,Tk(n),eb(),Le=a,He=o,wr.transition=s}else t.current=n;if(mc&&(mc=!1,Xi=t,Ah=i),s=t.pendingLanes,s===0&&(as=null),rb(n.stateNode),Yn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Th)throw Th=!1,t=cm,cm=null,t;return Ah&1&&t.tag!==0&&ta(),s=t.pendingLanes,s&1?t===hm?kl++:(kl=0,hm=t):kl=0,As(),null}function ta(){if(Xi!==null){var t=yI(Ah),e=wr.transition,n=He;try{if(wr.transition=null,He=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,Ah=0,Le&6)throw Error(te(331));var i=Le;for(Le|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var c=ae;switch(c.tag){case 0:case 11:case 15:Cl(8,c,s)}var g=c.child;if(g!==null)g.return=c,ae=g;else for(;ae!==null;){c=ae;var v=c.sibling,x=c.return;if(bS(c),c===u){ae=null;break}if(v!==null){v.return=x,ae=v;break}ae=x}}}var k=s.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var N=C.sibling;C.sibling=null,C=N}while(C!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,ae=A;break e}ae=s.return}}var E=t.current;for(ae=E;ae!==null;){o=ae;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ae=y;else e:for(o=E;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wf(9,a)}}catch(P){wt(a,a.return,P)}if(a===o){ae=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ae=O;break e}ae=a.return}}if(Le=i,As(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(ff,t)}catch{}r=!0}return r}finally{He=n,wr.transition=e}}return!1}function h_(t,e,n){e=da(n,e),e=vS(t,e,1),t=os(t,e,1),e=Fn(),t!==null&&(Au(t,1,e),Yn(t,e))}function wt(t,e,n){if(t.tag===3)h_(t,t,n);else for(;e!==null;){if(e.tag===3){h_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){t=da(n,t),t=_S(e,t,1),e=os(e,t,1),t=Fn(),e!==null&&(Au(e,1,t),Yn(e,t));break}}e=e.return}}function kk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(dn&n)===n&&(Yt===4||Yt===3&&(dn&130023424)===dn&&500>Tt()-Q0?qs(t,0):K0|=n),Yn(t,e)}function FS(t,e){e===0&&(t.mode&1?(e=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):e=1);var n=Fn();t=Ti(t,e),t!==null&&(Au(t,e,n),Yn(t,n))}function Pk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FS(t,n)}function Nk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),FS(t,n)}var VS;VS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wn=!1,_k(t,e,n);Wn=!!(t.flags&131072)}else Wn=!1,ut&&e.flags&1048576&&zI(e,mh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hc(t,e),t=e.pendingProps;var i=ua(e,Pn.current);ea(e,n),i=j0(null,e,r,t,i,n);var s=z0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(s=!0,ph(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B0(e),i.updater=vf,e.stateNode=i,i._reactInternals=e,Jg(e,r,t,n),e=nm(null,e,r,!0,s,n)):(e.tag=0,ut&&s&&k0(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Dk(r),t=Cr(r,t),i){case 0:e=tm(null,e,r,t,n);break e;case 1:e=t_(null,e,r,t,n);break e;case 11:e=J1(null,e,r,t,n);break e;case 14:e=e_(null,e,r,Cr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),tm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),t_(t,e,r,i,n);case 3:e:{if(SS(e),t===null)throw Error(te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WI(t,e),_h(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=da(Error(te(423)),e),e=n_(t,e,r,n,i);break e}else if(r!==i){i=da(Error(te(424)),e),e=n_(t,e,r,n,i);break e}else for(nr=ss(e.stateNode.containerInfo.firstChild),sr=e,ut=!0,kr=null,n=XI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ca(),r===i){e=Ai(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return ZI(e),t===null&&Yg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qg(r,i)?o=null:s!==null&&qg(r,s)&&(e.flags|=32),IS(t,e),Ln(t,e,o,n),e.child;case 6:return t===null&&Yg(e),null;case 13:return TS(t,e,n);case 4:return U0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ha(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),J1(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(yh,r._currentValue),r._currentValue=o,s!==null)if(Lr(s.value,o)){if(s.children===i.children&&!Kn.current){e=Ai(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ea(e,n),i=Ir(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=Cr(r,e.pendingProps),i=Cr(r.type,i),e_(t,e,r,i,n);case 15:return wS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),Hc(t,e),e.tag=1,Qn(r)?(t=!0,ph(e)):t=!1,ea(e,n),QI(e,r,i),Jg(e,r,i,n),nm(null,e,r,!0,t,n);case 19:return AS(t,e,n);case 22:return ES(t,e,n)}throw Error(te(156,e.tag))};function $S(t,e){return dI(t,e)}function Mk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,e,n,r){return new Mk(t,e,n,r)}function J0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dk(t){if(typeof t=="function")return J0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v0)return 11;if(t===_0)return 14}return 2}function us(t,e){var n=t.alternate;return n===null?(n=_r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")J0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bo:return Gs(n.children,i,s,e);case y0:o=8,i|=8;break;case Sg:return t=_r(12,n,e,i|2),t.elementType=Sg,t.lanes=s,t;case Tg:return t=_r(13,n,e,i),t.elementType=Tg,t.lanes=s,t;case Ag:return t=_r(19,n,e,i),t.elementType=Ag,t.lanes=s,t;case YE:return If(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KE:o=10;break e;case QE:o=9;break e;case v0:o=11;break e;case _0:o=14;break e;case $i:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=_r(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Gs(t,e,n,r){return t=_r(7,t,r,e),t.lanes=n,t}function If(t,e,n,r){return t=_r(22,t,r,e),t.elementType=YE,t.lanes=n,t.stateNode={isHidden:!1},t}function dp(t,e,n){return t=_r(6,t,null,e),t.lanes=n,t}function pp(t,e,n){return e=_r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ok(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ey(t,e,n,r,i,s,o,a,l){return t=new Ok(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B0(s),t}function Lk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jS(t){if(!t)return ys;t=t._reactInternals;e:{if(mo(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(Qn(n))return $I(t,n,e)}return e}function zS(t,e,n,r,i,s,o,a,l){return t=ey(n,r,!0,t,i,s,o,a,l),t.context=jS(null),n=t.current,r=Fn(),i=ls(n),s=_i(r,i),s.callback=e??null,os(n,s,i),t.current.lanes=i,Au(t,i,r),Yn(t,r),t}function Sf(t,e,n,r){var i=e.current,s=Fn(),o=ls(i);return n=jS(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=os(i,e,o),t!==null&&(Nr(t,i,o,s),$c(t,i,o)),o}function Rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ty(t,e){f_(t,e),(t=t.alternate)&&f_(t,e)}function Bk(){return null}var HS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ny(t){this._internalRoot=t}Tf.prototype.render=ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Sf(t,e,null,null)};Tf.prototype.unmount=ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){Sf(null,t,null,null)}),e[Si]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=wI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&II(t)}};function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d_(){}function Uk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rh(o);s.call(u)}}var o=zS(e,r,t,0,null,!1,!1,"",d_);return t._reactRootContainer=o,t[Si]=o.current,Ql(t.nodeType===8?t.parentNode:t),ro(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Rh(l);a.call(u)}}var l=ey(t,0,!1,null,null,!1,!1,"",d_);return t._reactRootContainer=l,t[Si]=l.current,Ql(t.nodeType===8?t.parentNode:t),ro(function(){Sf(e,l,n,r)}),l}function xf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rh(o);a.call(l)}}Sf(e,o,t,i)}else o=Uk(n,e,t,i,r);return Rh(o)}vI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fl(e.pendingLanes);n!==0&&(I0(e,n|1),Yn(e,Tt()),!(Le&6)&&(pa=Tt()+500,As()))}break;case 13:ro(function(){var r=Ti(t,1);if(r!==null){var i=Fn();Nr(r,t,1,i)}}),ty(t,1)}};S0=function(t){if(t.tag===13){var e=Ti(t,134217728);if(e!==null){var n=Fn();Nr(e,t,134217728,n)}ty(t,134217728)}};_I=function(t){if(t.tag===13){var e=ls(t),n=Ti(t,e);if(n!==null){var r=Fn();Nr(n,t,e,r)}ty(t,e)}};wI=function(){return He};EI=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Og=function(t,e,n){switch(e){case"input":if(Cg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mf(r);if(!i)throw Error(te(90));ZE(r),Cg(r,i)}}}break;case"textarea":eI(t,n);break;case"select":e=n.value,e!=null&&Yo(t,!!n.multiple,e,!1)}};aI=Y0;lI=ro;var Fk={usingClientEntryPoint:!1,Events:[Ru,$o,mf,sI,oI,Y0]},rl={findFiberByHostInstance:Ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Vk={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hI(t),t===null?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||Bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ff=yc.inject(Vk),Qr=yc}catch{}}lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(e))throw Error(te(200));return Lk(t,e,null,n)};lr.createRoot=function(t,e){if(!ry(t))throw Error(te(299));var n=!1,r="",i=HS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ey(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,Ql(t.nodeType===8?t.parentNode:t),new ny(e)};lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=hI(e),t=t===null?null:t.stateNode,t};lr.flushSync=function(t){return ro(t)};lr.hydrate=function(t,e,n){if(!Af(e))throw Error(te(200));return xf(null,t,e,!0,n)};lr.hydrateRoot=function(t,e,n){if(!ry(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=HS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zS(e,null,t,1,n??null,i,!1,s,o),t[Si]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tf(e)};lr.render=function(t,e,n){if(!Af(e))throw Error(te(200));return xf(null,t,e,!1,n)};lr.unmountComponentAtNode=function(t){if(!Af(t))throw Error(te(40));return t._reactRootContainer?(ro(function(){xf(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};lr.unstable_batchedUpdates=Y0;lr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Af(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return xf(t,e,n,!1,r)};lr.version="18.2.0-next-9e3b772b8-20220608";function qS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qS)}catch(t){console.error(t)}}qS(),zE.exports=lr;var $k=zE.exports,p_=$k;Eg.createRoot=p_.createRoot,Eg.hydrateRoot=p_.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}var Zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zi||(Zi={}));const g_="popstate";function jk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return pm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ch(i)}return Hk(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zk(){return Math.random().toString(36).substr(2,8)}function m_(t,e){return{usr:t.state,key:t.key,idx:e}}function pm(t,e,n,r){return n===void 0&&(n=null),iu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Da(e):e,{state:n,key:e&&e.key||r||zk()})}function Ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Hk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Zi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(iu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function g(){a=Zi.Pop;let N=c(),A=N==null?null:N-u;u=N,l&&l({action:a,location:C.location,delta:A})}function v(N,A){a=Zi.Push;let E=pm(C.location,N,A);n&&n(E,N),u=c()+1;let y=m_(E,u),O=C.createHref(E);try{o.pushState(y,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(O)}s&&l&&l({action:a,location:C.location,delta:1})}function x(N,A){a=Zi.Replace;let E=pm(C.location,N,A);n&&n(E,N),u=c();let y=m_(E,u),O=C.createHref(E);o.replaceState(y,"",O),s&&l&&l({action:a,location:C.location,delta:0})}function k(N){let A=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof N=="string"?N:Ch(N);return mt(A,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,A)}let C={get action(){return a},get location(){return t(i,o)},listen(N){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g_,g),l=N,()=>{i.removeEventListener(g_,g),l=null}},createHref(N){return e(i,N)},createURL:k,encodeLocation(N){let A=k(N);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:x,go(N){return o.go(N)}};return C}var y_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(y_||(y_={}));function qk(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Da(e):e,i=su(r.pathname||"/",n);if(i==null)return null;let s=GS(t);Gk(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=tP(s[a],rP(i));return o}function GS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=cs([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),GS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Jk(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of WS(s.path))i(s,o,l)}),e}function WS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=WS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Gk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wk=/^:\w+$/,Kk=3,Qk=2,Yk=1,Xk=10,Zk=-2,v_=t=>t==="*";function Jk(t,e){let n=t.split("/"),r=n.length;return n.some(v_)&&(r+=Zk),e&&(r+=Qk),n.filter(i=>!v_(i)).reduce((i,s)=>i+(Wk.test(s)?Kk:s===""?Yk:Xk),r)}function eP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tP(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=gm({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let g=a.route;s.push({params:r,pathname:cs([i,c.pathname]),pathnameBase:aP(cs([i,c.pathnameBase])),route:g}),c.pathnameBase!=="/"&&(i=cs([i,c.pathnameBase]))}return s}function gm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,g)=>{if(c==="*"){let v=a[g]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}return u[c]=iP(a[g]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function nP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rP(t){try{return decodeURI(t)}catch(e){return iy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iP(t,e){try{return decodeURIComponent(t)}catch(n){return iy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function su(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Da(t):t;return{pathname:n?n.startsWith("/")?n:oP(n,e):e,search:lP(r),hash:uP(i)}}function oP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Da(t):(i=iu({},t),mt(!i.pathname||!i.pathname.includes("?"),gp("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),gp("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),gp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let g=e.length-1;if(o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}a=g>=0?e[g]:"/"}let l=sP(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const cs=t=>t.join("/").replace(/\/\/+/g,"/"),aP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KS=["post","put","patch","delete"];new Set(KS);const hP=["get",...KS];new Set(hP);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(this,arguments)}const Rf=re.createContext(null),QS=re.createContext(null),yo=re.createContext(null),Cf=re.createContext(null),Ni=re.createContext({outlet:null,matches:[],isDataRoute:!1}),YS=re.createContext(null);function fP(t,e){let{relative:n}=e===void 0?{}:e;Oa()||mt(!1);let{basename:r,navigator:i}=re.useContext(yo),{hash:s,pathname:o,search:a}=kf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:cs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Oa(){return re.useContext(Cf)!=null}function La(){return Oa()||mt(!1),re.useContext(Cf).location}function XS(t){re.useContext(yo).static||re.useLayoutEffect(t)}function bf(){let{isDataRoute:t}=re.useContext(Ni);return t?RP():dP()}function dP(){Oa()||mt(!1);let t=re.useContext(Rf),{basename:e,navigator:n}=re.useContext(yo),{matches:r}=re.useContext(Ni),{pathname:i}=La(),s=JSON.stringify(sy(r).map(l=>l.pathnameBase)),o=re.useRef(!1);return XS(()=>{o.current=!0}),re.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=oy(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:cs([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const pP=re.createContext(null);function gP(t){let e=re.useContext(Ni).outlet;return e&&re.createElement(pP.Provider,{value:t},e)}function kf(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=re.useContext(Ni),{pathname:i}=La(),s=JSON.stringify(sy(r).map(o=>o.pathnameBase));return re.useMemo(()=>oy(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function mP(t,e){return yP(t,e)}function yP(t,e,n){Oa()||mt(!1);let{navigator:r}=re.useContext(yo),{matches:i}=re.useContext(Ni),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=La(),u;if(e){var c;let C=typeof e=="string"?Da(e):e;a==="/"||(c=C.pathname)!=null&&c.startsWith(a)||mt(!1),u=C}else u=l;let g=u.pathname||"/",v=a==="/"?g:g.slice(a.length)||"/",x=qk(t,{pathname:v}),k=IP(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:cs([a,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:cs([a,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n);return e&&k?re.createElement(Cf.Provider,{value:{location:bh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zi.Pop}},k):k}function vP(){let t=xP(),e=cP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),n?re.createElement("pre",{style:i},n):null,s)}const _P=re.createElement(vP,null);class wP extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?re.createElement(Ni.Provider,{value:this.props.routeContext},re.createElement(YS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EP(t){let{routeContext:e,match:n,children:r}=t,i=re.useContext(Rf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(Ni.Provider,{value:e},r)}function IP(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||mt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,g=null;n&&(g=l.route.errorElement||_P);let v=e.concat(s.slice(0,u+1)),x=()=>{let k;return c?k=g:l.route.Component?k=re.createElement(l.route.Component,null):l.route.element?k=l.route.element:k=a,re.createElement(EP,{match:l,routeContext:{outlet:a,matches:v,isDataRoute:n!=null},children:k})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?re.createElement(wP,{location:n.location,revalidation:n.revalidation,component:g,error:c,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var ZS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZS||{}),kh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kh||{});function SP(t){let e=re.useContext(Rf);return e||mt(!1),e}function TP(t){let e=re.useContext(QS);return e||mt(!1),e}function AP(t){let e=re.useContext(Ni);return e||mt(!1),e}function JS(t){let e=AP(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function xP(){var t;let e=re.useContext(YS),n=TP(kh.UseRouteError),r=JS(kh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function RP(){let{router:t}=SP(ZS.UseNavigateStable),e=JS(kh.UseNavigateStable),n=re.useRef(!1);return XS(()=>{n.current=!0}),re.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bh({fromRouteId:e},s)))},[t,e])}function Pl(t){let{to:e,replace:n,state:r,relative:i}=t;Oa()||mt(!1);let{matches:s}=re.useContext(Ni),{pathname:o}=La(),a=bf(),l=oy(e,sy(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return re.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function eT(t){return gP(t.context)}function An(t){mt(!1)}function CP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zi.Pop,navigator:s,static:o=!1}=t;Oa()&&mt(!1);let a=e.replace(/^\/*/,"/"),l=re.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Da(r));let{pathname:u="/",search:c="",hash:g="",state:v=null,key:x="default"}=r,k=re.useMemo(()=>{let C=su(u,a);return C==null?null:{location:{pathname:C,search:c,hash:g,state:v,key:x},navigationType:i}},[a,u,c,g,v,x,i]);return k==null?null:re.createElement(yo.Provider,{value:l},re.createElement(Cf.Provider,{children:n,value:k}))}function __(t){let{children:e,location:n}=t;return mP(mm(e),n)}new Promise(()=>{});function mm(t,e){e===void 0&&(e=[]);let n=[];return re.Children.forEach(t,(r,i)=>{if(!re.isValidElement(r))return;let s=[...e,i];if(r.type===re.Fragment){n.push.apply(n,mm(r.props.children,s));return}r.type!==An&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}function tT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kP(t,e){return t.button===0&&(!e||e==="_self")&&!bP(t)}const PP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],NP=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],MP=re.createContext({isTransitioning:!1}),DP="startTransition",w_=PC[DP];function E_(t){let{basename:e,children:n,future:r,window:i}=t,s=re.useRef();s.current==null&&(s.current=jk({window:i,v5Compat:!0}));let o=s.current,[a,l]=re.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=re.useCallback(g=>{u&&w_?w_(()=>l(g)):l(g)},[l,u]);return re.useLayoutEffect(()=>o.listen(c),[o,c]),re.createElement(CP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const OP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,io=re.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:g}=e,v=tT(e,PP),{basename:x}=re.useContext(yo),k,C=!1;if(typeof u=="string"&&LP.test(u)&&(k=u,OP))try{let y=new URL(window.location.href),O=u.startsWith("//")?new URL(y.protocol+u):new URL(u),P=su(O.pathname,x);O.origin===y.origin&&P!=null?u=P+O.search+O.hash:C=!0}catch{}let N=fP(u,{relative:i}),A=UP(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:g});function E(y){r&&r(y),y.defaultPrevented||A(y)}return re.createElement("a",Ph({},v,{href:k||N,onClick:C||s?r:E,ref:n,target:l}))}),zi=re.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,g=tT(e,NP),v=kf(l,{relative:g.relative}),x=La(),k=re.useContext(QS),{navigator:C}=re.useContext(yo),N=k!=null&&FP(v)&&u===!0,A=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,E=x.pathname,y=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(E=E.toLowerCase(),y=y?y.toLowerCase():null,A=A.toLowerCase());let O=E===A||!o&&E.startsWith(A)&&E.charAt(A.length)==="/",P=y!=null&&(y===A||!o&&y.startsWith(A)&&y.charAt(A.length)==="/"),B={isActive:O,isPending:P,isTransitioning:N},F=O?r:void 0,V;typeof s=="function"?V=s(B):V=[s,O?"active":null,P?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Y=typeof a=="function"?a(B):a;return re.createElement(io,Ph({},g,{"aria-current":F,className:V,ref:n,style:Y,to:l,unstable_viewTransition:u}),typeof c=="function"?c(B):c)});var ym;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ym||(ym={}));var I_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I_||(I_={}));function BP(t){let e=re.useContext(Rf);return e||mt(!1),e}function UP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=bf(),u=La(),c=kf(t,{relative:o});return re.useCallback(g=>{if(kP(g,n)){g.preventDefault();let v=r!==void 0?r:Ch(u)===Ch(c);l(t,{replace:v,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function FP(t,e){e===void 0&&(e={});let n=re.useContext(MP);n==null&&mt(!1);let{basename:r}=BP(ym.useViewTransitionState),i=kf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=su(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=su(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gm(i.pathname,o)!=null||gm(i.pathname,s)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,g=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,x=u&63;l||(x=64,o||(v=64)),r.push(n[c],n[g],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||g==null)throw new $P;const v=s<<2|a>>4;if(r.push(v),u!==64){const x=a<<4&240|u>>2;if(r.push(x),g!==64){const k=u<<6&192|g;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jP=function(t){const e=nT(t);return rT.encodeByteArray(e,!0)},Nh=function(t){return jP(t).replace(/\./g,"")},iT=function(t){try{return rT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=()=>zP().__FIREBASE_DEFAULTS__,qP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iT(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return HP()||qP()||GP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sT=t=>{var e,n;return(n=(e=Pf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oT=t=>{const e=sT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aT=()=>{var t;return(t=Pf())===null||t===void 0?void 0:t.config},lT=t=>{var e;return(e=Pf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Nh(JSON.stringify(n)),Nh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function QP(){var t;const e=(t=Pf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZP(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JP(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="FirebaseError";class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tN,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new oi(i,a,r)}}function nN(t,e){return t.replace(rN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rN=/\{\$([^}]+)}/g;function iN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(S_(s)&&S_(o)){if(!Mh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sN(t,e){const n=new oN(t,e);return n.subscribe.bind(n)}class oN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mp),i.error===void 0&&(i.error=mp),i.complete===void 0&&(i.complete=mp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cN(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uN(t){return t===Ns?void 0:t}function cN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const fN={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},dN=De.INFO,pN={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},gN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ay{constructor(e){this.name=e,this._logLevel=dN,this._logHandler=gN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const mN=(t,e)=>e.some(n=>t instanceof n);let T_,A_;function yN(){return T_||(T_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vN(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,vm=new WeakMap,hT=new WeakMap,yp=new WeakMap,ly=new WeakMap;function _N(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function wN(t){if(vm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vm.set(t,e)}let _m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EN(t){_m=t(_m)}function IN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vp(this),e,...n);return hT.set(r,e.sort?e.sort():[e]),hs(r)}:vN().includes(t)?function(...e){return t.apply(vp(this),e),hs(cT.get(this))}:function(...e){return hs(t.apply(vp(this),e))}}function SN(t){return typeof t=="function"?IN(t):(t instanceof IDBTransaction&&wN(t),mN(t,yN())?new Proxy(t,_m):t)}function hs(t){if(t instanceof IDBRequest)return _N(t);if(yp.has(t))return yp.get(t);const e=SN(t);return e!==t&&(yp.set(t,e),ly.set(e,t)),e}const vp=t=>ly.get(t);function TN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hs(o.result),l.oldVersion,l.newVersion,hs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const AN=["get","getKey","getAll","getAllKeys","count"],xN=["put","add","delete","clear"],_p=new Map;function x_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _p.set(e,s),s}EN(t=>({...t,get:(e,n,r)=>x_(e,n)||t.get(e,n,r),has:(e,n)=>!!x_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wm="@firebase/app",R_="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new ay("@firebase/app"),bN="@firebase/app-compat",kN="@firebase/analytics-compat",PN="@firebase/analytics",NN="@firebase/app-check-compat",MN="@firebase/app-check",DN="@firebase/auth",ON="@firebase/auth-compat",LN="@firebase/database",BN="@firebase/database-compat",UN="@firebase/functions",FN="@firebase/functions-compat",VN="@firebase/installations",$N="@firebase/installations-compat",jN="@firebase/messaging",zN="@firebase/messaging-compat",HN="@firebase/performance",qN="@firebase/performance-compat",GN="@firebase/remote-config",WN="@firebase/remote-config-compat",KN="@firebase/storage",QN="@firebase/storage-compat",YN="@firebase/firestore",XN="@firebase/firestore-compat",ZN="firebase",JN="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",eM={[wm]:"fire-core",[bN]:"fire-core-compat",[PN]:"fire-analytics",[kN]:"fire-analytics-compat",[MN]:"fire-app-check",[NN]:"fire-app-check-compat",[DN]:"fire-auth",[ON]:"fire-auth-compat",[LN]:"fire-rtdb",[BN]:"fire-rtdb-compat",[UN]:"fire-fn",[FN]:"fire-fn-compat",[VN]:"fire-iid",[$N]:"fire-iid-compat",[jN]:"fire-fcm",[zN]:"fire-fcm-compat",[HN]:"fire-perf",[qN]:"fire-perf-compat",[GN]:"fire-rc",[WN]:"fire-rc-compat",[KN]:"fire-gcs",[QN]:"fire-gcs-compat",[YN]:"fire-fst",[XN]:"fire-fst-compat","fire-js":"fire-js",[ZN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,Im=new Map;function tM(t,e){try{t.container.addComponent(e)}catch(n){so.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(Im.has(e))return so.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,t);for(const n of Dh.values())tM(n,t);return!0}function Nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fs=new bu("app","Firebase",nM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=JN;function _o(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fs.create("bad-app-name",{appName:String(i)});if(n||(n=aT()),!n)throw fs.create("no-options");const s=Dh.get(i);if(s){if(Mh(n,s.options)&&Mh(r,s.config))return s;throw fs.create("duplicate-app",{appName:i})}const o=new hN(i);for(const l of Im.values())o.addComponent(l);const a=new rM(n,r,o);return Dh.set(i,a),a}function uy(t=Em){const e=Dh.get(t);if(!e&&t===Em&&aT())return _o();if(!e)throw fs.create("no-app",{appName:t});return e}function Xr(t,e,n){var r;let i=(r=eM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),so.warn(a.join(" "));return}oo(new vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="firebase-heartbeat-database",sM=1,ou="firebase-heartbeat-store";let wp=null;function fT(){return wp||(wp=TN(iM,sM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ou)}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),wp}async function oM(t){try{return await(await fT()).transaction(ou).objectStore(ou).get(dT(t))}catch(e){if(e instanceof oi)so.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});so.warn(n.message)}}}async function C_(t,e){try{const r=(await fT()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,dT(t)),await r.done}catch(n){if(n instanceof oi)so.warn(n.message);else{const r=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});so.warn(r.message)}}}function dT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=1024,lM=30*24*60*60*1e3;class uM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=b_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=lM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b_(),{heartbeatsToSend:n,unsentEntries:r}=cM(this._heartbeatsCache.heartbeats),i=Nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function b_(){return new Date().toISOString().substring(0,10)}function cM(t,e=aM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),k_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),k_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JP()?eN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await oM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function k_(t){return Nh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){oo(new vs("platform-logger",e=>new RN(e),"PRIVATE")),oo(new vs("heartbeat",e=>new uM(e),"PRIVATE")),Xr(wm,R_,t),Xr(wm,R_,"esm2017"),Xr("fire-js","")}fM("");var dM="firebase",pM="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(dM,pM,"app");function cy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function P_(t){return t!==void 0&&t.enterprise!==void 0}class gM{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mM=pT,gT=new bu("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new ay("@firebase/auth");function yM(t,...e){Oh.logLevel<=De.WARN&&Oh.warn(`Auth (${vo}): ${t}`,...e)}function Kc(t,...e){Oh.logLevel<=De.ERROR&&Oh.error(`Auth (${vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw hy(t,...e)}function Zr(t,...e){return hy(t,...e)}function mT(t,e,n){const r=Object.assign(Object.assign({},mM()),{[e]:n});return new bu("auth","Firebase",r).create(e,{appName:t.name})}function vM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),mT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gT.create(t,...e)}function we(t,e,...n){if(!t)throw hy(e,...n)}function mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kc(e),new Error(e)}function xi(t,e){t||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _M(){return N_()==="http:"||N_()==="https:"}function N_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_M()||YP()||"connection"in navigator)?navigator.onLine:!0}function EM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=KP()||XP()}get(){return wM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=new Pu(3e4,6e4);function wo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,n,r,i={}){return vT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ku(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),yT.fetch()(_T(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function vT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IM),e);try{const i=new TM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mT(t,c,u);Tr(t,c)}}catch(i){if(i instanceof oi)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function Nu(t,e,n,r,i={}){const s=await xs(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _T(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fy(t.config,i):`${t.config.apiScheme}://${i}`}class TM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),SM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zr(t,e,r);return i.customData._tokenResponse=n,i}async function AM(t,e){return xs(t,"GET","/v2/recaptchaConfig",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function RM(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CM(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=dy(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nl(Ep(i.auth_time)),issuedAtTime:Nl(Ep(i.iat)),expirationTime:Nl(Ep(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ep(t){return Number(t)*1e3}function dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=iT(n);return i?JSON.parse(i):(Kc("Failed to decode base64 JWT payload"),null)}catch(i){return Kc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bM(t){const e=dy(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oi&&kM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ga(t,RM(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DM(s.providerUserInfo):[],a=MM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,g)}async function NM(t){const e=At(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DM(t){return t.map(e=>{var{providerId:n}=e,r=cy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e){const n=await vT(t,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_T(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return we(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new au;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ws{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ga(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CM(this,e)}reload(){return NM(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ga(this,xM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:O,isAnonymous:P,providerData:B,stsTokenManager:F}=n;we(y&&F,e,"internal-error");const V=au.fromJSON(this.name,F);we(typeof y=="string",e,"internal-error"),Oi(g,e.name),Oi(v,e.name),we(typeof O=="boolean",e,"internal-error"),we(typeof P=="boolean",e,"internal-error"),Oi(x,e.name),Oi(k,e.name),Oi(C,e.name),Oi(N,e.name),Oi(A,e.name),Oi(E,e.name);const Y=new Ws({uid:y,auth:e,email:v,emailVerified:O,displayName:g,isAnonymous:P,photoURL:k,phoneNumber:x,tenantId:C,stsTokenManager:V,createdAt:A,lastLoginAt:E});return B&&Array.isArray(B)&&(Y.providerData=B.map(X=>Object.assign({},X))),N&&(Y._redirectEventId=N),Y}static async _fromIdTokenResponse(e,n,r=!1){const i=new au;i.updateFromServerResponse(n);const s=new Ws({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;function yi(t){xi(t instanceof Function,"Expected a class definition");let e=M_.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ET.type="NONE";const D_=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ws._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new na(yi(D_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||yi(D_);const o=Qc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const g=Ws._fromJSON(e,c);u!==s&&(a=g),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new na(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new na(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xT(e))return"Blackberry";if(RT(e))return"Webos";if(py(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IT(t=Nn()){return/firefox\//i.test(t)}function py(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(t=Nn()){return/crios\//i.test(t)}function TT(t=Nn()){return/iemobile/i.test(t)}function AT(t=Nn()){return/android/i.test(t)}function xT(t=Nn()){return/blackberry/i.test(t)}function RT(t=Nn()){return/webos/i.test(t)}function Mf(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LM(t=Nn()){var e;return Mf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BM(){return ZP()&&document.documentMode===10}function CT(t=Nn()){return Mf(t)||AT(t)||RT(t)||xT(t)||/windows phone/i.test(t)||TT(t)}function UM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e=[]){let n;switch(t){case"Browser":n=O_(Nn());break;case"Worker":n=`${O_(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e={}){return xs(t,"GET","/v2/passwordPolicy",wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=6;class jM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$M,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L_(this),this.idTokenSubscription=new L_(this),this.beforeStateQueue=new FM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?At(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VM(this),n=new jM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mi(t){return At(t)}class L_{constructor(e){this.auth=e,this.observer=null,this.addObserver=sN(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function kT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",HM().appendChild(r)})}function qM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const GM="https://www.google.com/recaptcha/enterprise.js?render=",WM="recaptcha-enterprise",KM="NO_RECAPTCHA";class QM{constructor(e){this.type=WM,this.auth=Mi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new gM(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;P_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(KM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&P_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}kT(GM+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Bh(t,e,n,r=!1){const i=new QM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e){const n=Nf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mh(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function XM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZM(t,e,n){const r=Mi(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=PT(e),{host:o,port:a}=JM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||e4()}function PT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JM(t){const e=PT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:B_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:B_(o)}}}function B_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,n){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function t4(t,e){return xs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t,e){return Nu(t,"POST","/v1/accounts:signInWithPassword",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}async function r4(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends gy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Bh(e,r,"signInWithPassword");return Ip(e,i)}else return Ip(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Bh(e,r,"signInWithPassword");return Ip(e,s)}else return Promise.reject(i)});case"emailLink":return n4(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return t4(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return r4(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e){return Nu(t,"POST","/v1/accounts:signInWithIdp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="http://localhost";class ao extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=cy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ao(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ra(e,n)}buildRequest(){const e={requestUri:i4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o4(t){const e=pl(gl(t)).link,n=e?pl(gl(e)).deep_link_id:null,r=pl(gl(t)).deep_link_id;return(r?pl(gl(r)).link:null)||r||n||e||t}class my{constructor(e){var n,r,i,s,o,a;const l=pl(gl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,g=s4((i=l.mode)!==null&&i!==void 0?i:null);we(u&&c&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=o4(e);try{return new my(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=my.parseLink(n);return we(r,"argument-error"),lu._fromEmailAndCode(e,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Mu{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ao._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Mu{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Mu{constructor(){super("twitter.com")}static credential(e,n){return ao._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t,e){return Nu(t,"POST","/v1/accounts:signUp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ws._fromIdTokenResponse(e,r,i),o=U_(r);return new Ri({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U_(r);return new Ri({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t){var e;const n=Mi(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ri({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Yc(n,{returnSecureToken:!0}),i=await Ri._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends oi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uh(e,n,r,i)}}function NT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(t,s,e,r):s})}async function l4(t,e,n=!1){const r=await ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ri._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ga(t,NT(r,i,e,t),n);we(s.idToken,r,"internal-error");const o=dy(s.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Ri._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t,e,n=!1){const r="signIn",i=await NT(t,r,e),s=await Ri._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function c4(t,e){return MT(Mi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(t){const e=Mi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h4(t,e,n){var r;const i=Mi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Bh(i,s,"signUpPassword");o=Yc(i,u)}else o=Yc(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Bh(i,s,"signUpPassword");return Yc(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&DT(t),u}),l=await Ri._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function f4(t,e,n){return c4(At(t),Ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e){return xs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ga(r,d4(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function p4(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function g4(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function m4(t){return At(t).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){const t=Nn();return py(t)||Mf(t)}const v4=1e3,_4=10;class BT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=y4()&&UM(),this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);BM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const w4=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UT.type="SESSION";const FT=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await E4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=vy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function S4(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function T4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x4(){return VT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebaseLocalStorageDb",R4=1,Vh="firebaseLocalStorage",jT="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Of(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function C4(){const t=indexedDB.deleteDatabase($T);return new Du(t).toPromise()}function Tm(){const t=indexedDB.open($T,R4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:jT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await C4(),e(await Tm()))})})}async function F_(t,e,n){const r=Of(t,!0).put({[jT]:e,value:n});return new Du(r).toPromise()}async function b4(t,e){const n=Of(t,!1).get(e),r=await new Du(n).toPromise();return r===void 0?null:r.value}function V_(t,e){const n=Of(t,!0).delete(e);return new Du(n).toPromise()}const k4=800,P4=3;class zT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(x4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T4(),!this.activeServiceWorker)return;this.sender=new I4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await F_(e,Fh,"1"),await V_(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Of(i,!1).getAll();return new Du(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zT.type="LOCAL";const N4=zT;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){return e?yi(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends gy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M4(t){return MT(t.auth,new _y(t),t.bypassAuthState)}function D4(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),u4(n,new _y(t),t.bypassAuthState)}async function O4(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),l4(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M4;case"linkViaPopup":case"linkViaRedirect":return O4;case"reauthViaPopup":case"reauthViaRedirect":return D4;default:Tr(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Pu(2e3,1e4);async function GT(t,e,n){const r=Mi(t);vM(t,e,yy);const i=HT(r,n);return new Fs(r,"signInViaPopup",e,i).executeNotNull()}class Fs extends qT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L4.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="pendingRedirect",Xc=new Map;class U4 extends qT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await F4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F4(t,e){const n=j4(e),r=$4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V4(t,e){Xc.set(t._key(),e)}function $4(t){return yi(t._redirectPersistence)}function j4(t){return Qc(B4,t.config.apiKey,t.name)}async function z4(t,e,n=!1){const r=Mi(t),i=HT(r,e),o=await new U4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=10*60*1e3;class q4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H4&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q4=/^https?/;async function Y4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await W4(t);for(const n of e)try{if(X4(n))return}catch{}Tr(t,"unauthorized-domain")}function X4(t){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q4.test(n))return!1;if(K4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Pu(3e4,6e4);function j_(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J4(t){return new Promise((e,n)=>{var r,i,s;function o(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),n(Zr(t,"network-request-failed"))},timeout:Z4.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jr().gapi)===null||s===void 0)&&s.load)o();else{const a=qM("iframefcb");return Jr()[a]=()=>{gapi.load?o():n(Zr(t,"network-request-failed"))},kT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function e3(t){return Zc=Zc||J4(t),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new Pu(5e3,15e3),n3="__/auth/iframe",r3="emulator/auth/iframe",i3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o3(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,r3):`https://${t.config.authDomain}/${n3}`,r={apiKey:e.apiKey,appName:t.name,v:vo},i=s3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ku(r).slice(1)}`}async function a3(t){const e=await e3(t),n=Jr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:o3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Zr(t,"network-request-failed"),a=Jr().setTimeout(()=>{s(o)},t3.get());function l(){Jr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u3=500,c3=600,h3="_blank",f3="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d3(t,e,n,r=u3,i=c3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},l3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Nn().toLowerCase();n&&(a=ST(u)?h3:n),IT(u)&&(e=e||f3,l.scrollbars="yes");const c=Object.entries(l).reduce((v,[x,k])=>`${v}${x}=${k},`,"");if(LM(u)&&a!=="_self")return p3(e||"",a),new z_(null);const g=window.open(e||"",a,c);we(g,t,"popup-blocked");try{g.focus()}catch{}return new z_(g)}function p3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="__/auth/handler",m3="emulator/auth/handler",y3=encodeURIComponent("fac");async function H_(t,e,n,r,i,s){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vo,eventId:i};if(e instanceof yy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",iN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,g]of Object.entries(s||{}))o[c]=g}if(e instanceof Mu){const c=e.getScopes().filter(g=>g!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${y3}=${encodeURIComponent(l)}`:"";return`${v3(t)}?${ku(a).slice(1)}${u}`}function v3({config:t}){return t.emulator?fy(t,m3):`https://${t.authDomain}/${g3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="webStorageSupport";class _3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FT,this._completeRedirectFn=z4,this._overrideRedirectResult=V4}async _openPopup(e,n,r,i){var s;xi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await H_(e,n,r,Sm(),i);return d3(e,o,vy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await H_(e,n,r,Sm(),i);return S4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a3(e),r=new q4(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sp,{type:Sp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Sp];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CT()||py()||Mf()}}const w3=_3;var q_="@firebase/auth",G_="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function S3(t){oo(new vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(t)},u=new zM(r,i,s,l);return XM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new vs("auth-internal",e=>{const n=Mi(e.getProvider("auth").getImmediate());return(r=>new E3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(q_,G_,I3(t)),Xr(q_,G_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=5*60,A3=lT("authIdTokenMaxAge")||T3;let W_=null;const x3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A3)return;const i=n==null?void 0:n.token;W_!==i&&(W_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ks(t=uy()){const e=Nf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YM(t,{popupRedirectResolver:w3,persistence:[N4,w4,FT]}),r=lT("authTokenSyncURL");if(r){const s=x3(r);g4(n,s,()=>s(n.currentUser)),p4(n,o=>s(o))}const i=sT("auth");return i&&ZM(n,`http://${i}`),n}S3("Browser");var R3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se,wy=wy||{},Ie=R3||self;function Lf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ou(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function C3(t){return Object.prototype.hasOwnProperty.call(t,Tp)&&t[Tp]||(t[Tp]=++b3)}var Tp="closure_uid_"+(1e9*Math.random()>>>0),b3=0;function k3(t,e,n){return t.call.apply(t.bind,arguments)}function P3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bn=k3:bn=P3,bn.apply(null,arguments)}function _c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function sn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Rs(){this.s=this.s,this.o=this.o}var N3=0;Rs.prototype.s=!1;Rs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),N3!=0)&&C3(this)};Rs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ey(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function K_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Lf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function kn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kn.prototype.h=function(){this.defaultPrevented=!0};var M3=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ie.addEventListener("test",()=>{},e),Ie.removeEventListener("test",()=>{},e)}catch{}return t}();function uu(t){return/^[\s\xa0]*$/.test(t)}function Bf(){var t=Ie.navigator;return t&&(t=t.userAgent)?t:""}function Hr(t){return Bf().indexOf(t)!=-1}function Iy(t){return Iy[" "](t),t}Iy[" "]=function(){};function D3(t,e){var n=xD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var O3=Hr("Opera"),ma=Hr("Trident")||Hr("MSIE"),QT=Hr("Edge"),Am=QT||ma,YT=Hr("Gecko")&&!(Bf().toLowerCase().indexOf("webkit")!=-1&&!Hr("Edge"))&&!(Hr("Trident")||Hr("MSIE"))&&!Hr("Edge"),L3=Bf().toLowerCase().indexOf("webkit")!=-1&&!Hr("Edge");function XT(){var t=Ie.document;return t?t.documentMode:void 0}var xm;e:{var Ap="",xp=function(){var t=Bf();if(YT)return/rv:([^\);]+)(\)|;)/.exec(t);if(QT)return/Edge\/([\d\.]+)/.exec(t);if(ma)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(L3)return/WebKit\/(\S+)/.exec(t);if(O3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xp&&(Ap=xp?xp[1]:""),ma){var Rp=XT();if(Rp!=null&&Rp>parseFloat(Ap)){xm=String(Rp);break e}}xm=Ap}var Rm;if(Ie.document&&ma){var Q_=XT();Rm=Q_||parseInt(xm,10)||void 0}else Rm=void 0;var B3=Rm;function cu(t,e){if(kn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(YT){e:{try{Iy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:U3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cu.$.h.call(this)}}sn(cu,kn);var U3={2:"touch",3:"pen",4:"mouse"};cu.prototype.h=function(){cu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Lu="closure_listenable_"+(1e6*Math.random()|0),F3=0;function V3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++F3,this.fa=this.ia=!1}function Uf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Sy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function ZT(t){const e={};for(const n in t)e[n]=t[n];return e}const Y_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Y_.length;s++)n=Y_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ff(t){this.src=t,this.g={},this.h=0}Ff.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=bm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new V3(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Cm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=KT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Uf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function bm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ty="closure_lm_"+(1e6*Math.random()|0),Cp={};function eA(t,e,n,r,i){if(r&&r.once)return nA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eA(t,e[s],n,r,i);return null}return n=Ry(n),t&&t[Lu]?t.O(e,n,Ou(r)?!!r.capture:!!r,i):tA(t,e,n,!1,r,i)}function tA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ou(i)?!!i.capture:!!i,a=xy(t);if(a||(t[Ty]=a=new Ff(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=j3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)M3||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function j3(){function t(n){return e.call(t.src,t.listener,n)}const e=z3;return t}function nA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nA(t,e[s],n,r,i);return null}return n=Ry(n),t&&t[Lu]?t.P(e,n,Ou(r)?!!r.capture:!!r,i):tA(t,e,n,!0,r,i)}function rA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rA(t,e[s],n,r,i);else r=Ou(r)?!!r.capture:!!r,n=Ry(n),t&&t[Lu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=bm(s,n,r,i),-1<n&&(Uf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=xy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=bm(e,n,r,i)),(n=-1<t?e[t]:null)&&Ay(n))}function Ay(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Lu])Cm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xy(e))?(Cm(n,t),n.h==0&&(n.src=null,e[Ty]=null)):Uf(t)}}}function iA(t){return t in Cp?Cp[t]:Cp[t]="on"+t}function z3(t,e){if(t.fa)t=!0;else{e=new cu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ay(t),t=n.call(r,e)}return t}function xy(t){return t=t[Ty],t instanceof Ff?t:null}var bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ry(t){return typeof t=="function"?t:(t[bp]||(t[bp]=function(e){return t.handleEvent(e)}),t[bp])}function rn(){Rs.call(this),this.i=new Ff(this),this.S=this,this.J=null}sn(rn,Rs);rn.prototype[Lu]=!0;rn.prototype.removeEventListener=function(t,e,n,r){rA(this,t,e,n,r)};function pn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new kn(e,t);else if(e instanceof kn)e.target=e.target||t;else{var i=e;e=new kn(r,t),JT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wc(o,r,!0,e)&&i}if(o=e.g=t,i=wc(o,r,!0,e)&&i,i=wc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=wc(o,r,!1,e)&&i}rn.prototype.N=function(){if(rn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uf(n[r]);delete t.g[e],t.h--}}this.J=null};rn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Cm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cy=Ie.JSON.stringify;class H3{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function q3(){var t=by;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class G3{constructor(){this.h=this.g=null}add(e,n){const r=sA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var sA=new H3(()=>new W3,t=>t.reset());class W3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function K3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Q3(t){Ie.setTimeout(()=>{throw t},0)}let hu,fu=!1,by=new G3,oA=()=>{const t=Ie.Promise.resolve(void 0);hu=()=>{t.then(Y3)}};var Y3=()=>{for(var t;t=q3();){try{t.h.call(t.g)}catch(n){Q3(n)}var e=sA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fu=!1};function Vf(t,e){rn.call(this),this.h=t||1,this.g=e||Ie,this.j=bn(this.qb,this),this.l=Date.now()}sn(Vf,rn);se=Vf.prototype;se.ga=!1;se.T=null;se.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(ky(this),this.start()))}};se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ky(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}se.N=function(){Vf.$.N.call(this),ky(this),delete this.g};function Py(t,e,n){if(typeof t=="function")n&&(t=bn(t,n));else if(t&&typeof t.handleEvent=="function")t=bn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ie.setTimeout(t,e||0)}function aA(t){t.g=Py(()=>{t.g=null,t.i&&(t.i=!1,aA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class X3 extends Rs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aA(this)}N(){super.N(),this.g&&(Ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function du(t){Rs.call(this),this.h=t,this.g={}}sn(du,Rs);var X_=[];function lA(t,e,n,r){Array.isArray(n)||(n&&(X_[0]=n.toString()),n=X_);for(var i=0;i<n.length;i++){var s=eA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function uA(t){Sy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ay(e)},t),t.g={}}du.prototype.N=function(){du.$.N.call(this),uA(this)};du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $f(){this.g=!0}$f.prototype.Ea=function(){this.g=!1};function Z3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var g=c.split("_");o=2<=g.length&&g[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function J3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ko(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+tD(t,n)+(r?" "+r:"")})}function eD(t,e){t.info(function(){return"TIMEOUT: "+e})}$f.prototype.info=function(){};function tD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cy(n)}catch{return e}}var Eo={},Z_=null;function jf(){return Z_=Z_||new rn}Eo.Ta="serverreachability";function cA(t){kn.call(this,Eo.Ta,t)}sn(cA,kn);function pu(t){const e=jf();pn(e,new cA(e))}Eo.STAT_EVENT="statevent";function hA(t,e){kn.call(this,Eo.STAT_EVENT,t),this.stat=e}sn(hA,kn);function Bn(t){const e=jf();pn(e,new hA(e,t))}Eo.Ua="timingevent";function fA(t,e){kn.call(this,Eo.Ua,t),this.size=e}sn(fA,kn);function Bu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){t()},e)}var zf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ny(){}Ny.prototype.h=null;function J_(t){return t.h||(t.h=t.i())}function pA(){}var Uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function My(){kn.call(this,"d")}sn(My,kn);function Dy(){kn.call(this,"c")}sn(Dy,kn);var km;function Hf(){}sn(Hf,Ny);Hf.prototype.g=function(){return new XMLHttpRequest};Hf.prototype.i=function(){return{}};km=new Hf;function Fu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new du(this),this.P=nD,t=Am?125:void 0,this.V=new Vf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gA}function gA(){this.i=null,this.g="",this.h=!1}var nD=45e3,Pm={},$h={};se=Fu.prototype;se.setTimeout=function(t){this.P=t};function Nm(t,e,n){t.L=1,t.v=Gf(Ci(e)),t.s=n,t.S=!0,mA(t,null)}function mA(t,e){t.G=Date.now(),Vu(t),t.A=Ci(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),TA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new gA,t.g=qA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new X3(bn(t.Pa,t,t.g),t.O)),lA(t.U,t.g,"readystatechange",t.nb),e=t.I?ZT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),pu(),Z3(t.j,t.u,t.A,t.m,t.W,t.s)}se.nb=function(t){t=t.target;const e=this.M;e&&Gr(t)==3?e.l():this.Pa(t)};se.Pa=function(t){try{if(t==this.g)e:{const c=Gr(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>c)&&(c!=3||Am||this.g&&(this.h.h||this.g.ja()||rw(this.g)))){this.J||c!=4||e==7||(e==8||0>=g?pu(3):pu(2)),qf(this);var n=this.g.da();this.ca=n;t:if(yA(this)){var r=rw(this.g);t="";var i=r.length,s=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),Ml(this);var o="";break t}this.h.i=new Ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,J3(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uu(a)){var u=a;break t}}u=null}if(n=u)Ko(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mm(this,n);else{this.i=!1,this.o=3,Bn(12),Vs(this),Ml(this);break e}}this.S?(vA(this,c,o),Am&&this.i&&c==3&&(lA(this.U,this.V,"tick",this.mb),this.V.start())):(Ko(this.j,this.m,o,null),Mm(this,o)),c==4&&Vs(this),this.i&&!this.J&&(c==4?$A(this.l,this):(this.i=!1,Vu(this)))}else SD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),Vs(this),Ml(this)}}}catch{}finally{}};function yA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function vA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=rD(t,n),i==$h){e==4&&(t.o=4,Bn(14),r=!1),Ko(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Pm){t.o=4,Bn(15),Ko(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ko(t.j,t.m,i,null),Mm(t,i);yA(t)&&i!=$h&&i!=Pm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vy(e),e.M=!0,Bn(11))):(Ko(t.j,t.m,n,"[Invalid Chunked Response]"),Vs(t),Ml(t))}se.mb=function(){if(this.g){var t=Gr(this.g),e=this.g.ja();this.C<e.length&&(qf(this),vA(this,t,e),this.i&&t!=4&&Vu(this))}};function rD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?$h:(n=Number(e.substring(n,r)),isNaN(n)?Pm:(r+=1,r+n>e.length?$h:(e=e.slice(r,r+n),t.C=r+n,e)))}se.cancel=function(){this.J=!0,Vs(this)};function Vu(t){t.Y=Date.now()+t.P,_A(t,t.P)}function _A(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Bu(bn(t.lb,t),e)}function qf(t){t.B&&(Ie.clearTimeout(t.B),t.B=null)}se.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(eD(this.j,this.A),this.L!=2&&(pu(),Bn(17)),Vs(this),this.o=2,Ml(this)):_A(this,this.Y-t)};function Ml(t){t.l.H==0||t.J||$A(t.l,t)}function Vs(t){qf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ky(t.V),uA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dm(n.i,t))){if(!t.K&&Dm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hh(n),Yf(n);else break e;Fy(n),Bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Bu(bn(n.ib,n),6e3));if(1>=RA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $s(n,11)}else if((t.K||n.g==t)&&Hh(n),!uu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const g=u[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const v=u[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const x=t.g;if(x){const k=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var s=r.i;s.g||k.indexOf("spdy")==-1&&k.indexOf("quic")==-1&&k.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Oy(s,s.h),s.h=null))}if(r.F){const C=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,it(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=HA(r,r.J?r.pa:null,r.Y),o.K){CA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(qf(a),Vu(a)),r.g=o}else FA(r);0<n.j.length&&Xf(n)}else u[0]!="stop"&&u[0]!="close"||$s(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?$s(n,7):Uy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}pu(4)}catch{}}function iD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Lf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function sD(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Lf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function wA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Lf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=sD(t),r=iD(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var EA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qs){this.h=t.h,jh(this,t.j),this.s=t.s,this.g=t.g,zh(this,t.m),this.l=t.l;var e=t.i,n=new gu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ew(this,n),this.o=t.o}else t&&(e=String(t).match(EA))?(this.h=!1,jh(this,e[1]||"",!0),this.s=ml(e[2]||""),this.g=ml(e[3]||"",!0),zh(this,e[4]),this.l=ml(e[5]||"",!0),ew(this,e[6]||"",!0),this.o=ml(e[7]||"")):(this.h=!1,this.i=new gu(null,this.h))}Qs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yl(e,tw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yl(e,tw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(yl(n,n.charAt(0)=="/"?uD:lD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yl(n,hD)),t.join("")};function Ci(t){return new Qs(t)}function jh(t,e,n){t.j=n?ml(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ew(t,e,n){e instanceof gu?(t.i=e,fD(t.i,t.h)):(n||(e=yl(e,cD)),t.i=new gu(e,t.h))}function it(t,e,n){t.i.set(e,n)}function Gf(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,aD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function aD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tw=/[#\/\?@]/g,lD=/[#\?:]/g,uD=/[#\?]/g,cD=/[#\?@]/g,hD=/#/g;function gu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cs(t){t.g||(t.g=new Map,t.h=0,t.i&&oD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}se=gu.prototype;se.add=function(t,e){Cs(this),this.i=null,t=Ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function IA(t,e){Cs(t),e=Ua(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function SA(t,e){return Cs(t),e=Ua(t,e),t.g.has(e)}se.forEach=function(t,e){Cs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};se.ta=function(){Cs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};se.Z=function(t){Cs(this);let e=[];if(typeof t=="string")SA(this,t)&&(e=e.concat(this.g.get(Ua(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};se.set=function(t,e){return Cs(this),this.i=null,t=Ua(this,t),SA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};se.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function TA(t,e,n){IA(t,e),0<n.length&&(t.i=null,t.g.set(Ua(t,e),Ey(n)),t.h+=n.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fD(t,e){e&&!t.j&&(Cs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(IA(this,r),TA(this,i,n))},t)),t.j=e}var dD=class{constructor(t,e){this.g=t,this.map=e}};function AA(t){this.l=t||pD,Ie.PerformanceNavigationTiming?(t=Ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ie.g&&Ie.g.Ka&&Ie.g.Ka()&&Ie.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pD=10;function xA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RA(t){return t.h?1:t.g?t.g.size:0}function Dm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Oy(t,e){t.g?t.g.add(e):t.h=e}function CA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AA.prototype.cancel=function(){if(this.i=bA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ey(t.i)}var gD=class{stringify(t){return Ie.JSON.stringify(t,void 0)}parse(t){return Ie.JSON.parse(t,void 0)}};function mD(){this.g=new gD}function yD(t,e,n){const r=n||"";try{wA(t,function(i,s){let o=i;Ou(i)&&(o=Cy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vD(t,e){const n=new $f;if(Ie.Image){const r=new Image;r.onload=_c(Ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_c(Ec,n,r,"TestLoadImage: error",!1,e),r.onabort=_c(Ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_c(Ec,n,r,"TestLoadImage: timeout",!1,e),Ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wf(t){this.l=t.ec||null,this.j=t.ob||!1}sn(Wf,Ny);Wf.prototype.g=function(){return new Kf(this.l,this.j)};Wf.prototype.i=function(t){return function(){return t}}({});function Kf(t,e){rn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ly,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(Kf,rn);var Ly=0;se=Kf.prototype;se.open=function(t,e){if(this.readyState!=Ly)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,mu(this)};se.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$u(this)),this.readyState=Ly};se.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,mu(this)),this.g&&(this.readyState=3,mu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}se.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$u(this):mu(this),this.readyState==3&&kA(this)}};se.Za=function(t){this.g&&(this.response=this.responseText=t,$u(this))};se.Ya=function(t){this.g&&(this.response=t,$u(this))};se.ka=function(){this.g&&$u(this)};function $u(t){t.readyState=4,t.l=null,t.j=null,t.A=null,mu(t)}se.setRequestHeader=function(t,e){this.v.append(t,e)};se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function mu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _D=Ie.JSON.parse;function Et(t){rn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PA,this.L=this.M=!1}sn(Et,rn);var PA="",wD=/^https?$/i,ED=["POST","PUT"];se=Et.prototype;se.Oa=function(t){this.M=t};se.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():km.g(),this.C=this.u?J_(this.u):J_(km),this.g.onreadystatechange=bn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){nw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ie.FormData&&t instanceof Ie.FormData,!(0<=KT(ED,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{DA(this),0<this.B&&((this.L=ID(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bn(this.ua,this)):this.A=Py(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){nw(this,s)}};function ID(t){return ma&&typeof t.timeout=="number"&&t.ontimeout!==void 0}se.ua=function(){typeof wy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))};function nw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,NA(t),Qf(t)}function NA(t){t.F||(t.F=!0,pn(t,"complete"),pn(t,"error"))}se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pn(this,"complete"),pn(this,"abort"),Qf(this))};se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qf(this,!0)),Et.$.N.call(this)};se.La=function(){this.s||(this.G||this.v||this.l?MA(this):this.kb())};se.kb=function(){MA(this)};function MA(t){if(t.h&&typeof wy<"u"&&(!t.C[1]||Gr(t)!=4||t.da()!=2)){if(t.v&&Gr(t)==4)Py(t.La,0,t);else if(pn(t,"readystatechange"),Gr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(EA)[1]||null;!i&&Ie.self&&Ie.self.location&&(i=Ie.self.location.protocol.slice(0,-1)),r=!wD.test(i?i.toLowerCase():"")}n=r}if(n)pn(t,"complete"),pn(t,"success");else{t.m=6;try{var s=2<Gr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",NA(t)}}finally{Qf(t)}}}}function Qf(t,e){if(t.g){DA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pn(t,"ready");try{n.onreadystatechange=r}catch{}}}function DA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ie.clearTimeout(t.A),t.A=null)}se.isActive=function(){return!!this.g};function Gr(t){return t.g?t.g.readyState:0}se.da=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}};se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_D(e)}};function rw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function SD(t){const e={};t=(t.g&&2<=Gr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uu(t[r]))continue;var n=K3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}$3(e,function(r){return r.join(", ")})}se.Ia=function(){return this.m};se.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function OA(t){let e="";return Sy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function By(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=OA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):it(t,e,n))}function il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function LA(t){this.Ga=0,this.j=[],this.l=new $f,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=il("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=il("baseRetryDelayMs",5e3,t),this.hb=il("retryDelaySeedMs",1e4,t),this.eb=il("forwardChannelMaxRetries",2,t),this.xa=il("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AA(t&&t.concurrentRequestLimit),this.Ja=new mD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}se=LA.prototype;se.ra=8;se.H=1;function Uy(t){if(BA(t),t.H==3){var e=t.W++,n=Ci(t.I);if(it(n,"SID",t.K),it(n,"RID",e),it(n,"TYPE","terminate"),ju(t,n),e=new Fu(t,t.l,e),e.L=2,e.v=Gf(Ci(n)),n=!1,Ie.navigator&&Ie.navigator.sendBeacon)try{n=Ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=qA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vu(e)}zA(t)}function Yf(t){t.g&&(Vy(t),t.g.cancel(),t.g=null)}function BA(t){Yf(t),t.u&&(Ie.clearTimeout(t.u),t.u=null),Hh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ie.clearTimeout(t.m),t.m=null)}function Xf(t){if(!xA(t.i)&&!t.m){t.m=!0;var e=t.Na;hu||oA(),fu||(hu(),fu=!0),by.add(e,t),t.C=0}}function TD(t,e){return RA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Bu(bn(t.Na,t,e),jA(t,t.C)),t.C++,!0)}se.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ZT(s),JT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=UA(this,i,e),n=Ci(this.I),it(n,"RID",t),it(n,"CVER",22),this.F&&it(n,"X-HTTP-Session-Id",this.F),ju(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(OA(s)))+"&"+e:this.o&&By(n,this.o,s)),Oy(this.i,i),this.bb&&it(n,"TYPE","init"),this.P?(it(n,"$req",e),it(n,"SID","null"),i.aa=!0,Nm(i,n,null)):Nm(i,n,e),this.H=2}}else this.H==3&&(t?iw(this,t):this.j.length==0||xA(this.i)||iw(this))};function iw(t,e){var n;e?n=e.m:n=t.W++;const r=Ci(t.I);it(r,"SID",t.K),it(r,"RID",n),it(r,"AID",t.V),ju(t,r),t.o&&t.s&&By(r,t.o,t.s),n=new Fu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=UA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Oy(t.i,n),Nm(n,r,e)}function ju(t,e){t.na&&Sy(t.na,function(n,r){it(e,r,n)}),t.h&&wA({},function(n,r){it(e,r,n)})}function UA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{yD(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function FA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hu||oA(),fu||(hu(),fu=!0),by.add(e,t),t.A=0}}function Fy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Bu(bn(t.Ma,t),jA(t,t.A)),t.A++,!0)}se.Ma=function(){if(this.u=null,VA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Bu(bn(this.jb,this),t)}};se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),Yf(this),VA(this))};function Vy(t){t.B!=null&&(Ie.clearTimeout(t.B),t.B=null)}function VA(t){t.g=new Fu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ci(t.wa);it(e,"RID","rpc"),it(e,"SID",t.K),it(e,"AID",t.V),it(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&it(e,"TO",t.qa),it(e,"TYPE","xmlhttp"),ju(t,e),t.o&&t.s&&By(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Gf(Ci(e)),n.s=null,n.S=!0,mA(n,t)}se.ib=function(){this.v!=null&&(this.v=null,Yf(this),Fy(this),Bn(19))};function Hh(t){t.v!=null&&(Ie.clearTimeout(t.v),t.v=null)}function $A(t,e){var n=null;if(t.g==e){Hh(t),Vy(t),t.g=null;var r=2}else if(Dm(t.i,e))n=e.F,CA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=jf(),pn(r,new fA(r,n)),Xf(t)}else FA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&TD(t,e)||r==2&&Fy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$s(t,5);break;case 4:$s(t,10);break;case 3:$s(t,6);break;default:$s(t,2)}}}function jA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $s(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=bn(t.pb,t);n||(n=new Qs("//www.google.com/images/cleardot.gif"),Ie.location&&Ie.location.protocol=="http"||jh(n,"https"),Gf(n)),vD(n.toString(),r)}else Bn(2);t.H=0,t.h&&t.h.za(e),zA(t),BA(t)}se.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))};function zA(t){if(t.H=0,t.ma=[],t.h){const e=bA(t.i);(e.length!=0||t.j.length!=0)&&(K_(t.ma,e),K_(t.ma,t.j),t.i.i.length=0,Ey(t.j),t.j.length=0),t.h.ya()}}function HA(t,e,n){var r=n instanceof Qs?Ci(n):new Qs(n);if(r.g!="")e&&(r.g=e+"."+r.g),zh(r,r.m);else{var i=Ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qs(null);r&&jh(s,r),e&&(s.g=e),i&&zh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&it(r,n,e),it(r,"VER",t.ra),ju(t,r),r}function qA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Et(new Wf({ob:!0})):new Et(t.va),e.Oa(t.J),e}se.isActive=function(){return!!this.h&&this.h.isActive(this)};function GA(){}se=GA.prototype;se.Ba=function(){};se.Aa=function(){};se.za=function(){};se.ya=function(){};se.isActive=function(){return!0};se.Va=function(){};function qh(){if(ma&&!(10<=Number(B3)))throw Error("Environmental error: no available transport.")}qh.prototype.g=function(t,e){return new ar(t,e)};function ar(t,e){rn.call(this),this.g=new LA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fa(this)}sn(ar,rn);ar.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HA(t,null,t.Y),Xf(t)};ar.prototype.close=function(){Uy(this.g)};ar.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Cy(t),t=n);e.j.push(new dD(e.fb++,t)),e.H==3&&Xf(e)};ar.prototype.N=function(){this.g.h=null,delete this.j,Uy(this.g),delete this.g,ar.$.N.call(this)};function WA(t){My.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}sn(WA,My);function KA(){Dy.call(this),this.status=1}sn(KA,Dy);function Fa(t){this.g=t}sn(Fa,GA);Fa.prototype.Ba=function(){pn(this.g,"a")};Fa.prototype.Aa=function(t){pn(this.g,new WA(t))};Fa.prototype.za=function(t){pn(this.g,new KA)};Fa.prototype.ya=function(){pn(this.g,"b")};function AD(){this.blockSize=-1}function Br(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}sn(Br,AD);Br.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function kp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Br.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)kp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){kp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){kp(this,r),i=0;break}}this.h=i,this.i+=e};Br.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function qe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var xD={};function $y(t){return-128<=t&&128>t?D3(t,function(e){return new qe([e|0],0>e?-1:0)}):new qe([t|0],0>t?-1:0)}function Wr(t){if(isNaN(t)||!isFinite(t))return ia;if(0>t)return hn(Wr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Om;return new qe(e,0)}function QA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return hn(QA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wr(Math.pow(e,8)),r=ia,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Wr(Math.pow(e,s)),r=r.R(s).add(Wr(o))):(r=r.R(n),r=r.add(Wr(o)))}return r}var Om=4294967296,ia=$y(0),Lm=$y(1),sw=$y(16777216);se=qe.prototype;se.ea=function(){if(yr(this))return-hn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Om+r)*e,e*=Om}return t};se.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(vi(this))return"0";if(yr(this))return"-"+hn(this).toString(t);for(var e=Wr(Math.pow(t,6)),n=this,r="";;){var i=Wh(n,e).g;n=Gh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,vi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};se.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function vi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yr(t){return t.h==-1}se.X=function(t){return t=Gh(this,t),yr(t)?-1:vi(t)?0:1};function hn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new qe(n,~t.h).add(Lm)}se.abs=function(){return yr(this)?hn(this):this};se.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new qe(n,n[n.length-1]&-2147483648?-1:0)};function Gh(t,e){return t.add(hn(e))}se.R=function(t){if(vi(this)||vi(t))return ia;if(yr(this))return yr(t)?hn(this).R(hn(t)):hn(hn(this).R(t));if(yr(t))return hn(this.R(hn(t)));if(0>this.X(sw)&&0>t.X(sw))return Wr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Ic(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ic(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ic(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ic(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new qe(n,0)};function Ic(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function sl(t,e){this.g=t,this.h=e}function Wh(t,e){if(vi(e))throw Error("division by zero");if(vi(t))return new sl(ia,ia);if(yr(t))return e=Wh(hn(t),e),new sl(hn(e.g),hn(e.h));if(yr(e))return e=Wh(t,hn(e)),new sl(hn(e.g),e.h);if(30<t.g.length){if(yr(t)||yr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Lm,r=e;0>=r.X(t);)n=ow(n),r=ow(r);var i=ko(n,1),s=ko(r,1);for(r=ko(r,2),n=ko(n,2);!vi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ko(r,1),n=ko(n,1)}return e=Gh(t,i.R(e)),new sl(i,e)}for(i=ia;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Wr(n),o=s.R(e);yr(o)||0<o.X(t);)n-=r,s=Wr(n),o=s.R(e);vi(s)&&(s=Lm),i=i.add(s),t=Gh(t,o)}return new sl(i,t)}se.gb=function(t){return Wh(this,t).h};se.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new qe(n,this.h&t.h)};se.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new qe(n,this.h|t.h)};se.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new qe(n,this.h^t.h)};function ow(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new qe(n,t.h)}function ko(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new qe(i,t.h)}qh.prototype.createWebChannel=qh.prototype.g;ar.prototype.send=ar.prototype.u;ar.prototype.open=ar.prototype.m;ar.prototype.close=ar.prototype.close;zf.NO_ERROR=0;zf.TIMEOUT=8;zf.HTTP_ERROR=6;dA.COMPLETE="complete";pA.EventType=Uu;Uu.OPEN="a";Uu.CLOSE="b";Uu.ERROR="c";Uu.MESSAGE="d";rn.prototype.listen=rn.prototype.O;Et.prototype.listenOnce=Et.prototype.P;Et.prototype.getLastError=Et.prototype.Sa;Et.prototype.getLastErrorCode=Et.prototype.Ia;Et.prototype.getStatus=Et.prototype.da;Et.prototype.getResponseJson=Et.prototype.Wa;Et.prototype.getResponseText=Et.prototype.ja;Et.prototype.send=Et.prototype.ha;Et.prototype.setWithCredentials=Et.prototype.Oa;Br.prototype.digest=Br.prototype.l;Br.prototype.reset=Br.prototype.reset;Br.prototype.update=Br.prototype.j;qe.prototype.add=qe.prototype.add;qe.prototype.multiply=qe.prototype.R;qe.prototype.modulo=qe.prototype.gb;qe.prototype.compare=qe.prototype.X;qe.prototype.toNumber=qe.prototype.ea;qe.prototype.toString=qe.prototype.toString;qe.prototype.getBits=qe.prototype.D;qe.fromNumber=Wr;qe.fromString=QA;var RD=function(){return new qh},CD=function(){return jf()},Pp=zf,bD=dA,kD=Eo,aw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sc=pA,PD=Et,ND=Br,sa=qe;const lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new ay("@firebase/firestore");function ol(){return lo.logLevel}function ce(t,...e){if(lo.logLevel<=De.DEBUG){const n=e.map(jy);lo.debug(`Firestore (${Va}): ${t}`,...n)}}function bi(t,...e){if(lo.logLevel<=De.ERROR){const n=e.map(jy);lo.error(`Firestore (${Va}): ${t}`,...n)}}function ya(t,...e){if(lo.logLevel<=De.WARN){const n=e.map(jy);lo.warn(`Firestore (${Va}): ${t}`,...n)}}function jy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+t;throw bi(e),new Error(e)}function ot(t,e){t||Se()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class DD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OD{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ds,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ds)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string"),new YA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new xn(e)}}class LD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.R=n.token,new UD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function va(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Xt(0,0))}static max(){return new Te(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends yu{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const $D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends yu{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return $D.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ct.fromString(e))}static fromName(e){return new me(ct.fromString(e).popFirst(5))}static empty(){return new me(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ct(e.slice()))}}function jD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new _s(i,me.empty(),e)}function zD(t){return new _s(t.readTime,t.key,-1)}class _s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _s(Te.min(),me.empty(),-1)}static max(){return new _s(Te.max(),me.empty(),-1)}}function HD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==qD)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new J((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}zy.ae=-1;function Zf(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function WD(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new rr([])}unionWith(e){let n=new gn(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JA("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const KD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(ot(!!t),typeof t=="string"){let e=0;const n=KD.exec(t);if(ot(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qy(t){const e=t.mapValue.fields.__previous_value__;return Hy(e)?qy(e):e}function vu(t){const e=ws(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class _u{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:YD(t)?9007199254740991:10:Se()}function ni(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ws(i.timestampValue),a=ws(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return uo(i.bytesValue).isEqual(uo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ht(i.doubleValue),a=Ht(s.doubleValue);return o===a?Kh(o)===Kh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return va(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uw(o)!==uw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ni(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function wu(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function _a(t,e){if(t===e)return 0;const n=co(t),r=co(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hw(t.timestampValue,e.timestampValue);case 4:return hw(vu(t),vu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=uo(s),l=uo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=je(a[u],l[u]);if(c!==0)return c}return je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(Ht(s.latitude),Ht(o.latitude));return a!==0?a:je(Ht(s.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=_a(a[u],l[u]);if(c)return c}return je(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ac.mapValue&&o===Ac.mapValue)return 0;if(s===Ac.mapValue)return 1;if(o===Ac.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let g=0;g<l.length&&g<c.length;++g){const v=je(l[g],c[g]);if(v!==0)return v;const x=_a(a[l[g]],u[c[g]]);if(x!==0)return x}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Se()}}function hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ws(t),r=ws(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function wa(t){return Bm(t)}function Bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Bm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Bm(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function Um(t){return!!t&&"integerValue"in t}function Gy(t){return!!t&&"arrayValue"in t}function fw(t){return!!t&&"nullValue"in t}function dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jc(t){return!!t&&"mapValue"in t}function Dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(n)}setAll(e){let n=fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Dl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Io(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qn(Dl(this.value))}}function ex(t){const e=[];return Io(t.fields,(n,r)=>{const i=new fn([n]);if(Jc(r)){const s=ex(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Cn(e,0,Te.min(),Te.min(),Te.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new Cn(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Cn(e,2,n,Te.min(),Te.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Te.min(),Te.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function pw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=_a(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function XD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{}class Qt extends tx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JD(e,n,r):n==="array-contains"?new n6(e,r):n==="in"?new r6(e,r):n==="not-in"?new i6(e,r):n==="array-contains-any"?new s6(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new e6(e,r):new t6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_a(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends tx{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ri(e,n)}matches(e){return nx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nx(t){return t.op==="and"}function rx(t){return ZD(t)&&nx(t)}function ZD(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function Fm(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(rx(t))return t.filters.map(e=>Fm(e)).join(",");{const e=t.filters.map(n=>Fm(n)).join(",");return`${t.op}(${e})`}}function ix(t,e){return t instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof ri?function(r,i){return i instanceof ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ix(o,i.filters[a]),!0):!1}(t,e):void Se()}function sx(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${wa(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(sx).join(" ,")+"}"}(t):"Filter"}class JD extends Qt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class e6 extends Qt{constructor(e,n){super(e,"in",n),this.keys=ox("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class t6 extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=ox("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ox(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class n6 extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gy(n)&&wu(n.arrayValue,this.value)}}class r6 extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class i6 extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wu(this.value.arrayValue,n)}}class s6 extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function mw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new o6(t,e,n,r,i,s,o)}function Wy(t){const e=xe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),e.le=n}return e.le}function Ky(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ix(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gw(t.startAt,e.startAt)&&gw(t.endAt,e.endAt)}function Vm(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function a6(t,e,n,r,i,s,o,a){return new Jf(t,e,n,r,i,s,o,a)}function Qy(t){return new Jf(t)}function yw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l6(t){return t.collectionGroup!==null}function Ol(t){const e=xe(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gn(fn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Yh(s,r))}),n.has(fn.keyField().canonicalString())||e.he.push(new Yh(fn.keyField(),r))}return e.he}function ei(t){const e=xe(t);return e.Pe||(e.Pe=u6(e,Ol(t))),e.Pe}function u6(t,e){if(t.limitType==="F")return mw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yh(i.field,s)});const n=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;return mw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $m(t,e,n){return new Jf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ed(t,e){return Ky(ei(t),ei(e))&&t.limitType===e.limitType}function ax(t){return`${Wy(ei(t))}|lt:${t.limitType}`}function No(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sx(i)).join(", ")}]`),Zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wa(i)).join(",")),`Target(${r})`}(ei(t))}; limitType=${t.limitType})`}function td(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ol(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=pw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ol(r),i)||r.endAt&&!function(o,a,l){const u=pw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ol(r),i))}(t,e)}function c6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lx(t){return(e,n)=>{let r=!1;for(const i of Ol(t)){const s=h6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function h6(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?_a(l,u):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ZA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new vt(me.comparator);function ki(){return f6}const ux=new vt(me.comparator);function vl(...t){let e=ux;for(const n of t)e=e.insert(n.key,n);return e}function cx(t){let e=ux;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function js(){return Ll()}function hx(){return Ll()}function Ll(){return new $a(t=>t.toString(),(t,e)=>t.isEqual(e))}const d6=new vt(me.comparator),p6=new gn(me.comparator);function Ne(...t){let e=p6;for(const n of t)e=e.add(n);return e}const g6=new gn(je);function m6(){return g6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function dx(t){return{integerValue:""+t}}function y6(t,e){return WD(e)?dx(e):fx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function v6(t,e,n){return t instanceof Eu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hy(s)&&(s=qy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ea?gx(t,e):t instanceof Ia?mx(t,e):function(i,s){const o=px(i,s),a=vw(o)+vw(i.Te);return Um(o)&&Um(i.Te)?dx(a):fx(i.serializer,a)}(t,e)}function _6(t,e,n){return t instanceof Ea?gx(t,e):t instanceof Ia?mx(t,e):n}function px(t,e){return t instanceof Xh?function(r){return Um(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Eu extends nd{}class Ea extends nd{constructor(e){super(),this.elements=e}}function gx(t,e){const n=yx(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ia extends nd{constructor(e){super(),this.elements=e}}function mx(t,e){let n=yx(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Xh extends nd{constructor(e,n){super(),this.serializer=e,this.Te=n}}function vw(t){return Ht(t.integerValue||t.doubleValue)}function yx(t){return Gy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){this.field=e,this.transform=n}}function w6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ea&&i instanceof Ea||r instanceof Ia&&i instanceof Ia?va(r.elements,i.elements,ni):r instanceof Xh&&i instanceof Xh?ni(r.Te,i.Te):r instanceof Eu&&i instanceof Eu}(t.transform,e.transform)}class E6{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rd{}function vx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wx(t.key,Mr.none()):new qu(t.key,t.data,Mr.none());{const n=t.data,r=qn.empty();let i=new gn(fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new bs(t.key,r,new rr(i.toArray()),Mr.none())}}function I6(t,e,n){t instanceof qu?function(i,s,o){const a=i.value.clone(),l=ww(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof bs?function(i,s,o){if(!eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ww(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(_x(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bl(t,e,n,r){return t instanceof qu?function(s,o,a,l){if(!eh(s.precondition,o))return a;const u=s.value.clone(),c=Ew(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bs?function(s,o,a,l){if(!eh(s.precondition,o))return a;const u=Ew(s.fieldTransforms,l,o),c=o.data;return c.setAll(_x(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=px(r.transform,i||null);s!=null&&(n===null&&(n=qn.empty()),n.set(r.field,s))}return n||null}function _w(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&va(r,i,(s,o)=>w6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qu extends rd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends rd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _x(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ww(t,e,n){const r=new Map;ot(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_6(o,a,n[i]))}return r}function Ew(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,v6(s,o,e))}return r}class wx extends rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T6 extends rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&I6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=vx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,(n,r)=>_w(n,r))&&va(this.baseMutations,e.baseMutations,(n,r)=>_w(n,r))}}class Xy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length);let i=function(){return d6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Xy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Oe;function C6(t){switch(t){default:return Se();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function Ex(t){if(t===void 0)return bi("GRPC error has no .code"),ee.UNKNOWN;switch(t){case zt.OK:return ee.OK;case zt.CANCELLED:return ee.CANCELLED;case zt.UNKNOWN:return ee.UNKNOWN;case zt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case zt.INTERNAL:return ee.INTERNAL;case zt.UNAVAILABLE:return ee.UNAVAILABLE;case zt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case zt.NOT_FOUND:return ee.NOT_FOUND;case zt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case zt.ABORTED:return ee.ABORTED;case zt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case zt.DATA_LOSS:return ee.DATA_LOSS;default:return Se()}}(Oe=zt||(zt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new sa([4294967295,4294967295],0);function Iw(t){const e=b6().encode(t),n=new ND;return n.update(e),new Uint8Array(n.digest())}function Sw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new sa([n,r],0),new sa([i,s],0)]}class Zy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=sa.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(sa.fromNumber(r)));return i.compare(k6)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=Iw(e),[r,i]=Sw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Iw(e),[r,i]=Sw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new id(Te.min(),i,new vt(je),ki(),Ne())}}class Gu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class Ix{constructor(e,n){this.targetId=e,this.ge=n}}class Sx{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Tw{constructor(){this.pe=0,this.ye=xw(),this.we=Mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ne(),n=Ne(),r=Ne();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Gu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=xw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class P6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ki(),this.Ke=Aw(),this.$e=new vt(je)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(Vm(s))if(r===0){const o=new me(s.path);this.Ge(n,o,Cn.newNoDocument(o,Te.min()))}else ot(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=uo(r).toUint8Array()}catch(l){if(l instanceof JA)return ya("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zy(o,i,s)}catch(l){return ya(l instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&Vm(a.target)){const l=new me(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,Cn.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Ne();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new id(e,n,this.$e,this.Qe,r);return this.Qe=ki(),this.Ke=Aw(),this.$e=new vt(je),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new Tw,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new gn(je),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new Tw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Aw(){return new vt(me.comparator)}function xw(){return new vt(me.comparator)}const N6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),M6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),D6=(()=>({and:"AND",or:"OR"}))();class O6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(t,e){return t.useProto3Json||Zf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L6(t,e){return Zh(t,e.toTimestamp())}function ti(t){return ot(!!t),Te.fromTimestamp(function(n){const r=ws(n);return new Xt(r.seconds,r.nanos)}(t))}function Jy(t,e){return function(r){return new ct(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Ax(t){const e=ct.fromString(t);return ot(bx(e)),e}function zm(t,e){return Jy(t.databaseId,e.path)}function Np(t,e){const n=Ax(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(xx(n))}function Hm(t,e){return Jy(t.databaseId,e)}function B6(t){const e=Ax(t);return e.length===4?ct.emptyPath():xx(e)}function qm(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xx(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rw(t,e,n){return{name:zm(t,e),fields:n.value.mapValue.fields}}function U6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ot(c===void 0||typeof c=="string"),Mn.fromBase64String(c||"")):(ot(c===void 0||c instanceof Uint8Array),Mn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ee.UNKNOWN:Ex(u.code);return new de(c,u.message||"")}(o);n=new Sx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Np(t,r.document.name),s=ti(r.document.updateTime),o=r.document.createTime?ti(r.document.createTime):Te.min(),a=new qn({mapValue:{fields:r.document.fields}}),l=Cn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new th(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Np(t,r.document),s=r.readTime?ti(r.readTime):Te.min(),o=Cn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Np(t,r.document),s=r.removedTargetIds||[];n=new th([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new R6(i,s),a=r.targetId;n=new Ix(a,o)}}return n}function F6(t,e){let n;if(e instanceof qu)n={update:Rw(t,e.key,e.value)};else if(e instanceof wx)n={delete:zm(t,e.key)};else if(e instanceof bs)n={update:Rw(t,e.key,e.data),updateMask:K6(e.fieldMask)};else{if(!(e instanceof T6))return Se();n={verify:zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ia)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:L6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function V6(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ti(i.updateTime):ti(s);return o.isEqual(Te.min())&&(o=ti(s)),new E6(o,i.transformResults||[])}(n,e))):[]}function $6(t,e){return{documents:[Hm(t,e.path)]}}function j6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Hm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Cx(ri.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(g){return{field:Mo(g.field),direction:q6(g.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=jm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function z6(t){let e=B6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(g){const v=Rx(g);return v instanceof ri&&rx(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(k){return new Yh(Do(k.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(g){let v;return v=typeof g=="object"?g.value:g,Zf(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(g){const v=!!g.before,x=g.values||[];return new Qh(x,v)}(n.startAt));let u=null;return n.endAt&&(u=function(g){const v=!g.before,x=g.values||[];return new Qh(x,v)}(n.endAt)),a6(e,i,o,s,a,"F",l,u)}function H6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Do(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Do(n.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Do(n.unaryFilter.field);return Qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Do(n.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(Do(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(r=>Rx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function q6(t){return N6[t]}function G6(t){return M6[t]}function W6(t){return D6[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function Do(t){return fn.fromServerFormat(t.fieldPath)}function Cx(t){return t instanceof Qt?function(n){if(n.op==="=="){if(dw(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(fw(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dw(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(fw(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:G6(n.op),value:n.value}}}(t):t instanceof ri?function(n){const r=n.getFilters().map(i=>Cx(i));return r.length===1?r[0]:{compositeFilter:{op:W6(n.op),filters:r}}}(t):Se()}function K6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r,i,s=Te.min(),o=Te.min(),a=Mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.ct=e}}function Y6(t){const e=z6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this._n=new Z6}addToCollectionParentIndex(e,n){return this._n.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(_s.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class Z6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gn(ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Sa(0)}static Bn(){return new Sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.changes=new $a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bl(r.mutation,i,rr.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ki();const o=Ll(),a=function(){return Ll()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof bs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Bl(c.mutation,u,c.mutation.getFieldMask(),Xt.now())):o.set(u.key,rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var g;return a.set(u,new eO(c,(g=o.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ll();let i=new vt((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||rr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const g=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,g=hx();c.forEach(v=>{if(!s.has(v)){const x=vx(n.get(v),r.get(v));x!==null&&g.set(v,x),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):J.resolve(js());let a=-1,l=s;return o.next(u=>J.forEach(u,(c,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(c)?J.resolve():this.remoteDocumentCache.getEntry(e,c).next(v=>{l=l.insert(c,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ne())).next(c=>({batchId:a,changes:cx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=vl();return this.indexManager.getCollectionParents(e,s).next(a=>J.forEach(a,l=>{const u=function(g,v){return new Jf(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Cn.newInvalidDocument(c)))});let a=vl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Bl(c.mutation,u,rr.empty(),Xt.now()),td(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return J.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Y6(i.bundledQuery),readTime:ti(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.overlays=new vt(me.comparator),this.hr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=js();return J.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=js(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=js(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=js(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return J.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x6(n,r));let s=this.hr.get(n);s===void 0&&(s=Ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.Pr=new gn(Jt.Ir),this.Tr=new gn(Jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new me(new ct([])),r=new Jt(n,e),i=new Jt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new me(new ct([])),r=new Jt(n,e),i=new Jt(n,e+1);let s=Ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return me.comparator(e.key,n.key)||je(e.pr,n.pr)}static Er(e,n){return je(e.pr,n.pr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gn(Jt.Ir)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new A6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return J.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),i=new Jt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),J.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gn(je);return n.forEach(i=>{const s=new Jt(i,0),o=new Jt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),J.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new Jt(new me(s),0);let a=new gn(je);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),J.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return J.forEach(n.mutations,i=>{const s=new Jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Jt(n,0),i=this.wr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.vr=e,this.docs=function(){return new vt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cn.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ki();const o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||HD(zD(c),r)<=0||(i.has(c.key)||td(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return J.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Fr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oO(this)}getSize(e){return J.resolve(this.size)}}class oO extends J6{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.persistence=e,this.Mr=new $a(n=>Wy(n),Ky),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ev,this.targetCount=0,this.Br=Sa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),J.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Sa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.qn(n),J.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),J.waitFor(s).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.Lr={},this.overlays={},this.kr=new zy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new aO(this),this.indexManager=new X6,this.remoteDocumentCache=function(i){return new sO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Q6(n),this.$r=new nO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new iO(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new uO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return J.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class uO extends GD{constructor(e){super(),this.currentSequenceNumber=e}}class tv{constructor(e){this.persistence=e,this.zr=new ev,this.jr=null}static Hr(e){return new tv(e)}get Jr(){if(this.jr)return this.jr;throw Se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),J.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Jr,r=>{const i=me.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return J.or([()=>J.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ne(),i=Ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cO;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ol()<=De.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",No(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),J.resolve()):(ol()<=De.DEBUG&&ce("QueryEngine","Query:",No(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ol()<=De.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",No(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):J.resolve())}ji(e,n){if(yw(n))return J.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$m(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,$m(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return yw(n)||i.isEqual(Te.min())?J.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?J.resolve(null):(ol()<=De.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),No(n)),this.es(e,o,n,jD(i,-1)).next(a=>a))})}Zi(e,n){let r=new gn(lx(e));return n.forEach((i,s)=>{td(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ol()<=De.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",No(n)),this.zi.getDocumentsMatchingQuery(e,n,_s.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new vt(je),this.rs=new $a(s=>Wy(s),Ky),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function dO(t,e,n,r){return new fO(t,e,n,r)}async function kx(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function pO(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const g=u.batch,v=g.keys();let x=J.resolve();return v.forEach(k=>{x=x.next(()=>c.getEntry(l,k)).next(C=>{const N=u.docVersions.get(k);ot(N!==null),C.version.compareTo(N)<0&&(g.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),c.addEntry(C)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Px(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function gO(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,g)=>{const v=i.get(g);if(!v)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,g)));let x=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(Mn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):c.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(c.resumeToken,r)),i=i.insert(g,x),function(C,N,A){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(v,x,c)&&a.push(n.Qr.updateTargetData(s,x))});let l=ki(),u=Ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(mO(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Te.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return J.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function mO(t,e,n){let r=Ne(),i=Ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ki();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function yO(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vO(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,J.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ji(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Gm(t,e,n){const r=xe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hu(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Cw(t,e,n){const r=xe(t);let i=Te.min(),s=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const g=xe(l),v=g.rs.get(c);return v!==void 0?J.resolve(g.ns.get(v)):g.Qr.getTargetData(u,c)}(r,o,ei(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:Ne())).next(a=>(_O(r,c6(e),a),{documents:a,hs:s})))}function _O(t,e,n){let r=t.ss.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class bw{constructor(){this.activeTargetIds=m6()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wO{constructor(){this.no=new bw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function Mp(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class TO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Mp(),l=this.bo(n,r);ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ya("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=IO[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Mp();return new Promise((o,a)=>{const l=new PD;l.setWithCredentials(!0),l.listenOnce(bD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pp.NO_ERROR:const c=l.getResponseJson();ce(wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Pp.TIMEOUT:ce(wn,`RPC '${e}' ${s} timed out`),a(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Pp.HTTP_ERROR:const g=l.getStatus();if(ce(wn,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const k=function(N){const A=N.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(A)>=0?A:ee.UNKNOWN}(x.status);a(new de(k,x.message))}else a(new de(ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(wn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ce(wn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Mp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RD(),a=CD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ce(wn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const g=o.createWebChannel(c,l);let v=!1,x=!1;const k=new SO({lo:N=>{x?ce(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(v||(ce(wn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),ce(wn,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},ho:()=>g.close()}),C=(N,A,E)=>{N.listen(A,y=>{try{E(y)}catch(O){setTimeout(()=>{throw O},0)}})};return C(g,Sc.EventType.OPEN,()=>{x||ce(wn,`RPC '${e}' stream ${i} transport opened.`)}),C(g,Sc.EventType.CLOSE,()=>{x||(x=!0,ce(wn,`RPC '${e}' stream ${i} transport closed`),k.Vo())}),C(g,Sc.EventType.ERROR,N=>{x||(x=!0,ya(wn,`RPC '${e}' stream ${i} transport errored:`,N),k.Vo(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),C(g,Sc.EventType.MESSAGE,N=>{var A;if(!x){const E=N.data[0];ot(!!E);const y=E,O=y.error||((A=y[0])===null||A===void 0?void 0:A.error);if(O){ce(wn,`RPC '${e}' stream ${i} received error:`,O);const P=O.status;let B=function(Y){const X=zt[Y];if(X!==void 0)return Ex(X)}(P),F=O.message;B===void 0&&(B=ee.INTERNAL,F="Unknown error status: "+P+" with message "+O.message),x=!0,k.Vo(new de(B,F)),g.close()}else ce(wn,`RPC '${e}' stream ${i} received:`,E),k.mo(E)}}),C(a,kD.STAT_EVENT,N=>{N.stat===aw.PROXY?ce(wn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===aw.NOPROXY&&ce(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.Ro()},0),k}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return new O6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Nx(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AO extends Mx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=U6(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?ti(o.readTime):Te.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=qm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Vm(l)?{documents:$6(s,l)}:{query:j6(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Tx(s,o.resumeToken);const u=jm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=Zh(s,o.snapshotVersion.toTimestamp());const u=jm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=H6(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=qm(this.serializer),n.removeTarget=e,this.t_(n)}}class xO extends Mx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=V6(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.T_(r,n)}return ot(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=qm(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>F6(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(ee.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(ee.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class CO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(bi(n),this.g_=!1):ce("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{So(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.v_.add(4),await Wu(u),u.x_.set("Unknown"),u.v_.delete(4),await od(u)}(this))})}),this.x_=new CO(r,i)}}async function od(t){if(So(t))for(const e of t.F_)await e(!0)}async function Wu(t){for(const e of t.F_)await e(!1)}function Dx(t,e){const n=xe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),sv(n)?iv(n):ja(n).Jo()&&rv(n,e))}function Ox(t,e){const n=xe(t),r=ja(n);n.C_.delete(e),r.Jo()&&Lx(n,e),n.C_.size===0&&(r.Jo()?r.Xo():So(n)&&n.x_.set("Unknown"))}function rv(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).c_(e)}function Lx(t,e){t.O_.Ne(e),ja(t).l_(e)}function iv(t){t.O_=new P6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.x_.p_()}function sv(t){return So(t)&&!ja(t).Ho()&&t.C_.size>0}function So(t){return xe(t).v_.size===0}function Bx(t){t.O_=void 0}async function kO(t){t.C_.forEach((e,n)=>{rv(t,e)})}async function PO(t,e){Bx(t),sv(t)?(t.x_.S_(e),iv(t)):t.x_.set("Unknown")}async function NO(t,e,n){if(t.x_.set("Online"),e instanceof Sx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(t,r)}else if(e instanceof th?t.O_.Ue(e):e instanceof Ix?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Te.min()))try{const r=await Px(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Mn.EMPTY_BYTE_STRING,c.snapshotVersion)),Lx(s,l);const g=new Ji(c.target,l,u,c.sequenceNumber);rv(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Jh(t,r)}}async function Jh(t,e,n){if(!Hu(e))throw e;t.v_.add(1),await Wu(t),t.x_.set("Offline"),n||(n=()=>Px(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await od(t)})}function Ux(t,e){return e().catch(n=>Jh(t,n,e))}async function ad(t){const e=xe(t),n=Es(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;MO(e);)try{const i=await yO(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,DO(e,i)}catch(i){await Jh(e,i)}Fx(e)&&Vx(e)}function MO(t){return So(t)&&t.D_.length<10}function DO(t,e){t.D_.push(e);const n=Es(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Fx(t){return So(t)&&!Es(t).Ho()&&t.D_.length>0}function Vx(t){Es(t).start()}async function OO(t){Es(t).d_()}async function LO(t){const e=Es(t);for(const n of t.D_)e.I_(n.mutations)}async function BO(t,e,n){const r=t.D_.shift(),i=Xy.from(r,e,n);await Ux(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ad(t)}async function UO(t,e){e&&Es(t).P_&&await async function(r,i){if(function(o){return C6(o)&&o!==ee.ABORTED}(i.code)){const s=r.D_.shift();Es(r).Zo(),await Ux(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ad(r)}}(t,e),Fx(t)&&Vx(t)}async function Pw(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=So(n);n.v_.add(3),await Wu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await od(n)}async function FO(t,e){const n=xe(t);e?(n.v_.delete(2),await od(n)):e||(n.v_.add(2),await Wu(n),n.x_.set("Unknown"))}function ja(t){return t.N_||(t.N_=function(n,r,i){const s=xe(n);return s.R_(),new AO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:kO.bind(null,t),To:PO.bind(null,t),u_:NO.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),sv(t)?iv(t):t.x_.set("Unknown")):(await t.N_.stop(),Bx(t))})),t.N_}function Es(t){return t.B_||(t.B_=function(n,r,i){const s=xe(n);return s.R_(),new xO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:OO.bind(null,t),To:UO.bind(null,t),E_:LO.bind(null,t),T_:BO.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await ad(t)):(await t.B_.stop(),t.D_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ov(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(t,e){if(bi("AsyncQueue",`${e}: ${t}`),Hu(t))return new de(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.L_=new vt(me.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Se():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ta{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ta(e,n,oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.q_=void 0,this.listeners=[]}}class $O{constructor(){this.queries=new $a(e=>ax(e),ed),this.onlineState="Unknown",this.Q_=new Set}}async function jO(t,e){const n=xe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new VO),i)try{s.q_=await n.onListen(r)}catch(o){const a=av(o,`Initialization of query '${No(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&lv(n)}async function zO(t,e){const n=xe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function HO(t,e){const n=xe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&lv(n)}function qO(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function lv(t){t.Q_.forEach(e=>{e.next()})}class GO{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=Ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.key=e}}class jx{constructor(e){this.key=e}}class WO{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ne(),this.mutatedKeys=Ne(),this.aa=lx(e),this.ua=new oa(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new Nw,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,g)=>{const v=i.get(c),x=td(this.query,g)?g:null,k=!!v&&this.mutatedKeys.has(v.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;v&&x?v.data.isEqual(x.data)?k!==C&&(r.track({type:3,doc:x}),N=!0):this.Pa(v,x)||(r.track({type:2,doc:x}),N=!0,(l&&this.aa(x,l)>0||u&&this.aa(x,u)<0)&&(a=!0)):!v&&x?(r.track({type:0,doc:x}),N=!0):v&&!x&&(r.track({type:1,doc:v}),N=!0,(l||u)&&(a=!0)),N&&(x?(o=o.add(x),s=C?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((u,c)=>function(v,x){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return k(v)-k(x)}(u.type,c.type)||this.aa(u.doc,c.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new Ta(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Nw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Ne(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new jx(r))}),this._a.forEach(r=>{e.has(r)||n.push(new $x(r))}),n}Aa(e){this.sa=e.hs,this._a=Ne();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return Ta.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class KO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QO{constructor(e){this.key=e,this.Va=!1}}class YO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new $a(a=>ax(a),ed),this.ga=new Map,this.pa=new Set,this.ya=new vt(me.comparator),this.wa=new Map,this.Sa=new ev,this.ba={},this.Da=new Map,this.Ca=Sa.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function XO(t,e){const n=aL(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await vO(n.localStore,ei(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await ZO(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Dx(n.remoteStore,o)}return i}async function ZO(t,e,n,r,i){t.Fa=(g,v,x)=>async function(C,N,A,E){let y=N.view.la(A);y.Xi&&(y=await Cw(C.localStore,N.query,!1).then(({documents:B})=>N.view.la(B,y)));const O=E&&E.targetChanges.get(N.targetId),P=N.view.applyChanges(y,C.isPrimaryClient,O);return Dw(C,N.targetId,P.Ea),P.snapshot}(t,g,v,x);const s=await Cw(t.localStore,e,!0),o=new WO(e,s.hs),a=o.la(s.documents),l=Gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Dw(t,n,u.Ea);const c=new KO(e,n,o);return t.fa.set(e,c),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function JO(t,e){const n=xe(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!ed(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ox(n.remoteStore,r.targetId),Wm(n,r.targetId)}).catch(zu)):(Wm(n,r.targetId),await Gm(n.localStore,r.targetId,!0))}async function eL(t,e,n){const r=lL(t);try{const i=await function(o,a){const l=xe(o),u=Xt.now(),c=a.reduce((x,k)=>x.add(k.key),Ne());let g,v;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=ki(),C=Ne();return l.os.getEntries(x,c).next(N=>{k=N,k.forEach((A,E)=>{E.isValidDocument()||(C=C.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,k)).next(N=>{g=N;const A=[];for(const E of a){const y=S6(E,g.get(E.key).overlayedDocument);y!=null&&A.push(new bs(E.key,y,ex(y.value.mapValue),Mr.exists(!0)))}return l.mutationQueue.addMutationBatch(x,u,A,a)}).next(N=>{v=N;const A=N.applyToLocalDocumentSet(g,C);return l.documentOverlayCache.saveOverlays(x,N.batchId,A)})}).then(()=>({batchId:v.batchId,changes:cx(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.ba[o.currentUser.toKey()];u||(u=new vt(je)),u=u.insert(a,l),o.ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ku(r,i.changes),await ad(r.remoteStore)}catch(i){const s=av(i,"Failed to persist write");n.reject(s)}}async function zx(t,e){const n=xe(t);try{const r=await gO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?ot(o.Va):i.removedDocuments.size>0&&(ot(o.Va),o.Va=!1))}),await Ku(n,r,e)}catch(r){await zu(r)}}function Mw(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=xe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,g)=>{for(const v of g.listeners)v.K_(a)&&(u=!0)}),u&&lv(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tL(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new vt(me.comparator);o=o.insert(s,Cn.newNoDocument(s,Te.min()));const a=Ne().add(s),l=new id(Te.min(),new Map,new vt(je),o,a);await zx(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),uv(r)}else await Gm(r.localStore,e,!1).then(()=>Wm(r,e,n)).catch(zu)}async function nL(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await pO(n.localStore,e);qx(n,r,null),Hx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(n,i)}catch(i){await zu(i)}}async function rL(t,e,n){const r=xe(t);try{const i=await function(o,a){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(ot(g!==null),c=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);qx(r,e,n),Hx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ku(r,i)}catch(i){await zu(i)}}function Hx(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function qx(t,e,n){const r=xe(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function Wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||Gx(t,r)})}function Gx(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(Ox(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),uv(t))}function Dw(t,e,n){for(const r of n)r instanceof $x?(t.Sa.addReference(r.key,e),iL(t,r)):r instanceof jx?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||Gx(t,r.key)):Se()}function iL(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.pa.add(r),uv(t))}function uv(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new me(ct.fromString(e)),r=t.Ca.next();t.wa.set(r,new QO(n)),t.ya=t.ya.insert(n,r),Dx(t.remoteStore,new Ji(ei(Qy(n.path)),r,"TargetPurposeLimboResolution",zy.ae))}}async function Ku(t,e,n){const r=xe(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=nv.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,u){const c=xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>J.forEach(u,v=>J.forEach(v.qi,x=>c.persistence.referenceDelegate.addReference(g,v.targetId,x)).next(()=>J.forEach(v.Qi,x=>c.persistence.referenceDelegate.removeReference(g,v.targetId,x)))))}catch(g){if(!Hu(g))throw g;ce("LocalStore","Failed to update sequence numbers: "+g)}for(const g of u){const v=g.targetId;if(!g.fromCache){const x=c.ns.get(v),k=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(k);c.ns=c.ns.insert(v,C)}}}(r.localStore,s))}async function sL(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await kx(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new de(ee.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ku(n,r.us)}}function oL(t,e){const n=xe(t),r=n.wa.get(e);if(r&&r.Va)return Ne().add(r.key);{let i=Ne();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function aL(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tL.bind(null,e),e.ma.u_=HO.bind(null,e.eventManager),e.ma.Ma=qO.bind(null,e.eventManager),e}function lL(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rL.bind(null,e),e}class Ow{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dO(this.persistence,new hO,e.initialUser,this.serializer)}createPersistence(e){return new lO(tv.Hr,this.serializer)}createSharedClientState(e){return new wO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sL.bind(null,this.syncEngine),await FO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $O}()}createDatastore(e){const n=sd(e.databaseInfo.databaseId),r=function(s){return new TO(s)}(e.databaseInfo);return function(s,o,a,l){return new RO(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new bO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Mw(this.syncEngine,n,0),function(){return kw.C()?new kw:new EO}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const g=new YO(i,s,o,a,l,u);return c&&(g.va=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=xe(n);ce("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Wu(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=XA.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=av(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Op(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dL(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Pw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Pw(e.remoteStore,s)),t._onlineComponents=e}function fL(t){return t.name==="FirebaseError"?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Op(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!fL(n))throw n;ya("Error using user provided cache. Falling back to memory cache: "+n),await Op(t,new Ow)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Op(t,new Ow);return t._offlineComponents}async function Wx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Lw(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Lw(t,new uL))),t._onlineComponents}function pL(t){return Wx(t).then(e=>e.syncEngine)}async function gL(t){const e=await Wx(t),n=e.eventManager;return n.onListen=XO.bind(null,e.syncEngine),n.onUnlisten=JO.bind(null,e.syncEngine),n}function mL(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new cL({next:v=>{o.enqueueAndForget(()=>zO(s,g));const x=v.docs.has(a);!x&&v.fromCache?u.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&v.fromCache&&l&&l.source==="server"?u.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new GO(Qy(a.path),c,{includeMetadataChanges:!0,Y_:!0});return jO(s,g)}(await gL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yL(t,e,n,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uw(t){if(!me.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fw(t){if(me.isDocumentKey(t))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Is(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cv(t);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MD;switch(r.type){case"firstParty":return new BD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bw.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Bw.delete(n),r.terminate())}(this),Promise.resolve()}}function vL(t,e,n,r={}){var i;const s=(t=Is(t,ld))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xn.MOCK_USER;else{a=uT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xn(u)}t._authCredentials=new DD(new YA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hv(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class ps extends hv{constructor(e,n,r){super(e,n,Qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new me(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function _L(t,e,...n){if(t=At(t),Qx("collection","path",e),t instanceof ld){const r=ct.fromString(e,...n);return Fw(r),new ps(t,null,r)}{if(!(t instanceof Xn||t instanceof ps))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return Fw(r),new ps(t.firestore,null,r)}}function vr(t,e,...n){if(t=At(t),arguments.length===1&&(e=XA.V()),Qx("doc","path",e),t instanceof ld){const r=ct.fromString(e,...n);return Uw(r),new Xn(t,null,new me(r))}{if(!(t instanceof Xn||t instanceof ps))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return Uw(r),new Xn(t.firestore,t instanceof ps?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new Nx(this,"async_queue_retry"),this.su=()=>{const n=Dp();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Dp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new ds;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!Hu(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=ov.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Se()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class Qu extends ld{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new wL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xx(this),this._firestoreClient.terminate()}}function za(t,e){const n=typeof t=="object"?t:uy(),r=typeof t=="string"?t:e||"(default)",i=Nf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oT("firestore");s&&vL(i,...s)}return i}function Yx(t){return t._firestoreClient||Xx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Xx(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new QD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Kx(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(Mn.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Aa(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=/^__.*__$/;class IL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class Zx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class cd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return ef(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(Jx(this.Tu)&&EL.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class SL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sd(e)}yu(e,n,r,i=!1){return new cd({Tu:e,methodName:n,pu:r,path:fn.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dv(t){const e=t._freezeSettings(),n=sd(t._databaseId);return new SL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e2(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);gv("Data must be an object, but it was:",o,r);const a=n2(r,o);let l,u;if(s.merge)l=new rr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const g of s.mergeFields){const v=Km(e,g,n);if(!o.contains(v))throw new de(ee.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);i2(c,v)||c.push(v)}l=new rr(c),u=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=o.fieldTransforms;return new IL(new qn(a),l,u)}class hd extends Ha{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hd}}function t2(t,e,n){return new cd({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pv extends Ha{_toFieldTransform(e){return new Yy(e.path,new Eu)}isEqual(e){return e instanceof pv}}class TL extends Ha{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=t2(this,e,!0),r=this.wu.map(s=>qa(s,n)),i=new Ea(r);return new Yy(e.path,i)}isEqual(e){return this===e}}class AL extends Ha{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=t2(this,e,!0),r=this.wu.map(s=>qa(s,n)),i=new Ia(r);return new Yy(e.path,i)}isEqual(e){return this===e}}function xL(t,e,n,r){const i=t.yu(1,e,n);gv("Data must be an object, but it was:",i,r);const s=[],o=qn.empty();Io(r,(l,u)=>{const c=mv(e,l,n);u=At(u);const g=i.Vu(c);if(u instanceof hd)s.push(c);else{const v=qa(u,g);v!=null&&(s.push(c),o.set(c,v))}});const a=new rr(s);return new Zx(o,a,i.fieldTransforms)}function RL(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[Km(e,r,n)],l=[i];if(s.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(Km(e,s[v])),l.push(s[v+1]);const u=[],c=qn.empty();for(let v=a.length-1;v>=0;--v)if(!i2(u,a[v])){const x=a[v];let k=l[v];k=At(k);const C=o.Vu(x);if(k instanceof hd)u.push(x);else{const N=qa(k,C);N!=null&&(u.push(x),c.set(x,N))}}const g=new rr(u);return new Zx(c,g,o.fieldTransforms)}function qa(t,e){if(r2(t=At(t)))return gv("Unsupported field value:",e,t),n2(t,e);if(t instanceof Ha)return function(r,i){if(!Jx(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=qa(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:Zh(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(i.serializer,s)}}if(r instanceof fv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Aa)return{bytesValue:Tx(i.serializer,r._byteString)};if(r instanceof Xn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Jy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${cv(r)}`)}(t,e)}function n2(t,e){const n={};return ZA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(r,i)=>{const s=qa(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function r2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof fv||t instanceof Aa||t instanceof Xn||t instanceof Ha)}function gv(t,e,n){if(!r2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cv(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function Km(t,e,n){if((e=At(e))instanceof ud)return e._internalPath;if(typeof e=="string")return mv(t,e);throw ef("Field path arguments must be of type string or ",t,!1,void 0,n)}const CL=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(CL)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ef(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(ee.INVALID_ARGUMENT,a+t+l)}function i2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(o2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bL extends s2{data(){return super.data()}}function o2(t,e){return typeof e=="string"?mv(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}class kL{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new fv(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=ws(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);ot(bx(r));const i=new _u(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||bi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l2 extends s2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new NL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(o2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class NL extends l2{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){t=Is(t,Xn);const e=Is(t.firestore,Qu);return mL(Yx(e),t._key).then(n=>LL(e,t,n))}class ML extends kL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function DL(t,e,n){t=Is(t,Xn);const r=Is(t.firestore,Qu),i=a2(t.converter,e,n);return yv(r,[e2(dv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mr.none())])}function Fl(t,e,n,...r){t=Is(t,Xn);const i=Is(t.firestore,Qu),s=dv(i);let o;return o=typeof(e=At(e))=="string"||e instanceof ud?RL(s,"updateDoc",t._key,e,n,r):xL(s,"updateDoc",t._key,e),yv(i,[o.toMutation(t._key,Mr.exists(!0))])}function OL(t,e){const n=Is(t.firestore,Qu),r=vr(t),i=a2(t.converter,e);return yv(n,[e2(dv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function yv(t,e){return function(r,i){const s=new ds;return r.asyncQueue.enqueueAndForget(async()=>eL(await pL(r),i,s)),s.promise}(Yx(t),e)}function LL(t,e,n){const r=n.docs.get(e._key),i=new ML(t);return new l2(t,i,e._key,r,new PL(n.hasPendingWrites,n.fromCache),e.converter)}function BL(){return new pv("serverTimestamp")}function $w(...t){return new TL("arrayUnion",t)}function UL(...t){return new AL("arrayRemove",t)}(function(e,n=!0){(function(i){Va=i})(vo),oo(new vs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Qu(new OD(r.getProvider("auth-internal")),new FD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xr(lw,"4.3.0",e),Xr(lw,"4.3.0","esm2017")})();const FL=()=>U.jsxs(U.Fragment,{children:[U.jsxs("nav",{className:"navbar",children:[U.jsx(zi,{to:"/freeflow-edu/",className:({isActive:t})=>t?"link active":"link",children:"Login"}),U.jsx(zi,{to:"/freeflow-edu/register",className:({isActive:t})=>t?"link active":"link",children:"Register"})]}),U.jsx(eT,{})]}),jw=t=>!(t!==void 0&&t!=null&&t.length>0),wl=t=>t.charAt(0).toUpperCase()+t.slice(1),VL={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},$L=_o(VL),jL=za($L),zL=t=>{const e=vr(jL,"Users",t.state.user.uid);return(async()=>{try{const r=await Ul(e);$("#t_role").text(wl(r.data().role)),r.data().role==="teacher"&&$("#uploadLink").attr("style","display: inherit"),(!t.state.role||t.state.role!==r.data().role)&&t.updateRoleState(r.data().role)}catch(r){console.log("Error reading document of collection Users: ",r)}})(),console.log(t.state.walletAddress),U.jsxs(U.Fragment,{children:[U.jsxs("nav",{className:"navbar",children:[U.jsx(zi,{to:"/freeflow-edu/",className:({isActive:r})=>r?"link active":"link",children:"Home"}),U.jsx(zi,{to:"/freeflow-edu/profile",className:({isActive:r})=>r?"link active":"link",children:"Profile"}),U.jsx(zi,{to:"/freeflow-edu/course",className:({isActive:r})=>r?"link active":"link",children:"Course"}),U.jsx(zi,{to:"/freeflow-edu/wishlist",className:({isActive:r})=>r?"link active":"link",children:"My Wishlist"}),U.jsx(zi,{style:{display:"none"},to:"/freeflow-edu/upload",className:({isActive:r})=>r?"link active":"link",id:"uploadLink",children:"Upload"}),U.jsx(zi,{to:"/freeflow-edu/sign-out",className:({isActive:r})=>r?"link active":"link",children:"Sign Out"}),U.jsxs(io,{to:"/freeflow-edu/profile",children:[U.jsx("img",{src:t.state.user.photoURL,alt:"Profile Img"}),U.jsx("p",{children:t.state.user.displayName}),U.jsx("p",{children:t.state.user.email}),U.jsx("p",{id:"t_role"})]}),t.renderNotConnectedContainer()]}),U.jsx(eT,{})]})},HL="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd",u2=t=>{const[e,n]=re.useState(0);return re.useEffect(()=>{(async()=>{(await fetch(HL)).json().then(s=>{n(s.solana.usd)})})()},[]),(e*t.sol).toFixed(6)};let qL=class extends re.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bLogin())});Xe(this,"bLogin",()=>{if($("#t_email").val()!=""&&$("#t_password").val()!=""){const i=Ks();var n=$("#t_email").val(),r=$("#t_password").val();f4(i,n,r).then(s=>{const o=s.user;this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),o=="auth/invalid-login-credentials"?alert("Wrong Email or Password."):o=="auth/invalid-email"?alert("Invalid Email."):alert(o)})}else alert("Please fill in all the information required.")});Xe(this,"signUpGoogle",()=>{const n=Ks(),r=new mr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),GT(n,r).then(i=>{mr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})})});Xe(this,"guest",()=>{const n=Ks();a4(n).then(r=>{console.log(r.user);const i=r.user;OT(n.currentUser,{displayName:"Guest"}).then(s=>{console.log(s)}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a})}),this.setState({user:i}),this.props.updateUserState(i),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("displayName","Guest"),localStorage.setItem("email",i.email))}).catch(r=>{const i=r.code,s=r.message;console.log({errorCode:i,errorMessage:s})})});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return U.jsxs(U.Fragment,{children:[U.jsx("h1",{children:"Login"}),U.jsx("div",{children:U.jsx("img",{src:"",alt:"Login Thumbnail"})}),U.jsxs("div",{children:[U.jsxs("label",{children:[" Email:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Password:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),U.jsx("br",{}),U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),U.jsx("br",{}),U.jsx("button",{onClick:this.bLogin,children:"Login"})]}),"Or login with",U.jsx("div",{children:U.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),U.jsx(io,{to:"register",children:"Haven't registered?"}),U.jsx("br",{}),U.jsx(io,{onClick:this.guest,children:"Login as Guest"})]})}};class zw extends re.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bRegister())});Xe(this,"bRegister",()=>{if($("#t_email").val()!=""&&$("#t_username").val()!=""&&$("#t_password").val()!=""&&$("#t_confirm_password").val()!=""&&$("#t_otp").val()!="")if($("#t_password").val()==$("#t_confirm_password").val())if(document.getElementById("c_privacy").checked){const i=Ks();var n=$("#t_email").val(),r=$("#t_password").val();h4(i,n,r).then(s=>{const o=s.user,a=$("#t_username").val();OT(i.currentUser,{displayName:a}).then(l=>{}).catch(l=>{const u=l.code,c=l.message;console.log({errorCode:u,errorMessage:c})}),this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",a),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),s.code==="auth/email-already-in-use"?alert("Email is already in use.","warning"):s.code==="auth/weak-password"?alert("Weak password.","warning"):alert(s.code+": "+s.messagee,"danger")})}else alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.");else alert("Password not match.");else alert("Please fill in all the information required.")});Xe(this,"signUpGoogle",()=>{const n=Ks(),r=new mr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),document.getElementById("c_privacy").checked?GT(n,r).then(i=>{mr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})}):alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.")});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return this.state.user?(console.log("loged in"),U.jsx(Pl,{to:"/freeflow-edu/"})):(console.log(this.state.user),U.jsxs(U.Fragment,{children:[U.jsx("h1",{children:"Register"}),U.jsx("div",{children:U.jsx("img",{src:"",alt:"Register Thumbnail"})}),U.jsxs("div",{children:[U.jsxs("label",{children:[" Email:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Username:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_username"})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Password:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Confirm Password:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_confirm_password"})]}),U.jsx("br",{}),U.jsx("br",{}),U.jsxs("label",{children:[U.jsx("input",{onKeyUp:this.handleKeyPress,type:"checkbox",name:"",id:"c_privacy"}),"I agree to the ",U.jsx("a",{href:"privacy_policy.html",target:"_blank",children:"Privacy Policy"}),", and ",U.jsx("a",{href:"terms_and_conditions.html",target:"_blank",children:"Terms and Conditions"})," of FreeFlow Edu app."]}),U.jsx("br",{}),U.jsxs("label",{children:[U.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),U.jsx("br",{}),U.jsx("button",{onClick:this.bRegister,children:"Register"})]}),"Or sign up with",U.jsx("div",{children:U.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),U.jsx(io,{to:"../",children:"Already login?"})]}))}}/*! countries-list v3.0.6 by Annexare | MIT */var tf={AD:{name:"Andorra",native:"Andorra",phone:[376],continent:"EU",capital:"Andorra la Vella",currency:["EUR"],languages:["ca"]},AE:{name:"United Arab Emirates",native:"دولة الإمارات العربية المتحدة",phone:[971],continent:"AS",capital:"Abu Dhabi",currency:["AED"],languages:["ar"]},AF:{name:"Afghanistan",native:"افغانستان",phone:[93],continent:"AS",capital:"Kabul",currency:["AFN"],languages:["ps","uz","tk"]},AG:{name:"Antigua and Barbuda",native:"Antigua and Barbuda",phone:[1268],continent:"NA",capital:"Saint John's",currency:["XCD"],languages:["en"]},AI:{name:"Anguilla",native:"Anguilla",phone:[1264],continent:"NA",capital:"The Valley",currency:["XCD"],languages:["en"]},AL:{name:"Albania",native:"Shqipëria",phone:[355],continent:"EU",capital:"Tirana",currency:["ALL"],languages:["sq"]},AM:{name:"Armenia",native:"Հայաստան",phone:[374],continent:"AS",capital:"Yerevan",currency:["AMD"],languages:["hy","ru"]},AO:{name:"Angola",native:"Angola",phone:[244],continent:"AF",capital:"Luanda",currency:["AOA"],languages:["pt"]},AQ:{name:"Antarctica",native:"Antarctica",phone:[672],continent:"AN",capital:"",currency:[],languages:[]},AR:{name:"Argentina",native:"Argentina",phone:[54],continent:"SA",capital:"Buenos Aires",currency:["ARS"],languages:["es","gn"]},AS:{name:"American Samoa",native:"American Samoa",phone:[1684],continent:"OC",capital:"Pago Pago",currency:["USD"],languages:["en","sm"]},AT:{name:"Austria",native:"Österreich",phone:[43],continent:"EU",capital:"Vienna",currency:["EUR"],languages:["de"]},AU:{name:"Australia",native:"Australia",phone:[61],continent:"OC",capital:"Canberra",currency:["AUD"],languages:["en"]},AW:{name:"Aruba",native:"Aruba",phone:[297],continent:"NA",capital:"Oranjestad",currency:["AWG"],languages:["nl","pa"]},AX:{name:"Aland",native:"Åland",phone:[358],continent:"EU",capital:"Mariehamn",currency:["EUR"],languages:["sv"]},AZ:{name:"Azerbaijan",native:"Azərbaycan",phone:[994],continent:"AS",continents:["AS","EU"],capital:"Baku",currency:["AZN"],languages:["az"]},BA:{name:"Bosnia and Herzegovina",native:"Bosna i Hercegovina",phone:[387],continent:"EU",capital:"Sarajevo",currency:["BAM"],languages:["bs","hr","sr"]},BB:{name:"Barbados",native:"Barbados",phone:[1246],continent:"NA",capital:"Bridgetown",currency:["BBD"],languages:["en"]},BD:{name:"Bangladesh",native:"Bangladesh",phone:[880],continent:"AS",capital:"Dhaka",currency:["BDT"],languages:["bn"]},BE:{name:"Belgium",native:"België",phone:[32],continent:"EU",capital:"Brussels",currency:["EUR"],languages:["nl","fr","de"]},BF:{name:"Burkina Faso",native:"Burkina Faso",phone:[226],continent:"AF",capital:"Ouagadougou",currency:["XOF"],languages:["fr","ff"]},BG:{name:"Bulgaria",native:"България",phone:[359],continent:"EU",capital:"Sofia",currency:["BGN"],languages:["bg"]},BH:{name:"Bahrain",native:"‏البحرين",phone:[973],continent:"AS",capital:"Manama",currency:["BHD"],languages:["ar"]},BI:{name:"Burundi",native:"Burundi",phone:[257],continent:"AF",capital:"Bujumbura",currency:["BIF"],languages:["fr","rn"]},BJ:{name:"Benin",native:"Bénin",phone:[229],continent:"AF",capital:"Porto-Novo",currency:["XOF"],languages:["fr"]},BL:{name:"Saint Barthelemy",native:"Saint-Barthélemy",phone:[590],continent:"NA",capital:"Gustavia",currency:["EUR"],languages:["fr"]},BM:{name:"Bermuda",native:"Bermuda",phone:[1441],continent:"NA",capital:"Hamilton",currency:["BMD"],languages:["en"]},BN:{name:"Brunei",native:"Negara Brunei Darussalam",phone:[673],continent:"AS",capital:"Bandar Seri Begawan",currency:["BND"],languages:["ms"]},BO:{name:"Bolivia",native:"Bolivia",phone:[591],continent:"SA",capital:"Sucre",currency:["BOB","BOV"],languages:["es","ay","qu"]},BQ:{name:"Bonaire",native:"Bonaire",phone:[5997],continent:"NA",capital:"Kralendijk",currency:["USD"],languages:["nl"]},BR:{name:"Brazil",native:"Brasil",phone:[55],continent:"SA",capital:"Brasília",currency:["BRL"],languages:["pt"]},BS:{name:"Bahamas",native:"Bahamas",phone:[1242],continent:"NA",capital:"Nassau",currency:["BSD"],languages:["en"]},BT:{name:"Bhutan",native:"ʼbrug-yul",phone:[975],continent:"AS",capital:"Thimphu",currency:["BTN","INR"],languages:["dz"]},BV:{name:"Bouvet Island",native:"Bouvetøya",phone:[47],continent:"AN",capital:"",currency:["NOK"],languages:["no","nb","nn"]},BW:{name:"Botswana",native:"Botswana",phone:[267],continent:"AF",capital:"Gaborone",currency:["BWP"],languages:["en","tn"]},BY:{name:"Belarus",native:"Белару́сь",phone:[375],continent:"EU",capital:"Minsk",currency:["BYN"],languages:["be","ru"]},BZ:{name:"Belize",native:"Belize",phone:[501],continent:"NA",capital:"Belmopan",currency:["BZD"],languages:["en","es"]},CA:{name:"Canada",native:"Canada",phone:[1],continent:"NA",capital:"Ottawa",currency:["CAD"],languages:["en","fr"]},CC:{name:"Cocos (Keeling) Islands",native:"Cocos (Keeling) Islands",phone:[61],continent:"AS",capital:"West Island",currency:["AUD"],languages:["en"]},CD:{name:"Democratic Republic of the Congo",native:"République démocratique du Congo",phone:[243],continent:"AF",capital:"Kinshasa",currency:["CDF"],languages:["fr","ln","kg","sw","lu"]},CF:{name:"Central African Republic",native:"Ködörösêse tî Bêafrîka",phone:[236],continent:"AF",capital:"Bangui",currency:["XAF"],languages:["fr","sg"]},CG:{name:"Republic of the Congo",native:"République du Congo",phone:[242],continent:"AF",capital:"Brazzaville",currency:["XAF"],languages:["fr","ln"]},CH:{name:"Switzerland",native:"Schweiz",phone:[41],continent:"EU",capital:"Bern",currency:["CHE","CHF","CHW"],languages:["de","fr","it"]},CI:{name:"Ivory Coast",native:"Côte d'Ivoire",phone:[225],continent:"AF",capital:"Yamoussoukro",currency:["XOF"],languages:["fr"]},CK:{name:"Cook Islands",native:"Cook Islands",phone:[682],continent:"OC",capital:"Avarua",currency:["NZD"],languages:["en"]},CL:{name:"Chile",native:"Chile",phone:[56],continent:"SA",capital:"Santiago",currency:["CLF","CLP"],languages:["es"]},CM:{name:"Cameroon",native:"Cameroon",phone:[237],continent:"AF",capital:"Yaoundé",currency:["XAF"],languages:["en","fr"]},CN:{name:"China",native:"中国",phone:[86],continent:"AS",capital:"Beijing",currency:["CNY"],languages:["zh"]},CO:{name:"Colombia",native:"Colombia",phone:[57],continent:"SA",capital:"Bogotá",currency:["COP"],languages:["es"]},CR:{name:"Costa Rica",native:"Costa Rica",phone:[506],continent:"NA",capital:"San José",currency:["CRC"],languages:["es"]},CU:{name:"Cuba",native:"Cuba",phone:[53],continent:"NA",capital:"Havana",currency:["CUC","CUP"],languages:["es"]},CV:{name:"Cape Verde",native:"Cabo Verde",phone:[238],continent:"AF",capital:"Praia",currency:["CVE"],languages:["pt"]},CW:{name:"Curacao",native:"Curaçao",phone:[5999],continent:"NA",capital:"Willemstad",currency:["ANG"],languages:["nl","pa","en"]},CX:{name:"Christmas Island",native:"Christmas Island",phone:[61],continent:"AS",capital:"Flying Fish Cove",currency:["AUD"],languages:["en"]},CY:{name:"Cyprus",native:"Κύπρος",phone:[357],continent:"EU",capital:"Nicosia",currency:["EUR"],languages:["el","tr","hy"]},CZ:{name:"Czech Republic",native:"Česká republika",phone:[420],continent:"EU",capital:"Prague",currency:["CZK"],languages:["cs"]},DE:{name:"Germany",native:"Deutschland",phone:[49],continent:"EU",capital:"Berlin",currency:["EUR"],languages:["de"]},DJ:{name:"Djibouti",native:"Djibouti",phone:[253],continent:"AF",capital:"Djibouti",currency:["DJF"],languages:["fr","ar"]},DK:{name:"Denmark",native:"Danmark",phone:[45],continent:"EU",continents:["EU","NA"],capital:"Copenhagen",currency:["DKK"],languages:["da"]},DM:{name:"Dominica",native:"Dominica",phone:[1767],continent:"NA",capital:"Roseau",currency:["XCD"],languages:["en"]},DO:{name:"Dominican Republic",native:"República Dominicana",phone:[1809,1829,1849],continent:"NA",capital:"Santo Domingo",currency:["DOP"],languages:["es"]},DZ:{name:"Algeria",native:"الجزائر",phone:[213],continent:"AF",capital:"Algiers",currency:["DZD"],languages:["ar"]},EC:{name:"Ecuador",native:"Ecuador",phone:[593],continent:"SA",capital:"Quito",currency:["USD"],languages:["es"]},EE:{name:"Estonia",native:"Eesti",phone:[372],continent:"EU",capital:"Tallinn",currency:["EUR"],languages:["et"]},EG:{name:"Egypt",native:"مصر‎",phone:[20],continent:"AF",continents:["AF","AS"],capital:"Cairo",currency:["EGP"],languages:["ar"]},EH:{name:"Western Sahara",native:"الصحراء الغربية",phone:[212],continent:"AF",capital:"El Aaiún",currency:["MAD","DZD","MRU"],languages:["es"]},ER:{name:"Eritrea",native:"ኤርትራ",phone:[291],continent:"AF",capital:"Asmara",currency:["ERN"],languages:["ti","ar","en"]},ES:{name:"Spain",native:"España",phone:[34],continent:"EU",capital:"Madrid",currency:["EUR"],languages:["es","eu","ca","gl","oc"]},ET:{name:"Ethiopia",native:"ኢትዮጵያ",phone:[251],continent:"AF",capital:"Addis Ababa",currency:["ETB"],languages:["am"]},FI:{name:"Finland",native:"Suomi",phone:[358],continent:"EU",capital:"Helsinki",currency:["EUR"],languages:["fi","sv"]},FJ:{name:"Fiji",native:"Fiji",phone:[679],continent:"OC",capital:"Suva",currency:["FJD"],languages:["en","fj","hi","ur"]},FK:{name:"Falkland Islands",native:"Falkland Islands",phone:[500],continent:"SA",capital:"Stanley",currency:["FKP"],languages:["en"]},FM:{name:"Micronesia",native:"Micronesia",phone:[691],continent:"OC",capital:"Palikir",currency:["USD"],languages:["en"]},FO:{name:"Faroe Islands",native:"Føroyar",phone:[298],continent:"EU",capital:"Tórshavn",currency:["DKK"],languages:["fo"]},FR:{name:"France",native:"France",phone:[33],continent:"EU",capital:"Paris",currency:["EUR"],languages:["fr"]},GA:{name:"Gabon",native:"Gabon",phone:[241],continent:"AF",capital:"Libreville",currency:["XAF"],languages:["fr"]},GB:{name:"United Kingdom",native:"United Kingdom",phone:[44],continent:"EU",capital:"London",currency:["GBP"],languages:["en"]},GD:{name:"Grenada",native:"Grenada",phone:[1473],continent:"NA",capital:"St. George's",currency:["XCD"],languages:["en"]},GE:{name:"Georgia",native:"საქართველო",phone:[995],continent:"AS",continents:["AS","EU"],capital:"Tbilisi",currency:["GEL"],languages:["ka"]},GF:{name:"French Guiana",native:"Guyane française",phone:[594],continent:"SA",capital:"Cayenne",currency:["EUR"],languages:["fr"]},GG:{name:"Guernsey",native:"Guernsey",phone:[44],continent:"EU",capital:"St. Peter Port",currency:["GBP"],languages:["en","fr"]},GH:{name:"Ghana",native:"Ghana",phone:[233],continent:"AF",capital:"Accra",currency:["GHS"],languages:["en"]},GI:{name:"Gibraltar",native:"Gibraltar",phone:[350],continent:"EU",capital:"Gibraltar",currency:["GIP"],languages:["en"]},GL:{name:"Greenland",native:"Kalaallit Nunaat",phone:[299],continent:"NA",capital:"Nuuk",currency:["DKK"],languages:["kl"]},GM:{name:"Gambia",native:"Gambia",phone:[220],continent:"AF",capital:"Banjul",currency:["GMD"],languages:["en"]},GN:{name:"Guinea",native:"Guinée",phone:[224],continent:"AF",capital:"Conakry",currency:["GNF"],languages:["fr","ff"]},GP:{name:"Guadeloupe",native:"Guadeloupe",phone:[590],continent:"NA",capital:"Basse-Terre",currency:["EUR"],languages:["fr"]},GQ:{name:"Equatorial Guinea",native:"Guinea Ecuatorial",phone:[240],continent:"AF",capital:"Malabo",currency:["XAF"],languages:["es","fr"]},GR:{name:"Greece",native:"Ελλάδα",phone:[30],continent:"EU",capital:"Athens",currency:["EUR"],languages:["el"]},GS:{name:"South Georgia and the South Sandwich Islands",native:"South Georgia",phone:[500],continent:"AN",capital:"King Edward Point",currency:["GBP"],languages:["en"]},GT:{name:"Guatemala",native:"Guatemala",phone:[502],continent:"NA",capital:"Guatemala City",currency:["GTQ"],languages:["es"]},GU:{name:"Guam",native:"Guam",phone:[1671],continent:"OC",capital:"Hagåtña",currency:["USD"],languages:["en","ch","es"]},GW:{name:"Guinea-Bissau",native:"Guiné-Bissau",phone:[245],continent:"AF",capital:"Bissau",currency:["XOF"],languages:["pt"]},GY:{name:"Guyana",native:"Guyana",phone:[592],continent:"SA",capital:"Georgetown",currency:["GYD"],languages:["en"]},HK:{name:"Hong Kong",native:"香港",phone:[852],continent:"AS",capital:"City of Victoria",currency:["HKD"],languages:["zh","en"]},HM:{name:"Heard Island and McDonald Islands",native:"Heard Island and McDonald Islands",phone:[61],continent:"AN",capital:"",currency:["AUD"],languages:["en"]},HN:{name:"Honduras",native:"Honduras",phone:[504],continent:"NA",capital:"Tegucigalpa",currency:["HNL"],languages:["es"]},HR:{name:"Croatia",native:"Hrvatska",phone:[385],continent:"EU",capital:"Zagreb",currency:["EUR"],languages:["hr"]},HT:{name:"Haiti",native:"Haïti",phone:[509],continent:"NA",capital:"Port-au-Prince",currency:["HTG","USD"],languages:["fr","ht"]},HU:{name:"Hungary",native:"Magyarország",phone:[36],continent:"EU",capital:"Budapest",currency:["HUF"],languages:["hu"]},ID:{name:"Indonesia",native:"Indonesia",phone:[62],continent:"AS",capital:"Jakarta",currency:["IDR"],languages:["id"]},IE:{name:"Ireland",native:"Éire",phone:[353],continent:"EU",capital:"Dublin",currency:["EUR"],languages:["ga","en"]},IL:{name:"Israel",native:"יִשְׂרָאֵל",phone:[972],continent:"AS",capital:"Jerusalem",currency:["ILS"],languages:["he","ar"]},IM:{name:"Isle of Man",native:"Isle of Man",phone:[44],continent:"EU",capital:"Douglas",currency:["GBP"],languages:["en","gv"]},IN:{name:"India",native:"भारत",phone:[91],continent:"AS",capital:"New Delhi",currency:["INR"],languages:["hi","en"]},IO:{name:"British Indian Ocean Territory",native:"British Indian Ocean Territory",phone:[246],continent:"AS",capital:"Diego Garcia",currency:["USD"],languages:["en"]},IQ:{name:"Iraq",native:"العراق",phone:[964],continent:"AS",capital:"Baghdad",currency:["IQD"],languages:["ar","ku"]},IR:{name:"Iran",native:"ایران",phone:[98],continent:"AS",capital:"Tehran",currency:["IRR"],languages:["fa"]},IS:{name:"Iceland",native:"Ísland",phone:[354],continent:"EU",capital:"Reykjavik",currency:["ISK"],languages:["is"]},IT:{name:"Italy",native:"Italia",phone:[39],continent:"EU",capital:"Rome",currency:["EUR"],languages:["it"]},JE:{name:"Jersey",native:"Jersey",phone:[44],continent:"EU",capital:"Saint Helier",currency:["GBP"],languages:["en","fr"]},JM:{name:"Jamaica",native:"Jamaica",phone:[1876],continent:"NA",capital:"Kingston",currency:["JMD"],languages:["en"]},JO:{name:"Jordan",native:"الأردن",phone:[962],continent:"AS",capital:"Amman",currency:["JOD"],languages:["ar"]},JP:{name:"Japan",native:"日本",phone:[81],continent:"AS",capital:"Tokyo",currency:["JPY"],languages:["ja"]},KE:{name:"Kenya",native:"Kenya",phone:[254],continent:"AF",capital:"Nairobi",currency:["KES"],languages:["en","sw"]},KG:{name:"Kyrgyzstan",native:"Кыргызстан",phone:[996],continent:"AS",capital:"Bishkek",currency:["KGS"],languages:["ky","ru"]},KH:{name:"Cambodia",native:"Kâmpŭchéa",phone:[855],continent:"AS",capital:"Phnom Penh",currency:["KHR"],languages:["km"]},KI:{name:"Kiribati",native:"Kiribati",phone:[686],continent:"OC",capital:"South Tarawa",currency:["AUD"],languages:["en"]},KM:{name:"Comoros",native:"Komori",phone:[269],continent:"AF",capital:"Moroni",currency:["KMF"],languages:["ar","fr"]},KN:{name:"Saint Kitts and Nevis",native:"Saint Kitts and Nevis",phone:[1869],continent:"NA",capital:"Basseterre",currency:["XCD"],languages:["en"]},KP:{name:"North Korea",native:"북한",phone:[850],continent:"AS",capital:"Pyongyang",currency:["KPW"],languages:["ko"]},KR:{name:"South Korea",native:"대한민국",phone:[82],continent:"AS",capital:"Seoul",currency:["KRW"],languages:["ko"]},KW:{name:"Kuwait",native:"الكويت",phone:[965],continent:"AS",capital:"Kuwait City",currency:["KWD"],languages:["ar"]},KY:{name:"Cayman Islands",native:"Cayman Islands",phone:[1345],continent:"NA",capital:"George Town",currency:["KYD"],languages:["en"]},KZ:{name:"Kazakhstan",native:"Қазақстан",phone:[76,77],continent:"AS",continents:["AS","EU"],capital:"Astana",currency:["KZT"],languages:["kk","ru"]},LA:{name:"Laos",native:"ສປປລາວ",phone:[856],continent:"AS",capital:"Vientiane",currency:["LAK"],languages:["lo"]},LB:{name:"Lebanon",native:"لبنان",phone:[961],continent:"AS",capital:"Beirut",currency:["LBP"],languages:["ar","fr"]},LC:{name:"Saint Lucia",native:"Saint Lucia",phone:[1758],continent:"NA",capital:"Castries",currency:["XCD"],languages:["en"]},LI:{name:"Liechtenstein",native:"Liechtenstein",phone:[423],continent:"EU",capital:"Vaduz",currency:["CHF"],languages:["de"]},LK:{name:"Sri Lanka",native:"śrī laṃkāva",phone:[94],continent:"AS",capital:"Colombo",currency:["LKR"],languages:["si","ta"]},LR:{name:"Liberia",native:"Liberia",phone:[231],continent:"AF",capital:"Monrovia",currency:["LRD"],languages:["en"]},LS:{name:"Lesotho",native:"Lesotho",phone:[266],continent:"AF",capital:"Maseru",currency:["LSL","ZAR"],languages:["en","st"]},LT:{name:"Lithuania",native:"Lietuva",phone:[370],continent:"EU",capital:"Vilnius",currency:["EUR"],languages:["lt"]},LU:{name:"Luxembourg",native:"Luxembourg",phone:[352],continent:"EU",capital:"Luxembourg",currency:["EUR"],languages:["fr","de","lb"]},LV:{name:"Latvia",native:"Latvija",phone:[371],continent:"EU",capital:"Riga",currency:["EUR"],languages:["lv"]},LY:{name:"Libya",native:"‏ليبيا",phone:[218],continent:"AF",capital:"Tripoli",currency:["LYD"],languages:["ar"]},MA:{name:"Morocco",native:"المغرب",phone:[212],continent:"AF",capital:"Rabat",currency:["MAD"],languages:["ar"]},MC:{name:"Monaco",native:"Monaco",phone:[377],continent:"EU",capital:"Monaco",currency:["EUR"],languages:["fr"]},MD:{name:"Moldova",native:"Moldova",phone:[373],continent:"EU",capital:"Chișinău",currency:["MDL"],languages:["ro"]},ME:{name:"Montenegro",native:"Црна Гора",phone:[382],continent:"EU",capital:"Podgorica",currency:["EUR"],languages:["sr","bs","sq","hr"]},MF:{name:"Saint Martin",native:"Saint-Martin",phone:[590],continent:"NA",capital:"Marigot",currency:["EUR"],languages:["en","fr","nl"]},MG:{name:"Madagascar",native:"Madagasikara",phone:[261],continent:"AF",capital:"Antananarivo",currency:["MGA"],languages:["fr","mg"]},MH:{name:"Marshall Islands",native:"M̧ajeļ",phone:[692],continent:"OC",capital:"Majuro",currency:["USD"],languages:["en","mh"]},MK:{name:"North Macedonia",native:"Северна Македонија",phone:[389],continent:"EU",capital:"Skopje",currency:["MKD"],languages:["mk"]},ML:{name:"Mali",native:"Mali",phone:[223],continent:"AF",capital:"Bamako",currency:["XOF"],languages:["fr"]},MM:{name:"Myanmar (Burma)",native:"မြန်မာ",phone:[95],continent:"AS",capital:"Naypyidaw",currency:["MMK"],languages:["my"]},MN:{name:"Mongolia",native:"Монгол улс",phone:[976],continent:"AS",capital:"Ulan Bator",currency:["MNT"],languages:["mn"]},MO:{name:"Macao",native:"澳門",phone:[853],continent:"AS",capital:"",currency:["MOP"],languages:["zh","pt"]},MP:{name:"Northern Mariana Islands",native:"Northern Mariana Islands",phone:[1670],continent:"OC",capital:"Saipan",currency:["USD"],languages:["en","ch"]},MQ:{name:"Martinique",native:"Martinique",phone:[596],continent:"NA",capital:"Fort-de-France",currency:["EUR"],languages:["fr"]},MR:{name:"Mauritania",native:"موريتانيا",phone:[222],continent:"AF",capital:"Nouakchott",currency:["MRU"],languages:["ar"]},MS:{name:"Montserrat",native:"Montserrat",phone:[1664],continent:"NA",capital:"Plymouth",currency:["XCD"],languages:["en"]},MT:{name:"Malta",native:"Malta",phone:[356],continent:"EU",capital:"Valletta",currency:["EUR"],languages:["mt","en"]},MU:{name:"Mauritius",native:"Maurice",phone:[230],continent:"AF",capital:"Port Louis",currency:["MUR"],languages:["en"]},MV:{name:"Maldives",native:"Maldives",phone:[960],continent:"AS",capital:"Malé",currency:["MVR"],languages:["dv"]},MW:{name:"Malawi",native:"Malawi",phone:[265],continent:"AF",capital:"Lilongwe",currency:["MWK"],languages:["en","ny"]},MX:{name:"Mexico",native:"México",phone:[52],continent:"NA",capital:"Mexico City",currency:["MXN"],languages:["es"]},MY:{name:"Malaysia",native:"Malaysia",phone:[60],continent:"AS",capital:"Kuala Lumpur",currency:["MYR"],languages:["ms"]},MZ:{name:"Mozambique",native:"Moçambique",phone:[258],continent:"AF",capital:"Maputo",currency:["MZN"],languages:["pt"]},NA:{name:"Namibia",native:"Namibia",phone:[264],continent:"AF",capital:"Windhoek",currency:["NAD","ZAR"],languages:["en","af"]},NC:{name:"New Caledonia",native:"Nouvelle-Calédonie",phone:[687],continent:"OC",capital:"Nouméa",currency:["XPF"],languages:["fr"]},NE:{name:"Niger",native:"Niger",phone:[227],continent:"AF",capital:"Niamey",currency:["XOF"],languages:["fr"]},NF:{name:"Norfolk Island",native:"Norfolk Island",phone:[672],continent:"OC",capital:"Kingston",currency:["AUD"],languages:["en"]},NG:{name:"Nigeria",native:"Nigeria",phone:[234],continent:"AF",capital:"Abuja",currency:["NGN"],languages:["en"]},NI:{name:"Nicaragua",native:"Nicaragua",phone:[505],continent:"NA",capital:"Managua",currency:["NIO"],languages:["es"]},NL:{name:"Netherlands",native:"Nederland",phone:[31],continent:"EU",capital:"Amsterdam",currency:["EUR"],languages:["nl"]},NO:{name:"Norway",native:"Norge",phone:[47],continent:"EU",capital:"Oslo",currency:["NOK"],languages:["no","nb","nn"]},NP:{name:"Nepal",native:"नेपाल",phone:[977],continent:"AS",capital:"Kathmandu",currency:["NPR"],languages:["ne"]},NR:{name:"Nauru",native:"Nauru",phone:[674],continent:"OC",capital:"Yaren",currency:["AUD"],languages:["en","na"]},NU:{name:"Niue",native:"Niuē",phone:[683],continent:"OC",capital:"Alofi",currency:["NZD"],languages:["en"]},NZ:{name:"New Zealand",native:"New Zealand",phone:[64],continent:"OC",capital:"Wellington",currency:["NZD"],languages:["en","mi"]},OM:{name:"Oman",native:"عمان",phone:[968],continent:"AS",capital:"Muscat",currency:["OMR"],languages:["ar"]},PA:{name:"Panama",native:"Panamá",phone:[507],continent:"NA",capital:"Panama City",currency:["PAB","USD"],languages:["es"]},PE:{name:"Peru",native:"Perú",phone:[51],continent:"SA",capital:"Lima",currency:["PEN"],languages:["es"]},PF:{name:"French Polynesia",native:"Polynésie française",phone:[689],continent:"OC",capital:"Papeetē",currency:["XPF"],languages:["fr"]},PG:{name:"Papua New Guinea",native:"Papua Niugini",phone:[675],continent:"OC",capital:"Port Moresby",currency:["PGK"],languages:["en"]},PH:{name:"Philippines",native:"Pilipinas",phone:[63],continent:"AS",capital:"Manila",currency:["PHP"],languages:["en"]},PK:{name:"Pakistan",native:"Pakistan",phone:[92],continent:"AS",capital:"Islamabad",currency:["PKR"],languages:["en","ur"]},PL:{name:"Poland",native:"Polska",phone:[48],continent:"EU",capital:"Warsaw",currency:["PLN"],languages:["pl"]},PM:{name:"Saint Pierre and Miquelon",native:"Saint-Pierre-et-Miquelon",phone:[508],continent:"NA",capital:"Saint-Pierre",currency:["EUR"],languages:["fr"]},PN:{name:"Pitcairn Islands",native:"Pitcairn Islands",phone:[64],continent:"OC",capital:"Adamstown",currency:["NZD"],languages:["en"]},PR:{name:"Puerto Rico",native:"Puerto Rico",phone:[1787,1939],continent:"NA",capital:"San Juan",currency:["USD"],languages:["es","en"]},PS:{name:"Palestine",native:"فلسطين",phone:[970],continent:"AS",capital:"Ramallah",currency:["ILS"],languages:["ar"]},PT:{name:"Portugal",native:"Portugal",phone:[351],continent:"EU",capital:"Lisbon",currency:["EUR"],languages:["pt"]},PW:{name:"Palau",native:"Palau",phone:[680],continent:"OC",capital:"Ngerulmud",currency:["USD"],languages:["en"]},PY:{name:"Paraguay",native:"Paraguay",phone:[595],continent:"SA",capital:"Asunción",currency:["PYG"],languages:["es","gn"]},QA:{name:"Qatar",native:"قطر",phone:[974],continent:"AS",capital:"Doha",currency:["QAR"],languages:["ar"]},RE:{name:"Reunion",native:"La Réunion",phone:[262],continent:"AF",capital:"Saint-Denis",currency:["EUR"],languages:["fr"]},RO:{name:"Romania",native:"România",phone:[40],continent:"EU",capital:"Bucharest",currency:["RON"],languages:["ro"]},RS:{name:"Serbia",native:"Србија",phone:[381],continent:"EU",capital:"Belgrade",currency:["RSD"],languages:["sr"]},RU:{name:"Russia",native:"Россия",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Moscow",currency:["RUB"],languages:["ru"]},RW:{name:"Rwanda",native:"Rwanda",phone:[250],continent:"AF",capital:"Kigali",currency:["RWF"],languages:["rw","en","fr"]},SA:{name:"Saudi Arabia",native:"العربية السعودية",phone:[966],continent:"AS",capital:"Riyadh",currency:["SAR"],languages:["ar"]},SB:{name:"Solomon Islands",native:"Solomon Islands",phone:[677],continent:"OC",capital:"Honiara",currency:["SBD"],languages:["en"]},SC:{name:"Seychelles",native:"Seychelles",phone:[248],continent:"AF",capital:"Victoria",currency:["SCR"],languages:["fr","en"]},SD:{name:"Sudan",native:"السودان",phone:[249],continent:"AF",capital:"Khartoum",currency:["SDG"],languages:["ar","en"]},SE:{name:"Sweden",native:"Sverige",phone:[46],continent:"EU",capital:"Stockholm",currency:["SEK"],languages:["sv"]},SG:{name:"Singapore",native:"Singapore",phone:[65],continent:"AS",capital:"Singapore",currency:["SGD"],languages:["en","ms","ta","zh"]},SH:{name:"Saint Helena",native:"Saint Helena",phone:[290],continent:"AF",capital:"Jamestown",currency:["SHP"],languages:["en"]},SI:{name:"Slovenia",native:"Slovenija",phone:[386],continent:"EU",capital:"Ljubljana",currency:["EUR"],languages:["sl"]},SJ:{name:"Svalbard and Jan Mayen",native:"Svalbard og Jan Mayen",phone:[4779],continent:"EU",capital:"Longyearbyen",currency:["NOK"],languages:["no"]},SK:{name:"Slovakia",native:"Slovensko",phone:[421],continent:"EU",capital:"Bratislava",currency:["EUR"],languages:["sk"]},SL:{name:"Sierra Leone",native:"Sierra Leone",phone:[232],continent:"AF",capital:"Freetown",currency:["SLL"],languages:["en"]},SM:{name:"San Marino",native:"San Marino",phone:[378],continent:"EU",capital:"City of San Marino",currency:["EUR"],languages:["it"]},SN:{name:"Senegal",native:"Sénégal",phone:[221],continent:"AF",capital:"Dakar",currency:["XOF"],languages:["fr"]},SO:{name:"Somalia",native:"Soomaaliya",phone:[252],continent:"AF",capital:"Mogadishu",currency:["SOS"],languages:["so","ar"]},SR:{name:"Suriname",native:"Suriname",phone:[597],continent:"SA",capital:"Paramaribo",currency:["SRD"],languages:["nl"]},SS:{name:"South Sudan",native:"South Sudan",phone:[211],continent:"AF",capital:"Juba",currency:["SSP"],languages:["en"]},ST:{name:"Sao Tome and Principe",native:"São Tomé e Príncipe",phone:[239],continent:"AF",capital:"São Tomé",currency:["STN"],languages:["pt"]},SV:{name:"El Salvador",native:"El Salvador",phone:[503],continent:"NA",capital:"San Salvador",currency:["SVC","USD"],languages:["es"]},SX:{name:"Sint Maarten",native:"Sint Maarten",phone:[1721],continent:"NA",capital:"Philipsburg",currency:["ANG"],languages:["nl","en"]},SY:{name:"Syria",native:"سوريا",phone:[963],continent:"AS",capital:"Damascus",currency:["SYP"],languages:["ar"]},SZ:{name:"Eswatini",native:"Eswatini",phone:[268],continent:"AF",capital:"Lobamba",currency:["SZL"],languages:["en","ss"]},TC:{name:"Turks and Caicos Islands",native:"Turks and Caicos Islands",phone:[1649],continent:"NA",capital:"Cockburn Town",currency:["USD"],languages:["en"]},TD:{name:"Chad",native:"Tchad",phone:[235],continent:"AF",capital:"N'Djamena",currency:["XAF"],languages:["fr","ar"]},TF:{name:"French Southern Territories",native:"Territoire des Terres australes et antarctiques fr",phone:[262],continent:"AN",capital:"Port-aux-Français",currency:["EUR"],languages:["fr"]},TG:{name:"Togo",native:"Togo",phone:[228],continent:"AF",capital:"Lomé",currency:["XOF"],languages:["fr"]},TH:{name:"Thailand",native:"ประเทศไทย",phone:[66],continent:"AS",capital:"Bangkok",currency:["THB"],languages:["th"]},TJ:{name:"Tajikistan",native:"Тоҷикистон",phone:[992],continent:"AS",capital:"Dushanbe",currency:["TJS"],languages:["tg","ru"]},TK:{name:"Tokelau",native:"Tokelau",phone:[690],continent:"OC",capital:"Fakaofo",currency:["NZD"],languages:["en"]},TL:{name:"East Timor",native:"Timor-Leste",phone:[670],continent:"OC",capital:"Dili",currency:["USD"],languages:["pt"]},TM:{name:"Turkmenistan",native:"Türkmenistan",phone:[993],continent:"AS",capital:"Ashgabat",currency:["TMT"],languages:["tk","ru"]},TN:{name:"Tunisia",native:"تونس",phone:[216],continent:"AF",capital:"Tunis",currency:["TND"],languages:["ar"]},TO:{name:"Tonga",native:"Tonga",phone:[676],continent:"OC",capital:"Nuku'alofa",currency:["TOP"],languages:["en","to"]},TR:{name:"Turkey",native:"Türkiye",phone:[90],continent:"AS",continents:["AS","EU"],capital:"Ankara",currency:["TRY"],languages:["tr"]},TT:{name:"Trinidad and Tobago",native:"Trinidad and Tobago",phone:[1868],continent:"NA",capital:"Port of Spain",currency:["TTD"],languages:["en"]},TV:{name:"Tuvalu",native:"Tuvalu",phone:[688],continent:"OC",capital:"Funafuti",currency:["AUD"],languages:["en"]},TW:{name:"Taiwan",native:"臺灣",phone:[886],continent:"AS",capital:"Taipei",currency:["TWD"],languages:["zh"]},TZ:{name:"Tanzania",native:"Tanzania",phone:[255],continent:"AF",capital:"Dodoma",currency:["TZS"],languages:["sw","en"]},UA:{name:"Ukraine",native:"Україна",phone:[380],continent:"EU",capital:"Kyiv",currency:["UAH"],languages:["uk"]},UG:{name:"Uganda",native:"Uganda",phone:[256],continent:"AF",capital:"Kampala",currency:["UGX"],languages:["en","sw"]},UM:{name:"U.S. Minor Outlying Islands",native:"United States Minor Outlying Islands",phone:[1],continent:"OC",capital:"",currency:["USD"],languages:["en"]},US:{name:"United States",native:"United States",phone:[1],continent:"NA",capital:"Washington D.C.",currency:["USD","USN","USS"],languages:["en"]},UY:{name:"Uruguay",native:"Uruguay",phone:[598],continent:"SA",capital:"Montevideo",currency:["UYI","UYU"],languages:["es"]},UZ:{name:"Uzbekistan",native:"O'zbekiston",phone:[998],continent:"AS",capital:"Tashkent",currency:["UZS"],languages:["uz","ru"]},VA:{name:"Vatican City",native:"Vaticano",phone:[379],continent:"EU",capital:"Vatican City",currency:["EUR"],languages:["it","la"]},VC:{name:"Saint Vincent and the Grenadines",native:"Saint Vincent and the Grenadines",phone:[1784],continent:"NA",capital:"Kingstown",currency:["XCD"],languages:["en"]},VE:{name:"Venezuela",native:"Venezuela",phone:[58],continent:"SA",capital:"Caracas",currency:["VES"],languages:["es"]},VG:{name:"British Virgin Islands",native:"British Virgin Islands",phone:[1284],continent:"NA",capital:"Road Town",currency:["USD"],languages:["en"]},VI:{name:"U.S. Virgin Islands",native:"United States Virgin Islands",phone:[1340],continent:"NA",capital:"Charlotte Amalie",currency:["USD"],languages:["en"]},VN:{name:"Vietnam",native:"Việt Nam",phone:[84],continent:"AS",capital:"Hanoi",currency:["VND"],languages:["vi"]},VU:{name:"Vanuatu",native:"Vanuatu",phone:[678],continent:"OC",capital:"Port Vila",currency:["VUV"],languages:["bi","en","fr"]},WF:{name:"Wallis and Futuna",native:"Wallis et Futuna",phone:[681],continent:"OC",capital:"Mata-Utu",currency:["XPF"],languages:["fr"]},WS:{name:"Samoa",native:"Samoa",phone:[685],continent:"OC",capital:"Apia",currency:["WST"],languages:["sm","en"]},XK:{name:"Kosovo",native:"Republika e Kosovës",phone:[377,381,383,386],continent:"EU",capital:"Pristina",currency:["EUR"],languages:["sq","sr"]},YE:{name:"Yemen",native:"اليَمَن",phone:[967],continent:"AS",capital:"Sana'a",currency:["YER"],languages:["ar"]},YT:{name:"Mayotte",native:"Mayotte",phone:[262],continent:"AF",capital:"Mamoudzou",currency:["EUR"],languages:["fr"]},ZA:{name:"South Africa",native:"South Africa",phone:[27],continent:"AF",capital:"Pretoria",currency:["ZAR"],languages:["af","en","nr","st","ss","tn","ts","ve","xh","zu"]},ZM:{name:"Zambia",native:"Zambia",phone:[260],continent:"AF",capital:"Lusaka",currency:["ZMW"],languages:["en"]},ZW:{name:"Zimbabwe",native:"Zimbabwe",phone:[263],continent:"AF",capital:"Harare",currency:["USD","ZAR","BWP","GBP","AUD","CNY","INR","JPY"],languages:["en","sn","nd"]}},GL={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",XK:"XKX",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"},WL=t=>({...tf[t],iso2:t,iso3:GL[t]}),KL=()=>Object.keys(tf).map(t=>WL(t));KL();const QL={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},YL=_o(QL),XL=za(YL);class ZL extends re.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&console.log("enter")});Xe(this,"updateState",(n,r)=>{this.setState({[n]:r,currentQuestion:this.state.currentQuestion+1})});Xe(this,"uploadData",async()=>{try{const n=await DL(vr(XL,"Users",this.state.user.uid),{role:this.state.role,recommendBy:this.state.recommendBy,eduLvl:this.state.eduLvl,country:this.state.country,displayName:this.state.user.displayName,email:this.state.user.email,photoURL:this.state.user.photoURL})}catch(n){console.log("Error adding document of first-time login user: ",n)}});console.log(n.state.user),this.state={user:n.state.user,currentQuestion:1,role:null,recommendBy:null,eduLvl:null,country:null};let r=["-- Please Select --"];for(let i in tf)r.push(tf[i].name);r.sort(),this.data=[{id:1,answering:"role",question:"I am a ...",options:["student","teacher","special needy / refugee / disabilities","public"]},{id:2,answering:"recommendBy",question:"Who recommend me to this platform?",options:["friends","family","school","social media","others"]},{id:3,answering:"eduLvl",question:"I am currently in ...",options:["primary school","secondary school","high school","undergraduate","postgraduate","workplace"]},{id:4,answering:"country",question:"I am from ...",options:r}]}render(){if(console.log(this.state),this.state.user)if(this.state.user.metadata.creationTime===this.state.user.metadata.lastSignInTime)console.log("first-time user");else return U.jsx(Pl,{to:"/freeflow-edu/"});else return U.jsx(Pl,{to:"/freeflow-edu/"});const n=jw(this.data)?[]:this.data.map((r,i)=>{const s=jw(r.options)?[]:r.options.map((o,a)=>r.options.length<10?U.jsx("button",{onClick:()=>this.updateState(r.answering,o),value:o,children:o},o):U.jsx("option",{value:o,children:o},o));return U.jsxs("div",{style:{display:r.id===this.state.currentQuestion?"inherit":"none"},children:[U.jsxs("h3",{children:["Question ",r.id,": ",r.question]}),r.options.length<10?s:U.jsx("select",{id:"s_country",onChange:()=>$("#s_country").val()!=="-- Please Select --"?this.updateState("country",$("#s_country").val()):alert("Please select your origin."),children:s})]},r.id)});return this.state.currentQuestion>4?(console.log("End of survey"),this.uploadData(),U.jsx(Pl,{to:"/freeflow-edu/"})):U.jsxs(U.Fragment,{children:[U.jsx("h1",{children:"First Time Login Q&A"}),n]})}}const JL={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},eB=_o(JL),tB=za(eB),nB=t=>{const[e,n]=re.useState(t.state.user);re.useState(t.state.credential);const r=bf();if(e){const i=vr(tB,"Users",e.uid);(()=>{Ul(i).then(o=>{console.log(o),o.exists()?console.log("registered"):e.metadata.creationTime===e.metadata.lastSignInTime?(console.log("first-time user"),r("/freeflow-edu/first-time-user")):console.log("registered")}).catch(o=>{console.log("Error getting document of collection Users: ",o)})})()}return U.jsx(U.Fragment,{children:U.jsx("h1",{className:"text-gray-300",children:"Home"})})},rB=({setUser:t})=>U.jsx("h1",{children:"Profile"}),Lp=(()=>{const t={};let e=1;return{set(n,r,i){typeof n[r]>"u"&&(n[r]={key:r,id:e},e++),t[n[r].id]=i},get(n,r){if(!n||typeof n[r]>"u")return null;const i=n[r];return i.key===r?t[i.id]:null},delete(n,r){if(typeof n[r]>"u")return;const i=n[r];i.key===r&&(delete t[i.id],delete n[r])}}})(),Rc={setData(t,e,n){Lp.set(t,e,n)},getData(t,e){return Lp.get(t,e)},removeData(t,e){Lp.delete(t,e)}},iB=1e6,sB=t=>t==null?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),oB=t=>{do t+=Math.floor(Math.random()*iB);while(document.getElementById(t));return t},c2=t=>{let e=t.getAttribute("data-te-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},aB=t=>{const e=c2(t);return e&&document.querySelector(e)?e:null},h2=t=>{const e=c2(t);return e?document.querySelector(e):null},lB=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Hw=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],s=e[r],o=s&&lB(s)?"element":sB(s);if(!new RegExp(i).test(o))throw new Error(`${t.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)})},vv=t=>{if(!t||t.getClientRects().length===0)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return getComputedStyle(t).getPropertyValue("visibility")==="visible"||e.display!=="none"&&n.display!=="none"&&e.visibility!=="hidden"}return!1},_v=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",f2=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-te-no-jquery")?t:null},Bp=[],uB=t=>{document.readyState==="loading"?(Bp.length||document.addEventListener("DOMContentLoaded",()=>{Bp.forEach(e=>e())}),Bp.push(t)):t()},ii=()=>document.documentElement.dir==="rtl",d2=t=>document.createElement(t),cB=/[^.]*(?=\..*)\.|.*/,hB=/\..*/,fB=/::\d+$/,Up={};let qw=1;const dB={mouseenter:"mouseover",mouseleave:"mouseout"},pB=/^(mouseenter|mouseleave)/i,p2=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function g2(t,e){return e&&`${e}::${qw++}`||t.uidEvent||qw++}function m2(t){const e=g2(t);return t.uidEvent=e,Up[e]=Up[e]||{},Up[e]}function gB(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&Vn.off(t,r.type,e),e.apply(t,[r])}}function mB(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a=s.length;a--;"")if(s[a]===o)return i.delegateTarget=o,r.oneOff&&Vn.off(t,i.type,n),n.apply(o,[i]);return null}}function y2(t,e,n=null){const r=Object.keys(t);for(let i=0,s=r.length;i<s;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function v2(t,e,n){const r=typeof e=="string",i=r?n:e;let s=_2(t);return p2.has(s)||(s=t),[r,i,s]}function Gw(t,e,n,r,i){if(typeof e!="string"||!t)return;if(n||(n=r,r=null),pB.test(e)){const x=k=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return k.call(this,C)};r?r=x(r):n=x(n)}const[s,o,a]=v2(e,n,r),l=m2(t),u=l[a]||(l[a]={}),c=y2(u,o,s?n:null);if(c){c.oneOff=c.oneOff&&i;return}const g=g2(o,e.replace(cB,"")),v=s?mB(t,n,r):gB(t,n);v.delegationSelector=s?n:null,v.originalHandler=o,v.oneOff=i,v.uidEvent=g,u[g]=v,t.addEventListener(a,v,s)}function Qm(t,e,n,r,i){const s=y2(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function yB(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(s=>{if(s.includes(r)){const o=i[s];Qm(t,e,n,o.originalHandler,o.delegationSelector)}})}function _2(t){return t=t.replace(hB,""),dB[t]||t}const Vn={on(t,e,n,r){Gw(t,e,n,r,!1)},one(t,e,n,r){Gw(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=v2(e,n,r),a=o!==e,l=m2(t),u=e.startsWith(".");if(typeof s<"u"){if(!l||!l[o])return;Qm(t,l,o,s,i?n:null);return}u&&Object.keys(l).forEach(g=>{yB(t,l,g,e.slice(1))});const c=l[o]||{};Object.keys(c).forEach(g=>{const v=g.replace(fB,"");if(!a||e.includes(v)){const x=c[g];Qm(t,l,o,x.originalHandler,x.delegationSelector)}})},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=f2(),i=_2(e),s=e!==i,o=p2.has(i);let a,l=!0,u=!0,c=!1,g=null;return s&&r&&(a=r.Event(e,n),r(t).trigger(a),l=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),o?(g=document.createEvent("HTMLEvents"),g.initEvent(i,l,!0)):g=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof n<"u"&&Object.keys(n).forEach(v=>{Object.defineProperty(g,v,{get(){return n[v]}})}),c&&g.preventDefault(),u&&t.dispatchEvent(g),g.defaultPrevented&&typeof a<"u"&&a.preventDefault(),g}};function Fp(t){return t==="true"?!0:t==="false"?!1:t===Number(t).toString()?Number(t):t===""||t==="null"?null:t}function Vp(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const On={setDataAttribute(t,e,n){t.setAttribute(`data-te-${Vp(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-te-${Vp(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(n=>n.startsWith("te")).forEach(n=>{if(n.startsWith("teClass"))return;let r=n.replace(/^te/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Fp(t.dataset[n])}),e},getDataClassAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter(n=>n.startsWith("teClass")).forEach(n=>{let r=n.replace(/^teClass/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Fp(e[n])}),e},getDataAttribute(t,e){return Fp(t.getAttribute(`data-te-${Vp(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position(t){return{top:t.offsetTop,left:t.offsetLeft}},style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&$p(e).forEach(n=>{t.classList.contains(n)?t.classList.remove(n):t.classList.add(n)})},addClass(t,e){$p(e).forEach(n=>!t.classList.contains(n)&&t.classList.add(n))},addStyle(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]})},removeClass(t,e){$p(e).forEach(n=>t.classList.contains(n)&&t.classList.remove(n))},hasClass(t,e){return t.classList.contains(e)},maxOffset(t){const e=t.getBoundingClientRect();return{top:e.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:e.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function $p(t){return typeof t=="string"?t.split(" "):Array.isArray(t)?t:!1}const vB=3,wi={closest(t,e){return t.closest(e)},matches(t,e){return t.matches(e)},find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==vB;)this.matches(r,e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(", ");return this.find(e,t).filter(n=>!_v(n)&&vv(n))}};ii();ii();ii();ii();ii();ii();ii(),ii();(()=>{var t={454:(r,i,s)=>{s.d(i,{Z:()=>l});var o=s(645),a=s.n(o)()(function(u){return u[1]});a.push([r.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const l=a},645:r=>{r.exports=function(i){var s=[];return s.toString=function(){return this.map(function(o){var a=i(o);return o[2]?"@media ".concat(o[2]," {").concat(a,"}"):a}).join("")},s.i=function(o,a,l){typeof o=="string"&&(o=[[null,o,""]]);var u={};if(l)for(var c=0;c<this.length;c++){var g=this[c][0];g!=null&&(u[g]=!0)}for(var v=0;v<o.length;v++){var x=[].concat(o[v]);l&&u[x[0]]||(a&&(x[2]?x[2]="".concat(a," and ").concat(x[2]):x[2]=a),s.push(x))}},s}},810:()=>{(function(){if(typeof window<"u")try{var r=new window.CustomEvent("test",{cancelable:!0});if(r.preventDefault(),r.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var i=function(s,o){var a,l;return(o=o||{}).bubbles=!!o.bubbles,o.cancelable=!!o.cancelable,(a=document.createEvent("CustomEvent")).initCustomEvent(s,o.bubbles,o.cancelable,o.detail),l=a.preventDefault,a.preventDefault=function(){l.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},a};i.prototype=window.Event.prototype,window.CustomEvent=i}})()},379:(r,i,s)=>{var o,a=function(){var y={};return function(O){if(y[O]===void 0){var P=document.querySelector(O);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch{P=null}y[O]=P}return y[O]}}(),l=[];function u(y){for(var O=-1,P=0;P<l.length;P++)if(l[P].identifier===y){O=P;break}return O}function c(y,O){for(var P={},B=[],F=0;F<y.length;F++){var V=y[F],Y=O.base?V[0]+O.base:V[0],X=P[Y]||0,ne="".concat(Y," ").concat(X);P[Y]=X+1;var ye=u(ne),L={css:V[1],media:V[2],sourceMap:V[3]};ye!==-1?(l[ye].references++,l[ye].updater(L)):l.push({identifier:ne,updater:E(L,O),references:1}),B.push(ne)}return B}function g(y){var O=document.createElement("style"),P=y.attributes||{};if(P.nonce===void 0){var B=s.nc;B&&(P.nonce=B)}if(Object.keys(P).forEach(function(V){O.setAttribute(V,P[V])}),typeof y.insert=="function")y.insert(O);else{var F=a(y.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(O)}return O}var v,x=(v=[],function(y,O){return v[y]=O,v.filter(Boolean).join(`
`)});function k(y,O,P,B){var F=P?"":B.media?"@media ".concat(B.media," {").concat(B.css,"}"):B.css;if(y.styleSheet)y.styleSheet.cssText=x(O,F);else{var V=document.createTextNode(F),Y=y.childNodes;Y[O]&&y.removeChild(Y[O]),Y.length?y.insertBefore(V,Y[O]):y.appendChild(V)}}function C(y,O,P){var B=P.css,F=P.media,V=P.sourceMap;if(F?y.setAttribute("media",F):y.removeAttribute("media"),V&&typeof btoa<"u"&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(V))))," */")),y.styleSheet)y.styleSheet.cssText=B;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(B))}}var N=null,A=0;function E(y,O){var P,B,F;if(O.singleton){var V=A++;P=N||(N=g(O)),B=k.bind(null,P,V,!1),F=k.bind(null,P,V,!0)}else P=g(O),B=C.bind(null,P,O),F=function(){(function(Y){if(Y.parentNode===null)return!1;Y.parentNode.removeChild(Y)})(P)};return B(y),function(Y){if(Y){if(Y.css===y.css&&Y.media===y.media&&Y.sourceMap===y.sourceMap)return;B(y=Y)}else F()}}r.exports=function(y,O){(O=O||{}).singleton||typeof O.singleton=="boolean"||(O.singleton=(o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o));var P=c(y=y||[],O);return function(B){if(B=B||[],Object.prototype.toString.call(B)==="[object Array]"){for(var F=0;F<P.length;F++){var V=u(P[F]);l[V].references--}for(var Y=c(B,O),X=0;X<P.length;X++){var ne=u(P[X]);l[ne].references===0&&(l[ne].updater(),l.splice(ne,1))}P=Y}}}}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return n.d(i,{a:i}),i},n.d=(r,i)=>{for(var s in i)n.o(i,s)&&!n.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:i[s]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),(()=>{var r=n(379),i=n.n(r),s=n(454);function o(l){if(!l.hasAttribute("autocompleted")){l.setAttribute("autocompleted","");var u=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});l.dispatchEvent(u)||(l.value="")}}function a(l){l.hasAttribute("autocompleted")&&(l.removeAttribute("autocompleted"),l.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,n(810),document.addEventListener("animationstart",function(l){l.animationName==="onautofillstart"?o(l.target):a(l.target)},!0),document.addEventListener("input",function(l){l.inputType!=="insertReplacementText"&&"data"in l?a(l.target):o(l.target)},!0)})()})();const jp="ripple",Cc="te.ripple",_B="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",wB=["[data-te-ripple-init]"],zp=[0,0,0],EB=[{name:"primary",gradientColor:"#3B71CA"},{name:"secondary",gradientColor:"#9FA6B2"},{name:"success",gradientColor:"#14A44D"},{name:"danger",gradientColor:"#DC4C64"},{name:"warning",gradientColor:"#E4A11B"},{name:"info",gradientColor:"#54B4D3"},{name:"light",gradientColor:"#fbfbfb"},{name:"dark",gradientColor:"#262626"}],Ww=.5,IB={rippleCentered:!1,rippleColor:"",rippleColorDark:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},SB={rippleCentered:"boolean",rippleColor:"string",rippleColorDark:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},TB={ripple:"relative overflow-hidden inline-block align-bottom",rippleWave:"rounded-[50%] opacity-50 pointer-events-none absolute touch-none scale-0 transition-[transform,_opacity] ease-[cubic-bezier(0,0,0.15,1),_cubic-bezier(0,0,0.15,1)] z-[999]",unbound:"overflow-visible"},AB={ripple:"string",rippleWave:"string",unbound:"string"};class wv{constructor(e,n,r){this._element=e,this._options=this._getConfig(n),this._classes=this._getClasses(r),this._element&&(Rc.setData(e,Cc,this),On.addClass(this._element,this._classes.ripple)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this._initialClasses=null,this.init()}static get NAME(){return jp}init(){this._addClickEvent(this._element)}dispose(){Rc.removeData(this._element,Cc),Vn.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(e){wB.forEach(n=>{wi.closest(e.target,n)&&(this._element=wi.closest(e.target,n))}),this._element.style.minWidth||(On.style(this._element,{"min-width":getComputedStyle(this._element).width}),this._isMinWidthSet=!0),this._options=this._getConfig(),this._classes=this._getClasses(),this._initialClasses=[...this._element.classList],On.addClass(this._element,this._classes.ripple),this._createRipple(e)}_addClickEvent(e){Vn.on(e,"mousedown",this._clickHandler)}_createRipple(e){this._element.className.indexOf(this._classes.ripple)<0&&On.addClass(this._element,this._classes.ripple);const{layerX:n,layerY:r}=e,i=e.offsetX||n,s=e.offsetY||r,o=this._element.offsetHeight,a=this._element.offsetWidth,l=this._durationToMsNumber(this._options.rippleDuration),u={offsetX:this._options.rippleCentered?o/2:i,offsetY:this._options.rippleCentered?a/2:s,height:o,width:a},c=this._getDiameter(u),g=this._options.rippleRadius||c/2,v={delay:l*Ww,duration:l-l*Ww},x={left:this._options.rippleCentered?`${a/2-g}px`:`${i-g}px`,top:this._options.rippleCentered?`${o/2-g}px`:`${s-g}px`,height:`${this._options.rippleRadius*2||c}px`,width:`${this._options.rippleRadius*2||c}px`,transitionDelay:`0s, ${v.delay}ms`,transitionDuration:`${l}ms, ${v.duration}ms`},k=d2("div");this._createHTMLRipple({wrapper:this._element,ripple:k,styles:x}),this._removeHTMLRipple({ripple:k,duration:l})}_createHTMLRipple({wrapper:e,ripple:n,styles:r}){Object.keys(r).forEach(i=>n.style[i]=r[i]),On.addClass(n,this._classes.rippleWave),n.setAttribute("data-te-ripple-ref",""),this._addColor(n,e),this._toggleUnbound(e),this._appendRipple(n,e)}_removeHTMLRipple({ripple:e,duration:n}){this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),e&&setTimeout(()=>{e.classList.add("!opacity-0")},10),this._rippleTimer=setTimeout(()=>{if(e&&(e.remove(),this._element)){wi.find("[data-te-ripple-ref]",this._element).forEach(i=>{i.remove()}),this._isMinWidthSet&&(On.style(this._element,{"min-width":""}),this._isMinWidthSet=!1);const r=this._initialClasses?this._addedNewRippleClasses(this._classes.ripple,this._initialClasses):this._classes.ripple.split(" ");On.removeClass(this._element,r)}},n)}_addedNewRippleClasses(e,n){return e.split(" ").filter(r=>n.findIndex(i=>r===i)===-1)}_durationToMsNumber(e){return Number(e.replace("ms","").replace("s","000"))}_getConfig(e={}){const n=On.getDataAttributes(this._element);return e={...IB,...n,...e},Hw(jp,e,SB),e}_getClasses(e={}){const n=On.getDataClassAttributes(this._element);return e={...TB,...n,...e},Hw(jp,e,AB),e}_getDiameter({offsetX:e,offsetY:n,height:r,width:i}){const s=n<=r/2,o=e<=i/2,a=(v,x)=>Math.sqrt(v**2+x**2),l=n===r/2&&e===i/2,u={first:s===!0&&o===!1,second:s===!0&&o===!0,third:s===!1&&o===!0,fourth:s===!1&&o===!1},c={topLeft:a(e,n),topRight:a(i-e,n),bottomLeft:a(e,r-n),bottomRight:a(i-e,r-n)};let g=0;return l||u.fourth?g=c.topLeft:u.third?g=c.topRight:u.second?g=c.bottomRight:u.first&&(g=c.bottomLeft),g*2}_appendRipple(e,n){n.appendChild(e),setTimeout(()=>{On.addClass(e,"opacity-0 scale-100")},50)}_toggleUnbound(e){this._options.rippleUnbound===!0?On.addClass(e,this._classes.unbound):On.removeClass(e,this._classes.unbound)}_addColor(e){let n=this._options.rippleColor||"rgb(0,0,0)";(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(n=this._options.rippleColorDark||this._options.rippleColor);const r=EB.find(o=>o.name===n.toLowerCase()),i=r?this._colorToRGB(r.gradientColor).join(","):this._colorToRGB(n).join(","),s=_B.split("{{color}}").join(`${i}`);e.style.backgroundImage=`radial-gradient(circle, ${s})`}_colorToRGB(e){function n(s){return s.length<7&&(s=`#${s[1]}${s[1]}${s[2]}${s[2]}${s[3]}${s[3]}`),[parseInt(s.substr(1,2),16),parseInt(s.substr(3,2),16),parseInt(s.substr(5,2),16)]}function r(s){const o=document.body.appendChild(document.createElement("fictum")),a="rgb(1, 2, 3)";return o.style.color=a,o.style.color!==a||(o.style.color=s,o.style.color===a||o.style.color==="")?zp:(s=getComputedStyle(o).color,document.body.removeChild(o),s)}function i(s){return s=s.match(/[.\d]+/g).map(o=>+Number(o)),s.length=3,s}return e.toLowerCase()==="transparent"?zp:e[0]==="#"?n(e):(e.indexOf("rgb")===-1&&(e=r(e)),e.indexOf("rgb")===0?i(e):zp)}static autoInitial(e){return function(n){e._autoInit(n)}}static jQueryInterface(e){return this.each(function(){return Rc.getData(this,Cc)?null:new wv(this,e)})}static getInstance(e){return Rc.getData(e,Cc)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}}ii();ii();oB("chips-input-");const Li={plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}},xB={line:{options:{...Li,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bar:{options:{...Li,backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},pie:{options:{...Li,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},doughnut:{options:{...Li,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},polarArea:{options:{...Li,elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}}},radar:{options:{...Li,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},scatter:{options:{...Li,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bubble:{options:{...Li,elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}}};var fd=function(t){this.element=t,this.handlers={}},w2={isEmpty:{configurable:!0}};fd.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};fd.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(n.element.removeEventListener(t,r,!1),!1)})};fd.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};w2.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(fd.prototype,w2);typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),typeof navigator<"u"&&navigator.msMaxTouchPoints,typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent);d2("div");const RB=t=>{uB(()=>{const e=f2();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},CB=(t,e)=>{Vn.on(document,`click.te.${t.NAME}`,e,function(n){n.preventDefault(),t.getOrCreateInstance(this).toggle()})},bB=(t,e)=>{Vn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!_v(this)&&t.getOrCreateInstance(this).show()})},kB=(t,e)=>{Vn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){const r=h2(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),_v(this))return;Vn.one(r,t.EVENT_HIDDEN,()=>{vv(this)&&this.focus()});const i=wi.findOne(t.OPEN_SELECTOR);i&&i!==r&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},PB=(t,e)=>{Vn.on(document,`click.te.${t.NAME}`,e,n=>{n.preventDefault();const r=n.target.closest(e);t.getOrCreateInstance(r).toggle()})},NB=(t,e)=>{Vn.on(document,`click.te.${t.NAME}`,e,function(n){const r=h2(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Vn.one(r,t.EVENT_SHOW,s=>{s.defaultPrevented||Vn.one(r,t.EVENT_HIDDEN,()=>{vv(this)&&this.focus()})});const i=wi.findOne(`[${t.OPEN_SELECTOR}="true"]`);i&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},MB=(t,e)=>{Vn.one(document,"mousedown",e,t.autoInitial(new t))},DB=(t,e)=>{Vn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const r=aB(this);wi.find(r).forEach(i=>{t.getOrCreateInstance(i,{toggle:!1}).toggle()})})},OB=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},LB=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},BB=(t,e)=>{wi.find(e).forEach(n=>{new t(n)}),Vn.on(document,`click.te.${t.NAME}.data-api`,`${e} img:not([data-te-lightbox-disabled])`,t.toggle())},UB=(t,e)=>{const n=s=>s[0]==="{"&&s[s.length-1]==="}"||s[0]==="["&&s[s.length-1]==="]",r=s=>typeof s!="string"?s:n(s)?JSON.parse(s.replace(/'/g,'"')):s,i=s=>{const o={};return Object.keys(s).forEach(a=>{if(a.match(/dataset.*/)){const l=a.slice(7,8).toLowerCase().concat(a.slice(8));o[l]=r(s[a])}}),o};wi.find(e).forEach(s=>{if(On.getDataAttribute(s,"chart")!=="bubble"&&On.getDataAttribute(s,"chart")!=="scatter"){const o=On.getDataAttributes(s),a={data:{datasets:[i(o)]}};return o.chart&&(a.type=o.chart),o.labels&&(a.data.labels=JSON.parse(o.labels.replace(/'/g,'"'))),new t(s,{...a,...xB[a.type]})}return null})};class FB{constructor(){this.inits=[]}get initialized(){return this.inits}isInited(e){return this.inits.includes(e)}add(e){this.isInited(e)||this.inits.push(e)}}const Ym=new FB,El={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:UB},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:PB},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:DB},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:CB},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:NB},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:MB},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:kB},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:bB},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:OB},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:LB},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:BB},touch:{name:"Touch",selector:"[data-te-touch-init]"}},VB=t=>El[t.NAME]||null,$B=(t,e)=>{if(!t||!e.allowReinits&&Ym.isInited(t.NAME))return;Ym.add(t.NAME);const n=VB(t),r=(n==null?void 0:n.isToggler)||!1;if(RB(t),n!=null&&n.advanced){n==null||n.advanced(t,n==null?void 0:n.selector);return}if(r){n==null||n.callback(t,n==null?void 0:n.selector);return}wi.find(n==null?void 0:n.selector).forEach(i=>{let s=t.getInstance(i);s||(s=new t(i),n!=null&&n.onInit&&s[n.onInit]())})},jB=(t,e)=>{t.forEach(n=>$B(n,e))},zB={allowReinits:!1,checkOtherImports:!1},HB=(t,e={})=>{e={...zB,...e};const n=Object.keys(El).map(r=>{if(document.querySelector(El[r].selector)){const i=t[El[r].name];return!i&&!Ym.isInited(r)&&e.checkOtherImports&&console.warn(`Please import ${El[r].name} from "tw-elements" package and add it to a object parameter inside "initTE" function`),i}});jB(n,e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebasestorage.googleapis.com",I2="storageBucket",qB=2*60*1e3,GB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends oi{constructor(e,n,r=0){super(Hp(e),`Firebase Storage: ${n} (${Hp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function Hp(t){return"storage/"+t}function Ev(){const t="An unknown error occurred, please check the error payload for server response.";return new St(It.UNKNOWN,t)}function WB(t){return new St(It.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KB(t){return new St(It.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(It.UNAUTHENTICATED,t)}function YB(){return new St(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XB(t){return new St(It.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ZB(){return new St(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JB(){return new St(It.CANCELED,"User canceled the upload/download.")}function eU(t){return new St(It.INVALID_URL,"Invalid URL '"+t+"'.")}function tU(t){return new St(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nU(){return new St(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+I2+"' property when initializing the app?")}function rU(){return new St(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iU(){return new St(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sU(t){return new St(It.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xm(t){return new St(It.INVALID_ARGUMENT,t)}function S2(){return new St(It.APP_DELETED,"The Firebase app was deleted.")}function oU(t){return new St(It.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vl(t,e){return new St(It.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function al(t){throw new St(It.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ir.makeFromUrl(e,n)}catch{return new ir(e,"")}if(r.path==="")return r;throw tU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const c="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${c}/b/${i}/o${v}`,"i"),k={bucket:1,path:3},C=n===E2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",A=new RegExp(`^https?://${C}/${i}/${N}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:x,indices:k,postModify:u},{regex:A,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<y.length;O++){const P=y[O],B=P.regex.exec(e);if(B){const F=B[P.indices.bucket];let V=B[P.indices.path];V||(V=""),r=new ir(F,V),P.postModify(r);break}}if(r==null)throw eU(e);return r}}class aU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...N){u||(u=!0,e.apply(null,N))}function g(N){i=setTimeout(()=>{i=null,t(x,l())},N)}function v(){s&&clearTimeout(s)}function x(N,...A){if(u){v();return}if(N){v(),c.call(null,N,...A);return}if(l()||o){v(),c.call(null,N,...A);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,g(y)}let k=!1;function C(N){k||(k=!0,v(),!u&&(i!==null?(N||(a=2),clearTimeout(i),g(0)):N||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function uU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return t!==void 0}function hU(t){return typeof t=="object"&&!Array.isArray(t)}function Iv(t){return typeof t=="string"||t instanceof String}function Kw(t){return Sv()&&t instanceof Blob}function Sv(){return typeof Blob<"u"&&!QP()}function Qw(t,e,n,r){if(r<e)throw Xm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Xm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function T2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ys||(Ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r,i,s,o,a,l,u,c,g,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ys.NO_ERROR,l=s.getStatus();if(!a||fU(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ys.ABORT;r(!1,new bc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new bc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());cU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Ev();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?S2():JB();o(l)}else{const l=ZB();o(l)}};this.canceled_?n(!1,new bc(!1,null,!0)):this.backoffId_=lU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vU(t,e,n,r,i,s,o=!0){const a=T2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return mU(u,e),pU(u,n),gU(u,s),yU(u,r),new dU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wU(...t){const e=_U();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Sv())return new Blob(t);throw new St(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){if(typeof atob>"u")throw sU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qp{constructor(e,n){this.data=e,this.contentType=n||null}}function SU(t,e){switch(t){case Kr.RAW:return new qp(A2(e));case Kr.BASE64:case Kr.BASE64URL:return new qp(x2(t,e));case Kr.DATA_URL:return new qp(AU(e),xU(e))}throw Ev()}function A2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function TU(t){let e;try{e=decodeURIComponent(t)}catch{throw Vl(Kr.DATA_URL,"Malformed data URL.")}return A2(e)}function x2(t,e){switch(t){case Kr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Kr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=IU(e)}catch(i){throw i.message.includes("polyfill")?i:Vl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class R2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vl(Kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=RU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function AU(t){const e=new R2(t);return e.base64?x2(Kr.BASE64,e.rest):TU(e.rest)}function xU(t){return new R2(t).contentType}function RU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){let r=0,i="";Kw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Kw(this.data_)){const r=this.data_,i=EU(r,e,n);return i===null?null:new Qi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Qi(r,!0)}}static getBlob(...e){if(Sv()){const n=e.map(r=>r instanceof Qi?r.data_:r);return new Qi(wU.apply(null,n))}else{const n=e.map(o=>Iv(o)?SU(Kr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Qi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){let e;try{e=JSON.parse(t)}catch{return null}return hU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function b2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t,e){return e}class Dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||kU}}let kc=null;function PU(t){return!Iv(t)||t.length<2?t:b2(t)}function k2(){if(kc)return kc;const t=[];t.push(new Dn("bucket")),t.push(new Dn("generation")),t.push(new Dn("metageneration")),t.push(new Dn("name","fullPath",!0));function e(s,o){return PU(o)}const n=new Dn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Dn("size");return i.xform=r,t.push(i),t.push(new Dn("timeCreated")),t.push(new Dn("updated")),t.push(new Dn("md5Hash",null,!0)),t.push(new Dn("cacheControl",null,!0)),t.push(new Dn("contentDisposition",null,!0)),t.push(new Dn("contentEncoding",null,!0)),t.push(new Dn("contentLanguage",null,!0)),t.push(new Dn("contentType",null,!0)),t.push(new Dn("metadata","customMetadata",!0)),kc=t,kc}function NU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ir(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function MU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return NU(r,t),r}function P2(t,e,n){const r=C2(e);return r===null?null:MU(t,r,n)}function DU(t,e,n,r){const i=C2(e);if(i===null||!Iv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,g=t.fullPath,v="/b/"+o(c)+"/o/"+o(g),x=Tv(v,n,r),k=T2({alt:"media",token:u});return x+k})[0]}function OU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class N2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){if(!t)throw Ev()}function LU(t,e){function n(r,i){const s=P2(t,i,e);return M2(s!==null),s}return n}function BU(t,e){function n(r,i){const s=P2(t,i,e);return M2(s!==null),DU(s,i,t.host,t._protocol)}return n}function D2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=YB():i=QB():n.getStatus()===402?i=KB(t.bucket):n.getStatus()===403?i=XB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function UU(t){const e=D2(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=WB(t.path)),s.serverResponse=i.serverResponse,s}return n}function FU(t,e,n){const r=e.fullServerUrl(),i=Tv(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new N2(i,s,BU(t,n),o);return a.errorHandler=UU(e),a}function VU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $U(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=VU(null,e)),r}function jU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let O=0;O<2;O++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=$U(e,r,i),c=OU(u,n),g="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,v=`\r
--`+l+"--",x=Qi.getBlob(g,r,v);if(x===null)throw rU();const k={name:u.fullPath},C=Tv(s,t.host,t._protocol),N="POST",A=t.maxUploadRetryTime,E=new N2(C,N,LU(t,n),A);return E.urlParams=k,E.headers=o,E.body=x.uploadData(),E.errorHandler=D2(e),E}class zU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw al("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HU extends zU{initXhr(){this.xhr_.responseType="text"}}function O2(){return new HU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this._service=e,n instanceof ir?this._location=n:this._location=ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ho(e,n)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b2(this._location.path)}get storage(){return this._service}get parent(){const e=CU(this._location.path);if(e===null)return null;const n=new ir(this._location.bucket,e);return new ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oU(e)}}function qU(t,e,n){t._throwIfRoot("uploadBytes");const r=jU(t.storage,t._location,k2(),new Qi(e,!0),n);return t.storage.makeRequestWithTokens(r,O2).then(i=>({metadata:i,ref:t}))}function GU(t){t._throwIfRoot("getDownloadURL");const e=FU(t.storage,t._location,k2());return t.storage.makeRequestWithTokens(e,O2).then(n=>{if(n===null)throw iU();return n})}function WU(t,e){const n=bU(t._location.path,e),r=new ir(t._location.bucket,n);return new ho(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){return/^[A-Za-z]+:\/\//.test(t)}function QU(t,e){return new ho(t,e)}function L2(t,e){if(t instanceof Av){const n=t;if(n._bucket==null)throw nU();const r=new ho(n,n._bucket);return e!=null?L2(r,e):r}else return e!==void 0?WU(t,e):t}function YU(t,e){if(e&&KU(e)){if(t instanceof Av)return QU(t,e);throw Xm("To use ref(service, url), the first argument must be a Storage instance.")}else return L2(t,e)}function Yw(t,e){const n=e==null?void 0:e[I2];return n==null?null:ir.makeFromBucketSpec(n,t)}function XU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:uT(i,t.app.options.projectId))}class Av{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=E2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qB,this._maxUploadRetryTime=GB,this._requests=new Set,i!=null?this._bucket=ir.makeFromBucketSpec(i,this._host):this._bucket=Yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,e):this._bucket=Yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ho(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new aU(S2());{const o=vU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Xw="@firebase/storage",Zw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="storage";function ll(t,e,n){return t=At(t),qU(t,e,n)}function ZU(t){return t=At(t),GU(t)}function nh(t,e){return t=At(t),YU(t,e)}function U2(t=uy(),e){t=At(t);const r=Nf(t,B2).getImmediate({identifier:e}),i=oT("storage");return i&&JU(r,...i),r}function JU(t,e,n,r={}){XU(t,e,n,r)}function eF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Av(n,r,i,e,vo)}function tF(){oo(new vs(B2,eF,"PUBLIC").setMultipleInstances(!0)),Xr(Xw,Zw,""),Xr(Xw,Zw,"esm2017")}tF();var ht={},dd={};dd.byteLength=iF;dd.toByteArray=oF;dd.fromByteArray=uF;var qr=[],hr=[],nF=typeof Uint8Array<"u"?Uint8Array:Array,Gp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Po=0,rF=Gp.length;Po<rF;++Po)qr[Po]=Gp[Po],hr[Gp.charCodeAt(Po)]=Po;hr["-".charCodeAt(0)]=62;hr["_".charCodeAt(0)]=63;function F2(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function iF(t){var e=F2(t),n=e[0],r=e[1];return(n+r)*3/4-r}function sF(t,e,n){return(e+n)*3/4-n}function oF(t){var e,n=F2(t),r=n[0],i=n[1],s=new nF(sF(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=hr[t.charCodeAt(l)]<<18|hr[t.charCodeAt(l+1)]<<12|hr[t.charCodeAt(l+2)]<<6|hr[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=hr[t.charCodeAt(l)]<<2|hr[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=hr[t.charCodeAt(l)]<<10|hr[t.charCodeAt(l+1)]<<4|hr[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function aF(t){return qr[t>>18&63]+qr[t>>12&63]+qr[t>>6&63]+qr[t&63]}function lF(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(aF(r));return i.join("")}function uF(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(lF(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(qr[e>>2]+qr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(qr[e>>10]+qr[e>>4&63]+qr[e<<2&63]+"=")),i.join("")}var xv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */xv.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,g=n?i-1:0,v=n?-1:1,x=t[e+g];for(g+=v,s=x&(1<<-c)-1,x>>=-c,c+=a;c>0;s=s*256+t[e+g],g+=v,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+g],g+=v,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(x?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(x?-1:1)*o*Math.pow(2,s-r)};xv.write=function(t,e,n,r,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,g=c>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:s-1,k=r?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+g>=1?e+=v/l:e+=v*Math.pow(2,1-g),e*l>=2&&(o++,l/=2),o+g>=c?(a=0,o=c):o+g>=1?(a=(e*l-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[n+x]=a&255,x+=k,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+x]=o&255,x+=k,o/=256,u-=8);t[n+x-k]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=dd,n=xv,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const S=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(S,d),S.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(S){if(S>i)throw new RangeError('The value "'+S+'" is invalid for option "size"');const d=new Uint8Array(S);return Object.setPrototypeOf(d,a.prototype),d}function a(S,d,p){if(typeof S=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(S)}return l(S,d,p)}a.poolSize=8192;function l(S,d,p){if(typeof S=="string")return v(S,d);if(ArrayBuffer.isView(S))return k(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(yn(S,ArrayBuffer)||S&&yn(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yn(S,SharedArrayBuffer)||S&&yn(S.buffer,SharedArrayBuffer)))return C(S,d,p);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=S.valueOf&&S.valueOf();if(D!=null&&D!==S)return a.from(D,d,p);const j=N(S);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return a.from(S[Symbol.toPrimitive]("string"),d,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}a.from=function(S,d,p){return l(S,d,p)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function c(S,d,p){return u(S),S<=0?o(S):d!==void 0?typeof p=="string"?o(S).fill(d,p):o(S).fill(d):o(S)}a.alloc=function(S,d,p){return c(S,d,p)};function g(S){return u(S),o(S<0?0:A(S)|0)}a.allocUnsafe=function(S){return g(S)},a.allocUnsafeSlow=function(S){return g(S)};function v(S,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const p=y(S,d)|0;let D=o(p);const j=D.write(S,d);return j!==p&&(D=D.slice(0,j)),D}function x(S){const d=S.length<0?0:A(S.length)|0,p=o(d);for(let D=0;D<d;D+=1)p[D]=S[D]&255;return p}function k(S){if(yn(S,Uint8Array)){const d=new Uint8Array(S);return C(d.buffer,d.byteOffset,d.byteLength)}return x(S)}function C(S,d,p){if(d<0||S.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<d+(p||0))throw new RangeError('"length" is outside of buffer bounds');let D;return d===void 0&&p===void 0?D=new Uint8Array(S):p===void 0?D=new Uint8Array(S,d):D=new Uint8Array(S,d,p),Object.setPrototypeOf(D,a.prototype),D}function N(S){if(a.isBuffer(S)){const d=A(S.length)|0,p=o(d);return p.length===0||S.copy(p,0,0,d),p}if(S.length!==void 0)return typeof S.length!="number"||Qe(S.length)?o(0):x(S);if(S.type==="Buffer"&&Array.isArray(S.data))return x(S.data)}function A(S){if(S>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return S|0}function E(S){return+S!=S&&(S=0),a.alloc(+S)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,p){if(yn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),yn(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(d)||!a.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===p)return 0;let D=d.length,j=p.length;for(let z=0,W=Math.min(D,j);z<W;++z)if(d[z]!==p[z]){D=d[z],j=p[z];break}return D<j?-1:j<D?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,p){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let D;if(p===void 0)for(p=0,D=0;D<d.length;++D)p+=d[D].length;const j=a.allocUnsafe(p);let z=0;for(D=0;D<d.length;++D){let W=d[D];if(yn(W,Uint8Array))z+W.length>j.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(j,z)):Uint8Array.prototype.set.call(j,W,z);else if(a.isBuffer(W))W.copy(j,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=W.length}return j};function y(S,d){if(a.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||yn(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const p=S.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&p===0)return 0;let j=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return We(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return et(S).length;default:if(j)return D?-1:We(S).length;d=(""+d).toLowerCase(),j=!0}}a.byteLength=y;function O(S,d,p){let D=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,d>>>=0,p<=d))return"";for(S||(S="utf8");;)switch(S){case"hex":return w(this,d,p);case"utf8":case"utf-8":return h(this,d,p);case"ascii":return M(this,d,p);case"latin1":case"binary":return I(this,d,p);case"base64":return L(this,d,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,d,p);default:if(D)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function P(S,d,p){const D=S[d];S[d]=S[p],S[p]=D}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<d;p+=2)P(this,p,p+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<d;p+=4)P(this,p,p+3),P(this,p+1,p+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<d;p+=8)P(this,p,p+7),P(this,p+1,p+6),P(this,p+2,p+5),P(this,p+3,p+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?h(this,0,d):O.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const p=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(d+=" ... "),"<Buffer "+d+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(d,p,D,j,z){if(yn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(p===void 0&&(p=0),D===void 0&&(D=d?d.length:0),j===void 0&&(j=0),z===void 0&&(z=this.length),p<0||D>d.length||j<0||z>this.length)throw new RangeError("out of range index");if(j>=z&&p>=D)return 0;if(j>=z)return-1;if(p>=D)return 1;if(p>>>=0,D>>>=0,j>>>=0,z>>>=0,this===d)return 0;let W=z-j,Re=D-p;const Ae=Math.min(W,Re),Ee=this.slice(j,z),nt=d.slice(p,D);for(let _e=0;_e<Ae;++_e)if(Ee[_e]!==nt[_e]){W=Ee[_e],Re=nt[_e];break}return W<Re?-1:Re<W?1:0};function B(S,d,p,D,j){if(S.length===0)return-1;if(typeof p=="string"?(D=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,Qe(p)&&(p=j?0:S.length-1),p<0&&(p=S.length+p),p>=S.length){if(j)return-1;p=S.length-1}else if(p<0)if(j)p=0;else return-1;if(typeof d=="string"&&(d=a.from(d,D)),a.isBuffer(d))return d.length===0?-1:F(S,d,p,D,j);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(S,d,p):Uint8Array.prototype.lastIndexOf.call(S,d,p):F(S,[d],p,D,j);throw new TypeError("val must be string, number or Buffer")}function F(S,d,p,D,j){let z=1,W=S.length,Re=d.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(S.length<2||d.length<2)return-1;z=2,W/=2,Re/=2,p/=2}function Ae(nt,_e){return z===1?nt[_e]:nt.readUInt16BE(_e*z)}let Ee;if(j){let nt=-1;for(Ee=p;Ee<W;Ee++)if(Ae(S,Ee)===Ae(d,nt===-1?0:Ee-nt)){if(nt===-1&&(nt=Ee),Ee-nt+1===Re)return nt*z}else nt!==-1&&(Ee-=Ee-nt),nt=-1}else for(p+Re>W&&(p=W-Re),Ee=p;Ee>=0;Ee--){let nt=!0;for(let _e=0;_e<Re;_e++)if(Ae(S,Ee+_e)!==Ae(d,_e)){nt=!1;break}if(nt)return Ee}return-1}a.prototype.includes=function(d,p,D){return this.indexOf(d,p,D)!==-1},a.prototype.indexOf=function(d,p,D){return B(this,d,p,D,!0)},a.prototype.lastIndexOf=function(d,p,D){return B(this,d,p,D,!1)};function V(S,d,p,D){p=Number(p)||0;const j=S.length-p;D?(D=Number(D),D>j&&(D=j)):D=j;const z=d.length;D>z/2&&(D=z/2);let W;for(W=0;W<D;++W){const Re=parseInt(d.substr(W*2,2),16);if(Qe(Re))return W;S[p+W]=Re}return W}function Y(S,d,p,D){return Ke(We(d,S.length-p),S,p,D)}function X(S,d,p,D){return Ke(at(d),S,p,D)}function ne(S,d,p,D){return Ke(et(d),S,p,D)}function ye(S,d,p,D){return Ke(Co(d,S.length-p),S,p,D)}a.prototype.write=function(d,p,D,j){if(p===void 0)j="utf8",D=this.length,p=0;else if(D===void 0&&typeof p=="string")j=p,D=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(D)?(D=D>>>0,j===void 0&&(j="utf8")):(j=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-p;if((D===void 0||D>z)&&(D=z),d.length>0&&(D<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let W=!1;for(;;)switch(j){case"hex":return V(this,d,p,D);case"utf8":case"utf-8":return Y(this,d,p,D);case"ascii":case"latin1":case"binary":return X(this,d,p,D);case"base64":return ne(this,d,p,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,d,p,D);default:if(W)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(S,d,p){return d===0&&p===S.length?e.fromByteArray(S):e.fromByteArray(S.slice(d,p))}function h(S,d,p){p=Math.min(S.length,p);const D=[];let j=d;for(;j<p;){const z=S[j];let W=null,Re=z>239?4:z>223?3:z>191?2:1;if(j+Re<=p){let Ae,Ee,nt,_e;switch(Re){case 1:z<128&&(W=z);break;case 2:Ae=S[j+1],(Ae&192)===128&&(_e=(z&31)<<6|Ae&63,_e>127&&(W=_e));break;case 3:Ae=S[j+1],Ee=S[j+2],(Ae&192)===128&&(Ee&192)===128&&(_e=(z&15)<<12|(Ae&63)<<6|Ee&63,_e>2047&&(_e<55296||_e>57343)&&(W=_e));break;case 4:Ae=S[j+1],Ee=S[j+2],nt=S[j+3],(Ae&192)===128&&(Ee&192)===128&&(nt&192)===128&&(_e=(z&15)<<18|(Ae&63)<<12|(Ee&63)<<6|nt&63,_e>65535&&_e<1114112&&(W=_e))}}W===null?(W=65533,Re=1):W>65535&&(W-=65536,D.push(W>>>10&1023|55296),W=56320|W&1023),D.push(W),j+=Re}return T(D)}const m=4096;function T(S){const d=S.length;if(d<=m)return String.fromCharCode.apply(String,S);let p="",D=0;for(;D<d;)p+=String.fromCharCode.apply(String,S.slice(D,D+=m));return p}function M(S,d,p){let D="";p=Math.min(S.length,p);for(let j=d;j<p;++j)D+=String.fromCharCode(S[j]&127);return D}function I(S,d,p){let D="";p=Math.min(S.length,p);for(let j=d;j<p;++j)D+=String.fromCharCode(S[j]);return D}function w(S,d,p){const D=S.length;(!d||d<0)&&(d=0),(!p||p<0||p>D)&&(p=D);let j="";for(let z=d;z<p;++z)j+=Ye[S[z]];return j}function R(S,d,p){const D=S.slice(d,p);let j="";for(let z=0;z<D.length-1;z+=2)j+=String.fromCharCode(D[z]+D[z+1]*256);return j}a.prototype.slice=function(d,p){const D=this.length;d=~~d,p=p===void 0?D:~~p,d<0?(d+=D,d<0&&(d=0)):d>D&&(d=D),p<0?(p+=D,p<0&&(p=0)):p>D&&(p=D),p<d&&(p=d);const j=this.subarray(d,p);return Object.setPrototypeOf(j,a.prototype),j};function _(S,d,p){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+d>p)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,p,D){d=d>>>0,p=p>>>0,D||_(d,p,this.length);let j=this[d],z=1,W=0;for(;++W<p&&(z*=256);)j+=this[d+W]*z;return j},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,p,D){d=d>>>0,p=p>>>0,D||_(d,p,this.length);let j=this[d+--p],z=1;for(;p>0&&(z*=256);)j+=this[d+--p]*z;return j},a.prototype.readUint8=a.prototype.readUInt8=function(d,p){return d=d>>>0,p||_(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,p){return d=d>>>0,p||_(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,p){return d=d>>>0,p||_(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,p){return d=d>>>0,p||_(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,p){return d=d>>>0,p||_(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=zn(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],D=this[d+7];(p===void 0||D===void 0)&&Pe(d,this.length-8);const j=p+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,z=this[++d]+this[++d]*2**8+this[++d]*2**16+D*2**24;return BigInt(j)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=zn(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],D=this[d+7];(p===void 0||D===void 0)&&Pe(d,this.length-8);const j=p*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],z=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+D;return(BigInt(j)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(d,p,D){d=d>>>0,p=p>>>0,D||_(d,p,this.length);let j=this[d],z=1,W=0;for(;++W<p&&(z*=256);)j+=this[d+W]*z;return z*=128,j>=z&&(j-=Math.pow(2,8*p)),j},a.prototype.readIntBE=function(d,p,D){d=d>>>0,p=p>>>0,D||_(d,p,this.length);let j=p,z=1,W=this[d+--j];for(;j>0&&(z*=256);)W+=this[d+--j]*z;return z*=128,W>=z&&(W-=Math.pow(2,8*p)),W},a.prototype.readInt8=function(d,p){return d=d>>>0,p||_(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,p){d=d>>>0,p||_(d,2,this.length);const D=this[d]|this[d+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(d,p){d=d>>>0,p||_(d,2,this.length);const D=this[d+1]|this[d]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(d,p){return d=d>>>0,p||_(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,p){return d=d>>>0,p||_(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=zn(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],D=this[d+7];(p===void 0||D===void 0)&&Pe(d,this.length-8);const j=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(D<<24);return(BigInt(j)<<BigInt(32))+BigInt(p+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=zn(function(d){d=d>>>0,Ve(d,"offset");const p=this[d],D=this[d+7];(p===void 0||D===void 0)&&Pe(d,this.length-8);const j=(p<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(j)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+D)}),a.prototype.readFloatLE=function(d,p){return d=d>>>0,p||_(d,4,this.length),n.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,p){return d=d>>>0,p||_(d,4,this.length),n.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,p){return d=d>>>0,p||_(d,8,this.length),n.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,p){return d=d>>>0,p||_(d,8,this.length),n.read(this,d,!1,52,8)};function f(S,d,p,D,j,z){if(!a.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>j||d<z)throw new RangeError('"value" argument is out of bounds');if(p+D>S.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,p,D,j){if(d=+d,p=p>>>0,D=D>>>0,!j){const Re=Math.pow(2,8*D)-1;f(this,d,p,D,Re,0)}let z=1,W=0;for(this[p]=d&255;++W<D&&(z*=256);)this[p+W]=d/z&255;return p+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,p,D,j){if(d=+d,p=p>>>0,D=D>>>0,!j){const Re=Math.pow(2,8*D)-1;f(this,d,p,D,Re,0)}let z=D-1,W=1;for(this[p+z]=d&255;--z>=0&&(W*=256);)this[p+z]=d/W&255;return p+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,1,255,0),this[p]=d&255,p+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,2,65535,0),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,2,65535,0),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,4,4294967295,0),this[p+3]=d>>>24,this[p+2]=d>>>16,this[p+1]=d>>>8,this[p]=d&255,p+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,4,4294967295,0),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4};function b(S,d,p,D,j){ke(d,D,j,S,p,7);let z=Number(d&BigInt(4294967295));S[p++]=z,z=z>>8,S[p++]=z,z=z>>8,S[p++]=z,z=z>>8,S[p++]=z;let W=Number(d>>BigInt(32)&BigInt(4294967295));return S[p++]=W,W=W>>8,S[p++]=W,W=W>>8,S[p++]=W,W=W>>8,S[p++]=W,p}function G(S,d,p,D,j){ke(d,D,j,S,p,7);let z=Number(d&BigInt(4294967295));S[p+7]=z,z=z>>8,S[p+6]=z,z=z>>8,S[p+5]=z,z=z>>8,S[p+4]=z;let W=Number(d>>BigInt(32)&BigInt(4294967295));return S[p+3]=W,W=W>>8,S[p+2]=W,W=W>>8,S[p+1]=W,W=W>>8,S[p]=W,p+8}a.prototype.writeBigUInt64LE=zn(function(d,p=0){return b(this,d,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=zn(function(d,p=0){return G(this,d,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,p,D,j){if(d=+d,p=p>>>0,!j){const Ae=Math.pow(2,8*D-1);f(this,d,p,D,Ae-1,-Ae)}let z=0,W=1,Re=0;for(this[p]=d&255;++z<D&&(W*=256);)d<0&&Re===0&&this[p+z-1]!==0&&(Re=1),this[p+z]=(d/W>>0)-Re&255;return p+D},a.prototype.writeIntBE=function(d,p,D,j){if(d=+d,p=p>>>0,!j){const Ae=Math.pow(2,8*D-1);f(this,d,p,D,Ae-1,-Ae)}let z=D-1,W=1,Re=0;for(this[p+z]=d&255;--z>=0&&(W*=256);)d<0&&Re===0&&this[p+z+1]!==0&&(Re=1),this[p+z]=(d/W>>0)-Re&255;return p+D},a.prototype.writeInt8=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,1,127,-128),d<0&&(d=255+d+1),this[p]=d&255,p+1},a.prototype.writeInt16LE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,2,32767,-32768),this[p]=d&255,this[p+1]=d>>>8,p+2},a.prototype.writeInt16BE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,2,32767,-32768),this[p]=d>>>8,this[p+1]=d&255,p+2},a.prototype.writeInt32LE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,4,2147483647,-2147483648),this[p]=d&255,this[p+1]=d>>>8,this[p+2]=d>>>16,this[p+3]=d>>>24,p+4},a.prototype.writeInt32BE=function(d,p,D){return d=+d,p=p>>>0,D||f(this,d,p,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[p]=d>>>24,this[p+1]=d>>>16,this[p+2]=d>>>8,this[p+3]=d&255,p+4},a.prototype.writeBigInt64LE=zn(function(d,p=0){return b(this,d,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=zn(function(d,p=0){return G(this,d,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(S,d,p,D,j,z){if(p+D>S.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Q(S,d,p,D,j){return d=+d,p=p>>>0,j||K(S,d,p,4),n.write(S,d,p,D,23,4),p+4}a.prototype.writeFloatLE=function(d,p,D){return Q(this,d,p,!0,D)},a.prototype.writeFloatBE=function(d,p,D){return Q(this,d,p,!1,D)};function oe(S,d,p,D,j){return d=+d,p=p>>>0,j||K(S,d,p,8),n.write(S,d,p,D,52,8),p+8}a.prototype.writeDoubleLE=function(d,p,D){return oe(this,d,p,!0,D)},a.prototype.writeDoubleBE=function(d,p,D){return oe(this,d,p,!1,D)},a.prototype.copy=function(d,p,D,j){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(D||(D=0),!j&&j!==0&&(j=this.length),p>=d.length&&(p=d.length),p||(p=0),j>0&&j<D&&(j=D),j===D||d.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),d.length-p<j-D&&(j=d.length-p+D);const z=j-D;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,D,j):Uint8Array.prototype.set.call(d,this.subarray(D,j),p),z},a.prototype.fill=function(d,p,D,j){if(typeof d=="string"){if(typeof p=="string"?(j=p,p=0,D=this.length):typeof D=="string"&&(j=D,D=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(d.length===1){const W=d.charCodeAt(0);(j==="utf8"&&W<128||j==="latin1")&&(d=W)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(p<0||this.length<p||this.length<D)throw new RangeError("Out of range index");if(D<=p)return this;p=p>>>0,D=D===void 0?this.length:D>>>0,d||(d=0);let z;if(typeof d=="number")for(z=p;z<D;++z)this[z]=d;else{const W=a.isBuffer(d)?d:a.from(d,j),Re=W.length;if(Re===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(z=0;z<D-p;++z)this[z+p]=W[z%Re]}return this};const he={};function fe(S,d,p){he[S]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(S,d){return`The "${S}" argument must be of type number. Received type ${typeof d}`},TypeError),fe("ERR_OUT_OF_RANGE",function(S,d,p){let D=`The value of "${S}" is out of range.`,j=p;return Number.isInteger(p)&&Math.abs(p)>2**32?j=Fe(String(p)):typeof p=="bigint"&&(j=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(j=Fe(j)),j+="n"),D+=` It must be ${d}. Received ${j}`,D},RangeError);function Fe(S){let d="",p=S.length;const D=S[0]==="-"?1:0;for(;p>=D+4;p-=3)d=`_${S.slice(p-3,p)}${d}`;return`${S.slice(0,p)}${d}`}function Ce(S,d,p){Ve(d,"offset"),(S[d]===void 0||S[d+p]===void 0)&&Pe(d,S.length-(p+1))}function ke(S,d,p,D,j,z){if(S>p||S<d){const W=typeof d=="bigint"?"n":"";let Re;throw z>3?d===0||d===BigInt(0)?Re=`>= 0${W} and < 2${W} ** ${(z+1)*8}${W}`:Re=`>= -(2${W} ** ${(z+1)*8-1}${W}) and < 2 ** ${(z+1)*8-1}${W}`:Re=`>= ${d}${W} and <= ${p}${W}`,new he.ERR_OUT_OF_RANGE("value",Re,S)}Ce(D,j,z)}function Ve(S,d){if(typeof S!="number")throw new he.ERR_INVALID_ARG_TYPE(d,"number",S)}function Pe(S,d,p){throw Math.floor(S)!==S?(Ve(S,p),new he.ERR_OUT_OF_RANGE(p||"offset","an integer",S)):d<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${d}`,S)}const ze=/[^+/0-9A-Za-z-_]/g;function Fr(S){if(S=S.split("=")[0],S=S.trim().replace(ze,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function We(S,d){d=d||1/0;let p;const D=S.length;let j=null;const z=[];for(let W=0;W<D;++W){if(p=S.charCodeAt(W),p>55295&&p<57344){if(!j){if(p>56319){(d-=3)>-1&&z.push(239,191,189);continue}else if(W+1===D){(d-=3)>-1&&z.push(239,191,189);continue}j=p;continue}if(p<56320){(d-=3)>-1&&z.push(239,191,189),j=p;continue}p=(j-55296<<10|p-56320)+65536}else j&&(d-=3)>-1&&z.push(239,191,189);if(j=null,p<128){if((d-=1)<0)break;z.push(p)}else if(p<2048){if((d-=2)<0)break;z.push(p>>6|192,p&63|128)}else if(p<65536){if((d-=3)<0)break;z.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((d-=4)<0)break;z.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return z}function at(S){const d=[];for(let p=0;p<S.length;++p)d.push(S.charCodeAt(p)&255);return d}function Co(S,d){let p,D,j;const z=[];for(let W=0;W<S.length&&!((d-=2)<0);++W)p=S.charCodeAt(W),D=p>>8,j=p%256,z.push(j),z.push(D);return z}function et(S){return e.toByteArray(Fr(S))}function Ke(S,d,p,D){let j;for(j=0;j<D&&!(j+p>=d.length||j>=S.length);++j)d[j+p]=S[j];return j}function yn(S,d){return S instanceof d||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===d.name}function Qe(S){return S!==S}const Ye=function(){const S="0123456789abcdef",d=new Array(256);for(let p=0;p<16;++p){const D=p*16;for(let j=0;j<16;++j)d[D+j]=S[p]+S[j]}return d}();function zn(S){return typeof BigInt>"u"?tt:S}function tt(){throw new Error("BigInt not supported")}})(ht);function Jw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function V2(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function cF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jw(t.outputLen),Jw(t.blockLen)}function nf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hF(t,e){V2(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $2=t=>t instanceof Uint8Array,Kp=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$r=(t,e)=>t<<32-e|t>>>e,fF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!fF)throw new Error("Non little-endian hardware is not supported");function j2(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Rv(t){if(typeof t=="string"&&(t=j2(t)),!$2(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function z2(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!$2(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class H2{clone(){return this._cloneInto()}}function q2(t){const e=r=>t().update(Rv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function G2(t=32){if(Wp&&typeof Wp.getRandomValues=="function")return Wp.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function dF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,u=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+u,a,r)}class W2 extends H2{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Kp(this.buffer)}update(e){nf(this);const{view:n,buffer:r,blockLen:i}=this;e=Rv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Kp(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nf(this),hF(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let g=o;g<i;g++)n[g]=0;dF(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Kp(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<u;g++)a.setUint32(4*g,c[g],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const Pc=BigInt(2**32-1),Zm=BigInt(32);function K2(t,e=!1){return e?{h:Number(t&Pc),l:Number(t>>Zm&Pc)}:{h:Number(t>>Zm&Pc)|0,l:Number(t&Pc)|0}}function pF(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=K2(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const gF=(t,e)=>BigInt(t>>>0)<<Zm|BigInt(e>>>0),mF=(t,e,n)=>t>>>n,yF=(t,e,n)=>t<<32-n|e>>>n,vF=(t,e,n)=>t>>>n|e<<32-n,_F=(t,e,n)=>t<<32-n|e>>>n,wF=(t,e,n)=>t<<64-n|e>>>n-32,EF=(t,e,n)=>t>>>n-32|e<<64-n,IF=(t,e)=>e,SF=(t,e)=>t,TF=(t,e,n)=>t<<n|e>>>32-n,AF=(t,e,n)=>e<<n|t>>>32-n,xF=(t,e,n)=>e<<n-32|t>>>64-n,RF=(t,e,n)=>t<<n-32|e>>>64-n;function CF(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const bF=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),kF=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,PF=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),NF=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,MF=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),DF=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,OF={fromBig:K2,split:pF,toBig:gF,shrSH:mF,shrSL:yF,rotrSH:vF,rotrSL:_F,rotrBH:wF,rotrBL:EF,rotr32H:IF,rotr32L:SF,rotlSH:TF,rotlSL:AF,rotlBH:xF,rotlBL:RF,add:CF,add3L:bF,add3H:kF,add4L:PF,add4H:NF,add5H:DF,add5L:MF},be=OF,[LF,BF]=(()=>be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),Bi=new Uint32Array(80),Ui=new Uint32Array(80);class UF extends W2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:g,Fl:v,Gh:x,Gl:k,Hh:C,Hl:N}=this;return[e,n,r,i,s,o,a,l,u,c,g,v,x,k,C,N]}set(e,n,r,i,s,o,a,l,u,c,g,v,x,k,C,N){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=g|0,this.Fl=v|0,this.Gh=x|0,this.Gl=k|0,this.Hh=C|0,this.Hl=N|0}process(e,n){for(let y=0;y<16;y++,n+=4)Bi[y]=e.getUint32(n),Ui[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const O=Bi[y-15]|0,P=Ui[y-15]|0,B=be.rotrSH(O,P,1)^be.rotrSH(O,P,8)^be.shrSH(O,P,7),F=be.rotrSL(O,P,1)^be.rotrSL(O,P,8)^be.shrSL(O,P,7),V=Bi[y-2]|0,Y=Ui[y-2]|0,X=be.rotrSH(V,Y,19)^be.rotrBH(V,Y,61)^be.shrSH(V,Y,6),ne=be.rotrSL(V,Y,19)^be.rotrBL(V,Y,61)^be.shrSL(V,Y,6),ye=be.add4L(F,ne,Ui[y-7],Ui[y-16]),L=be.add4H(ye,B,X,Bi[y-7],Bi[y-16]);Bi[y]=L|0,Ui[y]=ye|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:g,El:v,Fh:x,Fl:k,Gh:C,Gl:N,Hh:A,Hl:E}=this;for(let y=0;y<80;y++){const O=be.rotrSH(g,v,14)^be.rotrSH(g,v,18)^be.rotrBH(g,v,41),P=be.rotrSL(g,v,14)^be.rotrSL(g,v,18)^be.rotrBL(g,v,41),B=g&x^~g&C,F=v&k^~v&N,V=be.add5L(E,P,F,BF[y],Ui[y]),Y=be.add5H(V,A,O,B,LF[y],Bi[y]),X=V|0,ne=be.rotrSH(r,i,28)^be.rotrBH(r,i,34)^be.rotrBH(r,i,39),ye=be.rotrSL(r,i,28)^be.rotrBL(r,i,34)^be.rotrBL(r,i,39),L=r&s^r&a^s&a,h=i&o^i&l^o&l;A=C|0,E=N|0,C=x|0,N=k|0,x=g|0,k=v|0,{h:g,l:v}=be.add(u|0,c|0,Y|0,X|0),u=a|0,c=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const m=be.add3L(X,ye,h);r=be.add3H(m,Y,ne,L),i=m|0}({h:r,l:i}=be.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=be.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=be.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=be.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:g,l:v}=be.add(this.Eh|0,this.El|0,g|0,v|0),{h:x,l:k}=be.add(this.Fh|0,this.Fl|0,x|0,k|0),{h:C,l:N}=be.add(this.Gh|0,this.Gl|0,C|0,N|0),{h:A,l:E}=be.add(this.Hh|0,this.Hl|0,A|0,E|0),this.set(r,i,s,o,a,l,u,c,g,v,x,k,C,N,A,E)}roundClean(){Bi.fill(0),Ui.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Q2=q2(()=>new UF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y2=BigInt(0),pd=BigInt(1),FF=BigInt(2),gd=t=>t instanceof Uint8Array,VF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fo(t){if(!gd(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=VF[t[n]];return e}function X2(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Cv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function xa(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Xs(t){return Cv(fo(t))}function aa(t){if(!gd(t))throw new Error("Uint8Array expected");return Cv(fo(Uint8Array.from(t).reverse()))}function Ra(t,e){return xa(t.toString(16).padStart(e*2,"0"))}function Iu(t,e){return Ra(t,e).reverse()}function $F(t){return xa(X2(t))}function Kt(t,e,n){let r;if(typeof e=="string")try{r=xa(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(gd(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function po(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!gd(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function jF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function zF(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function HF(t){let e;for(e=0;t>Y2;t>>=pd,e+=1);return e}function qF(t,e){return t>>BigInt(e)&pd}const GF=(t,e,n)=>t|(n?pd:Y2)<<BigInt(e),bv=t=>(FF<<BigInt(t-1))-pd,Qp=t=>new Uint8Array(t),eE=t=>Uint8Array.from(t);function Z2(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Qp(t),i=Qp(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...g)=>n(i,r,...g),l=(g=Qp())=>{i=a(eE([0]),g),r=a(),g.length!==0&&(i=a(eE([1]),g),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const v=[];for(;g<e;){r=a();const x=r.slice();v.push(x),g+=r.length}return po(...v)};return(g,v)=>{o(),l(g);let x;for(;!(x=v(u()));)l();return o(),x}}const WF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ga(t,e,n={}){const r=(i,s,o)=>{const a=WF[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const KF=Object.freeze(Object.defineProperty({__proto__:null,bitGet:qF,bitLen:HF,bitMask:bv,bitSet:GF,bytesToHex:fo,bytesToNumberBE:Xs,bytesToNumberLE:aa,concatBytes:po,createHmacDrbg:Z2,ensureBytes:Kt,equalBytes:jF,hexToBytes:xa,hexToNumber:Cv,numberToBytesBE:Ra,numberToBytesLE:Iu,numberToHexUnpadded:X2,numberToVarBytesBE:$F,utf8ToBytes:zF,validateObject:Ga},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tn=BigInt(0),pt=BigInt(1),Ms=BigInt(2),QF=BigInt(3),Jm=BigInt(4),tE=BigInt(5),nE=BigInt(8);BigInt(9);BigInt(16);function lt(t,e){const n=t%e;return n>=tn?n:e+n}function YF(t,e,n){if(n<=tn||e<tn)throw new Error("Expected power/modulo > 0");if(n===pt)return tn;let r=pt;for(;e>tn;)e&pt&&(r=r*t%n),t=t*t%n,e>>=pt;return r}function _t(t,e,n){let r=t;for(;e-- >tn;)r*=r,r%=n;return r}function e0(t,e){if(t===tn||e<=tn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=lt(t,e),r=e,i=tn,s=pt;for(;n!==tn;){const a=r/n,l=r%n,u=i-s*a;r=n,n=l,i=s,s=u}if(r!==pt)throw new Error("invert: does not exist");return lt(i,e)}function XF(t){const e=(t-pt)/Ms;let n,r,i;for(n=t-pt,r=0;n%Ms===tn;n/=Ms,r++);for(i=Ms;i<t&&YF(i,e,t)!==t-pt;i++);if(r===1){const o=(t+pt)/Jm;return function(l,u){const c=l.pow(u,o);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(n+pt)/Ms;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),g=a.pow(l,s),v=a.pow(l,n);for(;!a.eql(v,a.ONE);){if(a.eql(v,a.ZERO))return a.ZERO;let x=1;for(let C=a.sqr(v);x<u&&!a.eql(C,a.ONE);x++)C=a.sqr(C);const k=a.pow(c,pt<<BigInt(u-x-1));c=a.sqr(k),g=a.mul(g,k),v=a.mul(v,c),u=x}return g}}function ZF(t){if(t%Jm===QF){const e=(t+pt)/Jm;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%nE===tE){const e=(t-tE)/nE;return function(r,i){const s=r.mul(i,Ms),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Ms),o),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return XF(t)}const JF=(t,e)=>(lt(t,e)&pt)===pt,e5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function t5(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=e5.reduce((r,i)=>(r[i]="function",r),e);return Ga(t,n)}function n5(t,e,n){if(n<tn)throw new Error("Expected power > 0");if(n===tn)return t.ONE;if(n===pt)return e;let r=t.ONE,i=e;for(;n>tn;)n&pt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=pt;return r}function r5(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function J2(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function eR(t,e,n=!1,r={}){if(t<=tn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=J2(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=ZF(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:bv(i),ZERO:tn,ONE:pt,create:l=>lt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return tn<=l&&l<t},is0:l=>l===tn,isOdd:l=>(l&pt)===pt,neg:l=>lt(-l,t),eql:(l,u)=>l===u,sqr:l=>lt(l*l,t),add:(l,u)=>lt(l+u,t),sub:(l,u)=>lt(l-u,t),mul:(l,u)=>lt(l*u,t),pow:(l,u)=>n5(a,l,u),div:(l,u)=>lt(l*e0(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>e0(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>r5(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?Iu(l,s):Ra(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?aa(l):Xs(l)}});return Object.freeze(a)}function i5(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function tR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function nR(t){const e=tR(t);return e+Math.ceil(e/2)}function s5(t,e,n=!1){const r=t.length,i=tR(e),s=nR(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Xs(t):aa(t),a=lt(o,e-pt)+pt;return n?Iu(a,i):Ra(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o5=BigInt(0),Yp=BigInt(1);function rR(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>o5;)s&Yp&&(o=o.add(a)),a=a.double(),s>>=Yp;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let u=i,c=u;for(let g=0;g<o;g++){c=u,l.push(c);for(let v=1;v<a;v++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let u=t.ZERO,c=t.BASE;const g=BigInt(2**i-1),v=2**i,x=BigInt(i);for(let k=0;k<a;k++){const C=k*l;let N=Number(o&g);o>>=x,N>l&&(N-=v,o+=Yp);const A=C,E=C+Math.abs(N)-1,y=k%2!==0,O=N<0;N===0?c=c.add(n(y,s[A])):u=u.add(n(O,s[E]))}return{p:u,f:c}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&s.set(i,a(u))),this.wNAF(l,u,o)}}}function kv(t){return t5(t.Fp),Ga(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...J2(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rr=BigInt(0),Jn=BigInt(1),Nc=BigInt(2),a5=BigInt(8),l5={zip215:!0};function u5(t){const e=kv(t);return Ga(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Pv(t){const e=u5(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,u=Nc<<BigInt(a*8)-Jn,c=n.create,g=e.uvRatio||((I,w)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(w))}}catch{return{isValid:!1,value:Rr}}}),v=e.adjustScalarBytes||(I=>I),x=e.domain||((I,w,R)=>{if(w.length||R)throw new Error("Contexts/pre-hash are not supported");return I}),k=I=>typeof I=="bigint"&&Rr<I,C=(I,w)=>k(I)&&k(w)&&I<w,N=I=>I===Rr||C(I,u);function A(I,w){if(C(I,w))return I;throw new Error(`Expected valid scalar < ${w}, got ${typeof I} ${I}`)}function E(I){return I===Rr?I:A(I,r)}const y=new Map;function O(I){if(!(I instanceof P))throw new Error("ExtendedPoint expected")}class P{constructor(w,R,_,f){if(this.ex=w,this.ey=R,this.ez=_,this.et=f,!N(w))throw new Error("x required");if(!N(R))throw new Error("y required");if(!N(_))throw new Error("z required");if(!N(f))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof P)throw new Error("extended point not allowed");const{x:R,y:_}=w||{};if(!N(R)||!N(_))throw new Error("invalid affine point");return new P(R,_,Jn,c(R*_))}static normalizeZ(w){const R=n.invertBatch(w.map(_=>_.ez));return w.map((_,f)=>_.toAffine(R[f])).map(P.fromAffine)}_setWindowSize(w){this._WINDOW_SIZE=w,y.delete(this)}assertValidity(){const{a:w,d:R}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:_,ey:f,ez:b,et:G}=this,K=c(_*_),Q=c(f*f),oe=c(b*b),he=c(oe*oe),fe=c(K*w),Fe=c(oe*c(fe+Q)),Ce=c(he+c(R*c(K*Q)));if(Fe!==Ce)throw new Error("bad point: equation left != right (1)");const ke=c(_*f),Ve=c(b*G);if(ke!==Ve)throw new Error("bad point: equation left != right (2)")}equals(w){O(w);const{ex:R,ey:_,ez:f}=this,{ex:b,ey:G,ez:K}=w,Q=c(R*K),oe=c(b*f),he=c(_*K),fe=c(G*f);return Q===oe&&he===fe}is0(){return this.equals(P.ZERO)}negate(){return new P(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:w}=e,{ex:R,ey:_,ez:f}=this,b=c(R*R),G=c(_*_),K=c(Nc*c(f*f)),Q=c(w*b),oe=R+_,he=c(c(oe*oe)-b-G),fe=Q+G,Fe=fe-K,Ce=Q-G,ke=c(he*Fe),Ve=c(fe*Ce),Pe=c(he*Ce),ze=c(Fe*fe);return new P(ke,Ve,ze,Pe)}add(w){O(w);const{a:R,d:_}=e,{ex:f,ey:b,ez:G,et:K}=this,{ex:Q,ey:oe,ez:he,et:fe}=w;if(R===BigInt(-1)){const yn=c((b-f)*(oe+Q)),Qe=c((b+f)*(oe-Q)),Ye=c(Qe-yn);if(Ye===Rr)return this.double();const zn=c(G*Nc*fe),tt=c(K*Nc*he),S=tt+zn,d=Qe+yn,p=tt-zn,D=c(S*Ye),j=c(d*p),z=c(S*p),W=c(Ye*d);return new P(D,j,W,z)}const Fe=c(f*Q),Ce=c(b*oe),ke=c(K*_*fe),Ve=c(G*he),Pe=c((f+b)*(Q+oe)-Fe-Ce),ze=Ve-ke,Fr=Ve+ke,We=c(Ce-R*Fe),at=c(Pe*ze),Co=c(Fr*We),et=c(Pe*We),Ke=c(ze*Fr);return new P(at,Co,Ke,et)}subtract(w){return this.add(w.negate())}wNAF(w){return V.wNAFCached(this,y,w,P.normalizeZ)}multiply(w){const{p:R,f:_}=this.wNAF(A(w,r));return P.normalizeZ([R,_])[0]}multiplyUnsafe(w){let R=E(w);return R===Rr?F:this.equals(F)||R===Jn?this:this.equals(B)?this.wNAF(R).p:V.unsafeLadder(this,R)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return V.unsafeLadder(this,r).is0()}toAffine(w){const{ex:R,ey:_,ez:f}=this,b=this.is0();w==null&&(w=b?a5:n.inv(f));const G=c(R*w),K=c(_*w),Q=c(f*w);if(b)return{x:Rr,y:Jn};if(Q!==Jn)throw new Error("invZ was invalid");return{x:G,y:K}}clearCofactor(){const{h:w}=e;return w===Jn?this:this.multiplyUnsafe(w)}static fromHex(w,R=!1){const{d:_,a:f}=e,b=n.BYTES;w=Kt("pointHex",w,b);const G=w.slice(),K=w[b-1];G[b-1]=K&-129;const Q=aa(G);Q===Rr||(R?A(Q,u):A(Q,n.ORDER));const oe=c(Q*Q),he=c(oe-Jn),fe=c(_*oe-f);let{isValid:Fe,value:Ce}=g(he,fe);if(!Fe)throw new Error("Point.fromHex: invalid y coordinate");const ke=(Ce&Jn)===Jn,Ve=(K&128)!==0;if(!R&&Ce===Rr&&Ve)throw new Error("Point.fromHex: x=0 and x_0=1");return Ve!==ke&&(Ce=c(-Ce)),P.fromAffine({x:Ce,y:Q})}static fromPrivateKey(w){return ne(w).point}toRawBytes(){const{x:w,y:R}=this.toAffine(),_=Iu(R,n.BYTES);return _[_.length-1]|=w&Jn?128:0,_}toHex(){return fo(this.toRawBytes())}}P.BASE=new P(e.Gx,e.Gy,Jn,c(e.Gx*e.Gy)),P.ZERO=new P(Rr,Jn,Jn,Rr);const{BASE:B,ZERO:F}=P,V=rR(P,a*8);function Y(I){return lt(I,r)}function X(I){return Y(aa(I))}function ne(I){const w=a;I=Kt("private key",I,w);const R=Kt("hashed private key",s(I),2*w),_=v(R.slice(0,w)),f=R.slice(w,2*w),b=X(_),G=B.multiply(b),K=G.toRawBytes();return{head:_,prefix:f,scalar:b,point:G,pointBytes:K}}function ye(I){return ne(I).pointBytes}function L(I=new Uint8Array,...w){const R=po(...w);return X(s(x(R,Kt("context",I),!!i)))}function h(I,w,R={}){I=Kt("message",I),i&&(I=i(I));const{prefix:_,scalar:f,pointBytes:b}=ne(w),G=L(R.context,_,I),K=B.multiply(G).toRawBytes(),Q=L(R.context,K,b,I),oe=Y(G+Q*f);E(oe);const he=po(K,Iu(oe,n.BYTES));return Kt("result",he,a*2)}const m=l5;function T(I,w,R,_=m){const{context:f,zip215:b}=_,G=n.BYTES;I=Kt("signature",I,2*G),w=Kt("message",w),i&&(w=i(w));const K=aa(I.slice(G,2*G));let Q,oe,he;try{Q=P.fromHex(R,b),oe=P.fromHex(I.slice(0,G),b),he=B.multiplyUnsafe(K)}catch{return!1}if(!b&&Q.isSmallOrder())return!1;const fe=L(f,oe.toRawBytes(),Q.toRawBytes(),w);return oe.add(Q.multiplyUnsafe(fe)).subtract(he).clearCofactor().equals(P.ZERO)}return B._setWindowSize(8),{CURVE:e,getPublicKey:ye,sign:h,verify:T,ExtendedPoint:P,utils:{getExtendedPublicKey:ne,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,w=P.BASE){return w._setWindowSize(I),w.multiply(BigInt(3)),w}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rE=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const c5=BigInt(1),t0=BigInt(2),h5=BigInt(5),iE=BigInt(10),f5=BigInt(20),d5=BigInt(40),sE=BigInt(80);function p5(t){const e=Nv,r=t*t%e*t%e,i=_t(r,t0,e)*r%e,s=_t(i,c5,e)*t%e,o=_t(s,h5,e)*s%e,a=_t(o,iE,e)*o%e,l=_t(a,f5,e)*a%e,u=_t(l,d5,e)*l%e,c=_t(u,sE,e)*u%e,g=_t(c,sE,e)*u%e,v=_t(g,iE,e)*o%e;return{pow_p_5_8:_t(v,t0,e)*t%e,b2:r}}function g5(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function m5(t,e){const n=Nv,r=lt(e*e*e,n),i=lt(r*r*e,n),s=p5(t*i).pow_p_5_8;let o=lt(t*r*s,n);const a=lt(e*o*o,n),l=o,u=lt(o*rE,n),c=a===t,g=a===lt(-t,n),v=a===lt(-t*rE,n);return c&&(o=l),(g||v)&&(o=u),JF(o,n)&&(o=lt(-o,n)),{isValid:c||g,value:o}}const Ei=eR(Nv,void 0,!0),Mv={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ei,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Q2,randomBytes:G2,adjustScalarBytes:g5,uvRatio:m5},iR=Pv(Mv);function sR(t,e,n){if(e.length>255)throw new Error("Context is too big");return z2(j2("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}({...Mv});({...Mv});const y5=(Ei.ORDER+BigInt(3))/BigInt(8);Ei.pow(t0,y5);Ei.sqrt(Ei.neg(Ei.ONE));(Ei.ORDER-BigInt(5))/BigInt(8);BigInt(486662);i5(Ei,Ei.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Dv={exports:{}};const v5={},_5=Object.freeze(Object.defineProperty({__proto__:null,default:v5},Symbol.toStringTag,{value:"Module"})),w5=u0(_5);Dv.exports;(function(t){(function(e,n){function r(L,h){if(!L)throw new Error(h||"Assertion failed")}function i(L,h){L.super_=h;var m=function(){};m.prototype=h.prototype,L.prototype=new m,L.prototype.constructor=L}function s(L,h,m){if(s.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((h==="le"||h==="be")&&(m=h,h=10),this._init(L||0,h||10,m||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=w5.Buffer}catch{}s.isBN=function(h){return h instanceof s?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,m){return h.cmp(m)>0?h:m},s.min=function(h,m){return h.cmp(m)<0?h:m},s.prototype._init=function(h,m,T){if(typeof h=="number")return this._initNumber(h,m,T);if(typeof h=="object")return this._initArray(h,m,T);m==="hex"&&(m=16),r(m===(m|0)&&m>=2&&m<=36),h=h.toString().replace(/\s+/g,"");var M=0;h[0]==="-"&&(M++,this.negative=1),M<h.length&&(m===16?this._parseHex(h,M,T):(this._parseBase(h,m,M),T==="le"&&this._initArray(this.toArray(),m,T)))},s.prototype._initNumber=function(h,m,T){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),m,T)},s.prototype._initArray=function(h,m,T){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var I,w,R=0;if(T==="be")for(M=h.length-1,I=0;M>=0;M-=3)w=h[M]|h[M-1]<<8|h[M-2]<<16,this.words[I]|=w<<R&67108863,this.words[I+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,I++);else if(T==="le")for(M=0,I=0;M<h.length;M+=3)w=h[M]|h[M+1]<<8|h[M+2]<<16,this.words[I]|=w<<R&67108863,this.words[I+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,I++);return this._strip()};function a(L,h){var m=L.charCodeAt(h);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;r(!1,"Invalid character in "+L)}function l(L,h,m){var T=a(L,m);return m-1>=h&&(T|=a(L,m-1)<<4),T}s.prototype._parseHex=function(h,m,T){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var I=0,w=0,R;if(T==="be")for(M=h.length-1;M>=m;M-=2)R=l(h,m,M)<<I,this.words[w]|=R&67108863,I>=18?(I-=18,w+=1,this.words[w]|=R>>>26):I+=8;else{var _=h.length-m;for(M=_%2===0?m+1:m;M<h.length;M+=2)R=l(h,m,M)<<I,this.words[w]|=R&67108863,I>=18?(I-=18,w+=1,this.words[w]|=R>>>26):I+=8}this._strip()};function u(L,h,m,T){for(var M=0,I=0,w=Math.min(L.length,m),R=h;R<w;R++){var _=L.charCodeAt(R)-48;M*=T,_>=49?I=_-49+10:_>=17?I=_-17+10:I=_,r(_>=0&&I<T,"Invalid character"),M+=I}return M}s.prototype._parseBase=function(h,m,T){this.words=[0],this.length=1;for(var M=0,I=1;I<=67108863;I*=m)M++;M--,I=I/m|0;for(var w=h.length-T,R=w%M,_=Math.min(w,w-R)+T,f=0,b=T;b<_;b+=M)f=u(h,b,b+M,m),this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var G=1;for(f=u(h,b,h.length,m),b=0;b<R;b++)G*=m;this.imuln(G),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red};function c(L,h){L.words=h.words,L.length=h.length,L.negative=h.negative,L.red=h.red}if(s.prototype._move=function(h){c(h,this)},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(h,m){h=h||10,m=m|0||1;var T;if(h===16||h==="hex"){T="";for(var M=0,I=0,w=0;w<this.length;w++){var R=this.words[w],_=((R<<M|I)&16777215).toString(16);I=R>>>24-M&16777215,M+=2,M>=26&&(M-=26,w--),I!==0||w!==this.length-1?T=v[6-_.length]+_+T:T=_+T}for(I!==0&&(T=I.toString(16)+T);T.length%m!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(h===(h|0)&&h>=2&&h<=36){var f=x[h],b=k[h];T="";var G=this.clone();for(G.negative=0;!G.isZero();){var K=G.modrn(b).toString(h);G=G.idivn(b),G.isZero()?T=K+T:T=v[f-K.length]+K+T}for(this.isZero()&&(T="0"+T);T.length%m!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(h,m){return this.toArrayLike(o,h,m)}),s.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)};var C=function(h,m){return h.allocUnsafe?h.allocUnsafe(m):new h(m)};s.prototype.toArrayLike=function(h,m,T){this._strip();var M=this.byteLength(),I=T||Math.max(1,M);r(M<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var w=C(h,I),R=m==="le"?"LE":"BE";return this["_toArrayLike"+R](w,M),w},s.prototype._toArrayLikeLE=function(h,m){for(var T=0,M=0,I=0,w=0;I<this.length;I++){var R=this.words[I]<<w|M;h[T++]=R&255,T<h.length&&(h[T++]=R>>8&255),T<h.length&&(h[T++]=R>>16&255),w===6?(T<h.length&&(h[T++]=R>>24&255),M=0,w=0):(M=R>>>24,w+=2)}if(T<h.length)for(h[T++]=M;T<h.length;)h[T++]=0},s.prototype._toArrayLikeBE=function(h,m){for(var T=h.length-1,M=0,I=0,w=0;I<this.length;I++){var R=this.words[I]<<w|M;h[T--]=R&255,T>=0&&(h[T--]=R>>8&255),T>=0&&(h[T--]=R>>16&255),w===6?(T>=0&&(h[T--]=R>>24&255),M=0,w=0):(M=R>>>24,w+=2)}if(T>=0)for(h[T--]=M;T>=0;)h[T--]=0},Math.clz32?s.prototype._countBits=function(h){return 32-Math.clz32(h)}:s.prototype._countBits=function(h){var m=h,T=0;return m>=4096&&(T+=13,m>>>=13),m>=64&&(T+=7,m>>>=7),m>=8&&(T+=4,m>>>=4),m>=2&&(T+=2,m>>>=2),T+m},s.prototype._zeroBits=function(h){if(h===0)return 26;var m=h,T=0;return m&8191||(T+=13,m>>>=13),m&127||(T+=7,m>>>=7),m&15||(T+=4,m>>>=4),m&3||(T+=2,m>>>=2),m&1||T++,T},s.prototype.bitLength=function(){var h=this.words[this.length-1],m=this._countBits(h);return(this.length-1)*26+m};function N(L){for(var h=new Array(L.bitLength()),m=0;m<h.length;m++){var T=m/26|0,M=m%26;h[m]=L.words[T]>>>M&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var T=this._zeroBits(this.words[m]);if(h+=T,T!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this._strip()},s.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var m;this.length>h.length?m=h:m=this;for(var T=0;T<m.length;T++)this.words[T]=this.words[T]&h.words[T];return this.length=m.length,this._strip()},s.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var m,T;this.length>h.length?(m=this,T=h):(m=h,T=this);for(var M=0;M<T.length;M++)this.words[M]=m.words[M]^T.words[M];if(this!==m)for(;M<m.length;M++)this.words[M]=m.words[M];return this.length=m.length,this._strip()},s.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var m=Math.ceil(h/26)|0,T=h%26;this._expand(m),T>0&&m--;for(var M=0;M<m;M++)this.words[M]=~this.words[M]&67108863;return T>0&&(this.words[M]=~this.words[M]&67108863>>26-T),this._strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,m){r(typeof h=="number"&&h>=0);var T=h/26|0,M=h%26;return this._expand(T+1),m?this.words[T]=this.words[T]|1<<M:this.words[T]=this.words[T]&~(1<<M),this._strip()},s.prototype.iadd=function(h){var m;if(this.negative!==0&&h.negative===0)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();var T,M;this.length>h.length?(T=this,M=h):(T=h,M=this);for(var I=0,w=0;w<M.length;w++)m=(T.words[w]|0)+(M.words[w]|0)+I,this.words[w]=m&67108863,I=m>>>26;for(;I!==0&&w<T.length;w++)m=(T.words[w]|0)+I,this.words[w]=m&67108863,I=m>>>26;if(this.length=T.length,I!==0)this.words[this.length]=I,this.length++;else if(T!==this)for(;w<T.length;w++)this.words[w]=T.words[w];return this},s.prototype.add=function(h){var m;return h.negative!==0&&this.negative===0?(h.negative=0,m=this.sub(h),h.negative^=1,m):h.negative===0&&this.negative!==0?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var T=this.cmp(h);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,I;T>0?(M=this,I=h):(M=h,I=this);for(var w=0,R=0;R<I.length;R++)m=(M.words[R]|0)-(I.words[R]|0)+w,w=m>>26,this.words[R]=m&67108863;for(;w!==0&&R<M.length;R++)m=(M.words[R]|0)+w,w=m>>26,this.words[R]=m&67108863;if(w===0&&R<M.length&&M!==this)for(;R<M.length;R++)this.words[R]=M.words[R];return this.length=Math.max(this.length,R),M!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(h){return this.clone().isub(h)};function A(L,h,m){m.negative=h.negative^L.negative;var T=L.length+h.length|0;m.length=T,T=T-1|0;var M=L.words[0]|0,I=h.words[0]|0,w=M*I,R=w&67108863,_=w/67108864|0;m.words[0]=R;for(var f=1;f<T;f++){for(var b=_>>>26,G=_&67108863,K=Math.min(f,h.length-1),Q=Math.max(0,f-L.length+1);Q<=K;Q++){var oe=f-Q|0;M=L.words[oe]|0,I=h.words[Q]|0,w=M*I+G,b+=w/67108864|0,G=w&67108863}m.words[f]=G|0,_=b|0}return _!==0?m.words[f]=_|0:m.length--,m._strip()}var E=function(h,m,T){var M=h.words,I=m.words,w=T.words,R=0,_,f,b,G=M[0]|0,K=G&8191,Q=G>>>13,oe=M[1]|0,he=oe&8191,fe=oe>>>13,Fe=M[2]|0,Ce=Fe&8191,ke=Fe>>>13,Ve=M[3]|0,Pe=Ve&8191,ze=Ve>>>13,Fr=M[4]|0,We=Fr&8191,at=Fr>>>13,Co=M[5]|0,et=Co&8191,Ke=Co>>>13,yn=M[6]|0,Qe=yn&8191,Ye=yn>>>13,zn=M[7]|0,tt=zn&8191,S=zn>>>13,d=M[8]|0,p=d&8191,D=d>>>13,j=M[9]|0,z=j&8191,W=j>>>13,Re=I[0]|0,Ae=Re&8191,Ee=Re>>>13,nt=I[1]|0,_e=nt&8191,xt=nt>>>13,Zv=I[2]|0,Rt=Zv&8191,Ct=Zv>>>13,Jv=I[3]|0,bt=Jv&8191,kt=Jv>>>13,e1=I[4]|0,Pt=e1&8191,Nt=e1>>>13,t1=I[5]|0,Mt=t1&8191,Dt=t1>>>13,n1=I[6]|0,Ot=n1&8191,Lt=n1>>>13,r1=I[7]|0,Bt=r1&8191,Ut=r1>>>13,i1=I[8]|0,Ft=i1&8191,Vt=i1>>>13,s1=I[9]|0,$t=s1&8191,jt=s1>>>13;T.negative=h.negative^m.negative,T.length=19,_=Math.imul(K,Ae),f=Math.imul(K,Ee),f=f+Math.imul(Q,Ae)|0,b=Math.imul(Q,Ee);var Td=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Td>>>26)|0,Td&=67108863,_=Math.imul(he,Ae),f=Math.imul(he,Ee),f=f+Math.imul(fe,Ae)|0,b=Math.imul(fe,Ee),_=_+Math.imul(K,_e)|0,f=f+Math.imul(K,xt)|0,f=f+Math.imul(Q,_e)|0,b=b+Math.imul(Q,xt)|0;var Ad=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Ad>>>26)|0,Ad&=67108863,_=Math.imul(Ce,Ae),f=Math.imul(Ce,Ee),f=f+Math.imul(ke,Ae)|0,b=Math.imul(ke,Ee),_=_+Math.imul(he,_e)|0,f=f+Math.imul(he,xt)|0,f=f+Math.imul(fe,_e)|0,b=b+Math.imul(fe,xt)|0,_=_+Math.imul(K,Rt)|0,f=f+Math.imul(K,Ct)|0,f=f+Math.imul(Q,Rt)|0,b=b+Math.imul(Q,Ct)|0;var xd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(xd>>>26)|0,xd&=67108863,_=Math.imul(Pe,Ae),f=Math.imul(Pe,Ee),f=f+Math.imul(ze,Ae)|0,b=Math.imul(ze,Ee),_=_+Math.imul(Ce,_e)|0,f=f+Math.imul(Ce,xt)|0,f=f+Math.imul(ke,_e)|0,b=b+Math.imul(ke,xt)|0,_=_+Math.imul(he,Rt)|0,f=f+Math.imul(he,Ct)|0,f=f+Math.imul(fe,Rt)|0,b=b+Math.imul(fe,Ct)|0,_=_+Math.imul(K,bt)|0,f=f+Math.imul(K,kt)|0,f=f+Math.imul(Q,bt)|0,b=b+Math.imul(Q,kt)|0;var Rd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Rd>>>26)|0,Rd&=67108863,_=Math.imul(We,Ae),f=Math.imul(We,Ee),f=f+Math.imul(at,Ae)|0,b=Math.imul(at,Ee),_=_+Math.imul(Pe,_e)|0,f=f+Math.imul(Pe,xt)|0,f=f+Math.imul(ze,_e)|0,b=b+Math.imul(ze,xt)|0,_=_+Math.imul(Ce,Rt)|0,f=f+Math.imul(Ce,Ct)|0,f=f+Math.imul(ke,Rt)|0,b=b+Math.imul(ke,Ct)|0,_=_+Math.imul(he,bt)|0,f=f+Math.imul(he,kt)|0,f=f+Math.imul(fe,bt)|0,b=b+Math.imul(fe,kt)|0,_=_+Math.imul(K,Pt)|0,f=f+Math.imul(K,Nt)|0,f=f+Math.imul(Q,Pt)|0,b=b+Math.imul(Q,Nt)|0;var Cd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Cd>>>26)|0,Cd&=67108863,_=Math.imul(et,Ae),f=Math.imul(et,Ee),f=f+Math.imul(Ke,Ae)|0,b=Math.imul(Ke,Ee),_=_+Math.imul(We,_e)|0,f=f+Math.imul(We,xt)|0,f=f+Math.imul(at,_e)|0,b=b+Math.imul(at,xt)|0,_=_+Math.imul(Pe,Rt)|0,f=f+Math.imul(Pe,Ct)|0,f=f+Math.imul(ze,Rt)|0,b=b+Math.imul(ze,Ct)|0,_=_+Math.imul(Ce,bt)|0,f=f+Math.imul(Ce,kt)|0,f=f+Math.imul(ke,bt)|0,b=b+Math.imul(ke,kt)|0,_=_+Math.imul(he,Pt)|0,f=f+Math.imul(he,Nt)|0,f=f+Math.imul(fe,Pt)|0,b=b+Math.imul(fe,Nt)|0,_=_+Math.imul(K,Mt)|0,f=f+Math.imul(K,Dt)|0,f=f+Math.imul(Q,Mt)|0,b=b+Math.imul(Q,Dt)|0;var bd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(bd>>>26)|0,bd&=67108863,_=Math.imul(Qe,Ae),f=Math.imul(Qe,Ee),f=f+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Ee),_=_+Math.imul(et,_e)|0,f=f+Math.imul(et,xt)|0,f=f+Math.imul(Ke,_e)|0,b=b+Math.imul(Ke,xt)|0,_=_+Math.imul(We,Rt)|0,f=f+Math.imul(We,Ct)|0,f=f+Math.imul(at,Rt)|0,b=b+Math.imul(at,Ct)|0,_=_+Math.imul(Pe,bt)|0,f=f+Math.imul(Pe,kt)|0,f=f+Math.imul(ze,bt)|0,b=b+Math.imul(ze,kt)|0,_=_+Math.imul(Ce,Pt)|0,f=f+Math.imul(Ce,Nt)|0,f=f+Math.imul(ke,Pt)|0,b=b+Math.imul(ke,Nt)|0,_=_+Math.imul(he,Mt)|0,f=f+Math.imul(he,Dt)|0,f=f+Math.imul(fe,Mt)|0,b=b+Math.imul(fe,Dt)|0,_=_+Math.imul(K,Ot)|0,f=f+Math.imul(K,Lt)|0,f=f+Math.imul(Q,Ot)|0,b=b+Math.imul(Q,Lt)|0;var kd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(kd>>>26)|0,kd&=67108863,_=Math.imul(tt,Ae),f=Math.imul(tt,Ee),f=f+Math.imul(S,Ae)|0,b=Math.imul(S,Ee),_=_+Math.imul(Qe,_e)|0,f=f+Math.imul(Qe,xt)|0,f=f+Math.imul(Ye,_e)|0,b=b+Math.imul(Ye,xt)|0,_=_+Math.imul(et,Rt)|0,f=f+Math.imul(et,Ct)|0,f=f+Math.imul(Ke,Rt)|0,b=b+Math.imul(Ke,Ct)|0,_=_+Math.imul(We,bt)|0,f=f+Math.imul(We,kt)|0,f=f+Math.imul(at,bt)|0,b=b+Math.imul(at,kt)|0,_=_+Math.imul(Pe,Pt)|0,f=f+Math.imul(Pe,Nt)|0,f=f+Math.imul(ze,Pt)|0,b=b+Math.imul(ze,Nt)|0,_=_+Math.imul(Ce,Mt)|0,f=f+Math.imul(Ce,Dt)|0,f=f+Math.imul(ke,Mt)|0,b=b+Math.imul(ke,Dt)|0,_=_+Math.imul(he,Ot)|0,f=f+Math.imul(he,Lt)|0,f=f+Math.imul(fe,Ot)|0,b=b+Math.imul(fe,Lt)|0,_=_+Math.imul(K,Bt)|0,f=f+Math.imul(K,Ut)|0,f=f+Math.imul(Q,Bt)|0,b=b+Math.imul(Q,Ut)|0;var Pd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Pd>>>26)|0,Pd&=67108863,_=Math.imul(p,Ae),f=Math.imul(p,Ee),f=f+Math.imul(D,Ae)|0,b=Math.imul(D,Ee),_=_+Math.imul(tt,_e)|0,f=f+Math.imul(tt,xt)|0,f=f+Math.imul(S,_e)|0,b=b+Math.imul(S,xt)|0,_=_+Math.imul(Qe,Rt)|0,f=f+Math.imul(Qe,Ct)|0,f=f+Math.imul(Ye,Rt)|0,b=b+Math.imul(Ye,Ct)|0,_=_+Math.imul(et,bt)|0,f=f+Math.imul(et,kt)|0,f=f+Math.imul(Ke,bt)|0,b=b+Math.imul(Ke,kt)|0,_=_+Math.imul(We,Pt)|0,f=f+Math.imul(We,Nt)|0,f=f+Math.imul(at,Pt)|0,b=b+Math.imul(at,Nt)|0,_=_+Math.imul(Pe,Mt)|0,f=f+Math.imul(Pe,Dt)|0,f=f+Math.imul(ze,Mt)|0,b=b+Math.imul(ze,Dt)|0,_=_+Math.imul(Ce,Ot)|0,f=f+Math.imul(Ce,Lt)|0,f=f+Math.imul(ke,Ot)|0,b=b+Math.imul(ke,Lt)|0,_=_+Math.imul(he,Bt)|0,f=f+Math.imul(he,Ut)|0,f=f+Math.imul(fe,Bt)|0,b=b+Math.imul(fe,Ut)|0,_=_+Math.imul(K,Ft)|0,f=f+Math.imul(K,Vt)|0,f=f+Math.imul(Q,Ft)|0,b=b+Math.imul(Q,Vt)|0;var Nd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Nd>>>26)|0,Nd&=67108863,_=Math.imul(z,Ae),f=Math.imul(z,Ee),f=f+Math.imul(W,Ae)|0,b=Math.imul(W,Ee),_=_+Math.imul(p,_e)|0,f=f+Math.imul(p,xt)|0,f=f+Math.imul(D,_e)|0,b=b+Math.imul(D,xt)|0,_=_+Math.imul(tt,Rt)|0,f=f+Math.imul(tt,Ct)|0,f=f+Math.imul(S,Rt)|0,b=b+Math.imul(S,Ct)|0,_=_+Math.imul(Qe,bt)|0,f=f+Math.imul(Qe,kt)|0,f=f+Math.imul(Ye,bt)|0,b=b+Math.imul(Ye,kt)|0,_=_+Math.imul(et,Pt)|0,f=f+Math.imul(et,Nt)|0,f=f+Math.imul(Ke,Pt)|0,b=b+Math.imul(Ke,Nt)|0,_=_+Math.imul(We,Mt)|0,f=f+Math.imul(We,Dt)|0,f=f+Math.imul(at,Mt)|0,b=b+Math.imul(at,Dt)|0,_=_+Math.imul(Pe,Ot)|0,f=f+Math.imul(Pe,Lt)|0,f=f+Math.imul(ze,Ot)|0,b=b+Math.imul(ze,Lt)|0,_=_+Math.imul(Ce,Bt)|0,f=f+Math.imul(Ce,Ut)|0,f=f+Math.imul(ke,Bt)|0,b=b+Math.imul(ke,Ut)|0,_=_+Math.imul(he,Ft)|0,f=f+Math.imul(he,Vt)|0,f=f+Math.imul(fe,Ft)|0,b=b+Math.imul(fe,Vt)|0,_=_+Math.imul(K,$t)|0,f=f+Math.imul(K,jt)|0,f=f+Math.imul(Q,$t)|0,b=b+Math.imul(Q,jt)|0;var Md=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Md>>>26)|0,Md&=67108863,_=Math.imul(z,_e),f=Math.imul(z,xt),f=f+Math.imul(W,_e)|0,b=Math.imul(W,xt),_=_+Math.imul(p,Rt)|0,f=f+Math.imul(p,Ct)|0,f=f+Math.imul(D,Rt)|0,b=b+Math.imul(D,Ct)|0,_=_+Math.imul(tt,bt)|0,f=f+Math.imul(tt,kt)|0,f=f+Math.imul(S,bt)|0,b=b+Math.imul(S,kt)|0,_=_+Math.imul(Qe,Pt)|0,f=f+Math.imul(Qe,Nt)|0,f=f+Math.imul(Ye,Pt)|0,b=b+Math.imul(Ye,Nt)|0,_=_+Math.imul(et,Mt)|0,f=f+Math.imul(et,Dt)|0,f=f+Math.imul(Ke,Mt)|0,b=b+Math.imul(Ke,Dt)|0,_=_+Math.imul(We,Ot)|0,f=f+Math.imul(We,Lt)|0,f=f+Math.imul(at,Ot)|0,b=b+Math.imul(at,Lt)|0,_=_+Math.imul(Pe,Bt)|0,f=f+Math.imul(Pe,Ut)|0,f=f+Math.imul(ze,Bt)|0,b=b+Math.imul(ze,Ut)|0,_=_+Math.imul(Ce,Ft)|0,f=f+Math.imul(Ce,Vt)|0,f=f+Math.imul(ke,Ft)|0,b=b+Math.imul(ke,Vt)|0,_=_+Math.imul(he,$t)|0,f=f+Math.imul(he,jt)|0,f=f+Math.imul(fe,$t)|0,b=b+Math.imul(fe,jt)|0;var Dd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Dd>>>26)|0,Dd&=67108863,_=Math.imul(z,Rt),f=Math.imul(z,Ct),f=f+Math.imul(W,Rt)|0,b=Math.imul(W,Ct),_=_+Math.imul(p,bt)|0,f=f+Math.imul(p,kt)|0,f=f+Math.imul(D,bt)|0,b=b+Math.imul(D,kt)|0,_=_+Math.imul(tt,Pt)|0,f=f+Math.imul(tt,Nt)|0,f=f+Math.imul(S,Pt)|0,b=b+Math.imul(S,Nt)|0,_=_+Math.imul(Qe,Mt)|0,f=f+Math.imul(Qe,Dt)|0,f=f+Math.imul(Ye,Mt)|0,b=b+Math.imul(Ye,Dt)|0,_=_+Math.imul(et,Ot)|0,f=f+Math.imul(et,Lt)|0,f=f+Math.imul(Ke,Ot)|0,b=b+Math.imul(Ke,Lt)|0,_=_+Math.imul(We,Bt)|0,f=f+Math.imul(We,Ut)|0,f=f+Math.imul(at,Bt)|0,b=b+Math.imul(at,Ut)|0,_=_+Math.imul(Pe,Ft)|0,f=f+Math.imul(Pe,Vt)|0,f=f+Math.imul(ze,Ft)|0,b=b+Math.imul(ze,Vt)|0,_=_+Math.imul(Ce,$t)|0,f=f+Math.imul(Ce,jt)|0,f=f+Math.imul(ke,$t)|0,b=b+Math.imul(ke,jt)|0;var Od=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Od>>>26)|0,Od&=67108863,_=Math.imul(z,bt),f=Math.imul(z,kt),f=f+Math.imul(W,bt)|0,b=Math.imul(W,kt),_=_+Math.imul(p,Pt)|0,f=f+Math.imul(p,Nt)|0,f=f+Math.imul(D,Pt)|0,b=b+Math.imul(D,Nt)|0,_=_+Math.imul(tt,Mt)|0,f=f+Math.imul(tt,Dt)|0,f=f+Math.imul(S,Mt)|0,b=b+Math.imul(S,Dt)|0,_=_+Math.imul(Qe,Ot)|0,f=f+Math.imul(Qe,Lt)|0,f=f+Math.imul(Ye,Ot)|0,b=b+Math.imul(Ye,Lt)|0,_=_+Math.imul(et,Bt)|0,f=f+Math.imul(et,Ut)|0,f=f+Math.imul(Ke,Bt)|0,b=b+Math.imul(Ke,Ut)|0,_=_+Math.imul(We,Ft)|0,f=f+Math.imul(We,Vt)|0,f=f+Math.imul(at,Ft)|0,b=b+Math.imul(at,Vt)|0,_=_+Math.imul(Pe,$t)|0,f=f+Math.imul(Pe,jt)|0,f=f+Math.imul(ze,$t)|0,b=b+Math.imul(ze,jt)|0;var Ld=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Ld>>>26)|0,Ld&=67108863,_=Math.imul(z,Pt),f=Math.imul(z,Nt),f=f+Math.imul(W,Pt)|0,b=Math.imul(W,Nt),_=_+Math.imul(p,Mt)|0,f=f+Math.imul(p,Dt)|0,f=f+Math.imul(D,Mt)|0,b=b+Math.imul(D,Dt)|0,_=_+Math.imul(tt,Ot)|0,f=f+Math.imul(tt,Lt)|0,f=f+Math.imul(S,Ot)|0,b=b+Math.imul(S,Lt)|0,_=_+Math.imul(Qe,Bt)|0,f=f+Math.imul(Qe,Ut)|0,f=f+Math.imul(Ye,Bt)|0,b=b+Math.imul(Ye,Ut)|0,_=_+Math.imul(et,Ft)|0,f=f+Math.imul(et,Vt)|0,f=f+Math.imul(Ke,Ft)|0,b=b+Math.imul(Ke,Vt)|0,_=_+Math.imul(We,$t)|0,f=f+Math.imul(We,jt)|0,f=f+Math.imul(at,$t)|0,b=b+Math.imul(at,jt)|0;var Bd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Bd>>>26)|0,Bd&=67108863,_=Math.imul(z,Mt),f=Math.imul(z,Dt),f=f+Math.imul(W,Mt)|0,b=Math.imul(W,Dt),_=_+Math.imul(p,Ot)|0,f=f+Math.imul(p,Lt)|0,f=f+Math.imul(D,Ot)|0,b=b+Math.imul(D,Lt)|0,_=_+Math.imul(tt,Bt)|0,f=f+Math.imul(tt,Ut)|0,f=f+Math.imul(S,Bt)|0,b=b+Math.imul(S,Ut)|0,_=_+Math.imul(Qe,Ft)|0,f=f+Math.imul(Qe,Vt)|0,f=f+Math.imul(Ye,Ft)|0,b=b+Math.imul(Ye,Vt)|0,_=_+Math.imul(et,$t)|0,f=f+Math.imul(et,jt)|0,f=f+Math.imul(Ke,$t)|0,b=b+Math.imul(Ke,jt)|0;var Ud=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Ud>>>26)|0,Ud&=67108863,_=Math.imul(z,Ot),f=Math.imul(z,Lt),f=f+Math.imul(W,Ot)|0,b=Math.imul(W,Lt),_=_+Math.imul(p,Bt)|0,f=f+Math.imul(p,Ut)|0,f=f+Math.imul(D,Bt)|0,b=b+Math.imul(D,Ut)|0,_=_+Math.imul(tt,Ft)|0,f=f+Math.imul(tt,Vt)|0,f=f+Math.imul(S,Ft)|0,b=b+Math.imul(S,Vt)|0,_=_+Math.imul(Qe,$t)|0,f=f+Math.imul(Qe,jt)|0,f=f+Math.imul(Ye,$t)|0,b=b+Math.imul(Ye,jt)|0;var Fd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Fd>>>26)|0,Fd&=67108863,_=Math.imul(z,Bt),f=Math.imul(z,Ut),f=f+Math.imul(W,Bt)|0,b=Math.imul(W,Ut),_=_+Math.imul(p,Ft)|0,f=f+Math.imul(p,Vt)|0,f=f+Math.imul(D,Ft)|0,b=b+Math.imul(D,Vt)|0,_=_+Math.imul(tt,$t)|0,f=f+Math.imul(tt,jt)|0,f=f+Math.imul(S,$t)|0,b=b+Math.imul(S,jt)|0;var Vd=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+(Vd>>>26)|0,Vd&=67108863,_=Math.imul(z,Ft),f=Math.imul(z,Vt),f=f+Math.imul(W,Ft)|0,b=Math.imul(W,Vt),_=_+Math.imul(p,$t)|0,f=f+Math.imul(p,jt)|0,f=f+Math.imul(D,$t)|0,b=b+Math.imul(D,jt)|0;var $d=(R+_|0)+((f&8191)<<13)|0;R=(b+(f>>>13)|0)+($d>>>26)|0,$d&=67108863,_=Math.imul(z,$t),f=Math.imul(z,jt),f=f+Math.imul(W,$t)|0,b=Math.imul(W,jt);var jd=(R+_|0)+((f&8191)<<13)|0;return R=(b+(f>>>13)|0)+(jd>>>26)|0,jd&=67108863,w[0]=Td,w[1]=Ad,w[2]=xd,w[3]=Rd,w[4]=Cd,w[5]=bd,w[6]=kd,w[7]=Pd,w[8]=Nd,w[9]=Md,w[10]=Dd,w[11]=Od,w[12]=Ld,w[13]=Bd,w[14]=Ud,w[15]=Fd,w[16]=Vd,w[17]=$d,w[18]=jd,R!==0&&(w[19]=R,T.length++),T};Math.imul||(E=A);function y(L,h,m){m.negative=h.negative^L.negative,m.length=L.length+h.length;for(var T=0,M=0,I=0;I<m.length-1;I++){var w=M;M=0;for(var R=T&67108863,_=Math.min(I,h.length-1),f=Math.max(0,I-L.length+1);f<=_;f++){var b=I-f,G=L.words[b]|0,K=h.words[f]|0,Q=G*K,oe=Q&67108863;w=w+(Q/67108864|0)|0,oe=oe+R|0,R=oe&67108863,w=w+(oe>>>26)|0,M+=w>>>26,w&=67108863}m.words[I]=R,T=w,w=M}return T!==0?m.words[I]=T:m.length--,m._strip()}function O(L,h,m){return y(L,h,m)}s.prototype.mulTo=function(h,m){var T,M=this.length+h.length;return this.length===10&&h.length===10?T=E(this,h,m):M<63?T=A(this,h,m):M<1024?T=y(this,h,m):T=O(this,h,m),T},s.prototype.mul=function(h){var m=new s(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},s.prototype.mulf=function(h){var m=new s(null);return m.words=new Array(this.length+h.length),O(this,h,m)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){var m=h<0;m&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var T=0,M=0;M<this.length;M++){var I=(this.words[M]|0)*h,w=(I&67108863)+(T&67108863);T>>=26,T+=I/67108864|0,T+=w>>>26,this.words[M]=w&67108863}return T!==0&&(this.words[M]=T,this.length++),m?this.ineg():this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var m=N(h);if(m.length===0)return new s(1);for(var T=this,M=0;M<m.length&&m[M]===0;M++,T=T.sqr());if(++M<m.length)for(var I=T.sqr();M<m.length;M++,I=I.sqr())m[M]!==0&&(T=T.mul(I));return T},s.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var m=h%26,T=(h-m)/26,M=67108863>>>26-m<<26-m,I;if(m!==0){var w=0;for(I=0;I<this.length;I++){var R=this.words[I]&M,_=(this.words[I]|0)-R<<m;this.words[I]=_|w,w=R>>>26-m}w&&(this.words[I]=w,this.length++)}if(T!==0){for(I=this.length-1;I>=0;I--)this.words[I+T]=this.words[I];for(I=0;I<T;I++)this.words[I]=0;this.length+=T}return this._strip()},s.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,m,T){r(typeof h=="number"&&h>=0);var M;m?M=(m-m%26)/26:M=0;var I=h%26,w=Math.min((h-I)/26,this.length),R=67108863^67108863>>>I<<I,_=T;if(M-=w,M=Math.max(0,M),_){for(var f=0;f<w;f++)_.words[f]=this.words[f];_.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var b=0;for(f=this.length-1;f>=0&&(b!==0||f>=M);f--){var G=this.words[f]|0;this.words[f]=b<<26-I|G>>>I,b=G&R}return _&&b!==0&&(_.words[_.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(h,m,T){return r(this.negative===0),this.iushrn(h,m,T)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var m=h%26,T=(h-m)/26,M=1<<m;if(this.length<=T)return!1;var I=this.words[T];return!!(I&M)},s.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var m=h%26,T=(h-m)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(m!==0&&T++,this.length=Math.min(T,this.length),m!==0){var M=67108863^67108863>>>m<<m;this.words[this.length-1]&=M}return this._strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,m,T){var M=h.length+T,I;this._expand(M);var w,R=0;for(I=0;I<h.length;I++){w=(this.words[I+T]|0)+R;var _=(h.words[I]|0)*m;w-=_&67108863,R=(w>>26)-(_/67108864|0),this.words[I+T]=w&67108863}for(;I<this.length-T;I++)w=(this.words[I+T]|0)+R,R=w>>26,this.words[I+T]=w&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,I=0;I<this.length;I++)w=-(this.words[I]|0)+R,R=w>>26,this.words[I]=w&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(h,m){var T=this.length-h.length,M=this.clone(),I=h,w=I.words[I.length-1]|0,R=this._countBits(w);T=26-R,T!==0&&(I=I.ushln(T),M.iushln(T),w=I.words[I.length-1]|0);var _=M.length-I.length,f;if(m!=="mod"){f=new s(null),f.length=_+1,f.words=new Array(f.length);for(var b=0;b<f.length;b++)f.words[b]=0}var G=M.clone()._ishlnsubmul(I,1,_);G.negative===0&&(M=G,f&&(f.words[_]=1));for(var K=_-1;K>=0;K--){var Q=(M.words[I.length+K]|0)*67108864+(M.words[I.length+K-1]|0);for(Q=Math.min(Q/w|0,67108863),M._ishlnsubmul(I,Q,K);M.negative!==0;)Q--,M.negative=0,M._ishlnsubmul(I,1,K),M.isZero()||(M.negative^=1);f&&(f.words[K]=Q)}return f&&f._strip(),M._strip(),m!=="div"&&T!==0&&M.iushrn(T),{div:f||null,mod:M}},s.prototype.divmod=function(h,m,T){if(r(!h.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var M,I,w;return this.negative!==0&&h.negative===0?(w=this.neg().divmod(h,m),m!=="mod"&&(M=w.div.neg()),m!=="div"&&(I=w.mod.neg(),T&&I.negative!==0&&I.iadd(h)),{div:M,mod:I}):this.negative===0&&h.negative!==0?(w=this.divmod(h.neg(),m),m!=="mod"&&(M=w.div.neg()),{div:M,mod:w.mod}):this.negative&h.negative?(w=this.neg().divmod(h.neg(),m),m!=="div"&&(I=w.mod.neg(),T&&I.negative!==0&&I.isub(h)),{div:w.div,mod:I}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?m==="div"?{div:this.divn(h.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modrn(h.words[0]))}:this._wordDiv(h,m)},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var T=m.div.negative!==0?m.mod.isub(h):m.mod,M=h.ushrn(1),I=h.andln(1),w=T.cmp(M);return w<0||I===1&&w===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modrn=function(h){var m=h<0;m&&(h=-h),r(h<=67108863);for(var T=(1<<26)%h,M=0,I=this.length-1;I>=0;I--)M=(T*M+(this.words[I]|0))%h;return m?-M:M},s.prototype.modn=function(h){return this.modrn(h)},s.prototype.idivn=function(h){var m=h<0;m&&(h=-h),r(h<=67108863);for(var T=0,M=this.length-1;M>=0;M--){var I=(this.words[M]|0)+T*67108864;this.words[M]=I/h|0,T=I%h}return this._strip(),m?this.ineg():this},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var m=this,T=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var M=new s(1),I=new s(0),w=new s(0),R=new s(1),_=0;m.isEven()&&T.isEven();)m.iushrn(1),T.iushrn(1),++_;for(var f=T.clone(),b=m.clone();!m.isZero();){for(var G=0,K=1;!(m.words[0]&K)&&G<26;++G,K<<=1);if(G>0)for(m.iushrn(G);G-- >0;)(M.isOdd()||I.isOdd())&&(M.iadd(f),I.isub(b)),M.iushrn(1),I.iushrn(1);for(var Q=0,oe=1;!(T.words[0]&oe)&&Q<26;++Q,oe<<=1);if(Q>0)for(T.iushrn(Q);Q-- >0;)(w.isOdd()||R.isOdd())&&(w.iadd(f),R.isub(b)),w.iushrn(1),R.iushrn(1);m.cmp(T)>=0?(m.isub(T),M.isub(w),I.isub(R)):(T.isub(m),w.isub(M),R.isub(I))}return{a:w,b:R,gcd:T.iushln(_)}},s.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var m=this,T=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var M=new s(1),I=new s(0),w=T.clone();m.cmpn(1)>0&&T.cmpn(1)>0;){for(var R=0,_=1;!(m.words[0]&_)&&R<26;++R,_<<=1);if(R>0)for(m.iushrn(R);R-- >0;)M.isOdd()&&M.iadd(w),M.iushrn(1);for(var f=0,b=1;!(T.words[0]&b)&&f<26;++f,b<<=1);if(f>0)for(T.iushrn(f);f-- >0;)I.isOdd()&&I.iadd(w),I.iushrn(1);m.cmp(T)>=0?(m.isub(T),M.isub(I)):(T.isub(m),I.isub(M))}var G;return m.cmpn(1)===0?G=M:G=I,G.cmpn(0)<0&&G.iadd(h),G},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),T=h.clone();m.negative=0,T.negative=0;for(var M=0;m.isEven()&&T.isEven();M++)m.iushrn(1),T.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;T.isEven();)T.iushrn(1);var I=m.cmp(T);if(I<0){var w=m;m=T,T=w}else if(I===0||T.cmpn(1)===0)break;m.isub(T)}while(!0);return T.iushln(M)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){r(typeof h=="number");var m=h%26,T=(h-m)/26,M=1<<m;if(this.length<=T)return this._expand(T+1),this.words[T]|=M,this;for(var I=M,w=T;I!==0&&w<this.length;w++){var R=this.words[w]|0;R+=I,I=R>>>26,R&=67108863,this.words[w]=R}return I!==0&&(this.words[w]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var m=h<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var T;if(this.length>1)T=1;else{m&&(h=-h),r(h<=67108863,"Number is too big");var M=this.words[0]|0;T=M===h?0:M<h?-1:1}return this.negative!==0?-T|0:T},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var m=this.ucmp(h);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,T=this.length-1;T>=0;T--){var M=this.words[T]|0,I=h.words[T]|0;if(M!==I){M<I?m=-1:M>I&&(m=1);break}}return m},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new ne(h)},s.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var P={k256:null,p224:null,p192:null,p25519:null};function B(L,h){this.name=L,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var h=new s(null);return h.words=new Array(Math.ceil(this.n/13)),h},B.prototype.ireduce=function(h){var m=h,T;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),T=m.bitLength();while(T>this.n);var M=T<this.n?-1:m.ucmp(this.p);return M===0?(m.words[0]=0,m.length=1):M>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},B.prototype.split=function(h,m){h.iushrn(this.n,0,m)},B.prototype.imulK=function(h){return h.imul(this.k)};function F(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,B),F.prototype.split=function(h,m){for(var T=4194303,M=Math.min(h.length,9),I=0;I<M;I++)m.words[I]=h.words[I];if(m.length=M,h.length<=9){h.words[0]=0,h.length=1;return}var w=h.words[9];for(m.words[m.length++]=w&T,I=10;I<h.length;I++){var R=h.words[I]|0;h.words[I-10]=(R&T)<<4|w>>>22,w=R}w>>>=22,h.words[I-10]=w,w===0&&h.length>10?h.length-=10:h.length-=9},F.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,T=0;T<h.length;T++){var M=h.words[T]|0;m+=M*977,h.words[T]=m&67108863,m=M*64+(m/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function V(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,B);function Y(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,B);function X(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,B),X.prototype.imulK=function(h){for(var m=0,T=0;T<h.length;T++){var M=(h.words[T]|0)*19+m,I=M&67108863;M>>>=26,h.words[T]=I,m=M}return m!==0&&(h.words[h.length++]=m),h},s._prime=function(h){if(P[h])return P[h];var m;if(h==="k256")m=new F;else if(h==="p224")m=new V;else if(h==="p192")m=new Y;else if(h==="p25519")m=new X;else throw new Error("Unknown prime "+h);return P[h]=m,m};function ne(L){if(typeof L=="string"){var h=s._prime(L);this.m=h.p,this.prime=h}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}ne.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},ne.prototype._verify2=function(h,m){r((h.negative|m.negative)===0,"red works only with positives"),r(h.red&&h.red===m.red,"red works only with red numbers")},ne.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(c(h,h.umod(this.m)._forceRed(this)),h)},ne.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},ne.prototype.add=function(h,m){this._verify2(h,m);var T=h.add(m);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},ne.prototype.iadd=function(h,m){this._verify2(h,m);var T=h.iadd(m);return T.cmp(this.m)>=0&&T.isub(this.m),T},ne.prototype.sub=function(h,m){this._verify2(h,m);var T=h.sub(m);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},ne.prototype.isub=function(h,m){this._verify2(h,m);var T=h.isub(m);return T.cmpn(0)<0&&T.iadd(this.m),T},ne.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},ne.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},ne.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},ne.prototype.isqr=function(h){return this.imul(h,h.clone())},ne.prototype.sqr=function(h){return this.mul(h,h)},ne.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(r(m%2===1),m===3){var T=this.m.add(new s(1)).iushrn(2);return this.pow(h,T)}for(var M=this.m.subn(1),I=0;!M.isZero()&&M.andln(1)===0;)I++,M.iushrn(1);r(!M.isZero());var w=new s(1).toRed(this),R=w.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,_).cmp(R)!==0;)f.redIAdd(R);for(var b=this.pow(f,M),G=this.pow(h,M.addn(1).iushrn(1)),K=this.pow(h,M),Q=I;K.cmp(w)!==0;){for(var oe=K,he=0;oe.cmp(w)!==0;he++)oe=oe.redSqr();r(he<Q);var fe=this.pow(b,new s(1).iushln(Q-he-1));G=G.redMul(fe),b=fe.redSqr(),K=K.redMul(b),Q=he}return G},ne.prototype.invm=function(h){var m=h._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},ne.prototype.pow=function(h,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return h.clone();var T=4,M=new Array(1<<T);M[0]=new s(1).toRed(this),M[1]=h;for(var I=2;I<M.length;I++)M[I]=this.mul(M[I-1],h);var w=M[0],R=0,_=0,f=m.bitLength()%26;for(f===0&&(f=26),I=m.length-1;I>=0;I--){for(var b=m.words[I],G=f-1;G>=0;G--){var K=b>>G&1;if(w!==M[0]&&(w=this.sqr(w)),K===0&&R===0){_=0;continue}R<<=1,R|=K,_++,!(_!==T&&(I!==0||G!==0))&&(w=this.mul(w,M[R]),_=0,R=0)}f=26}return w},ne.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},ne.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},s.mont=function(h){return new ye(h)};function ye(L){ne.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ye,ne),ye.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},ye.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},ye.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var T=h.imul(m),M=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=T.isub(M).iushrn(this.shift),w=I;return I.cmp(this.m)>=0?w=I.isub(this.m):I.cmpn(0)<0&&(w=I.iadd(this.m)),w._forceRed(this)},ye.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new s(0)._forceRed(this);var T=h.mul(m),M=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=T.isub(M).iushrn(this.shift),w=I;return I.cmp(this.m)>=0?w=I.isub(this.m):I.cmpn(0)<0&&(w=I.iadd(this.m)),w._forceRed(this)},ye.prototype.invm=function(h){var m=this.imod(h._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,Or)})(Dv);var oR=Dv.exports;const oE=l0(oR);var n0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ht,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(n0,n0.exports);var aR=n0.exports,Mc=aR.Buffer;function E5(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(x){if((Array.isArray(x)||x instanceof Uint8Array)&&(x=Mc.from(x)),!Mc.isBuffer(x))throw new TypeError("Expected Buffer");if(x.length===0)return"";for(var k=0,C=0,N=0,A=x.length;N!==A&&x[N]===0;)N++,k++;for(var E=(A-N)*u+1>>>0,y=new Uint8Array(E);N!==A;){for(var O=x[N],P=0,B=E-1;(O!==0||P<C)&&B!==-1;B--,P++)O+=256*y[B]>>>0,y[B]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");C=P,N++}for(var F=E-C;F!==E&&y[F]===0;)F++;for(var V=a.repeat(k);F<E;++F)V+=t.charAt(y[F]);return V}function g(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return Mc.alloc(0);for(var k=0,C=0,N=0;x[k]===a;)C++,k++;for(var A=(x.length-k)*l+1>>>0,E=new Uint8Array(A);x[k];){var y=e[x.charCodeAt(k)];if(y===255)return;for(var O=0,P=A-1;(y!==0||O<N)&&P!==-1;P--,O++)y+=o*E[P]>>>0,E[P]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");N=O,k++}for(var B=A-N;B!==A&&E[B]===0;)B++;var F=Mc.allocUnsafe(C+(A-B));F.fill(0,0,C);for(var V=C;B!==A;)F[V++]=E[B++];return F}function v(x){var k=g(x);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:g,decode:v}}var I5=E5,S5=I5,T5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",A5=S5(T5);const aE=l0(A5),x5=(t,e,n)=>t&e^~t&n,R5=(t,e,n)=>t&e^t&n^e&n,C5=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Fi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vi=new Uint32Array(64);class b5 extends W2{constructor(){super(64,32,8,!1),this.A=Fi[0]|0,this.B=Fi[1]|0,this.C=Fi[2]|0,this.D=Fi[3]|0,this.E=Fi[4]|0,this.F=Fi[5]|0,this.G=Fi[6]|0,this.H=Fi[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)Vi[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const v=Vi[g-15],x=Vi[g-2],k=$r(v,7)^$r(v,18)^v>>>3,C=$r(x,17)^$r(x,19)^x>>>10;Vi[g]=C+Vi[g-7]+k+Vi[g-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let g=0;g<64;g++){const v=$r(a,6)^$r(a,11)^$r(a,25),x=c+v+x5(a,l,u)+C5[g]+Vi[g]|0,C=($r(r,2)^$r(r,13)^$r(r,22))+R5(r,i,s)|0;c=u,u=l,l=a,a=o+x|0,o=s,s=i,i=r,r=x+C|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,l,u,c)}roundClean(){Vi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const r0=q2(()=>new b5);var cn={},Dc=aR.Buffer;function k5(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(x){if((Array.isArray(x)||x instanceof Uint8Array)&&(x=Dc.from(x)),!Dc.isBuffer(x))throw new TypeError("Expected Buffer");if(x.length===0)return"";for(var k=0,C=0,N=0,A=x.length;N!==A&&x[N]===0;)N++,k++;for(var E=(A-N)*u+1>>>0,y=new Uint8Array(E);N!==A;){for(var O=x[N],P=0,B=E-1;(O!==0||P<C)&&B!==-1;B--,P++)O+=256*y[B]>>>0,y[B]=O%o>>>0,O=O/o>>>0;if(O!==0)throw new Error("Non-zero carry");C=P,N++}for(var F=E-C;F!==E&&y[F]===0;)F++;for(var V=a.repeat(k);F<E;++F)V+=t.charAt(y[F]);return V}function g(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return Dc.alloc(0);for(var k=0,C=0,N=0;x[k]===a;)C++,k++;for(var A=(x.length-k)*l+1>>>0,E=new Uint8Array(A);x[k];){var y=e[x.charCodeAt(k)];if(y===255)return;for(var O=0,P=A-1;(y!==0||O<N)&&P!==-1;P--,O++)y+=o*E[P]>>>0,E[P]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");N=O,k++}for(var B=A-N;B!==A&&E[B]===0;)B++;var F=Dc.allocUnsafe(C+(A-B));F.fill(0,0,C);for(var V=C;B!==A;)F[V++]=E[B++];return F}function v(x){var k=g(x);if(k)return k;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:g,decode:v}}var P5=k5,N5=P5,M5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",D5=N5(M5);function fi(t,e,n){return e<=t&&t<=n}function md(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function O5(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function L5(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var rf=-1;function Ov(t){this.tokens=[].slice.call(t)}Ov.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():rf},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Ca=-1;function Xp(t,e){if(t)throw TypeError("Decoder error");return e||65533}var sf="utf-8";function of(t,e){if(!(this instanceof of))return new of(t,e);if(t=t!==void 0?String(t).toLowerCase():sf,t!==sf)throw new Error("Encoding not supported. Only utf-8 is supported");e=md(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}of.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=md(n),this._streaming||(this._decoder=new B5({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Ov(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Ca);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Ca)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),L5(s)}};function af(t,e){if(!(this instanceof af))return new af(t,e);if(t=t!==void 0?String(t).toLowerCase():sf,t!==sf)throw new Error("Encoding not supported. Only utf-8 is supported");e=md(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}af.prototype={encode:function(e,n){e=e?String(e):"",n=md(n),this._streaming||(this._encoder=new U5(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Ov(O5(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Ca);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Ca;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function B5(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===rf&&i!==0)return i=0,Xp(e);if(l===rf)return Ca;if(i===0){if(fi(l,0,127))return l;if(fi(l,194,223))i=1,n=l-192;else if(fi(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(fi(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return Xp(e);return n=n<<6*i,null}if(!fi(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),Xp(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function U5(t){t.fatal,this.handler=function(e,n){if(n===rf)return Ca;if(fi(n,0,127))return n;var r,i;fi(n,128,2047)?(r=1,i=192):fi(n,2048,65535)?(r=2,i=224):fi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const F5=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:of,TextEncoder:af},Symbol.toStringTag,{value:"Module"})),V5=u0(F5);var $5=Or&&Or.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),j5=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ai=Or&&Or.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},z5=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&$5(e,t,n);return j5(e,t),e},lR=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cn,"__esModule",{value:!0});var uR=cn.deserializeUnchecked=gR=cn.deserialize=pR=cn.serialize=cn.BinaryReader=cn.BinaryWriter=cn.BorshError=cn.baseDecode=cn.baseEncode=void 0;const es=lR(oR),cR=lR(D5),H5=z5(V5),q5=typeof TextDecoder!="function"?H5.TextDecoder:TextDecoder,G5=new q5("utf-8",{fatal:!0});function W5(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),cR.default.encode(Buffer.from(t))}cn.baseEncode=W5;function K5(t){return Buffer.from(cR.default.decode(t))}cn.baseDecode=K5;const Zp=1024;class Un extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}cn.BorshError=Un;class hR{constructor(){this.buf=Buffer.alloc(Zp),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Zp)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new es.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Zp)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}cn.BinaryWriter=hR;function li(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Un("Reached the end of buffer when deserializing")}throw s}}}class cr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new es.default(e,"le")}readU128(){const e=this.readBuffer(16);return new es.default(e,"le")}readU256(){const e=this.readBuffer(32);return new es.default(e,"le")}readU512(){const e=this.readBuffer(64);return new es.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Un(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return G5.decode(n)}catch(r){throw new Un(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}ai([li],cr.prototype,"readU8",null);ai([li],cr.prototype,"readU16",null);ai([li],cr.prototype,"readU32",null);ai([li],cr.prototype,"readU64",null);ai([li],cr.prototype,"readU128",null);ai([li],cr.prototype,"readU256",null);ai([li],cr.prototype,"readU512",null);ai([li],cr.prototype,"readString",null);ai([li],cr.prototype,"readFixedArray",null);ai([li],cr.prototype,"readArray",null);cn.BinaryReader=cr;function fR(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ds(t,e,n,r,i){try{if(typeof r=="string")i[`write${fR(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Un(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Un(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Ds(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Ds(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Ds(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Ds(t,e,o,r.key,i),Ds(t,e,s,r.value,i)});break}default:throw new Un(`FieldType ${r} unrecognized`)}else dR(t,n,i)}catch(s){throw s instanceof Un&&s.addToFieldPath(e),s}}function dR(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Un(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Ds(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Ds(t,o,e[o],a,n);break}}}else throw new Un(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Q5(t,e,n=hR){const r=new n;return dR(t,e,r),r.toArray()}var pR=cn.serialize=Q5;function Os(t,e,n,r){try{if(typeof n=="string")return r[`read${fR(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Os(t,null,n[0],r));return i}else return r.readArray(()=>Os(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Os(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Os(t,e,n.key,r),l=Os(t,e,n.value,r);i.set(a,l)}return i}return Lv(t,n,r)}catch(i){throw i instanceof Un&&i.addToFieldPath(e),i}}function Lv(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Un(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Os(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Un(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Os(t,s,o,n);return new e({[s]:a})}throw new Un(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Y5(t,e,n,r=cr){const i=new r(n),s=Lv(t,e,i);if(i.offset<n.length)throw new Un(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var gR=cn.deserialize=Y5;function X5(t,e,n,r=cr){const i=new r(n);return Lv(t,e,i)}uR=cn.deserializeUnchecked=X5;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.s16=q.s8=q.nu64be=q.u48be=q.u40be=q.u32be=q.u24be=q.u16be=an=q.nu64=q.u48=q.u40=pe=q.u32=q.u24=dr=q.u16=Gt=q.u8=Zs=q.offset=q.greedy=q.Constant=q.UTF8=q.CString=q.Blob=q.Boolean=q.BitField=q.BitStructure=q.VariantLayout=q.Union=q.UnionLayoutDiscriminator=q.UnionDiscriminator=q.Structure=q.Sequence=q.DoubleBE=q.Double=q.FloatBE=q.Float=q.NearInt64BE=q.NearInt64=q.NearUInt64BE=q.NearUInt64=q.IntBE=q.Int=q.UIntBE=q.UInt=q.OffsetLayout=q.GreedyCount=q.ExternalLayout=q.bindConstructorLayout=q.nameWithProperty=q.Layout=q.uint8ArrayToBuffer=q.checkUint8Array=void 0;q.constant=q.utf8=q.cstr=ba=q.blob=q.unionLayoutDiscriminator=q.union=zs=q.seq=q.bits=ge=q.struct=q.f64be=q.f64=q.f32be=q.f32=q.ns64be=q.s48be=q.s40be=q.s32be=q.s24be=q.s16be=tr=q.ns64=q.s48=q.s40=q.s32=q.s24=void 0;const Bv=ht;function Wa(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}q.checkUint8Array=Wa;function Ue(t){return Wa(t),Bv.Buffer.from(t.buffer,t.byteOffset,t.length)}q.uint8ArrayToBuffer=Ue;class Ge{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}q.Layout=Ge;function Uv(t,e){return e.property?t+"["+e.property+"]":t}q.nameWithProperty=Uv;function Z5(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}q.bindConstructorLayout=Z5;class Gn extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}}q.ExternalLayout=Gn;class mR extends Gn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Wa(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}q.GreedyCount=mR;class Fv extends Gn{constructor(e,n=0,r){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Er||this.layout instanceof Dr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}q.OffsetLayout=Fv;class Er extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Ue(n).writeUIntLE(e,r,this.span),this.span}}q.UInt=Er;class Dr extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Ue(n).writeUIntBE(e,r,this.span),this.span}}q.UIntBE=Dr;class To extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readIntLE(n,this.span)}encode(e,n,r=0){return Ue(n).writeIntLE(e,r,this.span),this.span}}q.Int=To;class Ka extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ue(e).readIntBE(n,this.span)}encode(e,n,r=0){return Ue(n).writeIntBE(e,r,this.span),this.span}}q.IntBE=Ka;const i0=Math.pow(2,32);function yd(t){const e=Math.floor(t/i0),n=t-e*i0;return{hi32:e,lo32:n}}function vd(t,e){return t*i0+e}class yR extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return vd(s,i)}encode(e,n,r=0){const i=yd(e),s=Ue(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}q.NearUInt64=yR;class vR extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return vd(i,s)}encode(e,n,r=0){const i=yd(e),s=Ue(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearUInt64BE=vR;class _R extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return vd(s,i)}encode(e,n,r=0){const i=yd(e),s=Ue(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}q.NearInt64=_R;class wR extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Ue(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return vd(i,s)}encode(e,n,r=0){const i=yd(e),s=Ue(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearInt64BE=wR;class ER extends Ge{constructor(e){super(4,e)}decode(e,n=0){return Ue(e).readFloatLE(n)}encode(e,n,r=0){return Ue(n).writeFloatLE(e,r),4}}q.Float=ER;class IR extends Ge{constructor(e){super(4,e)}decode(e,n=0){return Ue(e).readFloatBE(n)}encode(e,n,r=0){return Ue(n).writeFloatBE(e,r),4}}q.FloatBE=IR;class SR extends Ge{constructor(e){super(8,e)}decode(e,n=0){return Ue(e).readDoubleLE(n)}encode(e,n,r=0){return Ue(n).writeDoubleLE(e,r),8}}q.Double=SR;class TR extends Ge{constructor(e){super(8,e)}decode(e,n=0){return Ue(e).readDoubleBE(n)}encode(e,n,r=0){return Ue(n).writeDoubleBE(e,r),8}}q.DoubleBE=TR;class AR extends Ge{constructor(e,n,r){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Gn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Gn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Gn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Gn&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Gn&&this.count.encode(e.length,n,r),s}}q.Sequence=AR;class xR extends Ge{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Wa(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}q.Structure=xR;class Vv{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}q.UnionDiscriminator=Vv;class lf extends Vv{constructor(e,n){if(!(e instanceof Gn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}q.UnionLayoutDiscriminator=lf;class $v extends Ge{constructor(e,n,r){let i;if(e instanceof Er||e instanceof Dr)i=new lf(new Fv(e));else if(e instanceof Gn&&e.isCount())i=new lf(e);else if(e instanceof Vv)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Er||e instanceof Dr)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Er||e instanceof Dr,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new RR(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}q.Union=$v;class RR extends Ge{constructor(e,n,r,i){if(!(e instanceof $v))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}q.VariantLayout=RR;function Oo(t){return 0>t&&(t+=4294967296),t}class jv extends Ge{constructor(e,n,r){if(!(e instanceof Er||e instanceof Dr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Oo(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new zv(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new CR(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}q.BitStructure=jv;class zv{constructor(e,n,r){if(!(e instanceof jv))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Oo(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Oo(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Oo(e&this.valueMask))throw new TypeError(Uv("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Oo(e<<this.start);this.container._packedSetValue(Oo(n&~this.wordMask)|r)}}q.BitField=zv;let CR=class extends zv{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};q.Boolean=CR;let bR=class extends Ge{constructor(e,n){if(!(e instanceof Gn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Gn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Ue(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Gn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Uv("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Ue(e);return Ue(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Gn&&this.length.encode(i,n,r),i}};q.Blob=bR;class kR extends Ge{constructor(e){super(-1,e)}getSpan(e,n=0){Wa(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Ue(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Bv.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Ue(n);return i.copy(o,r),o[r+s]=0,s+1}}q.CString=kR;class PR extends Ge{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Wa(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Ue(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Bv.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ue(n),r),s}}q.UTF8=PR;class NR extends Ge{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}q.Constant=NR;q.greedy=(t,e)=>new mR(t,e);var Zs=q.offset=(t,e,n)=>new Fv(t,e,n),Gt=q.u8=t=>new Er(1,t),dr=q.u16=t=>new Er(2,t);q.u24=t=>new Er(3,t);var pe=q.u32=t=>new Er(4,t);q.u40=t=>new Er(5,t);q.u48=t=>new Er(6,t);var an=q.nu64=t=>new yR(t);q.u16be=t=>new Dr(2,t);q.u24be=t=>new Dr(3,t);q.u32be=t=>new Dr(4,t);q.u40be=t=>new Dr(5,t);q.u48be=t=>new Dr(6,t);q.nu64be=t=>new vR(t);q.s8=t=>new To(1,t);q.s16=t=>new To(2,t);q.s24=t=>new To(3,t);q.s32=t=>new To(4,t);q.s40=t=>new To(5,t);q.s48=t=>new To(6,t);var tr=q.ns64=t=>new _R(t);q.s16be=t=>new Ka(2,t);q.s24be=t=>new Ka(3,t);q.s32be=t=>new Ka(4,t);q.s40be=t=>new Ka(5,t);q.s48be=t=>new Ka(6,t);q.ns64be=t=>new wR(t);q.f32=t=>new ER(t);q.f32be=t=>new IR(t);q.f64=t=>new SR(t);q.f64be=t=>new TR(t);var ge=q.struct=(t,e,n)=>new xR(t,e,n);q.bits=(t,e,n)=>new jv(t,e,n);var zs=q.seq=(t,e,n)=>new AR(t,e,n);q.union=(t,e,n)=>new $v(t,e,n);q.unionLayoutDiscriminator=(t,e)=>new lf(t,e);var ba=q.blob=(t,e)=>new bR(t,e);q.cstr=t=>new kR(t);q.utf8=(t,e)=>new PR(t,e);q.constant=(t,e)=>new NR(t,e);var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});function J5(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var e8=Yu.toBigIntLE=J5;function t8(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Yu.toBigIntBE=t8;function n8(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var r8=Yu.toBufferLE=n8;function i8(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}Yu.toBufferBE=i8;class s8 extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function o8(t){return gs(t)&&typeof t[Symbol.iterator]=="function"}function gs(t){return typeof t=="object"&&t!=null}function Ur(t){return typeof t=="string"?JSON.stringify(t):""+t}function a8(t){const{done:e,value:n}=t.next();return e?void 0:n}function l8(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Ur(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*lE(t,e,n,r){o8(t)||(t=[t]);for(const i of t){const s=l8(i,e,n,r);s&&(yield s)}}function*Hv(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&gs(e.schema)&&gs(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l=!0;for(const u of e.validator(t,a))l=!1,yield[u,void 0];for(let[u,c,g]of e.entries(t,a)){const v=Hv(c,g,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,c],coerce:s,mask:o});for(const x of v)x[0]?(l=!1,yield[x[0],void 0]):s&&(c=x[1],u===void 0?t=c:t instanceof Map?t.set(u,c):t instanceof Set?t.add(c):gs(t)&&(t[u]=c))}if(l)for(const u of e.refiner(t,a))l=!1,yield[u,void 0];l&&(yield[void 0,t])}let ui=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,u)=>{const c=i(l,u);return lE(c,u,this,l)}:this.validator=()=>[],s?this.refiner=(l,u)=>{const c=s(l,u);return lE(c,u,this,l)}:this.refiner=()=>[]}assert(e){return u8(e,this)}create(e){return Su(e,this)}is(e){return MR(e,this)}mask(e){return c8(e,this)}validate(e,n={}){return Xu(e,this,n)}};function u8(t,e){const n=Xu(t,e);if(n[0])throw n[0]}function Su(t,e){const n=Xu(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function c8(t,e){const n=Xu(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function MR(t,e){return!Xu(t,e)[0]}function Xu(t,e,n={}){const r=Hv(t,e,n),i=a8(r);return i[0]?[new s8(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ao(t,e){return new ui({type:t,schema:null,validator:e})}function h8(){return Ao("any",()=>!0)}function ue(t){return new ui({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Ur(e)}})}function si(){return Ao("boolean",t=>typeof t=="boolean")}function qv(t){return Ao("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Ur(e))}function dt(t){const e=Ur(t),n=typeof t;return new ui({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+Ur(r)}})}function f8(){return Ao("never",()=>!1)}function le(t){return new ui({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return Ao("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Ur(t))}function ve(t){return new ui({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function DR(t,e){return new ui({type:"record",schema:null,*entries(n){if(gs(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return gs(n)||"Expected an object, but received: "+Ur(n)}})}function ie(){return Ao("string",t=>typeof t=="string"||"Expected a string, but received: "+Ur(t))}function Gv(t){const e=f8();return new ui({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+Ur(n)}})}function Z(t){const e=Object.keys(t);return new ui({type:"type",schema:t,*entries(n){if(gs(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return gs(n)||"Expected an object, but received: "+Ur(n)}})}function Zn(t){const e=t.map(n=>n.type).join(" | ");return new ui({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=Hv(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Ur(n),...i]}})}function Zu(){return Ao("unknown",()=>!0)}function Ju(t,e,n){return new ui({...t,coercer:(r,i)=>MR(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Oc,d8=new Uint8Array(16);function OR(){if(!Oc&&(Oc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Oc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oc(d8)}const p8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _d(t){return typeof t=="string"&&p8.test(t)}var on=[];for(var Jp=0;Jp<256;++Jp)on.push((Jp+256).toString(16).substr(1));function wd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(on[t[e+0]]+on[t[e+1]]+on[t[e+2]]+on[t[e+3]]+"-"+on[t[e+4]]+on[t[e+5]]+"-"+on[t[e+6]]+on[t[e+7]]+"-"+on[t[e+8]]+on[t[e+9]]+"-"+on[t[e+10]]+on[t[e+11]]+on[t[e+12]]+on[t[e+13]]+on[t[e+14]]+on[t[e+15]]).toLowerCase();if(!_d(n))throw TypeError("Stringified UUID is invalid");return n}var uE,eg,tg=0,ng=0;function g8(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||uE,o=t.clockseq!==void 0?t.clockseq:eg;if(s==null||o==null){var a=t.random||(t.rng||OR)();s==null&&(s=uE=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=eg=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:ng+1,c=l-tg+(u-ng)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||l>tg)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");tg=l,ng=u,eg=o,l+=122192928e5;var g=((l&268435455)*1e4+u)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var v=l/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=v&255,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var x=0;x<6;++x)i[r+x]=s[x];return e||wd(i)}function LR(t){if(!_d(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function m8(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var y8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",v8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function BR(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=m8(i)),typeof s=="string"&&(s=LR(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return wd(l)}try{r.name=t}catch{}return r.DNS=y8,r.URL=v8,r}function _8(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return w8(E8(I8(t),t.length*8))}function w8(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function UR(t){return(t+64>>>9<<4)+14+1}function E8(t,e){t[e>>5]|=128<<e%32,t[UR(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,u=i,c=s;n=En(n,r,i,s,t[o],7,-680876936),s=En(s,n,r,i,t[o+1],12,-389564586),i=En(i,s,n,r,t[o+2],17,606105819),r=En(r,i,s,n,t[o+3],22,-1044525330),n=En(n,r,i,s,t[o+4],7,-176418897),s=En(s,n,r,i,t[o+5],12,1200080426),i=En(i,s,n,r,t[o+6],17,-1473231341),r=En(r,i,s,n,t[o+7],22,-45705983),n=En(n,r,i,s,t[o+8],7,1770035416),s=En(s,n,r,i,t[o+9],12,-1958414417),i=En(i,s,n,r,t[o+10],17,-42063),r=En(r,i,s,n,t[o+11],22,-1990404162),n=En(n,r,i,s,t[o+12],7,1804603682),s=En(s,n,r,i,t[o+13],12,-40341101),i=En(i,s,n,r,t[o+14],17,-1502002290),r=En(r,i,s,n,t[o+15],22,1236535329),n=In(n,r,i,s,t[o+1],5,-165796510),s=In(s,n,r,i,t[o+6],9,-1069501632),i=In(i,s,n,r,t[o+11],14,643717713),r=In(r,i,s,n,t[o],20,-373897302),n=In(n,r,i,s,t[o+5],5,-701558691),s=In(s,n,r,i,t[o+10],9,38016083),i=In(i,s,n,r,t[o+15],14,-660478335),r=In(r,i,s,n,t[o+4],20,-405537848),n=In(n,r,i,s,t[o+9],5,568446438),s=In(s,n,r,i,t[o+14],9,-1019803690),i=In(i,s,n,r,t[o+3],14,-187363961),r=In(r,i,s,n,t[o+8],20,1163531501),n=In(n,r,i,s,t[o+13],5,-1444681467),s=In(s,n,r,i,t[o+2],9,-51403784),i=In(i,s,n,r,t[o+7],14,1735328473),r=In(r,i,s,n,t[o+12],20,-1926607734),n=Sn(n,r,i,s,t[o+5],4,-378558),s=Sn(s,n,r,i,t[o+8],11,-2022574463),i=Sn(i,s,n,r,t[o+11],16,1839030562),r=Sn(r,i,s,n,t[o+14],23,-35309556),n=Sn(n,r,i,s,t[o+1],4,-1530992060),s=Sn(s,n,r,i,t[o+4],11,1272893353),i=Sn(i,s,n,r,t[o+7],16,-155497632),r=Sn(r,i,s,n,t[o+10],23,-1094730640),n=Sn(n,r,i,s,t[o+13],4,681279174),s=Sn(s,n,r,i,t[o],11,-358537222),i=Sn(i,s,n,r,t[o+3],16,-722521979),r=Sn(r,i,s,n,t[o+6],23,76029189),n=Sn(n,r,i,s,t[o+9],4,-640364487),s=Sn(s,n,r,i,t[o+12],11,-421815835),i=Sn(i,s,n,r,t[o+15],16,530742520),r=Sn(r,i,s,n,t[o+2],23,-995338651),n=Tn(n,r,i,s,t[o],6,-198630844),s=Tn(s,n,r,i,t[o+7],10,1126891415),i=Tn(i,s,n,r,t[o+14],15,-1416354905),r=Tn(r,i,s,n,t[o+5],21,-57434055),n=Tn(n,r,i,s,t[o+12],6,1700485571),s=Tn(s,n,r,i,t[o+3],10,-1894986606),i=Tn(i,s,n,r,t[o+10],15,-1051523),r=Tn(r,i,s,n,t[o+1],21,-2054922799),n=Tn(n,r,i,s,t[o+8],6,1873313359),s=Tn(s,n,r,i,t[o+15],10,-30611744),i=Tn(i,s,n,r,t[o+6],15,-1560198380),r=Tn(r,i,s,n,t[o+13],21,1309151649),n=Tn(n,r,i,s,t[o+4],6,-145523070),s=Tn(s,n,r,i,t[o+11],10,-1120210379),i=Tn(i,s,n,r,t[o+2],15,718787259),r=Tn(r,i,s,n,t[o+9],21,-343485551),n=ts(n,a),r=ts(r,l),i=ts(i,u),s=ts(s,c)}return[n,r,i,s]}function I8(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(UR(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ts(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function S8(t,e){return t<<e|t>>>32-e}function Ed(t,e,n,r,i,s){return ts(S8(ts(ts(e,t),ts(r,s)),i),n)}function En(t,e,n,r,i,s,o){return Ed(e&n|~e&r,t,e,i,s,o)}function In(t,e,n,r,i,s,o){return Ed(e&r|n&~r,t,e,i,s,o)}function Sn(t,e,n,r,i,s,o){return Ed(e^n^r,t,e,i,s,o)}function Tn(t,e,n,r,i,s,o){return Ed(n^(e|~r),t,e,i,s,o)}var T8=BR("v3",48,_8);const A8=T8;function x8(t,e,n){t=t||{};var r=t.random||(t.rng||OR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return wd(r)}function R8(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function rg(t,e){return t<<e|t>>>32-e}function C8(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];a[l]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<o;++g){for(var v=new Uint32Array(80),x=0;x<16;++x)v[x]=a[g][x];for(var k=16;k<80;++k)v[k]=rg(v[k-3]^v[k-8]^v[k-14]^v[k-16],1);for(var C=n[0],N=n[1],A=n[2],E=n[3],y=n[4],O=0;O<80;++O){var P=Math.floor(O/20),B=rg(C,5)+R8(P,N,A,E)+y+e[P]+v[O]>>>0;y=E,E=A,A=rg(N,30)>>>0,N=C,C=B}n[0]=n[0]+C>>>0,n[1]=n[1]+N>>>0,n[2]=n[2]+A>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var b8=BR("v5",80,C8);const k8=b8,P8="00000000-0000-0000-0000-000000000000";function N8(t){if(!_d(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const M8=Object.freeze(Object.defineProperty({__proto__:null,NIL:P8,parse:LR,stringify:wd,v1:g8,v3:A8,v4:x8,v5:k8,validate:_d,version:N8},Symbol.toStringTag,{value:"Module"})),FR=u0(M8),D8=FR.v4,O8=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return D8()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var L8=O8;const B8=FR.v4,U8=L8,uf=function(t,e){if(!(this instanceof uf))return new uf(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return B8()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};uf.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=U8(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(u)return r(c);throw c}if(!u)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,function(u,c){i._parseResponse(u,c,r)}),s};uf.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var F8={},VR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(VR);var $R=VR.exports,ig={exports:{}},sg={exports:{}},cE;function ec(){return cE||(cE=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(sg)),sg.exports}var hE;function V8(){return hE||(hE=1,function(t){var e=ec().default;function n(){t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(w,R,_){w[R]=_.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",g=l.toStringTag||"@@toStringTag";function v(w,R,_){return Object.defineProperty(w,R,{value:_,enumerable:!0,configurable:!0,writable:!0}),w[R]}try{v({},"")}catch{v=function(_,f,b){return _[f]=b}}function x(w,R,_,f){var b=R&&R.prototype instanceof O?R:O,G=Object.create(b.prototype),K=new M(f||[]);return a(G,"_invoke",{value:L(w,_,K)}),G}function k(w,R,_){try{return{type:"normal",arg:w.call(R,_)}}catch(f){return{type:"throw",arg:f}}}i.wrap=x;var C="suspendedStart",N="suspendedYield",A="executing",E="completed",y={};function O(){}function P(){}function B(){}var F={};v(F,u,function(){return this});var V=Object.getPrototypeOf,Y=V&&V(V(I([])));Y&&Y!==s&&o.call(Y,u)&&(F=Y);var X=B.prototype=O.prototype=Object.create(F);function ne(w){["next","throw","return"].forEach(function(R){v(w,R,function(_){return this._invoke(R,_)})})}function ye(w,R){function _(b,G,K,Q){var oe=k(w[b],w,G);if(oe.type!=="throw"){var he=oe.arg,fe=he.value;return fe&&e(fe)=="object"&&o.call(fe,"__await")?R.resolve(fe.__await).then(function(Fe){_("next",Fe,K,Q)},function(Fe){_("throw",Fe,K,Q)}):R.resolve(fe).then(function(Fe){he.value=Fe,K(he)},function(Fe){return _("throw",Fe,K,Q)})}Q(oe.arg)}var f;a(this,"_invoke",{value:function(G,K){function Q(){return new R(function(oe,he){_(G,K,oe,he)})}return f=f?f.then(Q,Q):Q()}})}function L(w,R,_){var f=C;return function(b,G){if(f===A)throw new Error("Generator is already running");if(f===E){if(b==="throw")throw G;return{value:r,done:!0}}for(_.method=b,_.arg=G;;){var K=_.delegate;if(K){var Q=h(K,_);if(Q){if(Q===y)continue;return Q}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(f===C)throw f=E,_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);f=A;var oe=k(w,R,_);if(oe.type==="normal"){if(f=_.done?E:N,oe.arg===y)continue;return{value:oe.arg,done:_.done}}oe.type==="throw"&&(f=E,_.method="throw",_.arg=oe.arg)}}}function h(w,R){var _=R.method,f=w.iterator[_];if(f===r)return R.delegate=null,_==="throw"&&w.iterator.return&&(R.method="return",R.arg=r,h(w,R),R.method==="throw")||_!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+_+"' method")),y;var b=k(f,w.iterator,R.arg);if(b.type==="throw")return R.method="throw",R.arg=b.arg,R.delegate=null,y;var G=b.arg;return G?G.done?(R[w.resultName]=G.value,R.next=w.nextLoc,R.method!=="return"&&(R.method="next",R.arg=r),R.delegate=null,y):G:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,y)}function m(w){var R={tryLoc:w[0]};1 in w&&(R.catchLoc=w[1]),2 in w&&(R.finallyLoc=w[2],R.afterLoc=w[3]),this.tryEntries.push(R)}function T(w){var R=w.completion||{};R.type="normal",delete R.arg,w.completion=R}function M(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(m,this),this.reset(!0)}function I(w){if(w||w===""){var R=w[u];if(R)return R.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var _=-1,f=function b(){for(;++_<w.length;)if(o.call(w,_))return b.value=w[_],b.done=!1,b;return b.value=r,b.done=!0,b};return f.next=f}}throw new TypeError(e(w)+" is not iterable")}return P.prototype=B,a(X,"constructor",{value:B,configurable:!0}),a(B,"constructor",{value:P,configurable:!0}),P.displayName=v(B,g,"GeneratorFunction"),i.isGeneratorFunction=function(w){var R=typeof w=="function"&&w.constructor;return!!R&&(R===P||(R.displayName||R.name)==="GeneratorFunction")},i.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,B):(w.__proto__=B,v(w,g,"GeneratorFunction")),w.prototype=Object.create(X),w},i.awrap=function(w){return{__await:w}},ne(ye.prototype),v(ye.prototype,c,function(){return this}),i.AsyncIterator=ye,i.async=function(w,R,_,f,b){b===void 0&&(b=Promise);var G=new ye(x(w,R,_,f),b);return i.isGeneratorFunction(R)?G:G.next().then(function(K){return K.done?K.value:G.next()})},ne(X),v(X,g,"Generator"),v(X,u,function(){return this}),v(X,"toString",function(){return"[object Generator]"}),i.keys=function(w){var R=Object(w),_=[];for(var f in R)_.push(f);return _.reverse(),function b(){for(;_.length;){var G=_.pop();if(G in R)return b.value=G,b.done=!1,b}return b.done=!0,b}},i.values=I,M.prototype={constructor:M,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!R)for(var _ in this)_.charAt(0)==="t"&&o.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=r)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var _=this;function f(he,fe){return K.type="throw",K.arg=R,_.next=he,fe&&(_.method="next",_.arg=r),!!fe}for(var b=this.tryEntries.length-1;b>=0;--b){var G=this.tryEntries[b],K=G.completion;if(G.tryLoc==="root")return f("end");if(G.tryLoc<=this.prev){var Q=o.call(G,"catchLoc"),oe=o.call(G,"finallyLoc");if(Q&&oe){if(this.prev<G.catchLoc)return f(G.catchLoc,!0);if(this.prev<G.finallyLoc)return f(G.finallyLoc)}else if(Q){if(this.prev<G.catchLoc)return f(G.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return f(G.finallyLoc)}}}},abrupt:function(R,_){for(var f=this.tryEntries.length-1;f>=0;--f){var b=this.tryEntries[f];if(b.tryLoc<=this.prev&&o.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var G=b;break}}G&&(R==="break"||R==="continue")&&G.tryLoc<=_&&_<=G.finallyLoc&&(G=null);var K=G?G.completion:{};return K.type=R,K.arg=_,G?(this.method="next",this.next=G.finallyLoc,y):this.complete(K)},complete:function(R,_){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&_&&(this.next=_),y},finish:function(R){for(var _=this.tryEntries.length-1;_>=0;--_){var f=this.tryEntries[_];if(f.finallyLoc===R)return this.complete(f.completion,f.afterLoc),T(f),y}},catch:function(R){for(var _=this.tryEntries.length-1;_>=0;--_){var f=this.tryEntries[_];if(f.tryLoc===R){var b=f.completion;if(b.type==="throw"){var G=b.arg;T(f)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(R,_,f){return this.delegate={iterator:I(R),resultName:_,nextLoc:f},this.method==="next"&&(this.arg=r),y}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(ig)),ig.exports}var og,fE;function $8(){if(fE)return og;fE=1;var t=V8()();og=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return og}var ag={exports:{}},dE;function j8(){return dE||(dE=1,function(t){function e(r,i,s,o,a,l,u){try{var c=r[l](u),g=c.value}catch(v){s(v);return}c.done?i(g):Promise.resolve(g).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var l=r.apply(i,s);function u(g){e(l,o,a,u,c,"next",g)}function c(g){e(l,o,a,u,c,"throw",g)}u(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(ag)),ag.exports}var lg={exports:{}},pE;function jR(){return pE||(pE=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(lg)),lg.exports}var ug={exports:{}},cg={exports:{}},hg={exports:{}},gE;function z8(){return gE||(gE=1,function(t){var e=ec().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(hg)),hg.exports}var mE;function H8(){return mE||(mE=1,function(t){var e=ec().default,n=z8();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(cg)),cg.exports}var yE;function zR(){return yE||(yE=1,function(t){var e=H8();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(ug)),ug.exports}var fg={exports:{}},dg={exports:{}},vE;function q8(){return vE||(vE=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(dg)),dg.exports}var _E;function HR(){return _E||(_E=1,function(t){var e=q8();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(fg)),fg.exports}var pg={exports:{}},gg={exports:{}},wE;function G8(){return wE||(wE=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(gg)),gg.exports}var EE;function qR(){return EE||(EE=1,function(t){var e=ec().default,n=G8();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(pg)),pg.exports}var mg={exports:{}},IE;function GR(){return IE||(IE=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(mg)),mg.exports}var yg={exports:{}},SE;function WR(){return SE||(SE=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,g,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var x=new i(c,g||l,v),k=n?n+u:u;return l._events[k]?l._events[k].fn?l._events[k]=[l._events[k],x]:l._events[k].push(x):(l._events[k]=x,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,g;if(this._eventsCount===0)return u;for(g in c=this._events)e.call(c,g)&&u.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,g=this._events[c];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,k=new Array(x);v<x;v++)k[v]=g[v].fn;return k},a.prototype.listenerCount=function(u){var c=n?n+u:u,g=this._events[c];return g?g.fn?1:g.length:0},a.prototype.emit=function(u,c,g,v,x,k){var C=n?n+u:u;if(!this._events[C])return!1;var N=this._events[C],A=arguments.length,E,y;if(N.fn){switch(N.once&&this.removeListener(u,N.fn,void 0,!0),A){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,c),!0;case 3:return N.fn.call(N.context,c,g),!0;case 4:return N.fn.call(N.context,c,g,v),!0;case 5:return N.fn.call(N.context,c,g,v,x),!0;case 6:return N.fn.call(N.context,c,g,v,x,k),!0}for(y=1,E=new Array(A-1);y<A;y++)E[y-1]=arguments[y];N.fn.apply(N.context,E)}else{var O=N.length,P;for(y=0;y<O;y++)switch(N[y].once&&this.removeListener(u,N[y].fn,void 0,!0),A){case 1:N[y].fn.call(N[y].context);break;case 2:N[y].fn.call(N[y].context,c);break;case 3:N[y].fn.call(N[y].context,c,g);break;case 4:N[y].fn.call(N[y].context,c,g,v);break;default:if(!E)for(P=1,E=new Array(A-1);P<A;P++)E[P-1]=arguments[P];N[y].fn.apply(N[y].context,E)}}return!0},a.prototype.on=function(u,c,g){return s(this,u,c,g,!1)},a.prototype.once=function(u,c,g){return s(this,u,c,g,!0)},a.prototype.removeListener=function(u,c,g,v){var x=n?n+u:u;if(!this._events[x])return this;if(!c)return o(this,x),this;var k=this._events[x];if(k.fn)k.fn===c&&(!v||k.once)&&(!g||k.context===g)&&o(this,x);else{for(var C=0,N=[],A=k.length;C<A;C++)(k[C].fn!==c||v&&!k[C].once||g&&k[C].context!==g)&&N.push(k[C]);N.length?this._events[x]=N.length===1?N[0]:N:o(this,x)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(yg)),yg.exports}(function(t){var e=$R;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e($8()),r=e(j8()),i=e(ec()),s=e(jR()),o=e(zR()),a=e(HR()),l=e(qR()),u=e(GR()),c=WR();function g(C){var N=v();return function(){var E=(0,u.default)(C),y;if(N){var O=(0,u.default)(this).constructor;y=Reflect.construct(E,arguments,O)}else y=E.apply(this,arguments);return(0,l.default)(this,y)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var x=function(C,N){var A={};for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&N.indexOf(E)<0&&(A[E]=C[E]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,E=Object.getOwnPropertySymbols(C);y<E.length;y++)N.indexOf(E[y])<0&&Object.prototype.propertyIsEnumerable.call(C,E[y])&&(A[E[y]]=C[E[y]]);return A},k=function(C){(0,a.default)(A,C);var N=g(A);function A(E){var y,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,A);var F=P.autoconnect,V=F===void 0?!0:F,Y=P.reconnect,X=Y===void 0?!0:Y,ne=P.reconnect_interval,ye=ne===void 0?1e3:ne,L=P.max_reconnects,h=L===void 0?5:L,m=x(P,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return y=N.call(this),y.webSocketFactory=E,y.queue={},y.rpc_id=0,y.address=O,y.autoconnect=V,y.ready=!1,y.reconnect=X,y.reconnect_timer_id=void 0,y.reconnect_interval=ye,y.max_reconnects=h,y.rest_options=m,y.current_reconnects=0,y.generate_request_id=B||function(){return++y.rpc_id},y.autoconnect&&y._connect(y.address,Object.assign({autoconnect:y.autoconnect,reconnect:y.reconnect,reconnect_interval:y.reconnect_interval,max_reconnects:y.max_reconnects},y.rest_options)),y}return(0,o.default)(A,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(y,O,P,B){var F=this;return!B&&(0,i.default)(P)==="object"&&(B=P,P=null),new Promise(function(V,Y){if(!F.ready)return Y(new Error("socket not ready"));var X=F.generate_request_id(y,O),ne={jsonrpc:"2.0",method:y,params:O||null,id:X};F.socket.send(JSON.stringify(ne),B,function(ye){if(ye)return Y(ye);F.queue[X]={promise:[V,Y]},P&&(F.queue[X].timeout=setTimeout(function(){delete F.queue[X],Y(new Error("reply timeout"))},P))})})}},{key:"login",value:function(){var E=(0,r.default)(n.default.mark(function O(P){var B;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,this.call("rpc.login",P);case 2:if(B=V.sent,B){V.next=5;break}throw new Error("authentication failed");case 5:return V.abrupt("return",B);case 6:case"end":return V.stop()}},O,this)}));function y(O){return E.apply(this,arguments)}return y}()},{key:"listMethods",value:function(){var E=(0,r.default)(n.default.mark(function O(){return n.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,this.call("__listMethods");case 2:return B.abrupt("return",B.sent);case 3:case"end":return B.stop()}},O,this)}));function y(){return E.apply(this,arguments)}return y}()},{key:"notify",value:function(y,O){var P=this;return new Promise(function(B,F){if(!P.ready)return F(new Error("socket not ready"));var V={jsonrpc:"2.0",method:y,params:O||null};P.socket.send(JSON.stringify(V),function(Y){if(Y)return F(Y);B()})})}},{key:"subscribe",value:function(){var E=(0,r.default)(n.default.mark(function O(P){var B;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof P=="string"&&(P=[P]),V.next=3,this.call("rpc.on",P);case 3:if(B=V.sent,!(typeof P=="string"&&B[P]!=="ok")){V.next=6;break}throw new Error("Failed subscribing to an event '"+P+"' with: "+B[P]);case 6:return V.abrupt("return",B);case 7:case"end":return V.stop()}},O,this)}));function y(O){return E.apply(this,arguments)}return y}()},{key:"unsubscribe",value:function(){var E=(0,r.default)(n.default.mark(function O(P){var B;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof P=="string"&&(P=[P]),V.next=3,this.call("rpc.off",P);case 3:if(B=V.sent,!(typeof P=="string"&&B[P]!=="ok")){V.next=6;break}throw new Error("Failed unsubscribing from an event with: "+B);case 6:return V.abrupt("return",B);case 7:case"end":return V.stop()}},O,this)}));function y(O){return E.apply(this,arguments)}return y}()},{key:"close",value:function(y,O){this.socket.close(y||1e3,O)}},{key:"_connect",value:function(y,O){var P=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(y,O),this.socket.addEventListener("open",function(){P.ready=!0,P.emit("open"),P.current_reconnects=0}),this.socket.addEventListener("message",function(B){var F=B.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&P.listeners(F.notification).length){if(!Object.keys(F.params).length)return P.emit(F.notification);var V=[F.notification];if(F.params.constructor===Object)V.push(F.params);else for(var Y=0;Y<F.params.length;Y++)V.push(F.params[Y]);return Promise.resolve().then(function(){P.emit.apply(P,V)})}if(!P.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){P.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&P.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),P.queue[F.id].timeout&&clearTimeout(P.queue[F.id].timeout),F.error?P.queue[F.id].promise[1](F.error):P.queue[F.id].promise[0](F.result),delete P.queue[F.id]}),this.socket.addEventListener("error",function(B){return P.emit("error",B)}),this.socket.addEventListener("close",function(B){var F=B.code,V=B.reason;P.ready&&setTimeout(function(){return P.emit("close",F,V)},0),P.ready=!1,P.socket=void 0,F!==1e3&&(P.current_reconnects++,P.reconnect&&(P.max_reconnects>P.current_reconnects||P.max_reconnects===0)&&(P.reconnect_timer_id=setTimeout(function(){return P._connect(y,O)},P.reconnect_interval)))})}}]),A}(c.EventEmitter);t.default=k})(F8);var W8={};(function(t){var e=$R;Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var n=e(jR()),r=e(zR()),i=e(HR()),s=e(qR()),o=e(GR()),a=WR();function l(v){var x=u();return function(){var C=(0,o.default)(v),N;if(x){var A=(0,o.default)(this).constructor;N=Reflect.construct(C,arguments,A)}else N=C.apply(this,arguments);return(0,s.default)(this,N)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var c=function(v){(0,i.default)(k,v);var x=l(k);function k(C,N,A){var E;return(0,n.default)(this,k),E=x.call(this),E.socket=new window.WebSocket(C,A),E.socket.onopen=function(){return E.emit("open")},E.socket.onmessage=function(y){return E.emit("message",y.data)},E.socket.onerror=function(y){return E.emit("error",y)},E.socket.onclose=function(y){E.emit("close",y.code,y.reason)},E}return(0,r.default)(k,[{key:"send",value:function(N,A,E){var y=E||A;try{this.socket.send(N),y()}catch(O){y(O)}}},{key:"close",value:function(N,A){this.socket.close(N,A)}},{key:"addEventListener",value:function(N,A,E){this.socket.addEventListener(N,A,E)}}]),k}(a.EventEmitter);function g(v,x){return new c(v,x)}})(W8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function K8(t){const e=kv(t);Ga(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Q8,hexToBytes:Y8}=KF,Hs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Hs;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Q8(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Hs,n=typeof t=="string"?Y8(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Hs._parseInt(n.subarray(2)),{d:o,l:a}=Hs._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},di=BigInt(0),fr=BigInt(1);BigInt(2);const TE=BigInt(3);BigInt(4);function X8(t){const e=K8(t),{Fp:n}=e,r=e.toBytes||((k,C,N)=>{const A=C.toAffine();return po(Uint8Array.from([4]),n.toBytes(A.x),n.toBytes(A.y))}),i=e.fromBytes||(k=>{const C=k.subarray(1),N=n.fromBytes(C.subarray(0,n.BYTES)),A=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:N,y:A}});function s(k){const{a:C,b:N}=e,A=n.sqr(k),E=n.mul(A,k);return n.add(n.add(E,n.mul(k,C)),N)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(k){return typeof k=="bigint"&&di<k&&k<e.n}function a(k){if(!o(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(k){const{allowedPrivateKeyLengths:C,nByteLength:N,wrapPrivateKey:A,n:E}=e;if(C&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=fo(k)),typeof k!="string"||!C.includes(k.length))throw new Error("Invalid key");k=k.padStart(N*2,"0")}let y;try{y=typeof k=="bigint"?k:Xs(Kt("private key",k,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof k}`)}return A&&(y=lt(y,E)),a(y),y}const u=new Map;function c(k){if(!(k instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(C,N,A){if(this.px=C,this.py=N,this.pz=A,C==null||!n.isValid(C))throw new Error("x required");if(N==null||!n.isValid(N))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required")}static fromAffine(C){const{x:N,y:A}=C||{};if(!C||!n.isValid(N)||!n.isValid(A))throw new Error("invalid affine point");if(C instanceof g)throw new Error("projective point not allowed");const E=y=>n.eql(y,n.ZERO);return E(N)&&E(A)?g.ZERO:new g(N,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const N=n.invertBatch(C.map(A=>A.pz));return C.map((A,E)=>A.toAffine(N[E])).map(g.fromAffine)}static fromHex(C){const N=g.fromAffine(i(Kt("pointHex",C)));return N.assertValidity(),N}static fromPrivateKey(C){return g.BASE.multiply(l(C))}_setWindowSize(C){this._WINDOW_SIZE=C,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:C,y:N}=this.toAffine();if(!n.isValid(C)||!n.isValid(N))throw new Error("bad point: x or y not FE");const A=n.sqr(N),E=s(C);if(!n.eql(A,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:C}=this.toAffine();if(n.isOdd)return!n.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){c(C);const{px:N,py:A,pz:E}=this,{px:y,py:O,pz:P}=C,B=n.eql(n.mul(N,P),n.mul(y,E)),F=n.eql(n.mul(A,P),n.mul(O,E));return B&&F}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:N}=e,A=n.mul(N,TE),{px:E,py:y,pz:O}=this;let P=n.ZERO,B=n.ZERO,F=n.ZERO,V=n.mul(E,E),Y=n.mul(y,y),X=n.mul(O,O),ne=n.mul(E,y);return ne=n.add(ne,ne),F=n.mul(E,O),F=n.add(F,F),P=n.mul(C,F),B=n.mul(A,X),B=n.add(P,B),P=n.sub(Y,B),B=n.add(Y,B),B=n.mul(P,B),P=n.mul(ne,P),F=n.mul(A,F),X=n.mul(C,X),ne=n.sub(V,X),ne=n.mul(C,ne),ne=n.add(ne,F),F=n.add(V,V),V=n.add(F,V),V=n.add(V,X),V=n.mul(V,ne),B=n.add(B,V),X=n.mul(y,O),X=n.add(X,X),V=n.mul(X,ne),P=n.sub(P,V),F=n.mul(X,Y),F=n.add(F,F),F=n.add(F,F),new g(P,B,F)}add(C){c(C);const{px:N,py:A,pz:E}=this,{px:y,py:O,pz:P}=C;let B=n.ZERO,F=n.ZERO,V=n.ZERO;const Y=e.a,X=n.mul(e.b,TE);let ne=n.mul(N,y),ye=n.mul(A,O),L=n.mul(E,P),h=n.add(N,A),m=n.add(y,O);h=n.mul(h,m),m=n.add(ne,ye),h=n.sub(h,m),m=n.add(N,E);let T=n.add(y,P);return m=n.mul(m,T),T=n.add(ne,L),m=n.sub(m,T),T=n.add(A,E),B=n.add(O,P),T=n.mul(T,B),B=n.add(ye,L),T=n.sub(T,B),V=n.mul(Y,m),B=n.mul(X,L),V=n.add(B,V),B=n.sub(ye,V),V=n.add(ye,V),F=n.mul(B,V),ye=n.add(ne,ne),ye=n.add(ye,ne),L=n.mul(Y,L),m=n.mul(X,m),ye=n.add(ye,L),L=n.sub(ne,L),L=n.mul(Y,L),m=n.add(m,L),ne=n.mul(ye,m),F=n.add(F,ne),ne=n.mul(T,m),B=n.mul(h,B),B=n.sub(B,ne),ne=n.mul(h,ye),V=n.mul(T,V),V=n.add(V,ne),new g(B,F,V)}subtract(C){return this.add(C.negate())}is0(){return this.equals(g.ZERO)}wNAF(C){return x.wNAFCached(this,u,C,N=>{const A=n.invertBatch(N.map(E=>E.pz));return N.map((E,y)=>E.toAffine(A[y])).map(g.fromAffine)})}multiplyUnsafe(C){const N=g.ZERO;if(C===di)return N;if(a(C),C===fr)return this;const{endo:A}=e;if(!A)return x.unsafeLadder(this,C);let{k1neg:E,k1:y,k2neg:O,k2:P}=A.splitScalar(C),B=N,F=N,V=this;for(;y>di||P>di;)y&fr&&(B=B.add(V)),P&fr&&(F=F.add(V)),V=V.double(),y>>=fr,P>>=fr;return E&&(B=B.negate()),O&&(F=F.negate()),F=new g(n.mul(F.px,A.beta),F.py,F.pz),B.add(F)}multiply(C){a(C);let N=C,A,E;const{endo:y}=e;if(y){const{k1neg:O,k1:P,k2neg:B,k2:F}=y.splitScalar(N);let{p:V,f:Y}=this.wNAF(P),{p:X,f:ne}=this.wNAF(F);V=x.constTimeNegate(O,V),X=x.constTimeNegate(B,X),X=new g(n.mul(X.px,y.beta),X.py,X.pz),A=V.add(X),E=Y.add(ne)}else{const{p:O,f:P}=this.wNAF(N);A=O,E=P}return g.normalizeZ([A,E])[0]}multiplyAndAddUnsafe(C,N,A){const E=g.BASE,y=(P,B)=>B===di||B===fr||!P.equals(E)?P.multiplyUnsafe(B):P.multiply(B),O=y(this,N).add(y(C,A));return O.is0()?void 0:O}toAffine(C){const{px:N,py:A,pz:E}=this,y=this.is0();C==null&&(C=y?n.ONE:n.inv(E));const O=n.mul(N,C),P=n.mul(A,C),B=n.mul(E,C);if(y)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:O,y:P}}isTorsionFree(){const{h:C,isTorsionFree:N}=e;if(C===fr)return!0;if(N)return N(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:N}=e;return C===fr?this:N?N(g,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return this.assertValidity(),r(g,this,C)}toHex(C=!0){return fo(this.toRawBytes(C))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const v=e.nBitLength,x=rR(g,e.endo?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Z8(t){const e=kv(t);return Ga(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function J8(t){const e=Z8(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(m){return di<m&&m<n.ORDER}function a(m){return lt(m,r)}function l(m){return e0(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:g,isWithinCurveOrder:v}=X8({...e,toBytes(m,T,M){const I=T.toAffine(),w=n.toBytes(I.x),R=po;return M?R(Uint8Array.from([T.hasEvenY()?2:3]),w):R(Uint8Array.from([4]),w,n.toBytes(I.y))},fromBytes(m){const T=m.length,M=m[0],I=m.subarray(1);if(T===i&&(M===2||M===3)){const w=Xs(I);if(!o(w))throw new Error("Point is not on curve");const R=g(w);let _=n.sqrt(R);const f=(_&fr)===fr;return(M&1)===1!==f&&(_=n.neg(_)),{x:w,y:_}}else if(T===s&&M===4){const w=n.fromBytes(I.subarray(0,n.BYTES)),R=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:w,y:R}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),x=m=>fo(Ra(m,e.nByteLength));function k(m){const T=r>>fr;return m>T}function C(m){return k(m)?a(-m):m}const N=(m,T,M)=>Xs(m.slice(T,M));class A{constructor(T,M,I){this.r=T,this.s=M,this.recovery=I,this.assertValidity()}static fromCompact(T){const M=e.nByteLength;return T=Kt("compactSignature",T,M*2),new A(N(T,0,M),N(T,M,2*M))}static fromDER(T){const{r:M,s:I}=Hs.toSig(Kt("DER",T));return new A(M,I)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new A(this.r,this.s,T)}recoverPublicKey(T){const{r:M,s:I,recovery:w}=this,R=F(Kt("msgHash",T));if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");const _=w===2||w===3?M+e.n:M;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=w&1?"03":"02",b=u.fromHex(f+x(_)),G=l(_),K=a(-R*G),Q=a(I*G),oe=u.BASE.multiplyAndAddUnsafe(b,K,Q);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return xa(this.toDERHex())}toDERHex(){return Hs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xa(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const E={isValidPrivateKey(m){try{return c(m),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const m=nR(e.n);return s5(e.randomBytes(m),e.n)},precompute(m=8,T=u.BASE){return T._setWindowSize(m),T.multiply(BigInt(3)),T}};function y(m,T=!0){return u.fromPrivateKey(m).toRawBytes(T)}function O(m){const T=m instanceof Uint8Array,M=typeof m=="string",I=(T||M)&&m.length;return T?I===i||I===s:M?I===2*i||I===2*s:m instanceof u}function P(m,T,M=!0){if(O(m))throw new Error("first arg must be private key");if(!O(T))throw new Error("second arg must be public key");return u.fromHex(T).multiply(c(m)).toRawBytes(M)}const B=e.bits2int||function(m){const T=Xs(m),M=m.length*8-e.nBitLength;return M>0?T>>BigInt(M):T},F=e.bits2int_modN||function(m){return a(B(m))},V=bv(e.nBitLength);function Y(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(di<=m&&m<V))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ra(m,e.nByteLength)}function X(m,T,M=ne){if(["recovered","canonical"].some(fe=>fe in M))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:w}=e;let{lowS:R,prehash:_,extraEntropy:f}=M;R==null&&(R=!0),m=Kt("msgHash",m),_&&(m=Kt("prehashed msgHash",I(m)));const b=F(m),G=c(T),K=[Y(G),Y(b)];if(f!=null){const fe=f===!0?w(n.BYTES):f;K.push(Kt("extraEntropy",fe))}const Q=po(...K),oe=b;function he(fe){const Fe=B(fe);if(!v(Fe))return;const Ce=l(Fe),ke=u.BASE.multiply(Fe).toAffine(),Ve=a(ke.x);if(Ve===di)return;const Pe=a(Ce*a(oe+Ve*G));if(Pe===di)return;let ze=(ke.x===Ve?0:2)|Number(ke.y&fr),Fr=Pe;return R&&k(Pe)&&(Fr=C(Pe),ze^=1),new A(Ve,Fr,ze)}return{seed:Q,k2sig:he}}const ne={lowS:e.lowS,prehash:!1},ye={lowS:e.lowS,prehash:!1};function L(m,T,M=ne){const{seed:I,k2sig:w}=X(m,T,M),R=e;return Z2(R.hash.outputLen,R.nByteLength,R.hmac)(I,w)}u.BASE._setWindowSize(8);function h(m,T,M,I=ye){var ke;const w=m;if(T=Kt("msgHash",T),M=Kt("publicKey",M),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:R,prehash:_}=I;let f,b;try{if(typeof w=="string"||w instanceof Uint8Array)try{f=A.fromDER(w)}catch(Ve){if(!(Ve instanceof Hs.Err))throw Ve;f=A.fromCompact(w)}else if(typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint"){const{r:Ve,s:Pe}=w;f=new A(Ve,Pe)}else throw new Error("PARSE");b=u.fromHex(M)}catch(Ve){if(Ve.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&f.hasHighS())return!1;_&&(T=e.hash(T));const{r:G,s:K}=f,Q=F(T),oe=l(K),he=a(Q*oe),fe=a(G*oe),Fe=(ke=u.BASE.multiplyAndAddUnsafe(b,he,fe))==null?void 0:ke.toAffine();return Fe?a(Fe.x)===G:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:P,sign:L,verify:h,ProjectivePoint:u,Signature:A,utils:E}}class KR extends H2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,cF(e);const r=Rv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return nf(this),this.iHash.update(e),this}digestInto(e){nf(this),V2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const QR=(t,e,n)=>new KR(t,e).update(n).digest();QR.create=(t,e)=>new KR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eV(t){return{hash:t,hmac:(e,...n)=>QR(t,e,z2(...n)),randomBytes:G2}}function tV(t,e){const n=r=>J8({...t,...eV(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YR=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),AE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),nV=BigInt(1),s0=BigInt(2),xE=(t,e)=>(t+e/s0)/e;function rV(t){const e=YR,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,g=_t(c,n,e)*c%e,v=_t(g,n,e)*c%e,x=_t(v,s0,e)*u%e,k=_t(x,i,e)*x%e,C=_t(k,s,e)*k%e,N=_t(C,a,e)*C%e,A=_t(N,l,e)*N%e,E=_t(A,a,e)*C%e,y=_t(E,n,e)*c%e,O=_t(y,o,e)*k%e,P=_t(O,r,e)*u%e,B=_t(P,s0,e);if(!o0.eql(o0.sqr(B),t))throw new Error("Cannot find square root");return B}const o0=eR(YR,void 0,void 0,{sqrt:rV}),Wv=tV({a:BigInt(0),b:BigInt(7),Fp:o0,n:AE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=AE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-nV*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=xE(s*t,e),l=xE(-r*t,e);let u=lt(t-a*n-l*i,e),c=lt(-a*r-l*s,e);const g=u>o,v=c>o;if(g&&(u=e-u),v&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:g,k1:u,k2neg:v,k2:c}}}},r0);BigInt(0);Wv.ProjectivePoint;iR.utils.randomPrivateKey;function RE(t){try{return iR.ExtendedPoint.fromHex(t),!0}catch{return!1}}const iV=t=>ht.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ht.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ht.Buffer.from(t);class sV{constructor(e){Object.assign(this,e)}encode(){return ht.Buffer.from(pR(rh,this))}static decode(e){return gR(rh,this,e)}static decodeUnchecked(e){return uR(rh,this,e)}}const rh=new Map;var XR;let ZR;const oV=32,vg=32;function aV(t){return t._bn!==void 0}let CE=1;ZR=Symbol.toStringTag;class Be extends sV{constructor(e){if(super({}),this._bn=void 0,aV(e))this._bn=e._bn;else{if(typeof e=="string"){const n=aE.decode(e);if(n.length!=vg)throw new Error("Invalid public key input");this._bn=new oE(n)}else this._bn=new oE(e);if(this._bn.byteLength()>vg)throw new Error("Invalid public key input")}}static unique(){const e=new Be(CE);return CE+=1,new Be(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return aE.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ht.Buffer);if(e.length===vg)return e;const n=ht.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[ZR](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ht.Buffer.concat([e.toBuffer(),ht.Buffer.from(n),r.toBuffer()]),s=r0(i);return new Be(s)}static createProgramAddressSync(e,n){let r=ht.Buffer.alloc(0);e.forEach(function(s){if(s.length>oV)throw new TypeError("Max seed length exceeded");r=ht.Buffer.concat([r,iV(s)])}),r=ht.Buffer.concat([r,n.toBuffer(),ht.Buffer.from("ProgramDerivedAddress")]);const i=r0(r);if(RE(i))throw new Error("Invalid seeds, address must fall off the curve");return new Be(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(ht.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Be(e);return RE(n.toBytes())}}XR=Be;Be.default=new XR("11111111111111111111111111111111");rh.set(Be,{kind:"struct",fields:[["_bn","u256"]]});new Be("BPFLoader1111111111111111111111111111111111");const lV=64,$e=(t="publicKey")=>ba(32,t),Qo=(t="string")=>{const e=ge([pe("length"),pe("lengthPadding"),ba(Zs(pe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:ht.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>pe().span+pe().span+ht.Buffer.from(s,"utf8").length,i},uV=(t="authorized")=>ge([$e("staker"),$e("withdrawer")],t),cV=(t="lockup")=>ge([tr("unixTimestamp"),tr("epoch"),$e("custodian")],t),hV=(t="voteInit")=>ge([$e("nodePubkey"),$e("authorizedVoter"),$e("authorizedWithdrawer"),Gt("commission")],t),fV=(t="voteAuthorizeWithSeedArgs")=>ge([pe("voteAuthorizationType"),$e("currentAuthorityDerivedKeyOwnerPubkey"),Qo("currentAuthorityDerivedKeySeed"),$e("newAuthorized")],t);ht.Buffer.alloc(lV).fill(0);new Be("SysvarC1ock11111111111111111111111111111111");new Be("SysvarEpochSchedu1e111111111111111111111111");new Be("Sysvar1nstructions1111111111111111111111111");new Be("SysvarRecentB1ockHashes11111111111111111111");new Be("SysvarRent111111111111111111111111111111111");new Be("SysvarRewards111111111111111111111111111111");new Be("SysvarS1otHashes111111111111111111111111111");new Be("SysvarS1otHistory11111111111111111111111111");new Be("SysvarStakeHistory1111111111111111111111111");const dV=an("lamportsPerSignature"),pV=ge([pe("version"),pe("state"),$e("authorizedPubkey"),$e("nonce"),ge([dV],"feeCalculator")]);pV.span;const gV=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},mV=t=>e=>{const n=ba(t,e),{encode:r,decode:i}=gV(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return e8(ht.Buffer.from(l))},s.encode=(o,a,l)=>{const u=r8(o,t);return r(u,a,l)},s},ka=mV(8);Object.freeze({Create:{index:0,layout:ge([pe("instruction"),tr("lamports"),tr("space"),$e("programId")])},Assign:{index:1,layout:ge([pe("instruction"),$e("programId")])},Transfer:{index:2,layout:ge([pe("instruction"),ka("lamports")])},CreateWithSeed:{index:3,layout:ge([pe("instruction"),$e("base"),Qo("seed"),tr("lamports"),tr("space"),$e("programId")])},AdvanceNonceAccount:{index:4,layout:ge([pe("instruction")])},WithdrawNonceAccount:{index:5,layout:ge([pe("instruction"),tr("lamports")])},InitializeNonceAccount:{index:6,layout:ge([pe("instruction"),$e("authorized")])},AuthorizeNonceAccount:{index:7,layout:ge([pe("instruction"),$e("authorized")])},Allocate:{index:8,layout:ge([pe("instruction"),tr("space")])},AllocateWithSeed:{index:9,layout:ge([pe("instruction"),$e("base"),Qo("seed"),tr("space"),$e("programId")])},AssignWithSeed:{index:10,layout:ge([pe("instruction"),$e("base"),Qo("seed"),$e("programId")])},TransferWithSeed:{index:11,layout:ge([pe("instruction"),ka("lamports"),Qo("seed"),$e("programId")])},UpgradeNonceAccount:{index:12,layout:ge([pe("instruction")])}});new Be("11111111111111111111111111111111");new Be("BPFLoader2111111111111111111111111111111111");ge([pe("typeIndex"),ka("deactivationSlot"),an("lastExtendedSlot"),Gt("lastExtendedStartIndex"),Gt(),zs($e(),Zs(Gt(),-1),"authority")]);const Zt=Ju(qv(Be),ie(),t=>new Be(t)),JR=Gv([ie(),dt("base64")]),Kv=Ju(qv(ht.Buffer),JR,t=>ht.Buffer.from(t[0],"base64"));function eC(t){return Zn([Z({jsonrpc:dt("2.0"),id:ie(),result:t}),Z({jsonrpc:dt("2.0"),id:ie(),error:Z({code:Zu(),message:ie(),data:ve(h8())})})])}const yV=eC(Zu());function Je(t){return Ju(eC(t),yV,e=>"error"in e?e:{...e,result:Su(e.result,t)})}function Ar(t){return Je(Z({context:Z({slot:H()}),value:t}))}function Id(t){return Z({context:Z({slot:H()}),value:t})}const vV=Z({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()});Je(ue(le(Z({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:ve(le(H()))}))));const _V=ue(Z({slot:H(),prioritizationFee:H()})),wV=Z({total:H(),validator:H(),foundation:H(),epoch:H()}),EV=Z({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:ve(H()),transactionCount:ve(H())}),IV=Z({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:si(),firstNormalEpoch:H(),firstNormalSlot:H()}),SV=DR(ie(),ue(H())),xo=le(Zn([Z({}),ie()])),TV=Z({err:xo}),AV=dt("receivedSignature");Z({"solana-core":ie(),"feature-set":ve(H())});Ar(Z({err:le(Zn([Z({}),ie()])),logs:le(ue(ie())),accounts:ve(le(ue(le(Z({executable:si(),owner:ie(),lamports:H(),data:ue(ie()),rentEpoch:ve(H())}))))),unitsConsumed:ve(H()),returnData:ve(le(Z({programId:ie(),data:Gv([ie(),dt("base64")])})))}));Ar(Z({byIdentity:DR(ie(),ue(H())),range:Z({firstSlot:H(),lastSlot:H()})}));Je(vV);Je(wV);Je(_V);Je(EV);Je(IV);Je(SV);Je(H());Ar(Z({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:ue(Zt)}));const xV=Z({amount:ie(),uiAmount:le(H()),decimals:H(),uiAmountString:ve(ie())});Ar(ue(Z({address:Zt,amount:ie(),uiAmount:le(H()),decimals:H(),uiAmountString:ve(ie())})));Ar(ue(Z({pubkey:Zt,account:Z({executable:si(),owner:Zt,lamports:H(),data:Kv,rentEpoch:H()})})));const a0=Z({program:ie(),parsed:Zu(),space:H()});Ar(ue(Z({pubkey:Zt,account:Z({executable:si(),owner:Zt,lamports:H(),data:a0,rentEpoch:H()})})));Ar(ue(Z({lamports:H(),address:Zt})));const Qv=Z({executable:si(),owner:Zt,lamports:H(),data:Kv,rentEpoch:H()});Z({pubkey:Zt,account:Qv});const RV=Ju(Zn([qv(ht.Buffer),a0]),Zn([JR,a0]),t=>Array.isArray(t)?Su(t,Kv):t),CV=Z({executable:si(),owner:Zt,lamports:H(),data:RV,rentEpoch:H()});Z({pubkey:Zt,account:CV});Z({state:Zn([dt("active"),dt("inactive"),dt("activating"),dt("deactivating")]),active:H(),inactive:H()});Je(ue(Z({signature:ie(),slot:H(),err:xo,memo:le(ie()),blockTime:ve(le(H()))})));Je(ue(Z({signature:ie(),slot:H(),err:xo,memo:le(ie()),blockTime:ve(le(H()))})));Z({subscription:H(),result:Id(Qv)});const bV=Z({pubkey:Zt,account:Qv});Z({subscription:H(),result:Id(bV)});const kV=Z({parent:H(),slot:H(),root:H()});Z({subscription:H(),result:kV});const PV=Zn([Z({type:Zn([dt("firstShredReceived"),dt("completed"),dt("optimisticConfirmation"),dt("root")]),slot:H(),timestamp:H()}),Z({type:dt("createdBank"),parent:H(),slot:H(),timestamp:H()}),Z({type:dt("frozen"),slot:H(),timestamp:H(),stats:Z({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),Z({type:dt("dead"),slot:H(),timestamp:H(),err:ie()})]);Z({subscription:H(),result:PV});Z({subscription:H(),result:Id(Zn([TV,AV]))});Z({subscription:H(),result:H()});Z({pubkey:ie(),gossip:le(ie()),tpu:le(ie()),rpc:le(ie()),version:le(ie())});const bE=Z({votePubkey:ie(),nodePubkey:ie(),activatedStake:H(),epochVoteAccount:si(),epochCredits:ue(Gv([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:le(H())});Je(Z({current:ue(bE),delinquent:ue(bE)}));const NV=Zn([dt("processed"),dt("confirmed"),dt("finalized")]),MV=Z({slot:H(),confirmations:le(H()),err:xo,confirmationStatus:ve(NV)});Ar(ue(le(MV)));Je(H());const tC=Z({accountKey:Zt,writableIndexes:ue(H()),readonlyIndexes:ue(H())}),Yv=Z({signatures:ue(ie()),message:Z({accountKeys:ue(ie()),header:Z({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:ue(Z({accounts:ue(H()),data:ie(),programIdIndex:H()})),recentBlockhash:ie(),addressTableLookups:ve(ue(tC))})}),nC=Z({pubkey:Zt,signer:si(),writable:si(),source:ve(Zn([dt("transaction"),dt("lookupTable")]))}),rC=Z({accountKeys:ue(nC),signatures:ue(ie())}),iC=Z({parsed:Zu(),program:ie(),programId:Zt}),sC=Z({accounts:ue(Zt),data:ie(),programId:Zt}),DV=Zn([sC,iC]),OV=Zn([Z({parsed:Zu(),program:ie(),programId:ie()}),Z({accounts:ue(ie()),data:ie(),programId:ie()})]),oC=Ju(DV,OV,t=>"accounts"in t?Su(t,sC):Su(t,iC)),aC=Z({signatures:ue(ie()),message:Z({accountKeys:ue(nC),instructions:ue(oC),recentBlockhash:ie(),addressTableLookups:ve(le(ue(tC)))})}),cf=Z({accountIndex:H(),mint:ie(),owner:ve(ie()),uiTokenAmount:xV}),lC=Z({writable:ue(Zt),readonly:ue(Zt)}),Sd=Z({err:xo,fee:H(),innerInstructions:ve(le(ue(Z({index:H(),instructions:ue(Z({accounts:ue(H()),data:ie(),programIdIndex:H()}))})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:ve(le(ue(ie()))),preTokenBalances:ve(le(ue(cf))),postTokenBalances:ve(le(ue(cf))),loadedAddresses:ve(lC),computeUnitsConsumed:ve(H())}),Xv=Z({err:xo,fee:H(),innerInstructions:ve(le(ue(Z({index:H(),instructions:ue(oC)})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:ve(le(ue(ie()))),preTokenBalances:ve(le(ue(cf))),postTokenBalances:ve(le(ue(cf))),loadedAddresses:ve(lC),computeUnitsConsumed:ve(H())}),Qa=Zn([dt(0),dt("legacy")]),Ro=Z({pubkey:ie(),lamports:H(),postBalance:le(H()),rewardType:le(ie()),commission:ve(le(H()))});Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:Yv,meta:le(Sd),version:ve(Qa)})),rewards:ve(ue(Ro)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:ve(ue(Ro)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:rC,meta:le(Sd),version:ve(Qa)})),rewards:ve(ue(Ro)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:aC,meta:le(Xv),version:ve(Qa)})),rewards:ve(ue(Ro)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:rC,meta:le(Xv),version:ve(Qa)})),rewards:ve(ue(Ro)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:ve(ue(Ro)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:Yv,meta:le(Sd)})),rewards:ve(ue(Ro)),blockTime:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),signatures:ue(ie()),blockTime:le(H())})));Je(le(Z({slot:H(),meta:Sd,blockTime:ve(le(H())),transaction:Yv,version:ve(Qa)})));Je(le(Z({slot:H(),transaction:aC,meta:le(Xv),blockTime:ve(le(H())),version:ve(Qa)})));Ar(Z({blockhash:ie(),feeCalculator:Z({lamportsPerSignature:H()})}));Ar(Z({blockhash:ie(),lastValidBlockHeight:H()}));Ar(si());const LV=Z({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()});Je(ue(LV));Ar(le(Z({feeCalculator:Z({lamportsPerSignature:H()})})));Je(ie());Je(ie());const BV=Z({err:xo,logs:ue(ie()),signature:ie()});Z({result:Id(BV),subscription:H()});Object.freeze({CreateLookupTable:{index:0,layout:ge([pe("instruction"),ka("recentSlot"),Gt("bumpSeed")])},FreezeLookupTable:{index:1,layout:ge([pe("instruction")])},ExtendLookupTable:{index:2,layout:ge([pe("instruction"),ka(),zs($e(),Zs(pe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ge([pe("instruction")])},CloseLookupTable:{index:4,layout:ge([pe("instruction")])}});new Be("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ge([Gt("instruction"),pe("units"),pe("additionalFee")])},RequestHeapFrame:{index:1,layout:ge([Gt("instruction"),pe("bytes")])},SetComputeUnitLimit:{index:2,layout:ge([Gt("instruction"),pe("units")])},SetComputeUnitPrice:{index:3,layout:ge([Gt("instruction"),ka("microLamports")])}});new Be("ComputeBudget111111111111111111111111111111");ge([Gt("numSignatures"),Gt("padding"),dr("signatureOffset"),dr("signatureInstructionIndex"),dr("publicKeyOffset"),dr("publicKeyInstructionIndex"),dr("messageDataOffset"),dr("messageDataSize"),dr("messageInstructionIndex")]);new Be("Ed25519SigVerify111111111111111111111111111");Wv.utils.isValidPrivateKey;Wv.getPublicKey;ge([Gt("numSignatures"),dr("signatureOffset"),Gt("signatureInstructionIndex"),dr("ethAddressOffset"),Gt("ethAddressInstructionIndex"),dr("messageDataOffset"),dr("messageDataSize"),Gt("messageInstructionIndex"),ba(20,"ethAddress"),ba(64,"signature"),Gt("recoveryId")]);new Be("KeccakSecp256k11111111111111111111111111111");var uC;new Be("StakeConfig11111111111111111111111111111111");class cC{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}uC=cC;cC.default=new uC(0,0,Be.default);Object.freeze({Initialize:{index:0,layout:ge([pe("instruction"),uV(),cV()])},Authorize:{index:1,layout:ge([pe("instruction"),$e("newAuthorized"),pe("stakeAuthorizationType")])},Delegate:{index:2,layout:ge([pe("instruction")])},Split:{index:3,layout:ge([pe("instruction"),tr("lamports")])},Withdraw:{index:4,layout:ge([pe("instruction"),tr("lamports")])},Deactivate:{index:5,layout:ge([pe("instruction")])},Merge:{index:7,layout:ge([pe("instruction")])},AuthorizeWithSeed:{index:8,layout:ge([pe("instruction"),$e("newAuthorized"),pe("stakeAuthorizationType"),Qo("authoritySeed"),$e("authorityOwner")])}});new Be("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ge([pe("instruction"),hV()])},Authorize:{index:1,layout:ge([pe("instruction"),$e("newAuthorized"),pe("voteAuthorizationType")])},Withdraw:{index:3,layout:ge([pe("instruction"),tr("lamports")])},AuthorizeWithSeed:{index:10,layout:ge([pe("instruction"),fV()])}});new Be("Vote111111111111111111111111111111111111111");new Be("Va1idator1nfo111111111111111111111111111111");Z({name:ie(),website:ve(ie()),details:ve(ie()),keybaseUsername:ve(ie())});new Be("Vote111111111111111111111111111111111111111");ge([$e("nodePubkey"),$e("authorizedWithdrawer"),Gt("commission"),an(),zs(ge([an("slot"),pe("confirmationCount")]),Zs(pe(),-8),"votes"),Gt("rootSlotValid"),an("rootSlot"),an(),zs(ge([an("epoch"),$e("authorizedVoter")]),Zs(pe(),-8),"authorizedVoters"),ge([zs(ge([$e("authorizedPubkey"),an("epochOfLastAuthorizedSwitch"),an("targetEpoch")]),32,"buf"),an("idx"),Gt("isEmpty")],"priorVoters"),an(),zs(ge([an("epoch"),an("credits"),an("prevCredits")]),Zs(pe(),-8),"epochCredits"),ge([an("slot"),an("timestamp")],"lastTimestamp")]);const UV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},hC=_o(UV),ul=za(hC),FV=U2(hC),VV=t=>{re.useEffect(()=>{HB({Ripple:wv})},[]);const[e,n]=re.useState(t.rate);re.useState(null),re.useEffect(()=>{$("#card_price").text(e)},[$("#card_sol").text()]);const r=vr(ul,"Course",t.url);(async()=>{const l=await Ul(r);if(l.exists()){$("#card_title").text(wl(l.data().title)),$("#card_des").text(l.data().des),$("#card_sub").text(wl(l.data().sub)),$("#card_level").text(wl(l.data().eduLvl)),$("#card_lang").text(wl(l.data().lang)),$("#card_sol").text(l.data().sol),$("#card_uploadTime").text(new Date(l.data().uploadTime.seconds*1e3).toLocaleString()),l.data().mode==="both"?$("#card_mode").text("Video and notes"):l.data().mode==="video"?$("#card_mode").text("Video"):$("#card_mode").text("Notes");const u=()=>{let C="";for(let N in l.data().tag)C+=`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${l.data().tag[N]}</span>`;$("#card_tag").html(C)};u(),$("#card_tag").html(u);const c=vr(ul,"Users",l.data().userUID);(async()=>{const C=await Ul(c);C.exists()?$("#card_tutor").text(C.data().displayName):console.log("No such document for Users with UID of",C.data().userUID)})();const v=nh(FV,t.url+"/thumbnail.jpg");ZU(v).then(C=>{$("#card_img").attr("src",C)});const x=vr(ul,"Users",t.state.user.uid);(async()=>{const C=await Ul(x);C.exists()?(C.data().wishlist&&(C.data().wishlist.indexOf(t.url)>=0?$("#b_wishlist").text("- REMOVE FROM WISHLIST"):$("#b_wishlist").text("+ ADD TO WISHLIST")),C.data().enrolled&&(C.data().enrolled.indexOf(t.url)>=0?($("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0)):$("#b_enroll").text("ENROLL NOW"))):console.log("No such document for User with UID",t.state.user.uid)})()}else console.log("No such document for Course with link",t.url)})();const s=()=>{const l=vr(ul,"Users",t.state.user.uid);(async()=>{$("#b_wishlist").text()==="+ ADD TO WISHLIST"?(await Fl(l,{wishlist:$w(t.url)}),$("#b_wishlist").text("- REMOVE FROM WISHLIST"),alert("Added to wishlist!")):(await Fl(l,{wishlist:UL(t.url)}),$("#b_wishlist").text("+ ADD TO WISHLIST"),alert("Removed from wishlist!"))})()},o=async(l,u,c)=>{if(!u&&!c){console.log("Wallet address of recipent or amount to transfer not found!");return}},a=()=>{if(t.state.role==="special needy / refugee / disabilities"){console.log("Enrolling");const l=vr(ul,"Users",t.state.user.uid);(async()=>{await Fl(l,{enrolled:$w(t.url)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0)})(),alert("Enrolled with special discount #FreeHelpEdu")}else console.log(t.state.walletAddress),o(t.state.walletAddress,"NraaJwoeNHCu5Wu1iRm1cfvx7NLKgySnTv76dU5T7oH",.02)};return U.jsxs(U.Fragment,{children:[U.jsx("h1",{className:"mb-2",children:"Course"}),U.jsxs("p",{className:"mb-6 text-base text-neutral-500 dark:text-neutral-300",children:["ID: ",t.url]}),U.jsxs("div",{className:"flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 max-w-6xl md:flex-row",children:[U.jsx("img",{className:"w-1/2 rounded-t-lg object-cover md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course thumbnail",id:"card_img"}),U.jsxs("div",{className:"flex flex-col justify-start max-w-3xl p-6",children:[U.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:"card_title"}),U.jsxs("p",{className:"mb-4 text-sm text-warning-600 dark:text-warning-400",children:["* ",U.jsx("span",{id:"card_mode"})," included."]}),U.jsx("p",{className:"mb-2 text-base text-neutral-600 dark:text-neutral-200",id:"card_des"}),U.jsx("div",{className:"mb-4 gap-4",id:"card_tag"}),U.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-xs mb-4",children:[U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:U.jsx("b",{children:"Subject"})}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_sub"}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:U.jsx("b",{children:"Tutor"})}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_tutor"}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:U.jsx("b",{children:"Level"})}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_level"}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:U.jsx("b",{children:"Language"})}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_lang"}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:U.jsx("b",{children:"Price"})}),U.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[U.jsx("span",{id:"card_sol",children:"0.00"})," SOL / ",U.jsx("span",{id:"card_price",children:U.jsx(u2,{sol:$("#card_sol").text()})}),' USD"']}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:U.jsx("b",{children:"Enrollment"})}),U.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_enroll",children:"0"})]}),U.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-300 mb-4",children:["Uploaded on ",U.jsx("span",{id:"card_uploadTime"})]}),U.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[U.jsx("button",{type:"button",onClick:a,className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] disabled:opacity-70","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_enroll",children:"ENROLL NOW"}),U.jsx("button",{onClick:s,type:"button",className:"inline-block rounded bg-primary-100 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-primary-accent-100 focus:bg-primary-accent-100 focus:outline-none focus:ring-0 active:bg-primary-accent-200","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_wishlist",children:"+ ADD TO WISHLIST"})]})]})]})]})},$V=()=>U.jsx("h1",{children:"My Wishlist"}),jV=t=>e=>{const n=bf();return U.jsx(t,{...e,navigate:n})},zV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},fC=_o(zV),HV=za(fC),_g=U2(fC);class qV extends re.Component{constructor(n){super(n);Xe(this,"select",n=>{$(".button_choice").attr("class","button_choice"),$(`#b_${n}`).attr("class","button_choice text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),this.setState({choice:n}),n==="both"?($("#div_video").css("display","inherit"),$("#div_notes").css("display","inherit")):($(".div_upload").css("display","none"),$(`#div_${n}`).css("display","inherit"))});Xe(this,"handleKeyPress",n=>{n.preventDefault(),n.key=="Enter"&&this.uploadConfirm()});Xe(this,"handleTagKeyPress",n=>{n.key=="Enter"&&(this.setState({tag:this.state.tag.add($("#t_tag").val())}),$("#t_tag").val(""))});Xe(this,"removeTag",n=>{this.state.tag.delete(n),this.setState({tag:this.state.tag})});Xe(this,"changeSOL",()=>{this.setState({sol:$("#t_sol").val()})});Xe(this,"uploadConfirm",async()=>{const{navigate:n}=this.props;if($("#t_title").val()!==""&&$("#t_des").val()!==""&&$("#c_level").val()!==""&&$("#t_sub").val()!==""&&$("#t_lang").val()!==""&&$("#t_sol").val()!=="")if($("#div_tag").html()!=="")if(this.state.choice)if(this.state.thumbnailUpload&&(this.state.choice==="video"&&this.state.videoUpload||this.state.choice==="notes"&&this.state.notesUpload||this.state.choice==="both"&&this.state.videoUpload&&this.state.notesUpload)){if(confirm(`Make sure all information are correct. You cannot edit any part anymore after material is uploaded.

Do not reload the page before uploading process is not done.`)){$("#main").css("opacity",.5),$("#main").css("pointerEvents","none"),$("#main").attr("disabled",!0);const r=await OL(_L(HV,"Course"),{title:$("#t_title").val(),des:$("#t_des").val().split(`
`),eduLvl:$("#c_level").val(),sub:$("#t_sub").val(),lang:$("#t_lang").val(),sol:parseFloat($("#t_sol").val()),tag:[...this.state.tag],userUID:this.state.user.uid,mode:this.state.choice,uploadTime:BL(),view:0});console.log("Document written with ID: ",r.id);let i=nh(_g,`${r.id}/thumbnail.jpg`);await ll(i,this.state.thumbnailUpload).then(()=>{console.log("Uploaded thumbnail file!")});let s=nh(_g,`${r.id}/video.mp4`),o=nh(_g,`${r.id}/notes.pdf`);switch(this.state.choice){case"video":await ll(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")});break;case"notes":await ll(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break;case"both":await ll(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")}),await ll(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break}$("#main").css("opacity",1),$("#main").css("pointerEvents","inherit"),$("#main").attr("disabled",!1),await alert("Upload success!"),n("/freeflow-edu/")}}else alert("Please upload required image / video / notes.");else alert("Please select either to upload video / notes / both.");else alert("Please add some tags! ");else alert("Please fill in all information required.")});this.state={user:n.state.user,credential:n.state.credential,choice:null,tag:new Set,thumbnailUpload:null,videoUpload:null,notesUpload:null,sol:1}}render(){console.log(this.state);const n=this.state.tag.size===0?[]:[...this.state.tag].map((r,i)=>U.jsxs("span",{id:"tag_"+r,children:[r,U.jsx("button",{onClick:()=>this.removeTag(r),children:"x"})]},r));return U.jsxs("section",{id:"main",children:[U.jsx("h1",{children:"Upload"}),U.jsxs("div",{className:"div_general",children:[U.jsxs("label",{children:[" Course Title:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_tile",id:"t_title",placeholder:"Trigonometry",required:!0})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Course Description:",U.jsx("textarea",{name:"t_des",id:"t_des",placeholder:"Write something here...",required:!0})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Level:",U.jsxs("select",{name:"",id:"c_level",required:!0,children:[U.jsx("option",{value:"",children:"-- Please select --"}),U.jsx("option",{value:"primary",children:"Primary School"}),U.jsx("option",{value:"secondary",children:"Secondary School"}),U.jsx("option",{value:"undergraduate",children:"Undergraduate"}),U.jsx("option",{value:"postgraduate",children:"Postgraduate"}),U.jsx("option",{value:"workplace",children:"Workplace"})]})]}),U.jsxs("label",{children:[" Subject:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_sub",id:"t_sub",placeholder:"Mathematics",required:!0})]}),U.jsxs("label",{children:[" Language:",U.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_lang",id:"t_lang",placeholder:"English",required:!0})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Sell for $:",U.jsx("input",{onKeyUp:this.handleKeyPress,onChange:this.changeSOL,type:"number",name:"t_sol",id:"t_sol",placeholder:"0.00",required:!0})," Solana",U.jsx("br",{}),this.state.sol," SOL = ",U.jsx(u2,{sol:this.state.sol})," USD"]}),U.jsx("br",{}),U.jsxs("label",{children:[" Tag:",U.jsx("input",{onKeyUp:this.handleTagKeyPress,type:"text",name:"t_tag",id:"t_tag",placeholder:"Write some keywords here..."})]}),U.jsx("div",{id:"div_tag",children:n}),U.jsx("br",{}),U.jsxs("label",{children:[" Author:",U.jsx("input",{type:"text",name:"t_author_uid",id:"t_author_uid",value:this.state.user.email,disabled:!0})]}),U.jsx("br",{}),U.jsxs("label",{children:[" Thumbnail:",U.jsx("input",{type:"file",onChange:r=>this.setState({thumbnailUpload:r.target.files[0]}),name:"vid",id:"f_thumbnail",accept:".jpg"})]})]}),U.jsx("br",{}),U.jsx("hr",{}),U.jsx("br",{}),U.jsxs("div",{children:[U.jsx("button",{className:"button_choice",id:"b_video",onClick:()=>this.select("video"),children:"Video"}),U.jsx("button",{className:"button_choice",id:"b_notes",onClick:()=>this.select("notes"),children:"Notes"}),U.jsx("button",{className:"button_choice",id:"b_both",onClick:()=>this.select("both"),children:"Both"})]}),U.jsxs("div",{id:"div_video",className:"div_upload",style:{display:"none"},children:[U.jsx("h1",{children:"Video"}),U.jsxs("label",{children:["Upload Video:",U.jsx("input",{type:"file",onChange:r=>this.setState({videoUpload:r.target.files[0]}),name:"vid",id:"f_video",accept:".mp4"})]}),U.jsx("br",{})]}),U.jsxs("div",{id:"div_notes",className:"div_upload",style:{display:"none"},children:[U.jsx("h1",{children:"Notes"}),U.jsxs("label",{children:["Upload Notes:",U.jsx("input",{type:"file",onChange:r=>this.setState({notesUpload:r.target.files[0]}),name:"vid",id:"f_notes",accept:".pdf"})]}),U.jsx("br",{})]}),U.jsx("br",{}),U.jsx("hr",{}),U.jsx("br",{}),U.jsx("button",{onClick:this.uploadConfirm,children:"Upload"})]})}}const GV=jV(qV);class kE extends re.Component{constructor(n){super(n);Xe(this,"auth",Ks());Xe(this,"logout",()=>{m4(this.auth).then(n=>{this.setState({user:null}),this.props.updateUserState(null)}).catch(n=>{console.log(n)}),localStorage.clear()});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return console.log(this.state),this.state?U.jsxs(U.Fragment,{children:[U.jsx("h3",{children:"Are you sure you want to sign out? "}),U.jsx("p",{children:"This action is undone and you will be required to login again."}),U.jsx("button",{onClick:this.logout,children:"Sign out"}),U.jsx("br",{}),U.jsx(io,{to:"/freeflow-edu/",children:"Back Home"})]}):U.jsx(Pl,{to:"/freeflow-edu/"})}}const PE=({setUser:t})=>U.jsxs(U.Fragment,{children:[U.jsx("h1",{children:"404: Page Not Found"}),U.jsx("p",{children:"The specified file was not found on this website. Please check the URL for mistakes and try again."}),U.jsx(io,{to:"/freeflow-edu/",children:"Back Home"})]});const WV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},KV=_o(WV),wg=za(KV);class QV extends re.Component{constructor(n){super(n);Xe(this,"auth",Ks());Xe(this,"updateUserState",n=>{this.setState({user:n})});Xe(this,"updateRoleState",n=>{this.setState({role:n}),console.log(this.state)});Xe(this,"checkIfWalletIsConnected",async()=>{var n;if((n=window==null?void 0:window.solana)!=null&&n.isPhantom){console.log("Phantom wallet found!");const r=await window.solana.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString()});const i=vr(wg,"Users",this.state.user.uid);return await Fl(i,{walletAddress:r.publicKey.toString()}).then(()=>{}),!0}else return console.log("Solana object not found! Get a Phantom Wallet 👻"),!1});Xe(this,"connectWallet",async()=>{const{solana:n}=window;if(n){const r=await n.connect().catch(()=>{alert("Fail to connect Wallet. Have you login to your Phantom wallet?")});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString()});const i=vr(wg,"Users",this.state.user.uid);await Fl(i,{walletAddress:r.publicKey.toString()}).then(()=>{})}else alert("You do not have a Phantom wallet. Please install it from your web browser extension store.")});Xe(this,"disconnectWallet",async()=>{solana&&(await solana.disconnect(),console.log("Disconnected with Public Key:",this.state.walletAddress),alert("Wallet address"+this.state.walletAddress+" is disconnected from your FreeFlow Edu account now."),this.setState({walletAddress:null}),vr(wg,"Users",this.state.user.uid))});Xe(this,"renderNotConnectedContainer",()=>U.jsxs("button",{className:"cta-button connect-wallet-button",onClick:this.state.walletAddress?this.disconnectWallet:this.connectWallet,children:[U.jsx("img",{src:"https://3632261023-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MVOiF6Zqit57q_hxJYp%2Ficon%2FU7kNZ4ygz4QW1rUwOuTT%2FWhite%20Ghost_docs_nu.svg?alt=media&token=447b91f6-db6d-4791-902d-35d75c19c3d1",alt:"Phantom",width:"64px"}),this.state.walletAddress?"Disconnect from Wallet "+this.state.walletAddress:"Connect to Wallet"]}));this.state={user:JSON.parse(localStorage.getItem("user")),walletAddress:null,role:null}}componentDidMount(){this.state.user!==null&&JSON.parse(localStorage.getItem("user"))&&this.setState({user:JSON.parse(localStorage.getItem("user"))}),this.checkIfWalletIsConnected()}render(){return console.log(this.state),this.state.user||JSON.parse(localStorage.getItem("user"))?U.jsx(E_,{children:U.jsx(__,{children:U.jsxs(An,{exact:!0,path:"/freeflow-edu/",element:U.jsx(zL,{state:this.state,renderNotConnectedContainer:this.renderNotConnectedContainer,updateRoleState:this.updateRoleState}),children:[U.jsx(An,{index:!0,active:!0,element:U.jsx(nB,{state:this.state})}),U.jsx(An,{path:"profile",element:U.jsx(rB,{})}),U.jsx(An,{path:"sign-out",element:U.jsx(kE,{state:this.state,updateUserState:this.updateUserState})}),U.jsx(An,{path:"register",element:U.jsx(zw,{state:this.state,updateUserState:this.updateUserState})}),U.jsx(An,{path:"course",element:U.jsx(VV,{url:"SwCgPZXZQN32PHS7wfOI",state:this.state})}),U.jsx(An,{path:"wishlist",element:U.jsx($V,{state:this.state})}),U.jsx(An,{path:"upload",element:U.jsx(GV,{state:this.state})}),U.jsx(An,{path:"first-time-user",element:U.jsx(ZL,{state:this.state})}),U.jsx(An,{path:"*",element:U.jsx(PE,{})})]})})}):(console.log("Session has expired. Login again."),U.jsx(E_,{children:U.jsx(__,{children:U.jsxs(An,{exact:!0,path:"/freeflow-edu/",element:U.jsx(FL,{}),children:[U.jsx(An,{index:!0,active:!0,element:U.jsx(qL,{state:this.state,updateUserState:this.updateUserState})}),U.jsx(An,{path:"register",element:U.jsx(zw,{state:this.state,updateUserState:this.updateUserState})}),U.jsx(An,{path:"sign-out",element:U.jsx(kE,{})}),U.jsx(An,{path:"*",element:U.jsx(PE,{})})]})})}))}}Eg.createRoot(document.getElementById("root")).render(U.jsx($E.StrictMode,{children:U.jsx(QV,{})}));
