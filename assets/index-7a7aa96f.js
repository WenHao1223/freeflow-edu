var PR=Object.defineProperty;var NR=(t,e,n)=>e in t?PR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xe=(t,e,n)=>(NR(t,typeof e!="symbol"?e+"":e,n),n);function MR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var jE={exports:{}},yf={},zE={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),DR=Symbol.for("react.portal"),OR=Symbol.for("react.fragment"),LR=Symbol.for("react.strict_mode"),UR=Symbol.for("react.profiler"),BR=Symbol.for("react.provider"),FR=Symbol.for("react.context"),VR=Symbol.for("react.forward_ref"),$R=Symbol.for("react.suspense"),jR=Symbol.for("react.memo"),zR=Symbol.for("react.lazy"),m1=Symbol.iterator;function HR(t){return t===null||typeof t!="object"?null:(t=m1&&t[m1]||t["@@iterator"],typeof t=="function"?t:null)}var HE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qE=Object.assign,GE={};function La(t,e,n){this.props=t,this.context=e,this.refs=GE,this.updater=n||HE}La.prototype.isReactComponent={};La.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};La.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WE(){}WE.prototype=La.prototype;function w0(t,e,n){this.props=t,this.context=e,this.refs=GE,this.updater=n||HE}var E0=w0.prototype=new WE;E0.constructor=w0;qE(E0,La.prototype);E0.isPureReactComponent=!0;var y1=Array.isArray,KE=Object.prototype.hasOwnProperty,x0={current:null},QE={key:!0,ref:!0,__self:!0,__source:!0};function YE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KE.call(e,r)&&!QE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cu,type:t,key:s,ref:o,props:i,_owner:x0.current}}function qR(t,e){return{$$typeof:Cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cu}function GR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var v1=/\/+/g;function Yd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GR(""+t.key):e.toString(36)}function $c(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cu:case DR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yd(o,0):r,y1(i)?(n="",t!=null&&(n=t.replace(v1,"$&/")+"/"),$c(i,e,n,"",function(u){return u})):i!=null&&(I0(i)&&(i=qR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(v1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",y1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yd(s,a);o+=$c(s,e,n,l,i)}else if(l=HR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yd(s,a++),o+=$c(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oc(t,e,n){if(t==null)return t;var r=[],i=0;return $c(t,r,"","",function(s){return e.call(n,s,i++)}),r}function WR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},jc={transition:null},KR={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:jc,ReactCurrentOwner:x0};Me.Children={map:oc,forEach:function(t,e,n){oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oc(t,function(){e++}),e},toArray:function(t){return oc(t,function(e){return e})||[]},only:function(t){if(!I0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=La;Me.Fragment=OR;Me.Profiler=UR;Me.PureComponent=w0;Me.StrictMode=LR;Me.Suspense=$R;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KR;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=x0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KE.call(e,l)&&!QE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Cu,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:FR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BR,_context:t},t.Consumer=t};Me.createElement=YE;Me.createFactory=function(t){var e=YE.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:VR,render:t}};Me.isValidElement=I0;Me.lazy=function(t){return{$$typeof:zR,_payload:{_status:-1,_result:t},_init:WR}};Me.memo=function(t,e){return{$$typeof:jR,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=jc.transition;jc.transition={};try{t()}finally{jc.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return jn.current.useCallback(t,e)};Me.useContext=function(t){return jn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return jn.current.useEffect(t,e)};Me.useId=function(){return jn.current.useId()};Me.useImperativeHandle=function(t,e,n){return jn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return jn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return jn.current.useReducer(t,e,n)};Me.useRef=function(t){return jn.current.useRef(t)};Me.useState=function(t){return jn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return jn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return jn.current.useTransition()};Me.version="18.2.0";zE.exports=Me;var te=zE.exports;const XE=v0(te),QR=MR({__proto__:null,default:XE},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=te,XR=Symbol.for("react.element"),ZR=Symbol.for("react.fragment"),JR=Object.prototype.hasOwnProperty,eC=YR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tC={key:!0,ref:!0,__self:!0,__source:!0};function ZE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)JR.call(e,r)&&!tC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XR,type:t,key:s,ref:o,props:i,_owner:eC.current}}yf.Fragment=ZR;yf.jsx=ZE;yf.jsxs=ZE;jE.exports=yf;var O=jE.exports,Pg={},JE={exports:{}},ur={},ex={exports:{}},tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,w){var b=I.length;I.push(w);e:for(;0<b;){var _=b-1>>>1,f=I[_];if(0<i(f,w))I[_]=w,I[b]=f,b=_;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var w=I[0],b=I.pop();if(b!==w){I[0]=b;e:for(var _=0,f=I.length,k=f>>>1;_<k;){var G=2*(_+1)-1,K=I[G],Q=G+1,oe=I[Q];if(0>i(K,b))Q<f&&0>i(oe,K)?(I[_]=oe,I[Q]=b,_=Q):(I[_]=K,I[G]=b,_=G);else if(Q<f&&0>i(oe,b))I[_]=oe,I[Q]=b,_=Q;else break e}}return w}function i(I,w){var b=I.sortIndex-w.sortIndex;return b!==0?b:I.id-w.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,y=3,x=!1,R=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var w=n(u);w!==null;){if(w.callback===null)r(u);else if(w.startTime<=I)r(u),w.sortIndex=w.expirationTime,e(l,w);else break;w=n(u)}}function L(I){if(C=!1,v(I),!R)if(n(l)!==null)R=!0,A(N);else{var w=n(u);w!==null&&M(L,w.startTime-I)}}function N(I,w){R=!1,C&&(C=!1,S(V),V=-1),x=!0;var b=y;try{for(v(w),d=n(l);d!==null&&(!(d.expirationTime>w)||I&&!re());){var _=d.callback;if(typeof _=="function"){d.callback=null,y=d.priorityLevel;var f=_(d.expirationTime<=w);w=t.unstable_now(),typeof f=="function"?d.callback=f:d===n(l)&&r(l),v(w)}else r(l);d=n(l)}if(d!==null)var k=!0;else{var G=n(u);G!==null&&M(L,G.startTime-w),k=!1}return k}finally{d=null,y=b,x=!1}}var B=!1,F=null,V=-1,Y=5,X=-1;function re(){return!(t.unstable_now()-X<Y)}function ye(){if(F!==null){var I=t.unstable_now();X=I;var w=!0;try{w=F(!0,I)}finally{w?U():(B=!1,F=null)}}else B=!1}var U;if(typeof E=="function")U=function(){E(ye)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,m=h.port2;h.port1.onmessage=ye,U=function(){m.postMessage(null)}}else U=function(){P(ye,0)};function A(I){F=I,B||(B=!0,U())}function M(I,w){V=P(function(){I(t.unstable_now())},w)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){R||x||(R=!0,A(N))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(y){case 1:case 2:case 3:var w=3;break;default:w=y}var b=y;y=w;try{return I()}finally{y=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,w){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var b=y;y=I;try{return w()}finally{y=b}},t.unstable_scheduleCallback=function(I,w,b){var _=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?_+b:_):b=_,I){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=b+f,I={id:c++,callback:w,priorityLevel:I,startTime:b,expirationTime:f,sortIndex:-1},b>_?(I.sortIndex=b,e(u,I),n(l)===null&&I===n(u)&&(C?(S(V),V=-1):C=!0,M(L,b-_))):(I.sortIndex=f,e(l,I),R||x||(R=!0,A(N))),I},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(I){var w=y;return function(){var b=y;y=w;try{return I.apply(this,arguments)}finally{y=b}}}})(tx);ex.exports=tx;var nC=ex.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx=te,ar=nC;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rx=new Set,ql={};function vo(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(ql[t]=e,t=0;t<e.length;t++)rx.add(e[t])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ng=Object.prototype.hasOwnProperty,rC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_1={},w1={};function iC(t){return Ng.call(w1,t)?!0:Ng.call(_1,t)?!1:rC.test(t)?w1[t]=!0:(_1[t]=!0,!1)}function sC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oC(t,e,n,r){if(e===null||typeof e>"u"||sC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var S0=/[\-:]([a-z])/g;function T0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S0,T0);mn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S0,T0);mn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S0,T0);mn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});mn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function A0(t,e,n,r){var i=mn.hasOwnProperty(e)?mn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oC(e,n,i,r)&&(n=null),r||i===null?iC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=nx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ac=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),ix=Symbol.for("react.provider"),sx=Symbol.for("react.context"),R0=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Og=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),ox=Symbol.for("react.offscreen"),E1=Symbol.iterator;function tl(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Xd;function gl(t){if(Xd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xd=e&&e[1]||""}return`
`+Xd+t}var Zd=!1;function Jd(t,e){if(!t||Zd)return"";Zd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gl(t):""}function aC(t){switch(t.tag){case 5:return gl(t.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return t=Jd(t.type,!1),t;case 11:return t=Jd(t.type.render,!1),t;case 1:return t=Jd(t.type,!0),t;default:return""}}function Lg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vo:return"Fragment";case Fo:return"Portal";case Mg:return"Profiler";case b0:return"StrictMode";case Dg:return"Suspense";case Og:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sx:return(t.displayName||"Context")+".Consumer";case ix:return(t._context.displayName||"Context")+".Provider";case R0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C0:return e=t.displayName||null,e!==null?e:Lg(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return Lg(t(e))}catch{}}return null}function lC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lg(e);case 8:return e===b0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ax(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uC(t){var e=ax(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lc(t){t._valueTracker||(t._valueTracker=uC(t))}function lx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ax(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ug(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function x1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ux(t,e){e=e.checked,e!=null&&A0(t,"checked",e,!1)}function Bg(t,e){ux(t,e);var n=_s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fg(t,e.type,_s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fg(t,e,n){(e!=="number"||uh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ml=Array.isArray;function ea(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_s(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(ml(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_s(n)}}function cx(t,e){var n=_s(e.value),r=_s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $g(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uc,fx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cC=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(t){cC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bl[e]=bl[t]})});function dx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bl.hasOwnProperty(t)&&bl[t]?(""+e).trim():e+"px"}function px(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hC=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jg(t,e){if(e){if(hC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function zg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=null;function k0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qg=null,ta=null,na=null;function A1(t){if(t=Nu(t)){if(typeof qg!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=xf(e),qg(t.stateNode,t.type,e))}}function gx(t){ta?na?na.push(t):na=[t]:ta=t}function mx(){if(ta){var t=ta,e=na;if(na=ta=null,A1(t),e)for(t=0;t<e.length;t++)A1(e[t])}}function yx(t,e){return t(e)}function vx(){}var ep=!1;function _x(t,e,n){if(ep)return t(e,n);ep=!0;try{return yx(t,e,n)}finally{ep=!1,(ta!==null||na!==null)&&(vx(),mx())}}function Wl(t,e){var n=t.stateNode;if(n===null)return null;var r=xf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Gg=!1;if(Ri)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){Gg=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Gg=!1}function fC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Rl=!1,ch=null,hh=!1,Wg=null,dC={onError:function(t){Rl=!0,ch=t}};function pC(t,e,n,r,i,s,o,a,l){Rl=!1,ch=null,fC.apply(dC,arguments)}function gC(t,e,n,r,i,s,o,a,l){if(pC.apply(this,arguments),Rl){if(Rl){var u=ch;Rl=!1,ch=null}else throw Error(ne(198));hh||(hh=!0,Wg=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b1(t){if(_o(t)!==t)throw Error(ne(188))}function mC(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b1(i),t;if(s===r)return b1(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function Ex(t){return t=mC(t),t!==null?xx(t):null}function xx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xx(t);if(e!==null)return e;t=t.sibling}return null}var Ix=ar.unstable_scheduleCallback,R1=ar.unstable_cancelCallback,yC=ar.unstable_shouldYield,vC=ar.unstable_requestPaint,St=ar.unstable_now,_C=ar.unstable_getCurrentPriorityLevel,P0=ar.unstable_ImmediatePriority,Sx=ar.unstable_UserBlockingPriority,fh=ar.unstable_NormalPriority,wC=ar.unstable_LowPriority,Tx=ar.unstable_IdlePriority,vf=null,Yr=null;function EC(t){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:SC,xC=Math.log,IC=Math.LN2;function SC(t){return t>>>=0,t===0?32:31-(xC(t)/IC|0)|0}var cc=64,hc=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yl(a):(s&=o,s!==0&&(r=yl(s)))}else o=n&~i,o!==0?r=yl(o):s!==0&&(r=yl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function TC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=TC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ax(){var t=cc;return cc<<=1,!(cc&4194240)&&(cc=64),t}function tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ku(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function bC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function N0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function bx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rx,M0,Cx,kx,Px,Qg=!1,fc=[],os=null,as=null,ls=null,Kl=new Map,Ql=new Map,Ki=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C1(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function rl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nu(e),e!==null&&M0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CC(t,e,n,r,i){switch(e){case"focusin":return os=rl(os,t,e,n,r,i),!0;case"dragenter":return as=rl(as,t,e,n,r,i),!0;case"mouseover":return ls=rl(ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kl.set(s,rl(Kl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ql.set(s,rl(Ql.get(s)||null,t,e,n,r,i)),!0}return!1}function Nx(t){var e=Fs(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=wx(n),e!==null){t.blockedOn=e,Px(t.priority,function(){Cx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hg=r,n.target.dispatchEvent(r),Hg=null}else return e=Nu(n),e!==null&&M0(e),t.blockedOn=n,!1;e.shift()}return!0}function k1(t,e,n){zc(t)&&n.delete(e)}function kC(){Qg=!1,os!==null&&zc(os)&&(os=null),as!==null&&zc(as)&&(as=null),ls!==null&&zc(ls)&&(ls=null),Kl.forEach(k1),Ql.forEach(k1)}function il(t,e){t.blockedOn===e&&(t.blockedOn=null,Qg||(Qg=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,kC)))}function Yl(t){function e(i){return il(i,t)}if(0<fc.length){il(fc[0],t);for(var n=1;n<fc.length;n++){var r=fc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&il(os,t),as!==null&&il(as,t),ls!==null&&il(ls,t),Kl.forEach(e),Ql.forEach(e),n=0;n<Ki.length;n++)r=Ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)Nx(n),n.blockedOn===null&&Ki.shift()}var ra=Ui.ReactCurrentBatchConfig,ph=!0;function PC(t,e,n,r){var i=He,s=ra.transition;ra.transition=null;try{He=1,D0(t,e,n,r)}finally{He=i,ra.transition=s}}function NC(t,e,n,r){var i=He,s=ra.transition;ra.transition=null;try{He=4,D0(t,e,n,r)}finally{He=i,ra.transition=s}}function D0(t,e,n,r){if(ph){var i=Yg(t,e,n,r);if(i===null)hp(t,e,r,gh,n),C1(t,r);else if(CC(i,t,e,n,r))r.stopPropagation();else if(C1(t,r),e&4&&-1<RC.indexOf(t)){for(;i!==null;){var s=Nu(i);if(s!==null&&Rx(s),s=Yg(t,e,n,r),s===null&&hp(t,e,r,gh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}var gh=null;function Yg(t,e,n,r){if(gh=null,t=k0(r),t=Fs(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function Mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_C()){case P0:return 1;case Sx:return 4;case fh:case wC:return 16;case Tx:return 536870912;default:return 16}default:return 16}}var es=null,O0=null,Hc=null;function Dx(){if(Hc)return Hc;var t,e=O0,n=e.length,r,i="value"in es?es.value:es.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hc=i.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dc(){return!0}function P1(){return!1}function cr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dc:P1,this.isPropagationStopped=P1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dc)},persist:function(){},isPersistent:dc}),e}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L0=cr(Ua),Pu=yt({},Ua,{view:0,detail:0}),MC=cr(Pu),np,rp,sl,_f=yt({},Pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sl&&(sl&&t.type==="mousemove"?(np=t.screenX-sl.screenX,rp=t.screenY-sl.screenY):rp=np=0,sl=t),np)},movementY:function(t){return"movementY"in t?t.movementY:rp}}),N1=cr(_f),DC=yt({},_f,{dataTransfer:0}),OC=cr(DC),LC=yt({},Pu,{relatedTarget:0}),ip=cr(LC),UC=yt({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),BC=cr(UC),FC=yt({},Ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VC=cr(FC),$C=yt({},Ua,{data:0}),M1=cr($C),jC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HC[t])?!!e[t]:!1}function U0(){return qC}var GC=yt({},Pu,{key:function(t){if(t.key){var e=jC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U0,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WC=cr(GC),KC=yt({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D1=cr(KC),QC=yt({},Pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U0}),YC=cr(QC),XC=yt({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZC=cr(XC),JC=yt({},_f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ek=cr(JC),tk=[9,13,27,32],B0=Ri&&"CompositionEvent"in window,Cl=null;Ri&&"documentMode"in document&&(Cl=document.documentMode);var nk=Ri&&"TextEvent"in window&&!Cl,Ox=Ri&&(!B0||Cl&&8<Cl&&11>=Cl),O1=String.fromCharCode(32),L1=!1;function Lx(t,e){switch(t){case"keyup":return tk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ux(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function rk(t,e){switch(t){case"compositionend":return Ux(e);case"keypress":return e.which!==32?null:(L1=!0,O1);case"textInput":return t=e.data,t===O1&&L1?null:t;default:return null}}function ik(t,e){if($o)return t==="compositionend"||!B0&&Lx(t,e)?(t=Dx(),Hc=O0=es=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ox&&e.locale!=="ko"?null:e.data;default:return null}}var sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sk[t.type]:e==="textarea"}function Bx(t,e,n,r){gx(r),e=mh(e,"onChange"),0<e.length&&(n=new L0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kl=null,Xl=null;function ok(t){Qx(t,0)}function wf(t){var e=Ho(t);if(lx(e))return t}function ak(t,e){if(t==="change")return e}var Fx=!1;if(Ri){var sp;if(Ri){var op="oninput"in document;if(!op){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),op=typeof B1.oninput=="function"}sp=op}else sp=!1;Fx=sp&&(!document.documentMode||9<document.documentMode)}function F1(){kl&&(kl.detachEvent("onpropertychange",Vx),Xl=kl=null)}function Vx(t){if(t.propertyName==="value"&&wf(Xl)){var e=[];Bx(e,Xl,t,k0(t)),_x(ok,e)}}function lk(t,e,n){t==="focusin"?(F1(),kl=e,Xl=n,kl.attachEvent("onpropertychange",Vx)):t==="focusout"&&F1()}function uk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wf(Xl)}function ck(t,e){if(t==="click")return wf(e)}function hk(t,e){if(t==="input"||t==="change")return wf(e)}function fk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:fk;function Zl(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ng.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function V1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $1(t,e){var n=V1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V1(n)}}function $x(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$x(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jx(){for(var t=window,e=uh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uh(t.document)}return e}function F0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dk(t){var e=jx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$x(n.ownerDocument.documentElement,n)){if(r!==null&&F0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$1(n,s);var o=$1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pk=Ri&&"documentMode"in document&&11>=document.documentMode,jo=null,Xg=null,Pl=null,Zg=!1;function j1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zg||jo==null||jo!==uh(r)||(r=jo,"selectionStart"in r&&F0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pl&&Zl(Pl,r)||(Pl=r,r=mh(Xg,"onSelect"),0<r.length&&(e=new L0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jo)))}function pc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zo={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},ap={},zx={};Ri&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Ef(t){if(ap[t])return ap[t];if(!zo[t])return t;var e=zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zx)return ap[t]=e[n];return t}var Hx=Ef("animationend"),qx=Ef("animationiteration"),Gx=Ef("animationstart"),Wx=Ef("transitionend"),Kx=new Map,z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){Kx.set(t,e),vo(e,[t])}for(var lp=0;lp<z1.length;lp++){var up=z1[lp],gk=up.toLowerCase(),mk=up[0].toUpperCase()+up.slice(1);Ts(gk,"on"+mk)}Ts(Hx,"onAnimationEnd");Ts(qx,"onAnimationIteration");Ts(Gx,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(Wx,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function H1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gC(r,e,void 0,t),t.currentTarget=null}function Qx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;H1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;H1(i,a,u),s=l}}}if(hh)throw t=Wg,hh=!1,Wg=null,t}function rt(t,e){var n=e[rm];n===void 0&&(n=e[rm]=new Set);var r=t+"__bubble";n.has(r)||(Yx(e,t,2,!1),n.add(r))}function cp(t,e,n){var r=0;e&&(r|=4),Yx(n,t,r,e)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[gc]){t[gc]=!0,rx.forEach(function(n){n!=="selectionchange"&&(yk.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gc]||(e[gc]=!0,cp("selectionchange",!1,e))}}function Yx(t,e,n,r){switch(Mx(e)){case 1:var i=PC;break;case 4:i=NC;break;default:i=D0}n=i.bind(null,e,n,t),i=void 0,!Gg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_x(function(){var u=s,c=k0(n),d=[];e:{var y=Kx.get(t);if(y!==void 0){var x=L0,R=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":x=WC;break;case"focusin":R="focus",x=ip;break;case"focusout":R="blur",x=ip;break;case"beforeblur":case"afterblur":x=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=OC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=YC;break;case Hx:case qx:case Gx:x=BC;break;case Wx:x=ZC;break;case"scroll":x=MC;break;case"wheel":x=ek;break;case"copy":case"cut":case"paste":x=VC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=D1}var C=(e&4)!==0,P=!C&&t==="scroll",S=C?y!==null?y+"Capture":null:y;C=[];for(var E=u,v;E!==null;){v=E;var L=v.stateNode;if(v.tag===5&&L!==null&&(v=L,S!==null&&(L=Wl(E,S),L!=null&&C.push(eu(E,L,v)))),P)break;E=E.return}0<C.length&&(y=new x(y,R,null,n,c),d.push({event:y,listeners:C}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",y&&n!==Hg&&(R=n.relatedTarget||n.fromElement)&&(Fs(R)||R[Ci]))break e;if((x||y)&&(y=c.window===c?c:(y=c.ownerDocument)?y.defaultView||y.parentWindow:window,x?(R=n.relatedTarget||n.toElement,x=u,R=R?Fs(R):null,R!==null&&(P=_o(R),R!==P||R.tag!==5&&R.tag!==6)&&(R=null)):(x=null,R=u),x!==R)){if(C=N1,L="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(C=D1,L="onPointerLeave",S="onPointerEnter",E="pointer"),P=x==null?y:Ho(x),v=R==null?y:Ho(R),y=new C(L,E+"leave",x,n,c),y.target=P,y.relatedTarget=v,L=null,Fs(c)===u&&(C=new C(S,E+"enter",R,n,c),C.target=v,C.relatedTarget=P,L=C),P=L,x&&R)t:{for(C=x,S=R,E=0,v=C;v;v=No(v))E++;for(v=0,L=S;L;L=No(L))v++;for(;0<E-v;)C=No(C),E--;for(;0<v-E;)S=No(S),v--;for(;E--;){if(C===S||S!==null&&C===S.alternate)break t;C=No(C),S=No(S)}C=null}else C=null;x!==null&&q1(d,y,x,C,!1),R!==null&&P!==null&&q1(d,P,R,C,!0)}}e:{if(y=u?Ho(u):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var N=ak;else if(U1(y))if(Fx)N=hk;else{N=uk;var B=lk}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(N=ck);if(N&&(N=N(t,u))){Bx(d,N,n,c);break e}B&&B(t,y,u),t==="focusout"&&(B=y._wrapperState)&&B.controlled&&y.type==="number"&&Fg(y,"number",y.value)}switch(B=u?Ho(u):window,t){case"focusin":(U1(B)||B.contentEditable==="true")&&(jo=B,Xg=u,Pl=null);break;case"focusout":Pl=Xg=jo=null;break;case"mousedown":Zg=!0;break;case"contextmenu":case"mouseup":case"dragend":Zg=!1,j1(d,n,c);break;case"selectionchange":if(pk)break;case"keydown":case"keyup":j1(d,n,c)}var F;if(B0)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else $o?Lx(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Ox&&n.locale!=="ko"&&($o||V!=="onCompositionStart"?V==="onCompositionEnd"&&$o&&(F=Dx()):(es=c,O0="value"in es?es.value:es.textContent,$o=!0)),B=mh(u,V),0<B.length&&(V=new M1(V,t,null,n,c),d.push({event:V,listeners:B}),F?V.data=F:(F=Ux(n),F!==null&&(V.data=F)))),(F=nk?rk(t,n):ik(t,n))&&(u=mh(u,"onBeforeInput"),0<u.length&&(c=new M1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=F))}Qx(d,e)})}function eu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(t,n),s!=null&&r.unshift(eu(t,s,i)),s=Wl(t,e),s!=null&&r.push(eu(t,s,i))),t=t.return}return r}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wl(n,s),l!=null&&o.unshift(eu(n,l,a))):i||(l=Wl(n,s),l!=null&&o.push(eu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vk=/\r\n?/g,_k=/\u0000|\uFFFD/g;function G1(t){return(typeof t=="string"?t:""+t).replace(vk,`
`).replace(_k,"")}function mc(t,e,n){if(e=G1(e),G1(t)!==e&&n)throw Error(ne(425))}function yh(){}var Jg=null,em=null;function tm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,Ek=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(t){return W1.resolve(null).then(t).catch(xk)}:nm;function xk(t){setTimeout(function(){throw t})}function fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yl(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function K1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ba=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Ba,tu="__reactProps$"+Ba,Ci="__reactContainer$"+Ba,rm="__reactEvents$"+Ba,Ik="__reactListeners$"+Ba,Sk="__reactHandles$"+Ba;function Fs(t){var e=t[Hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=K1(t);t!==null;){if(n=t[Hr])return n;t=K1(t)}return e}t=n,n=t.parentNode}return null}function Nu(t){return t=t[Hr]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function xf(t){return t[tu]||null}var im=[],qo=-1;function As(t){return{current:t}}function st(t){0>qo||(t.current=im[qo],im[qo]=null,qo--)}function Ze(t,e){qo++,im[qo]=t.current,t.current=e}var ws={},Pn=As(ws),Qn=As(!1),no=ws;function pa(t,e){var n=t.type.contextTypes;if(!n)return ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(t){return t=t.childContextTypes,t!=null}function vh(){st(Qn),st(Pn)}function Q1(t,e,n){if(Pn.current!==ws)throw Error(ne(168));Ze(Pn,e),Ze(Qn,n)}function Xx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,lC(t)||"Unknown",i));return yt({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,no=Pn.current,Ze(Pn,t),Ze(Qn,Qn.current),!0}function Y1(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=Xx(t,e,no),r.__reactInternalMemoizedMergedChildContext=t,st(Qn),st(Pn),Ze(Pn,t)):st(Qn),Ze(Qn,n)}var pi=null,If=!1,dp=!1;function Zx(t){pi===null?pi=[t]:pi.push(t)}function Tk(t){If=!0,Zx(t)}function bs(){if(!dp&&pi!==null){dp=!0;var t=0,e=He;try{var n=pi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,If=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),Ix(P0,bs),i}finally{He=e,dp=!1}}return null}var Go=[],Wo=0,wh=null,Eh=0,gr=[],mr=0,ro=null,yi=1,vi="";function Ms(t,e){Go[Wo++]=Eh,Go[Wo++]=wh,wh=t,Eh=e}function Jx(t,e,n){gr[mr++]=yi,gr[mr++]=vi,gr[mr++]=ro,ro=t;var r=yi;t=vi;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var s=32-Nr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yi=1<<32-Nr(e)+i|n<<i|r,vi=s+t}else yi=1<<s|n<<i|r,vi=t}function V0(t){t.return!==null&&(Ms(t,1),Jx(t,1,0))}function $0(t){for(;t===wh;)wh=Go[--Wo],Go[Wo]=null,Eh=Go[--Wo],Go[Wo]=null;for(;t===ro;)ro=gr[--mr],gr[mr]=null,vi=gr[--mr],gr[mr]=null,yi=gr[--mr],gr[mr]=null}var or=null,rr=null,ut=!1,Pr=null;function eI(t,e){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function X1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,or=t,rr=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,or=t,rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ro!==null?{id:yi,overflow:vi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,or=t,rr=null,!0):!1;default:return!1}}function sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function om(t){if(ut){var e=rr;if(e){var n=e;if(!X1(t,e)){if(sm(t))throw Error(ne(418));e=us(n.nextSibling);var r=or;e&&X1(t,e)?eI(r,n):(t.flags=t.flags&-4097|2,ut=!1,or=t)}}else{if(sm(t))throw Error(ne(418));t.flags=t.flags&-4097|2,ut=!1,or=t}}}function Z1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function yc(t){if(t!==or)return!1;if(!ut)return Z1(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tm(t.type,t.memoizedProps)),e&&(e=rr)){if(sm(t))throw tI(),Error(ne(418));for(;e;)eI(t,e),e=us(e.nextSibling)}if(Z1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rr=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rr=null}}else rr=or?us(t.stateNode.nextSibling):null;return!0}function tI(){for(var t=rr;t;)t=us(t.nextSibling)}function ga(){rr=or=null,ut=!1}function j0(t){Pr===null?Pr=[t]:Pr.push(t)}var Ak=Ui.ReactCurrentBatchConfig;function Cr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xh=As(null),Ih=null,Ko=null,z0=null;function H0(){z0=Ko=Ih=null}function q0(t){var e=xh.current;st(xh),t._currentValue=e}function am(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){Ih=t,z0=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(z0!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(Ih===null)throw Error(ne(308));Ko=t,Ih.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var Vs=null;function G0(t){Vs===null?Vs=[t]:Vs.push(t)}function nI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,G0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function W0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,G0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function Gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N0(t,n)}}function J1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sh(t,e,n,r){var i=t.updateQueue;Wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var y=a.lane,x=a.eventTime;if((r&y)===y){c!==null&&(c=c.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var R=t,C=a;switch(y=e,x=n,C.tag){case 1:if(R=C.payload,typeof R=="function"){d=R.call(x,d,y);break e}d=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=C.payload,y=typeof R=="function"?R.call(x,d,y):R,y==null)break e;d=yt({},d,y);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else x={eventTime:x,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=x,l=d):c=c.next=x,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=d}}function e_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var iI=new nx.Component().refs;function lm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sf={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=fs(t),s=xi(r,i);s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(Mr(e,t,i,r),Gc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=fs(t),s=xi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(Mr(e,t,i,r),Gc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=fs(t),i=xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(Mr(e,t,r,n),Gc(e,t,r))}};function t_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zl(n,r)||!Zl(i,s):!0}function sI(t,e,n){var r=!1,i=ws,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=Yn(e)?no:Pn.current,r=e.contextTypes,s=(r=r!=null)?pa(t,i):ws),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function n_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function um(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=iI,W0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=Yn(e)?no:Pn.current,i.context=pa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sf.enqueueReplaceState(i,i.state,null),Sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===iI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function vc(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function r_(t){var e=t._init;return e(t._payload)}function oI(t){function e(S,E){if(t){var v=S.deletions;v===null?(S.deletions=[E],S.flags|=16):v.push(E)}}function n(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function r(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=ds(S,E),S.index=0,S.sibling=null,S}function s(S,E,v){return S.index=v,t?(v=S.alternate,v!==null?(v=v.index,v<E?(S.flags|=2,E):v):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,E,v,L){return E===null||E.tag!==6?(E=wp(v,S.mode,L),E.return=S,E):(E=i(E,v),E.return=S,E)}function l(S,E,v,L){var N=v.type;return N===Vo?c(S,E,v.props.children,L,v.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gi&&r_(N)===E.type)?(L=i(E,v.props),L.ref=ol(S,E,v),L.return=S,L):(L=Zc(v.type,v.key,v.props,null,S.mode,L),L.ref=ol(S,E,v),L.return=S,L)}function u(S,E,v,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==v.containerInfo||E.stateNode.implementation!==v.implementation?(E=Ep(v,S.mode,L),E.return=S,E):(E=i(E,v.children||[]),E.return=S,E)}function c(S,E,v,L,N){return E===null||E.tag!==7?(E=Qs(v,S.mode,L,N),E.return=S,E):(E=i(E,v),E.return=S,E)}function d(S,E,v){if(typeof E=="string"&&E!==""||typeof E=="number")return E=wp(""+E,S.mode,v),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ac:return v=Zc(E.type,E.key,E.props,null,S.mode,v),v.ref=ol(S,null,E),v.return=S,v;case Fo:return E=Ep(E,S.mode,v),E.return=S,E;case Gi:var L=E._init;return d(S,L(E._payload),v)}if(ml(E)||tl(E))return E=Qs(E,S.mode,v,null),E.return=S,E;vc(S,E)}return null}function y(S,E,v,L){var N=E!==null?E.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:a(S,E,""+v,L);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ac:return v.key===N?l(S,E,v,L):null;case Fo:return v.key===N?u(S,E,v,L):null;case Gi:return N=v._init,y(S,E,N(v._payload),L)}if(ml(v)||tl(v))return N!==null?null:c(S,E,v,L,null);vc(S,v)}return null}function x(S,E,v,L,N){if(typeof L=="string"&&L!==""||typeof L=="number")return S=S.get(v)||null,a(E,S,""+L,N);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ac:return S=S.get(L.key===null?v:L.key)||null,l(E,S,L,N);case Fo:return S=S.get(L.key===null?v:L.key)||null,u(E,S,L,N);case Gi:var B=L._init;return x(S,E,v,B(L._payload),N)}if(ml(L)||tl(L))return S=S.get(v)||null,c(E,S,L,N,null);vc(E,L)}return null}function R(S,E,v,L){for(var N=null,B=null,F=E,V=E=0,Y=null;F!==null&&V<v.length;V++){F.index>V?(Y=F,F=null):Y=F.sibling;var X=y(S,F,v[V],L);if(X===null){F===null&&(F=Y);break}t&&F&&X.alternate===null&&e(S,F),E=s(X,E,V),B===null?N=X:B.sibling=X,B=X,F=Y}if(V===v.length)return n(S,F),ut&&Ms(S,V),N;if(F===null){for(;V<v.length;V++)F=d(S,v[V],L),F!==null&&(E=s(F,E,V),B===null?N=F:B.sibling=F,B=F);return ut&&Ms(S,V),N}for(F=r(S,F);V<v.length;V++)Y=x(F,S,V,v[V],L),Y!==null&&(t&&Y.alternate!==null&&F.delete(Y.key===null?V:Y.key),E=s(Y,E,V),B===null?N=Y:B.sibling=Y,B=Y);return t&&F.forEach(function(re){return e(S,re)}),ut&&Ms(S,V),N}function C(S,E,v,L){var N=tl(v);if(typeof N!="function")throw Error(ne(150));if(v=N.call(v),v==null)throw Error(ne(151));for(var B=N=null,F=E,V=E=0,Y=null,X=v.next();F!==null&&!X.done;V++,X=v.next()){F.index>V?(Y=F,F=null):Y=F.sibling;var re=y(S,F,X.value,L);if(re===null){F===null&&(F=Y);break}t&&F&&re.alternate===null&&e(S,F),E=s(re,E,V),B===null?N=re:B.sibling=re,B=re,F=Y}if(X.done)return n(S,F),ut&&Ms(S,V),N;if(F===null){for(;!X.done;V++,X=v.next())X=d(S,X.value,L),X!==null&&(E=s(X,E,V),B===null?N=X:B.sibling=X,B=X);return ut&&Ms(S,V),N}for(F=r(S,F);!X.done;V++,X=v.next())X=x(F,S,V,X.value,L),X!==null&&(t&&X.alternate!==null&&F.delete(X.key===null?V:X.key),E=s(X,E,V),B===null?N=X:B.sibling=X,B=X);return t&&F.forEach(function(ye){return e(S,ye)}),ut&&Ms(S,V),N}function P(S,E,v,L){if(typeof v=="object"&&v!==null&&v.type===Vo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ac:e:{for(var N=v.key,B=E;B!==null;){if(B.key===N){if(N=v.type,N===Vo){if(B.tag===7){n(S,B.sibling),E=i(B,v.props.children),E.return=S,S=E;break e}}else if(B.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gi&&r_(N)===B.type){n(S,B.sibling),E=i(B,v.props),E.ref=ol(S,B,v),E.return=S,S=E;break e}n(S,B);break}else e(S,B);B=B.sibling}v.type===Vo?(E=Qs(v.props.children,S.mode,L,v.key),E.return=S,S=E):(L=Zc(v.type,v.key,v.props,null,S.mode,L),L.ref=ol(S,E,v),L.return=S,S=L)}return o(S);case Fo:e:{for(B=v.key;E!==null;){if(E.key===B)if(E.tag===4&&E.stateNode.containerInfo===v.containerInfo&&E.stateNode.implementation===v.implementation){n(S,E.sibling),E=i(E,v.children||[]),E.return=S,S=E;break e}else{n(S,E);break}else e(S,E);E=E.sibling}E=Ep(v,S.mode,L),E.return=S,S=E}return o(S);case Gi:return B=v._init,P(S,E,B(v._payload),L)}if(ml(v))return R(S,E,v,L);if(tl(v))return C(S,E,v,L);vc(S,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,E!==null&&E.tag===6?(n(S,E.sibling),E=i(E,v),E.return=S,S=E):(n(S,E),E=wp(v,S.mode,L),E.return=S,S=E),o(S)):n(S,E)}return P}var ma=oI(!0),aI=oI(!1),Mu={},Xr=As(Mu),nu=As(Mu),ru=As(Mu);function $s(t){if(t===Mu)throw Error(ne(174));return t}function K0(t,e){switch(Ze(ru,e),Ze(nu,t),Ze(Xr,Mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$g(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$g(e,t)}st(Xr),Ze(Xr,e)}function ya(){st(Xr),st(nu),st(ru)}function lI(t){$s(ru.current);var e=$s(Xr.current),n=$g(e,t.type);e!==n&&(Ze(nu,t),Ze(Xr,n))}function Q0(t){nu.current===t&&(st(Xr),st(nu))}var ft=As(0);function Th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pp=[];function Y0(){for(var t=0;t<pp.length;t++)pp[t]._workInProgressVersionPrimary=null;pp.length=0}var Wc=Ui.ReactCurrentDispatcher,gp=Ui.ReactCurrentBatchConfig,io=0,gt=null,Wt=null,en=null,Ah=!1,Nl=!1,iu=0,bk=0;function vn(){throw Error(ne(321))}function X0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function Z0(t,e,n,r,i,s){if(io=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wc.current=t===null||t.memoizedState===null?Pk:Nk,t=n(r,i),Nl){s=0;do{if(Nl=!1,iu=0,25<=s)throw Error(ne(301));s+=1,en=Wt=null,e.updateQueue=null,Wc.current=Mk,t=n(r,i)}while(Nl)}if(Wc.current=bh,e=Wt!==null&&Wt.next!==null,io=0,en=Wt=gt=null,Ah=!1,e)throw Error(ne(300));return t}function J0(){var t=iu!==0;return iu=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?gt.memoizedState=en=t:en=en.next=t,en}function Sr(){if(Wt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=en===null?gt.memoizedState:en.next;if(e!==null)en=e,Wt=t;else{if(t===null)throw Error(ne(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},en===null?gt.memoizedState=en=t:en=en.next=t}return en}function su(t,e){return typeof e=="function"?e(t):e}function mp(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Wt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((io&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,gt.lanes|=c,so|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ur(r,e.memoizedState)||(Kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,so|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yp(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ur(s,e.memoizedState)||(Kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function uI(){}function cI(t,e){var n=gt,r=Sr(),i=e(),s=!Ur(r.memoizedState,i);if(s&&(r.memoizedState=i,Kn=!0),r=r.queue,ey(dI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,ou(9,fI.bind(null,n,r,i,e),void 0,null),nn===null)throw Error(ne(349));io&30||hI(n,e,i)}return i}function hI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fI(t,e,n,r){e.value=n,e.getSnapshot=r,pI(e)&&gI(t)}function dI(t,e,n){return n(function(){pI(e)&&gI(t)})}function pI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function gI(t){var e=ki(t,1);e!==null&&Mr(e,t,1,-1)}function i_(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:t},e.queue=t,t=t.dispatch=kk.bind(null,gt,t),[e.memoizedState,t]}function ou(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mI(){return Sr().memoizedState}function Kc(t,e,n,r){var i=zr();gt.flags|=t,i.memoizedState=ou(1|e,n,void 0,r===void 0?null:r)}function Tf(t,e,n,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(Wt!==null){var o=Wt.memoizedState;if(s=o.destroy,r!==null&&X0(r,o.deps)){i.memoizedState=ou(e,n,s,r);return}}gt.flags|=t,i.memoizedState=ou(1|e,n,s,r)}function s_(t,e){return Kc(8390656,8,t,e)}function ey(t,e){return Tf(2048,8,t,e)}function yI(t,e){return Tf(4,2,t,e)}function vI(t,e){return Tf(4,4,t,e)}function _I(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wI(t,e,n){return n=n!=null?n.concat([t]):null,Tf(4,4,_I.bind(null,e,t),n)}function ty(){}function EI(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xI(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&X0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function II(t,e,n){return io&21?(Ur(n,e)||(n=Ax(),gt.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function Rk(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=gp.transition;gp.transition={};try{t(!1),e()}finally{He=n,gp.transition=r}}function SI(){return Sr().memoizedState}function Ck(t,e,n){var r=fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TI(t))AI(e,n);else if(n=nI(t,e,n,r),n!==null){var i=Vn();Mr(n,t,r,i),bI(n,e,r)}}function kk(t,e,n){var r=fs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TI(t))AI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ur(a,o)){var l=e.interleaved;l===null?(i.next=i,G0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=nI(t,e,i,r),n!==null&&(i=Vn(),Mr(n,t,r,i),bI(n,e,r))}}function TI(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function AI(t,e){Nl=Ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N0(t,n)}}var bh={readContext:Ir,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},Pk={readContext:Ir,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:s_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,_I.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ck.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:i_,useDebugValue:ty,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=i_(!1),e=t[0];return t=Rk.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=zr();if(ut){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),nn===null)throw Error(ne(349));io&30||hI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,s_(dI.bind(null,r,s,t),[t]),r.flags|=2048,ou(9,fI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zr(),e=nn.identifierPrefix;if(ut){var n=vi,r=yi;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nk={readContext:Ir,useCallback:EI,useContext:Ir,useEffect:ey,useImperativeHandle:wI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:xI,useReducer:mp,useRef:mI,useState:function(){return mp(su)},useDebugValue:ty,useDeferredValue:function(t){var e=Sr();return II(e,Wt.memoizedState,t)},useTransition:function(){var t=mp(su)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:uI,useSyncExternalStore:cI,useId:SI,unstable_isNewReconciler:!1},Mk={readContext:Ir,useCallback:EI,useContext:Ir,useEffect:ey,useImperativeHandle:wI,useInsertionEffect:yI,useLayoutEffect:vI,useMemo:xI,useReducer:yp,useRef:mI,useState:function(){return yp(su)},useDebugValue:ty,useDeferredValue:function(t){var e=Sr();return Wt===null?e.memoizedState=t:II(e,Wt.memoizedState,t)},useTransition:function(){var t=yp(su)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:uI,useSyncExternalStore:cI,useId:SI,unstable_isNewReconciler:!1};function va(t,e){try{var n="",r=e;do n+=aC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dk=typeof WeakMap=="function"?WeakMap:Map;function RI(t,e,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ch||(Ch=!0,wm=r),cm(t,e)},n}function CI(t,e,n){n=xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cm(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function o_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Kk.bind(null,t,e,n),e.then(t,t))}function a_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xi(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var Ok=Ui.ReactCurrentOwner,Kn=!1;function Un(t,e,n,r){e.child=t===null?aI(e,null,n,r):ma(e,t.child,n,r)}function u_(t,e,n,r,i){n=n.render;var s=e.ref;return ia(e,i),r=Z0(t,e,n,r,s,i),n=J0(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(ut&&n&&V0(e),e.flags|=1,Un(t,e,r,i),e.child)}function c_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kI(t,e,s,r,i)):(t=Zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(o,r)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=ds(s,r),t.ref=e.ref,t.return=e,e.child=t}function kI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zl(s,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return hm(t,e,n,r,i)}function PI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Yo,tr),tr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Yo,tr),tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(Yo,tr),tr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(Yo,tr),tr|=r;return Un(t,e,i,n),e.child}function NI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hm(t,e,n,r,i){var s=Yn(n)?no:Pn.current;return s=pa(e,s),ia(e,i),n=Z0(t,e,n,r,s,i),r=J0(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(ut&&r&&V0(e),e.flags|=1,Un(t,e,n,i),e.child)}function h_(t,e,n,r,i){if(Yn(n)){var s=!0;_h(e)}else s=!1;if(ia(e,i),e.stateNode===null)Qc(t,e),sI(e,n,r),um(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=Yn(n)?no:Pn.current,u=pa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&n_(e,o,r,u),Wi=!1;var y=e.memoizedState;o.state=y,Sh(e,r,o,i),l=e.memoizedState,a!==r||y!==l||Qn.current||Wi?(typeof c=="function"&&(lm(e,n,c,r),l=e.memoizedState),(a=Wi||t_(e,n,a,r,y,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cr(e.type,a),o.props=u,d=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ir(l):(l=Yn(n)?no:Pn.current,l=pa(e,l));var x=n.getDerivedStateFromProps;(c=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||y!==l)&&n_(e,o,r,l),Wi=!1,y=e.memoizedState,o.state=y,Sh(e,r,o,i);var R=e.memoizedState;a!==d||y!==R||Qn.current||Wi?(typeof x=="function"&&(lm(e,n,x,r),R=e.memoizedState),(u=Wi||t_(e,n,u,r,y,R,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return fm(t,e,n,r,s,i)}function fm(t,e,n,r,i,s){NI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Y1(e,n,!1),Pi(t,e,s);r=e.stateNode,Ok.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,s),e.child=ma(e,null,a,s)):Un(t,e,a,s),e.memoizedState=r.state,i&&Y1(e,n,!0),e.child}function MI(t){var e=t.stateNode;e.pendingContext?Q1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Q1(t,e.context,!1),K0(t,e.containerInfo)}function f_(t,e,n,r,i){return ga(),j0(i),e.flags|=256,Un(t,e,n,r),e.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function pm(t){return{baseLanes:t,cachePool:null,transitions:null}}function DI(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ft,i&1),t===null)return om(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rf(o,r,0,null),t=Qs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pm(n),e.memoizedState=dm,t):ny(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Lk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ds(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ds(a,s):(s=Qs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dm,r}return s=t.child,t=s.sibling,r=ds(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ny(t,e){return e=Rf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _c(t,e,n,r){return r!==null&&j0(r),ma(e,t.child,null,n),t=ny(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=vp(Error(ne(422))),_c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rf({mode:"visible",children:r.children},i,0,null),s=Qs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=pm(o),e.memoizedState=dm,s);if(!(e.mode&1))return _c(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=vp(s,r,void 0),_c(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kn||a){if(r=nn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ki(t,i),Mr(r,t,i,-1))}return ly(),r=vp(Error(ne(421))),_c(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Qk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rr=us(i.nextSibling),or=e,ut=!0,Pr=null,t!==null&&(gr[mr++]=yi,gr[mr++]=vi,gr[mr++]=ro,yi=t.id,vi=t.overflow,ro=e),e=ny(e,r.children),e.flags|=4096,e)}function d_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),am(t.return,e,n)}function _p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function OI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Un(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,n,e);else if(t.tag===19)d_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Th(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Th(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_p(e,!0,n,null,s);break;case"together":_p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Uk(t,e,n){switch(e.tag){case 3:MI(e),ga();break;case 5:lI(e);break;case 1:Yn(e.type)&&_h(e);break;case 4:K0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(xh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?DI(t,e,n):(Ze(ft,ft.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return OI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,PI(t,e,n)}return Pi(t,e,n)}var LI,gm,UI,BI;LI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gm=function(){};UI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$s(Xr.current);var s=null;switch(n){case"input":i=Ug(t,i),r=Ug(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=Vg(t,i),r=Vg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yh)}jg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BI=function(t,e,n,r){n!==r&&(e.flags|=4)};function al(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Bk(t,e,n){var r=e.pendingProps;switch($0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return Yn(e.type)&&vh(),_n(e),null;case 3:return r=e.stateNode,ya(),st(Qn),st(Pn),Y0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(Im(Pr),Pr=null))),gm(t,e),_n(e),null;case 5:Q0(e);var i=$s(ru.current);if(n=e.type,t!==null&&e.stateNode!=null)UI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return _n(e),null}if(t=$s(Xr.current),yc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hr]=e,r[tu]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<vl.length;i++)rt(vl[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":x1(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":S1(r,s),rt("invalid",r)}jg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&mc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mc(r.textContent,a,t),i=["children",""+a]):ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":lc(r),I1(r,s,!0);break;case"textarea":lc(r),T1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hr]=e,t[tu]=r,LI(t,e,!1,!1),e.stateNode=t;e:{switch(o=zg(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<vl.length;i++)rt(vl[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":x1(t,r),i=Ug(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":S1(t,r),i=Vg(t,r),rt("invalid",t);break;default:i=r}jg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?px(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gl(t,l):typeof l=="number"&&Gl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",t):l!=null&&A0(t,s,l,o))}switch(n){case"input":lc(t),I1(t,r,!1);break;case"textarea":lc(t),T1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_s(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ea(t,!!r.multiple,s,!1):r.defaultValue!=null&&ea(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)BI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=$s(ru.current),$s(Xr.current),yc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hr]=e,(s=r.nodeValue!==n)&&(t=or,t!==null))switch(t.tag){case 3:mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=e,e.stateNode=r}return _n(e),null;case 13:if(st(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&rr!==null&&e.mode&1&&!(e.flags&128))tI(),ga(),e.flags|=98560,s=!1;else if(s=yc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[Hr]=e}else ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),s=!1}else Pr!==null&&(Im(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Yt===0&&(Yt=3):ly())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return ya(),gm(t,e),t===null&&Jl(e.stateNode.containerInfo),_n(e),null;case 10:return q0(e.type._context),_n(e),null;case 17:return Yn(e.type)&&vh(),_n(e),null;case 19:if(st(ft),s=e.memoizedState,s===null)return _n(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)al(s,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Th(t),o!==null){for(e.flags|=128,al(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>_a&&(e.flags|=128,r=!0,al(s,!1),e.lanes=4194304)}else{if(!r)if(t=Th(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),al(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return _n(e),null}else 2*St()-s.renderingStartTime>_a&&n!==1073741824&&(e.flags|=128,r=!0,al(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=ft.current,Ze(ft,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return ay(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tr&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function Fk(t,e){switch($0(e),e.tag){case 1:return Yn(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ya(),st(Qn),st(Pn),Y0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Q0(e),null;case 13:if(st(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ft),null;case 4:return ya(),null;case 10:return q0(e.type._context),null;case 22:case 23:return ay(),null;case 24:return null;default:return null}}var wc=!1,An=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function mm(t,e,n){try{n()}catch(r){wt(t,e,r)}}var p_=!1;function $k(t,e){if(Jg=ph,t=jx(),F0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,y=null;t:for(;;){for(var x;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(x=d.firstChild)!==null;)y=d,d=x;for(;;){if(d===t)break t;if(y===n&&++u===i&&(a=o),y===s&&++c===r&&(l=o),(x=d.nextSibling)!==null)break;d=y,y=d.parentNode}d=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(em={focusedElem:t,selectionRange:n},ph=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var C=R.memoizedProps,P=R.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:Cr(e.type,C),P);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(L){wt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return R=p_,p_=!1,R}function Ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mm(e,n,s)}i=i.next}while(i!==r)}}function Af(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ym(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FI(t){var e=t.alternate;e!==null&&(t.alternate=null,FI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hr],delete e[tu],delete e[rm],delete e[Ik],delete e[Sk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VI(t){return t.tag===5||t.tag===3||t.tag===4}function g_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yh));else if(r!==4&&(t=t.child,t!==null))for(vm(t,e,n),t=t.sibling;t!==null;)vm(t,e,n),t=t.sibling}function _m(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_m(t,e,n),t=t.sibling;t!==null;)_m(t,e,n),t=t.sibling}var ln=null,kr=!1;function Fi(t,e,n){for(n=n.child;n!==null;)$I(t,e,n),n=n.sibling}function $I(t,e,n){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(vf,n)}catch{}switch(n.tag){case 5:An||Qo(n,e);case 6:var r=ln,i=kr;ln=null,Fi(t,e,n),ln=r,kr=i,ln!==null&&(kr?(t=ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(kr?(t=ln,n=n.stateNode,t.nodeType===8?fp(t.parentNode,n):t.nodeType===1&&fp(t,n),Yl(t)):fp(ln,n.stateNode));break;case 4:r=ln,i=kr,ln=n.stateNode.containerInfo,kr=!0,Fi(t,e,n),ln=r,kr=i;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mm(n,e,o),i=i.next}while(i!==r)}Fi(t,e,n);break;case 1:if(!An&&(Qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,Fi(t,e,n),An=r):Fi(t,e,n);break;default:Fi(t,e,n)}}function m_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vk),e.forEach(function(r){var i=Yk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ln=a.stateNode,kr=!1;break e;case 3:ln=a.stateNode.containerInfo,kr=!0;break e;case 4:ln=a.stateNode.containerInfo,kr=!0;break e}a=a.return}if(ln===null)throw Error(ne(160));$I(s,o,i),ln=null,kr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jI(e,t),e=e.sibling}function jI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),$r(t),r&4){try{Ml(3,t,t.return),Af(3,t)}catch(C){wt(t,t.return,C)}try{Ml(5,t,t.return)}catch(C){wt(t,t.return,C)}}break;case 1:br(e,t),$r(t),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(br(e,t),$r(t),r&512&&n!==null&&Qo(n,n.return),t.flags&32){var i=t.stateNode;try{Gl(i,"")}catch(C){wt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ux(i,s),zg(a,o);var u=zg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?px(i,d):c==="dangerouslySetInnerHTML"?fx(i,d):c==="children"?Gl(i,d):A0(i,c,d,u)}switch(a){case"input":Bg(i,s);break;case"textarea":cx(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?ea(i,!!s.multiple,x,!1):y!==!!s.multiple&&(s.defaultValue!=null?ea(i,!!s.multiple,s.defaultValue,!0):ea(i,!!s.multiple,s.multiple?[]:"",!1))}i[tu]=s}catch(C){wt(t,t.return,C)}}break;case 6:if(br(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){wt(t,t.return,C)}}break;case 3:if(br(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(C){wt(t,t.return,C)}break;case 4:br(e,t),$r(t);break;case 13:br(e,t),$r(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sy=St())),r&4&&m_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(An=(u=An)||c,br(e,t),An=u):br(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ae=t,c=t.child;c!==null;){for(d=ae=c;ae!==null;){switch(y=ae,x=y.child,y.tag){case 0:case 11:case 14:case 15:Ml(4,y,y.return);break;case 1:Qo(y,y.return);var R=y.stateNode;if(typeof R.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(C){wt(r,n,C)}}break;case 5:Qo(y,y.return);break;case 22:if(y.memoizedState!==null){v_(d);continue}}x!==null?(x.return=y,ae=x):v_(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dx("display",o))}catch(C){wt(t,t.return,C)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(C){wt(t,t.return,C)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:br(e,t),$r(t),r&4&&m_(t);break;case 21:break;default:br(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VI(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gl(i,""),r.flags&=-33);var s=g_(t);_m(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g_(t);vm(t,a,o);break;default:throw Error(ne(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jk(t,e,n){ae=t,zI(t)}function zI(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||An;a=wc;var u=An;if(wc=o,(An=l)&&!u)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?__(i):l!==null?(l.return=o,ae=l):__(i);for(;s!==null;)ae=s,zI(s),s=s.sibling;ae=i,wc=a,An=u}y_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):y_(t)}}function y_(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:An||Af(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!An)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&e_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}e_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Yl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}An||e.flags&512&&ym(e)}catch(y){wt(e,e.return,y)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function v_(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function __(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Af(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{ym(e)}catch(l){wt(e,s,l)}break;case 5:var o=e.return;try{ym(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var zk=Math.ceil,Rh=Ui.ReactCurrentDispatcher,ry=Ui.ReactCurrentOwner,Er=Ui.ReactCurrentBatchConfig,Le=0,nn=null,qt=null,dn=0,tr=0,Yo=As(0),Yt=0,au=null,so=0,bf=0,iy=0,Dl=null,qn=null,sy=0,_a=1/0,di=null,Ch=!1,wm=null,hs=null,Ec=!1,ts=null,kh=0,Ol=0,Em=null,Yc=-1,Xc=0;function Vn(){return Le&6?St():Yc!==-1?Yc:Yc=St()}function fs(t){return t.mode&1?Le&2&&dn!==0?dn&-dn:Ak.transition!==null?(Xc===0&&(Xc=Ax()),Xc):(t=He,t!==0||(t=window.event,t=t===void 0?16:Mx(t.type)),t):1}function Mr(t,e,n,r){if(50<Ol)throw Ol=0,Em=null,Error(ne(185));ku(t,n,r),(!(Le&2)||t!==nn)&&(t===nn&&(!(Le&2)&&(bf|=n),Yt===4&&Qi(t,dn)),Xn(t,r),n===1&&Le===0&&!(e.mode&1)&&(_a=St()+500,If&&bs()))}function Xn(t,e){var n=t.callbackNode;AC(t,e);var r=dh(t,t===nn?dn:0);if(r===0)n!==null&&R1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&R1(n),e===1)t.tag===0?Tk(w_.bind(null,t)):Zx(w_.bind(null,t)),Ek(function(){!(Le&6)&&bs()}),n=null;else{switch(bx(r)){case 1:n=P0;break;case 4:n=Sx;break;case 16:n=fh;break;case 536870912:n=Tx;break;default:n=fh}n=XI(n,HI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HI(t,e){if(Yc=-1,Xc=0,Le&6)throw Error(ne(327));var n=t.callbackNode;if(sa()&&t.callbackNode!==n)return null;var r=dh(t,t===nn?dn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ph(t,r);else{e=r;var i=Le;Le|=2;var s=GI();(nn!==t||dn!==e)&&(di=null,_a=St()+500,Ks(t,e));do try{Gk();break}catch(a){qI(t,a)}while(1);H0(),Rh.current=s,Le=i,qt!==null?e=0:(nn=null,dn=0,e=Yt)}if(e!==0){if(e===2&&(i=Kg(t),i!==0&&(r=i,e=xm(t,i))),e===1)throw n=au,Ks(t,0),Qi(t,r),Xn(t,St()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Hk(i)&&(e=Ph(t,r),e===2&&(s=Kg(t),s!==0&&(r=s,e=xm(t,s))),e===1))throw n=au,Ks(t,0),Qi(t,r),Xn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Ds(t,qn,di);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=sy+500-St(),10<e)){if(dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nm(Ds.bind(null,t,qn,di),e);break}Ds(t,qn,di);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zk(r/1960))-r,10<r){t.timeoutHandle=nm(Ds.bind(null,t,qn,di),r);break}Ds(t,qn,di);break;case 5:Ds(t,qn,di);break;default:throw Error(ne(329))}}}return Xn(t,St()),t.callbackNode===n?HI.bind(null,t):null}function xm(t,e){var n=Dl;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=Ph(t,e),t!==2&&(e=qn,qn=n,e!==null&&Im(e)),t}function Im(t){qn===null?qn=t:qn.push.apply(qn,t)}function Hk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~iy,e&=~bf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function w_(t){if(Le&6)throw Error(ne(327));sa();var e=dh(t,0);if(!(e&1))return Xn(t,St()),null;var n=Ph(t,e);if(t.tag!==0&&n===2){var r=Kg(t);r!==0&&(e=r,n=xm(t,r))}if(n===1)throw n=au,Ks(t,0),Qi(t,e),Xn(t,St()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,qn,di),Xn(t,St()),null}function oy(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(_a=St()+500,If&&bs())}}function oo(t){ts!==null&&ts.tag===0&&!(Le&6)&&sa();var e=Le;Le|=1;var n=Er.transition,r=He;try{if(Er.transition=null,He=1,t)return t()}finally{He=r,Er.transition=n,Le=e,!(Le&6)&&bs()}}function ay(){tr=Yo.current,st(Yo)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wk(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch($0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:ya(),st(Qn),st(Pn),Y0();break;case 5:Q0(r);break;case 4:ya();break;case 13:st(ft);break;case 19:st(ft);break;case 10:q0(r.type._context);break;case 22:case 23:ay()}n=n.return}if(nn=t,qt=t=ds(t.current,null),dn=tr=e,Yt=0,au=null,iy=bf=so=0,qn=Dl=null,Vs!==null){for(e=0;e<Vs.length;e++)if(n=Vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vs=null}return t}function qI(t,e){do{var n=qt;try{if(H0(),Wc.current=bh,Ah){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ah=!1}if(io=0,en=Wt=gt=null,Nl=!1,iu=0,ry.current=null,n===null||n.return===null){Yt=1,au=e,qt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=dn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var y=c.alternate;y?(c.updateQueue=y.updateQueue,c.memoizedState=y.memoizedState,c.lanes=y.lanes):(c.updateQueue=null,c.memoizedState=null)}var x=a_(o);if(x!==null){x.flags&=-257,l_(x,o,a,s,e),x.mode&1&&o_(s,u,e),e=x,l=u;var R=e.updateQueue;if(R===null){var C=new Set;C.add(l),e.updateQueue=C}else R.add(l);break e}else{if(!(e&1)){o_(s,u,e),ly();break e}l=Error(ne(426))}}else if(ut&&a.mode&1){var P=a_(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),l_(P,o,a,s,e),j0(va(l,a));break e}}s=l=va(l,a),Yt!==4&&(Yt=2),Dl===null?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=RI(s,l,e);J1(s,S);break e;case 1:a=l;var E=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(hs===null||!hs.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=CI(s,a,e);J1(s,L);break e}}s=s.return}while(s!==null)}KI(n)}catch(N){e=N,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(1)}function GI(){var t=Rh.current;return Rh.current=bh,t===null?bh:t}function ly(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),nn===null||!(so&268435455)&&!(bf&268435455)||Qi(nn,dn)}function Ph(t,e){var n=Le;Le|=2;var r=GI();(nn!==t||dn!==e)&&(di=null,Ks(t,e));do try{qk();break}catch(i){qI(t,i)}while(1);if(H0(),Le=n,Rh.current=r,qt!==null)throw Error(ne(261));return nn=null,dn=0,Yt}function qk(){for(;qt!==null;)WI(qt)}function Gk(){for(;qt!==null&&!yC();)WI(qt)}function WI(t){var e=YI(t.alternate,t,tr);t.memoizedProps=t.pendingProps,e===null?KI(t):qt=e,ry.current=null}function KI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fk(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,qt=null;return}}else if(n=Bk(n,e,tr),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);Yt===0&&(Yt=5)}function Ds(t,e,n){var r=He,i=Er.transition;try{Er.transition=null,He=1,Wk(t,e,n,r)}finally{Er.transition=i,He=r}return null}function Wk(t,e,n,r){do sa();while(ts!==null);if(Le&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bC(t,s),t===nn&&(qt=nn=null,dn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ec||(Ec=!0,XI(fh,function(){return sa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var o=He;He=1;var a=Le;Le|=4,ry.current=null,$k(t,n),jI(n,t),dk(em),ph=!!Jg,em=Jg=null,t.current=n,jk(n),vC(),Le=a,He=o,Er.transition=s}else t.current=n;if(Ec&&(Ec=!1,ts=t,kh=i),s=t.pendingLanes,s===0&&(hs=null),EC(n.stateNode),Xn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ch)throw Ch=!1,t=wm,wm=null,t;return kh&1&&t.tag!==0&&sa(),s=t.pendingLanes,s&1?t===Em?Ol++:(Ol=0,Em=t):Ol=0,bs(),null}function sa(){if(ts!==null){var t=bx(kh),e=Er.transition,n=He;try{if(Er.transition=null,He=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,kh=0,Le&6)throw Error(ne(331));var i=Le;for(Le|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var c=ae;switch(c.tag){case 0:case 11:case 15:Ml(8,c,s)}var d=c.child;if(d!==null)d.return=c,ae=d;else for(;ae!==null;){c=ae;var y=c.sibling,x=c.return;if(FI(c),c===u){ae=null;break}if(y!==null){y.return=x,ae=y;break}ae=x}}}var R=s.alternate;if(R!==null){var C=R.child;if(C!==null){R.child=null;do{var P=C.sibling;C.sibling=null,C=P}while(C!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ml(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ae=S;break e}ae=s.return}}var E=t.current;for(ae=E;ae!==null;){o=ae;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ae=v;else e:for(o=E;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Af(9,a)}}catch(N){wt(a,a.return,N)}if(a===o){ae=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,ae=L;break e}ae=a.return}}if(Le=i,bs(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(vf,t)}catch{}r=!0}return r}finally{He=n,Er.transition=e}}return!1}function E_(t,e,n){e=va(n,e),e=RI(t,e,1),t=cs(t,e,1),e=Vn(),t!==null&&(ku(t,1,e),Xn(t,e))}function wt(t,e,n){if(t.tag===3)E_(t,t,n);else for(;e!==null;){if(e.tag===3){E_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=va(n,t),t=CI(e,t,1),e=cs(e,t,1),t=Vn(),e!==null&&(ku(e,1,t),Xn(e,t));break}}e=e.return}}function Kk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(dn&n)===n&&(Yt===4||Yt===3&&(dn&130023424)===dn&&500>St()-sy?Ks(t,0):iy|=n),Xn(t,e)}function QI(t,e){e===0&&(t.mode&1?(e=hc,hc<<=1,!(hc&130023424)&&(hc=4194304)):e=1);var n=Vn();t=ki(t,e),t!==null&&(ku(t,e,n),Xn(t,n))}function Qk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QI(t,n)}function Yk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),QI(t,n)}var YI;YI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,Uk(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,ut&&e.flags&1048576&&Jx(e,Eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qc(t,e),t=e.pendingProps;var i=pa(e,Pn.current);ia(e,n),i=Z0(null,e,r,t,i,n);var s=J0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(r)?(s=!0,_h(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,W0(e),i.updater=Sf,e.stateNode=i,i._reactInternals=e,um(e,r,t,n),e=fm(null,e,r,!0,s,n)):(e.tag=0,ut&&s&&V0(e),Un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Zk(r),t=Cr(r,t),i){case 0:e=hm(null,e,r,t,n);break e;case 1:e=h_(null,e,r,t,n);break e;case 11:e=u_(null,e,r,t,n);break e;case 14:e=c_(null,e,r,Cr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),hm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),h_(t,e,r,i,n);case 3:e:{if(MI(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,rI(t,e),Sh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=va(Error(ne(423)),e),e=f_(t,e,r,n,i);break e}else if(r!==i){i=va(Error(ne(424)),e),e=f_(t,e,r,n,i);break e}else for(rr=us(e.stateNode.containerInfo.firstChild),or=e,ut=!0,Pr=null,n=aI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ga(),r===i){e=Pi(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return lI(e),t===null&&om(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tm(r,i)?o=null:s!==null&&tm(r,s)&&(e.flags|=32),NI(t,e),Un(t,e,o,n),e.child;case 6:return t===null&&om(e),null;case 13:return DI(t,e,n);case 4:return K0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),u_(t,e,r,i,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(xh,r._currentValue),r._currentValue=o,s!==null)if(Ur(s.value,o)){if(s.children===i.children&&!Qn.current){e=Pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),am(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),am(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ia(e,n),i=Ir(i),r=r(i),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,i=Cr(r,e.pendingProps),i=Cr(r.type,i),c_(t,e,r,i,n);case 15:return kI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),Qc(t,e),e.tag=1,Yn(r)?(t=!0,_h(e)):t=!1,ia(e,n),sI(e,r,i),um(e,r,i,n),fm(null,e,r,!0,t,n);case 19:return OI(t,e,n);case 22:return PI(t,e,n)}throw Error(ne(156,e.tag))};function XI(t,e){return Ix(t,e)}function Xk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,n,r){return new Xk(t,e,n,r)}function uy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zk(t){if(typeof t=="function")return uy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R0)return 11;if(t===C0)return 14}return 2}function ds(t,e){var n=t.alternate;return n===null?(n=wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vo:return Qs(n.children,i,s,e);case b0:o=8,i|=8;break;case Mg:return t=wr(12,n,e,i|2),t.elementType=Mg,t.lanes=s,t;case Dg:return t=wr(13,n,e,i),t.elementType=Dg,t.lanes=s,t;case Og:return t=wr(19,n,e,i),t.elementType=Og,t.lanes=s,t;case ox:return Rf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ix:o=10;break e;case sx:o=9;break e;case R0:o=11;break e;case C0:o=14;break e;case Gi:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qs(t,e,n,r){return t=wr(7,t,r,e),t.lanes=n,t}function Rf(t,e,n,r){return t=wr(22,t,r,e),t.elementType=ox,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=wr(6,t,null,e),t.lanes=n,t}function Ep(t,e,n){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cy(t,e,n,r,i,s,o,a,l){return t=new Jk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(s),t}function eP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZI(t){if(!t)return ws;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Yn(n))return Xx(t,n,e)}return e}function JI(t,e,n,r,i,s,o,a,l){return t=cy(n,r,!0,t,i,s,o,a,l),t.context=ZI(null),n=t.current,r=Vn(),i=fs(n),s=xi(r,i),s.callback=e??null,cs(n,s,i),t.current.lanes=i,ku(t,i,r),Xn(t,r),t}function Cf(t,e,n,r){var i=e.current,s=Vn(),o=fs(i);return n=ZI(n),e.context===null?e.context=n:e.pendingContext=n,e=xi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,o),t!==null&&(Mr(t,i,o,s),Gc(t,i,o)),o}function Nh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hy(t,e){x_(t,e),(t=t.alternate)&&x_(t,e)}function tP(){return null}var eS=typeof reportError=="function"?reportError:function(t){console.error(t)};function fy(t){this._internalRoot=t}kf.prototype.render=fy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Cf(t,e,null,null)};kf.prototype.unmount=fy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Cf(null,t,null,null)}),e[Ci]=null}};function kf(t){this._internalRoot=t}kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=kx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ki.length&&e!==0&&e<Ki[n].priority;n++);Ki.splice(n,0,t),n===0&&Nx(t)}};function dy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I_(){}function nP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Nh(o);s.call(u)}}var o=JI(e,r,t,0,null,!1,!1,"",I_);return t._reactRootContainer=o,t[Ci]=o.current,Jl(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Nh(l);a.call(u)}}var l=cy(t,0,!1,null,null,!1,!1,"",I_);return t._reactRootContainer=l,t[Ci]=l.current,Jl(t.nodeType===8?t.parentNode:t),oo(function(){Cf(e,l,n,r)}),l}function Nf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Nh(o);a.call(l)}}Cf(e,o,t,i)}else o=nP(n,e,t,i,r);return Nh(o)}Rx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(N0(e,n|1),Xn(e,St()),!(Le&6)&&(_a=St()+500,bs()))}break;case 13:oo(function(){var r=ki(t,1);if(r!==null){var i=Vn();Mr(r,t,1,i)}}),hy(t,1)}};M0=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=Vn();Mr(e,t,134217728,n)}hy(t,134217728)}};Cx=function(t){if(t.tag===13){var e=fs(t),n=ki(t,e);if(n!==null){var r=Vn();Mr(n,t,e,r)}hy(t,e)}};kx=function(){return He};Px=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};qg=function(t,e,n){switch(e){case"input":if(Bg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xf(r);if(!i)throw Error(ne(90));lx(r),Bg(r,i)}}}break;case"textarea":cx(t,n);break;case"select":e=n.value,e!=null&&ea(t,!!n.multiple,e,!1)}};yx=oy;vx=oo;var rP={usingClientEntryPoint:!1,Events:[Nu,Ho,xf,gx,mx,oy]},ll={findFiberByHostInstance:Fs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iP={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ex(t),t===null?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||tP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{vf=xc.inject(iP),Yr=xc}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rP;ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dy(e))throw Error(ne(200));return eP(t,e,null,n)};ur.createRoot=function(t,e){if(!dy(t))throw Error(ne(299));var n=!1,r="",i=eS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cy(t,1,!1,null,null,n,!1,r,i),t[Ci]=e.current,Jl(t.nodeType===8?t.parentNode:t),new fy(e)};ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=Ex(e),t=t===null?null:t.stateNode,t};ur.flushSync=function(t){return oo(t)};ur.hydrate=function(t,e,n){if(!Pf(e))throw Error(ne(200));return Nf(null,t,e,!0,n)};ur.hydrateRoot=function(t,e,n){if(!dy(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=eS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JI(e,null,t,1,n??null,i,!1,s,o),t[Ci]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kf(e)};ur.render=function(t,e,n){if(!Pf(e))throw Error(ne(200));return Nf(null,t,e,!1,n)};ur.unmountComponentAtNode=function(t){if(!Pf(t))throw Error(ne(40));return t._reactRootContainer?(oo(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};ur.unstable_batchedUpdates=oy;ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pf(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Nf(t,e,n,!1,r)};ur.version="18.2.0-next-9e3b772b8-20220608";function tS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tS)}catch(t){console.error(t)}}tS(),JE.exports=ur;var sP=JE.exports,Mh,S_=sP;Mh=Pg.createRoot=S_.createRoot,Pg.hydrateRoot=S_.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}var ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ns||(ns={}));const T_="popstate";function oP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Sm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dh(i)}return lP(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function py(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aP(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function Sm(t,e,n,r){return n===void 0&&(n=null),lu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fa(e):e,{state:n,key:e&&e.key||r||aP()})}function Dh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ns.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(lu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=ns.Pop;let P=c(),S=P==null?null:P-u;u=P,l&&l({action:a,location:C.location,delta:S})}function y(P,S){a=ns.Push;let E=Sm(C.location,P,S);n&&n(E,P),u=c()+1;let v=A_(E,u),L=C.createHref(E);try{o.pushState(v,"",L)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(L)}s&&l&&l({action:a,location:C.location,delta:1})}function x(P,S){a=ns.Replace;let E=Sm(C.location,P,S);n&&n(E,P),u=c();let v=A_(E,u),L=C.createHref(E);o.replaceState(v,"",L),s&&l&&l({action:a,location:C.location,delta:0})}function R(P){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof P=="string"?P:Dh(P);return mt(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let C={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(T_,d),l=P,()=>{i.removeEventListener(T_,d),l=null}},createHref(P){return e(i,P)},createURL:R,encodeLocation(P){let S=R(P);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:x,go(P){return o.go(P)}};return C}var b_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(b_||(b_={}));function uP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fa(e):e,i=uu(r.pathname||"/",n);if(i==null)return null;let s=nS(t);cP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=_P(s[a],EP(i));return o}function nS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ps([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:yP(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rS(s.path))i(s,o,l)}),e}function rS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hP=/^:\w+$/,fP=3,dP=2,pP=1,gP=10,mP=-2,R_=t=>t==="*";function yP(t,e){let n=t.split("/"),r=n.length;return n.some(R_)&&(r+=mP),e&&(r+=dP),n.filter(i=>!R_(i)).reduce((i,s)=>i+(hP.test(s)?fP:s===""?pP:gP),r)}function vP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _P(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Tm({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ps([i,c.pathname]),pathnameBase:TP(ps([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ps([i,c.pathnameBase]))}return s}function Tm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}return u[c]=xP(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function wP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),py(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EP(t){try{return decodeURI(t)}catch(e){return py(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xP(t,e){try{return decodeURIComponent(t)}catch(n){return py(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function uu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fa(t):t;return{pathname:n?n.startsWith("/")?n:SP(n,e):e,search:AP(r),hash:bP(i)}}function SP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function my(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fa(t):(i=lu({},t),mt(!i.pathname||!i.pathname.includes("?"),xp("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),xp("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),xp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),d-=1;i.pathname=y.join("/")}a=d>=0?e[d]:"/"}let l=IP(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ps=t=>t.join("/").replace(/\/\/+/g,"/"),TP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iS=["post","put","patch","delete"];new Set(iS);const CP=["get",...iS];new Set(CP);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(this,arguments)}const Mf=te.createContext(null),sS=te.createContext(null),wo=te.createContext(null),Df=te.createContext(null),li=te.createContext({outlet:null,matches:[],isDataRoute:!1}),oS=te.createContext(null);function kP(t,e){let{relative:n}=e===void 0?{}:e;Va()||mt(!1);let{basename:r,navigator:i}=te.useContext(wo),{hash:s,pathname:o,search:a}=Of(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ps([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Va(){return te.useContext(Df)!=null}function $a(){return Va()||mt(!1),te.useContext(Df).location}function aS(t){te.useContext(wo).static||te.useLayoutEffect(t)}function Du(){let{isDataRoute:t}=te.useContext(li);return t?qP():PP()}function PP(){Va()||mt(!1);let t=te.useContext(Mf),{basename:e,navigator:n}=te.useContext(wo),{matches:r}=te.useContext(li),{pathname:i}=$a(),s=JSON.stringify(gy(r).map(l=>l.pathnameBase)),o=te.useRef(!1);return aS(()=>{o.current=!0}),te.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=my(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ps([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const NP=te.createContext(null);function MP(t){let e=te.useContext(li).outlet;return e&&te.createElement(NP.Provider,{value:t},e)}function lS(){let{matches:t}=te.useContext(li),e=t[t.length-1];return e?e.params:{}}function Of(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=te.useContext(li),{pathname:i}=$a(),s=JSON.stringify(gy(r).map(o=>o.pathnameBase));return te.useMemo(()=>my(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function DP(t,e){return OP(t,e)}function OP(t,e,n){Va()||mt(!1);let{navigator:r}=te.useContext(wo),{matches:i}=te.useContext(li),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=$a(),u;if(e){var c;let C=typeof e=="string"?Fa(e):e;a==="/"||(c=C.pathname)!=null&&c.startsWith(a)||mt(!1),u=C}else u=l;let d=u.pathname||"/",y=a==="/"?d:d.slice(a.length)||"/",x=uP(t,{pathname:y}),R=VP(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:ps([a,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:ps([a,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n);return e&&R?te.createElement(Df.Provider,{value:{location:Oh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ns.Pop}},R):R}function LP(){let t=HP(),e=RP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:i},n):null,s)}const UP=te.createElement(LP,null);class BP extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?te.createElement(li.Provider,{value:this.props.routeContext},te.createElement(oS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FP(t){let{routeContext:e,match:n,children:r}=t,i=te.useContext(Mf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(li.Provider,{value:e},r)}function VP(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||mt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||UP);let y=e.concat(s.slice(0,u+1)),x=()=>{let R;return c?R=d:l.route.Component?R=te.createElement(l.route.Component,null):l.route.element?R=l.route.element:R=a,te.createElement(FP,{match:l,routeContext:{outlet:a,matches:y,isDataRoute:n!=null},children:R})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?te.createElement(BP,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var uS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uS||{}),Lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lh||{});function $P(t){let e=te.useContext(Mf);return e||mt(!1),e}function jP(t){let e=te.useContext(sS);return e||mt(!1),e}function zP(t){let e=te.useContext(li);return e||mt(!1),e}function cS(t){let e=zP(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function HP(){var t;let e=te.useContext(oS),n=jP(Lh.UseRouteError),r=cS(Lh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function qP(){let{router:t}=$P(uS.UseNavigateStable),e=cS(Lh.UseNavigateStable),n=te.useRef(!1);return aS(()=>{n.current=!0}),te.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Oh({fromRouteId:e},s)))},[t,e])}function Ll(t){let{to:e,replace:n,state:r,relative:i}=t;Va()||mt(!1);let{matches:s}=te.useContext(li),{pathname:o}=$a(),a=Du(),l=my(e,gy(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return te.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function hS(t){return MP(t.context)}function On(t){mt(!1)}function GP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ns.Pop,navigator:s,static:o=!1}=t;Va()&&mt(!1);let a=e.replace(/^\/*/,"/"),l=te.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Fa(r));let{pathname:u="/",search:c="",hash:d="",state:y=null,key:x="default"}=r,R=te.useMemo(()=>{let C=uu(u,a);return C==null?null:{location:{pathname:C,search:c,hash:d,state:y,key:x},navigationType:i}},[a,u,c,d,y,x,i]);return R==null?null:te.createElement(wo.Provider,{value:l},te.createElement(Df.Provider,{children:n,value:R}))}function C_(t){let{children:e,location:n}=t;return DP(Am(e),n)}new Promise(()=>{});function Am(t,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(t,(r,i)=>{if(!te.isValidElement(r))return;let s=[...e,i];if(r.type===te.Fragment){n.push.apply(n,Am(r.props.children,s));return}r.type!==On&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Am(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uh.apply(this,arguments)}function fS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KP(t,e){return t.button===0&&(!e||e==="_self")&&!WP(t)}const QP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],YP=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],XP=te.createContext({isTransitioning:!1}),ZP="startTransition",k_=QR[ZP];function P_(t){let{basename:e,children:n,future:r,window:i}=t,s=te.useRef();s.current==null&&(s.current=oP({window:i,v5Compat:!0}));let o=s.current,[a,l]=te.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=te.useCallback(d=>{u&&k_?k_(()=>l(d)):l(d)},[l,u]);return te.useLayoutEffect(()=>o.listen(c),[o,c]),te.createElement(GP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const JP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ao=te.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,y=fS(e,QP),{basename:x}=te.useContext(wo),R,C=!1;if(typeof u=="string"&&eN.test(u)&&(R=u,JP))try{let v=new URL(window.location.href),L=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=uu(L.pathname,x);L.origin===v.origin&&N!=null?u=N+L.search+L.hash:C=!0}catch{}let P=kP(u,{relative:i}),S=nN(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function E(v){r&&r(v),v.defaultPrevented||S(v)}return te.createElement("a",Uh({},y,{href:R||P,onClick:C||s?r:E,ref:n,target:l}))}),Xo=te.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,d=fS(e,YP),y=Of(l,{relative:d.relative}),x=$a(),R=te.useContext(sS),{navigator:C}=te.useContext(wo),P=R!=null&&rN(y)&&u===!0,S=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,E=x.pathname,v=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(E=E.toLowerCase(),v=v?v.toLowerCase():null,S=S.toLowerCase());let L=E===S||!o&&E.startsWith(S)&&E.charAt(S.length)==="/",N=v!=null&&(v===S||!o&&v.startsWith(S)&&v.charAt(S.length)==="/"),B={isActive:L,isPending:N,isTransitioning:P},F=L?r:void 0,V;typeof s=="function"?V=s(B):V=[s,L?"active":null,N?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Y=typeof a=="function"?a(B):a;return te.createElement(ao,Uh({},d,{"aria-current":F,className:V,ref:n,style:Y,to:l,unstable_viewTransition:u}),typeof c=="function"?c(B):c)});var bm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bm||(bm={}));var N_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(N_||(N_={}));function tN(t){let e=te.useContext(Mf);return e||mt(!1),e}function nN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Du(),u=$a(),c=Of(t,{relative:o});return te.useCallback(d=>{if(KP(d,n)){d.preventDefault();let y=r!==void 0?r:Dh(u)===Dh(c);l(t,{replace:y,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function rN(t,e){e===void 0&&(e={});let n=te.useContext(XP);n==null&&mt(!1);let{basename:r}=tN(bm.useViewTransitionState),i=Of(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=uu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=uu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tm(i.pathname,o)!=null||Tm(i.pathname,s)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let y=(a&15)<<2|u>>6,x=u&63;l||(x=64,o||(y=64)),r.push(n[c],n[d],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new sN;const y=s<<2|a>>4;if(r.push(y),u!==64){const x=a<<4&240|u>>2;if(r.push(x),d!==64){const R=u<<6&192|d;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oN=function(t){const e=dS(t);return pS.encodeByteArray(e,!0)},Bh=function(t){return oN(t).replace(/\./g,"")},gS=function(t){try{return pS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=()=>aN().__FIREBASE_DEFAULTS__,uN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gS(t[1]);return e&&JSON.parse(e)},Lf=()=>{try{return lN()||uN()||cN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mS=t=>{var e,n;return(n=(e=Lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yS=t=>{const e=mS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vS=()=>{var t;return(t=Lf())===null||t===void 0?void 0:t.config},_S=t=>{var e;return(e=Lf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Bh(JSON.stringify(n)),Bh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function dN(){var t;const e=(t=Lf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mN(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yN(){try{return typeof indexedDB=="object"}catch{return!1}}function vN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_N,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ui(i,a,r)}}function wN(t,e){return t.replace(EN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EN=/\{\$([^}]+)}/g;function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(M_(s)&&M_(o)){if(!Fh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IN(t,e){const n=new SN(t,e);return n.subscribe.bind(n)}class SN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ip),i.error===void 0&&(i.error=Ip),i.complete===void 0&&(i.complete=Ip);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RN(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bN(t){return t===Os?void 0:t}function RN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const kN={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},PN=De.INFO,NN={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},MN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yy{constructor(e){this.name=e,this._logLevel=PN,this._logHandler=MN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const DN=(t,e)=>e.some(n=>t instanceof n);let D_,O_;function ON(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LN(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ES=new WeakMap,Rm=new WeakMap,xS=new WeakMap,Sp=new WeakMap,vy=new WeakMap;function UN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ES.set(n,t)}).catch(()=>{}),vy.set(e,t),e}function BN(t){if(Rm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rm.set(t,e)}let Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FN(t){Cm=t(Cm)}function VN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tp(this),e,...n);return xS.set(r,e.sort?e.sort():[e]),gs(r)}:LN().includes(t)?function(...e){return t.apply(Tp(this),e),gs(ES.get(this))}:function(...e){return gs(t.apply(Tp(this),e))}}function $N(t){return typeof t=="function"?VN(t):(t instanceof IDBTransaction&&BN(t),DN(t,ON())?new Proxy(t,Cm):t)}function gs(t){if(t instanceof IDBRequest)return UN(t);if(Sp.has(t))return Sp.get(t);const e=$N(t);return e!==t&&(Sp.set(t,e),vy.set(e,t)),e}const Tp=t=>vy.get(t);function jN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gs(o.result),l.oldVersion,l.newVersion,gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zN=["get","getKey","getAll","getAllKeys","count"],HN=["put","add","delete","clear"],Ap=new Map;function L_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ap.set(e,s),s}FN(t=>({...t,get:(e,n,r)=>L_(e,n)||t.get(e,n,r),has:(e,n)=>!!L_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",U_="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new yy("@firebase/app"),WN="@firebase/app-compat",KN="@firebase/analytics-compat",QN="@firebase/analytics",YN="@firebase/app-check-compat",XN="@firebase/app-check",ZN="@firebase/auth",JN="@firebase/auth-compat",e4="@firebase/database",t4="@firebase/database-compat",n4="@firebase/functions",r4="@firebase/functions-compat",i4="@firebase/installations",s4="@firebase/installations-compat",o4="@firebase/messaging",a4="@firebase/messaging-compat",l4="@firebase/performance",u4="@firebase/performance-compat",c4="@firebase/remote-config",h4="@firebase/remote-config-compat",f4="@firebase/storage",d4="@firebase/storage-compat",p4="@firebase/firestore",g4="@firebase/firestore-compat",m4="firebase",y4="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]",v4={[km]:"fire-core",[WN]:"fire-core-compat",[QN]:"fire-analytics",[KN]:"fire-analytics-compat",[XN]:"fire-app-check",[YN]:"fire-app-check-compat",[ZN]:"fire-auth",[JN]:"fire-auth-compat",[e4]:"fire-rtdb",[t4]:"fire-rtdb-compat",[n4]:"fire-fn",[r4]:"fire-fn-compat",[i4]:"fire-iid",[s4]:"fire-iid-compat",[o4]:"fire-fcm",[a4]:"fire-fcm-compat",[l4]:"fire-perf",[u4]:"fire-perf-compat",[c4]:"fire-rc",[h4]:"fire-rc-compat",[f4]:"fire-gcs",[d4]:"fire-gcs-compat",[p4]:"fire-fst",[g4]:"fire-fst-compat","fire-js":"fire-js",[m4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,Nm=new Map;function _4(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(Nm.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(const n of Vh.values())_4(n,t);return!0}function Uf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ms=new Ou("app","Firebase",w4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=y4;function Rs(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ms.create("bad-app-name",{appName:String(i)});if(n||(n=vS()),!n)throw ms.create("no-options");const s=Vh.get(i);if(s){if(Fh(n,s.options)&&Fh(r,s.config))return s;throw ms.create("duplicate-app",{appName:i})}const o=new CN(i);for(const l of Nm.values())o.addComponent(l);const a=new E4(n,r,o);return Vh.set(i,a),a}function _y(t=Pm){const e=Vh.get(t);if(!e&&t===Pm&&vS())return Rs();if(!e)throw ms.create("no-app",{appName:t});return e}function Zr(t,e,n){var r;let i=(r=v4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}uo(new Es(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firebase-heartbeat-database",I4=1,cu="firebase-heartbeat-store";let bp=null;function IS(){return bp||(bp=jN(x4,I4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cu)}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),bp}async function S4(t){try{return await(await IS()).transaction(cu).objectStore(cu).get(SS(t))}catch(e){if(e instanceof ui)lo.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function B_(t,e){try{const r=(await IS()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,SS(t)),await r.done}catch(n){if(n instanceof ui)lo.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function SS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1024,A4=30*24*60*60*1e3;class b4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=F_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=A4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F_(),{heartbeatsToSend:n,unsentEntries:r}=R4(this._heartbeatsCache.heartbeats),i=Bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function F_(){return new Date().toISOString().substring(0,10)}function R4(t,e=T4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),V_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yN()?vN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await S4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function V_(t){return Bh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){uo(new Es("platform-logger",e=>new qN(e),"PRIVATE")),uo(new Es("heartbeat",e=>new b4(e),"PRIVATE")),Zr(km,U_,t),Zr(km,U_,"esm2017"),Zr("fire-js","")}k4("");var P4="firebase",N4="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(P4,N4,"app");function wy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $_(t){return t!==void 0&&t.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function TS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D4=TS,AS=new Ou("auth","Firebase",TS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new yy("@firebase/auth");function O4(t,...e){$h.logLevel<=De.WARN&&$h.warn(`Auth (${Eo}): ${t}`,...e)}function Jc(t,...e){$h.logLevel<=De.ERROR&&$h.error(`Auth (${Eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Ey(t,...e)}function Jr(t,...e){return Ey(t,...e)}function bS(t,e,n){const r=Object.assign(Object.assign({},D4()),{[e]:n});return new Ou("auth","Firebase",r).create(e,{appName:t.name})}function L4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),bS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ey(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AS.create(t,...e)}function we(t,e,...n){if(!t)throw Ey(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jc(e),new Error(e)}function Ni(t,e){t||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U4(){return j_()==="http:"||j_()==="https:"}function j_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U4()||pN()||"connection"in navigator)?navigator.onLine:!0}function F4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=fN()||gN()}get(){return B4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new Uu(3e4,6e4);function xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cs(t,e,n,r,i={}){return CS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Lu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),RS.fetch()(kS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function CS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V4),e);try{const i=new j4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ic(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ic(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bS(t,c,u);Tr(t,c)}}catch(i){if(i instanceof ui)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function Bu(t,e,n,r,i={}){const s=await Cs(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xy(t.config,i):`${t.config.apiScheme}://${i}`}class j4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),$4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}async function z4(t,e){return Cs(t,"GET","/v2/recaptchaConfig",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e){return Cs(t,"POST","/v1/accounts:delete",e)}async function q4(t,e){return Cs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G4(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=Iy(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ul(Rp(i.auth_time)),issuedAtTime:Ul(Rp(i.iat)),expirationTime:Ul(Rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rp(t){return Number(t)*1e3}function Iy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const i=gS(n);return i?JSON.parse(i):(Jc("Failed to decode base64 JWT payload"),null)}catch(i){return Jc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W4(t){const e=Iy(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&K4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function K4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wa(t,q4(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Z4(s.providerUserInfo):[],a=X4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new PS(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Y4(t){const e=Tt(t);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Z4(t){return t.map(e=>{var{providerId:n}=e,r=wy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(t,e){const n=await CS(t,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return we(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await J4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hu;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hu,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ys{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=wy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new PS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wa(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G4(this,e)}reload(){return Y4(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await wa(this,H4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,R=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:L,isAnonymous:N,providerData:B,stsTokenManager:F}=n;we(v&&F,e,"internal-error");const V=hu.fromJSON(this.name,F);we(typeof v=="string",e,"internal-error"),Vi(d,e.name),Vi(y,e.name),we(typeof L=="boolean",e,"internal-error"),we(typeof N=="boolean",e,"internal-error"),Vi(x,e.name),Vi(R,e.name),Vi(C,e.name),Vi(P,e.name),Vi(S,e.name),Vi(E,e.name);const Y=new Ys({uid:v,auth:e,email:y,emailVerified:L,displayName:d,isAnonymous:N,photoURL:R,phoneNumber:x,tenantId:C,stsTokenManager:V,createdAt:S,lastLoginAt:E});return B&&Array.isArray(B)&&(Y.providerData=B.map(X=>Object.assign({},X))),P&&(Y._redirectEventId=P),Y}static async _fromIdTokenResponse(e,n,r=!1){const i=new hu;i.updateFromServerResponse(n);const s=new Ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function wi(t){Ni(t instanceof Function,"Expected a class definition");let e=z_.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NS.type="NONE";const H_=NS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e,n){return`firebase:${t}:${e}:${n}`}class oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,s),this.fullPersistenceKey=eh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oa(wi(H_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||wi(H_);const o=eh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ys._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new oa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new oa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(US(e))return"Blackberry";if(BS(e))return"Webos";if(Sy(e))return"Safari";if((e.includes("chrome/")||DS(e))&&!e.includes("edge/"))return"Chrome";if(LS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MS(t=Nn()){return/firefox\//i.test(t)}function Sy(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DS(t=Nn()){return/crios\//i.test(t)}function OS(t=Nn()){return/iemobile/i.test(t)}function LS(t=Nn()){return/android/i.test(t)}function US(t=Nn()){return/blackberry/i.test(t)}function BS(t=Nn()){return/webos/i.test(t)}function Bf(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eM(t=Nn()){var e;return Bf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tM(){return mN()&&document.documentMode===10}function FS(t=Nn()){return Bf(t)||LS(t)||BS(t)||US(t)||/windows phone/i.test(t)||OS(t)}function nM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e=[]){let n;switch(t){case"Browser":n=q_(Nn());break;case"Worker":n=`${q_(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e={}){return Cs(t,"GET","/v2/passwordPolicy",xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=6;class oM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:sM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new rM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await oa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Tt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iM(this),n=new oM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bi(t){return Tt(t)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=IN(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function $S(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lM().appendChild(r)})}function uM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cM="https://www.google.com/recaptcha/enterprise.js?render=",hM="recaptcha-enterprise",fM="NO_RECAPTCHA";class dM{constructor(e){this.type=hM,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{z4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new M4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;$_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(fM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&$_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}$S(cM+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function zh(t,e,n,r=!1){const i=new dM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e){const n=Uf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fh(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function gM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mM(t,e,n){const r=Bi(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=jS(e),{host:o,port:a}=yM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vM()}function jS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yM(t){const e=jS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:W_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:W_(o)}}}function W_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function _M(t,e){return Cs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}async function EM(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Ty{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await zh(e,r,"signInWithPassword");return Cp(e,i)}else return Cp(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await zh(e,r,"signInWithPassword");return Cp(e,s)}else return Promise.reject(i)});case"emailLink":return wM(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return _M(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return EM(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class co extends Ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=wy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new co(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return aa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,aa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,aa(e,n)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SM(t){const e=_l(wl(t)).link,n=e?_l(wl(e)).deep_link_id:null,r=_l(wl(t)).deep_link_id;return(r?_l(wl(r)).link:null)||r||n||e||t}class Ay{constructor(e){var n,r,i,s,o,a;const l=_l(wl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=IM((i=l.mode)!==null&&i!==void 0?i:null);we(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=SM(e);try{return new Ay(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ay.parseLink(n);return we(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends by{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Fu{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return co._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Fu{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Fu{constructor(){super("twitter.com")}static credential(e,n){return co._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t,e){return Bu(t,"POST","/v1/accounts:signUp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ys._fromIdTokenResponse(e,r,i),o=K_(r);return new Mi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=K_(r);return new Mi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function K_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t){var e;const n=Bi(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Mi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await th(n,{returnSecureToken:!0}),i=await Mi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends ui{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hh(e,n,r,i)}}function zS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(t,s,e,r):s})}async function AM(t,e,n=!1){const r=await wa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await wa(t,zS(r,i,e,t),n);we(s.idToken,r,"internal-error");const o=Iy(s.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Mi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t,e,n=!1){const r="signIn",i=await zS(t,r,e),s=await Mi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function RM(t,e){return HS(Bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t){const e=Bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CM(t,e,n){var r;const i=Bi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await zh(i,s,"signUpPassword");o=th(i,u)}else o=th(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await zh(i,s,"signUpPassword");return th(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&qS(t),u}),l=await Mi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function kM(t,e,n){return RM(Tt(t),ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e){return Cs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Tt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await wa(r,PM(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function NM(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function MM(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function DM(t){return Tt(t).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){const t=Nn();return Sy(t)||Bf(t)}const LM=1e3,UM=10;class KS extends WS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=OM()&&nM(),this.fallbackToPolling=FS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);tM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KS.type="LOCAL";const BM=KS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends WS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QS.type="SESSION";const YS=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await FM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ry("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const y=d;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function $M(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function jM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HM(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebaseLocalStorageDb",qM=1,Gh="firebaseLocalStorage",JS="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function GM(){const t=indexedDB.deleteDatabase(ZS);return new Vu(t).toPromise()}function Dm(){const t=indexedDB.open(ZS,qM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gh,{keyPath:JS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await GM(),e(await Dm()))})})}async function Q_(t,e,n){const r=Vf(t,!0).put({[JS]:e,value:n});return new Vu(r).toPromise()}async function WM(t,e){const n=Vf(t,!1).get(e),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function Y_(t,e){const n=Vf(t,!0).delete(e);return new Vu(n).toPromise()}const KM=800,QM=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(HM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jM(),!this.activeServiceWorker)return;this.sender=new VM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dm();return await Q_(e,qh,"1"),await Y_(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vf(i,!1).getAll();return new Vu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const YM=eT;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){return e?wi(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends Ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XM(t){return HS(t.auth,new Cy(t),t.bypassAuthState)}function ZM(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),bM(n,new Cy(t),t.bypassAuthState)}async function JM(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),AM(n,new Cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XM;case"linkViaPopup":case"linkViaRedirect":return JM;case"reauthViaPopup":case"reauthViaRedirect":return ZM;default:Tr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new Uu(2e3,1e4);async function rT(t,e,n){const r=Bi(t);L4(t,e,by);const i=tT(r,n);return new js(r,"signInViaPopup",e,i).executeNotNull()}class js extends nT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e3.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="pendingRedirect",nh=new Map;class n3 extends nT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await r3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r3(t,e){const n=o3(e),r=s3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function i3(t,e){nh.set(t._key(),e)}function s3(t){return wi(t._redirectPersistence)}function o3(t){return eh(t3,t.config.apiKey,t.name)}async function a3(t,e,n=!1){const r=Bi(t),i=tT(r,e),o=await new n3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=10*60*1e3;class u3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l3&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(e))}saveEventToCache(e){this.cachedEventUids.add(X_(e)),this.lastProcessedEventTime=Date.now()}}function X_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e={}){return Cs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;async function p3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h3(t);for(const n of e)try{if(g3(n))return}catch{}Tr(t,"unauthorized-domain")}function g3(t){const e=Mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!d3.test(n))return!1;if(f3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new Uu(3e4,6e4);function Z_(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y3(t){return new Promise((e,n)=>{var r,i,s;function o(){Z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(Jr(t,"network-request-failed"))},timeout:m3.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ei().gapi)===null||s===void 0)&&s.load)o();else{const a=uM("iframefcb");return ei()[a]=()=>{gapi.load?o():n(Jr(t,"network-request-failed"))},$S(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rh=null,e})}let rh=null;function v3(t){return rh=rh||y3(t),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Uu(5e3,15e3),w3="__/auth/iframe",E3="emulator/auth/iframe",x3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S3(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xy(e,E3):`https://${t.config.authDomain}/${w3}`,r={apiKey:e.apiKey,appName:t.name,v:Eo},i=I3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lu(r).slice(1)}`}async function T3(t){const e=await v3(t),n=ei().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:S3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jr(t,"network-request-failed"),a=ei().setTimeout(()=>{s(o)},_3.get());function l(){ei().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b3=500,R3=600,C3="_blank",k3="http://localhost";class J_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P3(t,e,n,r=b3,i=R3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},A3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Nn().toLowerCase();n&&(a=DS(u)?C3:n),MS(u)&&(e=e||k3,l.scrollbars="yes");const c=Object.entries(l).reduce((y,[x,R])=>`${y}${x}=${R},`,"");if(eM(u)&&a!=="_self")return N3(e||"",a),new J_(null);const d=window.open(e||"",a,c);we(d,t,"popup-blocked");try{d.focus()}catch{}return new J_(d)}function N3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="__/auth/handler",D3="emulator/auth/handler",O3=encodeURIComponent("fac");async function ew(t,e,n,r,i,s){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eo,eventId:i};if(e instanceof by){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Fu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${O3}=${encodeURIComponent(l)}`:"";return`${L3(t)}?${Lu(a).slice(1)}${u}`}function L3({config:t}){return t.emulator?xy(t,D3):`https://${t.authDomain}/${M3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class U3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YS,this._completeRedirectFn=a3,this._overrideRedirectResult=i3}async _openPopup(e,n,r,i){var s;Ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ew(e,n,r,Mm(),i);return P3(e,o,Ry())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ew(e,n,r,Mm(),i);return $M(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T3(e),r=new u3(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kp,{type:kp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[kp];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FS()||Sy()||Bf()}}const B3=U3;var tw="@firebase/auth",nw="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $3(t){uo(new Es("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(t)},u=new aM(r,i,s,l);return gM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new Es("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new F3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(tw,nw,V3(t)),Zr(tw,nw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=5*60,z3=_S("authIdTokenMaxAge")||j3;let rw=null;const H3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z3)return;const i=n==null?void 0:n.token;rw!==i&&(rw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xs(t=_y()){const e=Uf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pM(t,{popupRedirectResolver:B3,persistence:[YM,BM,YS]}),r=_S("authTokenSyncURL");if(r){const s=H3(r);MM(n,s,()=>s(n.currentUser)),NM(n,o=>s(o))}const i=mS("auth");return i&&mM(n,`http://${i}`),n}$3("Browser");var q3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se,ky=ky||{},Ie=q3||self;function $f(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $u(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function G3(t){return Object.prototype.hasOwnProperty.call(t,Pp)&&t[Pp]||(t[Pp]=++W3)}var Pp="closure_uid_"+(1e9*Math.random()>>>0),W3=0;function K3(t,e,n){return t.call.apply(t.bind,arguments)}function Q3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Cn=K3:Cn=Q3,Cn.apply(null,arguments)}function Sc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function sn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ks(){this.s=this.s,this.o=this.o}var Y3=0;ks.prototype.s=!1;ks.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Y3!=0)&&G3(this)};ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Py(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($f(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function kn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kn.prototype.h=function(){this.defaultPrevented=!0};var X3=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ie.addEventListener("test",()=>{},e),Ie.removeEventListener("test",()=>{},e)}catch{}return t}();function du(t){return/^[\s\xa0]*$/.test(t)}function jf(){var t=Ie.navigator;return t&&(t=t.userAgent)?t:""}function qr(t){return jf().indexOf(t)!=-1}function Ny(t){return Ny[" "](t),t}Ny[" "]=function(){};function Z3(t,e){var n=H6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var J3=qr("Opera"),Ea=qr("Trident")||qr("MSIE"),oT=qr("Edge"),Om=oT||Ea,aT=qr("Gecko")&&!(jf().toLowerCase().indexOf("webkit")!=-1&&!qr("Edge"))&&!(qr("Trident")||qr("MSIE"))&&!qr("Edge"),e6=jf().toLowerCase().indexOf("webkit")!=-1&&!qr("Edge");function lT(){var t=Ie.document;return t?t.documentMode:void 0}var Lm;e:{var Np="",Mp=function(){var t=jf();if(aT)return/rv:([^\);]+)(\)|;)/.exec(t);if(oT)return/Edge\/([\d\.]+)/.exec(t);if(Ea)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(e6)return/WebKit\/(\S+)/.exec(t);if(J3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mp&&(Np=Mp?Mp[1]:""),Ea){var Dp=lT();if(Dp!=null&&Dp>parseFloat(Np)){Lm=String(Dp);break e}}Lm=Np}var Um;if(Ie.document&&Ea){var sw=lT();Um=sw||parseInt(Lm,10)||void 0}else Um=void 0;var t6=Um;function pu(t,e){if(kn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aT){e:{try{Ny(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:n6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pu.$.h.call(this)}}sn(pu,kn);var n6={2:"touch",3:"pen",4:"mouse"};pu.prototype.h=function(){pu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ju="closure_listenable_"+(1e6*Math.random()|0),r6=0;function i6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++r6,this.fa=this.ia=!1}function zf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function My(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s6(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function uT(t){const e={};for(const n in t)e[n]=t[n];return e}const ow="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ow.length;s++)n=ow[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hf(t){this.src=t,this.g={},this.h=0}Hf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Fm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new i6(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Bm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=sT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Dy="closure_lm_"+(1e6*Math.random()|0),Op={};function hT(t,e,n,r,i){if(r&&r.once)return dT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)hT(t,e[s],n,r,i);return null}return n=Uy(n),t&&t[ju]?t.O(e,n,$u(r)?!!r.capture:!!r,i):fT(t,e,n,!1,r,i)}function fT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$u(i)?!!i.capture:!!i,a=Ly(t);if(a||(t[Dy]=a=new Hf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=o6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)X3||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function o6(){function t(n){return e.call(t.src,t.listener,n)}const e=a6;return t}function dT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dT(t,e[s],n,r,i);return null}return n=Uy(n),t&&t[ju]?t.P(e,n,$u(r)?!!r.capture:!!r,i):fT(t,e,n,!0,r,i)}function pT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pT(t,e[s],n,r,i);else r=$u(r)?!!r.capture:!!r,n=Uy(n),t&&t[ju]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Fm(s,n,r,i),-1<n&&(zf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ly(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fm(e,n,r,i)),(n=-1<t?e[t]:null)&&Oy(n))}function Oy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ju])Bm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ly(e))?(Bm(n,t),n.h==0&&(n.src=null,e[Dy]=null)):zf(t)}}}function gT(t){return t in Op?Op[t]:Op[t]="on"+t}function a6(t,e){if(t.fa)t=!0;else{e=new pu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Oy(t),t=n.call(r,e)}return t}function Ly(t){return t=t[Dy],t instanceof Hf?t:null}var Lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(t){return typeof t=="function"?t:(t[Lp]||(t[Lp]=function(e){return t.handleEvent(e)}),t[Lp])}function rn(){ks.call(this),this.i=new Hf(this),this.S=this,this.J=null}sn(rn,ks);rn.prototype[ju]=!0;rn.prototype.removeEventListener=function(t,e,n,r){pT(this,t,e,n,r)};function pn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new kn(e,t);else if(e instanceof kn)e.target=e.target||t;else{var i=e;e=new kn(r,t),cT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Tc(o,r,!0,e)&&i}if(o=e.g=t,i=Tc(o,r,!0,e)&&i,i=Tc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Tc(o,r,!1,e)&&i}rn.prototype.N=function(){if(rn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zf(n[r]);delete t.g[e],t.h--}}this.J=null};rn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Tc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Bm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var By=Ie.JSON.stringify;class l6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function u6(){var t=Fy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class c6{constructor(){this.h=this.g=null}add(e,n){const r=mT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var mT=new l6(()=>new h6,t=>t.reset());class h6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function f6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function d6(t){Ie.setTimeout(()=>{throw t},0)}let gu,mu=!1,Fy=new c6,yT=()=>{const t=Ie.Promise.resolve(void 0);gu=()=>{t.then(p6)}};var p6=()=>{for(var t;t=u6();){try{t.h.call(t.g)}catch(n){d6(n)}var e=mT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mu=!1};function qf(t,e){rn.call(this),this.h=t||1,this.g=e||Ie,this.j=Cn(this.qb,this),this.l=Date.now()}sn(qf,rn);se=qf.prototype;se.ga=!1;se.T=null;se.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(Vy(this),this.start()))}};se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}se.N=function(){qf.$.N.call(this),Vy(this),delete this.g};function $y(t,e,n){if(typeof t=="function")n&&(t=Cn(t,n));else if(t&&typeof t.handleEvent=="function")t=Cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ie.setTimeout(t,e||0)}function vT(t){t.g=$y(()=>{t.g=null,t.i&&(t.i=!1,vT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class g6 extends ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vT(this)}N(){super.N(),this.g&&(Ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yu(t){ks.call(this),this.h=t,this.g={}}sn(yu,ks);var aw=[];function _T(t,e,n,r){Array.isArray(n)||(n&&(aw[0]=n.toString()),n=aw);for(var i=0;i<n.length;i++){var s=hT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function wT(t){My(t.g,function(e,n){this.g.hasOwnProperty(n)&&Oy(e)},t),t.g={}}yu.prototype.N=function(){yu.$.N.call(this),wT(this)};yu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gf(){this.g=!0}Gf.prototype.Ea=function(){this.g=!1};function m6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function y6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Zo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_6(t,n)+(r?" "+r:"")})}function v6(t,e){t.info(function(){return"TIMEOUT: "+e})}Gf.prototype.info=function(){};function _6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return By(n)}catch{return e}}var Io={},lw=null;function Wf(){return lw=lw||new rn}Io.Ta="serverreachability";function ET(t){kn.call(this,Io.Ta,t)}sn(ET,kn);function vu(t){const e=Wf();pn(e,new ET(e))}Io.STAT_EVENT="statevent";function xT(t,e){kn.call(this,Io.STAT_EVENT,t),this.stat=e}sn(xT,kn);function Bn(t){const e=Wf();pn(e,new xT(e,t))}Io.Ua="timingevent";function IT(t,e){kn.call(this,Io.Ua,t),this.size=e}sn(IT,kn);function zu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){t()},e)}var Kf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ST={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jy(){}jy.prototype.h=null;function uw(t){return t.h||(t.h=t.i())}function TT(){}var Hu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zy(){kn.call(this,"d")}sn(zy,kn);function Hy(){kn.call(this,"c")}sn(Hy,kn);var Vm;function Qf(){}sn(Qf,jy);Qf.prototype.g=function(){return new XMLHttpRequest};Qf.prototype.i=function(){return{}};Vm=new Qf;function qu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new yu(this),this.P=w6,t=Om?125:void 0,this.V=new qf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new AT}function AT(){this.i=null,this.g="",this.h=!1}var w6=45e3,$m={},Wh={};se=qu.prototype;se.setTimeout=function(t){this.P=t};function jm(t,e,n){t.L=1,t.v=Xf(Di(e)),t.s=n,t.S=!0,bT(t,null)}function bT(t,e){t.G=Date.now(),Gu(t),t.A=Di(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),OT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new AT,t.g=nA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new g6(Cn(t.Pa,t,t.g),t.O)),_T(t.U,t.g,"readystatechange",t.nb),e=t.I?uT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),vu(),m6(t.j,t.u,t.A,t.m,t.W,t.s)}se.nb=function(t){t=t.target;const e=this.M;e&&Wr(t)==3?e.l():this.Pa(t)};se.Pa=function(t){try{if(t==this.g)e:{const c=Wr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Om||this.g&&(this.h.h||this.g.ja()||dw(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?vu(3):vu(2)),Yf(this);var n=this.g.da();this.ca=n;t:if(RT(this)){var r=dw(this.g);t="";var i=r.length,s=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zs(this),Bl(this);var o="";break t}this.h.i=new Ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,y6(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!du(a)){var u=a;break t}}u=null}if(n=u)Zo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zm(this,n);else{this.i=!1,this.o=3,Bn(12),zs(this),Bl(this);break e}}this.S?(CT(this,c,o),Om&&this.i&&c==3&&(_T(this.U,this.V,"tick",this.mb),this.V.start())):(Zo(this.j,this.m,o,null),zm(this,o)),c==4&&zs(this),this.i&&!this.J&&(c==4?ZT(this.l,this):(this.i=!1,Gu(this)))}else $6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),zs(this),Bl(this)}}}catch{}finally{}};function RT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function CT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=E6(t,n),i==Wh){e==4&&(t.o=4,Bn(14),r=!1),Zo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==$m){t.o=4,Bn(15),Zo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Zo(t.j,t.m,i,null),zm(t,i);RT(t)&&i!=Wh&&i!=$m&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yy(e),e.M=!0,Bn(11))):(Zo(t.j,t.m,n,"[Invalid Chunked Response]"),zs(t),Bl(t))}se.mb=function(){if(this.g){var t=Wr(this.g),e=this.g.ja();this.C<e.length&&(Yf(this),CT(this,t,e),this.i&&t!=4&&Gu(this))}};function E6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Wh:(n=Number(e.substring(n,r)),isNaN(n)?$m:(r+=1,r+n>e.length?Wh:(e=e.slice(r,r+n),t.C=r+n,e)))}se.cancel=function(){this.J=!0,zs(this)};function Gu(t){t.Y=Date.now()+t.P,kT(t,t.P)}function kT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=zu(Cn(t.lb,t),e)}function Yf(t){t.B&&(Ie.clearTimeout(t.B),t.B=null)}se.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(v6(this.j,this.A),this.L!=2&&(vu(),Bn(17)),zs(this),this.o=2,Bl(this)):kT(this,this.Y-t)};function Bl(t){t.l.H==0||t.J||ZT(t.l,t)}function zs(t){Yf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Vy(t.V),wT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Hm(n.i,t))){if(!t.K&&Hm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yh(n),td(n);else break e;Qy(n),Bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=zu(Cn(n.ib,n),6e3));if(1>=BT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Hs(n,11)}else if((t.K||n.g==t)&&Yh(n),!du(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const y=u[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const x=t.g;if(x){const R=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=r.i;s.g||R.indexOf("spdy")==-1&&R.indexOf("quic")==-1&&R.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(qy(s,s.h),s.h=null))}if(r.F){const C=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,it(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=tA(r,r.J?r.pa:null,r.Y),o.K){FT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Yf(a),Gu(a)),r.g=o}else YT(r);0<n.j.length&&nd(n)}else u[0]!="stop"&&u[0]!="close"||Hs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Hs(n,7):Ky(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}vu(4)}catch{}}function x6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function I6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($f(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function PT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($f(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=I6(t),r=x6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var NT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zs){this.h=t.h,Kh(this,t.j),this.s=t.s,this.g=t.g,Qh(this,t.m),this.l=t.l;var e=t.i,n=new _u;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),cw(this,n),this.o=t.o}else t&&(e=String(t).match(NT))?(this.h=!1,Kh(this,e[1]||"",!0),this.s=El(e[2]||""),this.g=El(e[3]||"",!0),Qh(this,e[4]),this.l=El(e[5]||"",!0),cw(this,e[6]||"",!0),this.o=El(e[7]||"")):(this.h=!1,this.i=new _u(null,this.h))}Zs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xl(e,hw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xl(e,hw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xl(n,n.charAt(0)=="/"?b6:A6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xl(n,C6)),t.join("")};function Di(t){return new Zs(t)}function Kh(t,e,n){t.j=n?El(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function cw(t,e,n){e instanceof _u?(t.i=e,k6(t.i,t.h)):(n||(e=xl(e,R6)),t.i=new _u(e,t.h))}function it(t,e,n){t.i.set(e,n)}function Xf(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function El(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,T6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function T6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hw=/[#\/\?@]/g,A6=/[#\?:]/g,b6=/[#\?]/g,R6=/[#\?@]/g,C6=/#/g;function _u(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ps(t){t.g||(t.g=new Map,t.h=0,t.i&&S6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}se=_u.prototype;se.add=function(t,e){Ps(this),this.i=null,t=za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function MT(t,e){Ps(t),e=za(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DT(t,e){return Ps(t),e=za(t,e),t.g.has(e)}se.forEach=function(t,e){Ps(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};se.ta=function(){Ps(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};se.Z=function(t){Ps(this);let e=[];if(typeof t=="string")DT(this,t)&&(e=e.concat(this.g.get(za(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};se.set=function(t,e){return Ps(this),this.i=null,t=za(this,t),DT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};se.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function OT(t,e,n){MT(t,e),0<n.length&&(t.i=null,t.g.set(za(t,e),Py(n)),t.h+=n.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function k6(t,e){e&&!t.j&&(Ps(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MT(this,r),OT(this,i,n))},t)),t.j=e}var P6=class{constructor(t,e){this.g=t,this.map=e}};function LT(t){this.l=t||N6,Ie.PerformanceNavigationTiming?(t=Ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ie.g&&Ie.g.Ka&&Ie.g.Ka()&&Ie.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var N6=10;function UT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BT(t){return t.h?1:t.g?t.g.size:0}function Hm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function qy(t,e){t.g?t.g.add(e):t.h=e}function FT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}LT.prototype.cancel=function(){if(this.i=VT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function VT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Py(t.i)}var M6=class{stringify(t){return Ie.JSON.stringify(t,void 0)}parse(t){return Ie.JSON.parse(t,void 0)}};function D6(){this.g=new M6}function O6(t,e,n){const r=n||"";try{PT(t,function(i,s){let o=i;$u(i)&&(o=By(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function L6(t,e){const n=new Gf;if(Ie.Image){const r=new Image;r.onload=Sc(Ac,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sc(Ac,n,r,"TestLoadImage: error",!1,e),r.onabort=Sc(Ac,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sc(Ac,n,r,"TestLoadImage: timeout",!1,e),Ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ac(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zf(t){this.l=t.ec||null,this.j=t.ob||!1}sn(Zf,jy);Zf.prototype.g=function(){return new Jf(this.l,this.j)};Zf.prototype.i=function(t){return function(){return t}}({});function Jf(t,e){rn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(Jf,rn);var Gy=0;se=Jf.prototype;se.open=function(t,e){if(this.readyState!=Gy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wu(this)};se.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wu(this)),this.readyState=Gy};se.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wu(this)),this.g&&(this.readyState=3,wu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$T(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function $T(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}se.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wu(this):wu(this),this.readyState==3&&$T(this)}};se.Za=function(t){this.g&&(this.response=this.responseText=t,Wu(this))};se.Ya=function(t){this.g&&(this.response=t,Wu(this))};se.ka=function(){this.g&&Wu(this)};function Wu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wu(t)}se.setRequestHeader=function(t,e){this.v.append(t,e)};se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function wu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Jf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var U6=Ie.JSON.parse;function Et(t){rn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jT,this.L=this.M=!1}sn(Et,rn);var jT="",B6=/^https?$/i,F6=["POST","PUT"];se=Et.prototype;se.Oa=function(t){this.M=t};se.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vm.g(),this.C=this.u?uw(this.u):uw(Vm),this.g.onreadystatechange=Cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){fw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ie.FormData&&t instanceof Ie.FormData,!(0<=sT(F6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qT(this),0<this.B&&((this.L=V6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cn(this.ua,this)):this.A=$y(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){fw(this,s)}};function V6(t){return Ea&&typeof t.timeout=="number"&&t.ontimeout!==void 0}se.ua=function(){typeof ky<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))};function fw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zT(t),ed(t)}function zT(t){t.F||(t.F=!0,pn(t,"complete"),pn(t,"error"))}se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pn(this,"complete"),pn(this,"abort"),ed(this))};se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ed(this,!0)),Et.$.N.call(this)};se.La=function(){this.s||(this.G||this.v||this.l?HT(this):this.kb())};se.kb=function(){HT(this)};function HT(t){if(t.h&&typeof ky<"u"&&(!t.C[1]||Wr(t)!=4||t.da()!=2)){if(t.v&&Wr(t)==4)$y(t.La,0,t);else if(pn(t,"readystatechange"),Wr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(NT)[1]||null;!i&&Ie.self&&Ie.self.location&&(i=Ie.self.location.protocol.slice(0,-1)),r=!B6.test(i?i.toLowerCase():"")}n=r}if(n)pn(t,"complete"),pn(t,"success");else{t.m=6;try{var s=2<Wr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",zT(t)}}finally{ed(t)}}}}function ed(t,e){if(t.g){qT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pn(t,"ready");try{n.onreadystatechange=r}catch{}}}function qT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ie.clearTimeout(t.A),t.A=null)}se.isActive=function(){return!!this.g};function Wr(t){return t.g?t.g.readyState:0}se.da=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}};se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),U6(e)}};function dw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $6(t){const e={};t=(t.g&&2<=Wr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(du(t[r]))continue;var n=f6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}s6(e,function(r){return r.join(", ")})}se.Ia=function(){return this.m};se.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GT(t){let e="";return My(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):it(t,e,n))}function ul(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WT(t){this.Ga=0,this.j=[],this.l=new Gf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ul("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ul("baseRetryDelayMs",5e3,t),this.hb=ul("retryDelaySeedMs",1e4,t),this.eb=ul("forwardChannelMaxRetries",2,t),this.xa=ul("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new LT(t&&t.concurrentRequestLimit),this.Ja=new D6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}se=WT.prototype;se.ra=8;se.H=1;function Ky(t){if(KT(t),t.H==3){var e=t.W++,n=Di(t.I);if(it(n,"SID",t.K),it(n,"RID",e),it(n,"TYPE","terminate"),Ku(t,n),e=new qu(t,t.l,e),e.L=2,e.v=Xf(Di(n)),n=!1,Ie.navigator&&Ie.navigator.sendBeacon)try{n=Ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=nA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gu(e)}eA(t)}function td(t){t.g&&(Yy(t),t.g.cancel(),t.g=null)}function KT(t){td(t),t.u&&(Ie.clearTimeout(t.u),t.u=null),Yh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ie.clearTimeout(t.m),t.m=null)}function nd(t){if(!UT(t.i)&&!t.m){t.m=!0;var e=t.Na;gu||yT(),mu||(gu(),mu=!0),Fy.add(e,t),t.C=0}}function j6(t,e){return BT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=zu(Cn(t.Na,t,e),JT(t,t.C)),t.C++,!0)}se.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new qu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=uT(s),cT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=QT(this,i,e),n=Di(this.I),it(n,"RID",t),it(n,"CVER",22),this.F&&it(n,"X-HTTP-Session-Id",this.F),Ku(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GT(s)))+"&"+e:this.o&&Wy(n,this.o,s)),qy(this.i,i),this.bb&&it(n,"TYPE","init"),this.P?(it(n,"$req",e),it(n,"SID","null"),i.aa=!0,jm(i,n,null)):jm(i,n,e),this.H=2}}else this.H==3&&(t?pw(this,t):this.j.length==0||UT(this.i)||pw(this))};function pw(t,e){var n;e?n=e.m:n=t.W++;const r=Di(t.I);it(r,"SID",t.K),it(r,"RID",n),it(r,"AID",t.V),Ku(t,r),t.o&&t.s&&Wy(r,t.o,t.s),n=new qu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=QT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qy(t.i,n),jm(n,r,e)}function Ku(t,e){t.na&&My(t.na,function(n,r){it(e,r,n)}),t.h&&PT({},function(n,r){it(e,r,n)})}function QT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Cn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{O6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function YT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gu||yT(),mu||(gu(),mu=!0),Fy.add(e,t),t.A=0}}function Qy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=zu(Cn(t.Ma,t),JT(t,t.A)),t.A++,!0)}se.Ma=function(){if(this.u=null,XT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=zu(Cn(this.jb,this),t)}};se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),td(this),XT(this))};function Yy(t){t.B!=null&&(Ie.clearTimeout(t.B),t.B=null)}function XT(t){t.g=new qu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Di(t.wa);it(e,"RID","rpc"),it(e,"SID",t.K),it(e,"AID",t.V),it(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&it(e,"TO",t.qa),it(e,"TYPE","xmlhttp"),Ku(t,e),t.o&&t.s&&Wy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Xf(Di(e)),n.s=null,n.S=!0,bT(n,t)}se.ib=function(){this.v!=null&&(this.v=null,td(this),Qy(this),Bn(19))};function Yh(t){t.v!=null&&(Ie.clearTimeout(t.v),t.v=null)}function ZT(t,e){var n=null;if(t.g==e){Yh(t),Yy(t),t.g=null;var r=2}else if(Hm(t.i,e))n=e.F,FT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Wf(),pn(r,new IT(r,n)),nd(t)}else YT(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&j6(t,e)||r==2&&Qy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Hs(t,5);break;case 4:Hs(t,10);break;case 3:Hs(t,6);break;default:Hs(t,2)}}}function JT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Hs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Cn(t.pb,t);n||(n=new Zs("//www.google.com/images/cleardot.gif"),Ie.location&&Ie.location.protocol=="http"||Kh(n,"https"),Xf(n)),L6(n.toString(),r)}else Bn(2);t.H=0,t.h&&t.h.za(e),eA(t),KT(t)}se.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))};function eA(t){if(t.H=0,t.ma=[],t.h){const e=VT(t.i);(e.length!=0||t.j.length!=0)&&(iw(t.ma,e),iw(t.ma,t.j),t.i.i.length=0,Py(t.j),t.j.length=0),t.h.ya()}}function tA(t,e,n){var r=n instanceof Zs?Di(n):new Zs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Qh(r,r.m);else{var i=Ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zs(null);r&&Kh(s,r),e&&(s.g=e),i&&Qh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&it(r,n,e),it(r,"VER",t.ra),Ku(t,r),r}function nA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Et(new Zf({ob:!0})):new Et(t.va),e.Oa(t.J),e}se.isActive=function(){return!!this.h&&this.h.isActive(this)};function rA(){}se=rA.prototype;se.Ba=function(){};se.Aa=function(){};se.za=function(){};se.ya=function(){};se.isActive=function(){return!0};se.Va=function(){};function Xh(){if(Ea&&!(10<=Number(t6)))throw Error("Environmental error: no available transport.")}Xh.prototype.g=function(t,e){return new lr(t,e)};function lr(t,e){rn.call(this),this.g=new WT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!du(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!du(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ha(this)}sn(lr,rn);lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=tA(t,null,t.Y),nd(t)};lr.prototype.close=function(){Ky(this.g)};lr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=By(t),t=n);e.j.push(new P6(e.fb++,t)),e.H==3&&nd(e)};lr.prototype.N=function(){this.g.h=null,delete this.j,Ky(this.g),delete this.g,lr.$.N.call(this)};function iA(t){zy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}sn(iA,zy);function sA(){Hy.call(this),this.status=1}sn(sA,Hy);function Ha(t){this.g=t}sn(Ha,rA);Ha.prototype.Ba=function(){pn(this.g,"a")};Ha.prototype.Aa=function(t){pn(this.g,new iA(t))};Ha.prototype.za=function(t){pn(this.g,new sA)};Ha.prototype.ya=function(){pn(this.g,"b")};function z6(){this.blockSize=-1}function Br(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}sn(Br,z6);Br.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Up(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Br.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Up(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Up(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Up(this,r),i=0;break}}this.h=i,this.i+=e};Br.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function qe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var H6={};function Xy(t){return-128<=t&&128>t?Z3(t,function(e){return new qe([e|0],0>e?-1:0)}):new qe([t|0],0>t?-1:0)}function Kr(t){if(isNaN(t)||!isFinite(t))return la;if(0>t)return hn(Kr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qm;return new qe(e,0)}function oA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return hn(oA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kr(Math.pow(e,8)),r=la,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kr(Math.pow(e,s)),r=r.R(s).add(Kr(o))):(r=r.R(n),r=r.add(Kr(o)))}return r}var qm=4294967296,la=Xy(0),Gm=Xy(1),gw=Xy(16777216);se=qe.prototype;se.ea=function(){if(vr(this))return-hn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qm+r)*e,e*=qm}return t};se.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ei(this))return"0";if(vr(this))return"-"+hn(this).toString(t);for(var e=Kr(Math.pow(t,6)),n=this,r="";;){var i=Jh(n,e).g;n=Zh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ei(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};se.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ei(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function vr(t){return t.h==-1}se.X=function(t){return t=Zh(this,t),vr(t)?-1:Ei(t)?0:1};function hn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new qe(n,~t.h).add(Gm)}se.abs=function(){return vr(this)?hn(this):this};se.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new qe(n,n[n.length-1]&-2147483648?-1:0)};function Zh(t,e){return t.add(hn(e))}se.R=function(t){if(Ei(this)||Ei(t))return la;if(vr(this))return vr(t)?hn(this).R(hn(t)):hn(hn(this).R(t));if(vr(t))return hn(this.R(hn(t)));if(0>this.X(gw)&&0>t.X(gw))return Kr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,bc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,bc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,bc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,bc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new qe(n,0)};function bc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function cl(t,e){this.g=t,this.h=e}function Jh(t,e){if(Ei(e))throw Error("division by zero");if(Ei(t))return new cl(la,la);if(vr(t))return e=Jh(hn(t),e),new cl(hn(e.g),hn(e.h));if(vr(e))return e=Jh(t,hn(e)),new cl(hn(e.g),e.h);if(30<t.g.length){if(vr(t)||vr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gm,r=e;0>=r.X(t);)n=mw(n),r=mw(r);var i=Mo(n,1),s=Mo(r,1);for(r=Mo(r,2),n=Mo(n,2);!Ei(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Mo(r,1),n=Mo(n,1)}return e=Zh(t,i.R(e)),new cl(i,e)}for(i=la;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Kr(n),o=s.R(e);vr(o)||0<o.X(t);)n-=r,s=Kr(n),o=s.R(e);Ei(s)&&(s=Gm),i=i.add(s),t=Zh(t,o)}return new cl(i,t)}se.gb=function(t){return Jh(this,t).h};se.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new qe(n,this.h&t.h)};se.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new qe(n,this.h|t.h)};se.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new qe(n,this.h^t.h)};function mw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new qe(n,t.h)}function Mo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new qe(i,t.h)}Xh.prototype.createWebChannel=Xh.prototype.g;lr.prototype.send=lr.prototype.u;lr.prototype.open=lr.prototype.m;lr.prototype.close=lr.prototype.close;Kf.NO_ERROR=0;Kf.TIMEOUT=8;Kf.HTTP_ERROR=6;ST.COMPLETE="complete";TT.EventType=Hu;Hu.OPEN="a";Hu.CLOSE="b";Hu.ERROR="c";Hu.MESSAGE="d";rn.prototype.listen=rn.prototype.O;Et.prototype.listenOnce=Et.prototype.P;Et.prototype.getLastError=Et.prototype.Sa;Et.prototype.getLastErrorCode=Et.prototype.Ia;Et.prototype.getStatus=Et.prototype.da;Et.prototype.getResponseJson=Et.prototype.Wa;Et.prototype.getResponseText=Et.prototype.ja;Et.prototype.send=Et.prototype.ha;Et.prototype.setWithCredentials=Et.prototype.Oa;Br.prototype.digest=Br.prototype.l;Br.prototype.reset=Br.prototype.reset;Br.prototype.update=Br.prototype.j;qe.prototype.add=qe.prototype.add;qe.prototype.multiply=qe.prototype.R;qe.prototype.modulo=qe.prototype.gb;qe.prototype.compare=qe.prototype.X;qe.prototype.toNumber=qe.prototype.ea;qe.prototype.toString=qe.prototype.toString;qe.prototype.getBits=qe.prototype.D;qe.fromNumber=Kr;qe.fromString=oA;var q6=function(){return new Xh},G6=function(){return Wf()},Bp=Kf,W6=ST,K6=Io,yw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Rc=TT,Q6=Et,Y6=Br,ua=qe;const vw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new yy("@firebase/firestore");function hl(){return ho.logLevel}function ce(t,...e){if(ho.logLevel<=De.DEBUG){const n=e.map(Zy);ho.debug(`Firestore (${qa}): ${t}`,...n)}}function Oi(t,...e){if(ho.logLevel<=De.ERROR){const n=e.map(Zy);ho.error(`Firestore (${qa}): ${t}`,...n)}}function xa(t,...e){if(ho.logLevel<=De.WARN){const n=e.map(Zy);ho.warn(`Firestore (${qa}): ${t}`,...n)}}function Zy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+t;throw Oi(e),new Error(e)}function ot(t,e){t||Ee()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class Z6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J6{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ii,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string"),new aA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new Tn(e)}}class eD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new eD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.R=n.token,new nD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Xt(0,0))}static max(){return new Se(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends Eu{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Eu{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return sD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ct.fromString(e))}static fromName(e){return new me(ct.fromString(e).popFirst(5))}static empty(){return new me(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ct(e.slice()))}}function oD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new xs(i,me.empty(),e)}function aD(t){return new xs(t.readTime,t.key,-1)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(Se.min(),me.empty(),-1)}static max(){return new xs(Se.max(),me.empty(),-1)}}function lD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==uD)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Yu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jy.ae=-1;function rd(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function hD(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ww(this.data.getIterator())}getIteratorFrom(e){return new ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new ir([])}unionWith(e){let n=new gn(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cA("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(ot(!!t),typeof t=="string"){let e=0;const n=fD.exec(t);if(ot(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fo(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tv(t){const e=t.mapValue.fields.__previous_value__;return ev(e)?tv(e):e}function xu(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Iu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ev(t)?4:pD(t)?9007199254740991:10:Ee()}function ri(t,e){if(t===e)return!0;const n=po(t);if(n!==po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fo(i.bytesValue).isEqual(fo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ht(i.doubleValue),a=Ht(s.doubleValue);return o===a?ef(o)===ef(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_w(o)!==_w(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ri(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Su(t,e){return(t.values||[]).find(n=>ri(n,e))!==void 0}function Sa(t,e){if(t===e)return 0;const n=po(t),r=po(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ew(t.timestampValue,e.timestampValue);case 4:return Ew(xu(t),xu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fo(s),l=fo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=je(a[u],l[u]);if(c!==0)return c}return je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(Ht(s.latitude),Ht(o.latitude));return a!==0?a:je(Ht(s.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Sa(a[u],l[u]);if(c)return c}return je(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===kc.mapValue&&o===kc.mapValue)return 0;if(s===kc.mapValue)return 1;if(o===kc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const y=je(l[d],c[d]);if(y!==0)return y;const x=Sa(a[l[d]],u[c[d]]);if(x!==0)return x}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Ew(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Is(t),r=Is(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function Ta(t){return Wm(t)}function Wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Wm(n.fields[o])}`;return i+"}"}(t.mapValue):Ee()}function Km(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function xw(t){return!!t&&"nullValue"in t}function Iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function Fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){So(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Gn(Fl(this.value))}}function hA(t){const e=[];return So(t.fields,(n,r)=>{const i=new fn([n]);if(ih(r)){const s=hA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bn(e,0,Se.min(),Se.min(),Se.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,i){return new bn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new bn(e,2,n,Se.min(),Se.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Se.min(),Se.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.position=e,this.inclusive=n}}function Sw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=Sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ri(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function gD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{}class Qt extends fA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yD(e,n,r):n==="array-contains"?new wD(e,r):n==="in"?new ED(e,r):n==="not-in"?new xD(e,r):n==="array-contains-any"?new ID(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vD(e,r):new _D(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sa(n,this.value)):n!==null&&po(this.value)===po(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends fA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ii(e,n)}matches(e){return dA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dA(t){return t.op==="and"}function pA(t){return mD(t)&&dA(t)}function mD(t){for(const e of t.filters)if(e instanceof ii)return!1;return!0}function Qm(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Ta(t.value);if(pA(t))return t.filters.map(e=>Qm(e)).join(",");{const e=t.filters.map(n=>Qm(n)).join(",");return`${t.op}(${e})`}}function gA(t,e){return t instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&ri(r.value,i.value)}(t,e):t instanceof ii?function(r,i){return i instanceof ii&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gA(o,i.filters[a]),!0):!1}(t,e):void Ee()}function mA(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ta(n.value)}`}(t):t instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(t):"Filter"}class yD extends Qt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class vD extends Qt{constructor(e,n){super(e,"in",n),this.keys=yA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _D extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=yA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class wD extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&Su(n.arrayValue,this.value)}}class ED extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class xD extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}}class ID extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function Aw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new SD(t,e,n,r,i,s,o)}function rv(t){const e=Ae(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ta(r)).join(",")),e.le=n}return e.le}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tw(t.startAt,e.startAt)&&Tw(t.endAt,e.endAt)}function Ym(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function TD(t,e,n,r,i,s,o,a){return new id(t,e,n,r,i,s,o,a)}function sv(t){return new id(t)}function bw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AD(t){return t.collectionGroup!==null}function Vl(t){const e=Ae(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gn(fn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new nf(s,r))}),n.has(fn.keyField().canonicalString())||e.he.push(new nf(fn.keyField(),r))}return e.he}function ti(t){const e=Ae(t);return e.Pe||(e.Pe=bD(e,Vl(t))),e.Pe}function bD(t,e){if(t.limitType==="F")return Aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new nf(i.field,s)});const n=t.endAt?new tf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tf(t.startAt.position,t.startAt.inclusive):null;return Aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xm(t,e,n){return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return iv(ti(t),ti(e))&&t.limitType===e.limitType}function vA(t){return`${rv(ti(t))}|lt:${t.limitType}`}function Oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mA(i)).join(", ")}]`),rd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ta(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ta(i)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Sw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Vl(r),i)||r.endAt&&!function(o,a,l){const u=Sw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Vl(r),i))}(t,e)}function RD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _A(t){return(e,n)=>{let r=!1;for(const i of Vl(t)){const s=CD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CD(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Sa(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new vt(me.comparator);function Li(){return kD}const wA=new vt(me.comparator);function Il(...t){let e=wA;for(const n of t)e=e.insert(n.key,n);return e}function EA(t){let e=wA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qs(){return $l()}function xA(){return $l()}function $l(){return new Ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const PD=new vt(me.comparator),ND=new gn(me.comparator);function Ne(...t){let e=ND;for(const n of t)e=e.add(n);return e}const MD=new gn(je);function DD(){return MD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function SA(t){return{integerValue:""+t}}function OD(t,e){return hD(e)?SA(e):IA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function LD(t,e,n){return t instanceof Tu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ev(s)&&(s=tv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Aa?AA(t,e):t instanceof ba?bA(t,e):function(i,s){const o=TA(i,s),a=Rw(o)+Rw(i.Te);return Km(o)&&Km(i.Te)?SA(a):IA(i.serializer,a)}(t,e)}function UD(t,e,n){return t instanceof Aa?AA(t,e):t instanceof ba?bA(t,e):n}function TA(t,e){return t instanceof rf?function(r){return Km(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tu extends ad{}class Aa extends ad{constructor(e){super(),this.elements=e}}function AA(t,e){const n=RA(e);for(const r of t.elements)n.some(i=>ri(i,r))||n.push(r);return{arrayValue:{values:n}}}class ba extends ad{constructor(e){super(),this.elements=e}}function bA(t,e){let n=RA(e);for(const r of t.elements)n=n.filter(i=>!ri(i,r));return{arrayValue:{values:n}}}class rf extends ad{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Rw(t){return Ht(t.integerValue||t.doubleValue)}function RA(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.field=e,this.transform=n}}function BD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Aa&&i instanceof Aa||r instanceof ba&&i instanceof ba?Ia(r.elements,i.elements,ri):r instanceof rf&&i instanceof rf?ri(r.Te,i.Te):r instanceof Tu&&i instanceof Tu}(t.transform,e.transform)}class FD{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function CA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new PA(t.key,Dr.none()):new Xu(t.key,t.data,Dr.none());{const n=t.data,r=Gn.empty();let i=new gn(fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ns(t.key,r,new ir(i.toArray()),Dr.none())}}function VD(t,e,n){t instanceof Xu?function(i,s,o){const a=i.value.clone(),l=kw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(i,s,o){if(!sh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=kw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(kA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Xu?function(s,o,a,l){if(!sh(s.precondition,o))return a;const u=s.value.clone(),c=Pw(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ns?function(s,o,a,l){if(!sh(s.precondition,o))return a;const u=Pw(s.fieldTransforms,l,o),c=o.data;return c.setAll(kA(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return sh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $D(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=TA(r.transform,i||null);s!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,s))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ia(r,i,(s,o)=>BD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xu extends ld{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends ld{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kw(t,e,n){const r=new Map;ot(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,UD(o,a,n[i]))}return r}function Pw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,LD(s,o,e))}return r}class PA extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jD extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=CA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>Cw(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>Cw(n,r))}}class av{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ot(e.mutations.length===r.length);let i=function(){return PD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new av(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Oe;function GD(t){switch(t){default:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function NA(t){if(t===void 0)return Oi("GRPC error has no .code"),J.UNKNOWN;switch(t){case zt.OK:return J.OK;case zt.CANCELLED:return J.CANCELLED;case zt.UNKNOWN:return J.UNKNOWN;case zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case zt.INTERNAL:return J.INTERNAL;case zt.UNAVAILABLE:return J.UNAVAILABLE;case zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case zt.NOT_FOUND:return J.NOT_FOUND;case zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case zt.ABORTED:return J.ABORTED;case zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case zt.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(Oe=zt||(zt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new ua([4294967295,4294967295],0);function Nw(t){const e=WD().encode(t),n=new Y6;return n.update(e),new Uint8Array(n.digest())}function Mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ua([n,r],0),new ua([i,s],0)]}class lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ua.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(ua.fromNumber(r)));return i.compare(KD)===1&&(i=new ua([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=Nw(e),[r,i]=Mw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new lv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Nw(e),[r,i]=Mw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(Se.min(),i,new vt(je),Li(),Ne())}}class Zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class MA{constructor(e,n){this.targetId=e,this.ge=n}}class DA{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dw{constructor(){this.pe=0,this.ye=Lw(),this.we=Mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ne(),n=Ne(),r=Ne();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Zu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Lw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class QD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.Ke=Ow(),this.$e=new vt(je)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(Ym(s))if(r===0){const o=new me(s.path);this.Ge(n,o,bn.newNoDocument(o,Se.min()))}else ot(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=fo(r).toUint8Array()}catch(l){if(l instanceof cA)return xa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lv(o,i,s)}catch(l){return xa(l instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&Ym(a.target)){const l=new me(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,bn.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Ne();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new ud(e,n,this.$e,this.Qe,r);return this.Qe=Li(),this.Ke=Ow(),this.$e=new vt(je),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new Dw,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new gn(je),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new Dw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ow(){return new vt(me.comparator)}function Lw(){return new vt(me.comparator)}const YD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),XD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ZD=(()=>({and:"AND",or:"OR"}))();class JD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(t,e){return t.useProto3Json||rd(e)?e:{value:e}}function sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eO(t,e){return sf(t,e.toTimestamp())}function ni(t){return ot(!!t),Se.fromTimestamp(function(n){const r=Is(n);return new Xt(r.seconds,r.nanos)}(t))}function uv(t,e){return function(r){return new ct(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function LA(t){const e=ct.fromString(t);return ot(VA(e)),e}function Jm(t,e){return uv(t.databaseId,e.path)}function Fp(t,e){const n=LA(e);if(n.get(1)!==t.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(UA(n))}function e0(t,e){return uv(t.databaseId,e)}function tO(t){const e=LA(t);return e.length===4?ct.emptyPath():UA(e)}function t0(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UA(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Uw(t,e,n){return{name:Jm(t,e),fields:n.value.mapValue.fields}}function nO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ot(c===void 0||typeof c=="string"),Mn.fromBase64String(c||"")):(ot(c===void 0||c instanceof Uint8Array),Mn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?J.UNKNOWN:NA(u.code);return new de(c,u.message||"")}(o);n=new DA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fp(t,r.document.name),s=ni(r.document.updateTime),o=r.document.createTime?ni(r.document.createTime):Se.min(),a=new Gn({mapValue:{fields:r.document.fields}}),l=bn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new oh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Fp(t,r.document),s=r.readTime?ni(r.readTime):Se.min(),o=bn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new oh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Fp(t,r.document),s=r.removedTargetIds||[];n=new oh([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new qD(i,s),a=r.targetId;n=new MA(a,o)}}return n}function rO(t,e){let n;if(e instanceof Xu)n={update:Uw(t,e.key,e.value)};else if(e instanceof PA)n={delete:Jm(t,e.key)};else if(e instanceof Ns)n={update:Uw(t,e.key,e.data),updateMask:fO(e.fieldMask)};else{if(!(e instanceof jD))return Ee();n={verify:Jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Aa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rf)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(t,e.precondition)),n}function iO(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ni(i.updateTime):ni(s);return o.isEqual(Se.min())&&(o=ni(s)),new FD(o,i.transformResults||[])}(n,e))):[]}function sO(t,e){return{documents:[e0(t,e.path)]}}function oO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=e0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=e0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return FA(ii.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Lo(d.field),direction:uO(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Zm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function aO(t){let e=tO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ot(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const y=BA(d);return y instanceof ii&&pA(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(y=>function(R){return new nf(Uo(R.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(d){let y;return y=typeof d=="object"?d.value:d,rd(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(d){const y=!!d.before,x=d.values||[];return new tf(x,y)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const y=!d.before,x=d.values||[];return new tf(x,y)}(n.endAt)),TD(e,i,o,s,a,"F",l,u)}function lO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Uo(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Uo(n.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Uo(n.unaryFilter.field);return Qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uo(n.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(Uo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ii.create(n.compositeFilter.filters.map(r=>BA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function uO(t){return YD[t]}function cO(t){return XD[t]}function hO(t){return ZD[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return fn.fromServerFormat(t.fieldPath)}function FA(t){return t instanceof Qt?function(n){if(n.op==="=="){if(Iw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(xw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Iw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(xw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:cO(n.op),value:n.value}}}(t):t instanceof ii?function(n){const r=n.getFilters().map(i=>FA(i));return r.length===1?r[0]:{compositeFilter:{op:hO(n.op),filters:r}}}(t):Ee()}function fO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=Mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.ct=e}}function pO(t){const e=aO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this._n=new mO}addToCollectionParentIndex(e,n){return this._n.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(xs.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class mO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gn(ct.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ra(0)}static Bn(){return new Ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.changes=new Ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jl(r.mutation,i,ir.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Il();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Li();const o=$l(),a=function(){return $l()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ns)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),jl(c.mutation,u,c.mutation.getFieldMask(),Xt.now())):o.set(u.key,ir.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new vO(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$l();let i=new vt((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ir.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=xA();c.forEach(y=>{if(!s.has(y)){const x=CA(n.get(y),r.get(y));x!==null&&d.set(y,x),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(qs());let a=-1,l=s;return o.next(u=>ee.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(y=>{l=l.insert(c,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ne())).next(c=>({batchId:a,changes:EA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,s).next(a=>ee.forEach(a,l=>{const u=function(d,y){return new id(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,y)=>{o=o.insert(d,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,bn.newInvalidDocument(c)))});let a=Il();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&jl(c.mutation,u,ir.empty(),Xt.now()),od(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ee.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:pO(i.bundledQuery),readTime:ni(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.overlays=new vt(me.comparator),this.hr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qs();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=qs(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=qs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ee.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HD(n,r));let s=this.hr.get(n);s===void 0&&(s=Ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.Pr=new gn(Jt.Ir),this.Tr=new gn(Jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new me(new ct([])),r=new Jt(n,e),i=new Jt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new me(new ct([])),r=new Jt(n,e),i=new Jt(n,e+1);let s=Ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return me.comparator(e.key,n.key)||je(e.pr,n.pr)}static Er(e,n){return je(e.pr,n.pr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gn(Jt.Ir)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),i=new Jt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gn(je);return n.forEach(i=>{const s=new Jt(i,0),o=new Jt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),ee.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;me.isDocumentKey(s)||(s=s.child(""));const o=new Jt(new me(s),0);let a=new gn(je);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),ee.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ot(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ee.forEach(n.mutations,i=>{const s=new Jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Jt(n,0),i=this.wr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.vr=e,this.docs=function(){return new vt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():bn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Li();const o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lD(aD(c),r)<=0||(i.has(c.key)||od(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Fr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SO(this)}getSize(e){return ee.resolve(this.size)}}class SO extends yO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.persistence=e,this.Mr=new Ga(n=>rv(n),iv),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new cv,this.targetCount=0,this.Br=Ra.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ee.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ra(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.qn(n),ee.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Jy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new TO(this),this.indexManager=new gO,this.remoteDocumentCache=function(i){return new IO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new dO(n),this.$r=new wO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new xO(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const i=new bO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ee.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class bO extends cD{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.zr=new cv,this.jr=null}static Hr(e){return new hv(e)}get Jr(){if(this.jr)return this.jr;throw Ee()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Jr,r=>{const i=me.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ee.or([()=>ee.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ne(),i=Ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new RO;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(hl()<=De.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ee.resolve()):(hl()<=De.DEBUG&&ce("QueryEngine","Query:",Oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(hl()<=De.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):ee.resolve())}ji(e,n){if(bw(n))return ee.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xm(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Xm(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return bw(n)||i.isEqual(Se.min())?ee.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?ee.resolve(null):(hl()<=De.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oo(n)),this.es(e,o,n,oD(i,-1)).next(a=>a))})}Zi(e,n){let r=new gn(_A(e));return n.forEach((i,s)=>{od(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return hl()<=De.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.zi.getDocumentsMatchingQuery(e,n,xs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new vt(je),this.rs=new Ga(s=>rv(s),iv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _O(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function PO(t,e,n,r){return new kO(t,e,n,r)}async function $A(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function NO(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,y=d.keys();let x=ee.resolve();return y.forEach(R=>{x=x.next(()=>c.getEntry(l,R)).next(C=>{const P=u.docVersions.get(R);ot(P!==null),C.version.compareTo(P)<0&&(d.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),c.addEntry(C)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jA(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function MO(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const y=i.get(d);if(!y)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let x=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?x=x.withResumeToken(Mn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(c.resumeToken,r)),i=i.insert(d,x),function(C,P,S){return C.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,x,c)&&a.push(n.Qr.updateTargetData(s,x))});let l=Li(),u=Ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(DO(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Se.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ee.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function DO(t,e,n){let r=Ne(),i=Ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Li();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function OO(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LO(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function n0(t,e,n){const r=Ae(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yu(o))throw o;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Bw(t,e,n){const r=Ae(t);let i=Se.min(),s=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ae(l),y=d.rs.get(c);return y!==void 0?ee.resolve(d.ns.get(y)):d.Qr.getTargetData(u,c)}(r,o,ti(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:Ne())).next(a=>(UO(r,RD(e),a),{documents:a,hs:s})))}function UO(t,e,n){let r=t.ss.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Fw{constructor(){this.activeTargetIds=DD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BO{constructor(){this.no=new Fw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Fw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function Vp(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class jO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Vp(),l=this.bo(n,r);ce("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw xa("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=VO[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Vp();return new Promise((o,a)=>{const l=new Q6;l.setWithCredentials(!0),l.listenOnce(W6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bp.NO_ERROR:const c=l.getResponseJson();ce(wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Bp.TIMEOUT:ce(wn,`RPC '${e}' ${s} timed out`),a(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bp.HTTP_ERROR:const d=l.getStatus();if(ce(wn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const R=function(P){const S=P.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(S)>=0?S:J.UNKNOWN}(x.status);a(new de(R,x.message))}else a(new de(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ce(wn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ce(wn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Vp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=q6(),a=G6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ce(wn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let y=!1,x=!1;const R=new $O({lo:P=>{x?ce(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(y||(ce(wn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),y=!0),ce(wn,`RPC '${e}' stream ${i} sending:`,P),d.send(P))},ho:()=>d.close()}),C=(P,S,E)=>{P.listen(S,v=>{try{E(v)}catch(L){setTimeout(()=>{throw L},0)}})};return C(d,Rc.EventType.OPEN,()=>{x||ce(wn,`RPC '${e}' stream ${i} transport opened.`)}),C(d,Rc.EventType.CLOSE,()=>{x||(x=!0,ce(wn,`RPC '${e}' stream ${i} transport closed`),R.Vo())}),C(d,Rc.EventType.ERROR,P=>{x||(x=!0,xa(wn,`RPC '${e}' stream ${i} transport errored:`,P),R.Vo(new de(J.UNAVAILABLE,"The operation could not be completed")))}),C(d,Rc.EventType.MESSAGE,P=>{var S;if(!x){const E=P.data[0];ot(!!E);const v=E,L=v.error||((S=v[0])===null||S===void 0?void 0:S.error);if(L){ce(wn,`RPC '${e}' stream ${i} received error:`,L);const N=L.status;let B=function(Y){const X=zt[Y];if(X!==void 0)return NA(X)}(N),F=L.message;B===void 0&&(B=J.INTERNAL,F="Unknown error status: "+N+" with message "+L.message),x=!0,R.Vo(new de(B,F)),d.close()}else ce(wn,`RPC '${e}' stream ${i} received:`,E),R.mo(E)}}),C(a,K6.STAT_EVENT,P=>{P.stat===yw.PROXY?ce(wn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===yw.NOPROXY&&ce(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.Ro()},0),R}}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return new JD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new zA(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new de(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zO extends HA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=nO(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?ni(o.readTime):Se.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=t0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ym(l)?{documents:sO(s,l)}:{query:oO(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OA(s,o.resumeToken);const u=Zm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=sf(s,o.snapshotVersion.toTimestamp());const u=Zm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=lO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=t0(this.serializer),n.removeTarget=e,this.t_(n)}}class HO extends HA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=iO(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.T_(r,n)}return ot(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=t0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rO(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(J.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new de(J.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class GO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Oi(n),this.g_=!1):ce("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{To(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.v_.add(4),await Ju(u),u.x_.set("Unknown"),u.v_.delete(4),await hd(u)}(this))})}),this.x_=new GO(r,i)}}async function hd(t){if(To(t))for(const e of t.F_)await e(!0)}async function Ju(t){for(const e of t.F_)await e(!1)}function qA(t,e){const n=Ae(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),gv(n)?pv(n):Wa(n).Jo()&&dv(n,e))}function GA(t,e){const n=Ae(t),r=Wa(n);n.C_.delete(e),r.Jo()&&WA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():To(n)&&n.x_.set("Unknown"))}function dv(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wa(t).c_(e)}function WA(t,e){t.O_.Ne(e),Wa(t).l_(e)}function pv(t){t.O_=new QD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Wa(t).start(),t.x_.p_()}function gv(t){return To(t)&&!Wa(t).Ho()&&t.C_.size>0}function To(t){return Ae(t).v_.size===0}function KA(t){t.O_=void 0}async function KO(t){t.C_.forEach((e,n)=>{dv(t,e)})}async function QO(t,e){KA(t),gv(t)?(t.x_.S_(e),pv(t)):t.x_.set("Unknown")}async function YO(t,e,n){if(t.x_.set("Online"),e instanceof DA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(t,r)}else if(e instanceof oh?t.O_.Ue(e):e instanceof MA?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Se.min()))try{const r=await jA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Mn.EMPTY_BYTE_STRING,c.snapshotVersion)),WA(s,l);const d=new rs(c.target,l,u,c.sequenceNumber);dv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await of(t,r)}}async function of(t,e,n){if(!Yu(e))throw e;t.v_.add(1),await Ju(t),t.x_.set("Offline"),n||(n=()=>jA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await hd(t)})}function QA(t,e){return e().catch(n=>of(t,n,e))}async function fd(t){const e=Ae(t),n=Ss(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;XO(e);)try{const i=await OO(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,ZO(e,i)}catch(i){await of(e,i)}YA(e)&&XA(e)}function XO(t){return To(t)&&t.D_.length<10}function ZO(t,e){t.D_.push(e);const n=Ss(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function YA(t){return To(t)&&!Ss(t).Ho()&&t.D_.length>0}function XA(t){Ss(t).start()}async function JO(t){Ss(t).d_()}async function eL(t){const e=Ss(t);for(const n of t.D_)e.I_(n.mutations)}async function tL(t,e,n){const r=t.D_.shift(),i=av.from(r,e,n);await QA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fd(t)}async function nL(t,e){e&&Ss(t).P_&&await async function(r,i){if(function(o){return GD(o)&&o!==J.ABORTED}(i.code)){const s=r.D_.shift();Ss(r).Zo(),await QA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fd(r)}}(t,e),YA(t)&&XA(t)}async function $w(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=To(n);n.v_.add(3),await Ju(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await hd(n)}async function rL(t,e){const n=Ae(t);e?(n.v_.delete(2),await hd(n)):e||(n.v_.add(2),await Ju(n),n.x_.set("Unknown"))}function Wa(t){return t.N_||(t.N_=function(n,r,i){const s=Ae(n);return s.R_(),new zO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:KO.bind(null,t),To:QO.bind(null,t),u_:YO.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),gv(t)?pv(t):t.x_.set("Unknown")):(await t.N_.stop(),KA(t))})),t.N_}function Ss(t){return t.B_||(t.B_=function(n,r,i){const s=Ae(n);return s.R_(),new HO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:JO.bind(null,t),To:nL.bind(null,t),E_:eL.bind(null,t),T_:tL.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await fd(t)):(await t.B_.stop(),t.D_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new mv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),Yu(t))return new de(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new ca(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.L_=new vt(me.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ee():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ca{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ca(e,n,ca.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.q_=void 0,this.listeners=[]}}class sL{constructor(){this.queries=new Ga(e=>vA(e),sd),this.onlineState="Unknown",this.Q_=new Set}}async function ZA(t,e){const n=Ae(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iL),i)try{s.q_=await n.onListen(r)}catch(o){const a=yv(o,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&vv(n)}async function JA(t,e){const n=Ae(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function oL(t,e){const n=Ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&vv(n)}function aL(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function vv(t){t.Q_.forEach(e=>{e.next()})}class e2{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class lL{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ne(),this.mutatedKeys=Ne(),this.aa=_A(e),this.ua=new ca(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new jw,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const y=i.get(c),x=od(this.query,d)?d:null,R=!!y&&this.mutatedKeys.has(y.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;y&&x?y.data.isEqual(x.data)?R!==C&&(r.track({type:3,doc:x}),P=!0):this.Pa(y,x)||(r.track({type:2,doc:x}),P=!0,(l&&this.aa(x,l)>0||u&&this.aa(x,u)<0)&&(a=!0)):!y&&x?(r.track({type:0,doc:x}),P=!0):y&&!x&&(r.track({type:1,doc:y}),P=!0,(l||u)&&(a=!0)),P&&(x?(o=o.add(x),s=C?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((u,c)=>function(y,x){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(y)-R(x)}(u.type,c.type)||this.aa(u.doc,c.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new Ca(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new jw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Ne(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new n2(r))}),this._a.forEach(r=>{e.has(r)||n.push(new t2(r))}),n}Aa(e){this.sa=e.hs,this._a=Ne();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return Ca.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class uL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cL{constructor(e){this.key=e,this.Va=!1}}class hL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Ga(a=>vA(a),sd),this.ga=new Map,this.pa=new Set,this.ya=new vt(me.comparator),this.wa=new Map,this.Sa=new cv,this.ba={},this.Da=new Map,this.Ca=Ra.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function fL(t,e){const n=xL(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await LO(n.localStore,ti(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await dL(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&qA(n.remoteStore,o)}return i}async function dL(t,e,n,r,i){t.Fa=(d,y,x)=>async function(C,P,S,E){let v=P.view.la(S);v.Xi&&(v=await Bw(C.localStore,P.query,!1).then(({documents:B})=>P.view.la(B,v)));const L=E&&E.targetChanges.get(P.targetId),N=P.view.applyChanges(v,C.isPrimaryClient,L);return Hw(C,P.targetId,N.Ea),N.snapshot}(t,d,y,x);const s=await Bw(t.localStore,e,!0),o=new lL(e,s.hs),a=o.la(s.documents),l=Zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Hw(t,n,u.Ea);const c=new uL(e,n,o);return t.fa.set(e,c),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function pL(t,e){const n=Ae(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!sd(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await n0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),GA(n.remoteStore,r.targetId),r0(n,r.targetId)}).catch(Qu)):(r0(n,r.targetId),await n0(n.localStore,r.targetId,!0))}async function gL(t,e,n){const r=IL(t);try{const i=await function(o,a){const l=Ae(o),u=Xt.now(),c=a.reduce((x,R)=>x.add(R.key),Ne());let d,y;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let R=Li(),C=Ne();return l.os.getEntries(x,c).next(P=>{R=P,R.forEach((S,E)=>{E.isValidDocument()||(C=C.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,R)).next(P=>{d=P;const S=[];for(const E of a){const v=$D(E,d.get(E.key).overlayedDocument);v!=null&&S.push(new Ns(E.key,v,hA(v.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(x,u,S,a)}).next(P=>{y=P;const S=P.applyToLocalDocumentSet(d,C);return l.documentOverlayCache.saveOverlays(x,P.batchId,S)})}).then(()=>({batchId:y.batchId,changes:EA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.ba[o.currentUser.toKey()];u||(u=new vt(je)),u=u.insert(a,l),o.ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ec(r,i.changes),await fd(r.remoteStore)}catch(i){const s=yv(i,"Failed to persist write");n.reject(s)}}async function r2(t,e){const n=Ae(t);try{const r=await MO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?ot(o.Va):i.removedDocuments.size>0&&(ot(o.Va),o.Va=!1))}),await ec(n,r,e)}catch(r){await Qu(r)}}function zw(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ae(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const y of d.listeners)y.K_(a)&&(u=!0)}),u&&vv(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mL(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new vt(me.comparator);o=o.insert(s,bn.newNoDocument(s,Se.min()));const a=Ne().add(s),l=new ud(Se.min(),new Map,new vt(je),o,a);await r2(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),_v(r)}else await n0(r.localStore,e,!1).then(()=>r0(r,e,n)).catch(Qu)}async function yL(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await NO(n.localStore,e);s2(n,r,null),i2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ec(n,i)}catch(i){await Qu(i)}}async function vL(t,e,n){const r=Ae(t);try{const i=await function(o,a){const l=Ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ot(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);s2(r,e,n),i2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ec(r,i)}catch(i){await Qu(i)}}function i2(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function s2(t,e,n){const r=Ae(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function r0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||o2(t,r)})}function o2(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(GA(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),_v(t))}function Hw(t,e,n){for(const r of n)r instanceof t2?(t.Sa.addReference(r.key,e),_L(t,r)):r instanceof n2?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||o2(t,r.key)):Ee()}function _L(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.pa.add(r),_v(t))}function _v(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new me(ct.fromString(e)),r=t.Ca.next();t.wa.set(r,new cL(n)),t.ya=t.ya.insert(n,r),qA(t.remoteStore,new rs(ti(sv(n.path)),r,"TargetPurposeLimboResolution",Jy.ae))}}async function ec(t,e,n){const r=Ae(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=fv.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ee.forEach(u,y=>ee.forEach(y.qi,x=>c.persistence.referenceDelegate.addReference(d,y.targetId,x)).next(()=>ee.forEach(y.Qi,x=>c.persistence.referenceDelegate.removeReference(d,y.targetId,x)))))}catch(d){if(!Yu(d))throw d;ce("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const y=d.targetId;if(!d.fromCache){const x=c.ns.get(y),R=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(R);c.ns=c.ns.insert(y,C)}}}(r.localStore,s))}async function wL(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await $A(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new de(J.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ec(n,r.us)}}function EL(t,e){const n=Ae(t),r=n.wa.get(e);if(r&&r.Va)return Ne().add(r.key);{let i=Ne();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function xL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mL.bind(null,e),e.ma.u_=oL.bind(null,e.eventManager),e.ma.Ma=aL.bind(null,e.eventManager),e}function IL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,e),e}class qw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=cd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PO(this.persistence,new CO,e.initialUser,this.serializer)}createPersistence(e){return new AO(hv.Hr,this.serializer)}createSharedClientState(e){return new BO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class SL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),await rL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sL}()}createDatastore(e){const n=cd(e.databaseInfo.databaseId),r=function(s){return new jO(s)}(e.databaseInfo);return function(s,o,a,l){return new qO(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new WO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zw(this.syncEngine,n,0),function(){return Vw.C()?new Vw:new FO}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new hL(i,s,o,a,l,u);return c&&(d.va=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ae(n);ce("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Ju(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=lA.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jp(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $A(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bL(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>$w(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>$w(e.remoteStore,s)),t._onlineComponents=e}function AL(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function bL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AL(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await jp(t,new qw)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await jp(t,new qw);return t._offlineComponents}async function l2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Gw(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Gw(t,new SL))),t._onlineComponents}function RL(t){return l2(t).then(e=>e.syncEngine)}async function u2(t){const e=await l2(t),n=e.eventManager;return n.onListen=fL.bind(null,e.syncEngine),n.onUnlisten=pL.bind(null,e.syncEngine),n}function CL(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new a2({next:y=>{o.enqueueAndForget(()=>JA(s,d));const x=y.docs.has(a);!x&&y.fromCache?u.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&l&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),d=new e2(sv(a.path),c,{includeMetadataChanges:!0,Y_:!0});return ZA(s,d)}(await u2(t),t.asyncQueue,e,n,r)),r.promise}function kL(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new a2({next:y=>{o.enqueueAndForget(()=>JA(s,d)),y.fromCache&&l.source==="server"?u.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),d=new e2(a,c,{includeMetadataChanges:!0,Y_:!0});return ZA(s,d)}(await u2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PL(t,e,n,r){if(e===!0&&r===!0)throw new de(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kw(t){if(!me.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qw(t){if(me.isDocumentKey(t))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wv(t);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X6;switch(r.type){case"firstParty":return new tD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ww.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Ww.delete(n),r.terminate())}(this),Promise.resolve()}}function NL(t,e,n,r={}){var i;const s=(t=si(t,dd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Tn.MOCK_USER;else{a=wS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tn(u)}t._authCredentials=new Z6(new aA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pd(this.firestore,e,this._query)}}class Zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class ys extends pd{constructor(e,n,r){super(e,n,sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new me(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function f2(t,e,...n){if(t=Tt(t),h2("collection","path",e),t instanceof dd){const r=ct.fromString(e,...n);return Qw(r),new ys(t,null,r)}{if(!(t instanceof Zn||t instanceof ys))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return Qw(r),new ys(t.firestore,null,r)}}function Rn(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=lA.V()),h2("doc","path",e),t instanceof dd){const r=ct.fromString(e,...n);return Kw(r),new Zn(t,null,new me(r))}{if(!(t instanceof Zn||t instanceof ys))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return Kw(r),new Zn(t.firestore,t instanceof ys?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new zA(this,"async_queue_retry"),this.su=()=>{const n=$p();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=$p();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=$p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Ii;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!Yu(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Oi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=mv.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Ee()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class Ka extends dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ML}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||d2(this),this._firestoreClient.terminate()}}function Ao(t,e){const n=typeof t=="object"?t:_y(),r=typeof t=="string"?t:e||"(default)",i=Uf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yS("firestore");s&&NL(i,...s)}return i}function Ev(t){return t._firestoreClient||d2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function d2(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new dD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c2(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new TL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(Mn.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ka(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=/^__.*__$/;class OL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}class p2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class md{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return af(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(g2(this.Tu)&&DL.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class LL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}yu(e,n,r,i=!1){return new md({Tu:e,methodName:n,pu:r,path:fn.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iv(t){const e=t._freezeSettings(),n=cd(t._databaseId);return new LL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m2(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);Tv("Data must be an object, but it was:",o,r);const a=v2(r,o);let l,u;if(s.merge)l=new ir(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const y=i0(e,d,n);if(!o.contains(y))throw new de(J.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);w2(c,y)||c.push(y)}l=new ir(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new OL(new Gn(a),l,u)}class yd extends Qa{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}function y2(t,e,n){return new md({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sv extends Qa{_toFieldTransform(e){return new ov(e.path,new Tu)}isEqual(e){return e instanceof Sv}}class UL extends Qa{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=y2(this,e,!0),r=this.wu.map(s=>Ya(s,n)),i=new Aa(r);return new ov(e.path,i)}isEqual(e){return this===e}}class BL extends Qa{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=y2(this,e,!0),r=this.wu.map(s=>Ya(s,n)),i=new ba(r);return new ov(e.path,i)}isEqual(e){return this===e}}function FL(t,e,n,r){const i=t.yu(1,e,n);Tv("Data must be an object, but it was:",i,r);const s=[],o=Gn.empty();So(r,(l,u)=>{const c=Av(e,l,n);u=Tt(u);const d=i.Vu(c);if(u instanceof yd)s.push(c);else{const y=Ya(u,d);y!=null&&(s.push(c),o.set(c,y))}});const a=new ir(s);return new p2(o,a,i.fieldTransforms)}function VL(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[i0(e,r,n)],l=[i];if(s.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(i0(e,s[y])),l.push(s[y+1]);const u=[],c=Gn.empty();for(let y=a.length-1;y>=0;--y)if(!w2(u,a[y])){const x=a[y];let R=l[y];R=Tt(R);const C=o.Vu(x);if(R instanceof yd)u.push(x);else{const P=Ya(R,C);P!=null&&(u.push(x),c.set(x,P))}}const d=new ir(u);return new p2(c,d,o.fieldTransforms)}function Ya(t,e){if(_2(t=Tt(t)))return Tv("Unsupported field value:",e,t),v2(t,e);if(t instanceof Qa)return function(r,i){if(!g2(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ya(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:sf(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sf(i.serializer,s)}}if(r instanceof xv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ka)return{bytesValue:OA(i.serializer,r._byteString)};if(r instanceof Zn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${wv(r)}`)}(t,e)}function v2(t,e){const n={};return uA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,i)=>{const s=Ya(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof xv||t instanceof ka||t instanceof Zn||t instanceof Qa)}function Tv(t,e,n){if(!_2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wv(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function i0(t,e,n){if((e=Tt(e))instanceof gd)return e._internalPath;if(typeof e=="string")return Av(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}const $L=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search($L)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gd(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new de(J.INVALID_ARGUMENT,a+t+l)}function w2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jL extends E2{data(){return super.data()}}function x2(t,e){return typeof e=="string"?Av(t,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HL{convertValue(e,n="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xv(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);ot(VA(r));const i=new Iu(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Oi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S2 extends E2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ah extends S2{data(e={}){return super.data(e)}}class qL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ah(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ah(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:GL(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){t=si(t,Zn);const e=si(t.firestore,Ka);return CL(Ev(e),t._key).then(n=>YL(e,t,n))}class T2 extends HL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function WL(t){t=si(t,pd);const e=si(t.firestore,Ka),n=Ev(e),r=new T2(e);return zL(t._query),kL(n,t._query).then(i=>new qL(e,r,t,i))}function KL(t,e,n){t=si(t,Zn);const r=si(t.firestore,Ka),i=I2(t.converter,e,n);return bv(r,[m2(Iv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function zl(t,e,n,...r){t=si(t,Zn);const i=si(t.firestore,Ka),s=Iv(i);let o;return o=typeof(e=Tt(e))=="string"||e instanceof gd?VL(s,"updateDoc",t._key,e,n,r):FL(s,"updateDoc",t._key,e),bv(i,[o.toMutation(t._key,Dr.exists(!0))])}function QL(t,e){const n=si(t.firestore,Ka),r=Rn(t),i=I2(t.converter,e);return bv(n,[m2(Iv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function bv(t,e){return function(r,i){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>gL(await RL(r),i,s)),s.promise}(Ev(t),e)}function YL(t,e,n){const r=n.docs.get(e._key),i=new T2(t);return new S2(t,i,e._key,r,new Tl(n.hasPendingWrites,n.fromCache),e.converter)}function XL(){return new Sv("serverTimestamp")}function Xw(...t){return new UL("arrayUnion",t)}function ZL(...t){return new BL("arrayRemove",t)}(function(e,n=!0){(function(i){qa=i})(Eo),uo(new Es("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ka(new J6(r.getProvider("auth-internal")),new rD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Zr(vw,"4.3.0",e),Zr(vw,"4.3.0","esm2017")})();const JL=()=>O.jsxs(O.Fragment,{children:[O.jsxs("nav",{className:"navbar",children:[O.jsx(Xo,{to:"/freeflow-edu/",className:({isActive:t})=>t?"link active":"link",children:"Login"}),O.jsx(Xo,{to:"/freeflow-edu/register",className:({isActive:t})=>t?"link active":"link",children:"Register"})]}),O.jsx(hS,{})]}),Au=t=>!(t!==void 0&&t!=null&&t.length>0),_r=t=>t.charAt(0).toUpperCase()+t.slice(1),eU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},tU=Rs(eU),nU=Ao(tU),rU=t=>{const e=Rn(nU,"Users",t.state.user.uid);return(async()=>{try{const r=await Si(e);$("#t_role").text(_r(r.data().role)),r.data().role==="teacher"&&$("#uploadLink").attr("style","display: inherit"),(!t.state.role||t.state.role!==r.data().role)&&t.updateRoleState(r.data().role)}catch(r){console.log("Error reading document of collection Users: ",r)}})(),console.log(t.state.walletAddress),O.jsxs(O.Fragment,{children:[O.jsxs("nav",{className:"navbar",children:[O.jsx(Xo,{to:"/freeflow-edu/",className:({isActive:r})=>r?"link active":"link",children:"Home"}),O.jsx(Xo,{to:"/freeflow-edu/profile/"+t.state.user.uid,className:({isActive:r})=>r?"link active":"link",children:"Profile"}),O.jsx(Xo,{style:{display:"none"},to:"/freeflow-edu/upload",className:({isActive:r})=>r?"link active":"link",id:"uploadLink",children:"Upload"}),O.jsx(Xo,{to:"/freeflow-edu/sign-out",className:({isActive:r})=>r?"link active":"link",children:"Sign Out"}),O.jsxs(ao,{to:"/freeflow-edu/profile",children:[O.jsx("img",{src:t.state.user.photoURL,alt:"Profile Img"}),O.jsx("p",{children:t.state.user.displayName}),O.jsx("p",{children:t.state.user.email}),O.jsx("p",{id:"t_role"})]}),t.renderNotConnectedContainer()]}),O.jsx(hS,{})]})},iU="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd",A2=t=>{const[e,n]=te.useState(0);return te.useEffect(()=>{(async()=>{(await fetch(iU)).json().then(s=>{n(s.solana.usd)})})()},[]),(e*t.sol).toFixed(6)};class sU extends te.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bLogin())});Xe(this,"bLogin",()=>{if($("#t_email").val()!=""&&$("#t_password").val()!=""){const i=Xs();var n=$("#t_email").val(),r=$("#t_password").val();kM(i,n,r).then(s=>{const o=s.user;this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),o=="auth/invalid-login-credentials"?alert("Wrong Email or Password."):o=="auth/invalid-email"?alert("Invalid Email."):alert(o)})}else alert("Please fill in all the information required.")});Xe(this,"signUpGoogle",()=>{const n=Xs(),r=new yr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),rT(n,r).then(i=>{yr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})})});Xe(this,"guest",()=>{const n=Xs();TM(n).then(r=>{console.log(r.user);const i=r.user;GS(n.currentUser,{displayName:"Guest"}).then(s=>{console.log(s)}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a})}),this.setState({user:i}),this.props.updateUserState(i),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("displayName","Guest"),localStorage.setItem("email",i.email))}).catch(r=>{const i=r.code,s=r.message;console.log({errorCode:i,errorMessage:s})})});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return O.jsxs(O.Fragment,{children:[O.jsx("h1",{children:"Login"}),O.jsx("div",{children:O.jsx("img",{src:"",alt:"Login Thumbnail"})}),O.jsxs("div",{children:[O.jsxs("label",{children:[" Email:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Password:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),O.jsx("br",{}),O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),O.jsx("br",{}),O.jsx("button",{onClick:this.bLogin,children:"Login"})]}),"Or login with",O.jsx("div",{children:O.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),O.jsx(ao,{to:"register",children:"Haven't registered?"}),O.jsx("br",{}),O.jsx(ao,{onClick:this.guest,children:"Login as Guest"})]})}}class Zw extends te.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bRegister())});Xe(this,"bRegister",()=>{if($("#t_email").val()!=""&&$("#t_username").val()!=""&&$("#t_password").val()!=""&&$("#t_confirm_password").val()!=""&&$("#t_otp").val()!="")if($("#t_password").val()==$("#t_confirm_password").val())if(document.getElementById("c_privacy").checked){const i=Xs();var n=$("#t_email").val(),r=$("#t_password").val();CM(i,n,r).then(s=>{const o=s.user,a=$("#t_username").val();GS(i.currentUser,{displayName:a}).then(l=>{}).catch(l=>{const u=l.code,c=l.message;console.log({errorCode:u,errorMessage:c})}),this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",a),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),s.code==="auth/email-already-in-use"?alert("Email is already in use.","warning"):s.code==="auth/weak-password"?alert("Weak password.","warning"):alert(s.code+": "+s.messagee,"danger")})}else alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.");else alert("Password not match.");else alert("Please fill in all the information required.")});Xe(this,"signUpGoogle",()=>{const n=Xs(),r=new yr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),document.getElementById("c_privacy").checked?rT(n,r).then(i=>{yr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})}):alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.")});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return this.state.user?(console.log("loged in"),O.jsx(Ll,{to:"/freeflow-edu/"})):(console.log(this.state.user),O.jsxs(O.Fragment,{children:[O.jsx("h1",{children:"Register"}),O.jsx("div",{children:O.jsx("img",{src:"",alt:"Register Thumbnail"})}),O.jsxs("div",{children:[O.jsxs("label",{children:[" Email:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Username:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_username"})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Password:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Confirm Password:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_confirm_password"})]}),O.jsx("br",{}),O.jsx("br",{}),O.jsxs("label",{children:[O.jsx("input",{onKeyUp:this.handleKeyPress,type:"checkbox",name:"",id:"c_privacy"}),"I agree to the ",O.jsx("a",{href:"privacy_policy.html",target:"_blank",children:"Privacy Policy"}),", and ",O.jsx("a",{href:"terms_and_conditions.html",target:"_blank",children:"Terms and Conditions"})," of FreeFlow Edu app."]}),O.jsx("br",{}),O.jsxs("label",{children:[O.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),O.jsx("br",{}),O.jsx("button",{onClick:this.bRegister,children:"Register"})]}),"Or sign up with",O.jsx("div",{children:O.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),O.jsx(ao,{to:"../",children:"Already login?"})]}))}}/*! countries-list v3.0.6 by Annexare | MIT */var lf={AD:{name:"Andorra",native:"Andorra",phone:[376],continent:"EU",capital:"Andorra la Vella",currency:["EUR"],languages:["ca"]},AE:{name:"United Arab Emirates",native:"   ",phone:[971],continent:"AS",capital:"Abu Dhabi",currency:["AED"],languages:["ar"]},AF:{name:"Afghanistan",native:"",phone:[93],continent:"AS",capital:"Kabul",currency:["AFN"],languages:["ps","uz","tk"]},AG:{name:"Antigua and Barbuda",native:"Antigua and Barbuda",phone:[1268],continent:"NA",capital:"Saint John's",currency:["XCD"],languages:["en"]},AI:{name:"Anguilla",native:"Anguilla",phone:[1264],continent:"NA",capital:"The Valley",currency:["XCD"],languages:["en"]},AL:{name:"Albania",native:"Shqipria",phone:[355],continent:"EU",capital:"Tirana",currency:["ALL"],languages:["sq"]},AM:{name:"Armenia",native:"",phone:[374],continent:"AS",capital:"Yerevan",currency:["AMD"],languages:["hy","ru"]},AO:{name:"Angola",native:"Angola",phone:[244],continent:"AF",capital:"Luanda",currency:["AOA"],languages:["pt"]},AQ:{name:"Antarctica",native:"Antarctica",phone:[672],continent:"AN",capital:"",currency:[],languages:[]},AR:{name:"Argentina",native:"Argentina",phone:[54],continent:"SA",capital:"Buenos Aires",currency:["ARS"],languages:["es","gn"]},AS:{name:"American Samoa",native:"American Samoa",phone:[1684],continent:"OC",capital:"Pago Pago",currency:["USD"],languages:["en","sm"]},AT:{name:"Austria",native:"sterreich",phone:[43],continent:"EU",capital:"Vienna",currency:["EUR"],languages:["de"]},AU:{name:"Australia",native:"Australia",phone:[61],continent:"OC",capital:"Canberra",currency:["AUD"],languages:["en"]},AW:{name:"Aruba",native:"Aruba",phone:[297],continent:"NA",capital:"Oranjestad",currency:["AWG"],languages:["nl","pa"]},AX:{name:"Aland",native:"land",phone:[358],continent:"EU",capital:"Mariehamn",currency:["EUR"],languages:["sv"]},AZ:{name:"Azerbaijan",native:"Azrbaycan",phone:[994],continent:"AS",continents:["AS","EU"],capital:"Baku",currency:["AZN"],languages:["az"]},BA:{name:"Bosnia and Herzegovina",native:"Bosna i Hercegovina",phone:[387],continent:"EU",capital:"Sarajevo",currency:["BAM"],languages:["bs","hr","sr"]},BB:{name:"Barbados",native:"Barbados",phone:[1246],continent:"NA",capital:"Bridgetown",currency:["BBD"],languages:["en"]},BD:{name:"Bangladesh",native:"Bangladesh",phone:[880],continent:"AS",capital:"Dhaka",currency:["BDT"],languages:["bn"]},BE:{name:"Belgium",native:"Belgi",phone:[32],continent:"EU",capital:"Brussels",currency:["EUR"],languages:["nl","fr","de"]},BF:{name:"Burkina Faso",native:"Burkina Faso",phone:[226],continent:"AF",capital:"Ouagadougou",currency:["XOF"],languages:["fr","ff"]},BG:{name:"Bulgaria",native:"",phone:[359],continent:"EU",capital:"Sofia",currency:["BGN"],languages:["bg"]},BH:{name:"Bahrain",native:"",phone:[973],continent:"AS",capital:"Manama",currency:["BHD"],languages:["ar"]},BI:{name:"Burundi",native:"Burundi",phone:[257],continent:"AF",capital:"Bujumbura",currency:["BIF"],languages:["fr","rn"]},BJ:{name:"Benin",native:"Bnin",phone:[229],continent:"AF",capital:"Porto-Novo",currency:["XOF"],languages:["fr"]},BL:{name:"Saint Barthelemy",native:"Saint-Barthlemy",phone:[590],continent:"NA",capital:"Gustavia",currency:["EUR"],languages:["fr"]},BM:{name:"Bermuda",native:"Bermuda",phone:[1441],continent:"NA",capital:"Hamilton",currency:["BMD"],languages:["en"]},BN:{name:"Brunei",native:"Negara Brunei Darussalam",phone:[673],continent:"AS",capital:"Bandar Seri Begawan",currency:["BND"],languages:["ms"]},BO:{name:"Bolivia",native:"Bolivia",phone:[591],continent:"SA",capital:"Sucre",currency:["BOB","BOV"],languages:["es","ay","qu"]},BQ:{name:"Bonaire",native:"Bonaire",phone:[5997],continent:"NA",capital:"Kralendijk",currency:["USD"],languages:["nl"]},BR:{name:"Brazil",native:"Brasil",phone:[55],continent:"SA",capital:"Braslia",currency:["BRL"],languages:["pt"]},BS:{name:"Bahamas",native:"Bahamas",phone:[1242],continent:"NA",capital:"Nassau",currency:["BSD"],languages:["en"]},BT:{name:"Bhutan",native:"brug-yul",phone:[975],continent:"AS",capital:"Thimphu",currency:["BTN","INR"],languages:["dz"]},BV:{name:"Bouvet Island",native:"Bouvetya",phone:[47],continent:"AN",capital:"",currency:["NOK"],languages:["no","nb","nn"]},BW:{name:"Botswana",native:"Botswana",phone:[267],continent:"AF",capital:"Gaborone",currency:["BWP"],languages:["en","tn"]},BY:{name:"Belarus",native:"",phone:[375],continent:"EU",capital:"Minsk",currency:["BYN"],languages:["be","ru"]},BZ:{name:"Belize",native:"Belize",phone:[501],continent:"NA",capital:"Belmopan",currency:["BZD"],languages:["en","es"]},CA:{name:"Canada",native:"Canada",phone:[1],continent:"NA",capital:"Ottawa",currency:["CAD"],languages:["en","fr"]},CC:{name:"Cocos (Keeling) Islands",native:"Cocos (Keeling) Islands",phone:[61],continent:"AS",capital:"West Island",currency:["AUD"],languages:["en"]},CD:{name:"Democratic Republic of the Congo",native:"Rpublique dmocratique du Congo",phone:[243],continent:"AF",capital:"Kinshasa",currency:["CDF"],languages:["fr","ln","kg","sw","lu"]},CF:{name:"Central African Republic",native:"Kdrsse t Bafrka",phone:[236],continent:"AF",capital:"Bangui",currency:["XAF"],languages:["fr","sg"]},CG:{name:"Republic of the Congo",native:"Rpublique du Congo",phone:[242],continent:"AF",capital:"Brazzaville",currency:["XAF"],languages:["fr","ln"]},CH:{name:"Switzerland",native:"Schweiz",phone:[41],continent:"EU",capital:"Bern",currency:["CHE","CHF","CHW"],languages:["de","fr","it"]},CI:{name:"Ivory Coast",native:"Cte d'Ivoire",phone:[225],continent:"AF",capital:"Yamoussoukro",currency:["XOF"],languages:["fr"]},CK:{name:"Cook Islands",native:"Cook Islands",phone:[682],continent:"OC",capital:"Avarua",currency:["NZD"],languages:["en"]},CL:{name:"Chile",native:"Chile",phone:[56],continent:"SA",capital:"Santiago",currency:["CLF","CLP"],languages:["es"]},CM:{name:"Cameroon",native:"Cameroon",phone:[237],continent:"AF",capital:"Yaound",currency:["XAF"],languages:["en","fr"]},CN:{name:"China",native:"",phone:[86],continent:"AS",capital:"Beijing",currency:["CNY"],languages:["zh"]},CO:{name:"Colombia",native:"Colombia",phone:[57],continent:"SA",capital:"Bogot",currency:["COP"],languages:["es"]},CR:{name:"Costa Rica",native:"Costa Rica",phone:[506],continent:"NA",capital:"San Jos",currency:["CRC"],languages:["es"]},CU:{name:"Cuba",native:"Cuba",phone:[53],continent:"NA",capital:"Havana",currency:["CUC","CUP"],languages:["es"]},CV:{name:"Cape Verde",native:"Cabo Verde",phone:[238],continent:"AF",capital:"Praia",currency:["CVE"],languages:["pt"]},CW:{name:"Curacao",native:"Curaao",phone:[5999],continent:"NA",capital:"Willemstad",currency:["ANG"],languages:["nl","pa","en"]},CX:{name:"Christmas Island",native:"Christmas Island",phone:[61],continent:"AS",capital:"Flying Fish Cove",currency:["AUD"],languages:["en"]},CY:{name:"Cyprus",native:"",phone:[357],continent:"EU",capital:"Nicosia",currency:["EUR"],languages:["el","tr","hy"]},CZ:{name:"Czech Republic",native:"esk republika",phone:[420],continent:"EU",capital:"Prague",currency:["CZK"],languages:["cs"]},DE:{name:"Germany",native:"Deutschland",phone:[49],continent:"EU",capital:"Berlin",currency:["EUR"],languages:["de"]},DJ:{name:"Djibouti",native:"Djibouti",phone:[253],continent:"AF",capital:"Djibouti",currency:["DJF"],languages:["fr","ar"]},DK:{name:"Denmark",native:"Danmark",phone:[45],continent:"EU",continents:["EU","NA"],capital:"Copenhagen",currency:["DKK"],languages:["da"]},DM:{name:"Dominica",native:"Dominica",phone:[1767],continent:"NA",capital:"Roseau",currency:["XCD"],languages:["en"]},DO:{name:"Dominican Republic",native:"Repblica Dominicana",phone:[1809,1829,1849],continent:"NA",capital:"Santo Domingo",currency:["DOP"],languages:["es"]},DZ:{name:"Algeria",native:"",phone:[213],continent:"AF",capital:"Algiers",currency:["DZD"],languages:["ar"]},EC:{name:"Ecuador",native:"Ecuador",phone:[593],continent:"SA",capital:"Quito",currency:["USD"],languages:["es"]},EE:{name:"Estonia",native:"Eesti",phone:[372],continent:"EU",capital:"Tallinn",currency:["EUR"],languages:["et"]},EG:{name:"Egypt",native:"",phone:[20],continent:"AF",continents:["AF","AS"],capital:"Cairo",currency:["EGP"],languages:["ar"]},EH:{name:"Western Sahara",native:" ",phone:[212],continent:"AF",capital:"El Aain",currency:["MAD","DZD","MRU"],languages:["es"]},ER:{name:"Eritrea",native:"",phone:[291],continent:"AF",capital:"Asmara",currency:["ERN"],languages:["ti","ar","en"]},ES:{name:"Spain",native:"Espaa",phone:[34],continent:"EU",capital:"Madrid",currency:["EUR"],languages:["es","eu","ca","gl","oc"]},ET:{name:"Ethiopia",native:"",phone:[251],continent:"AF",capital:"Addis Ababa",currency:["ETB"],languages:["am"]},FI:{name:"Finland",native:"Suomi",phone:[358],continent:"EU",capital:"Helsinki",currency:["EUR"],languages:["fi","sv"]},FJ:{name:"Fiji",native:"Fiji",phone:[679],continent:"OC",capital:"Suva",currency:["FJD"],languages:["en","fj","hi","ur"]},FK:{name:"Falkland Islands",native:"Falkland Islands",phone:[500],continent:"SA",capital:"Stanley",currency:["FKP"],languages:["en"]},FM:{name:"Micronesia",native:"Micronesia",phone:[691],continent:"OC",capital:"Palikir",currency:["USD"],languages:["en"]},FO:{name:"Faroe Islands",native:"Froyar",phone:[298],continent:"EU",capital:"Trshavn",currency:["DKK"],languages:["fo"]},FR:{name:"France",native:"France",phone:[33],continent:"EU",capital:"Paris",currency:["EUR"],languages:["fr"]},GA:{name:"Gabon",native:"Gabon",phone:[241],continent:"AF",capital:"Libreville",currency:["XAF"],languages:["fr"]},GB:{name:"United Kingdom",native:"United Kingdom",phone:[44],continent:"EU",capital:"London",currency:["GBP"],languages:["en"]},GD:{name:"Grenada",native:"Grenada",phone:[1473],continent:"NA",capital:"St. George's",currency:["XCD"],languages:["en"]},GE:{name:"Georgia",native:"",phone:[995],continent:"AS",continents:["AS","EU"],capital:"Tbilisi",currency:["GEL"],languages:["ka"]},GF:{name:"French Guiana",native:"Guyane franaise",phone:[594],continent:"SA",capital:"Cayenne",currency:["EUR"],languages:["fr"]},GG:{name:"Guernsey",native:"Guernsey",phone:[44],continent:"EU",capital:"St. Peter Port",currency:["GBP"],languages:["en","fr"]},GH:{name:"Ghana",native:"Ghana",phone:[233],continent:"AF",capital:"Accra",currency:["GHS"],languages:["en"]},GI:{name:"Gibraltar",native:"Gibraltar",phone:[350],continent:"EU",capital:"Gibraltar",currency:["GIP"],languages:["en"]},GL:{name:"Greenland",native:"Kalaallit Nunaat",phone:[299],continent:"NA",capital:"Nuuk",currency:["DKK"],languages:["kl"]},GM:{name:"Gambia",native:"Gambia",phone:[220],continent:"AF",capital:"Banjul",currency:["GMD"],languages:["en"]},GN:{name:"Guinea",native:"Guine",phone:[224],continent:"AF",capital:"Conakry",currency:["GNF"],languages:["fr","ff"]},GP:{name:"Guadeloupe",native:"Guadeloupe",phone:[590],continent:"NA",capital:"Basse-Terre",currency:["EUR"],languages:["fr"]},GQ:{name:"Equatorial Guinea",native:"Guinea Ecuatorial",phone:[240],continent:"AF",capital:"Malabo",currency:["XAF"],languages:["es","fr"]},GR:{name:"Greece",native:"",phone:[30],continent:"EU",capital:"Athens",currency:["EUR"],languages:["el"]},GS:{name:"South Georgia and the South Sandwich Islands",native:"South Georgia",phone:[500],continent:"AN",capital:"King Edward Point",currency:["GBP"],languages:["en"]},GT:{name:"Guatemala",native:"Guatemala",phone:[502],continent:"NA",capital:"Guatemala City",currency:["GTQ"],languages:["es"]},GU:{name:"Guam",native:"Guam",phone:[1671],continent:"OC",capital:"Hagta",currency:["USD"],languages:["en","ch","es"]},GW:{name:"Guinea-Bissau",native:"Guin-Bissau",phone:[245],continent:"AF",capital:"Bissau",currency:["XOF"],languages:["pt"]},GY:{name:"Guyana",native:"Guyana",phone:[592],continent:"SA",capital:"Georgetown",currency:["GYD"],languages:["en"]},HK:{name:"Hong Kong",native:"",phone:[852],continent:"AS",capital:"City of Victoria",currency:["HKD"],languages:["zh","en"]},HM:{name:"Heard Island and McDonald Islands",native:"Heard Island and McDonald Islands",phone:[61],continent:"AN",capital:"",currency:["AUD"],languages:["en"]},HN:{name:"Honduras",native:"Honduras",phone:[504],continent:"NA",capital:"Tegucigalpa",currency:["HNL"],languages:["es"]},HR:{name:"Croatia",native:"Hrvatska",phone:[385],continent:"EU",capital:"Zagreb",currency:["EUR"],languages:["hr"]},HT:{name:"Haiti",native:"Hati",phone:[509],continent:"NA",capital:"Port-au-Prince",currency:["HTG","USD"],languages:["fr","ht"]},HU:{name:"Hungary",native:"Magyarorszg",phone:[36],continent:"EU",capital:"Budapest",currency:["HUF"],languages:["hu"]},ID:{name:"Indonesia",native:"Indonesia",phone:[62],continent:"AS",capital:"Jakarta",currency:["IDR"],languages:["id"]},IE:{name:"Ireland",native:"ire",phone:[353],continent:"EU",capital:"Dublin",currency:["EUR"],languages:["ga","en"]},IL:{name:"Israel",native:"",phone:[972],continent:"AS",capital:"Jerusalem",currency:["ILS"],languages:["he","ar"]},IM:{name:"Isle of Man",native:"Isle of Man",phone:[44],continent:"EU",capital:"Douglas",currency:["GBP"],languages:["en","gv"]},IN:{name:"India",native:"",phone:[91],continent:"AS",capital:"New Delhi",currency:["INR"],languages:["hi","en"]},IO:{name:"British Indian Ocean Territory",native:"British Indian Ocean Territory",phone:[246],continent:"AS",capital:"Diego Garcia",currency:["USD"],languages:["en"]},IQ:{name:"Iraq",native:"",phone:[964],continent:"AS",capital:"Baghdad",currency:["IQD"],languages:["ar","ku"]},IR:{name:"Iran",native:"",phone:[98],continent:"AS",capital:"Tehran",currency:["IRR"],languages:["fa"]},IS:{name:"Iceland",native:"sland",phone:[354],continent:"EU",capital:"Reykjavik",currency:["ISK"],languages:["is"]},IT:{name:"Italy",native:"Italia",phone:[39],continent:"EU",capital:"Rome",currency:["EUR"],languages:["it"]},JE:{name:"Jersey",native:"Jersey",phone:[44],continent:"EU",capital:"Saint Helier",currency:["GBP"],languages:["en","fr"]},JM:{name:"Jamaica",native:"Jamaica",phone:[1876],continent:"NA",capital:"Kingston",currency:["JMD"],languages:["en"]},JO:{name:"Jordan",native:"",phone:[962],continent:"AS",capital:"Amman",currency:["JOD"],languages:["ar"]},JP:{name:"Japan",native:"",phone:[81],continent:"AS",capital:"Tokyo",currency:["JPY"],languages:["ja"]},KE:{name:"Kenya",native:"Kenya",phone:[254],continent:"AF",capital:"Nairobi",currency:["KES"],languages:["en","sw"]},KG:{name:"Kyrgyzstan",native:"",phone:[996],continent:"AS",capital:"Bishkek",currency:["KGS"],languages:["ky","ru"]},KH:{name:"Cambodia",native:"Kmpcha",phone:[855],continent:"AS",capital:"Phnom Penh",currency:["KHR"],languages:["km"]},KI:{name:"Kiribati",native:"Kiribati",phone:[686],continent:"OC",capital:"South Tarawa",currency:["AUD"],languages:["en"]},KM:{name:"Comoros",native:"Komori",phone:[269],continent:"AF",capital:"Moroni",currency:["KMF"],languages:["ar","fr"]},KN:{name:"Saint Kitts and Nevis",native:"Saint Kitts and Nevis",phone:[1869],continent:"NA",capital:"Basseterre",currency:["XCD"],languages:["en"]},KP:{name:"North Korea",native:"",phone:[850],continent:"AS",capital:"Pyongyang",currency:["KPW"],languages:["ko"]},KR:{name:"South Korea",native:"",phone:[82],continent:"AS",capital:"Seoul",currency:["KRW"],languages:["ko"]},KW:{name:"Kuwait",native:"",phone:[965],continent:"AS",capital:"Kuwait City",currency:["KWD"],languages:["ar"]},KY:{name:"Cayman Islands",native:"Cayman Islands",phone:[1345],continent:"NA",capital:"George Town",currency:["KYD"],languages:["en"]},KZ:{name:"Kazakhstan",native:"",phone:[76,77],continent:"AS",continents:["AS","EU"],capital:"Astana",currency:["KZT"],languages:["kk","ru"]},LA:{name:"Laos",native:"",phone:[856],continent:"AS",capital:"Vientiane",currency:["LAK"],languages:["lo"]},LB:{name:"Lebanon",native:"",phone:[961],continent:"AS",capital:"Beirut",currency:["LBP"],languages:["ar","fr"]},LC:{name:"Saint Lucia",native:"Saint Lucia",phone:[1758],continent:"NA",capital:"Castries",currency:["XCD"],languages:["en"]},LI:{name:"Liechtenstein",native:"Liechtenstein",phone:[423],continent:"EU",capital:"Vaduz",currency:["CHF"],languages:["de"]},LK:{name:"Sri Lanka",native:"r lakva",phone:[94],continent:"AS",capital:"Colombo",currency:["LKR"],languages:["si","ta"]},LR:{name:"Liberia",native:"Liberia",phone:[231],continent:"AF",capital:"Monrovia",currency:["LRD"],languages:["en"]},LS:{name:"Lesotho",native:"Lesotho",phone:[266],continent:"AF",capital:"Maseru",currency:["LSL","ZAR"],languages:["en","st"]},LT:{name:"Lithuania",native:"Lietuva",phone:[370],continent:"EU",capital:"Vilnius",currency:["EUR"],languages:["lt"]},LU:{name:"Luxembourg",native:"Luxembourg",phone:[352],continent:"EU",capital:"Luxembourg",currency:["EUR"],languages:["fr","de","lb"]},LV:{name:"Latvia",native:"Latvija",phone:[371],continent:"EU",capital:"Riga",currency:["EUR"],languages:["lv"]},LY:{name:"Libya",native:"",phone:[218],continent:"AF",capital:"Tripoli",currency:["LYD"],languages:["ar"]},MA:{name:"Morocco",native:"",phone:[212],continent:"AF",capital:"Rabat",currency:["MAD"],languages:["ar"]},MC:{name:"Monaco",native:"Monaco",phone:[377],continent:"EU",capital:"Monaco",currency:["EUR"],languages:["fr"]},MD:{name:"Moldova",native:"Moldova",phone:[373],continent:"EU",capital:"Chiinu",currency:["MDL"],languages:["ro"]},ME:{name:"Montenegro",native:" ",phone:[382],continent:"EU",capital:"Podgorica",currency:["EUR"],languages:["sr","bs","sq","hr"]},MF:{name:"Saint Martin",native:"Saint-Martin",phone:[590],continent:"NA",capital:"Marigot",currency:["EUR"],languages:["en","fr","nl"]},MG:{name:"Madagascar",native:"Madagasikara",phone:[261],continent:"AF",capital:"Antananarivo",currency:["MGA"],languages:["fr","mg"]},MH:{name:"Marshall Islands",native:"Maje",phone:[692],continent:"OC",capital:"Majuro",currency:["USD"],languages:["en","mh"]},MK:{name:"North Macedonia",native:" ",phone:[389],continent:"EU",capital:"Skopje",currency:["MKD"],languages:["mk"]},ML:{name:"Mali",native:"Mali",phone:[223],continent:"AF",capital:"Bamako",currency:["XOF"],languages:["fr"]},MM:{name:"Myanmar (Burma)",native:"",phone:[95],continent:"AS",capital:"Naypyidaw",currency:["MMK"],languages:["my"]},MN:{name:"Mongolia",native:" ",phone:[976],continent:"AS",capital:"Ulan Bator",currency:["MNT"],languages:["mn"]},MO:{name:"Macao",native:"",phone:[853],continent:"AS",capital:"",currency:["MOP"],languages:["zh","pt"]},MP:{name:"Northern Mariana Islands",native:"Northern Mariana Islands",phone:[1670],continent:"OC",capital:"Saipan",currency:["USD"],languages:["en","ch"]},MQ:{name:"Martinique",native:"Martinique",phone:[596],continent:"NA",capital:"Fort-de-France",currency:["EUR"],languages:["fr"]},MR:{name:"Mauritania",native:"",phone:[222],continent:"AF",capital:"Nouakchott",currency:["MRU"],languages:["ar"]},MS:{name:"Montserrat",native:"Montserrat",phone:[1664],continent:"NA",capital:"Plymouth",currency:["XCD"],languages:["en"]},MT:{name:"Malta",native:"Malta",phone:[356],continent:"EU",capital:"Valletta",currency:["EUR"],languages:["mt","en"]},MU:{name:"Mauritius",native:"Maurice",phone:[230],continent:"AF",capital:"Port Louis",currency:["MUR"],languages:["en"]},MV:{name:"Maldives",native:"Maldives",phone:[960],continent:"AS",capital:"Mal",currency:["MVR"],languages:["dv"]},MW:{name:"Malawi",native:"Malawi",phone:[265],continent:"AF",capital:"Lilongwe",currency:["MWK"],languages:["en","ny"]},MX:{name:"Mexico",native:"Mxico",phone:[52],continent:"NA",capital:"Mexico City",currency:["MXN"],languages:["es"]},MY:{name:"Malaysia",native:"Malaysia",phone:[60],continent:"AS",capital:"Kuala Lumpur",currency:["MYR"],languages:["ms"]},MZ:{name:"Mozambique",native:"Moambique",phone:[258],continent:"AF",capital:"Maputo",currency:["MZN"],languages:["pt"]},NA:{name:"Namibia",native:"Namibia",phone:[264],continent:"AF",capital:"Windhoek",currency:["NAD","ZAR"],languages:["en","af"]},NC:{name:"New Caledonia",native:"Nouvelle-Caldonie",phone:[687],continent:"OC",capital:"Nouma",currency:["XPF"],languages:["fr"]},NE:{name:"Niger",native:"Niger",phone:[227],continent:"AF",capital:"Niamey",currency:["XOF"],languages:["fr"]},NF:{name:"Norfolk Island",native:"Norfolk Island",phone:[672],continent:"OC",capital:"Kingston",currency:["AUD"],languages:["en"]},NG:{name:"Nigeria",native:"Nigeria",phone:[234],continent:"AF",capital:"Abuja",currency:["NGN"],languages:["en"]},NI:{name:"Nicaragua",native:"Nicaragua",phone:[505],continent:"NA",capital:"Managua",currency:["NIO"],languages:["es"]},NL:{name:"Netherlands",native:"Nederland",phone:[31],continent:"EU",capital:"Amsterdam",currency:["EUR"],languages:["nl"]},NO:{name:"Norway",native:"Norge",phone:[47],continent:"EU",capital:"Oslo",currency:["NOK"],languages:["no","nb","nn"]},NP:{name:"Nepal",native:"",phone:[977],continent:"AS",capital:"Kathmandu",currency:["NPR"],languages:["ne"]},NR:{name:"Nauru",native:"Nauru",phone:[674],continent:"OC",capital:"Yaren",currency:["AUD"],languages:["en","na"]},NU:{name:"Niue",native:"Niu",phone:[683],continent:"OC",capital:"Alofi",currency:["NZD"],languages:["en"]},NZ:{name:"New Zealand",native:"New Zealand",phone:[64],continent:"OC",capital:"Wellington",currency:["NZD"],languages:["en","mi"]},OM:{name:"Oman",native:"",phone:[968],continent:"AS",capital:"Muscat",currency:["OMR"],languages:["ar"]},PA:{name:"Panama",native:"Panam",phone:[507],continent:"NA",capital:"Panama City",currency:["PAB","USD"],languages:["es"]},PE:{name:"Peru",native:"Per",phone:[51],continent:"SA",capital:"Lima",currency:["PEN"],languages:["es"]},PF:{name:"French Polynesia",native:"Polynsie franaise",phone:[689],continent:"OC",capital:"Papeet",currency:["XPF"],languages:["fr"]},PG:{name:"Papua New Guinea",native:"Papua Niugini",phone:[675],continent:"OC",capital:"Port Moresby",currency:["PGK"],languages:["en"]},PH:{name:"Philippines",native:"Pilipinas",phone:[63],continent:"AS",capital:"Manila",currency:["PHP"],languages:["en"]},PK:{name:"Pakistan",native:"Pakistan",phone:[92],continent:"AS",capital:"Islamabad",currency:["PKR"],languages:["en","ur"]},PL:{name:"Poland",native:"Polska",phone:[48],continent:"EU",capital:"Warsaw",currency:["PLN"],languages:["pl"]},PM:{name:"Saint Pierre and Miquelon",native:"Saint-Pierre-et-Miquelon",phone:[508],continent:"NA",capital:"Saint-Pierre",currency:["EUR"],languages:["fr"]},PN:{name:"Pitcairn Islands",native:"Pitcairn Islands",phone:[64],continent:"OC",capital:"Adamstown",currency:["NZD"],languages:["en"]},PR:{name:"Puerto Rico",native:"Puerto Rico",phone:[1787,1939],continent:"NA",capital:"San Juan",currency:["USD"],languages:["es","en"]},PS:{name:"Palestine",native:"",phone:[970],continent:"AS",capital:"Ramallah",currency:["ILS"],languages:["ar"]},PT:{name:"Portugal",native:"Portugal",phone:[351],continent:"EU",capital:"Lisbon",currency:["EUR"],languages:["pt"]},PW:{name:"Palau",native:"Palau",phone:[680],continent:"OC",capital:"Ngerulmud",currency:["USD"],languages:["en"]},PY:{name:"Paraguay",native:"Paraguay",phone:[595],continent:"SA",capital:"Asuncin",currency:["PYG"],languages:["es","gn"]},QA:{name:"Qatar",native:"",phone:[974],continent:"AS",capital:"Doha",currency:["QAR"],languages:["ar"]},RE:{name:"Reunion",native:"La Runion",phone:[262],continent:"AF",capital:"Saint-Denis",currency:["EUR"],languages:["fr"]},RO:{name:"Romania",native:"Romnia",phone:[40],continent:"EU",capital:"Bucharest",currency:["RON"],languages:["ro"]},RS:{name:"Serbia",native:"",phone:[381],continent:"EU",capital:"Belgrade",currency:["RSD"],languages:["sr"]},RU:{name:"Russia",native:"",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Moscow",currency:["RUB"],languages:["ru"]},RW:{name:"Rwanda",native:"Rwanda",phone:[250],continent:"AF",capital:"Kigali",currency:["RWF"],languages:["rw","en","fr"]},SA:{name:"Saudi Arabia",native:" ",phone:[966],continent:"AS",capital:"Riyadh",currency:["SAR"],languages:["ar"]},SB:{name:"Solomon Islands",native:"Solomon Islands",phone:[677],continent:"OC",capital:"Honiara",currency:["SBD"],languages:["en"]},SC:{name:"Seychelles",native:"Seychelles",phone:[248],continent:"AF",capital:"Victoria",currency:["SCR"],languages:["fr","en"]},SD:{name:"Sudan",native:"",phone:[249],continent:"AF",capital:"Khartoum",currency:["SDG"],languages:["ar","en"]},SE:{name:"Sweden",native:"Sverige",phone:[46],continent:"EU",capital:"Stockholm",currency:["SEK"],languages:["sv"]},SG:{name:"Singapore",native:"Singapore",phone:[65],continent:"AS",capital:"Singapore",currency:["SGD"],languages:["en","ms","ta","zh"]},SH:{name:"Saint Helena",native:"Saint Helena",phone:[290],continent:"AF",capital:"Jamestown",currency:["SHP"],languages:["en"]},SI:{name:"Slovenia",native:"Slovenija",phone:[386],continent:"EU",capital:"Ljubljana",currency:["EUR"],languages:["sl"]},SJ:{name:"Svalbard and Jan Mayen",native:"Svalbard og Jan Mayen",phone:[4779],continent:"EU",capital:"Longyearbyen",currency:["NOK"],languages:["no"]},SK:{name:"Slovakia",native:"Slovensko",phone:[421],continent:"EU",capital:"Bratislava",currency:["EUR"],languages:["sk"]},SL:{name:"Sierra Leone",native:"Sierra Leone",phone:[232],continent:"AF",capital:"Freetown",currency:["SLL"],languages:["en"]},SM:{name:"San Marino",native:"San Marino",phone:[378],continent:"EU",capital:"City of San Marino",currency:["EUR"],languages:["it"]},SN:{name:"Senegal",native:"Sngal",phone:[221],continent:"AF",capital:"Dakar",currency:["XOF"],languages:["fr"]},SO:{name:"Somalia",native:"Soomaaliya",phone:[252],continent:"AF",capital:"Mogadishu",currency:["SOS"],languages:["so","ar"]},SR:{name:"Suriname",native:"Suriname",phone:[597],continent:"SA",capital:"Paramaribo",currency:["SRD"],languages:["nl"]},SS:{name:"South Sudan",native:"South Sudan",phone:[211],continent:"AF",capital:"Juba",currency:["SSP"],languages:["en"]},ST:{name:"Sao Tome and Principe",native:"So Tom e Prncipe",phone:[239],continent:"AF",capital:"So Tom",currency:["STN"],languages:["pt"]},SV:{name:"El Salvador",native:"El Salvador",phone:[503],continent:"NA",capital:"San Salvador",currency:["SVC","USD"],languages:["es"]},SX:{name:"Sint Maarten",native:"Sint Maarten",phone:[1721],continent:"NA",capital:"Philipsburg",currency:["ANG"],languages:["nl","en"]},SY:{name:"Syria",native:"",phone:[963],continent:"AS",capital:"Damascus",currency:["SYP"],languages:["ar"]},SZ:{name:"Eswatini",native:"Eswatini",phone:[268],continent:"AF",capital:"Lobamba",currency:["SZL"],languages:["en","ss"]},TC:{name:"Turks and Caicos Islands",native:"Turks and Caicos Islands",phone:[1649],continent:"NA",capital:"Cockburn Town",currency:["USD"],languages:["en"]},TD:{name:"Chad",native:"Tchad",phone:[235],continent:"AF",capital:"N'Djamena",currency:["XAF"],languages:["fr","ar"]},TF:{name:"French Southern Territories",native:"Territoire des Terres australes et antarctiques fr",phone:[262],continent:"AN",capital:"Port-aux-Franais",currency:["EUR"],languages:["fr"]},TG:{name:"Togo",native:"Togo",phone:[228],continent:"AF",capital:"Lom",currency:["XOF"],languages:["fr"]},TH:{name:"Thailand",native:"",phone:[66],continent:"AS",capital:"Bangkok",currency:["THB"],languages:["th"]},TJ:{name:"Tajikistan",native:"",phone:[992],continent:"AS",capital:"Dushanbe",currency:["TJS"],languages:["tg","ru"]},TK:{name:"Tokelau",native:"Tokelau",phone:[690],continent:"OC",capital:"Fakaofo",currency:["NZD"],languages:["en"]},TL:{name:"East Timor",native:"Timor-Leste",phone:[670],continent:"OC",capital:"Dili",currency:["USD"],languages:["pt"]},TM:{name:"Turkmenistan",native:"Trkmenistan",phone:[993],continent:"AS",capital:"Ashgabat",currency:["TMT"],languages:["tk","ru"]},TN:{name:"Tunisia",native:"",phone:[216],continent:"AF",capital:"Tunis",currency:["TND"],languages:["ar"]},TO:{name:"Tonga",native:"Tonga",phone:[676],continent:"OC",capital:"Nuku'alofa",currency:["TOP"],languages:["en","to"]},TR:{name:"Turkey",native:"Trkiye",phone:[90],continent:"AS",continents:["AS","EU"],capital:"Ankara",currency:["TRY"],languages:["tr"]},TT:{name:"Trinidad and Tobago",native:"Trinidad and Tobago",phone:[1868],continent:"NA",capital:"Port of Spain",currency:["TTD"],languages:["en"]},TV:{name:"Tuvalu",native:"Tuvalu",phone:[688],continent:"OC",capital:"Funafuti",currency:["AUD"],languages:["en"]},TW:{name:"Taiwan",native:"",phone:[886],continent:"AS",capital:"Taipei",currency:["TWD"],languages:["zh"]},TZ:{name:"Tanzania",native:"Tanzania",phone:[255],continent:"AF",capital:"Dodoma",currency:["TZS"],languages:["sw","en"]},UA:{name:"Ukraine",native:"",phone:[380],continent:"EU",capital:"Kyiv",currency:["UAH"],languages:["uk"]},UG:{name:"Uganda",native:"Uganda",phone:[256],continent:"AF",capital:"Kampala",currency:["UGX"],languages:["en","sw"]},UM:{name:"U.S. Minor Outlying Islands",native:"United States Minor Outlying Islands",phone:[1],continent:"OC",capital:"",currency:["USD"],languages:["en"]},US:{name:"United States",native:"United States",phone:[1],continent:"NA",capital:"Washington D.C.",currency:["USD","USN","USS"],languages:["en"]},UY:{name:"Uruguay",native:"Uruguay",phone:[598],continent:"SA",capital:"Montevideo",currency:["UYI","UYU"],languages:["es"]},UZ:{name:"Uzbekistan",native:"O'zbekiston",phone:[998],continent:"AS",capital:"Tashkent",currency:["UZS"],languages:["uz","ru"]},VA:{name:"Vatican City",native:"Vaticano",phone:[379],continent:"EU",capital:"Vatican City",currency:["EUR"],languages:["it","la"]},VC:{name:"Saint Vincent and the Grenadines",native:"Saint Vincent and the Grenadines",phone:[1784],continent:"NA",capital:"Kingstown",currency:["XCD"],languages:["en"]},VE:{name:"Venezuela",native:"Venezuela",phone:[58],continent:"SA",capital:"Caracas",currency:["VES"],languages:["es"]},VG:{name:"British Virgin Islands",native:"British Virgin Islands",phone:[1284],continent:"NA",capital:"Road Town",currency:["USD"],languages:["en"]},VI:{name:"U.S. Virgin Islands",native:"United States Virgin Islands",phone:[1340],continent:"NA",capital:"Charlotte Amalie",currency:["USD"],languages:["en"]},VN:{name:"Vietnam",native:"Vit Nam",phone:[84],continent:"AS",capital:"Hanoi",currency:["VND"],languages:["vi"]},VU:{name:"Vanuatu",native:"Vanuatu",phone:[678],continent:"OC",capital:"Port Vila",currency:["VUV"],languages:["bi","en","fr"]},WF:{name:"Wallis and Futuna",native:"Wallis et Futuna",phone:[681],continent:"OC",capital:"Mata-Utu",currency:["XPF"],languages:["fr"]},WS:{name:"Samoa",native:"Samoa",phone:[685],continent:"OC",capital:"Apia",currency:["WST"],languages:["sm","en"]},XK:{name:"Kosovo",native:"Republika e Kosovs",phone:[377,381,383,386],continent:"EU",capital:"Pristina",currency:["EUR"],languages:["sq","sr"]},YE:{name:"Yemen",native:"",phone:[967],continent:"AS",capital:"Sana'a",currency:["YER"],languages:["ar"]},YT:{name:"Mayotte",native:"Mayotte",phone:[262],continent:"AF",capital:"Mamoudzou",currency:["EUR"],languages:["fr"]},ZA:{name:"South Africa",native:"South Africa",phone:[27],continent:"AF",capital:"Pretoria",currency:["ZAR"],languages:["af","en","nr","st","ss","tn","ts","ve","xh","zu"]},ZM:{name:"Zambia",native:"Zambia",phone:[260],continent:"AF",capital:"Lusaka",currency:["ZMW"],languages:["en"]},ZW:{name:"Zimbabwe",native:"Zimbabwe",phone:[263],continent:"AF",capital:"Harare",currency:["USD","ZAR","BWP","GBP","AUD","CNY","INR","JPY"],languages:["en","sn","nd"]}},oU={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",XK:"XKX",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"},aU=t=>({...lf[t],iso2:t,iso3:oU[t]}),lU=()=>Object.keys(lf).map(t=>aU(t));lU();const uU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},cU=Rs(uU),hU=Ao(cU);class fU extends te.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&console.log("enter")});Xe(this,"updateState",(n,r)=>{this.setState({[n]:r,currentQuestion:this.state.currentQuestion+1})});Xe(this,"uploadData",async()=>{try{const n=await KL(Rn(hU,"Users",this.state.user.uid),{role:this.state.role,recommendBy:this.state.recommendBy,eduLvl:this.state.eduLvl,country:this.state.country,displayName:this.state.user.displayName,email:this.state.user.email,photoURL:this.state.user.photoURL})}catch(n){console.log("Error adding document of first-time login user: ",n)}});console.log(n.state.user),this.state={user:n.state.user,currentQuestion:1,role:null,recommendBy:null,eduLvl:null,country:null};let r=["-- Please Select --"];for(let i in lf)r.push(lf[i].name);r.sort(),this.data=[{id:1,answering:"role",question:"I am a ...",options:["student","teacher","special needy / refugee / disabilities","public"]},{id:2,answering:"recommendBy",question:"Who recommend me to this platform?",options:["friends","family","school","social media","others"]},{id:3,answering:"eduLvl",question:"I am currently in ...",options:["primary school","secondary school","high school","undergraduate","postgraduate","workplace"]},{id:4,answering:"country",question:"I am from ...",options:r}]}render(){if(console.log(this.state),this.state.user)if(this.state.user.metadata.creationTime===this.state.user.metadata.lastSignInTime)console.log("first-time user");else return O.jsx(Ll,{to:"/freeflow-edu/"});else return O.jsx(Ll,{to:"/freeflow-edu/"});const n=Au(this.data)?[]:this.data.map((r,i)=>{const s=Au(r.options)?[]:r.options.map((o,a)=>r.options.length<10?O.jsx("button",{onClick:()=>this.updateState(r.answering,o),value:o,children:o},o):O.jsx("option",{value:o,children:o},o));return O.jsxs("div",{style:{display:r.id===this.state.currentQuestion?"inherit":"none"},children:[O.jsxs("h3",{children:["Question ",r.id,": ",r.question]}),r.options.length<10?s:O.jsx("select",{id:"s_country",onChange:()=>$("#s_country").val()!=="-- Please Select --"?this.updateState("country",$("#s_country").val()):alert("Please select your origin."),children:s})]},r.id)});return this.state.currentQuestion>4?(console.log("End of survey"),this.uploadData(),O.jsx(Ll,{to:"/freeflow-edu/"})):O.jsxs(O.Fragment,{children:[O.jsx("h1",{children:"First Time Login Q&A"}),n]})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firebasestorage.googleapis.com",R2="storageBucket",dU=2*60*1e3,pU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends ui{constructor(e,n,r=0){super(zp(e),`Firebase Storage: ${n} (${zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function zp(t){return"storage/"+t}function Rv(){const t="An unknown error occurred, please check the error payload for server response.";return new It(xt.UNKNOWN,t)}function gU(t){return new It(xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mU(t){return new It(xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(xt.UNAUTHENTICATED,t)}function vU(){return new It(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _U(t){return new It(xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wU(){return new It(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EU(){return new It(xt.CANCELED,"User canceled the upload/download.")}function xU(t){return new It(xt.INVALID_URL,"Invalid URL '"+t+"'.")}function IU(t){return new It(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SU(){return new It(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+R2+"' property when initializing the app?")}function TU(){return new It(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AU(){return new It(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bU(t){return new It(xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function s0(t){return new It(xt.INVALID_ARGUMENT,t)}function C2(){return new It(xt.APP_DELETED,"The Firebase app was deleted.")}function RU(t){return new It(xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hl(t,e){return new It(xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fl(t){throw new It(xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sr.makeFromUrl(e,n)}catch{return new sr(e,"")}if(r.path==="")return r;throw IU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${d}/${c}/b/${i}/o${y}`,"i"),R={bucket:1,path:3},C=n===b2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",S=new RegExp(`^https?://${C}/${i}/${P}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:x,indices:R,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<v.length;L++){const N=v[L],B=N.regex.exec(e);if(B){const F=B[N.indices.bucket];let V=B[N.indices.path];V||(V=""),r=new sr(F,V),N.postModify(r);break}}if(r==null)throw xU(e);return r}}class CU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...P){u||(u=!0,e.apply(null,P))}function d(P){i=setTimeout(()=>{i=null,t(x,l())},P)}function y(){s&&clearTimeout(s)}function x(P,...S){if(u){y();return}if(P){y(),c.call(null,P,...S);return}if(l()||o){y(),c.call(null,P,...S);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let R=!1;function C(P){R||(R=!0,y(),!u&&(i!==null?(P||(a=2),clearTimeout(i),d(0)):P||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function PU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){return t!==void 0}function MU(t){return typeof t=="object"&&!Array.isArray(t)}function Cv(t){return typeof t=="string"||t instanceof String}function Jw(t){return kv()&&t instanceof Blob}function kv(){return typeof Blob<"u"&&!dN()}function eE(t,e,n,r){if(r<e)throw s0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw s0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function k2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Js||(Js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r,i,s,o,a,l,u,c,d,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,R)=>{this.resolve_=x,this.reject_=R,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Nc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Js.NO_ERROR,l=s.getStatus();if(!a||DU(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Js.ABORT;r(!1,new Nc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Nc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());NU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Rv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?C2():EU();o(l)}else{const l=wU();o(l)}};this.canceled_?n(!1,new Nc(!1,null,!0)):this.backoffId_=kU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VU(t,e,n,r,i,s,o=!0){const a=k2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return BU(u,e),LU(u,n),UU(u,s),FU(u,r),new OU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jU(...t){const e=$U();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(kv())return new Blob(t);throw new It(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){if(typeof atob>"u")throw bU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hp{constructor(e,n){this.data=e,this.contentType=n||null}}function qU(t,e){switch(t){case Qr.RAW:return new Hp(P2(e));case Qr.BASE64:case Qr.BASE64URL:return new Hp(N2(t,e));case Qr.DATA_URL:return new Hp(WU(e),KU(e))}throw Rv()}function P2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function GU(t){let e;try{e=decodeURIComponent(t)}catch{throw Hl(Qr.DATA_URL,"Malformed data URL.")}return P2(e)}function N2(t,e){switch(t){case Qr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Hl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Hl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HU(e)}catch(i){throw i.message.includes("polyfill")?i:Hl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class M2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hl(Qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=QU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WU(t){const e=new M2(t);return e.base64?N2(Qr.BASE64,e.rest):GU(e.rest)}function KU(t){return new M2(t).contentType}function QU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let r=0,i="";Jw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Jw(this.data_)){const r=this.data_,i=zU(r,e,n);return i===null?null:new Ji(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(r,!0)}}static getBlob(...e){if(kv()){const n=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(jU.apply(null,n))}else{const n=e.map(o=>Cv(o)?qU(Qr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ji(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){let e;try{e=JSON.parse(t)}catch{return null}return MU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function O2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e){return e}class Dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ZU}}let Mc=null;function JU(t){return!Cv(t)||t.length<2?t:O2(t)}function L2(){if(Mc)return Mc;const t=[];t.push(new Dn("bucket")),t.push(new Dn("generation")),t.push(new Dn("metageneration")),t.push(new Dn("name","fullPath",!0));function e(s,o){return JU(o)}const n=new Dn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Dn("size");return i.xform=r,t.push(i),t.push(new Dn("timeCreated")),t.push(new Dn("updated")),t.push(new Dn("md5Hash",null,!0)),t.push(new Dn("cacheControl",null,!0)),t.push(new Dn("contentDisposition",null,!0)),t.push(new Dn("contentEncoding",null,!0)),t.push(new Dn("contentLanguage",null,!0)),t.push(new Dn("contentType",null,!0)),t.push(new Dn("metadata","customMetadata",!0)),Mc=t,Mc}function eB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new sr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function tB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return eB(r,t),r}function U2(t,e,n){const r=D2(e);return r===null?null:tB(t,r,n)}function nB(t,e,n,r){const i=D2(e);if(i===null||!Cv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,y="/b/"+o(c)+"/o/"+o(d),x=Pv(y,n,r),R=k2({alt:"media",token:u});return x+R})[0]}function rB(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class B2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){if(!t)throw Rv()}function iB(t,e){function n(r,i){const s=U2(t,i,e);return F2(s!==null),s}return n}function sB(t,e){function n(r,i){const s=U2(t,i,e);return F2(s!==null),nB(s,i,t.host,t._protocol)}return n}function V2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=vU():i=yU():n.getStatus()===402?i=mU(t.bucket):n.getStatus()===403?i=_U(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function oB(t){const e=V2(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=gU(t.path)),s.serverResponse=i.serverResponse,s}return n}function aB(t,e,n){const r=e.fullServerUrl(),i=Pv(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new B2(i,s,sB(t,n),o);return a.errorHandler=oB(e),a}function lB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uB(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lB(null,e)),r}function cB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let L=0;L<2;L++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=uB(e,r,i),c=rB(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,y=`\r
--`+l+"--",x=Ji.getBlob(d,r,y);if(x===null)throw TU();const R={name:u.fullPath},C=Pv(s,t.host,t._protocol),P="POST",S=t.maxUploadRetryTime,E=new B2(C,P,iB(t,n),S);return E.urlParams=R,E.headers=o,E.body=x.uploadData(),E.errorHandler=V2(e),E}class hB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fB extends hB{initXhr(){this.xhr_.responseType="text"}}function $2(){return new fB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this._service=e,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new go(e,n)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return O2(this._location.path)}get storage(){return this._service}get parent(){const e=YU(this._location.path);if(e===null)return null;const n=new sr(this._location.bucket,e);return new go(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RU(e)}}function dB(t,e,n){t._throwIfRoot("uploadBytes");const r=cB(t.storage,t._location,L2(),new Ji(e,!0),n);return t.storage.makeRequestWithTokens(r,$2).then(i=>({metadata:i,ref:t}))}function pB(t){t._throwIfRoot("getDownloadURL");const e=aB(t.storage,t._location,L2());return t.storage.makeRequestWithTokens(e,$2).then(n=>{if(n===null)throw AU();return n})}function gB(t,e){const n=XU(t._location.path,e),r=new sr(t._location.bucket,n);return new go(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){return/^[A-Za-z]+:\/\//.test(t)}function yB(t,e){return new go(t,e)}function j2(t,e){if(t instanceof Nv){const n=t;if(n._bucket==null)throw SU();const r=new go(n,n._bucket);return e!=null?j2(r,e):r}else return e!==void 0?gB(t,e):t}function vB(t,e){if(e&&mB(e)){if(t instanceof Nv)return yB(t,e);throw s0("To use ref(service, url), the first argument must be a Storage instance.")}else return j2(t,e)}function tE(t,e){const n=e==null?void 0:e[R2];return n==null?null:sr.makeFromBucketSpec(n,t)}function _B(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wS(i,t.app.options.projectId))}class Nv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=b2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dU,this._maxUploadRetryTime=pU,this._requests=new Set,i!=null?this._bucket=sr.makeFromBucketSpec(i,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new go(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new CU(C2());{const o=VU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const nE="@firebase/storage",rE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="storage";function dl(t,e,n){return t=Tt(t),dB(t,e,n)}function ha(t){return t=Tt(t),pB(t)}function Ti(t,e){return t=Tt(t),vB(t,e)}function vd(t=_y(),e){t=Tt(t);const r=Uf(t,z2).getImmediate({identifier:e}),i=yS("storage");return i&&wB(r,...i),r}function wB(t,e,n,r={}){_B(t,e,n,r)}function EB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Nv(n,r,i,e,Eo)}function xB(){uo(new Es(z2,EB,"PUBLIC").setMultipleInstances(!0)),Zr(nE,rE,""),Zr(nE,rE,"esm2017")}xB();const IB={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},H2=Rs(IB),qp=Ao(H2),SB=vd(H2),TB=t=>{const[e,n]=te.useState(t.state.user);te.useState(t.state.credential);const[r,i]=te.useState(null),s=Du();if(e){const o=Rn(qp,"Users",e.uid);(()=>{Si(o).then(c=>{c.exists()?console.log("registered"):e.metadata.creationTime===e.metadata.lastSignInTime?(console.log("first-time user"),s("/freeflow-edu/first-time-user")):console.log("registered")}).catch(c=>{console.log("Error getting document of collection Users: ",c)})})();const l=()=>Au(r)?[]:r.map((c,d)=>{const y=x=>(console.log(x),s("course/"+x));return O.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[O.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:c+"_card_thumbnail"}),O.jsxs("div",{className:"flex flex-col justify-start p-6",children:[O.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:c+"_title"}),O.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:c+"_des"}),O.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[O.jsx("span",{id:c+"_eduLvl"})," ",O.jsx("span",{id:c+"_sub"})]}),O.jsx("div",{className:"gap-4",id:c+"_tag"}),O.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>y(c),children:"View Course"})]})]},d)});te.useEffect(()=>{Mh(document.getElementById("div_recommended")).render(O.jsx(l,{}));for(let d in r){const y=Rn(qp,"Course",r[d]);Si(y).then(x=>{$("#"+x.id+"_title").text(x.data().title),$("#"+x.id+"_des").text(x.data().des),$("#"+x.id+"_eduLvl").text(_r(x.data().eduLvl)),$("#"+x.id+"_sub").text(_r(x.data().sub)),(C=>{ha(Ti(SB,C+"/thumbnail.jpg")).then(P=>{$(`#${r[d]}_card_thumbnail`).attr("src",P)})})(r[d]);for(let C in x.data().tag)$("#"+x.id+"_tag").html($("#"+x.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${x.data().tag[C]}</span>`)}).catch(x=>{console.error("No such document Course for id",r[d],x)})}},[r]),(async()=>{const c=await WL(f2(qp,"Course"));r||i(c.docs.map(d=>d.id))})()}return O.jsxs(O.Fragment,{children:[O.jsx("h1",{className:"text-gray-300",children:"Home"}),O.jsx("h3",{className:"text-3xl bold py-5",children:"Recommended Course"}),O.jsx("div",{id:"div_recommended"})]})},AB={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},q2=Rs(AB),Gp=Ao(q2),iE=vd(q2),bB=t=>{const{id:e}=lS(),n=Du(),[r,i]=te.useState(null),[s,o]=te.useState(null),a=Rn(Gp,"Users",e);if((async()=>{const u=await Si(a);u.exists()?(console.log(u.data()),$("#t_name_profile").text(u.data().displayName),$("#t_role_profile").text(_r(u.data().role)),e===t.state.user.uid&&(u.data().wishlist&&(s||o(u.data().wishlist)),u.data().enrolled&&(r||i(u.data().enrolled)))):console.log("No such document for users with uid",t.state.user.uid)})(),t.state.user.uid===e){const u=()=>Au(r)?[]:r.map((d,y)=>{const x=R=>(console.log(R),n("../course/"+R));return O.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[O.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:d+"_enrolled_card_thumbnail"}),O.jsxs("div",{className:"flex flex-col justify-start p-6",children:[O.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:d+"_enrolled_title"}),O.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:d+"_enrolled_des"}),O.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[O.jsx("span",{id:d+"_enrolled_eduLvl"})," ",O.jsx("span",{id:d+"_enrolled_sub"})]}),O.jsx("div",{className:"gap-4",id:d+"_enrolled_tag"}),O.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>x(d),children:"View Course"})]})]},y)});te.useEffect(()=>{Mh(document.getElementById("div_enrolled")).render(O.jsx(u,{}));for(let y in r){console.log(r);const x=Rn(Gp,"Course",r[y]);Si(x).then(R=>{$("#"+R.id+"_enrolled_title").text(R.data().title),$("#"+R.id+"_enrolled_des").text(R.data().des),$("#"+R.id+"_enrolled_eduLvl").text(_r(R.data().eduLvl)),$("#"+R.id+"_enrolled_sub").text(_r(R.data().sub)),(P=>{ha(Ti(iE,P+"/thumbnail.jpg")).then(S=>{$(`#${r[y]}_enrolled_card_thumbnail`).attr("src",S)})})(r[y]);for(let P in R.data().tag)$("#"+R.id+"_enrolled_tag").html($("#"+R.id+"_enrolled_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${R.data().tag[P]}</span>`)}).catch(R=>{console.error("No such document Course for id",s[y],R)})}},[r]);const c=()=>Au(r)?[]:s.map((d,y)=>{const x=R=>(console.log(R),n("../course/"+R));return O.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[O.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:d+"_card_thumbnail"}),O.jsxs("div",{className:"flex flex-col justify-start p-6",children:[O.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:d+"_title"}),O.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:d+"_des"}),O.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[O.jsx("span",{id:d+"_eduLvl"})," ",O.jsx("span",{id:d+"_sub"})]}),O.jsx("div",{className:"gap-4",id:d+"_tag"}),O.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>x(d),children:"View Course"})]})]},y)});te.useEffect(()=>{Mh(document.getElementById("div_wishlist")).render(O.jsx(c,{}));for(let y in s){const x=Rn(Gp,"Course",s[y]);Si(x).then(R=>{$("#"+R.id+"_title").text(R.data().title),$("#"+R.id+"_des").text(R.data().des),$("#"+R.id+"_eduLvl").text(_r(R.data().eduLvl)),$("#"+R.id+"_sub").text(_r(R.data().sub)),(P=>{ha(Ti(iE,P+"/thumbnail.jpg")).then(S=>{$(`#${s[y]}_card_thumbnail`).attr("src",S)})})(s[y]);for(let P in R.data().tag)$("#"+R.id+"_tag").html($("#"+R.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${R.data().tag[P]}</span>`)}).catch(R=>{console.error("No such document Course for id",s[y],R)})}},[s])}return O.jsxs(O.Fragment,{children:[O.jsx("h1",{children:"Profile"}),O.jsxs("h3",{children:["Name: ",O.jsx("span",{id:"t_name_profile"})]}),O.jsx("h3",{id:"t_role_profile"}),t.state.user.uid===e&&O.jsxs(O.Fragment,{children:[O.jsx("h3",{className:"text-3xl bold py-5",children:"Enrolled Course"}),O.jsx("div",{id:"div_enrolled"}),O.jsx("h3",{className:"text-3xl bold py-5",children:"Wishlist"}),O.jsx("div",{id:"div_wishlist"})]})]})},Wp=(()=>{const t={};let e=1;return{set(n,r,i){typeof n[r]>"u"&&(n[r]={key:r,id:e},e++),t[n[r].id]=i},get(n,r){if(!n||typeof n[r]>"u")return null;const i=n[r];return i.key===r?t[i.id]:null},delete(n,r){if(typeof n[r]>"u")return;const i=n[r];i.key===r&&(delete t[i.id],delete n[r])}}})(),Dc={setData(t,e,n){Wp.set(t,e,n)},getData(t,e){return Wp.get(t,e)},removeData(t,e){Wp.delete(t,e)}},RB=1e6,CB=t=>t==null?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),kB=t=>{do t+=Math.floor(Math.random()*RB);while(document.getElementById(t));return t},G2=t=>{let e=t.getAttribute("data-te-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},PB=t=>{const e=G2(t);return e&&document.querySelector(e)?e:null},W2=t=>{const e=G2(t);return e?document.querySelector(e):null},NB=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),sE=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],s=e[r],o=s&&NB(s)?"element":CB(s);if(!new RegExp(i).test(o))throw new Error(`${t.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)})},Mv=t=>{if(!t||t.getClientRects().length===0)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return getComputedStyle(t).getPropertyValue("visibility")==="visible"||e.display!=="none"&&n.display!=="none"&&e.visibility!=="hidden"}return!1},Dv=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",K2=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-te-no-jquery")?t:null},Kp=[],MB=t=>{document.readyState==="loading"?(Kp.length||document.addEventListener("DOMContentLoaded",()=>{Kp.forEach(e=>e())}),Kp.push(t)):t()},oi=()=>document.documentElement.dir==="rtl",Q2=t=>document.createElement(t),DB=/[^.]*(?=\..*)\.|.*/,OB=/\..*/,LB=/::\d+$/,Qp={};let oE=1;const UB={mouseenter:"mouseover",mouseleave:"mouseout"},BB=/^(mouseenter|mouseleave)/i,Y2=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function X2(t,e){return e&&`${e}::${oE++}`||t.uidEvent||oE++}function Z2(t){const e=X2(t);return t.uidEvent=e,Qp[e]=Qp[e]||{},Qp[e]}function FB(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&$n.off(t,r.type,e),e.apply(t,[r])}}function VB(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a=s.length;a--;"")if(s[a]===o)return i.delegateTarget=o,r.oneOff&&$n.off(t,i.type,n),n.apply(o,[i]);return null}}function J2(t,e,n=null){const r=Object.keys(t);for(let i=0,s=r.length;i<s;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function eb(t,e,n){const r=typeof e=="string",i=r?n:e;let s=tb(t);return Y2.has(s)||(s=t),[r,i,s]}function aE(t,e,n,r,i){if(typeof e!="string"||!t)return;if(n||(n=r,r=null),BB.test(e)){const x=R=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return R.call(this,C)};r?r=x(r):n=x(n)}const[s,o,a]=eb(e,n,r),l=Z2(t),u=l[a]||(l[a]={}),c=J2(u,o,s?n:null);if(c){c.oneOff=c.oneOff&&i;return}const d=X2(o,e.replace(DB,"")),y=s?VB(t,n,r):FB(t,n);y.delegationSelector=s?n:null,y.originalHandler=o,y.oneOff=i,y.uidEvent=d,u[d]=y,t.addEventListener(a,y,s)}function o0(t,e,n,r,i){const s=J2(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function $B(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(s=>{if(s.includes(r)){const o=i[s];o0(t,e,n,o.originalHandler,o.delegationSelector)}})}function tb(t){return t=t.replace(OB,""),UB[t]||t}const $n={on(t,e,n,r){aE(t,e,n,r,!1)},one(t,e,n,r){aE(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=eb(e,n,r),a=o!==e,l=Z2(t),u=e.startsWith(".");if(typeof s<"u"){if(!l||!l[o])return;o0(t,l,o,s,i?n:null);return}u&&Object.keys(l).forEach(d=>{$B(t,l,d,e.slice(1))});const c=l[o]||{};Object.keys(c).forEach(d=>{const y=d.replace(LB,"");if(!a||e.includes(y)){const x=c[d];o0(t,l,o,x.originalHandler,x.delegationSelector)}})},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=K2(),i=tb(e),s=e!==i,o=Y2.has(i);let a,l=!0,u=!0,c=!1,d=null;return s&&r&&(a=r.Event(e,n),r(t).trigger(a),l=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),o?(d=document.createEvent("HTMLEvents"),d.initEvent(i,l,!0)):d=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof n<"u"&&Object.keys(n).forEach(y=>{Object.defineProperty(d,y,{get(){return n[y]}})}),c&&d.preventDefault(),u&&t.dispatchEvent(d),d.defaultPrevented&&typeof a<"u"&&a.preventDefault(),d}};function Yp(t){return t==="true"?!0:t==="false"?!1:t===Number(t).toString()?Number(t):t===""||t==="null"?null:t}function Xp(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ln={setDataAttribute(t,e,n){t.setAttribute(`data-te-${Xp(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-te-${Xp(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(n=>n.startsWith("te")).forEach(n=>{if(n.startsWith("teClass"))return;let r=n.replace(/^te/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Yp(t.dataset[n])}),e},getDataClassAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter(n=>n.startsWith("teClass")).forEach(n=>{let r=n.replace(/^teClass/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Yp(e[n])}),e},getDataAttribute(t,e){return Yp(t.getAttribute(`data-te-${Xp(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position(t){return{top:t.offsetTop,left:t.offsetLeft}},style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&Zp(e).forEach(n=>{t.classList.contains(n)?t.classList.remove(n):t.classList.add(n)})},addClass(t,e){Zp(e).forEach(n=>!t.classList.contains(n)&&t.classList.add(n))},addStyle(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]})},removeClass(t,e){Zp(e).forEach(n=>t.classList.contains(n)&&t.classList.remove(n))},hasClass(t,e){return t.classList.contains(e)},maxOffset(t){const e=t.getBoundingClientRect();return{top:e.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:e.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function Zp(t){return typeof t=="string"?t.split(" "):Array.isArray(t)?t:!1}const jB=3,Ai={closest(t,e){return t.closest(e)},matches(t,e){return t.matches(e)},find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==jB;)this.matches(r,e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(", ");return this.find(e,t).filter(n=>!Dv(n)&&Mv(n))}};oi();oi();oi();oi();oi();oi();oi(),oi();(()=>{var t={454:(r,i,s)=>{s.d(i,{Z:()=>l});var o=s(645),a=s.n(o)()(function(u){return u[1]});a.push([r.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const l=a},645:r=>{r.exports=function(i){var s=[];return s.toString=function(){return this.map(function(o){var a=i(o);return o[2]?"@media ".concat(o[2]," {").concat(a,"}"):a}).join("")},s.i=function(o,a,l){typeof o=="string"&&(o=[[null,o,""]]);var u={};if(l)for(var c=0;c<this.length;c++){var d=this[c][0];d!=null&&(u[d]=!0)}for(var y=0;y<o.length;y++){var x=[].concat(o[y]);l&&u[x[0]]||(a&&(x[2]?x[2]="".concat(a," and ").concat(x[2]):x[2]=a),s.push(x))}},s}},810:()=>{(function(){if(typeof window<"u")try{var r=new window.CustomEvent("test",{cancelable:!0});if(r.preventDefault(),r.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var i=function(s,o){var a,l;return(o=o||{}).bubbles=!!o.bubbles,o.cancelable=!!o.cancelable,(a=document.createEvent("CustomEvent")).initCustomEvent(s,o.bubbles,o.cancelable,o.detail),l=a.preventDefault,a.preventDefault=function(){l.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},a};i.prototype=window.Event.prototype,window.CustomEvent=i}})()},379:(r,i,s)=>{var o,a=function(){var v={};return function(L){if(v[L]===void 0){var N=document.querySelector(L);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}v[L]=N}return v[L]}}(),l=[];function u(v){for(var L=-1,N=0;N<l.length;N++)if(l[N].identifier===v){L=N;break}return L}function c(v,L){for(var N={},B=[],F=0;F<v.length;F++){var V=v[F],Y=L.base?V[0]+L.base:V[0],X=N[Y]||0,re="".concat(Y," ").concat(X);N[Y]=X+1;var ye=u(re),U={css:V[1],media:V[2],sourceMap:V[3]};ye!==-1?(l[ye].references++,l[ye].updater(U)):l.push({identifier:re,updater:E(U,L),references:1}),B.push(re)}return B}function d(v){var L=document.createElement("style"),N=v.attributes||{};if(N.nonce===void 0){var B=s.nc;B&&(N.nonce=B)}if(Object.keys(N).forEach(function(V){L.setAttribute(V,N[V])}),typeof v.insert=="function")v.insert(L);else{var F=a(v.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(L)}return L}var y,x=(y=[],function(v,L){return y[v]=L,y.filter(Boolean).join(`
`)});function R(v,L,N,B){var F=N?"":B.media?"@media ".concat(B.media," {").concat(B.css,"}"):B.css;if(v.styleSheet)v.styleSheet.cssText=x(L,F);else{var V=document.createTextNode(F),Y=v.childNodes;Y[L]&&v.removeChild(Y[L]),Y.length?v.insertBefore(V,Y[L]):v.appendChild(V)}}function C(v,L,N){var B=N.css,F=N.media,V=N.sourceMap;if(F?v.setAttribute("media",F):v.removeAttribute("media"),V&&typeof btoa<"u"&&(B+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(V))))," */")),v.styleSheet)v.styleSheet.cssText=B;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(B))}}var P=null,S=0;function E(v,L){var N,B,F;if(L.singleton){var V=S++;N=P||(P=d(L)),B=R.bind(null,N,V,!1),F=R.bind(null,N,V,!0)}else N=d(L),B=C.bind(null,N,L),F=function(){(function(Y){if(Y.parentNode===null)return!1;Y.parentNode.removeChild(Y)})(N)};return B(v),function(Y){if(Y){if(Y.css===v.css&&Y.media===v.media&&Y.sourceMap===v.sourceMap)return;B(v=Y)}else F()}}r.exports=function(v,L){(L=L||{}).singleton||typeof L.singleton=="boolean"||(L.singleton=(o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o));var N=c(v=v||[],L);return function(B){if(B=B||[],Object.prototype.toString.call(B)==="[object Array]"){for(var F=0;F<N.length;F++){var V=u(N[F]);l[V].references--}for(var Y=c(B,L),X=0;X<N.length;X++){var re=u(N[X]);l[re].references===0&&(l[re].updater(),l.splice(re,1))}N=Y}}}}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return n.d(i,{a:i}),i},n.d=(r,i)=>{for(var s in i)n.o(i,s)&&!n.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:i[s]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),(()=>{var r=n(379),i=n.n(r),s=n(454);function o(l){if(!l.hasAttribute("autocompleted")){l.setAttribute("autocompleted","");var u=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});l.dispatchEvent(u)||(l.value="")}}function a(l){l.hasAttribute("autocompleted")&&(l.removeAttribute("autocompleted"),l.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,n(810),document.addEventListener("animationstart",function(l){l.animationName==="onautofillstart"?o(l.target):a(l.target)},!0),document.addEventListener("input",function(l){l.inputType!=="insertReplacementText"&&"data"in l?a(l.target):o(l.target)},!0)})()})();const Jp="ripple",Oc="te.ripple",zB="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",HB=["[data-te-ripple-init]"],eg=[0,0,0],qB=[{name:"primary",gradientColor:"#3B71CA"},{name:"secondary",gradientColor:"#9FA6B2"},{name:"success",gradientColor:"#14A44D"},{name:"danger",gradientColor:"#DC4C64"},{name:"warning",gradientColor:"#E4A11B"},{name:"info",gradientColor:"#54B4D3"},{name:"light",gradientColor:"#fbfbfb"},{name:"dark",gradientColor:"#262626"}],lE=.5,GB={rippleCentered:!1,rippleColor:"",rippleColorDark:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},WB={rippleCentered:"boolean",rippleColor:"string",rippleColorDark:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},KB={ripple:"relative overflow-hidden inline-block align-bottom",rippleWave:"rounded-[50%] opacity-50 pointer-events-none absolute touch-none scale-0 transition-[transform,_opacity] ease-[cubic-bezier(0,0,0.15,1),_cubic-bezier(0,0,0.15,1)] z-[999]",unbound:"overflow-visible"},QB={ripple:"string",rippleWave:"string",unbound:"string"};class Ov{constructor(e,n,r){this._element=e,this._options=this._getConfig(n),this._classes=this._getClasses(r),this._element&&(Dc.setData(e,Oc,this),Ln.addClass(this._element,this._classes.ripple)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this._initialClasses=null,this.init()}static get NAME(){return Jp}init(){this._addClickEvent(this._element)}dispose(){Dc.removeData(this._element,Oc),$n.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(e){HB.forEach(n=>{Ai.closest(e.target,n)&&(this._element=Ai.closest(e.target,n))}),this._element.style.minWidth||(Ln.style(this._element,{"min-width":getComputedStyle(this._element).width}),this._isMinWidthSet=!0),this._options=this._getConfig(),this._classes=this._getClasses(),this._initialClasses=[...this._element.classList],Ln.addClass(this._element,this._classes.ripple),this._createRipple(e)}_addClickEvent(e){$n.on(e,"mousedown",this._clickHandler)}_createRipple(e){this._element.className.indexOf(this._classes.ripple)<0&&Ln.addClass(this._element,this._classes.ripple);const{layerX:n,layerY:r}=e,i=e.offsetX||n,s=e.offsetY||r,o=this._element.offsetHeight,a=this._element.offsetWidth,l=this._durationToMsNumber(this._options.rippleDuration),u={offsetX:this._options.rippleCentered?o/2:i,offsetY:this._options.rippleCentered?a/2:s,height:o,width:a},c=this._getDiameter(u),d=this._options.rippleRadius||c/2,y={delay:l*lE,duration:l-l*lE},x={left:this._options.rippleCentered?`${a/2-d}px`:`${i-d}px`,top:this._options.rippleCentered?`${o/2-d}px`:`${s-d}px`,height:`${this._options.rippleRadius*2||c}px`,width:`${this._options.rippleRadius*2||c}px`,transitionDelay:`0s, ${y.delay}ms`,transitionDuration:`${l}ms, ${y.duration}ms`},R=Q2("div");this._createHTMLRipple({wrapper:this._element,ripple:R,styles:x}),this._removeHTMLRipple({ripple:R,duration:l})}_createHTMLRipple({wrapper:e,ripple:n,styles:r}){Object.keys(r).forEach(i=>n.style[i]=r[i]),Ln.addClass(n,this._classes.rippleWave),n.setAttribute("data-te-ripple-ref",""),this._addColor(n,e),this._toggleUnbound(e),this._appendRipple(n,e)}_removeHTMLRipple({ripple:e,duration:n}){this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),e&&setTimeout(()=>{e.classList.add("!opacity-0")},10),this._rippleTimer=setTimeout(()=>{if(e&&(e.remove(),this._element)){Ai.find("[data-te-ripple-ref]",this._element).forEach(i=>{i.remove()}),this._isMinWidthSet&&(Ln.style(this._element,{"min-width":""}),this._isMinWidthSet=!1);const r=this._initialClasses?this._addedNewRippleClasses(this._classes.ripple,this._initialClasses):this._classes.ripple.split(" ");Ln.removeClass(this._element,r)}},n)}_addedNewRippleClasses(e,n){return e.split(" ").filter(r=>n.findIndex(i=>r===i)===-1)}_durationToMsNumber(e){return Number(e.replace("ms","").replace("s","000"))}_getConfig(e={}){const n=Ln.getDataAttributes(this._element);return e={...GB,...n,...e},sE(Jp,e,WB),e}_getClasses(e={}){const n=Ln.getDataClassAttributes(this._element);return e={...KB,...n,...e},sE(Jp,e,QB),e}_getDiameter({offsetX:e,offsetY:n,height:r,width:i}){const s=n<=r/2,o=e<=i/2,a=(y,x)=>Math.sqrt(y**2+x**2),l=n===r/2&&e===i/2,u={first:s===!0&&o===!1,second:s===!0&&o===!0,third:s===!1&&o===!0,fourth:s===!1&&o===!1},c={topLeft:a(e,n),topRight:a(i-e,n),bottomLeft:a(e,r-n),bottomRight:a(i-e,r-n)};let d=0;return l||u.fourth?d=c.topLeft:u.third?d=c.topRight:u.second?d=c.bottomRight:u.first&&(d=c.bottomLeft),d*2}_appendRipple(e,n){n.appendChild(e),setTimeout(()=>{Ln.addClass(e,"opacity-0 scale-100")},50)}_toggleUnbound(e){this._options.rippleUnbound===!0?Ln.addClass(e,this._classes.unbound):Ln.removeClass(e,this._classes.unbound)}_addColor(e){let n=this._options.rippleColor||"rgb(0,0,0)";(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(n=this._options.rippleColorDark||this._options.rippleColor);const r=qB.find(o=>o.name===n.toLowerCase()),i=r?this._colorToRGB(r.gradientColor).join(","):this._colorToRGB(n).join(","),s=zB.split("{{color}}").join(`${i}`);e.style.backgroundImage=`radial-gradient(circle, ${s})`}_colorToRGB(e){function n(s){return s.length<7&&(s=`#${s[1]}${s[1]}${s[2]}${s[2]}${s[3]}${s[3]}`),[parseInt(s.substr(1,2),16),parseInt(s.substr(3,2),16),parseInt(s.substr(5,2),16)]}function r(s){const o=document.body.appendChild(document.createElement("fictum")),a="rgb(1, 2, 3)";return o.style.color=a,o.style.color!==a||(o.style.color=s,o.style.color===a||o.style.color==="")?eg:(s=getComputedStyle(o).color,document.body.removeChild(o),s)}function i(s){return s=s.match(/[.\d]+/g).map(o=>+Number(o)),s.length=3,s}return e.toLowerCase()==="transparent"?eg:e[0]==="#"?n(e):(e.indexOf("rgb")===-1&&(e=r(e)),e.indexOf("rgb")===0?i(e):eg)}static autoInitial(e){return function(n){e._autoInit(n)}}static jQueryInterface(e){return this.each(function(){return Dc.getData(this,Oc)?null:new Ov(this,e)})}static getInstance(e){return Dc.getData(e,Oc)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}}oi();oi();kB("chips-input-");const $i={plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}},YB={line:{options:{...$i,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bar:{options:{...$i,backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},pie:{options:{...$i,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},doughnut:{options:{...$i,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},polarArea:{options:{...$i,elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}}},radar:{options:{...$i,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},scatter:{options:{...$i,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bubble:{options:{...$i,elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}}};var _d=function(t){this.element=t,this.handlers={}},nb={isEmpty:{configurable:!0}};_d.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};_d.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(n.element.removeEventListener(t,r,!1),!1)})};_d.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};nb.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(_d.prototype,nb);typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),typeof navigator<"u"&&navigator.msMaxTouchPoints,typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent);Q2("div");const XB=t=>{MB(()=>{const e=K2();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},ZB=(t,e)=>{$n.on(document,`click.te.${t.NAME}`,e,function(n){n.preventDefault(),t.getOrCreateInstance(this).toggle()})},JB=(t,e)=>{$n.on(document,`click.te.${t.NAME}.data-api`,e,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Dv(this)&&t.getOrCreateInstance(this).show()})},e5=(t,e)=>{$n.on(document,`click.te.${t.NAME}.data-api`,e,function(n){const r=W2(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Dv(this))return;$n.one(r,t.EVENT_HIDDEN,()=>{Mv(this)&&this.focus()});const i=Ai.findOne(t.OPEN_SELECTOR);i&&i!==r&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},t5=(t,e)=>{$n.on(document,`click.te.${t.NAME}`,e,n=>{n.preventDefault();const r=n.target.closest(e);t.getOrCreateInstance(r).toggle()})},n5=(t,e)=>{$n.on(document,`click.te.${t.NAME}`,e,function(n){const r=W2(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),$n.one(r,t.EVENT_SHOW,s=>{s.defaultPrevented||$n.one(r,t.EVENT_HIDDEN,()=>{Mv(this)&&this.focus()})});const i=Ai.findOne(`[${t.OPEN_SELECTOR}="true"]`);i&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},r5=(t,e)=>{$n.one(document,"mousedown",e,t.autoInitial(new t))},i5=(t,e)=>{$n.on(document,`click.te.${t.NAME}.data-api`,e,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const r=PB(this);Ai.find(r).forEach(i=>{t.getOrCreateInstance(i,{toggle:!1}).toggle()})})},s5=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},o5=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},a5=(t,e)=>{Ai.find(e).forEach(n=>{new t(n)}),$n.on(document,`click.te.${t.NAME}.data-api`,`${e} img:not([data-te-lightbox-disabled])`,t.toggle())},l5=(t,e)=>{const n=s=>s[0]==="{"&&s[s.length-1]==="}"||s[0]==="["&&s[s.length-1]==="]",r=s=>typeof s!="string"?s:n(s)?JSON.parse(s.replace(/'/g,'"')):s,i=s=>{const o={};return Object.keys(s).forEach(a=>{if(a.match(/dataset.*/)){const l=a.slice(7,8).toLowerCase().concat(a.slice(8));o[l]=r(s[a])}}),o};Ai.find(e).forEach(s=>{if(Ln.getDataAttribute(s,"chart")!=="bubble"&&Ln.getDataAttribute(s,"chart")!=="scatter"){const o=Ln.getDataAttributes(s),a={data:{datasets:[i(o)]}};return o.chart&&(a.type=o.chart),o.labels&&(a.data.labels=JSON.parse(o.labels.replace(/'/g,'"'))),new t(s,{...a,...YB[a.type]})}return null})};class u5{constructor(){this.inits=[]}get initialized(){return this.inits}isInited(e){return this.inits.includes(e)}add(e){this.isInited(e)||this.inits.push(e)}}const a0=new u5,Al={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:l5},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:t5},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:i5},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:ZB},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:n5},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:r5},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:e5},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:JB},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:s5},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:o5},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:a5},touch:{name:"Touch",selector:"[data-te-touch-init]"}},c5=t=>Al[t.NAME]||null,h5=(t,e)=>{if(!t||!e.allowReinits&&a0.isInited(t.NAME))return;a0.add(t.NAME);const n=c5(t),r=(n==null?void 0:n.isToggler)||!1;if(XB(t),n!=null&&n.advanced){n==null||n.advanced(t,n==null?void 0:n.selector);return}if(r){n==null||n.callback(t,n==null?void 0:n.selector);return}Ai.find(n==null?void 0:n.selector).forEach(i=>{let s=t.getInstance(i);s||(s=new t(i),n!=null&&n.onInit&&s[n.onInit]())})},f5=(t,e)=>{t.forEach(n=>h5(n,e))},d5={allowReinits:!1,checkOtherImports:!1},p5=(t,e={})=>{e={...d5,...e};const n=Object.keys(Al).map(r=>{if(document.querySelector(Al[r].selector)){const i=t[Al[r].name];return!i&&!a0.isInited(r)&&e.checkOtherImports&&console.warn(`Please import ${Al[r].name} from "tw-elements" package and add it to a object parameter inside "initTE" function`),i}});f5(n,e)};var ht={},wd={};wd.byteLength=y5;wd.toByteArray=_5;wd.fromByteArray=x5;var Gr=[],fr=[],g5=typeof Uint8Array<"u"?Uint8Array:Array,tg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Do=0,m5=tg.length;Do<m5;++Do)Gr[Do]=tg[Do],fr[tg.charCodeAt(Do)]=Do;fr["-".charCodeAt(0)]=62;fr["_".charCodeAt(0)]=63;function rb(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function y5(t){var e=rb(t),n=e[0],r=e[1];return(n+r)*3/4-r}function v5(t,e,n){return(e+n)*3/4-n}function _5(t){var e,n=rb(t),r=n[0],i=n[1],s=new g5(v5(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=fr[t.charCodeAt(l)]<<18|fr[t.charCodeAt(l+1)]<<12|fr[t.charCodeAt(l+2)]<<6|fr[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=fr[t.charCodeAt(l)]<<2|fr[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=fr[t.charCodeAt(l)]<<10|fr[t.charCodeAt(l+1)]<<4|fr[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function w5(t){return Gr[t>>18&63]+Gr[t>>12&63]+Gr[t>>6&63]+Gr[t&63]}function E5(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(w5(r));return i.join("")}function x5(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(E5(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Gr[e>>2]+Gr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Gr[e>>10]+Gr[e>>4&63]+Gr[e<<2&63]+"=")),i.join("")}var Lv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Lv.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,y=n?-1:1,x=t[e+d];for(d+=y,s=x&(1<<-c)-1,x>>=-c,c+=a;c>0;s=s*256+t[e+d],d+=y,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+d],d+=y,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(x?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(x?-1:1)*o*Math.pow(2,s-r)};Lv.write=function(t,e,n,r,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,d=c>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=r?0:s-1,R=r?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=y/l:e+=y*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(e*l-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+x]=a&255,x+=R,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+x]=o&255,x+=R,o/=256,u-=8);t[n+x-R]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=wd,n=Lv,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(T,p),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const p=new Uint8Array(T);return Object.setPrototypeOf(p,a.prototype),p}function a(T,p,g){if(typeof T=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(T)}return l(T,p,g)}a.poolSize=8192;function l(T,p,g){if(typeof T=="string")return y(T,p);if(ArrayBuffer.isView(T))return R(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(yn(T,ArrayBuffer)||T&&yn(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yn(T,SharedArrayBuffer)||T&&yn(T.buffer,SharedArrayBuffer)))return C(T,p,g);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=T.valueOf&&T.valueOf();if(D!=null&&D!==T)return a.from(D,p,g);const j=P(T);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,p,g){return l(T,p,g)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function c(T,p,g){return u(T),T<=0?o(T):p!==void 0?typeof g=="string"?o(T).fill(p,g):o(T).fill(p):o(T)}a.alloc=function(T,p,g){return c(T,p,g)};function d(T){return u(T),o(T<0?0:S(T)|0)}a.allocUnsafe=function(T){return d(T)},a.allocUnsafeSlow=function(T){return d(T)};function y(T,p){if((typeof p!="string"||p==="")&&(p="utf8"),!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const g=v(T,p)|0;let D=o(g);const j=D.write(T,p);return j!==g&&(D=D.slice(0,j)),D}function x(T){const p=T.length<0?0:S(T.length)|0,g=o(p);for(let D=0;D<p;D+=1)g[D]=T[D]&255;return g}function R(T){if(yn(T,Uint8Array)){const p=new Uint8Array(T);return C(p.buffer,p.byteOffset,p.byteLength)}return x(T)}function C(T,p,g){if(p<0||T.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');let D;return p===void 0&&g===void 0?D=new Uint8Array(T):g===void 0?D=new Uint8Array(T,p):D=new Uint8Array(T,p,g),Object.setPrototypeOf(D,a.prototype),D}function P(T){if(a.isBuffer(T)){const p=S(T.length)|0,g=o(p);return g.length===0||T.copy(g,0,0,p),g}if(T.length!==void 0)return typeof T.length!="number"||Qe(T.length)?o(0):x(T);if(T.type==="Buffer"&&Array.isArray(T.data))return x(T.data)}function S(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function E(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype},a.compare=function(p,g){if(yn(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),yn(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(p)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;let D=p.length,j=g.length;for(let z=0,W=Math.min(D,j);z<W;++z)if(p[z]!==g[z]){D=p[z],j=g[z];break}return D<j?-1:j<D?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);let D;if(g===void 0)for(g=0,D=0;D<p.length;++D)g+=p[D].length;const j=a.allocUnsafe(g);let z=0;for(D=0;D<p.length;++D){let W=p[D];if(yn(W,Uint8Array))z+W.length>j.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(j,z)):Uint8Array.prototype.set.call(j,W,z);else if(a.isBuffer(W))W.copy(j,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=W.length}return j};function v(T,p){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||yn(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const g=T.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&g===0)return 0;let j=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return We(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return et(T).length;default:if(j)return D?-1:We(T).length;p=(""+p).toLowerCase(),j=!0}}a.byteLength=v;function L(T,p,g){let D=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(T||(T="utf8");;)switch(T){case"hex":return w(this,p,g);case"utf8":case"utf-8":return h(this,p,g);case"ascii":return M(this,p,g);case"latin1":case"binary":return I(this,p,g);case"base64":return U(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,p,g);default:if(D)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function N(T,p,g){const D=T[p];T[p]=T[g],T[g]=D}a.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<p;g+=2)N(this,g,g+1);return this},a.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<p;g+=4)N(this,g,g+3),N(this,g+1,g+2);return this},a.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<p;g+=8)N(this,g,g+7),N(this,g+1,g+6),N(this,g+2,g+5),N(this,g+3,g+4);return this},a.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?h(this,0,p):L.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){let p="";const g=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(p,g,D,j,z){if(yn(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),D===void 0&&(D=p?p.length:0),j===void 0&&(j=0),z===void 0&&(z=this.length),g<0||D>p.length||j<0||z>this.length)throw new RangeError("out of range index");if(j>=z&&g>=D)return 0;if(j>=z)return-1;if(g>=D)return 1;if(g>>>=0,D>>>=0,j>>>=0,z>>>=0,this===p)return 0;let W=z-j,be=D-g;const Te=Math.min(W,be),xe=this.slice(j,z),nt=p.slice(g,D);for(let _e=0;_e<Te;++_e)if(xe[_e]!==nt[_e]){W=xe[_e],be=nt[_e];break}return W<be?-1:be<W?1:0};function B(T,p,g,D,j){if(T.length===0)return-1;if(typeof g=="string"?(D=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Qe(g)&&(g=j?0:T.length-1),g<0&&(g=T.length+g),g>=T.length){if(j)return-1;g=T.length-1}else if(g<0)if(j)g=0;else return-1;if(typeof p=="string"&&(p=a.from(p,D)),a.isBuffer(p))return p.length===0?-1:F(T,p,g,D,j);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(T,p,g):Uint8Array.prototype.lastIndexOf.call(T,p,g):F(T,[p],g,D,j);throw new TypeError("val must be string, number or Buffer")}function F(T,p,g,D,j){let z=1,W=T.length,be=p.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(T.length<2||p.length<2)return-1;z=2,W/=2,be/=2,g/=2}function Te(nt,_e){return z===1?nt[_e]:nt.readUInt16BE(_e*z)}let xe;if(j){let nt=-1;for(xe=g;xe<W;xe++)if(Te(T,xe)===Te(p,nt===-1?0:xe-nt)){if(nt===-1&&(nt=xe),xe-nt+1===be)return nt*z}else nt!==-1&&(xe-=xe-nt),nt=-1}else for(g+be>W&&(g=W-be),xe=g;xe>=0;xe--){let nt=!0;for(let _e=0;_e<be;_e++)if(Te(T,xe+_e)!==Te(p,_e)){nt=!1;break}if(nt)return xe}return-1}a.prototype.includes=function(p,g,D){return this.indexOf(p,g,D)!==-1},a.prototype.indexOf=function(p,g,D){return B(this,p,g,D,!0)},a.prototype.lastIndexOf=function(p,g,D){return B(this,p,g,D,!1)};function V(T,p,g,D){g=Number(g)||0;const j=T.length-g;D?(D=Number(D),D>j&&(D=j)):D=j;const z=p.length;D>z/2&&(D=z/2);let W;for(W=0;W<D;++W){const be=parseInt(p.substr(W*2,2),16);if(Qe(be))return W;T[g+W]=be}return W}function Y(T,p,g,D){return Ke(We(p,T.length-g),T,g,D)}function X(T,p,g,D){return Ke(at(p),T,g,D)}function re(T,p,g,D){return Ke(et(p),T,g,D)}function ye(T,p,g,D){return Ke(Po(p,T.length-g),T,g,D)}a.prototype.write=function(p,g,D,j){if(g===void 0)j="utf8",D=this.length,g=0;else if(D===void 0&&typeof g=="string")j=g,D=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(D)?(D=D>>>0,j===void 0&&(j="utf8")):(j=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-g;if((D===void 0||D>z)&&(D=z),p.length>0&&(D<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let W=!1;for(;;)switch(j){case"hex":return V(this,p,g,D);case"utf8":case"utf-8":return Y(this,p,g,D);case"ascii":case"latin1":case"binary":return X(this,p,g,D);case"base64":return re(this,p,g,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,p,g,D);default:if(W)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(T,p,g){return p===0&&g===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(p,g))}function h(T,p,g){g=Math.min(T.length,g);const D=[];let j=p;for(;j<g;){const z=T[j];let W=null,be=z>239?4:z>223?3:z>191?2:1;if(j+be<=g){let Te,xe,nt,_e;switch(be){case 1:z<128&&(W=z);break;case 2:Te=T[j+1],(Te&192)===128&&(_e=(z&31)<<6|Te&63,_e>127&&(W=_e));break;case 3:Te=T[j+1],xe=T[j+2],(Te&192)===128&&(xe&192)===128&&(_e=(z&15)<<12|(Te&63)<<6|xe&63,_e>2047&&(_e<55296||_e>57343)&&(W=_e));break;case 4:Te=T[j+1],xe=T[j+2],nt=T[j+3],(Te&192)===128&&(xe&192)===128&&(nt&192)===128&&(_e=(z&15)<<18|(Te&63)<<12|(xe&63)<<6|nt&63,_e>65535&&_e<1114112&&(W=_e))}}W===null?(W=65533,be=1):W>65535&&(W-=65536,D.push(W>>>10&1023|55296),W=56320|W&1023),D.push(W),j+=be}return A(D)}const m=4096;function A(T){const p=T.length;if(p<=m)return String.fromCharCode.apply(String,T);let g="",D=0;for(;D<p;)g+=String.fromCharCode.apply(String,T.slice(D,D+=m));return g}function M(T,p,g){let D="";g=Math.min(T.length,g);for(let j=p;j<g;++j)D+=String.fromCharCode(T[j]&127);return D}function I(T,p,g){let D="";g=Math.min(T.length,g);for(let j=p;j<g;++j)D+=String.fromCharCode(T[j]);return D}function w(T,p,g){const D=T.length;(!p||p<0)&&(p=0),(!g||g<0||g>D)&&(g=D);let j="";for(let z=p;z<g;++z)j+=Ye[T[z]];return j}function b(T,p,g){const D=T.slice(p,g);let j="";for(let z=0;z<D.length-1;z+=2)j+=String.fromCharCode(D[z]+D[z+1]*256);return j}a.prototype.slice=function(p,g){const D=this.length;p=~~p,g=g===void 0?D:~~g,p<0?(p+=D,p<0&&(p=0)):p>D&&(p=D),g<0?(g+=D,g<0&&(g=0)):g>D&&(g=D),g<p&&(g=p);const j=this.subarray(p,g);return Object.setPrototypeOf(j,a.prototype),j};function _(T,p,g){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+p>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(p,g,D){p=p>>>0,g=g>>>0,D||_(p,g,this.length);let j=this[p],z=1,W=0;for(;++W<g&&(z*=256);)j+=this[p+W]*z;return j},a.prototype.readUintBE=a.prototype.readUIntBE=function(p,g,D){p=p>>>0,g=g>>>0,D||_(p,g,this.length);let j=this[p+--g],z=1;for(;g>0&&(z*=256);)j+=this[p+--g]*z;return j},a.prototype.readUint8=a.prototype.readUInt8=function(p,g){return p=p>>>0,g||_(p,1,this.length),this[p]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||_(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||_(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||_(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||_(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readBigUInt64LE=Hn(function(p){p=p>>>0,Ve(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&Pe(p,this.length-8);const j=g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,z=this[++p]+this[++p]*2**8+this[++p]*2**16+D*2**24;return BigInt(j)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=Hn(function(p){p=p>>>0,Ve(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&Pe(p,this.length-8);const j=g*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],z=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+D;return(BigInt(j)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(p,g,D){p=p>>>0,g=g>>>0,D||_(p,g,this.length);let j=this[p],z=1,W=0;for(;++W<g&&(z*=256);)j+=this[p+W]*z;return z*=128,j>=z&&(j-=Math.pow(2,8*g)),j},a.prototype.readIntBE=function(p,g,D){p=p>>>0,g=g>>>0,D||_(p,g,this.length);let j=g,z=1,W=this[p+--j];for(;j>0&&(z*=256);)W+=this[p+--j]*z;return z*=128,W>=z&&(W-=Math.pow(2,8*g)),W},a.prototype.readInt8=function(p,g){return p=p>>>0,g||_(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,g){p=p>>>0,g||_(p,2,this.length);const D=this[p]|this[p+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(p,g){p=p>>>0,g||_(p,2,this.length);const D=this[p+1]|this[p]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(p,g){return p=p>>>0,g||_(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,g){return p=p>>>0,g||_(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readBigInt64LE=Hn(function(p){p=p>>>0,Ve(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&Pe(p,this.length-8);const j=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(D<<24);return(BigInt(j)<<BigInt(32))+BigInt(g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),a.prototype.readBigInt64BE=Hn(function(p){p=p>>>0,Ve(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&Pe(p,this.length-8);const j=(g<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(j)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+D)}),a.prototype.readFloatLE=function(p,g){return p=p>>>0,g||_(p,4,this.length),n.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,g){return p=p>>>0,g||_(p,4,this.length),n.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||_(p,8,this.length),n.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||_(p,8,this.length),n.read(this,p,!1,52,8)};function f(T,p,g,D,j,z){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>j||p<z)throw new RangeError('"value" argument is out of bounds');if(g+D>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(p,g,D,j){if(p=+p,g=g>>>0,D=D>>>0,!j){const be=Math.pow(2,8*D)-1;f(this,p,g,D,be,0)}let z=1,W=0;for(this[g]=p&255;++W<D&&(z*=256);)this[g+W]=p/z&255;return g+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(p,g,D,j){if(p=+p,g=g>>>0,D=D>>>0,!j){const be=Math.pow(2,8*D)-1;f(this,p,g,D,be,0)}let z=D-1,W=1;for(this[g+z]=p&255;--z>=0&&(W*=256);)this[g+z]=p/W&255;return g+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,1,255,0),this[g]=p&255,g+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function k(T,p,g,D,j){ke(p,D,j,T,g,7);let z=Number(p&BigInt(4294967295));T[g++]=z,z=z>>8,T[g++]=z,z=z>>8,T[g++]=z,z=z>>8,T[g++]=z;let W=Number(p>>BigInt(32)&BigInt(4294967295));return T[g++]=W,W=W>>8,T[g++]=W,W=W>>8,T[g++]=W,W=W>>8,T[g++]=W,g}function G(T,p,g,D,j){ke(p,D,j,T,g,7);let z=Number(p&BigInt(4294967295));T[g+7]=z,z=z>>8,T[g+6]=z,z=z>>8,T[g+5]=z,z=z>>8,T[g+4]=z;let W=Number(p>>BigInt(32)&BigInt(4294967295));return T[g+3]=W,W=W>>8,T[g+2]=W,W=W>>8,T[g+1]=W,W=W>>8,T[g]=W,g+8}a.prototype.writeBigUInt64LE=Hn(function(p,g=0){return k(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Hn(function(p,g=0){return G(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(p,g,D,j){if(p=+p,g=g>>>0,!j){const Te=Math.pow(2,8*D-1);f(this,p,g,D,Te-1,-Te)}let z=0,W=1,be=0;for(this[g]=p&255;++z<D&&(W*=256);)p<0&&be===0&&this[g+z-1]!==0&&(be=1),this[g+z]=(p/W>>0)-be&255;return g+D},a.prototype.writeIntBE=function(p,g,D,j){if(p=+p,g=g>>>0,!j){const Te=Math.pow(2,8*D-1);f(this,p,g,D,Te-1,-Te)}let z=D-1,W=1,be=0;for(this[g+z]=p&255;--z>=0&&(W*=256);)p<0&&be===0&&this[g+z+1]!==0&&(be=1),this[g+z]=(p/W>>0)-be&255;return g+D},a.prototype.writeInt8=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},a.prototype.writeInt16LE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeInt16BE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeInt32LE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},a.prototype.writeInt32BE=function(p,g,D){return p=+p,g=g>>>0,D||f(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},a.prototype.writeBigInt64LE=Hn(function(p,g=0){return k(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Hn(function(p,g=0){return G(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(T,p,g,D,j,z){if(g+D>T.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Q(T,p,g,D,j){return p=+p,g=g>>>0,j||K(T,p,g,4),n.write(T,p,g,D,23,4),g+4}a.prototype.writeFloatLE=function(p,g,D){return Q(this,p,g,!0,D)},a.prototype.writeFloatBE=function(p,g,D){return Q(this,p,g,!1,D)};function oe(T,p,g,D,j){return p=+p,g=g>>>0,j||K(T,p,g,8),n.write(T,p,g,D,52,8),g+8}a.prototype.writeDoubleLE=function(p,g,D){return oe(this,p,g,!0,D)},a.prototype.writeDoubleBE=function(p,g,D){return oe(this,p,g,!1,D)},a.prototype.copy=function(p,g,D,j){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(D||(D=0),!j&&j!==0&&(j=this.length),g>=p.length&&(g=p.length),g||(g=0),j>0&&j<D&&(j=D),j===D||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),p.length-g<j-D&&(j=p.length-g+D);const z=j-D;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,D,j):Uint8Array.prototype.set.call(p,this.subarray(D,j),g),z},a.prototype.fill=function(p,g,D,j){if(typeof p=="string"){if(typeof g=="string"?(j=g,g=0,D=this.length):typeof D=="string"&&(j=D,D=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(p.length===1){const W=p.charCodeAt(0);(j==="utf8"&&W<128||j==="latin1")&&(p=W)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<D)throw new RangeError("Out of range index");if(D<=g)return this;g=g>>>0,D=D===void 0?this.length:D>>>0,p||(p=0);let z;if(typeof p=="number")for(z=g;z<D;++z)this[z]=p;else{const W=a.isBuffer(p)?p:a.from(p,j),be=W.length;if(be===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(z=0;z<D-g;++z)this[z+g]=W[z%be]}return this};const he={};function fe(T,p,g){he[T]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(T,p){return`The "${T}" argument must be of type number. Received type ${typeof p}`},TypeError),fe("ERR_OUT_OF_RANGE",function(T,p,g){let D=`The value of "${T}" is out of range.`,j=g;return Number.isInteger(g)&&Math.abs(g)>2**32?j=Fe(String(g)):typeof g=="bigint"&&(j=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(j=Fe(j)),j+="n"),D+=` It must be ${p}. Received ${j}`,D},RangeError);function Fe(T){let p="",g=T.length;const D=T[0]==="-"?1:0;for(;g>=D+4;g-=3)p=`_${T.slice(g-3,g)}${p}`;return`${T.slice(0,g)}${p}`}function Re(T,p,g){Ve(p,"offset"),(T[p]===void 0||T[p+g]===void 0)&&Pe(p,T.length-(g+1))}function ke(T,p,g,D,j,z){if(T>g||T<p){const W=typeof p=="bigint"?"n":"";let be;throw z>3?p===0||p===BigInt(0)?be=`>= 0${W} and < 2${W} ** ${(z+1)*8}${W}`:be=`>= -(2${W} ** ${(z+1)*8-1}${W}) and < 2 ** ${(z+1)*8-1}${W}`:be=`>= ${p}${W} and <= ${g}${W}`,new he.ERR_OUT_OF_RANGE("value",be,T)}Re(D,j,z)}function Ve(T,p){if(typeof T!="number")throw new he.ERR_INVALID_ARG_TYPE(p,"number",T)}function Pe(T,p,g){throw Math.floor(T)!==T?(Ve(T,g),new he.ERR_OUT_OF_RANGE(g||"offset","an integer",T)):p<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${p}`,T)}const ze=/[^+/0-9A-Za-z-_]/g;function Vr(T){if(T=T.split("=")[0],T=T.trim().replace(ze,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function We(T,p){p=p||1/0;let g;const D=T.length;let j=null;const z=[];for(let W=0;W<D;++W){if(g=T.charCodeAt(W),g>55295&&g<57344){if(!j){if(g>56319){(p-=3)>-1&&z.push(239,191,189);continue}else if(W+1===D){(p-=3)>-1&&z.push(239,191,189);continue}j=g;continue}if(g<56320){(p-=3)>-1&&z.push(239,191,189),j=g;continue}g=(j-55296<<10|g-56320)+65536}else j&&(p-=3)>-1&&z.push(239,191,189);if(j=null,g<128){if((p-=1)<0)break;z.push(g)}else if(g<2048){if((p-=2)<0)break;z.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;z.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;z.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return z}function at(T){const p=[];for(let g=0;g<T.length;++g)p.push(T.charCodeAt(g)&255);return p}function Po(T,p){let g,D,j;const z=[];for(let W=0;W<T.length&&!((p-=2)<0);++W)g=T.charCodeAt(W),D=g>>8,j=g%256,z.push(j),z.push(D);return z}function et(T){return e.toByteArray(Vr(T))}function Ke(T,p,g,D){let j;for(j=0;j<D&&!(j+g>=p.length||j>=T.length);++j)p[j+g]=T[j];return j}function yn(T,p){return T instanceof p||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===p.name}function Qe(T){return T!==T}const Ye=function(){const T="0123456789abcdef",p=new Array(256);for(let g=0;g<16;++g){const D=g*16;for(let j=0;j<16;++j)p[D+j]=T[g]+T[j]}return p}();function Hn(T){return typeof BigInt>"u"?tt:T}function tt(){throw new Error("BigInt not supported")}})(ht);function uE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ib(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function I5(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");uE(t.outputLen),uE(t.blockLen)}function uf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function S5(t,e){ib(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ng=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sb=t=>t instanceof Uint8Array,rg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),jr=(t,e)=>t<<32-e|t>>>e,T5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!T5)throw new Error("Non little-endian hardware is not supported");function ob(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Uv(t){if(typeof t=="string"&&(t=ob(t)),!sb(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function ab(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!sb(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class lb{clone(){return this._cloneInto()}}function ub(t){const e=r=>t().update(Uv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function cb(t=32){if(ng&&typeof ng.getRandomValues=="function")return ng.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function A5(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,u=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+u,a,r)}class hb extends lb{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rg(this.buffer)}update(e){uf(this);const{view:n,buffer:r,blockLen:i}=this;e=Uv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=rg(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){uf(this),S5(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;A5(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=rg(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,c[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const Lc=BigInt(2**32-1),l0=BigInt(32);function fb(t,e=!1){return e?{h:Number(t&Lc),l:Number(t>>l0&Lc)}:{h:Number(t>>l0&Lc)|0,l:Number(t&Lc)|0}}function b5(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=fb(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const R5=(t,e)=>BigInt(t>>>0)<<l0|BigInt(e>>>0),C5=(t,e,n)=>t>>>n,k5=(t,e,n)=>t<<32-n|e>>>n,P5=(t,e,n)=>t>>>n|e<<32-n,N5=(t,e,n)=>t<<32-n|e>>>n,M5=(t,e,n)=>t<<64-n|e>>>n-32,D5=(t,e,n)=>t>>>n-32|e<<64-n,O5=(t,e)=>e,L5=(t,e)=>t,U5=(t,e,n)=>t<<n|e>>>32-n,B5=(t,e,n)=>e<<n|t>>>32-n,F5=(t,e,n)=>e<<n-32|t>>>64-n,V5=(t,e,n)=>t<<n-32|e>>>64-n;function $5(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const j5=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),z5=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,H5=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),q5=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,G5=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),W5=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,K5={fromBig:fb,split:b5,toBig:R5,shrSH:C5,shrSL:k5,rotrSH:P5,rotrSL:N5,rotrBH:M5,rotrBL:D5,rotr32H:O5,rotr32L:L5,rotlSH:U5,rotlSL:B5,rotlBH:F5,rotlBL:V5,add:$5,add3L:j5,add3H:z5,add4L:H5,add4H:q5,add5H:W5,add5L:G5},Ce=K5,[Q5,Y5]=(()=>Ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),ji=new Uint32Array(80),zi=new Uint32Array(80);class X5 extends hb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:d,Fl:y,Gh:x,Gl:R,Hh:C,Hl:P}=this;return[e,n,r,i,s,o,a,l,u,c,d,y,x,R,C,P]}set(e,n,r,i,s,o,a,l,u,c,d,y,x,R,C,P){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=d|0,this.Fl=y|0,this.Gh=x|0,this.Gl=R|0,this.Hh=C|0,this.Hl=P|0}process(e,n){for(let v=0;v<16;v++,n+=4)ji[v]=e.getUint32(n),zi[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const L=ji[v-15]|0,N=zi[v-15]|0,B=Ce.rotrSH(L,N,1)^Ce.rotrSH(L,N,8)^Ce.shrSH(L,N,7),F=Ce.rotrSL(L,N,1)^Ce.rotrSL(L,N,8)^Ce.shrSL(L,N,7),V=ji[v-2]|0,Y=zi[v-2]|0,X=Ce.rotrSH(V,Y,19)^Ce.rotrBH(V,Y,61)^Ce.shrSH(V,Y,6),re=Ce.rotrSL(V,Y,19)^Ce.rotrBL(V,Y,61)^Ce.shrSL(V,Y,6),ye=Ce.add4L(F,re,zi[v-7],zi[v-16]),U=Ce.add4H(ye,B,X,ji[v-7],ji[v-16]);ji[v]=U|0,zi[v]=ye|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:d,El:y,Fh:x,Fl:R,Gh:C,Gl:P,Hh:S,Hl:E}=this;for(let v=0;v<80;v++){const L=Ce.rotrSH(d,y,14)^Ce.rotrSH(d,y,18)^Ce.rotrBH(d,y,41),N=Ce.rotrSL(d,y,14)^Ce.rotrSL(d,y,18)^Ce.rotrBL(d,y,41),B=d&x^~d&C,F=y&R^~y&P,V=Ce.add5L(E,N,F,Y5[v],zi[v]),Y=Ce.add5H(V,S,L,B,Q5[v],ji[v]),X=V|0,re=Ce.rotrSH(r,i,28)^Ce.rotrBH(r,i,34)^Ce.rotrBH(r,i,39),ye=Ce.rotrSL(r,i,28)^Ce.rotrBL(r,i,34)^Ce.rotrBL(r,i,39),U=r&s^r&a^s&a,h=i&o^i&l^o&l;S=C|0,E=P|0,C=x|0,P=R|0,x=d|0,R=y|0,{h:d,l:y}=Ce.add(u|0,c|0,Y|0,X|0),u=a|0,c=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const m=Ce.add3L(X,ye,h);r=Ce.add3H(m,Y,re,U),i=m|0}({h:r,l:i}=Ce.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Ce.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Ce.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Ce.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:d,l:y}=Ce.add(this.Eh|0,this.El|0,d|0,y|0),{h:x,l:R}=Ce.add(this.Fh|0,this.Fl|0,x|0,R|0),{h:C,l:P}=Ce.add(this.Gh|0,this.Gl|0,C|0,P|0),{h:S,l:E}=Ce.add(this.Hh|0,this.Hl|0,S|0,E|0),this.set(r,i,s,o,a,l,u,c,d,y,x,R,C,P,S,E)}roundClean(){ji.fill(0),zi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const db=ub(()=>new X5);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pb=BigInt(0),Ed=BigInt(1),Z5=BigInt(2),xd=t=>t instanceof Uint8Array,J5=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mo(t){if(!xd(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=J5[t[n]];return e}function gb(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Bv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Pa(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function eo(t){return Bv(mo(t))}function fa(t){if(!xd(t))throw new Error("Uint8Array expected");return Bv(mo(Uint8Array.from(t).reverse()))}function Na(t,e){return Pa(t.toString(16).padStart(e*2,"0"))}function bu(t,e){return Na(t,e).reverse()}function eF(t){return Pa(gb(t))}function Kt(t,e,n){let r;if(typeof e=="string")try{r=Pa(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(xd(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function yo(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!xd(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function tF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function nF(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function rF(t){let e;for(e=0;t>pb;t>>=Ed,e+=1);return e}function iF(t,e){return t>>BigInt(e)&Ed}const sF=(t,e,n)=>t|(n?Ed:pb)<<BigInt(e),Fv=t=>(Z5<<BigInt(t-1))-Ed,ig=t=>new Uint8Array(t),cE=t=>Uint8Array.from(t);function mb(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ig(t),i=ig(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),l=(d=ig())=>{i=a(cE([0]),d),r=a(),d.length!==0&&(i=a(cE([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const x=r.slice();y.push(x),d+=r.length}return yo(...y)};return(d,y)=>{o(),l(d);let x;for(;!(x=y(u()));)l();return o(),x}}const oF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Xa(t,e,n={}){const r=(i,s,o)=>{const a=oF[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const aF=Object.freeze(Object.defineProperty({__proto__:null,bitGet:iF,bitLen:rF,bitMask:Fv,bitSet:sF,bytesToHex:mo,bytesToNumberBE:eo,bytesToNumberLE:fa,concatBytes:yo,createHmacDrbg:mb,ensureBytes:Kt,equalBytes:tF,hexToBytes:Pa,hexToNumber:Bv,numberToBytesBE:Na,numberToBytesLE:bu,numberToHexUnpadded:gb,numberToVarBytesBE:eF,utf8ToBytes:nF,validateObject:Xa},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tn=BigInt(0),pt=BigInt(1),Ls=BigInt(2),lF=BigInt(3),u0=BigInt(4),hE=BigInt(5),fE=BigInt(8);BigInt(9);BigInt(16);function lt(t,e){const n=t%e;return n>=tn?n:e+n}function uF(t,e,n){if(n<=tn||e<tn)throw new Error("Expected power/modulo > 0");if(n===pt)return tn;let r=pt;for(;e>tn;)e&pt&&(r=r*t%n),t=t*t%n,e>>=pt;return r}function _t(t,e,n){let r=t;for(;e-- >tn;)r*=r,r%=n;return r}function c0(t,e){if(t===tn||e<=tn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=lt(t,e),r=e,i=tn,s=pt;for(;n!==tn;){const a=r/n,l=r%n,u=i-s*a;r=n,n=l,i=s,s=u}if(r!==pt)throw new Error("invert: does not exist");return lt(i,e)}function cF(t){const e=(t-pt)/Ls;let n,r,i;for(n=t-pt,r=0;n%Ls===tn;n/=Ls,r++);for(i=Ls;i<t&&uF(i,e,t)!==t-pt;i++);if(r===1){const o=(t+pt)/u0;return function(l,u){const c=l.pow(u,o);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(n+pt)/Ls;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),d=a.pow(l,s),y=a.pow(l,n);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let x=1;for(let C=a.sqr(y);x<u&&!a.eql(C,a.ONE);x++)C=a.sqr(C);const R=a.pow(c,pt<<BigInt(u-x-1));c=a.sqr(R),d=a.mul(d,R),y=a.mul(y,c),u=x}return d}}function hF(t){if(t%u0===lF){const e=(t+pt)/u0;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%fE===hE){const e=(t-hE)/fE;return function(r,i){const s=r.mul(i,Ls),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Ls),o),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return cF(t)}const fF=(t,e)=>(lt(t,e)&pt)===pt,dF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pF(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=dF.reduce((r,i)=>(r[i]="function",r),e);return Xa(t,n)}function gF(t,e,n){if(n<tn)throw new Error("Expected power > 0");if(n===tn)return t.ONE;if(n===pt)return e;let r=t.ONE,i=e;for(;n>tn;)n&pt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=pt;return r}function mF(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function yb(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function vb(t,e,n=!1,r={}){if(t<=tn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=yb(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=hF(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Fv(i),ZERO:tn,ONE:pt,create:l=>lt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return tn<=l&&l<t},is0:l=>l===tn,isOdd:l=>(l&pt)===pt,neg:l=>lt(-l,t),eql:(l,u)=>l===u,sqr:l=>lt(l*l,t),add:(l,u)=>lt(l+u,t),sub:(l,u)=>lt(l-u,t),mul:(l,u)=>lt(l*u,t),pow:(l,u)=>gF(a,l,u),div:(l,u)=>lt(l*c0(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>c0(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>mF(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?bu(l,s):Na(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?fa(l):eo(l)}});return Object.freeze(a)}function yF(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function _b(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function wb(t){const e=_b(t);return e+Math.ceil(e/2)}function vF(t,e,n=!1){const r=t.length,i=_b(e),s=wb(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?eo(t):fa(t),a=lt(o,e-pt)+pt;return n?bu(a,i):Na(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _F=BigInt(0),sg=BigInt(1);function Eb(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>_F;)s&sg&&(o=o.add(a)),a=a.double(),s>>=sg;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let u=i,c=u;for(let d=0;d<o;d++){c=u,l.push(c);for(let y=1;y<a;y++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let u=t.ZERO,c=t.BASE;const d=BigInt(2**i-1),y=2**i,x=BigInt(i);for(let R=0;R<a;R++){const C=R*l;let P=Number(o&d);o>>=x,P>l&&(P-=y,o+=sg);const S=C,E=C+Math.abs(P)-1,v=R%2!==0,L=P<0;P===0?c=c.add(n(v,s[S])):u=u.add(n(L,s[E]))}return{p:u,f:c}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&s.set(i,a(u))),this.wNAF(l,u,o)}}}function Vv(t){return pF(t.Fp),Xa(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yb(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rr=BigInt(0),er=BigInt(1),Uc=BigInt(2),wF=BigInt(8),EF={zip215:!0};function xF(t){const e=Vv(t);return Xa(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function $v(t){const e=xF(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,u=Uc<<BigInt(a*8)-er,c=n.create,d=e.uvRatio||((I,w)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(w))}}catch{return{isValid:!1,value:Rr}}}),y=e.adjustScalarBytes||(I=>I),x=e.domain||((I,w,b)=>{if(w.length||b)throw new Error("Contexts/pre-hash are not supported");return I}),R=I=>typeof I=="bigint"&&Rr<I,C=(I,w)=>R(I)&&R(w)&&I<w,P=I=>I===Rr||C(I,u);function S(I,w){if(C(I,w))return I;throw new Error(`Expected valid scalar < ${w}, got ${typeof I} ${I}`)}function E(I){return I===Rr?I:S(I,r)}const v=new Map;function L(I){if(!(I instanceof N))throw new Error("ExtendedPoint expected")}class N{constructor(w,b,_,f){if(this.ex=w,this.ey=b,this.ez=_,this.et=f,!P(w))throw new Error("x required");if(!P(b))throw new Error("y required");if(!P(_))throw new Error("z required");if(!P(f))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof N)throw new Error("extended point not allowed");const{x:b,y:_}=w||{};if(!P(b)||!P(_))throw new Error("invalid affine point");return new N(b,_,er,c(b*_))}static normalizeZ(w){const b=n.invertBatch(w.map(_=>_.ez));return w.map((_,f)=>_.toAffine(b[f])).map(N.fromAffine)}_setWindowSize(w){this._WINDOW_SIZE=w,v.delete(this)}assertValidity(){const{a:w,d:b}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:_,ey:f,ez:k,et:G}=this,K=c(_*_),Q=c(f*f),oe=c(k*k),he=c(oe*oe),fe=c(K*w),Fe=c(oe*c(fe+Q)),Re=c(he+c(b*c(K*Q)));if(Fe!==Re)throw new Error("bad point: equation left != right (1)");const ke=c(_*f),Ve=c(k*G);if(ke!==Ve)throw new Error("bad point: equation left != right (2)")}equals(w){L(w);const{ex:b,ey:_,ez:f}=this,{ex:k,ey:G,ez:K}=w,Q=c(b*K),oe=c(k*f),he=c(_*K),fe=c(G*f);return Q===oe&&he===fe}is0(){return this.equals(N.ZERO)}negate(){return new N(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:w}=e,{ex:b,ey:_,ez:f}=this,k=c(b*b),G=c(_*_),K=c(Uc*c(f*f)),Q=c(w*k),oe=b+_,he=c(c(oe*oe)-k-G),fe=Q+G,Fe=fe-K,Re=Q-G,ke=c(he*Fe),Ve=c(fe*Re),Pe=c(he*Re),ze=c(Fe*fe);return new N(ke,Ve,ze,Pe)}add(w){L(w);const{a:b,d:_}=e,{ex:f,ey:k,ez:G,et:K}=this,{ex:Q,ey:oe,ez:he,et:fe}=w;if(b===BigInt(-1)){const yn=c((k-f)*(oe+Q)),Qe=c((k+f)*(oe-Q)),Ye=c(Qe-yn);if(Ye===Rr)return this.double();const Hn=c(G*Uc*fe),tt=c(K*Uc*he),T=tt+Hn,p=Qe+yn,g=tt-Hn,D=c(T*Ye),j=c(p*g),z=c(T*g),W=c(Ye*p);return new N(D,j,W,z)}const Fe=c(f*Q),Re=c(k*oe),ke=c(K*_*fe),Ve=c(G*he),Pe=c((f+k)*(Q+oe)-Fe-Re),ze=Ve-ke,Vr=Ve+ke,We=c(Re-b*Fe),at=c(Pe*ze),Po=c(Vr*We),et=c(Pe*We),Ke=c(ze*Vr);return new N(at,Po,Ke,et)}subtract(w){return this.add(w.negate())}wNAF(w){return V.wNAFCached(this,v,w,N.normalizeZ)}multiply(w){const{p:b,f:_}=this.wNAF(S(w,r));return N.normalizeZ([b,_])[0]}multiplyUnsafe(w){let b=E(w);return b===Rr?F:this.equals(F)||b===er?this:this.equals(B)?this.wNAF(b).p:V.unsafeLadder(this,b)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return V.unsafeLadder(this,r).is0()}toAffine(w){const{ex:b,ey:_,ez:f}=this,k=this.is0();w==null&&(w=k?wF:n.inv(f));const G=c(b*w),K=c(_*w),Q=c(f*w);if(k)return{x:Rr,y:er};if(Q!==er)throw new Error("invZ was invalid");return{x:G,y:K}}clearCofactor(){const{h:w}=e;return w===er?this:this.multiplyUnsafe(w)}static fromHex(w,b=!1){const{d:_,a:f}=e,k=n.BYTES;w=Kt("pointHex",w,k);const G=w.slice(),K=w[k-1];G[k-1]=K&-129;const Q=fa(G);Q===Rr||(b?S(Q,u):S(Q,n.ORDER));const oe=c(Q*Q),he=c(oe-er),fe=c(_*oe-f);let{isValid:Fe,value:Re}=d(he,fe);if(!Fe)throw new Error("Point.fromHex: invalid y coordinate");const ke=(Re&er)===er,Ve=(K&128)!==0;if(!b&&Re===Rr&&Ve)throw new Error("Point.fromHex: x=0 and x_0=1");return Ve!==ke&&(Re=c(-Re)),N.fromAffine({x:Re,y:Q})}static fromPrivateKey(w){return re(w).point}toRawBytes(){const{x:w,y:b}=this.toAffine(),_=bu(b,n.BYTES);return _[_.length-1]|=w&er?128:0,_}toHex(){return mo(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,er,c(e.Gx*e.Gy)),N.ZERO=new N(Rr,er,er,Rr);const{BASE:B,ZERO:F}=N,V=Eb(N,a*8);function Y(I){return lt(I,r)}function X(I){return Y(fa(I))}function re(I){const w=a;I=Kt("private key",I,w);const b=Kt("hashed private key",s(I),2*w),_=y(b.slice(0,w)),f=b.slice(w,2*w),k=X(_),G=B.multiply(k),K=G.toRawBytes();return{head:_,prefix:f,scalar:k,point:G,pointBytes:K}}function ye(I){return re(I).pointBytes}function U(I=new Uint8Array,...w){const b=yo(...w);return X(s(x(b,Kt("context",I),!!i)))}function h(I,w,b={}){I=Kt("message",I),i&&(I=i(I));const{prefix:_,scalar:f,pointBytes:k}=re(w),G=U(b.context,_,I),K=B.multiply(G).toRawBytes(),Q=U(b.context,K,k,I),oe=Y(G+Q*f);E(oe);const he=yo(K,bu(oe,n.BYTES));return Kt("result",he,a*2)}const m=EF;function A(I,w,b,_=m){const{context:f,zip215:k}=_,G=n.BYTES;I=Kt("signature",I,2*G),w=Kt("message",w),i&&(w=i(w));const K=fa(I.slice(G,2*G));let Q,oe,he;try{Q=N.fromHex(b,k),oe=N.fromHex(I.slice(0,G),k),he=B.multiplyUnsafe(K)}catch{return!1}if(!k&&Q.isSmallOrder())return!1;const fe=U(f,oe.toRawBytes(),Q.toRawBytes(),w);return oe.add(Q.multiplyUnsafe(fe)).subtract(he).clearCofactor().equals(N.ZERO)}return B._setWindowSize(8),{CURVE:e,getPublicKey:ye,sign:h,verify:A,ExtendedPoint:N,utils:{getExtendedPublicKey:re,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,w=N.BASE){return w._setWindowSize(I),w.multiply(BigInt(3)),w}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),dE=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const IF=BigInt(1),h0=BigInt(2),SF=BigInt(5),pE=BigInt(10),TF=BigInt(20),AF=BigInt(40),gE=BigInt(80);function bF(t){const e=jv,r=t*t%e*t%e,i=_t(r,h0,e)*r%e,s=_t(i,IF,e)*t%e,o=_t(s,SF,e)*s%e,a=_t(o,pE,e)*o%e,l=_t(a,TF,e)*a%e,u=_t(l,AF,e)*l%e,c=_t(u,gE,e)*u%e,d=_t(c,gE,e)*u%e,y=_t(d,pE,e)*o%e;return{pow_p_5_8:_t(y,h0,e)*t%e,b2:r}}function RF(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function CF(t,e){const n=jv,r=lt(e*e*e,n),i=lt(r*r*e,n),s=bF(t*i).pow_p_5_8;let o=lt(t*r*s,n);const a=lt(e*o*o,n),l=o,u=lt(o*dE,n),c=a===t,d=a===lt(-t,n),y=a===lt(-t*dE,n);return c&&(o=l),(d||y)&&(o=u),fF(o,n)&&(o=lt(-o,n)),{isValid:c||d,value:o}}const bi=vb(jv,void 0,!0),zv={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bi,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:db,randomBytes:cb,adjustScalarBytes:RF,uvRatio:CF},xb=$v(zv);function Ib(t,e,n){if(e.length>255)throw new Error("Context is too big");return ab(ob("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}({...zv});({...zv});const kF=(bi.ORDER+BigInt(3))/BigInt(8);bi.pow(h0,kF);bi.sqrt(bi.neg(bi.ONE));(bi.ORDER-BigInt(5))/BigInt(8);BigInt(486662);yF(bi,bi.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Hv={exports:{}};const PF={},NF=Object.freeze(Object.defineProperty({__proto__:null,default:PF},Symbol.toStringTag,{value:"Module"})),MF=_0(NF);Hv.exports;(function(t){(function(e,n){function r(U,h){if(!U)throw new Error(h||"Assertion failed")}function i(U,h){U.super_=h;var m=function(){};m.prototype=h.prototype,U.prototype=new m,U.prototype.constructor=U}function s(U,h,m){if(s.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((h==="le"||h==="be")&&(m=h,h=10),this._init(U||0,h||10,m||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=MF.Buffer}catch{}s.isBN=function(h){return h instanceof s?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,m){return h.cmp(m)>0?h:m},s.min=function(h,m){return h.cmp(m)<0?h:m},s.prototype._init=function(h,m,A){if(typeof h=="number")return this._initNumber(h,m,A);if(typeof h=="object")return this._initArray(h,m,A);m==="hex"&&(m=16),r(m===(m|0)&&m>=2&&m<=36),h=h.toString().replace(/\s+/g,"");var M=0;h[0]==="-"&&(M++,this.negative=1),M<h.length&&(m===16?this._parseHex(h,M,A):(this._parseBase(h,m,M),A==="le"&&this._initArray(this.toArray(),m,A)))},s.prototype._initNumber=function(h,m,A){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),m,A)},s.prototype._initArray=function(h,m,A){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var I,w,b=0;if(A==="be")for(M=h.length-1,I=0;M>=0;M-=3)w=h[M]|h[M-1]<<8|h[M-2]<<16,this.words[I]|=w<<b&67108863,this.words[I+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,I++);else if(A==="le")for(M=0,I=0;M<h.length;M+=3)w=h[M]|h[M+1]<<8|h[M+2]<<16,this.words[I]|=w<<b&67108863,this.words[I+1]=w>>>26-b&67108863,b+=24,b>=26&&(b-=26,I++);return this._strip()};function a(U,h){var m=U.charCodeAt(h);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;r(!1,"Invalid character in "+U)}function l(U,h,m){var A=a(U,m);return m-1>=h&&(A|=a(U,m-1)<<4),A}s.prototype._parseHex=function(h,m,A){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var I=0,w=0,b;if(A==="be")for(M=h.length-1;M>=m;M-=2)b=l(h,m,M)<<I,this.words[w]|=b&67108863,I>=18?(I-=18,w+=1,this.words[w]|=b>>>26):I+=8;else{var _=h.length-m;for(M=_%2===0?m+1:m;M<h.length;M+=2)b=l(h,m,M)<<I,this.words[w]|=b&67108863,I>=18?(I-=18,w+=1,this.words[w]|=b>>>26):I+=8}this._strip()};function u(U,h,m,A){for(var M=0,I=0,w=Math.min(U.length,m),b=h;b<w;b++){var _=U.charCodeAt(b)-48;M*=A,_>=49?I=_-49+10:_>=17?I=_-17+10:I=_,r(_>=0&&I<A,"Invalid character"),M+=I}return M}s.prototype._parseBase=function(h,m,A){this.words=[0],this.length=1;for(var M=0,I=1;I<=67108863;I*=m)M++;M--,I=I/m|0;for(var w=h.length-A,b=w%M,_=Math.min(w,w-b)+A,f=0,k=A;k<_;k+=M)f=u(h,k,k+M,m),this.imuln(I),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(b!==0){var G=1;for(f=u(h,k,h.length,m),k=0;k<b;k++)G*=m;this.imuln(G),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red};function c(U,h){U.words=h.words,U.length=h.length,U.negative=h.negative,U.red=h.red}if(s.prototype._move=function(h){c(h,this)},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(h,m){h=h||10,m=m|0||1;var A;if(h===16||h==="hex"){A="";for(var M=0,I=0,w=0;w<this.length;w++){var b=this.words[w],_=((b<<M|I)&16777215).toString(16);I=b>>>24-M&16777215,M+=2,M>=26&&(M-=26,w--),I!==0||w!==this.length-1?A=y[6-_.length]+_+A:A=_+A}for(I!==0&&(A=I.toString(16)+A);A.length%m!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(h===(h|0)&&h>=2&&h<=36){var f=x[h],k=R[h];A="";var G=this.clone();for(G.negative=0;!G.isZero();){var K=G.modrn(k).toString(h);G=G.idivn(k),G.isZero()?A=K+A:A=y[f-K.length]+K+A}for(this.isZero()&&(A="0"+A);A.length%m!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(h,m){return this.toArrayLike(o,h,m)}),s.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)};var C=function(h,m){return h.allocUnsafe?h.allocUnsafe(m):new h(m)};s.prototype.toArrayLike=function(h,m,A){this._strip();var M=this.byteLength(),I=A||Math.max(1,M);r(M<=I,"byte array longer than desired length"),r(I>0,"Requested array length <= 0");var w=C(h,I),b=m==="le"?"LE":"BE";return this["_toArrayLike"+b](w,M),w},s.prototype._toArrayLikeLE=function(h,m){for(var A=0,M=0,I=0,w=0;I<this.length;I++){var b=this.words[I]<<w|M;h[A++]=b&255,A<h.length&&(h[A++]=b>>8&255),A<h.length&&(h[A++]=b>>16&255),w===6?(A<h.length&&(h[A++]=b>>24&255),M=0,w=0):(M=b>>>24,w+=2)}if(A<h.length)for(h[A++]=M;A<h.length;)h[A++]=0},s.prototype._toArrayLikeBE=function(h,m){for(var A=h.length-1,M=0,I=0,w=0;I<this.length;I++){var b=this.words[I]<<w|M;h[A--]=b&255,A>=0&&(h[A--]=b>>8&255),A>=0&&(h[A--]=b>>16&255),w===6?(A>=0&&(h[A--]=b>>24&255),M=0,w=0):(M=b>>>24,w+=2)}if(A>=0)for(h[A--]=M;A>=0;)h[A--]=0},Math.clz32?s.prototype._countBits=function(h){return 32-Math.clz32(h)}:s.prototype._countBits=function(h){var m=h,A=0;return m>=4096&&(A+=13,m>>>=13),m>=64&&(A+=7,m>>>=7),m>=8&&(A+=4,m>>>=4),m>=2&&(A+=2,m>>>=2),A+m},s.prototype._zeroBits=function(h){if(h===0)return 26;var m=h,A=0;return m&8191||(A+=13,m>>>=13),m&127||(A+=7,m>>>=7),m&15||(A+=4,m>>>=4),m&3||(A+=2,m>>>=2),m&1||A++,A},s.prototype.bitLength=function(){var h=this.words[this.length-1],m=this._countBits(h);return(this.length-1)*26+m};function P(U){for(var h=new Array(U.bitLength()),m=0;m<h.length;m++){var A=m/26|0,M=m%26;h[m]=U.words[A]>>>M&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var A=this._zeroBits(this.words[m]);if(h+=A,A!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this._strip()},s.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var m;this.length>h.length?m=h:m=this;for(var A=0;A<m.length;A++)this.words[A]=this.words[A]&h.words[A];return this.length=m.length,this._strip()},s.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var m,A;this.length>h.length?(m=this,A=h):(m=h,A=this);for(var M=0;M<A.length;M++)this.words[M]=m.words[M]^A.words[M];if(this!==m)for(;M<m.length;M++)this.words[M]=m.words[M];return this.length=m.length,this._strip()},s.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var m=Math.ceil(h/26)|0,A=h%26;this._expand(m),A>0&&m--;for(var M=0;M<m;M++)this.words[M]=~this.words[M]&67108863;return A>0&&(this.words[M]=~this.words[M]&67108863>>26-A),this._strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,m){r(typeof h=="number"&&h>=0);var A=h/26|0,M=h%26;return this._expand(A+1),m?this.words[A]=this.words[A]|1<<M:this.words[A]=this.words[A]&~(1<<M),this._strip()},s.prototype.iadd=function(h){var m;if(this.negative!==0&&h.negative===0)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();var A,M;this.length>h.length?(A=this,M=h):(A=h,M=this);for(var I=0,w=0;w<M.length;w++)m=(A.words[w]|0)+(M.words[w]|0)+I,this.words[w]=m&67108863,I=m>>>26;for(;I!==0&&w<A.length;w++)m=(A.words[w]|0)+I,this.words[w]=m&67108863,I=m>>>26;if(this.length=A.length,I!==0)this.words[this.length]=I,this.length++;else if(A!==this)for(;w<A.length;w++)this.words[w]=A.words[w];return this},s.prototype.add=function(h){var m;return h.negative!==0&&this.negative===0?(h.negative=0,m=this.sub(h),h.negative^=1,m):h.negative===0&&this.negative!==0?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var A=this.cmp(h);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,I;A>0?(M=this,I=h):(M=h,I=this);for(var w=0,b=0;b<I.length;b++)m=(M.words[b]|0)-(I.words[b]|0)+w,w=m>>26,this.words[b]=m&67108863;for(;w!==0&&b<M.length;b++)m=(M.words[b]|0)+w,w=m>>26,this.words[b]=m&67108863;if(w===0&&b<M.length&&M!==this)for(;b<M.length;b++)this.words[b]=M.words[b];return this.length=Math.max(this.length,b),M!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(h){return this.clone().isub(h)};function S(U,h,m){m.negative=h.negative^U.negative;var A=U.length+h.length|0;m.length=A,A=A-1|0;var M=U.words[0]|0,I=h.words[0]|0,w=M*I,b=w&67108863,_=w/67108864|0;m.words[0]=b;for(var f=1;f<A;f++){for(var k=_>>>26,G=_&67108863,K=Math.min(f,h.length-1),Q=Math.max(0,f-U.length+1);Q<=K;Q++){var oe=f-Q|0;M=U.words[oe]|0,I=h.words[Q]|0,w=M*I+G,k+=w/67108864|0,G=w&67108863}m.words[f]=G|0,_=k|0}return _!==0?m.words[f]=_|0:m.length--,m._strip()}var E=function(h,m,A){var M=h.words,I=m.words,w=A.words,b=0,_,f,k,G=M[0]|0,K=G&8191,Q=G>>>13,oe=M[1]|0,he=oe&8191,fe=oe>>>13,Fe=M[2]|0,Re=Fe&8191,ke=Fe>>>13,Ve=M[3]|0,Pe=Ve&8191,ze=Ve>>>13,Vr=M[4]|0,We=Vr&8191,at=Vr>>>13,Po=M[5]|0,et=Po&8191,Ke=Po>>>13,yn=M[6]|0,Qe=yn&8191,Ye=yn>>>13,Hn=M[7]|0,tt=Hn&8191,T=Hn>>>13,p=M[8]|0,g=p&8191,D=p>>>13,j=M[9]|0,z=j&8191,W=j>>>13,be=I[0]|0,Te=be&8191,xe=be>>>13,nt=I[1]|0,_e=nt&8191,At=nt>>>13,l1=I[2]|0,bt=l1&8191,Rt=l1>>>13,u1=I[3]|0,Ct=u1&8191,kt=u1>>>13,c1=I[4]|0,Pt=c1&8191,Nt=c1>>>13,h1=I[5]|0,Mt=h1&8191,Dt=h1>>>13,f1=I[6]|0,Ot=f1&8191,Lt=f1>>>13,d1=I[7]|0,Ut=d1&8191,Bt=d1>>>13,p1=I[8]|0,Ft=p1&8191,Vt=p1>>>13,g1=I[9]|0,$t=g1&8191,jt=g1>>>13;A.negative=h.negative^m.negative,A.length=19,_=Math.imul(K,Te),f=Math.imul(K,xe),f=f+Math.imul(Q,Te)|0,k=Math.imul(Q,xe);var Pd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Pd>>>26)|0,Pd&=67108863,_=Math.imul(he,Te),f=Math.imul(he,xe),f=f+Math.imul(fe,Te)|0,k=Math.imul(fe,xe),_=_+Math.imul(K,_e)|0,f=f+Math.imul(K,At)|0,f=f+Math.imul(Q,_e)|0,k=k+Math.imul(Q,At)|0;var Nd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Nd>>>26)|0,Nd&=67108863,_=Math.imul(Re,Te),f=Math.imul(Re,xe),f=f+Math.imul(ke,Te)|0,k=Math.imul(ke,xe),_=_+Math.imul(he,_e)|0,f=f+Math.imul(he,At)|0,f=f+Math.imul(fe,_e)|0,k=k+Math.imul(fe,At)|0,_=_+Math.imul(K,bt)|0,f=f+Math.imul(K,Rt)|0,f=f+Math.imul(Q,bt)|0,k=k+Math.imul(Q,Rt)|0;var Md=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Md>>>26)|0,Md&=67108863,_=Math.imul(Pe,Te),f=Math.imul(Pe,xe),f=f+Math.imul(ze,Te)|0,k=Math.imul(ze,xe),_=_+Math.imul(Re,_e)|0,f=f+Math.imul(Re,At)|0,f=f+Math.imul(ke,_e)|0,k=k+Math.imul(ke,At)|0,_=_+Math.imul(he,bt)|0,f=f+Math.imul(he,Rt)|0,f=f+Math.imul(fe,bt)|0,k=k+Math.imul(fe,Rt)|0,_=_+Math.imul(K,Ct)|0,f=f+Math.imul(K,kt)|0,f=f+Math.imul(Q,Ct)|0,k=k+Math.imul(Q,kt)|0;var Dd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Dd>>>26)|0,Dd&=67108863,_=Math.imul(We,Te),f=Math.imul(We,xe),f=f+Math.imul(at,Te)|0,k=Math.imul(at,xe),_=_+Math.imul(Pe,_e)|0,f=f+Math.imul(Pe,At)|0,f=f+Math.imul(ze,_e)|0,k=k+Math.imul(ze,At)|0,_=_+Math.imul(Re,bt)|0,f=f+Math.imul(Re,Rt)|0,f=f+Math.imul(ke,bt)|0,k=k+Math.imul(ke,Rt)|0,_=_+Math.imul(he,Ct)|0,f=f+Math.imul(he,kt)|0,f=f+Math.imul(fe,Ct)|0,k=k+Math.imul(fe,kt)|0,_=_+Math.imul(K,Pt)|0,f=f+Math.imul(K,Nt)|0,f=f+Math.imul(Q,Pt)|0,k=k+Math.imul(Q,Nt)|0;var Od=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Od>>>26)|0,Od&=67108863,_=Math.imul(et,Te),f=Math.imul(et,xe),f=f+Math.imul(Ke,Te)|0,k=Math.imul(Ke,xe),_=_+Math.imul(We,_e)|0,f=f+Math.imul(We,At)|0,f=f+Math.imul(at,_e)|0,k=k+Math.imul(at,At)|0,_=_+Math.imul(Pe,bt)|0,f=f+Math.imul(Pe,Rt)|0,f=f+Math.imul(ze,bt)|0,k=k+Math.imul(ze,Rt)|0,_=_+Math.imul(Re,Ct)|0,f=f+Math.imul(Re,kt)|0,f=f+Math.imul(ke,Ct)|0,k=k+Math.imul(ke,kt)|0,_=_+Math.imul(he,Pt)|0,f=f+Math.imul(he,Nt)|0,f=f+Math.imul(fe,Pt)|0,k=k+Math.imul(fe,Nt)|0,_=_+Math.imul(K,Mt)|0,f=f+Math.imul(K,Dt)|0,f=f+Math.imul(Q,Mt)|0,k=k+Math.imul(Q,Dt)|0;var Ld=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Ld>>>26)|0,Ld&=67108863,_=Math.imul(Qe,Te),f=Math.imul(Qe,xe),f=f+Math.imul(Ye,Te)|0,k=Math.imul(Ye,xe),_=_+Math.imul(et,_e)|0,f=f+Math.imul(et,At)|0,f=f+Math.imul(Ke,_e)|0,k=k+Math.imul(Ke,At)|0,_=_+Math.imul(We,bt)|0,f=f+Math.imul(We,Rt)|0,f=f+Math.imul(at,bt)|0,k=k+Math.imul(at,Rt)|0,_=_+Math.imul(Pe,Ct)|0,f=f+Math.imul(Pe,kt)|0,f=f+Math.imul(ze,Ct)|0,k=k+Math.imul(ze,kt)|0,_=_+Math.imul(Re,Pt)|0,f=f+Math.imul(Re,Nt)|0,f=f+Math.imul(ke,Pt)|0,k=k+Math.imul(ke,Nt)|0,_=_+Math.imul(he,Mt)|0,f=f+Math.imul(he,Dt)|0,f=f+Math.imul(fe,Mt)|0,k=k+Math.imul(fe,Dt)|0,_=_+Math.imul(K,Ot)|0,f=f+Math.imul(K,Lt)|0,f=f+Math.imul(Q,Ot)|0,k=k+Math.imul(Q,Lt)|0;var Ud=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Ud>>>26)|0,Ud&=67108863,_=Math.imul(tt,Te),f=Math.imul(tt,xe),f=f+Math.imul(T,Te)|0,k=Math.imul(T,xe),_=_+Math.imul(Qe,_e)|0,f=f+Math.imul(Qe,At)|0,f=f+Math.imul(Ye,_e)|0,k=k+Math.imul(Ye,At)|0,_=_+Math.imul(et,bt)|0,f=f+Math.imul(et,Rt)|0,f=f+Math.imul(Ke,bt)|0,k=k+Math.imul(Ke,Rt)|0,_=_+Math.imul(We,Ct)|0,f=f+Math.imul(We,kt)|0,f=f+Math.imul(at,Ct)|0,k=k+Math.imul(at,kt)|0,_=_+Math.imul(Pe,Pt)|0,f=f+Math.imul(Pe,Nt)|0,f=f+Math.imul(ze,Pt)|0,k=k+Math.imul(ze,Nt)|0,_=_+Math.imul(Re,Mt)|0,f=f+Math.imul(Re,Dt)|0,f=f+Math.imul(ke,Mt)|0,k=k+Math.imul(ke,Dt)|0,_=_+Math.imul(he,Ot)|0,f=f+Math.imul(he,Lt)|0,f=f+Math.imul(fe,Ot)|0,k=k+Math.imul(fe,Lt)|0,_=_+Math.imul(K,Ut)|0,f=f+Math.imul(K,Bt)|0,f=f+Math.imul(Q,Ut)|0,k=k+Math.imul(Q,Bt)|0;var Bd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Bd>>>26)|0,Bd&=67108863,_=Math.imul(g,Te),f=Math.imul(g,xe),f=f+Math.imul(D,Te)|0,k=Math.imul(D,xe),_=_+Math.imul(tt,_e)|0,f=f+Math.imul(tt,At)|0,f=f+Math.imul(T,_e)|0,k=k+Math.imul(T,At)|0,_=_+Math.imul(Qe,bt)|0,f=f+Math.imul(Qe,Rt)|0,f=f+Math.imul(Ye,bt)|0,k=k+Math.imul(Ye,Rt)|0,_=_+Math.imul(et,Ct)|0,f=f+Math.imul(et,kt)|0,f=f+Math.imul(Ke,Ct)|0,k=k+Math.imul(Ke,kt)|0,_=_+Math.imul(We,Pt)|0,f=f+Math.imul(We,Nt)|0,f=f+Math.imul(at,Pt)|0,k=k+Math.imul(at,Nt)|0,_=_+Math.imul(Pe,Mt)|0,f=f+Math.imul(Pe,Dt)|0,f=f+Math.imul(ze,Mt)|0,k=k+Math.imul(ze,Dt)|0,_=_+Math.imul(Re,Ot)|0,f=f+Math.imul(Re,Lt)|0,f=f+Math.imul(ke,Ot)|0,k=k+Math.imul(ke,Lt)|0,_=_+Math.imul(he,Ut)|0,f=f+Math.imul(he,Bt)|0,f=f+Math.imul(fe,Ut)|0,k=k+Math.imul(fe,Bt)|0,_=_+Math.imul(K,Ft)|0,f=f+Math.imul(K,Vt)|0,f=f+Math.imul(Q,Ft)|0,k=k+Math.imul(Q,Vt)|0;var Fd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Fd>>>26)|0,Fd&=67108863,_=Math.imul(z,Te),f=Math.imul(z,xe),f=f+Math.imul(W,Te)|0,k=Math.imul(W,xe),_=_+Math.imul(g,_e)|0,f=f+Math.imul(g,At)|0,f=f+Math.imul(D,_e)|0,k=k+Math.imul(D,At)|0,_=_+Math.imul(tt,bt)|0,f=f+Math.imul(tt,Rt)|0,f=f+Math.imul(T,bt)|0,k=k+Math.imul(T,Rt)|0,_=_+Math.imul(Qe,Ct)|0,f=f+Math.imul(Qe,kt)|0,f=f+Math.imul(Ye,Ct)|0,k=k+Math.imul(Ye,kt)|0,_=_+Math.imul(et,Pt)|0,f=f+Math.imul(et,Nt)|0,f=f+Math.imul(Ke,Pt)|0,k=k+Math.imul(Ke,Nt)|0,_=_+Math.imul(We,Mt)|0,f=f+Math.imul(We,Dt)|0,f=f+Math.imul(at,Mt)|0,k=k+Math.imul(at,Dt)|0,_=_+Math.imul(Pe,Ot)|0,f=f+Math.imul(Pe,Lt)|0,f=f+Math.imul(ze,Ot)|0,k=k+Math.imul(ze,Lt)|0,_=_+Math.imul(Re,Ut)|0,f=f+Math.imul(Re,Bt)|0,f=f+Math.imul(ke,Ut)|0,k=k+Math.imul(ke,Bt)|0,_=_+Math.imul(he,Ft)|0,f=f+Math.imul(he,Vt)|0,f=f+Math.imul(fe,Ft)|0,k=k+Math.imul(fe,Vt)|0,_=_+Math.imul(K,$t)|0,f=f+Math.imul(K,jt)|0,f=f+Math.imul(Q,$t)|0,k=k+Math.imul(Q,jt)|0;var Vd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Vd>>>26)|0,Vd&=67108863,_=Math.imul(z,_e),f=Math.imul(z,At),f=f+Math.imul(W,_e)|0,k=Math.imul(W,At),_=_+Math.imul(g,bt)|0,f=f+Math.imul(g,Rt)|0,f=f+Math.imul(D,bt)|0,k=k+Math.imul(D,Rt)|0,_=_+Math.imul(tt,Ct)|0,f=f+Math.imul(tt,kt)|0,f=f+Math.imul(T,Ct)|0,k=k+Math.imul(T,kt)|0,_=_+Math.imul(Qe,Pt)|0,f=f+Math.imul(Qe,Nt)|0,f=f+Math.imul(Ye,Pt)|0,k=k+Math.imul(Ye,Nt)|0,_=_+Math.imul(et,Mt)|0,f=f+Math.imul(et,Dt)|0,f=f+Math.imul(Ke,Mt)|0,k=k+Math.imul(Ke,Dt)|0,_=_+Math.imul(We,Ot)|0,f=f+Math.imul(We,Lt)|0,f=f+Math.imul(at,Ot)|0,k=k+Math.imul(at,Lt)|0,_=_+Math.imul(Pe,Ut)|0,f=f+Math.imul(Pe,Bt)|0,f=f+Math.imul(ze,Ut)|0,k=k+Math.imul(ze,Bt)|0,_=_+Math.imul(Re,Ft)|0,f=f+Math.imul(Re,Vt)|0,f=f+Math.imul(ke,Ft)|0,k=k+Math.imul(ke,Vt)|0,_=_+Math.imul(he,$t)|0,f=f+Math.imul(he,jt)|0,f=f+Math.imul(fe,$t)|0,k=k+Math.imul(fe,jt)|0;var $d=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+($d>>>26)|0,$d&=67108863,_=Math.imul(z,bt),f=Math.imul(z,Rt),f=f+Math.imul(W,bt)|0,k=Math.imul(W,Rt),_=_+Math.imul(g,Ct)|0,f=f+Math.imul(g,kt)|0,f=f+Math.imul(D,Ct)|0,k=k+Math.imul(D,kt)|0,_=_+Math.imul(tt,Pt)|0,f=f+Math.imul(tt,Nt)|0,f=f+Math.imul(T,Pt)|0,k=k+Math.imul(T,Nt)|0,_=_+Math.imul(Qe,Mt)|0,f=f+Math.imul(Qe,Dt)|0,f=f+Math.imul(Ye,Mt)|0,k=k+Math.imul(Ye,Dt)|0,_=_+Math.imul(et,Ot)|0,f=f+Math.imul(et,Lt)|0,f=f+Math.imul(Ke,Ot)|0,k=k+Math.imul(Ke,Lt)|0,_=_+Math.imul(We,Ut)|0,f=f+Math.imul(We,Bt)|0,f=f+Math.imul(at,Ut)|0,k=k+Math.imul(at,Bt)|0,_=_+Math.imul(Pe,Ft)|0,f=f+Math.imul(Pe,Vt)|0,f=f+Math.imul(ze,Ft)|0,k=k+Math.imul(ze,Vt)|0,_=_+Math.imul(Re,$t)|0,f=f+Math.imul(Re,jt)|0,f=f+Math.imul(ke,$t)|0,k=k+Math.imul(ke,jt)|0;var jd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(jd>>>26)|0,jd&=67108863,_=Math.imul(z,Ct),f=Math.imul(z,kt),f=f+Math.imul(W,Ct)|0,k=Math.imul(W,kt),_=_+Math.imul(g,Pt)|0,f=f+Math.imul(g,Nt)|0,f=f+Math.imul(D,Pt)|0,k=k+Math.imul(D,Nt)|0,_=_+Math.imul(tt,Mt)|0,f=f+Math.imul(tt,Dt)|0,f=f+Math.imul(T,Mt)|0,k=k+Math.imul(T,Dt)|0,_=_+Math.imul(Qe,Ot)|0,f=f+Math.imul(Qe,Lt)|0,f=f+Math.imul(Ye,Ot)|0,k=k+Math.imul(Ye,Lt)|0,_=_+Math.imul(et,Ut)|0,f=f+Math.imul(et,Bt)|0,f=f+Math.imul(Ke,Ut)|0,k=k+Math.imul(Ke,Bt)|0,_=_+Math.imul(We,Ft)|0,f=f+Math.imul(We,Vt)|0,f=f+Math.imul(at,Ft)|0,k=k+Math.imul(at,Vt)|0,_=_+Math.imul(Pe,$t)|0,f=f+Math.imul(Pe,jt)|0,f=f+Math.imul(ze,$t)|0,k=k+Math.imul(ze,jt)|0;var zd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(zd>>>26)|0,zd&=67108863,_=Math.imul(z,Pt),f=Math.imul(z,Nt),f=f+Math.imul(W,Pt)|0,k=Math.imul(W,Nt),_=_+Math.imul(g,Mt)|0,f=f+Math.imul(g,Dt)|0,f=f+Math.imul(D,Mt)|0,k=k+Math.imul(D,Dt)|0,_=_+Math.imul(tt,Ot)|0,f=f+Math.imul(tt,Lt)|0,f=f+Math.imul(T,Ot)|0,k=k+Math.imul(T,Lt)|0,_=_+Math.imul(Qe,Ut)|0,f=f+Math.imul(Qe,Bt)|0,f=f+Math.imul(Ye,Ut)|0,k=k+Math.imul(Ye,Bt)|0,_=_+Math.imul(et,Ft)|0,f=f+Math.imul(et,Vt)|0,f=f+Math.imul(Ke,Ft)|0,k=k+Math.imul(Ke,Vt)|0,_=_+Math.imul(We,$t)|0,f=f+Math.imul(We,jt)|0,f=f+Math.imul(at,$t)|0,k=k+Math.imul(at,jt)|0;var Hd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Hd>>>26)|0,Hd&=67108863,_=Math.imul(z,Mt),f=Math.imul(z,Dt),f=f+Math.imul(W,Mt)|0,k=Math.imul(W,Dt),_=_+Math.imul(g,Ot)|0,f=f+Math.imul(g,Lt)|0,f=f+Math.imul(D,Ot)|0,k=k+Math.imul(D,Lt)|0,_=_+Math.imul(tt,Ut)|0,f=f+Math.imul(tt,Bt)|0,f=f+Math.imul(T,Ut)|0,k=k+Math.imul(T,Bt)|0,_=_+Math.imul(Qe,Ft)|0,f=f+Math.imul(Qe,Vt)|0,f=f+Math.imul(Ye,Ft)|0,k=k+Math.imul(Ye,Vt)|0,_=_+Math.imul(et,$t)|0,f=f+Math.imul(et,jt)|0,f=f+Math.imul(Ke,$t)|0,k=k+Math.imul(Ke,jt)|0;var qd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(qd>>>26)|0,qd&=67108863,_=Math.imul(z,Ot),f=Math.imul(z,Lt),f=f+Math.imul(W,Ot)|0,k=Math.imul(W,Lt),_=_+Math.imul(g,Ut)|0,f=f+Math.imul(g,Bt)|0,f=f+Math.imul(D,Ut)|0,k=k+Math.imul(D,Bt)|0,_=_+Math.imul(tt,Ft)|0,f=f+Math.imul(tt,Vt)|0,f=f+Math.imul(T,Ft)|0,k=k+Math.imul(T,Vt)|0,_=_+Math.imul(Qe,$t)|0,f=f+Math.imul(Qe,jt)|0,f=f+Math.imul(Ye,$t)|0,k=k+Math.imul(Ye,jt)|0;var Gd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Gd>>>26)|0,Gd&=67108863,_=Math.imul(z,Ut),f=Math.imul(z,Bt),f=f+Math.imul(W,Ut)|0,k=Math.imul(W,Bt),_=_+Math.imul(g,Ft)|0,f=f+Math.imul(g,Vt)|0,f=f+Math.imul(D,Ft)|0,k=k+Math.imul(D,Vt)|0,_=_+Math.imul(tt,$t)|0,f=f+Math.imul(tt,jt)|0,f=f+Math.imul(T,$t)|0,k=k+Math.imul(T,jt)|0;var Wd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Wd>>>26)|0,Wd&=67108863,_=Math.imul(z,Ft),f=Math.imul(z,Vt),f=f+Math.imul(W,Ft)|0,k=Math.imul(W,Vt),_=_+Math.imul(g,$t)|0,f=f+Math.imul(g,jt)|0,f=f+Math.imul(D,$t)|0,k=k+Math.imul(D,jt)|0;var Kd=(b+_|0)+((f&8191)<<13)|0;b=(k+(f>>>13)|0)+(Kd>>>26)|0,Kd&=67108863,_=Math.imul(z,$t),f=Math.imul(z,jt),f=f+Math.imul(W,$t)|0,k=Math.imul(W,jt);var Qd=(b+_|0)+((f&8191)<<13)|0;return b=(k+(f>>>13)|0)+(Qd>>>26)|0,Qd&=67108863,w[0]=Pd,w[1]=Nd,w[2]=Md,w[3]=Dd,w[4]=Od,w[5]=Ld,w[6]=Ud,w[7]=Bd,w[8]=Fd,w[9]=Vd,w[10]=$d,w[11]=jd,w[12]=zd,w[13]=Hd,w[14]=qd,w[15]=Gd,w[16]=Wd,w[17]=Kd,w[18]=Qd,b!==0&&(w[19]=b,A.length++),A};Math.imul||(E=S);function v(U,h,m){m.negative=h.negative^U.negative,m.length=U.length+h.length;for(var A=0,M=0,I=0;I<m.length-1;I++){var w=M;M=0;for(var b=A&67108863,_=Math.min(I,h.length-1),f=Math.max(0,I-U.length+1);f<=_;f++){var k=I-f,G=U.words[k]|0,K=h.words[f]|0,Q=G*K,oe=Q&67108863;w=w+(Q/67108864|0)|0,oe=oe+b|0,b=oe&67108863,w=w+(oe>>>26)|0,M+=w>>>26,w&=67108863}m.words[I]=b,A=w,w=M}return A!==0?m.words[I]=A:m.length--,m._strip()}function L(U,h,m){return v(U,h,m)}s.prototype.mulTo=function(h,m){var A,M=this.length+h.length;return this.length===10&&h.length===10?A=E(this,h,m):M<63?A=S(this,h,m):M<1024?A=v(this,h,m):A=L(this,h,m),A},s.prototype.mul=function(h){var m=new s(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},s.prototype.mulf=function(h){var m=new s(null);return m.words=new Array(this.length+h.length),L(this,h,m)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){var m=h<0;m&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var A=0,M=0;M<this.length;M++){var I=(this.words[M]|0)*h,w=(I&67108863)+(A&67108863);A>>=26,A+=I/67108864|0,A+=w>>>26,this.words[M]=w&67108863}return A!==0&&(this.words[M]=A,this.length++),m?this.ineg():this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var m=P(h);if(m.length===0)return new s(1);for(var A=this,M=0;M<m.length&&m[M]===0;M++,A=A.sqr());if(++M<m.length)for(var I=A.sqr();M<m.length;M++,I=I.sqr())m[M]!==0&&(A=A.mul(I));return A},s.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var m=h%26,A=(h-m)/26,M=67108863>>>26-m<<26-m,I;if(m!==0){var w=0;for(I=0;I<this.length;I++){var b=this.words[I]&M,_=(this.words[I]|0)-b<<m;this.words[I]=_|w,w=b>>>26-m}w&&(this.words[I]=w,this.length++)}if(A!==0){for(I=this.length-1;I>=0;I--)this.words[I+A]=this.words[I];for(I=0;I<A;I++)this.words[I]=0;this.length+=A}return this._strip()},s.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,m,A){r(typeof h=="number"&&h>=0);var M;m?M=(m-m%26)/26:M=0;var I=h%26,w=Math.min((h-I)/26,this.length),b=67108863^67108863>>>I<<I,_=A;if(M-=w,M=Math.max(0,M),_){for(var f=0;f<w;f++)_.words[f]=this.words[f];_.length=w}if(w!==0)if(this.length>w)for(this.length-=w,f=0;f<this.length;f++)this.words[f]=this.words[f+w];else this.words[0]=0,this.length=1;var k=0;for(f=this.length-1;f>=0&&(k!==0||f>=M);f--){var G=this.words[f]|0;this.words[f]=k<<26-I|G>>>I,k=G&b}return _&&k!==0&&(_.words[_.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(h,m,A){return r(this.negative===0),this.iushrn(h,m,A)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var m=h%26,A=(h-m)/26,M=1<<m;if(this.length<=A)return!1;var I=this.words[A];return!!(I&M)},s.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var m=h%26,A=(h-m)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(m!==0&&A++,this.length=Math.min(A,this.length),m!==0){var M=67108863^67108863>>>m<<m;this.words[this.length-1]&=M}return this._strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,m,A){var M=h.length+A,I;this._expand(M);var w,b=0;for(I=0;I<h.length;I++){w=(this.words[I+A]|0)+b;var _=(h.words[I]|0)*m;w-=_&67108863,b=(w>>26)-(_/67108864|0),this.words[I+A]=w&67108863}for(;I<this.length-A;I++)w=(this.words[I+A]|0)+b,b=w>>26,this.words[I+A]=w&67108863;if(b===0)return this._strip();for(r(b===-1),b=0,I=0;I<this.length;I++)w=-(this.words[I]|0)+b,b=w>>26,this.words[I]=w&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(h,m){var A=this.length-h.length,M=this.clone(),I=h,w=I.words[I.length-1]|0,b=this._countBits(w);A=26-b,A!==0&&(I=I.ushln(A),M.iushln(A),w=I.words[I.length-1]|0);var _=M.length-I.length,f;if(m!=="mod"){f=new s(null),f.length=_+1,f.words=new Array(f.length);for(var k=0;k<f.length;k++)f.words[k]=0}var G=M.clone()._ishlnsubmul(I,1,_);G.negative===0&&(M=G,f&&(f.words[_]=1));for(var K=_-1;K>=0;K--){var Q=(M.words[I.length+K]|0)*67108864+(M.words[I.length+K-1]|0);for(Q=Math.min(Q/w|0,67108863),M._ishlnsubmul(I,Q,K);M.negative!==0;)Q--,M.negative=0,M._ishlnsubmul(I,1,K),M.isZero()||(M.negative^=1);f&&(f.words[K]=Q)}return f&&f._strip(),M._strip(),m!=="div"&&A!==0&&M.iushrn(A),{div:f||null,mod:M}},s.prototype.divmod=function(h,m,A){if(r(!h.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var M,I,w;return this.negative!==0&&h.negative===0?(w=this.neg().divmod(h,m),m!=="mod"&&(M=w.div.neg()),m!=="div"&&(I=w.mod.neg(),A&&I.negative!==0&&I.iadd(h)),{div:M,mod:I}):this.negative===0&&h.negative!==0?(w=this.divmod(h.neg(),m),m!=="mod"&&(M=w.div.neg()),{div:M,mod:w.mod}):this.negative&h.negative?(w=this.neg().divmod(h.neg(),m),m!=="div"&&(I=w.mod.neg(),A&&I.negative!==0&&I.isub(h)),{div:w.div,mod:I}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?m==="div"?{div:this.divn(h.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modrn(h.words[0]))}:this._wordDiv(h,m)},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var A=m.div.negative!==0?m.mod.isub(h):m.mod,M=h.ushrn(1),I=h.andln(1),w=A.cmp(M);return w<0||I===1&&w===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modrn=function(h){var m=h<0;m&&(h=-h),r(h<=67108863);for(var A=(1<<26)%h,M=0,I=this.length-1;I>=0;I--)M=(A*M+(this.words[I]|0))%h;return m?-M:M},s.prototype.modn=function(h){return this.modrn(h)},s.prototype.idivn=function(h){var m=h<0;m&&(h=-h),r(h<=67108863);for(var A=0,M=this.length-1;M>=0;M--){var I=(this.words[M]|0)+A*67108864;this.words[M]=I/h|0,A=I%h}return this._strip(),m?this.ineg():this},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var m=this,A=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var M=new s(1),I=new s(0),w=new s(0),b=new s(1),_=0;m.isEven()&&A.isEven();)m.iushrn(1),A.iushrn(1),++_;for(var f=A.clone(),k=m.clone();!m.isZero();){for(var G=0,K=1;!(m.words[0]&K)&&G<26;++G,K<<=1);if(G>0)for(m.iushrn(G);G-- >0;)(M.isOdd()||I.isOdd())&&(M.iadd(f),I.isub(k)),M.iushrn(1),I.iushrn(1);for(var Q=0,oe=1;!(A.words[0]&oe)&&Q<26;++Q,oe<<=1);if(Q>0)for(A.iushrn(Q);Q-- >0;)(w.isOdd()||b.isOdd())&&(w.iadd(f),b.isub(k)),w.iushrn(1),b.iushrn(1);m.cmp(A)>=0?(m.isub(A),M.isub(w),I.isub(b)):(A.isub(m),w.isub(M),b.isub(I))}return{a:w,b,gcd:A.iushln(_)}},s.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var m=this,A=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var M=new s(1),I=new s(0),w=A.clone();m.cmpn(1)>0&&A.cmpn(1)>0;){for(var b=0,_=1;!(m.words[0]&_)&&b<26;++b,_<<=1);if(b>0)for(m.iushrn(b);b-- >0;)M.isOdd()&&M.iadd(w),M.iushrn(1);for(var f=0,k=1;!(A.words[0]&k)&&f<26;++f,k<<=1);if(f>0)for(A.iushrn(f);f-- >0;)I.isOdd()&&I.iadd(w),I.iushrn(1);m.cmp(A)>=0?(m.isub(A),M.isub(I)):(A.isub(m),I.isub(M))}var G;return m.cmpn(1)===0?G=M:G=I,G.cmpn(0)<0&&G.iadd(h),G},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),A=h.clone();m.negative=0,A.negative=0;for(var M=0;m.isEven()&&A.isEven();M++)m.iushrn(1),A.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;A.isEven();)A.iushrn(1);var I=m.cmp(A);if(I<0){var w=m;m=A,A=w}else if(I===0||A.cmpn(1)===0)break;m.isub(A)}while(!0);return A.iushln(M)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){r(typeof h=="number");var m=h%26,A=(h-m)/26,M=1<<m;if(this.length<=A)return this._expand(A+1),this.words[A]|=M,this;for(var I=M,w=A;I!==0&&w<this.length;w++){var b=this.words[w]|0;b+=I,I=b>>>26,b&=67108863,this.words[w]=b}return I!==0&&(this.words[w]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var m=h<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var A;if(this.length>1)A=1;else{m&&(h=-h),r(h<=67108863,"Number is too big");var M=this.words[0]|0;A=M===h?0:M<h?-1:1}return this.negative!==0?-A|0:A},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var m=this.ucmp(h);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,A=this.length-1;A>=0;A--){var M=this.words[A]|0,I=h.words[A]|0;if(M!==I){M<I?m=-1:M>I&&(m=1);break}}return m},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new re(h)},s.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var N={k256:null,p224:null,p192:null,p25519:null};function B(U,h){this.name=U,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var h=new s(null);return h.words=new Array(Math.ceil(this.n/13)),h},B.prototype.ireduce=function(h){var m=h,A;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),A=m.bitLength();while(A>this.n);var M=A<this.n?-1:m.ucmp(this.p);return M===0?(m.words[0]=0,m.length=1):M>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},B.prototype.split=function(h,m){h.iushrn(this.n,0,m)},B.prototype.imulK=function(h){return h.imul(this.k)};function F(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,B),F.prototype.split=function(h,m){for(var A=4194303,M=Math.min(h.length,9),I=0;I<M;I++)m.words[I]=h.words[I];if(m.length=M,h.length<=9){h.words[0]=0,h.length=1;return}var w=h.words[9];for(m.words[m.length++]=w&A,I=10;I<h.length;I++){var b=h.words[I]|0;h.words[I-10]=(b&A)<<4|w>>>22,w=b}w>>>=22,h.words[I-10]=w,w===0&&h.length>10?h.length-=10:h.length-=9},F.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,A=0;A<h.length;A++){var M=h.words[A]|0;m+=M*977,h.words[A]=m&67108863,m=M*64+(m/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function V(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,B);function Y(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,B);function X(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,B),X.prototype.imulK=function(h){for(var m=0,A=0;A<h.length;A++){var M=(h.words[A]|0)*19+m,I=M&67108863;M>>>=26,h.words[A]=I,m=M}return m!==0&&(h.words[h.length++]=m),h},s._prime=function(h){if(N[h])return N[h];var m;if(h==="k256")m=new F;else if(h==="p224")m=new V;else if(h==="p192")m=new Y;else if(h==="p25519")m=new X;else throw new Error("Unknown prime "+h);return N[h]=m,m};function re(U){if(typeof U=="string"){var h=s._prime(U);this.m=h.p,this.prime=h}else r(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}re.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},re.prototype._verify2=function(h,m){r((h.negative|m.negative)===0,"red works only with positives"),r(h.red&&h.red===m.red,"red works only with red numbers")},re.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(c(h,h.umod(this.m)._forceRed(this)),h)},re.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},re.prototype.add=function(h,m){this._verify2(h,m);var A=h.add(m);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},re.prototype.iadd=function(h,m){this._verify2(h,m);var A=h.iadd(m);return A.cmp(this.m)>=0&&A.isub(this.m),A},re.prototype.sub=function(h,m){this._verify2(h,m);var A=h.sub(m);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},re.prototype.isub=function(h,m){this._verify2(h,m);var A=h.isub(m);return A.cmpn(0)<0&&A.iadd(this.m),A},re.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},re.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},re.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},re.prototype.isqr=function(h){return this.imul(h,h.clone())},re.prototype.sqr=function(h){return this.mul(h,h)},re.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(r(m%2===1),m===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(h,A)}for(var M=this.m.subn(1),I=0;!M.isZero()&&M.andln(1)===0;)I++,M.iushrn(1);r(!M.isZero());var w=new s(1).toRed(this),b=w.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,_).cmp(b)!==0;)f.redIAdd(b);for(var k=this.pow(f,M),G=this.pow(h,M.addn(1).iushrn(1)),K=this.pow(h,M),Q=I;K.cmp(w)!==0;){for(var oe=K,he=0;oe.cmp(w)!==0;he++)oe=oe.redSqr();r(he<Q);var fe=this.pow(k,new s(1).iushln(Q-he-1));G=G.redMul(fe),k=fe.redSqr(),K=K.redMul(k),Q=he}return G},re.prototype.invm=function(h){var m=h._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},re.prototype.pow=function(h,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return h.clone();var A=4,M=new Array(1<<A);M[0]=new s(1).toRed(this),M[1]=h;for(var I=2;I<M.length;I++)M[I]=this.mul(M[I-1],h);var w=M[0],b=0,_=0,f=m.bitLength()%26;for(f===0&&(f=26),I=m.length-1;I>=0;I--){for(var k=m.words[I],G=f-1;G>=0;G--){var K=k>>G&1;if(w!==M[0]&&(w=this.sqr(w)),K===0&&b===0){_=0;continue}b<<=1,b|=K,_++,!(_!==A&&(I!==0||G!==0))&&(w=this.mul(w,M[b]),_=0,b=0)}f=26}return w},re.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},re.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},s.mont=function(h){return new ye(h)};function ye(U){re.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ye,re),ye.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},ye.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},ye.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var A=h.imul(m),M=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(M).iushrn(this.shift),w=I;return I.cmp(this.m)>=0?w=I.isub(this.m):I.cmpn(0)<0&&(w=I.iadd(this.m)),w._forceRed(this)},ye.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new s(0)._forceRed(this);var A=h.mul(m),M=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=A.isub(M).iushrn(this.shift),w=I;return I.cmp(this.m)>=0?w=I.isub(this.m):I.cmpn(0)<0&&(w=I.iadd(this.m)),w._forceRed(this)},ye.prototype.invm=function(h){var m=this.imod(h._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,Lr)})(Hv);var Sb=Hv.exports;const mE=v0(Sb);var f0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ht,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(f0,f0.exports);var Tb=f0.exports,Bc=Tb.Buffer;function DF(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(x){if((Array.isArray(x)||x instanceof Uint8Array)&&(x=Bc.from(x)),!Bc.isBuffer(x))throw new TypeError("Expected Buffer");if(x.length===0)return"";for(var R=0,C=0,P=0,S=x.length;P!==S&&x[P]===0;)P++,R++;for(var E=(S-P)*u+1>>>0,v=new Uint8Array(E);P!==S;){for(var L=x[P],N=0,B=E-1;(L!==0||N<C)&&B!==-1;B--,N++)L+=256*v[B]>>>0,v[B]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");C=N,P++}for(var F=E-C;F!==E&&v[F]===0;)F++;for(var V=a.repeat(R);F<E;++F)V+=t.charAt(v[F]);return V}function d(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return Bc.alloc(0);for(var R=0,C=0,P=0;x[R]===a;)C++,R++;for(var S=(x.length-R)*l+1>>>0,E=new Uint8Array(S);x[R];){var v=e[x.charCodeAt(R)];if(v===255)return;for(var L=0,N=S-1;(v!==0||L<P)&&N!==-1;N--,L++)v+=o*E[N]>>>0,E[N]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");P=L,R++}for(var B=S-P;B!==S&&E[B]===0;)B++;var F=Bc.allocUnsafe(C+(S-B));F.fill(0,0,C);for(var V=C;B!==S;)F[V++]=E[B++];return F}function y(x){var R=d(x);if(R)return R;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:d,decode:y}}var OF=DF,LF=OF,UF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",BF=LF(UF);const yE=v0(BF),FF=(t,e,n)=>t&e^~t&n,VF=(t,e,n)=>t&e^t&n^e&n,$F=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qi=new Uint32Array(64);class jF extends hb{constructor(){super(64,32,8,!1),this.A=Hi[0]|0,this.B=Hi[1]|0,this.C=Hi[2]|0,this.D=Hi[3]|0,this.E=Hi[4]|0,this.F=Hi[5]|0,this.G=Hi[6]|0,this.H=Hi[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)qi[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const y=qi[d-15],x=qi[d-2],R=jr(y,7)^jr(y,18)^y>>>3,C=jr(x,17)^jr(x,19)^x>>>10;qi[d]=C+qi[d-7]+R+qi[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let d=0;d<64;d++){const y=jr(a,6)^jr(a,11)^jr(a,25),x=c+y+FF(a,l,u)+$F[d]+qi[d]|0,C=(jr(r,2)^jr(r,13)^jr(r,22))+VF(r,i,s)|0;c=u,u=l,l=a,a=o+x|0,o=s,s=i,i=r,r=x+C|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,l,u,c)}roundClean(){qi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const d0=ub(()=>new jF);var cn={},Fc=Tb.Buffer;function zF(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(x){if((Array.isArray(x)||x instanceof Uint8Array)&&(x=Fc.from(x)),!Fc.isBuffer(x))throw new TypeError("Expected Buffer");if(x.length===0)return"";for(var R=0,C=0,P=0,S=x.length;P!==S&&x[P]===0;)P++,R++;for(var E=(S-P)*u+1>>>0,v=new Uint8Array(E);P!==S;){for(var L=x[P],N=0,B=E-1;(L!==0||N<C)&&B!==-1;B--,N++)L+=256*v[B]>>>0,v[B]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");C=N,P++}for(var F=E-C;F!==E&&v[F]===0;)F++;for(var V=a.repeat(R);F<E;++F)V+=t.charAt(v[F]);return V}function d(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return Fc.alloc(0);for(var R=0,C=0,P=0;x[R]===a;)C++,R++;for(var S=(x.length-R)*l+1>>>0,E=new Uint8Array(S);x[R];){var v=e[x.charCodeAt(R)];if(v===255)return;for(var L=0,N=S-1;(v!==0||L<P)&&N!==-1;N--,L++)v+=o*E[N]>>>0,E[N]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");P=L,R++}for(var B=S-P;B!==S&&E[B]===0;)B++;var F=Fc.allocUnsafe(C+(S-B));F.fill(0,0,C);for(var V=C;B!==S;)F[V++]=E[B++];return F}function y(x){var R=d(x);if(R)return R;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:d,decode:y}}var HF=zF,qF=HF,GF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",WF=qF(GF);function gi(t,e,n){return e<=t&&t<=n}function Id(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function KF(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function QF(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var cf=-1;function qv(t){this.tokens=[].slice.call(t)}qv.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():cf},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Ma=-1;function og(t,e){if(t)throw TypeError("Decoder error");return e||65533}var hf="utf-8";function ff(t,e){if(!(this instanceof ff))return new ff(t,e);if(t=t!==void 0?String(t).toLowerCase():hf,t!==hf)throw new Error("Encoding not supported. Only utf-8 is supported");e=Id(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ff.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=Id(n),this._streaming||(this._decoder=new YF({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new qv(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Ma);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Ma)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),QF(s)}};function df(t,e){if(!(this instanceof df))return new df(t,e);if(t=t!==void 0?String(t).toLowerCase():hf,t!==hf)throw new Error("Encoding not supported. Only utf-8 is supported");e=Id(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}df.prototype={encode:function(e,n){e=e?String(e):"",n=Id(n),this._streaming||(this._encoder=new XF(this._options)),this._streaming=!!n.stream;for(var r=[],i=new qv(KF(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Ma);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Ma;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function YF(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===cf&&i!==0)return i=0,og(e);if(l===cf)return Ma;if(i===0){if(gi(l,0,127))return l;if(gi(l,194,223))i=1,n=l-192;else if(gi(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(gi(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return og(e);return n=n<<6*i,null}if(!gi(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),og(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function XF(t){t.fatal,this.handler=function(e,n){if(n===cf)return Ma;if(gi(n,0,127))return n;var r,i;gi(n,128,2047)?(r=1,i=192):gi(n,2048,65535)?(r=2,i=224):gi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const ZF=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ff,TextEncoder:df},Symbol.toStringTag,{value:"Module"})),JF=_0(ZF);var e8=Lr&&Lr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),t8=Lr&&Lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ci=Lr&&Lr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},n8=Lr&&Lr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&e8(e,t,n);return t8(e,t),e},Ab=Lr&&Lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cn,"__esModule",{value:!0});var bb=cn.deserializeUnchecked=Mb=cn.deserialize=Nb=cn.serialize=cn.BinaryReader=cn.BinaryWriter=cn.BorshError=cn.baseDecode=cn.baseEncode=void 0;const is=Ab(Sb),Rb=Ab(WF),r8=n8(JF),i8=typeof TextDecoder!="function"?r8.TextDecoder:TextDecoder,s8=new i8("utf-8",{fatal:!0});function o8(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Rb.default.encode(Buffer.from(t))}cn.baseEncode=o8;function a8(t){return Buffer.from(Rb.default.decode(t))}cn.baseDecode=a8;const ag=1024;class Fn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}cn.BorshError=Fn;class Cb{constructor(){this.buf=Buffer.alloc(ag),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(ag)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(ag)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}cn.BinaryWriter=Cb;function hi(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Fn("Reached the end of buffer when deserializing")}throw s}}}class hr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new is.default(e,"le")}readU128(){const e=this.readBuffer(16);return new is.default(e,"le")}readU256(){const e=this.readBuffer(32);return new is.default(e,"le")}readU512(){const e=this.readBuffer(64);return new is.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Fn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return s8.decode(n)}catch(r){throw new Fn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}ci([hi],hr.prototype,"readU8",null);ci([hi],hr.prototype,"readU16",null);ci([hi],hr.prototype,"readU32",null);ci([hi],hr.prototype,"readU64",null);ci([hi],hr.prototype,"readU128",null);ci([hi],hr.prototype,"readU256",null);ci([hi],hr.prototype,"readU512",null);ci([hi],hr.prototype,"readString",null);ci([hi],hr.prototype,"readFixedArray",null);ci([hi],hr.prototype,"readArray",null);cn.BinaryReader=hr;function kb(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Us(t,e,n,r,i){try{if(typeof r=="string")i[`write${kb(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Fn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Fn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Us(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Us(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Us(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Us(t,e,o,r.key,i),Us(t,e,s,r.value,i)});break}default:throw new Fn(`FieldType ${r} unrecognized`)}else Pb(t,n,i)}catch(s){throw s instanceof Fn&&s.addToFieldPath(e),s}}function Pb(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Fn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Us(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Us(t,o,e[o],a,n);break}}}else throw new Fn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function l8(t,e,n=Cb){const r=new n;return Pb(t,e,r),r.toArray()}var Nb=cn.serialize=l8;function Bs(t,e,n,r){try{if(typeof n=="string")return r[`read${kb(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Bs(t,null,n[0],r));return i}else return r.readArray(()=>Bs(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Bs(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Bs(t,e,n.key,r),l=Bs(t,e,n.value,r);i.set(a,l)}return i}return Gv(t,n,r)}catch(i){throw i instanceof Fn&&i.addToFieldPath(e),i}}function Gv(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Fn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Bs(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Fn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Bs(t,s,o,n);return new e({[s]:a})}throw new Fn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function u8(t,e,n,r=hr){const i=new r(n),s=Gv(t,e,i);if(i.offset<n.length)throw new Fn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var Mb=cn.deserialize=u8;function c8(t,e,n,r=hr){const i=new r(n);return Gv(t,e,i)}bb=cn.deserializeUnchecked=c8;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.s16=q.s8=q.nu64be=q.u48be=q.u40be=q.u32be=q.u24be=q.u16be=an=q.nu64=q.u48=q.u40=pe=q.u32=q.u24=pr=q.u16=Gt=q.u8=to=q.offset=q.greedy=q.Constant=q.UTF8=q.CString=q.Blob=q.Boolean=q.BitField=q.BitStructure=q.VariantLayout=q.Union=q.UnionLayoutDiscriminator=q.UnionDiscriminator=q.Structure=q.Sequence=q.DoubleBE=q.Double=q.FloatBE=q.Float=q.NearInt64BE=q.NearInt64=q.NearUInt64BE=q.NearUInt64=q.IntBE=q.Int=q.UIntBE=q.UInt=q.OffsetLayout=q.GreedyCount=q.ExternalLayout=q.bindConstructorLayout=q.nameWithProperty=q.Layout=q.uint8ArrayToBuffer=q.checkUint8Array=void 0;q.constant=q.utf8=q.cstr=Da=q.blob=q.unionLayoutDiscriminator=q.union=Gs=q.seq=q.bits=ge=q.struct=q.f64be=q.f64=q.f32be=q.f32=q.ns64be=q.s48be=q.s40be=q.s32be=q.s24be=q.s16be=nr=q.ns64=q.s48=q.s40=q.s32=q.s24=void 0;const Wv=ht;function Za(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}q.checkUint8Array=Za;function Be(t){return Za(t),Wv.Buffer.from(t.buffer,t.byteOffset,t.length)}q.uint8ArrayToBuffer=Be;class Ge{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}q.Layout=Ge;function Kv(t,e){return e.property?t+"["+e.property+"]":t}q.nameWithProperty=Kv;function h8(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}q.bindConstructorLayout=h8;class Wn extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}}q.ExternalLayout=Wn;class Db extends Wn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Za(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}q.GreedyCount=Db;class Qv extends Wn{constructor(e,n=0,r){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof xr||this.layout instanceof Or}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}q.OffsetLayout=Qv;class xr extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Be(n).writeUIntLE(e,r,this.span),this.span}}q.UInt=xr;class Or extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Be(n).writeUIntBE(e,r,this.span),this.span}}q.UIntBE=Or;class bo extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readIntLE(n,this.span)}encode(e,n,r=0){return Be(n).writeIntLE(e,r,this.span),this.span}}q.Int=bo;class Ja extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readIntBE(n,this.span)}encode(e,n,r=0){return Be(n).writeIntBE(e,r,this.span),this.span}}q.IntBE=Ja;const p0=Math.pow(2,32);function Sd(t){const e=Math.floor(t/p0),n=t-e*p0;return{hi32:e,lo32:n}}function Td(t,e){return t*p0+e}class Ob extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return Td(s,i)}encode(e,n,r=0){const i=Sd(e),s=Be(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}q.NearUInt64=Ob;class Lb extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return Td(i,s)}encode(e,n,r=0){const i=Sd(e),s=Be(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearUInt64BE=Lb;class Ub extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return Td(s,i)}encode(e,n,r=0){const i=Sd(e),s=Be(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}q.NearInt64=Ub;class Bb extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return Td(i,s)}encode(e,n,r=0){const i=Sd(e),s=Be(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearInt64BE=Bb;class Fb extends Ge{constructor(e){super(4,e)}decode(e,n=0){return Be(e).readFloatLE(n)}encode(e,n,r=0){return Be(n).writeFloatLE(e,r),4}}q.Float=Fb;class Vb extends Ge{constructor(e){super(4,e)}decode(e,n=0){return Be(e).readFloatBE(n)}encode(e,n,r=0){return Be(n).writeFloatBE(e,r),4}}q.FloatBE=Vb;class $b extends Ge{constructor(e){super(8,e)}decode(e,n=0){return Be(e).readDoubleLE(n)}encode(e,n,r=0){return Be(n).writeDoubleLE(e,r),8}}q.Double=$b;class jb extends Ge{constructor(e){super(8,e)}decode(e,n=0){return Be(e).readDoubleBE(n)}encode(e,n,r=0){return Be(n).writeDoubleBE(e,r),8}}q.DoubleBE=jb;class zb extends Ge{constructor(e,n,r){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Wn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Wn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Wn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Wn&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Wn&&this.count.encode(e.length,n,r),s}}q.Sequence=zb;class Hb extends Ge{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Za(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}q.Structure=Hb;class Yv{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}q.UnionDiscriminator=Yv;class pf extends Yv{constructor(e,n){if(!(e instanceof Wn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}q.UnionLayoutDiscriminator=pf;class Xv extends Ge{constructor(e,n,r){let i;if(e instanceof xr||e instanceof Or)i=new pf(new Qv(e));else if(e instanceof Wn&&e.isCount())i=new pf(e);else if(e instanceof Yv)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof xr||e instanceof Or)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof xr||e instanceof Or,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new qb(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}q.Union=Xv;class qb extends Ge{constructor(e,n,r,i){if(!(e instanceof Xv))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}q.VariantLayout=qb;function Bo(t){return 0>t&&(t+=4294967296),t}class Zv extends Ge{constructor(e,n,r){if(!(e instanceof xr||e instanceof Or))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Bo(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new Jv(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Gb(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}q.BitStructure=Zv;class Jv{constructor(e,n,r){if(!(e instanceof Zv))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Bo(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Bo(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Bo(e&this.valueMask))throw new TypeError(Kv("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Bo(e<<this.start);this.container._packedSetValue(Bo(n&~this.wordMask)|r)}}q.BitField=Jv;let Gb=class extends Jv{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};q.Boolean=Gb;let Wb=class extends Ge{constructor(e,n){if(!(e instanceof Wn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Wn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Be(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Wn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Kv("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Be(e);return Be(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Wn&&this.length.encode(i,n,r),i}};q.Blob=Wb;class Kb extends Ge{constructor(e){super(-1,e)}getSpan(e,n=0){Za(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Be(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Wv.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Be(n);return i.copy(o,r),o[r+s]=0,s+1}}q.CString=Kb;class Qb extends Ge{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Za(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Be(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=Wv.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Be(n),r),s}}q.UTF8=Qb;class Yb extends Ge{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}q.Constant=Yb;q.greedy=(t,e)=>new Db(t,e);var to=q.offset=(t,e,n)=>new Qv(t,e,n),Gt=q.u8=t=>new xr(1,t),pr=q.u16=t=>new xr(2,t);q.u24=t=>new xr(3,t);var pe=q.u32=t=>new xr(4,t);q.u40=t=>new xr(5,t);q.u48=t=>new xr(6,t);var an=q.nu64=t=>new Ob(t);q.u16be=t=>new Or(2,t);q.u24be=t=>new Or(3,t);q.u32be=t=>new Or(4,t);q.u40be=t=>new Or(5,t);q.u48be=t=>new Or(6,t);q.nu64be=t=>new Lb(t);q.s8=t=>new bo(1,t);q.s16=t=>new bo(2,t);q.s24=t=>new bo(3,t);q.s32=t=>new bo(4,t);q.s40=t=>new bo(5,t);q.s48=t=>new bo(6,t);var nr=q.ns64=t=>new Ub(t);q.s16be=t=>new Ja(2,t);q.s24be=t=>new Ja(3,t);q.s32be=t=>new Ja(4,t);q.s40be=t=>new Ja(5,t);q.s48be=t=>new Ja(6,t);q.ns64be=t=>new Bb(t);q.f32=t=>new Fb(t);q.f32be=t=>new Vb(t);q.f64=t=>new $b(t);q.f64be=t=>new jb(t);var ge=q.struct=(t,e,n)=>new Hb(t,e,n);q.bits=(t,e,n)=>new Zv(t,e,n);var Gs=q.seq=(t,e,n)=>new zb(t,e,n);q.union=(t,e,n)=>new Xv(t,e,n);q.unionLayoutDiscriminator=(t,e)=>new pf(t,e);var Da=q.blob=(t,e)=>new Wb(t,e);q.cstr=t=>new Kb(t);q.utf8=(t,e)=>new Qb(t,e);q.constant=(t,e)=>new Yb(t,e);var tc={};Object.defineProperty(tc,"__esModule",{value:!0});function f8(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var d8=tc.toBigIntLE=f8;function p8(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}tc.toBigIntBE=p8;function g8(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var m8=tc.toBufferLE=g8;function y8(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}tc.toBufferBE=y8;class v8 extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function _8(t){return vs(t)&&typeof t[Symbol.iterator]=="function"}function vs(t){return typeof t=="object"&&t!=null}function Fr(t){return typeof t=="string"?JSON.stringify(t):""+t}function w8(t){const{done:e,value:n}=t.next();return e?void 0:n}function E8(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Fr(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*vE(t,e,n,r){_8(t)||(t=[t]);for(const i of t){const s=E8(i,e,n,r);s&&(yield s)}}function*e1(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&vs(e.schema)&&vs(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l=!0;for(const u of e.validator(t,a))l=!1,yield[u,void 0];for(let[u,c,d]of e.entries(t,a)){const y=e1(c,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,c],coerce:s,mask:o});for(const x of y)x[0]?(l=!1,yield[x[0],void 0]):s&&(c=x[1],u===void 0?t=c:t instanceof Map?t.set(u,c):t instanceof Set?t.add(c):vs(t)&&(t[u]=c))}if(l)for(const u of e.refiner(t,a))l=!1,yield[u,void 0];l&&(yield[void 0,t])}let fi=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,u)=>{const c=i(l,u);return vE(c,u,this,l)}:this.validator=()=>[],s?this.refiner=(l,u)=>{const c=s(l,u);return vE(c,u,this,l)}:this.refiner=()=>[]}assert(e){return x8(e,this)}create(e){return Ru(e,this)}is(e){return Xb(e,this)}mask(e){return I8(e,this)}validate(e,n={}){return nc(e,this,n)}};function x8(t,e){const n=nc(t,e);if(n[0])throw n[0]}function Ru(t,e){const n=nc(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function I8(t,e){const n=nc(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Xb(t,e){return!nc(t,e)[0]}function nc(t,e,n={}){const r=e1(t,e,n),i=w8(r);return i[0]?[new v8(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ro(t,e){return new fi({type:t,schema:null,validator:e})}function S8(){return Ro("any",()=>!0)}function ue(t){return new fi({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Fr(e)}})}function ai(){return Ro("boolean",t=>typeof t=="boolean")}function t1(t){return Ro("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Fr(e))}function dt(t){const e=Fr(t),n=typeof t;return new fi({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+Fr(r)}})}function T8(){return Ro("never",()=>!1)}function le(t){return new fi({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return Ro("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Fr(t))}function ve(t){return new fi({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Zb(t,e){return new fi({type:"record",schema:null,*entries(n){if(vs(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return vs(n)||"Expected an object, but received: "+Fr(n)}})}function ie(){return Ro("string",t=>typeof t=="string"||"Expected a string, but received: "+Fr(t))}function n1(t){const e=T8();return new fi({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+Fr(n)}})}function Z(t){const e=Object.keys(t);return new fi({type:"type",schema:t,*entries(n){if(vs(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return vs(n)||"Expected an object, but received: "+Fr(n)}})}function Jn(t){const e=t.map(n=>n.type).join(" | ");return new fi({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=e1(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Fr(n),...i]}})}function rc(){return Ro("unknown",()=>!0)}function ic(t,e,n){return new fi({...t,coercer:(r,i)=>Xb(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Vc,A8=new Uint8Array(16);function Jb(){if(!Vc&&(Vc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Vc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vc(A8)}const b8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ad(t){return typeof t=="string"&&b8.test(t)}var on=[];for(var lg=0;lg<256;++lg)on.push((lg+256).toString(16).substr(1));function bd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(on[t[e+0]]+on[t[e+1]]+on[t[e+2]]+on[t[e+3]]+"-"+on[t[e+4]]+on[t[e+5]]+"-"+on[t[e+6]]+on[t[e+7]]+"-"+on[t[e+8]]+on[t[e+9]]+"-"+on[t[e+10]]+on[t[e+11]]+on[t[e+12]]+on[t[e+13]]+on[t[e+14]]+on[t[e+15]]).toLowerCase();if(!Ad(n))throw TypeError("Stringified UUID is invalid");return n}var _E,ug,cg=0,hg=0;function R8(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||_E,o=t.clockseq!==void 0?t.clockseq:ug;if(s==null||o==null){var a=t.random||(t.rng||Jb)();s==null&&(s=_E=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=ug=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:hg+1,c=l-cg+(u-hg)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||l>cg)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");cg=l,hg=u,ug=o,l+=122192928e5;var d=((l&268435455)*1e4+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var y=l/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=y&255,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var x=0;x<6;++x)i[r+x]=s[x];return e||bd(i)}function eR(t){if(!Ad(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function C8(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var k8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",P8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function tR(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=C8(i)),typeof s=="string"&&(s=eR(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return bd(l)}try{r.name=t}catch{}return r.DNS=k8,r.URL=P8,r}function N8(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return M8(D8(O8(t),t.length*8))}function M8(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function nR(t){return(t+64>>>9<<4)+14+1}function D8(t,e){t[e>>5]|=128<<e%32,t[nR(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,u=i,c=s;n=En(n,r,i,s,t[o],7,-680876936),s=En(s,n,r,i,t[o+1],12,-389564586),i=En(i,s,n,r,t[o+2],17,606105819),r=En(r,i,s,n,t[o+3],22,-1044525330),n=En(n,r,i,s,t[o+4],7,-176418897),s=En(s,n,r,i,t[o+5],12,1200080426),i=En(i,s,n,r,t[o+6],17,-1473231341),r=En(r,i,s,n,t[o+7],22,-45705983),n=En(n,r,i,s,t[o+8],7,1770035416),s=En(s,n,r,i,t[o+9],12,-1958414417),i=En(i,s,n,r,t[o+10],17,-42063),r=En(r,i,s,n,t[o+11],22,-1990404162),n=En(n,r,i,s,t[o+12],7,1804603682),s=En(s,n,r,i,t[o+13],12,-40341101),i=En(i,s,n,r,t[o+14],17,-1502002290),r=En(r,i,s,n,t[o+15],22,1236535329),n=xn(n,r,i,s,t[o+1],5,-165796510),s=xn(s,n,r,i,t[o+6],9,-1069501632),i=xn(i,s,n,r,t[o+11],14,643717713),r=xn(r,i,s,n,t[o],20,-373897302),n=xn(n,r,i,s,t[o+5],5,-701558691),s=xn(s,n,r,i,t[o+10],9,38016083),i=xn(i,s,n,r,t[o+15],14,-660478335),r=xn(r,i,s,n,t[o+4],20,-405537848),n=xn(n,r,i,s,t[o+9],5,568446438),s=xn(s,n,r,i,t[o+14],9,-1019803690),i=xn(i,s,n,r,t[o+3],14,-187363961),r=xn(r,i,s,n,t[o+8],20,1163531501),n=xn(n,r,i,s,t[o+13],5,-1444681467),s=xn(s,n,r,i,t[o+2],9,-51403784),i=xn(i,s,n,r,t[o+7],14,1735328473),r=xn(r,i,s,n,t[o+12],20,-1926607734),n=In(n,r,i,s,t[o+5],4,-378558),s=In(s,n,r,i,t[o+8],11,-2022574463),i=In(i,s,n,r,t[o+11],16,1839030562),r=In(r,i,s,n,t[o+14],23,-35309556),n=In(n,r,i,s,t[o+1],4,-1530992060),s=In(s,n,r,i,t[o+4],11,1272893353),i=In(i,s,n,r,t[o+7],16,-155497632),r=In(r,i,s,n,t[o+10],23,-1094730640),n=In(n,r,i,s,t[o+13],4,681279174),s=In(s,n,r,i,t[o],11,-358537222),i=In(i,s,n,r,t[o+3],16,-722521979),r=In(r,i,s,n,t[o+6],23,76029189),n=In(n,r,i,s,t[o+9],4,-640364487),s=In(s,n,r,i,t[o+12],11,-421815835),i=In(i,s,n,r,t[o+15],16,530742520),r=In(r,i,s,n,t[o+2],23,-995338651),n=Sn(n,r,i,s,t[o],6,-198630844),s=Sn(s,n,r,i,t[o+7],10,1126891415),i=Sn(i,s,n,r,t[o+14],15,-1416354905),r=Sn(r,i,s,n,t[o+5],21,-57434055),n=Sn(n,r,i,s,t[o+12],6,1700485571),s=Sn(s,n,r,i,t[o+3],10,-1894986606),i=Sn(i,s,n,r,t[o+10],15,-1051523),r=Sn(r,i,s,n,t[o+1],21,-2054922799),n=Sn(n,r,i,s,t[o+8],6,1873313359),s=Sn(s,n,r,i,t[o+15],10,-30611744),i=Sn(i,s,n,r,t[o+6],15,-1560198380),r=Sn(r,i,s,n,t[o+13],21,1309151649),n=Sn(n,r,i,s,t[o+4],6,-145523070),s=Sn(s,n,r,i,t[o+11],10,-1120210379),i=Sn(i,s,n,r,t[o+2],15,718787259),r=Sn(r,i,s,n,t[o+9],21,-343485551),n=ss(n,a),r=ss(r,l),i=ss(i,u),s=ss(s,c)}return[n,r,i,s]}function O8(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(nR(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ss(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function L8(t,e){return t<<e|t>>>32-e}function Rd(t,e,n,r,i,s){return ss(L8(ss(ss(e,t),ss(r,s)),i),n)}function En(t,e,n,r,i,s,o){return Rd(e&n|~e&r,t,e,i,s,o)}function xn(t,e,n,r,i,s,o){return Rd(e&r|n&~r,t,e,i,s,o)}function In(t,e,n,r,i,s,o){return Rd(e^n^r,t,e,i,s,o)}function Sn(t,e,n,r,i,s,o){return Rd(n^(e|~r),t,e,i,s,o)}var U8=tR("v3",48,N8);const B8=U8;function F8(t,e,n){t=t||{};var r=t.random||(t.rng||Jb)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return bd(r)}function V8(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function fg(t,e){return t<<e|t>>>32-e}function $8(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];a[l]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var y=new Uint32Array(80),x=0;x<16;++x)y[x]=a[d][x];for(var R=16;R<80;++R)y[R]=fg(y[R-3]^y[R-8]^y[R-14]^y[R-16],1);for(var C=n[0],P=n[1],S=n[2],E=n[3],v=n[4],L=0;L<80;++L){var N=Math.floor(L/20),B=fg(C,5)+V8(N,P,S,E)+v+e[N]+y[L]>>>0;v=E,E=S,S=fg(P,30)>>>0,P=C,C=B}n[0]=n[0]+C>>>0,n[1]=n[1]+P>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var j8=tR("v5",80,$8);const z8=j8,H8="00000000-0000-0000-0000-000000000000";function q8(t){if(!Ad(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const G8=Object.freeze(Object.defineProperty({__proto__:null,NIL:H8,parse:eR,stringify:bd,v1:R8,v3:B8,v4:F8,v5:z8,validate:Ad,version:q8},Symbol.toStringTag,{value:"Module"})),rR=_0(G8),W8=rR.v4,K8=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return W8()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var Q8=K8;const Y8=rR.v4,X8=Q8,gf=function(t,e){if(!(this instanceof gf))return new gf(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Y8()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};gf.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=X8(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(u)return r(c);throw c}if(!u)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,function(u,c){i._parseResponse(u,c,r)}),s};gf.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var Z8={},iR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(iR);var sR=iR.exports,dg={exports:{}},pg={exports:{}},wE;function sc(){return wE||(wE=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(pg)),pg.exports}var EE;function J8(){return EE||(EE=1,function(t){var e=sc().default;function n(){t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(w,b,_){w[b]=_.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function y(w,b,_){return Object.defineProperty(w,b,{value:_,enumerable:!0,configurable:!0,writable:!0}),w[b]}try{y({},"")}catch{y=function(_,f,k){return _[f]=k}}function x(w,b,_,f){var k=b&&b.prototype instanceof L?b:L,G=Object.create(k.prototype),K=new M(f||[]);return a(G,"_invoke",{value:U(w,_,K)}),G}function R(w,b,_){try{return{type:"normal",arg:w.call(b,_)}}catch(f){return{type:"throw",arg:f}}}i.wrap=x;var C="suspendedStart",P="suspendedYield",S="executing",E="completed",v={};function L(){}function N(){}function B(){}var F={};y(F,u,function(){return this});var V=Object.getPrototypeOf,Y=V&&V(V(I([])));Y&&Y!==s&&o.call(Y,u)&&(F=Y);var X=B.prototype=L.prototype=Object.create(F);function re(w){["next","throw","return"].forEach(function(b){y(w,b,function(_){return this._invoke(b,_)})})}function ye(w,b){function _(k,G,K,Q){var oe=R(w[k],w,G);if(oe.type!=="throw"){var he=oe.arg,fe=he.value;return fe&&e(fe)=="object"&&o.call(fe,"__await")?b.resolve(fe.__await).then(function(Fe){_("next",Fe,K,Q)},function(Fe){_("throw",Fe,K,Q)}):b.resolve(fe).then(function(Fe){he.value=Fe,K(he)},function(Fe){return _("throw",Fe,K,Q)})}Q(oe.arg)}var f;a(this,"_invoke",{value:function(G,K){function Q(){return new b(function(oe,he){_(G,K,oe,he)})}return f=f?f.then(Q,Q):Q()}})}function U(w,b,_){var f=C;return function(k,G){if(f===S)throw new Error("Generator is already running");if(f===E){if(k==="throw")throw G;return{value:r,done:!0}}for(_.method=k,_.arg=G;;){var K=_.delegate;if(K){var Q=h(K,_);if(Q){if(Q===v)continue;return Q}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(f===C)throw f=E,_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);f=S;var oe=R(w,b,_);if(oe.type==="normal"){if(f=_.done?E:P,oe.arg===v)continue;return{value:oe.arg,done:_.done}}oe.type==="throw"&&(f=E,_.method="throw",_.arg=oe.arg)}}}function h(w,b){var _=b.method,f=w.iterator[_];if(f===r)return b.delegate=null,_==="throw"&&w.iterator.return&&(b.method="return",b.arg=r,h(w,b),b.method==="throw")||_!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+_+"' method")),v;var k=R(f,w.iterator,b.arg);if(k.type==="throw")return b.method="throw",b.arg=k.arg,b.delegate=null,v;var G=k.arg;return G?G.done?(b[w.resultName]=G.value,b.next=w.nextLoc,b.method!=="return"&&(b.method="next",b.arg=r),b.delegate=null,v):G:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,v)}function m(w){var b={tryLoc:w[0]};1 in w&&(b.catchLoc=w[1]),2 in w&&(b.finallyLoc=w[2],b.afterLoc=w[3]),this.tryEntries.push(b)}function A(w){var b=w.completion||{};b.type="normal",delete b.arg,w.completion=b}function M(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(m,this),this.reset(!0)}function I(w){if(w||w===""){var b=w[u];if(b)return b.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var _=-1,f=function k(){for(;++_<w.length;)if(o.call(w,_))return k.value=w[_],k.done=!1,k;return k.value=r,k.done=!0,k};return f.next=f}}throw new TypeError(e(w)+" is not iterable")}return N.prototype=B,a(X,"constructor",{value:B,configurable:!0}),a(B,"constructor",{value:N,configurable:!0}),N.displayName=y(B,d,"GeneratorFunction"),i.isGeneratorFunction=function(w){var b=typeof w=="function"&&w.constructor;return!!b&&(b===N||(b.displayName||b.name)==="GeneratorFunction")},i.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,B):(w.__proto__=B,y(w,d,"GeneratorFunction")),w.prototype=Object.create(X),w},i.awrap=function(w){return{__await:w}},re(ye.prototype),y(ye.prototype,c,function(){return this}),i.AsyncIterator=ye,i.async=function(w,b,_,f,k){k===void 0&&(k=Promise);var G=new ye(x(w,b,_,f),k);return i.isGeneratorFunction(b)?G:G.next().then(function(K){return K.done?K.value:G.next()})},re(X),y(X,d,"Generator"),y(X,u,function(){return this}),y(X,"toString",function(){return"[object Generator]"}),i.keys=function(w){var b=Object(w),_=[];for(var f in b)_.push(f);return _.reverse(),function k(){for(;_.length;){var G=_.pop();if(G in b)return k.value=G,k.done=!1,k}return k.done=!0,k}},i.values=I,M.prototype={constructor:M,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!b)for(var _ in this)_.charAt(0)==="t"&&o.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=r)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var _=this;function f(he,fe){return K.type="throw",K.arg=b,_.next=he,fe&&(_.method="next",_.arg=r),!!fe}for(var k=this.tryEntries.length-1;k>=0;--k){var G=this.tryEntries[k],K=G.completion;if(G.tryLoc==="root")return f("end");if(G.tryLoc<=this.prev){var Q=o.call(G,"catchLoc"),oe=o.call(G,"finallyLoc");if(Q&&oe){if(this.prev<G.catchLoc)return f(G.catchLoc,!0);if(this.prev<G.finallyLoc)return f(G.finallyLoc)}else if(Q){if(this.prev<G.catchLoc)return f(G.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return f(G.finallyLoc)}}}},abrupt:function(b,_){for(var f=this.tryEntries.length-1;f>=0;--f){var k=this.tryEntries[f];if(k.tryLoc<=this.prev&&o.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var G=k;break}}G&&(b==="break"||b==="continue")&&G.tryLoc<=_&&_<=G.finallyLoc&&(G=null);var K=G?G.completion:{};return K.type=b,K.arg=_,G?(this.method="next",this.next=G.finallyLoc,v):this.complete(K)},complete:function(b,_){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&_&&(this.next=_),v},finish:function(b){for(var _=this.tryEntries.length-1;_>=0;--_){var f=this.tryEntries[_];if(f.finallyLoc===b)return this.complete(f.completion,f.afterLoc),A(f),v}},catch:function(b){for(var _=this.tryEntries.length-1;_>=0;--_){var f=this.tryEntries[_];if(f.tryLoc===b){var k=f.completion;if(k.type==="throw"){var G=k.arg;A(f)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(b,_,f){return this.delegate={iterator:I(b),resultName:_,nextLoc:f},this.method==="next"&&(this.arg=r),v}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(dg)),dg.exports}var gg,xE;function e9(){if(xE)return gg;xE=1;var t=J8()();gg=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return gg}var mg={exports:{}},IE;function t9(){return IE||(IE=1,function(t){function e(r,i,s,o,a,l,u){try{var c=r[l](u),d=c.value}catch(y){s(y);return}c.done?i(d):Promise.resolve(d).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var l=r.apply(i,s);function u(d){e(l,o,a,u,c,"next",d)}function c(d){e(l,o,a,u,c,"throw",d)}u(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(mg)),mg.exports}var yg={exports:{}},SE;function oR(){return SE||(SE=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(yg)),yg.exports}var vg={exports:{}},_g={exports:{}},wg={exports:{}},TE;function n9(){return TE||(TE=1,function(t){var e=sc().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(wg)),wg.exports}var AE;function r9(){return AE||(AE=1,function(t){var e=sc().default,n=n9();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(_g)),_g.exports}var bE;function aR(){return bE||(bE=1,function(t){var e=r9();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(vg)),vg.exports}var Eg={exports:{}},xg={exports:{}},RE;function i9(){return RE||(RE=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(xg)),xg.exports}var CE;function lR(){return CE||(CE=1,function(t){var e=i9();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Eg)),Eg.exports}var Ig={exports:{}},Sg={exports:{}},kE;function s9(){return kE||(kE=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Sg)),Sg.exports}var PE;function uR(){return PE||(PE=1,function(t){var e=sc().default,n=s9();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Ig)),Ig.exports}var Tg={exports:{}},NE;function cR(){return NE||(NE=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Tg)),Tg.exports}var Ag={exports:{}},ME;function hR(){return ME||(ME=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,y){if(typeof c!="function")throw new TypeError("The listener must be a function");var x=new i(c,d||l,y),R=n?n+u:u;return l._events[R]?l._events[R].fn?l._events[R]=[l._events[R],x]:l._events[R].push(x):(l._events[R]=x,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var y=0,x=d.length,R=new Array(x);y<x;y++)R[y]=d[y].fn;return R},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,y,x,R){var C=n?n+u:u;if(!this._events[C])return!1;var P=this._events[C],S=arguments.length,E,v;if(P.fn){switch(P.once&&this.removeListener(u,P.fn,void 0,!0),S){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,c),!0;case 3:return P.fn.call(P.context,c,d),!0;case 4:return P.fn.call(P.context,c,d,y),!0;case 5:return P.fn.call(P.context,c,d,y,x),!0;case 6:return P.fn.call(P.context,c,d,y,x,R),!0}for(v=1,E=new Array(S-1);v<S;v++)E[v-1]=arguments[v];P.fn.apply(P.context,E)}else{var L=P.length,N;for(v=0;v<L;v++)switch(P[v].once&&this.removeListener(u,P[v].fn,void 0,!0),S){case 1:P[v].fn.call(P[v].context);break;case 2:P[v].fn.call(P[v].context,c);break;case 3:P[v].fn.call(P[v].context,c,d);break;case 4:P[v].fn.call(P[v].context,c,d,y);break;default:if(!E)for(N=1,E=new Array(S-1);N<S;N++)E[N-1]=arguments[N];P[v].fn.apply(P[v].context,E)}}return!0},a.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,y){var x=n?n+u:u;if(!this._events[x])return this;if(!c)return o(this,x),this;var R=this._events[x];if(R.fn)R.fn===c&&(!y||R.once)&&(!d||R.context===d)&&o(this,x);else{for(var C=0,P=[],S=R.length;C<S;C++)(R[C].fn!==c||y&&!R[C].once||d&&R[C].context!==d)&&P.push(R[C]);P.length?this._events[x]=P.length===1?P[0]:P:o(this,x)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(Ag)),Ag.exports}(function(t){var e=sR;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(e9()),r=e(t9()),i=e(sc()),s=e(oR()),o=e(aR()),a=e(lR()),l=e(uR()),u=e(cR()),c=hR();function d(C){var P=y();return function(){var E=(0,u.default)(C),v;if(P){var L=(0,u.default)(this).constructor;v=Reflect.construct(E,arguments,L)}else v=E.apply(this,arguments);return(0,l.default)(this,v)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var x=function(C,P){var S={};for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&P.indexOf(E)<0&&(S[E]=C[E]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,E=Object.getOwnPropertySymbols(C);v<E.length;v++)P.indexOf(E[v])<0&&Object.prototype.propertyIsEnumerable.call(C,E[v])&&(S[E[v]]=C[E[v]]);return S},R=function(C){(0,a.default)(S,C);var P=d(S);function S(E){var v,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,S);var F=N.autoconnect,V=F===void 0?!0:F,Y=N.reconnect,X=Y===void 0?!0:Y,re=N.reconnect_interval,ye=re===void 0?1e3:re,U=N.max_reconnects,h=U===void 0?5:U,m=x(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return v=P.call(this),v.webSocketFactory=E,v.queue={},v.rpc_id=0,v.address=L,v.autoconnect=V,v.ready=!1,v.reconnect=X,v.reconnect_timer_id=void 0,v.reconnect_interval=ye,v.max_reconnects=h,v.rest_options=m,v.current_reconnects=0,v.generate_request_id=B||function(){return++v.rpc_id},v.autoconnect&&v._connect(v.address,Object.assign({autoconnect:v.autoconnect,reconnect:v.reconnect,reconnect_interval:v.reconnect_interval,max_reconnects:v.max_reconnects},v.rest_options)),v}return(0,o.default)(S,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(v,L,N,B){var F=this;return!B&&(0,i.default)(N)==="object"&&(B=N,N=null),new Promise(function(V,Y){if(!F.ready)return Y(new Error("socket not ready"));var X=F.generate_request_id(v,L),re={jsonrpc:"2.0",method:v,params:L||null,id:X};F.socket.send(JSON.stringify(re),B,function(ye){if(ye)return Y(ye);F.queue[X]={promise:[V,Y]},N&&(F.queue[X].timeout=setTimeout(function(){delete F.queue[X],Y(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var E=(0,r.default)(n.default.mark(function L(N){var B;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,this.call("rpc.login",N);case 2:if(B=V.sent,B){V.next=5;break}throw new Error("authentication failed");case 5:return V.abrupt("return",B);case 6:case"end":return V.stop()}},L,this)}));function v(L){return E.apply(this,arguments)}return v}()},{key:"listMethods",value:function(){var E=(0,r.default)(n.default.mark(function L(){return n.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,this.call("__listMethods");case 2:return B.abrupt("return",B.sent);case 3:case"end":return B.stop()}},L,this)}));function v(){return E.apply(this,arguments)}return v}()},{key:"notify",value:function(v,L){var N=this;return new Promise(function(B,F){if(!N.ready)return F(new Error("socket not ready"));var V={jsonrpc:"2.0",method:v,params:L||null};N.socket.send(JSON.stringify(V),function(Y){if(Y)return F(Y);B()})})}},{key:"subscribe",value:function(){var E=(0,r.default)(n.default.mark(function L(N){var B;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.on",N);case 3:if(B=V.sent,!(typeof N=="string"&&B[N]!=="ok")){V.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+B[N]);case 6:return V.abrupt("return",B);case 7:case"end":return V.stop()}},L,this)}));function v(L){return E.apply(this,arguments)}return v}()},{key:"unsubscribe",value:function(){var E=(0,r.default)(n.default.mark(function L(N){var B;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.off",N);case 3:if(B=V.sent,!(typeof N=="string"&&B[N]!=="ok")){V.next=6;break}throw new Error("Failed unsubscribing from an event with: "+B);case 6:return V.abrupt("return",B);case 7:case"end":return V.stop()}},L,this)}));function v(L){return E.apply(this,arguments)}return v}()},{key:"close",value:function(v,L){this.socket.close(v||1e3,L)}},{key:"_connect",value:function(v,L){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(v,L),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(B){var F=B.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&N.listeners(F.notification).length){if(!Object.keys(F.params).length)return N.emit(F.notification);var V=[F.notification];if(F.params.constructor===Object)V.push(F.params);else for(var Y=0;Y<F.params.length;Y++)V.push(F.params[Y]);return Promise.resolve().then(function(){N.emit.apply(N,V)})}if(!N.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){N.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&N.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[F.id].timeout&&clearTimeout(N.queue[F.id].timeout),F.error?N.queue[F.id].promise[1](F.error):N.queue[F.id].promise[0](F.result),delete N.queue[F.id]}),this.socket.addEventListener("error",function(B){return N.emit("error",B)}),this.socket.addEventListener("close",function(B){var F=B.code,V=B.reason;N.ready&&setTimeout(function(){return N.emit("close",F,V)},0),N.ready=!1,N.socket=void 0,F!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(v,L)},N.reconnect_interval)))})}}]),S}(c.EventEmitter);t.default=R})(Z8);var o9={};(function(t){var e=sR;Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=e(oR()),r=e(aR()),i=e(lR()),s=e(uR()),o=e(cR()),a=hR();function l(y){var x=u();return function(){var C=(0,o.default)(y),P;if(x){var S=(0,o.default)(this).constructor;P=Reflect.construct(C,arguments,S)}else P=C.apply(this,arguments);return(0,s.default)(this,P)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var c=function(y){(0,i.default)(R,y);var x=l(R);function R(C,P,S){var E;return(0,n.default)(this,R),E=x.call(this),E.socket=new window.WebSocket(C,S),E.socket.onopen=function(){return E.emit("open")},E.socket.onmessage=function(v){return E.emit("message",v.data)},E.socket.onerror=function(v){return E.emit("error",v)},E.socket.onclose=function(v){E.emit("close",v.code,v.reason)},E}return(0,r.default)(R,[{key:"send",value:function(P,S,E){var v=E||S;try{this.socket.send(P),v()}catch(L){v(L)}}},{key:"close",value:function(P,S){this.socket.close(P,S)}},{key:"addEventListener",value:function(P,S,E){this.socket.addEventListener(P,S,E)}}]),R}(a.EventEmitter);function d(y,x){return new c(y,x)}})(o9);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function a9(t){const e=Vv(t);Xa(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:l9,hexToBytes:u9}=aF,Ws={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ws;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:l9(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Ws,n=typeof t=="string"?u9(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ws._parseInt(n.subarray(2)),{d:o,l:a}=Ws._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},mi=BigInt(0),dr=BigInt(1);BigInt(2);const DE=BigInt(3);BigInt(4);function c9(t){const e=a9(t),{Fp:n}=e,r=e.toBytes||((R,C,P)=>{const S=C.toAffine();return yo(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),i=e.fromBytes||(R=>{const C=R.subarray(1),P=n.fromBytes(C.subarray(0,n.BYTES)),S=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:P,y:S}});function s(R){const{a:C,b:P}=e,S=n.sqr(R),E=n.mul(S,R);return n.add(n.add(E,n.mul(R,C)),P)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(R){return typeof R=="bigint"&&mi<R&&R<e.n}function a(R){if(!o(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(R){const{allowedPrivateKeyLengths:C,nByteLength:P,wrapPrivateKey:S,n:E}=e;if(C&&typeof R!="bigint"){if(R instanceof Uint8Array&&(R=mo(R)),typeof R!="string"||!C.includes(R.length))throw new Error("Invalid key");R=R.padStart(P*2,"0")}let v;try{v=typeof R=="bigint"?R:eo(Kt("private key",R,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof R}`)}return S&&(v=lt(v,E)),a(v),v}const u=new Map;function c(R){if(!(R instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(C,P,S){if(this.px=C,this.py=P,this.pz=S,C==null||!n.isValid(C))throw new Error("x required");if(P==null||!n.isValid(P))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required")}static fromAffine(C){const{x:P,y:S}=C||{};if(!C||!n.isValid(P)||!n.isValid(S))throw new Error("invalid affine point");if(C instanceof d)throw new Error("projective point not allowed");const E=v=>n.eql(v,n.ZERO);return E(P)&&E(S)?d.ZERO:new d(P,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const P=n.invertBatch(C.map(S=>S.pz));return C.map((S,E)=>S.toAffine(P[E])).map(d.fromAffine)}static fromHex(C){const P=d.fromAffine(i(Kt("pointHex",C)));return P.assertValidity(),P}static fromPrivateKey(C){return d.BASE.multiply(l(C))}_setWindowSize(C){this._WINDOW_SIZE=C,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:C,y:P}=this.toAffine();if(!n.isValid(C)||!n.isValid(P))throw new Error("bad point: x or y not FE");const S=n.sqr(P),E=s(C);if(!n.eql(S,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:C}=this.toAffine();if(n.isOdd)return!n.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){c(C);const{px:P,py:S,pz:E}=this,{px:v,py:L,pz:N}=C,B=n.eql(n.mul(P,N),n.mul(v,E)),F=n.eql(n.mul(S,N),n.mul(L,E));return B&&F}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:P}=e,S=n.mul(P,DE),{px:E,py:v,pz:L}=this;let N=n.ZERO,B=n.ZERO,F=n.ZERO,V=n.mul(E,E),Y=n.mul(v,v),X=n.mul(L,L),re=n.mul(E,v);return re=n.add(re,re),F=n.mul(E,L),F=n.add(F,F),N=n.mul(C,F),B=n.mul(S,X),B=n.add(N,B),N=n.sub(Y,B),B=n.add(Y,B),B=n.mul(N,B),N=n.mul(re,N),F=n.mul(S,F),X=n.mul(C,X),re=n.sub(V,X),re=n.mul(C,re),re=n.add(re,F),F=n.add(V,V),V=n.add(F,V),V=n.add(V,X),V=n.mul(V,re),B=n.add(B,V),X=n.mul(v,L),X=n.add(X,X),V=n.mul(X,re),N=n.sub(N,V),F=n.mul(X,Y),F=n.add(F,F),F=n.add(F,F),new d(N,B,F)}add(C){c(C);const{px:P,py:S,pz:E}=this,{px:v,py:L,pz:N}=C;let B=n.ZERO,F=n.ZERO,V=n.ZERO;const Y=e.a,X=n.mul(e.b,DE);let re=n.mul(P,v),ye=n.mul(S,L),U=n.mul(E,N),h=n.add(P,S),m=n.add(v,L);h=n.mul(h,m),m=n.add(re,ye),h=n.sub(h,m),m=n.add(P,E);let A=n.add(v,N);return m=n.mul(m,A),A=n.add(re,U),m=n.sub(m,A),A=n.add(S,E),B=n.add(L,N),A=n.mul(A,B),B=n.add(ye,U),A=n.sub(A,B),V=n.mul(Y,m),B=n.mul(X,U),V=n.add(B,V),B=n.sub(ye,V),V=n.add(ye,V),F=n.mul(B,V),ye=n.add(re,re),ye=n.add(ye,re),U=n.mul(Y,U),m=n.mul(X,m),ye=n.add(ye,U),U=n.sub(re,U),U=n.mul(Y,U),m=n.add(m,U),re=n.mul(ye,m),F=n.add(F,re),re=n.mul(A,m),B=n.mul(h,B),B=n.sub(B,re),re=n.mul(h,ye),V=n.mul(A,V),V=n.add(V,re),new d(B,F,V)}subtract(C){return this.add(C.negate())}is0(){return this.equals(d.ZERO)}wNAF(C){return x.wNAFCached(this,u,C,P=>{const S=n.invertBatch(P.map(E=>E.pz));return P.map((E,v)=>E.toAffine(S[v])).map(d.fromAffine)})}multiplyUnsafe(C){const P=d.ZERO;if(C===mi)return P;if(a(C),C===dr)return this;const{endo:S}=e;if(!S)return x.unsafeLadder(this,C);let{k1neg:E,k1:v,k2neg:L,k2:N}=S.splitScalar(C),B=P,F=P,V=this;for(;v>mi||N>mi;)v&dr&&(B=B.add(V)),N&dr&&(F=F.add(V)),V=V.double(),v>>=dr,N>>=dr;return E&&(B=B.negate()),L&&(F=F.negate()),F=new d(n.mul(F.px,S.beta),F.py,F.pz),B.add(F)}multiply(C){a(C);let P=C,S,E;const{endo:v}=e;if(v){const{k1neg:L,k1:N,k2neg:B,k2:F}=v.splitScalar(P);let{p:V,f:Y}=this.wNAF(N),{p:X,f:re}=this.wNAF(F);V=x.constTimeNegate(L,V),X=x.constTimeNegate(B,X),X=new d(n.mul(X.px,v.beta),X.py,X.pz),S=V.add(X),E=Y.add(re)}else{const{p:L,f:N}=this.wNAF(P);S=L,E=N}return d.normalizeZ([S,E])[0]}multiplyAndAddUnsafe(C,P,S){const E=d.BASE,v=(N,B)=>B===mi||B===dr||!N.equals(E)?N.multiplyUnsafe(B):N.multiply(B),L=v(this,P).add(v(C,S));return L.is0()?void 0:L}toAffine(C){const{px:P,py:S,pz:E}=this,v=this.is0();C==null&&(C=v?n.ONE:n.inv(E));const L=n.mul(P,C),N=n.mul(S,C),B=n.mul(E,C);if(v)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:L,y:N}}isTorsionFree(){const{h:C,isTorsionFree:P}=e;if(C===dr)return!0;if(P)return P(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:P}=e;return C===dr?this:P?P(d,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return this.assertValidity(),r(d,this,C)}toHex(C=!0){return mo(this.toRawBytes(C))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const y=e.nBitLength,x=Eb(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function h9(t){const e=Vv(t);return Xa(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function f9(t){const e=h9(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(m){return mi<m&&m<n.ORDER}function a(m){return lt(m,r)}function l(m){return c0(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:y}=c9({...e,toBytes(m,A,M){const I=A.toAffine(),w=n.toBytes(I.x),b=yo;return M?b(Uint8Array.from([A.hasEvenY()?2:3]),w):b(Uint8Array.from([4]),w,n.toBytes(I.y))},fromBytes(m){const A=m.length,M=m[0],I=m.subarray(1);if(A===i&&(M===2||M===3)){const w=eo(I);if(!o(w))throw new Error("Point is not on curve");const b=d(w);let _=n.sqrt(b);const f=(_&dr)===dr;return(M&1)===1!==f&&(_=n.neg(_)),{x:w,y:_}}else if(A===s&&M===4){const w=n.fromBytes(I.subarray(0,n.BYTES)),b=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:w,y:b}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),x=m=>mo(Na(m,e.nByteLength));function R(m){const A=r>>dr;return m>A}function C(m){return R(m)?a(-m):m}const P=(m,A,M)=>eo(m.slice(A,M));class S{constructor(A,M,I){this.r=A,this.s=M,this.recovery=I,this.assertValidity()}static fromCompact(A){const M=e.nByteLength;return A=Kt("compactSignature",A,M*2),new S(P(A,0,M),P(A,M,2*M))}static fromDER(A){const{r:M,s:I}=Ws.toSig(Kt("DER",A));return new S(M,I)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new S(this.r,this.s,A)}recoverPublicKey(A){const{r:M,s:I,recovery:w}=this,b=F(Kt("msgHash",A));if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");const _=w===2||w===3?M+e.n:M;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=w&1?"03":"02",k=u.fromHex(f+x(_)),G=l(_),K=a(-b*G),Q=a(I*G),oe=u.BASE.multiplyAndAddUnsafe(k,K,Q);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Pa(this.toDERHex())}toDERHex(){return Ws.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Pa(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const E={isValidPrivateKey(m){try{return c(m),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const m=wb(e.n);return vF(e.randomBytes(m),e.n)},precompute(m=8,A=u.BASE){return A._setWindowSize(m),A.multiply(BigInt(3)),A}};function v(m,A=!0){return u.fromPrivateKey(m).toRawBytes(A)}function L(m){const A=m instanceof Uint8Array,M=typeof m=="string",I=(A||M)&&m.length;return A?I===i||I===s:M?I===2*i||I===2*s:m instanceof u}function N(m,A,M=!0){if(L(m))throw new Error("first arg must be private key");if(!L(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(c(m)).toRawBytes(M)}const B=e.bits2int||function(m){const A=eo(m),M=m.length*8-e.nBitLength;return M>0?A>>BigInt(M):A},F=e.bits2int_modN||function(m){return a(B(m))},V=Fv(e.nBitLength);function Y(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(mi<=m&&m<V))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Na(m,e.nByteLength)}function X(m,A,M=re){if(["recovered","canonical"].some(fe=>fe in M))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:w}=e;let{lowS:b,prehash:_,extraEntropy:f}=M;b==null&&(b=!0),m=Kt("msgHash",m),_&&(m=Kt("prehashed msgHash",I(m)));const k=F(m),G=c(A),K=[Y(G),Y(k)];if(f!=null){const fe=f===!0?w(n.BYTES):f;K.push(Kt("extraEntropy",fe))}const Q=yo(...K),oe=k;function he(fe){const Fe=B(fe);if(!y(Fe))return;const Re=l(Fe),ke=u.BASE.multiply(Fe).toAffine(),Ve=a(ke.x);if(Ve===mi)return;const Pe=a(Re*a(oe+Ve*G));if(Pe===mi)return;let ze=(ke.x===Ve?0:2)|Number(ke.y&dr),Vr=Pe;return b&&R(Pe)&&(Vr=C(Pe),ze^=1),new S(Ve,Vr,ze)}return{seed:Q,k2sig:he}}const re={lowS:e.lowS,prehash:!1},ye={lowS:e.lowS,prehash:!1};function U(m,A,M=re){const{seed:I,k2sig:w}=X(m,A,M),b=e;return mb(b.hash.outputLen,b.nByteLength,b.hmac)(I,w)}u.BASE._setWindowSize(8);function h(m,A,M,I=ye){var ke;const w=m;if(A=Kt("msgHash",A),M=Kt("publicKey",M),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:b,prehash:_}=I;let f,k;try{if(typeof w=="string"||w instanceof Uint8Array)try{f=S.fromDER(w)}catch(Ve){if(!(Ve instanceof Ws.Err))throw Ve;f=S.fromCompact(w)}else if(typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint"){const{r:Ve,s:Pe}=w;f=new S(Ve,Pe)}else throw new Error("PARSE");k=u.fromHex(M)}catch(Ve){if(Ve.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(b&&f.hasHighS())return!1;_&&(A=e.hash(A));const{r:G,s:K}=f,Q=F(A),oe=l(K),he=a(Q*oe),fe=a(G*oe),Fe=(ke=u.BASE.multiplyAndAddUnsafe(k,he,fe))==null?void 0:ke.toAffine();return Fe?a(Fe.x)===G:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:N,sign:U,verify:h,ProjectivePoint:u,Signature:S,utils:E}}class fR extends lb{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,I5(e);const r=Uv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return uf(this),this.iHash.update(e),this}digestInto(e){uf(this),ib(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dR=(t,e,n)=>new fR(t,e).update(n).digest();dR.create=(t,e)=>new fR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function d9(t){return{hash:t,hmac:(e,...n)=>dR(t,e,ab(...n)),randomBytes:cb}}function p9(t,e){const n=r=>f9({...t,...d9(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pR=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),OE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),g9=BigInt(1),g0=BigInt(2),LE=(t,e)=>(t+e/g0)/e;function m9(t){const e=pR,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,d=_t(c,n,e)*c%e,y=_t(d,n,e)*c%e,x=_t(y,g0,e)*u%e,R=_t(x,i,e)*x%e,C=_t(R,s,e)*R%e,P=_t(C,a,e)*C%e,S=_t(P,l,e)*P%e,E=_t(S,a,e)*C%e,v=_t(E,n,e)*c%e,L=_t(v,o,e)*R%e,N=_t(L,r,e)*u%e,B=_t(N,g0,e);if(!m0.eql(m0.sqr(B),t))throw new Error("Cannot find square root");return B}const m0=vb(pR,void 0,void 0,{sqrt:m9}),r1=p9({a:BigInt(0),b:BigInt(7),Fp:m0,n:OE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=OE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-g9*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=LE(s*t,e),l=LE(-r*t,e);let u=lt(t-a*n-l*i,e),c=lt(-a*r-l*s,e);const d=u>o,y=c>o;if(d&&(u=e-u),y&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:y,k2:c}}}},d0);BigInt(0);r1.ProjectivePoint;xb.utils.randomPrivateKey;function UE(t){try{return xb.ExtendedPoint.fromHex(t),!0}catch{return!1}}const y9=t=>ht.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ht.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ht.Buffer.from(t);class v9{constructor(e){Object.assign(this,e)}encode(){return ht.Buffer.from(Nb(lh,this))}static decode(e){return Mb(lh,this,e)}static decodeUnchecked(e){return bb(lh,this,e)}}const lh=new Map;var gR;let mR;const _9=32,bg=32;function w9(t){return t._bn!==void 0}let BE=1;mR=Symbol.toStringTag;class Ue extends v9{constructor(e){if(super({}),this._bn=void 0,w9(e))this._bn=e._bn;else{if(typeof e=="string"){const n=yE.decode(e);if(n.length!=bg)throw new Error("Invalid public key input");this._bn=new mE(n)}else this._bn=new mE(e);if(this._bn.byteLength()>bg)throw new Error("Invalid public key input")}}static unique(){const e=new Ue(BE);return BE+=1,new Ue(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return yE.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ht.Buffer);if(e.length===bg)return e;const n=ht.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[mR](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ht.Buffer.concat([e.toBuffer(),ht.Buffer.from(n),r.toBuffer()]),s=d0(i);return new Ue(s)}static createProgramAddressSync(e,n){let r=ht.Buffer.alloc(0);e.forEach(function(s){if(s.length>_9)throw new TypeError("Max seed length exceeded");r=ht.Buffer.concat([r,y9(s)])}),r=ht.Buffer.concat([r,n.toBuffer(),ht.Buffer.from("ProgramDerivedAddress")]);const i=d0(r);if(UE(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ue(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(ht.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Ue(e);return UE(n.toBytes())}}gR=Ue;Ue.default=new gR("11111111111111111111111111111111");lh.set(Ue,{kind:"struct",fields:[["_bn","u256"]]});new Ue("BPFLoader1111111111111111111111111111111111");const E9=64,$e=(t="publicKey")=>Da(32,t),Jo=(t="string")=>{const e=ge([pe("length"),pe("lengthPadding"),Da(to(pe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:ht.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>pe().span+pe().span+ht.Buffer.from(s,"utf8").length,i},x9=(t="authorized")=>ge([$e("staker"),$e("withdrawer")],t),I9=(t="lockup")=>ge([nr("unixTimestamp"),nr("epoch"),$e("custodian")],t),S9=(t="voteInit")=>ge([$e("nodePubkey"),$e("authorizedVoter"),$e("authorizedWithdrawer"),Gt("commission")],t),T9=(t="voteAuthorizeWithSeedArgs")=>ge([pe("voteAuthorizationType"),$e("currentAuthorityDerivedKeyOwnerPubkey"),Jo("currentAuthorityDerivedKeySeed"),$e("newAuthorized")],t);ht.Buffer.alloc(E9).fill(0);new Ue("SysvarC1ock11111111111111111111111111111111");new Ue("SysvarEpochSchedu1e111111111111111111111111");new Ue("Sysvar1nstructions1111111111111111111111111");new Ue("SysvarRecentB1ockHashes11111111111111111111");new Ue("SysvarRent111111111111111111111111111111111");new Ue("SysvarRewards111111111111111111111111111111");new Ue("SysvarS1otHashes111111111111111111111111111");new Ue("SysvarS1otHistory11111111111111111111111111");new Ue("SysvarStakeHistory1111111111111111111111111");const A9=an("lamportsPerSignature"),b9=ge([pe("version"),pe("state"),$e("authorizedPubkey"),$e("nonce"),ge([A9],"feeCalculator")]);b9.span;const R9=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},C9=t=>e=>{const n=Da(t,e),{encode:r,decode:i}=R9(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return d8(ht.Buffer.from(l))},s.encode=(o,a,l)=>{const u=m8(o,t);return r(u,a,l)},s},Oa=C9(8);Object.freeze({Create:{index:0,layout:ge([pe("instruction"),nr("lamports"),nr("space"),$e("programId")])},Assign:{index:1,layout:ge([pe("instruction"),$e("programId")])},Transfer:{index:2,layout:ge([pe("instruction"),Oa("lamports")])},CreateWithSeed:{index:3,layout:ge([pe("instruction"),$e("base"),Jo("seed"),nr("lamports"),nr("space"),$e("programId")])},AdvanceNonceAccount:{index:4,layout:ge([pe("instruction")])},WithdrawNonceAccount:{index:5,layout:ge([pe("instruction"),nr("lamports")])},InitializeNonceAccount:{index:6,layout:ge([pe("instruction"),$e("authorized")])},AuthorizeNonceAccount:{index:7,layout:ge([pe("instruction"),$e("authorized")])},Allocate:{index:8,layout:ge([pe("instruction"),nr("space")])},AllocateWithSeed:{index:9,layout:ge([pe("instruction"),$e("base"),Jo("seed"),nr("space"),$e("programId")])},AssignWithSeed:{index:10,layout:ge([pe("instruction"),$e("base"),Jo("seed"),$e("programId")])},TransferWithSeed:{index:11,layout:ge([pe("instruction"),Oa("lamports"),Jo("seed"),$e("programId")])},UpgradeNonceAccount:{index:12,layout:ge([pe("instruction")])}});new Ue("11111111111111111111111111111111");new Ue("BPFLoader2111111111111111111111111111111111");ge([pe("typeIndex"),Oa("deactivationSlot"),an("lastExtendedSlot"),Gt("lastExtendedStartIndex"),Gt(),Gs($e(),to(Gt(),-1),"authority")]);const Zt=ic(t1(Ue),ie(),t=>new Ue(t)),yR=n1([ie(),dt("base64")]),i1=ic(t1(ht.Buffer),yR,t=>ht.Buffer.from(t[0],"base64"));function vR(t){return Jn([Z({jsonrpc:dt("2.0"),id:ie(),result:t}),Z({jsonrpc:dt("2.0"),id:ie(),error:Z({code:rc(),message:ie(),data:ve(S8())})})])}const k9=vR(rc());function Je(t){return ic(vR(t),k9,e=>"error"in e?e:{...e,result:Ru(e.result,t)})}function Ar(t){return Je(Z({context:Z({slot:H()}),value:t}))}function Cd(t){return Z({context:Z({slot:H()}),value:t})}const P9=Z({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()});Je(ue(le(Z({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:ve(le(H()))}))));const N9=ue(Z({slot:H(),prioritizationFee:H()})),M9=Z({total:H(),validator:H(),foundation:H(),epoch:H()}),D9=Z({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:ve(H()),transactionCount:ve(H())}),O9=Z({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:ai(),firstNormalEpoch:H(),firstNormalSlot:H()}),L9=Zb(ie(),ue(H())),Co=le(Jn([Z({}),ie()])),U9=Z({err:Co}),B9=dt("receivedSignature");Z({"solana-core":ie(),"feature-set":ve(H())});Ar(Z({err:le(Jn([Z({}),ie()])),logs:le(ue(ie())),accounts:ve(le(ue(le(Z({executable:ai(),owner:ie(),lamports:H(),data:ue(ie()),rentEpoch:ve(H())}))))),unitsConsumed:ve(H()),returnData:ve(le(Z({programId:ie(),data:n1([ie(),dt("base64")])})))}));Ar(Z({byIdentity:Zb(ie(),ue(H())),range:Z({firstSlot:H(),lastSlot:H()})}));Je(P9);Je(M9);Je(N9);Je(D9);Je(O9);Je(L9);Je(H());Ar(Z({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:ue(Zt)}));const F9=Z({amount:ie(),uiAmount:le(H()),decimals:H(),uiAmountString:ve(ie())});Ar(ue(Z({address:Zt,amount:ie(),uiAmount:le(H()),decimals:H(),uiAmountString:ve(ie())})));Ar(ue(Z({pubkey:Zt,account:Z({executable:ai(),owner:Zt,lamports:H(),data:i1,rentEpoch:H()})})));const y0=Z({program:ie(),parsed:rc(),space:H()});Ar(ue(Z({pubkey:Zt,account:Z({executable:ai(),owner:Zt,lamports:H(),data:y0,rentEpoch:H()})})));Ar(ue(Z({lamports:H(),address:Zt})));const s1=Z({executable:ai(),owner:Zt,lamports:H(),data:i1,rentEpoch:H()});Z({pubkey:Zt,account:s1});const V9=ic(Jn([t1(ht.Buffer),y0]),Jn([yR,y0]),t=>Array.isArray(t)?Ru(t,i1):t),$9=Z({executable:ai(),owner:Zt,lamports:H(),data:V9,rentEpoch:H()});Z({pubkey:Zt,account:$9});Z({state:Jn([dt("active"),dt("inactive"),dt("activating"),dt("deactivating")]),active:H(),inactive:H()});Je(ue(Z({signature:ie(),slot:H(),err:Co,memo:le(ie()),blockTime:ve(le(H()))})));Je(ue(Z({signature:ie(),slot:H(),err:Co,memo:le(ie()),blockTime:ve(le(H()))})));Z({subscription:H(),result:Cd(s1)});const j9=Z({pubkey:Zt,account:s1});Z({subscription:H(),result:Cd(j9)});const z9=Z({parent:H(),slot:H(),root:H()});Z({subscription:H(),result:z9});const H9=Jn([Z({type:Jn([dt("firstShredReceived"),dt("completed"),dt("optimisticConfirmation"),dt("root")]),slot:H(),timestamp:H()}),Z({type:dt("createdBank"),parent:H(),slot:H(),timestamp:H()}),Z({type:dt("frozen"),slot:H(),timestamp:H(),stats:Z({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),Z({type:dt("dead"),slot:H(),timestamp:H(),err:ie()})]);Z({subscription:H(),result:H9});Z({subscription:H(),result:Cd(Jn([U9,B9]))});Z({subscription:H(),result:H()});Z({pubkey:ie(),gossip:le(ie()),tpu:le(ie()),rpc:le(ie()),version:le(ie())});const FE=Z({votePubkey:ie(),nodePubkey:ie(),activatedStake:H(),epochVoteAccount:ai(),epochCredits:ue(n1([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:le(H())});Je(Z({current:ue(FE),delinquent:ue(FE)}));const q9=Jn([dt("processed"),dt("confirmed"),dt("finalized")]),G9=Z({slot:H(),confirmations:le(H()),err:Co,confirmationStatus:ve(q9)});Ar(ue(le(G9)));Je(H());const _R=Z({accountKey:Zt,writableIndexes:ue(H()),readonlyIndexes:ue(H())}),o1=Z({signatures:ue(ie()),message:Z({accountKeys:ue(ie()),header:Z({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:ue(Z({accounts:ue(H()),data:ie(),programIdIndex:H()})),recentBlockhash:ie(),addressTableLookups:ve(ue(_R))})}),wR=Z({pubkey:Zt,signer:ai(),writable:ai(),source:ve(Jn([dt("transaction"),dt("lookupTable")]))}),ER=Z({accountKeys:ue(wR),signatures:ue(ie())}),xR=Z({parsed:rc(),program:ie(),programId:Zt}),IR=Z({accounts:ue(Zt),data:ie(),programId:Zt}),W9=Jn([IR,xR]),K9=Jn([Z({parsed:rc(),program:ie(),programId:ie()}),Z({accounts:ue(ie()),data:ie(),programId:ie()})]),SR=ic(W9,K9,t=>"accounts"in t?Ru(t,IR):Ru(t,xR)),TR=Z({signatures:ue(ie()),message:Z({accountKeys:ue(wR),instructions:ue(SR),recentBlockhash:ie(),addressTableLookups:ve(le(ue(_R)))})}),mf=Z({accountIndex:H(),mint:ie(),owner:ve(ie()),uiTokenAmount:F9}),AR=Z({writable:ue(Zt),readonly:ue(Zt)}),kd=Z({err:Co,fee:H(),innerInstructions:ve(le(ue(Z({index:H(),instructions:ue(Z({accounts:ue(H()),data:ie(),programIdIndex:H()}))})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:ve(le(ue(ie()))),preTokenBalances:ve(le(ue(mf))),postTokenBalances:ve(le(ue(mf))),loadedAddresses:ve(AR),computeUnitsConsumed:ve(H())}),a1=Z({err:Co,fee:H(),innerInstructions:ve(le(ue(Z({index:H(),instructions:ue(SR)})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:ve(le(ue(ie()))),preTokenBalances:ve(le(ue(mf))),postTokenBalances:ve(le(ue(mf))),loadedAddresses:ve(AR),computeUnitsConsumed:ve(H())}),el=Jn([dt(0),dt("legacy")]),ko=Z({pubkey:ie(),lamports:H(),postBalance:le(H()),rewardType:le(ie()),commission:ve(le(H()))});Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:o1,meta:le(kd),version:ve(el)})),rewards:ve(ue(ko)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:ve(ue(ko)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:ER,meta:le(kd),version:ve(el)})),rewards:ve(ue(ko)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:TR,meta:le(a1),version:ve(el)})),rewards:ve(ue(ko)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:ER,meta:le(a1),version:ve(el)})),rewards:ve(ue(ko)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:ve(ue(ko)),blockTime:le(H()),blockHeight:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(Z({transaction:o1,meta:le(kd)})),rewards:ve(ue(ko)),blockTime:le(H())})));Je(le(Z({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),signatures:ue(ie()),blockTime:le(H())})));Je(le(Z({slot:H(),meta:kd,blockTime:ve(le(H())),transaction:o1,version:ve(el)})));Je(le(Z({slot:H(),transaction:TR,meta:le(a1),blockTime:ve(le(H())),version:ve(el)})));Ar(Z({blockhash:ie(),feeCalculator:Z({lamportsPerSignature:H()})}));Ar(Z({blockhash:ie(),lastValidBlockHeight:H()}));Ar(ai());const Q9=Z({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()});Je(ue(Q9));Ar(le(Z({feeCalculator:Z({lamportsPerSignature:H()})})));Je(ie());Je(ie());const Y9=Z({err:Co,logs:ue(ie()),signature:ie()});Z({result:Cd(Y9),subscription:H()});Object.freeze({CreateLookupTable:{index:0,layout:ge([pe("instruction"),Oa("recentSlot"),Gt("bumpSeed")])},FreezeLookupTable:{index:1,layout:ge([pe("instruction")])},ExtendLookupTable:{index:2,layout:ge([pe("instruction"),Oa(),Gs($e(),to(pe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ge([pe("instruction")])},CloseLookupTable:{index:4,layout:ge([pe("instruction")])}});new Ue("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ge([Gt("instruction"),pe("units"),pe("additionalFee")])},RequestHeapFrame:{index:1,layout:ge([Gt("instruction"),pe("bytes")])},SetComputeUnitLimit:{index:2,layout:ge([Gt("instruction"),pe("units")])},SetComputeUnitPrice:{index:3,layout:ge([Gt("instruction"),Oa("microLamports")])}});new Ue("ComputeBudget111111111111111111111111111111");ge([Gt("numSignatures"),Gt("padding"),pr("signatureOffset"),pr("signatureInstructionIndex"),pr("publicKeyOffset"),pr("publicKeyInstructionIndex"),pr("messageDataOffset"),pr("messageDataSize"),pr("messageInstructionIndex")]);new Ue("Ed25519SigVerify111111111111111111111111111");r1.utils.isValidPrivateKey;r1.getPublicKey;ge([Gt("numSignatures"),pr("signatureOffset"),Gt("signatureInstructionIndex"),pr("ethAddressOffset"),Gt("ethAddressInstructionIndex"),pr("messageDataOffset"),pr("messageDataSize"),Gt("messageInstructionIndex"),Da(20,"ethAddress"),Da(64,"signature"),Gt("recoveryId")]);new Ue("KeccakSecp256k11111111111111111111111111111");var bR;new Ue("StakeConfig11111111111111111111111111111111");class RR{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}bR=RR;RR.default=new bR(0,0,Ue.default);Object.freeze({Initialize:{index:0,layout:ge([pe("instruction"),x9(),I9()])},Authorize:{index:1,layout:ge([pe("instruction"),$e("newAuthorized"),pe("stakeAuthorizationType")])},Delegate:{index:2,layout:ge([pe("instruction")])},Split:{index:3,layout:ge([pe("instruction"),nr("lamports")])},Withdraw:{index:4,layout:ge([pe("instruction"),nr("lamports")])},Deactivate:{index:5,layout:ge([pe("instruction")])},Merge:{index:7,layout:ge([pe("instruction")])},AuthorizeWithSeed:{index:8,layout:ge([pe("instruction"),$e("newAuthorized"),pe("stakeAuthorizationType"),Jo("authoritySeed"),$e("authorityOwner")])}});new Ue("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ge([pe("instruction"),S9()])},Authorize:{index:1,layout:ge([pe("instruction"),$e("newAuthorized"),pe("voteAuthorizationType")])},Withdraw:{index:3,layout:ge([pe("instruction"),nr("lamports")])},AuthorizeWithSeed:{index:10,layout:ge([pe("instruction"),T9()])}});new Ue("Vote111111111111111111111111111111111111111");new Ue("Va1idator1nfo111111111111111111111111111111");Z({name:ie(),website:ve(ie()),details:ve(ie()),keybaseUsername:ve(ie())});new Ue("Vote111111111111111111111111111111111111111");ge([$e("nodePubkey"),$e("authorizedWithdrawer"),Gt("commission"),an(),Gs(ge([an("slot"),pe("confirmationCount")]),to(pe(),-8),"votes"),Gt("rootSlotValid"),an("rootSlot"),an(),Gs(ge([an("epoch"),$e("authorizedVoter")]),to(pe(),-8),"authorizedVoters"),ge([Gs(ge([$e("authorizedPubkey"),an("epochOfLastAuthorizedSwitch"),an("targetEpoch")]),32,"buf"),an("idx"),Gt("isEmpty")],"priorVoters"),an(),Gs(ge([an("epoch"),an("credits"),an("prevCredits")]),to(pe(),-8),"epochCredits"),ge([an("slot"),an("timestamp")],"lastTimestamp")]);const X9={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},CR=Rs(X9),pl=Ao(CR),Rg=vd(CR),Z9=t=>{const{url:e}=lS(),[n,r]=te.useState(!1);te.useEffect(()=>{p5({Ripple:Ov})},[]);const[i,s]=te.useState(t.rate);te.useState(null),te.useEffect(()=>{$("#card_price").text(i)},[$("#card_sol").text()]);const o=Rn(pl,"Course",e);(async()=>{const d=await Si(o);if(d.exists()){$("#card_title").text(_r(d.data().title)),$("#card_des").text(d.data().des),$("#card_sub").text(_r(d.data().sub)),$("#card_level").text(_r(d.data().eduLvl)),$("#card_lang").text(_r(d.data().lang)),$("#card_sol").text(d.data().sol),$("#card_uploadTime").text(new Date(d.data().uploadTime.seconds*1e3).toLocaleString()),d.data().mode==="both"?$("#card_mode").text("Video and notes"):d.data().mode==="video"?$("#card_mode").text("Video"):$("#card_mode").text("Notes");const y=()=>{let E="";for(let v in d.data().tag)E+=`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${d.data().tag[v]}</span>`;$("#card_tag").html(E)};y(),$("#card_tag").html(y);const x=Rn(pl,"Users",d.data().userUID);(async()=>{const E=await Si(x);E.exists()?$("#card_tutor").text(E.data().displayName):console.log("No such document for Users with UID of",E.data().userUID)})();const C=Ti(Rg,e+"/thumbnail.jpg");ha(C).then(E=>{$("#card_img").attr("src",E)});const P=Rn(pl,"Users",t.state.user.uid);(async()=>{const E=await Si(P);E.exists()?(E.data().wishlist&&(E.data().wishlist.indexOf(e)>=0?$("#b_wishlist").text("- REMOVE FROM WISHLIST"):$("#b_wishlist").text("+ ADD TO WISHLIST")),E.data().enrolled&&(E.data().enrolled.indexOf(e)>=0?($("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),r(!0)):$("#b_enroll").text("ENROLL NOW"))):console.log("No such document for User with UID",t.state.user.uid)})()}else console.log("No such document for Course with link",e)})();const l=()=>{const d=Rn(pl,"Users",t.state.user.uid);(async()=>{$("#b_wishlist").text()==="+ ADD TO WISHLIST"?(await zl(d,{wishlist:Xw(e)}),$("#b_wishlist").text("- REMOVE FROM WISHLIST"),alert("Added to wishlist!")):(await zl(d,{wishlist:ZL(e)}),$("#b_wishlist").text("+ ADD TO WISHLIST"),alert("Removed from wishlist!"))})()},u=async(d,y,x)=>{if(!y&&!x){console.log("Wallet address of recipent or amount to transfer not found!");return}},c=()=>{if(t.state.role==="special needy / refugee / disabilities"){console.log("Enrolling");const d=Rn(pl,"Users",t.state.user.uid);(async()=>{await zl(d,{enrolled:Xw(e)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),r(!0)})(),alert("Enrolled with special discount #FreeHelpEdu")}else console.log(t.state.walletAddress),u(t.state.walletAddress,"NraaJwoeNHCu5Wu1iRm1cfvx7NLKgySnTv76dU5T7oH",.02)};return te.useEffect(()=>{if(n){const d=Ti(Rg,e+"/video.mp4");ha(d).then(x=>{$("#media_area").html($("#media_area").html()+`<h1>Video</h1><video width="100%" height="100%" controls><source src="${x}" type="video/mp4">Your browser does not support the video tag.</video>`)});const y=Ti(Rg,e+"/notes.pdf");ha(y).then(x=>{$("#media_area").html($("#media_area").html()+'<h1>Notes</h1><object data="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20210101201653/PDF.pdf" width="100%" height="800"></object>')})}},[n]),O.jsxs(O.Fragment,{children:[O.jsx("h1",{className:"mb-2",children:"Course"}),O.jsxs("p",{className:"mb-6 text-base text-neutral-500 dark:text-neutral-300",children:["ID: ",e]}),O.jsxs("div",{className:"flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 max-w-6xl md:flex-row",children:[O.jsx("img",{className:"w-1/2 rounded-t-lg object-cover md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course thumbnail",id:"card_img"}),O.jsxs("div",{className:"flex flex-col justify-start max-w-3xl p-6",children:[O.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:"card_title"}),O.jsxs("p",{className:"mb-4 text-sm text-warning-600 dark:text-warning-400",children:["* ",O.jsx("span",{id:"card_mode"})," included."]}),O.jsx("p",{className:"mb-2 text-base text-neutral-600 dark:text-neutral-200",id:"card_des"}),O.jsx("div",{className:"mb-4 gap-4",id:"card_tag"}),O.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-xs mb-4",children:[O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:O.jsx("b",{children:"Subject"})}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_sub"}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:O.jsx("b",{children:"Tutor"})}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_tutor"}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:O.jsx("b",{children:"Level"})}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_level"}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:O.jsx("b",{children:"Language"})}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_lang"}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:O.jsx("b",{children:"Price"})}),O.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[O.jsx("span",{id:"card_sol",children:"0.00"})," SOL / ",O.jsx("span",{id:"card_price",children:O.jsx(A2,{sol:$("#card_sol").text()})}),' USD"']}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:O.jsx("b",{children:"Enrollment"})}),O.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_enroll",children:"0"})]}),O.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-300 mb-4",children:["Uploaded on ",O.jsx("span",{id:"card_uploadTime"})]}),O.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[O.jsx("button",{type:"button",onClick:c,className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] disabled:opacity-70","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_enroll",children:"ENROLL NOW"}),O.jsx("button",{onClick:l,type:"button",className:"inline-block rounded bg-primary-100 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-primary-accent-100 focus:bg-primary-accent-100 focus:outline-none focus:ring-0 active:bg-primary-accent-200","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_wishlist",children:"+ ADD TO WISHLIST"})]})]})]}),O.jsx("br",{}),O.jsx("div",{id:"media_area"})]})},J9=t=>e=>{const n=Du();return O.jsx(t,{...e,navigate:n})},eV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},kR=Rs(eV),tV=Ao(kR),Cg=vd(kR);class nV extends te.Component{constructor(n){super(n);Xe(this,"select",n=>{$(".button_choice").attr("class","button_choice"),$(`#b_${n}`).attr("class","button_choice text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),this.setState({choice:n}),n==="both"?($("#div_video").css("display","inherit"),$("#div_notes").css("display","inherit")):($(".div_upload").css("display","none"),$(`#div_${n}`).css("display","inherit"))});Xe(this,"handleKeyPress",n=>{n.preventDefault(),n.key=="Enter"&&this.uploadConfirm()});Xe(this,"handleTagKeyPress",n=>{n.key=="Enter"&&(this.setState({tag:this.state.tag.add($("#t_tag").val())}),$("#t_tag").val(""))});Xe(this,"removeTag",n=>{this.state.tag.delete(n),this.setState({tag:this.state.tag})});Xe(this,"changeSOL",()=>{this.setState({sol:$("#t_sol").val()})});Xe(this,"uploadConfirm",async()=>{const{navigate:n}=this.props;if($("#t_title").val()!==""&&$("#t_des").val()!==""&&$("#c_level").val()!==""&&$("#t_sub").val()!==""&&$("#t_lang").val()!==""&&$("#t_sol").val()!=="")if($("#div_tag").html()!=="")if(this.state.choice)if(this.state.thumbnailUpload&&(this.state.choice==="video"&&this.state.videoUpload||this.state.choice==="notes"&&this.state.notesUpload||this.state.choice==="both"&&this.state.videoUpload&&this.state.notesUpload)){if(confirm(`Make sure all information are correct. You cannot edit any part anymore after material is uploaded.

Do not reload the page before uploading process is not done.`)){$("#main").css("opacity",.5),$("#main").css("pointerEvents","none"),$("#main").attr("disabled",!0);const r=await QL(f2(tV,"Course"),{title:$("#t_title").val(),des:$("#t_des").val().split(`
`),eduLvl:$("#c_level").val(),sub:$("#t_sub").val(),lang:$("#t_lang").val(),sol:parseFloat($("#t_sol").val()),tag:[...this.state.tag],userUID:this.state.user.uid,mode:this.state.choice,uploadTime:XL(),view:0});console.log("Document written with ID: ",r.id);let i=Ti(Cg,`${r.id}/thumbnail.jpg`);await dl(i,this.state.thumbnailUpload).then(()=>{console.log("Uploaded thumbnail file!")});let s=Ti(Cg,`${r.id}/video.mp4`),o=Ti(Cg,`${r.id}/notes.pdf`);switch(this.state.choice){case"video":await dl(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")});break;case"notes":await dl(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break;case"both":await dl(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")}),await dl(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break}$("#main").css("opacity",1),$("#main").css("pointerEvents","inherit"),$("#main").attr("disabled",!1),await alert("Upload success!"),n("/freeflow-edu/")}}else alert("Please upload required image / video / notes.");else alert("Please select either to upload video / notes / both.");else alert("Please add some tags! ");else alert("Please fill in all information required.")});this.state={user:n.state.user,credential:n.state.credential,choice:null,tag:new Set,thumbnailUpload:null,videoUpload:null,notesUpload:null,sol:1}}render(){console.log(this.state);const n=this.state.tag.size===0?[]:[...this.state.tag].map((r,i)=>O.jsxs("span",{id:"tag_"+r,children:[r,O.jsx("button",{onClick:()=>this.removeTag(r),children:"x"})]},r));return O.jsxs("section",{id:"main",children:[O.jsx("h1",{children:"Upload"}),O.jsxs("div",{className:"div_general",children:[O.jsxs("label",{children:[" Course Title:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_tile",id:"t_title",placeholder:"Trigonometry",required:!0})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Course Description:",O.jsx("textarea",{name:"t_des",id:"t_des",placeholder:"Write something here...",required:!0})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Level:",O.jsxs("select",{name:"",id:"c_level",required:!0,children:[O.jsx("option",{value:"",children:"-- Please select --"}),O.jsx("option",{value:"primary",children:"Primary School"}),O.jsx("option",{value:"secondary",children:"Secondary School"}),O.jsx("option",{value:"undergraduate",children:"Undergraduate"}),O.jsx("option",{value:"postgraduate",children:"Postgraduate"}),O.jsx("option",{value:"workplace",children:"Workplace"})]})]}),O.jsxs("label",{children:[" Subject:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_sub",id:"t_sub",placeholder:"Mathematics",required:!0})]}),O.jsxs("label",{children:[" Language:",O.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_lang",id:"t_lang",placeholder:"English",required:!0})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Sell for $:",O.jsx("input",{onKeyUp:this.handleKeyPress,onChange:this.changeSOL,type:"number",name:"t_sol",id:"t_sol",placeholder:"0.00",required:!0})," Solana",O.jsx("br",{}),this.state.sol," SOL = ",O.jsx(A2,{sol:this.state.sol})," USD"]}),O.jsx("br",{}),O.jsxs("label",{children:[" Tag:",O.jsx("input",{onKeyUp:this.handleTagKeyPress,type:"text",name:"t_tag",id:"t_tag",placeholder:"Write some keywords here..."})]}),O.jsx("div",{id:"div_tag",children:n}),O.jsx("br",{}),O.jsxs("label",{children:[" Author:",O.jsx("input",{type:"text",name:"t_author_uid",id:"t_author_uid",value:this.state.user.email,disabled:!0})]}),O.jsx("br",{}),O.jsxs("label",{children:[" Thumbnail:",O.jsx("input",{type:"file",onChange:r=>this.setState({thumbnailUpload:r.target.files[0]}),name:"vid",id:"f_thumbnail",accept:".jpg"})]})]}),O.jsx("br",{}),O.jsx("hr",{}),O.jsx("br",{}),O.jsxs("div",{children:[O.jsx("button",{className:"button_choice",id:"b_video",onClick:()=>this.select("video"),children:"Video"}),O.jsx("button",{className:"button_choice",id:"b_notes",onClick:()=>this.select("notes"),children:"Notes"}),O.jsx("button",{className:"button_choice",id:"b_both",onClick:()=>this.select("both"),children:"Both"})]}),O.jsxs("div",{id:"div_video",className:"div_upload",style:{display:"none"},children:[O.jsx("h1",{children:"Video"}),O.jsxs("label",{children:["Upload Video:",O.jsx("input",{type:"file",onChange:r=>this.setState({videoUpload:r.target.files[0]}),name:"vid",id:"f_video",accept:".mp4"})]}),O.jsx("br",{})]}),O.jsxs("div",{id:"div_notes",className:"div_upload",style:{display:"none"},children:[O.jsx("h1",{children:"Notes"}),O.jsxs("label",{children:["Upload Notes:",O.jsx("input",{type:"file",onChange:r=>this.setState({notesUpload:r.target.files[0]}),name:"vid",id:"f_notes",accept:".pdf"})]}),O.jsx("br",{})]}),O.jsx("br",{}),O.jsx("hr",{}),O.jsx("br",{}),O.jsx("button",{onClick:this.uploadConfirm,children:"Upload"})]})}}const rV=J9(nV);class VE extends te.Component{constructor(n){super(n);Xe(this,"auth",Xs());Xe(this,"logout",()=>{DM(this.auth).then(n=>{this.setState({user:null}),this.props.updateUserState(null)}).catch(n=>{console.log(n)}),localStorage.clear()});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return console.log(this.state),this.state?O.jsxs(O.Fragment,{children:[O.jsx("h3",{children:"Are you sure you want to sign out? "}),O.jsx("p",{children:"This action is undone and you will be required to login again."}),O.jsx("button",{onClick:this.logout,children:"Sign out"}),O.jsx("br",{}),O.jsx(ao,{to:"/freeflow-edu/",children:"Back Home"})]}):O.jsx(Ll,{to:"/freeflow-edu/"})}}const $E=({setUser:t})=>O.jsxs(O.Fragment,{children:[O.jsx("h1",{children:"404: Page Not Found"}),O.jsx("p",{children:"The specified file was not found on this website. Please check the URL for mistakes and try again."}),O.jsx(ao,{to:"/freeflow-edu/",children:"Back Home"})]});const iV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},sV=Rs(iV),kg=Ao(sV);class oV extends te.Component{constructor(n){super(n);Xe(this,"auth",Xs());Xe(this,"updateUserState",n=>{this.setState({user:n})});Xe(this,"updateRoleState",n=>{this.setState({role:n}),console.log(this.state)});Xe(this,"checkIfWalletIsConnected",async()=>{var n;if((n=window==null?void 0:window.solana)!=null&&n.isPhantom){console.log("Phantom wallet found!");const r=await window.solana.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString()});const i=Rn(kg,"Users",this.state.user.uid);return await zl(i,{walletAddress:r.publicKey.toString()}).then(()=>{}),!0}else return console.log("Solana object not found! Get a Phantom Wallet "),!1});Xe(this,"connectWallet",async()=>{const{solana:n}=window;if(n){const r=await n.connect().catch(()=>{alert("Fail to connect Wallet. Have you login to your Phantom wallet?")});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString()});const i=Rn(kg,"Users",this.state.user.uid);await zl(i,{walletAddress:r.publicKey.toString()}).then(()=>{})}else alert("You do not have a Phantom wallet. Please install it from your web browser extension store.")});Xe(this,"disconnectWallet",async()=>{solana&&(await solana.disconnect(),console.log("Disconnected with Public Key:",this.state.walletAddress),alert("Wallet address"+this.state.walletAddress+" is disconnected from your FreeFlow Edu account now."),this.setState({walletAddress:null}),Rn(kg,"Users",this.state.user.uid))});Xe(this,"renderNotConnectedContainer",()=>O.jsxs("button",{className:"cta-button connect-wallet-button",onClick:this.state.walletAddress?this.disconnectWallet:this.connectWallet,children:[O.jsx("img",{src:"https://3632261023-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MVOiF6Zqit57q_hxJYp%2Ficon%2FU7kNZ4ygz4QW1rUwOuTT%2FWhite%20Ghost_docs_nu.svg?alt=media&token=447b91f6-db6d-4791-902d-35d75c19c3d1",alt:"Phantom",width:"64px"}),this.state.walletAddress?"Disconnect from Wallet "+this.state.walletAddress:"Connect to Wallet"]}));this.state={user:JSON.parse(localStorage.getItem("user")),walletAddress:null,role:null}}componentDidMount(){this.state.user!==null&&JSON.parse(localStorage.getItem("user"))&&this.setState({user:JSON.parse(localStorage.getItem("user"))}),this.checkIfWalletIsConnected()}render(){return console.log(this.state),this.state.user||JSON.parse(localStorage.getItem("user"))?O.jsx(P_,{children:O.jsx(C_,{children:O.jsxs(On,{exact:!0,path:"/freeflow-edu/",element:O.jsx(rU,{state:this.state,renderNotConnectedContainer:this.renderNotConnectedContainer,updateRoleState:this.updateRoleState}),children:[O.jsx(On,{index:!0,active:!0,element:O.jsx(TB,{state:this.state})}),O.jsx(On,{path:"profile/:id",element:O.jsx(bB,{state:this.state})}),O.jsx(On,{path:"sign-out",element:O.jsx(VE,{state:this.state,updateUserState:this.updateUserState})}),O.jsx(On,{path:"register",element:O.jsx(Zw,{state:this.state,updateUserState:this.updateUserState})}),O.jsx(On,{path:"course/:url",element:O.jsx(Z9,{state:this.state})}),O.jsx(On,{path:"upload",element:O.jsx(rV,{state:this.state})}),O.jsx(On,{path:"first-time-user",element:O.jsx(fU,{state:this.state})}),O.jsx(On,{path:"*",element:O.jsx($E,{})})]})})}):(console.log("Session has expired. Login again."),O.jsx(P_,{children:O.jsx(C_,{children:O.jsxs(On,{exact:!0,path:"/freeflow-edu/",element:O.jsx(JL,{}),children:[O.jsx(On,{index:!0,active:!0,element:O.jsx(sU,{state:this.state,updateUserState:this.updateUserState})}),O.jsx(On,{path:"register",element:O.jsx(Zw,{state:this.state,updateUserState:this.updateUserState})}),O.jsx(On,{path:"sign-out",element:O.jsx(VE,{})}),O.jsx(On,{path:"*",element:O.jsx($E,{})})]})})}))}}Pg.createRoot(document.getElementById("root")).render(O.jsx(XE.StrictMode,{children:O.jsx(oV,{})}));
