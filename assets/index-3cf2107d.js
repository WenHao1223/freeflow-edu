var $R=Object.defineProperty;var jR=(t,e,n)=>e in t?$R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xe=(t,e,n)=>(jR(t,typeof e!="symbol"?e+"":e,n),n);function zR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function S0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var XE={exports:{}},wf={},ZE={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),HR=Symbol.for("react.portal"),qR=Symbol.for("react.fragment"),GR=Symbol.for("react.strict_mode"),WR=Symbol.for("react.profiler"),KR=Symbol.for("react.provider"),QR=Symbol.for("react.context"),YR=Symbol.for("react.forward_ref"),XR=Symbol.for("react.suspense"),ZR=Symbol.for("react.memo"),JR=Symbol.for("react.lazy"),I1=Symbol.iterator;function eC(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var JE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ex=Object.assign,tx={};function Fa(t,e,n){this.props=t,this.context=e,this.refs=tx,this.updater=n||JE}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nx(){}nx.prototype=Fa.prototype;function T0(t,e,n){this.props=t,this.context=e,this.refs=tx,this.updater=n||JE}var A0=T0.prototype=new nx;A0.constructor=T0;ex(A0,Fa.prototype);A0.isPureReactComponent=!0;var S1=Array.isArray,rx=Object.prototype.hasOwnProperty,b0={current:null},ix={key:!0,ref:!0,__self:!0,__source:!0};function sx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rx.call(e,r)&&!ix.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mu,type:t,key:s,ref:o,props:i,_owner:b0.current}}function tC(t,e){return{$$typeof:Mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function R0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mu}function nC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var T1=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nC(""+t.key):e.toString(36)}function qc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mu:case HR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ep(o,0):r,S1(i)?(n="",t!=null&&(n=t.replace(T1,"$&/")+"/"),qc(i,e,n,"",function(u){return u})):i!=null&&(R0(i)&&(i=tC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(T1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",S1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ep(s,a);o+=qc(s,e,n,l,i)}else if(l=eC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ep(s,a++),o+=qc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cc(t,e,n){if(t==null)return t;var r=[],i=0;return qc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zn={current:null},Gc={transition:null},iC={ReactCurrentDispatcher:zn,ReactCurrentBatchConfig:Gc,ReactCurrentOwner:b0};Me.Children={map:cc,forEach:function(t,e,n){cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cc(t,function(){e++}),e},toArray:function(t){return cc(t,function(e){return e})||[]},only:function(t){if(!R0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Fa;Me.Fragment=qR;Me.Profiler=WR;Me.PureComponent=T0;Me.StrictMode=GR;Me.Suspense=XR;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iC;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ex({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=b0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rx.call(e,l)&&!ix.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mu,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:QR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KR,_context:t},t.Consumer=t};Me.createElement=sx;Me.createFactory=function(t){var e=sx.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:YR,render:t}};Me.isValidElement=R0;Me.lazy=function(t){return{$$typeof:JR,_payload:{_status:-1,_result:t},_init:rC}};Me.memo=function(t,e){return{$$typeof:ZR,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Gc.transition;Gc.transition={};try{t()}finally{Gc.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return zn.current.useCallback(t,e)};Me.useContext=function(t){return zn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return zn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return zn.current.useEffect(t,e)};Me.useId=function(){return zn.current.useId()};Me.useImperativeHandle=function(t,e,n){return zn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return zn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return zn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return zn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return zn.current.useReducer(t,e,n)};Me.useRef=function(t){return zn.current.useRef(t)};Me.useState=function(t){return zn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return zn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return zn.current.useTransition()};Me.version="18.2.0";ZE.exports=Me;var X=ZE.exports;const ox=I0(X),sC=zR({__proto__:null,default:ox},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC=X,aC=Symbol.for("react.element"),lC=Symbol.for("react.fragment"),uC=Object.prototype.hasOwnProperty,cC=oC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hC={key:!0,ref:!0,__self:!0,__source:!0};function ax(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uC.call(e,r)&&!hC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aC,type:t,key:s,ref:o,props:i,_owner:cC.current}}wf.Fragment=lC;wf.jsx=ax;wf.jsxs=ax;XE.exports=wf;var M=XE.exports,Og={},lx={exports:{}},cr={},ux={exports:{}},cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,E){var R=S.length;S.push(E);e:for(;0<R;){var _=R-1>>>1,f=S[_];if(0<i(f,E))S[_]=E,S[R]=f,R=_;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var E=S[0],R=S.pop();if(R!==E){S[0]=R;e:for(var _=0,f=S.length,k=f>>>1;_<k;){var G=2*(_+1)-1,Q=S[G],Y=G+1,oe=S[Y];if(0>i(Q,R))Y<f&&0>i(oe,Q)?(S[_]=oe,S[Y]=R,_=Y):(S[_]=Q,S[G]=R,_=G);else if(Y<f&&0>i(oe,R))S[_]=oe,S[Y]=R,_=Y;else break e}}return E}function i(S,E){var R=S.sortIndex-E.sortIndex;return R!==0?R:S.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,p=null,v=3,I=!1,C=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(S){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=S)r(u),E.sortIndex=E.expirationTime,e(l,E);else break;E=n(u)}}function L(S){if(b=!1,y(S),!C)if(n(l)!==null)C=!0,A(N);else{var E=n(u);E!==null&&D(L,E.startTime-S)}}function N(S,E){C=!1,b&&(b=!1,w(V),V=-1),I=!0;var R=v;try{for(y(E),p=n(l);p!==null&&(!(p.expirationTime>E)||S&&!re());){var _=p.callback;if(typeof _=="function"){p.callback=null,v=p.priorityLevel;var f=_(p.expirationTime<=E);E=t.unstable_now(),typeof f=="function"?p.callback=f:p===n(l)&&r(l),y(E)}else r(l);p=n(l)}if(p!==null)var k=!0;else{var G=n(u);G!==null&&D(L,G.startTime-E),k=!1}return k}finally{p=null,v=R,I=!1}}var U=!1,F=null,V=-1,Z=5,J=-1;function re(){return!(t.unstable_now()-J<Z)}function ye(){if(F!==null){var S=t.unstable_now();J=S;var E=!0;try{E=F(!0,S)}finally{E?B():(U=!1,F=null)}}else U=!1}var B;if(typeof x=="function")B=function(){x(ye)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,m=h.port2;h.port1.onmessage=ye,B=function(){m.postMessage(null)}}else B=function(){P(ye,0)};function A(S){F=S,U||(U=!0,B())}function D(S,E){V=P(function(){S(t.unstable_now())},E)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){C||I||(C=!0,A(N))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(v){case 1:case 2:case 3:var E=3;break;default:E=v}var R=v;v=E;try{return S()}finally{v=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,E){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=v;v=S;try{return E()}finally{v=R}},t.unstable_scheduleCallback=function(S,E,R){var _=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?_+R:_):R=_,S){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=R+f,S={id:c++,callback:E,priorityLevel:S,startTime:R,expirationTime:f,sortIndex:-1},R>_?(S.sortIndex=R,e(u,S),n(l)===null&&S===n(u)&&(b?(w(V),V=-1):b=!0,D(L,R-_))):(S.sortIndex=f,e(l,S),C||I||(C=!0,A(N))),S},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(S){var E=v;return function(){var R=v;v=E;try{return S.apply(this,arguments)}finally{v=R}}}})(cx);ux.exports=cx;var fC=ux.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=X,lr=fC;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fx=new Set,Yl={};function _o(t,e){ma(t,e),ma(t+"Capture",e)}function ma(t,e){for(Yl[t]=e,t=0;t<e.length;t++)fx.add(e[t])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=Object.prototype.hasOwnProperty,dC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A1={},b1={};function pC(t){return Lg.call(b1,t)?!0:Lg.call(A1,t)?!1:dC.test(t)?b1[t]=!0:(A1[t]=!0,!1)}function gC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mC(t,e,n,r){if(e===null||typeof e>"u"||gC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yn[t]=new Hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yn[e]=new Hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yn[t]=new Hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yn[t]=new Hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yn[t]=new Hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yn[t]=new Hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yn[t]=new Hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yn[t]=new Hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yn[t]=new Hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function k0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C0,k0);yn[e]=new Hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C0,k0);yn[e]=new Hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C0,k0);yn[e]=new Hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!1,!1)});yn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yn[t]=new Hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function P0(t,e,n,r){var i=yn.hasOwnProperty(e)?yn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mC(e,n,i,r)&&(n=null),r||i===null?pC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ui=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),$o=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),dx=Symbol.for("react.provider"),px=Symbol.for("react.context"),M0=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),Fg=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),gx=Symbol.for("react.offscreen"),R1=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=R1&&t[R1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,tp;function wl(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wl(t):""}function yC(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function Vg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case $o:return"Portal";case Ug:return"Profiler";case N0:return"StrictMode";case Bg:return"Suspense";case Fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case px:return(t.displayName||"Context")+".Consumer";case dx:return(t._context.displayName||"Context")+".Provider";case M0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D0:return e=t.displayName||null,e!==null?e:Vg(t.type)||"Memo";case Gi:e=t._payload,t=t._init;try{return Vg(t(e))}catch{}}return null}function vC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vg(e);case 8:return e===N0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _C(t){var e=mx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fc(t){t._valueTracker||(t._valueTracker=_C(t))}function yx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $g(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function C1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_s(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vx(t,e){e=e.checked,e!=null&&P0(t,"checked",e,!1)}function jg(t,e){vx(t,e);var n=_s(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zg(t,e.type,n):e.hasOwnProperty("defaultValue")&&zg(t,e.type,_s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function k1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zg(t,e,n){(e!=="number"||dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var El=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_s(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(El(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_s(n)}}function _x(t,e){var n=_s(e.value),r=_s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dc,Ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dc=dc||document.createElement("div"),dc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wC=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){wC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function xx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function Ix(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EC=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gg(t,e){if(e){if(EC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kg=null;function O0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qg=null,ra=null,ia=null;function M1(t){if(t=Lu(t)){if(typeof Qg!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Tf(e),Qg(t.stateNode,t.type,e))}}function Sx(t){ra?ia?ia.push(t):ia=[t]:ra=t}function Tx(){if(ra){var t=ra,e=ia;if(ia=ra=null,M1(t),e)for(t=0;t<e.length;t++)M1(e[t])}}function Ax(t,e){return t(e)}function bx(){}var ip=!1;function Rx(t,e,n){if(ip)return t(e,n);ip=!0;try{return Ax(t,e,n)}finally{ip=!1,(ra!==null||ia!==null)&&(bx(),Tx())}}function Zl(t,e){var n=t.stateNode;if(n===null)return null;var r=Tf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Yg=!1;if(Ri)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Yg=!1}function xC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ml=!1,ph=null,gh=!1,Xg=null,IC={onError:function(t){Ml=!0,ph=t}};function SC(t,e,n,r,i,s,o,a,l){Ml=!1,ph=null,xC.apply(IC,arguments)}function TC(t,e,n,r,i,s,o,a,l){if(SC.apply(this,arguments),Ml){if(Ml){var u=ph;Ml=!1,ph=null}else throw Error(ne(198));gh||(gh=!0,Xg=u)}}function wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D1(t){if(wo(t)!==t)throw Error(ne(188))}function AC(t){var e=t.alternate;if(!e){if(e=wo(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return D1(i),t;if(s===r)return D1(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function kx(t){return t=AC(t),t!==null?Px(t):null}function Px(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Px(t);if(e!==null)return e;t=t.sibling}return null}var Nx=lr.unstable_scheduleCallback,O1=lr.unstable_cancelCallback,bC=lr.unstable_shouldYield,RC=lr.unstable_requestPaint,Tt=lr.unstable_now,CC=lr.unstable_getCurrentPriorityLevel,L0=lr.unstable_ImmediatePriority,Mx=lr.unstable_UserBlockingPriority,mh=lr.unstable_NormalPriority,kC=lr.unstable_LowPriority,Dx=lr.unstable_IdlePriority,Ef=null,Zr=null;function PC(t){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Ef,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:DC,NC=Math.log,MC=Math.LN2;function DC(t){return t>>>=0,t===0?32:31-(NC(t)/MC|0)|0}var pc=64,gc=4194304;function xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=xl(a):(s&=o,s!==0&&(r=xl(s)))}else o=n&~i,o!==0?r=xl(o):s!==0&&(r=xl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function OC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Nr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=OC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Zg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ox(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function UC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function U0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function Lx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ux,B0,Bx,Fx,Vx,Jg=!1,mc=[],os=null,as=null,ls=null,Jl=new Map,eu=new Map,Ki=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L1(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function al(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lu(e),e!==null&&B0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FC(t,e,n,r,i){switch(e){case"focusin":return os=al(os,t,e,n,r,i),!0;case"dragenter":return as=al(as,t,e,n,r,i),!0;case"mouseover":return ls=al(ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,al(Jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,eu.set(s,al(eu.get(s)||null,t,e,n,r,i)),!0}return!1}function $x(t){var e=Fs(t.target);if(e!==null){var n=wo(e);if(n!==null){if(e=n.tag,e===13){if(e=Cx(n),e!==null){t.blockedOn=e,Vx(t.priority,function(){Bx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kg=r,n.target.dispatchEvent(r),Kg=null}else return e=Lu(n),e!==null&&B0(e),t.blockedOn=n,!1;e.shift()}return!0}function U1(t,e,n){Wc(t)&&n.delete(e)}function VC(){Jg=!1,os!==null&&Wc(os)&&(os=null),as!==null&&Wc(as)&&(as=null),ls!==null&&Wc(ls)&&(ls=null),Jl.forEach(U1),eu.forEach(U1)}function ll(t,e){t.blockedOn===e&&(t.blockedOn=null,Jg||(Jg=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,VC)))}function tu(t){function e(i){return ll(i,t)}if(0<mc.length){ll(mc[0],t);for(var n=1;n<mc.length;n++){var r=mc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&ll(os,t),as!==null&&ll(as,t),ls!==null&&ll(ls,t),Jl.forEach(e),eu.forEach(e),n=0;n<Ki.length;n++)r=Ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)$x(n),n.blockedOn===null&&Ki.shift()}var sa=Ui.ReactCurrentBatchConfig,vh=!0;function $C(t,e,n,r){var i=He,s=sa.transition;sa.transition=null;try{He=1,F0(t,e,n,r)}finally{He=i,sa.transition=s}}function jC(t,e,n,r){var i=He,s=sa.transition;sa.transition=null;try{He=4,F0(t,e,n,r)}finally{He=i,sa.transition=s}}function F0(t,e,n,r){if(vh){var i=em(t,e,n,r);if(i===null)gp(t,e,r,_h,n),L1(t,r);else if(FC(i,t,e,n,r))r.stopPropagation();else if(L1(t,r),e&4&&-1<BC.indexOf(t)){for(;i!==null;){var s=Lu(i);if(s!==null&&Ux(s),s=em(t,e,n,r),s===null&&gp(t,e,r,_h,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gp(t,e,r,null,n)}}var _h=null;function em(t,e,n,r){if(_h=null,t=O0(r),t=Fs(t),t!==null)if(e=wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Cx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _h=t,null}function jx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CC()){case L0:return 1;case Mx:return 4;case mh:case kC:return 16;case Dx:return 536870912;default:return 16}default:return 16}}var es=null,V0=null,Kc=null;function zx(){if(Kc)return Kc;var t,e=V0,n=e.length,r,i="value"in es?es.value:es.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function B1(){return!1}function hr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yc:B1,this.isPropagationStopped=B1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=hr(Va),Ou=yt({},Va,{view:0,detail:0}),zC=hr(Ou),op,ap,ul,xf=yt({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ul&&(ul&&t.type==="mousemove"?(op=t.screenX-ul.screenX,ap=t.screenY-ul.screenY):ap=op=0,ul=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),F1=hr(xf),HC=yt({},xf,{dataTransfer:0}),qC=hr(HC),GC=yt({},Ou,{relatedTarget:0}),lp=hr(GC),WC=yt({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),KC=hr(WC),QC=yt({},Va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YC=hr(QC),XC=yt({},Va,{data:0}),V1=hr(XC),ZC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ek[t])?!!e[t]:!1}function j0(){return tk}var nk=yt({},Ou,{key:function(t){if(t.key){var e=ZC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j0,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rk=hr(nk),ik=yt({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$1=hr(ik),sk=yt({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j0}),ok=hr(sk),ak=yt({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),lk=hr(ak),uk=yt({},xf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ck=hr(uk),hk=[9,13,27,32],z0=Ri&&"CompositionEvent"in window,Dl=null;Ri&&"documentMode"in document&&(Dl=document.documentMode);var fk=Ri&&"TextEvent"in window&&!Dl,Hx=Ri&&(!z0||Dl&&8<Dl&&11>=Dl),j1=String.fromCharCode(32),z1=!1;function qx(t,e){switch(t){case"keyup":return hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function dk(t,e){switch(t){case"compositionend":return Gx(e);case"keypress":return e.which!==32?null:(z1=!0,j1);case"textInput":return t=e.data,t===j1&&z1?null:t;default:return null}}function pk(t,e){if(zo)return t==="compositionend"||!z0&&qx(t,e)?(t=zx(),Kc=V0=es=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hx&&e.locale!=="ko"?null:e.data;default:return null}}var gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gk[t.type]:e==="textarea"}function Wx(t,e,n,r){Sx(r),e=wh(e,"onChange"),0<e.length&&(n=new $0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ol=null,nu=null;function mk(t){iI(t,0)}function If(t){var e=Go(t);if(yx(e))return t}function yk(t,e){if(t==="change")return e}var Kx=!1;if(Ri){var up;if(Ri){var cp="oninput"in document;if(!cp){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),cp=typeof q1.oninput=="function"}up=cp}else up=!1;Kx=up&&(!document.documentMode||9<document.documentMode)}function G1(){Ol&&(Ol.detachEvent("onpropertychange",Qx),nu=Ol=null)}function Qx(t){if(t.propertyName==="value"&&If(nu)){var e=[];Wx(e,nu,t,O0(t)),Rx(mk,e)}}function vk(t,e,n){t==="focusin"?(G1(),Ol=e,nu=n,Ol.attachEvent("onpropertychange",Qx)):t==="focusout"&&G1()}function _k(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return If(nu)}function wk(t,e){if(t==="click")return If(e)}function Ek(t,e){if(t==="input"||t==="change")return If(e)}function xk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:xk;function ru(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lg.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function W1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function K1(t,e){var n=W1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W1(n)}}function Yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xx(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function H0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ik(t){var e=Xx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yx(n.ownerDocument.documentElement,n)){if(r!==null&&H0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=K1(n,s);var o=K1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sk=Ri&&"documentMode"in document&&11>=document.documentMode,Ho=null,tm=null,Ll=null,nm=!1;function Q1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||Ho==null||Ho!==dh(r)||(r=Ho,"selectionStart"in r&&H0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&ru(Ll,r)||(Ll=r,r=wh(tm,"onSelect"),0<r.length&&(e=new $0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},hp={},Zx={};Ri&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Sf(t){if(hp[t])return hp[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zx)return hp[t]=e[n];return t}var Jx=Sf("animationend"),eI=Sf("animationiteration"),tI=Sf("animationstart"),nI=Sf("transitionend"),rI=new Map,Y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){rI.set(t,e),_o(e,[t])}for(var fp=0;fp<Y1.length;fp++){var dp=Y1[fp],Tk=dp.toLowerCase(),Ak=dp[0].toUpperCase()+dp.slice(1);Ts(Tk,"on"+Ak)}Ts(Jx,"onAnimationEnd");Ts(eI,"onAnimationIteration");Ts(tI,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(nI,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function X1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TC(r,e,void 0,t),t.currentTarget=null}function iI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;X1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;X1(i,a,u),s=l}}}if(gh)throw t=Xg,gh=!1,Xg=null,t}function rt(t,e){var n=e[am];n===void 0&&(n=e[am]=new Set);var r=t+"__bubble";n.has(r)||(sI(e,t,2,!1),n.add(r))}function pp(t,e,n){var r=0;e&&(r|=4),sI(n,t,r,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function iu(t){if(!t[_c]){t[_c]=!0,fx.forEach(function(n){n!=="selectionchange"&&(bk.has(n)||pp(n,!1,t),pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_c]||(e[_c]=!0,pp("selectionchange",!1,e))}}function sI(t,e,n,r){switch(jx(e)){case 1:var i=$C;break;case 4:i=jC;break;default:i=F0}n=i.bind(null,e,n,t),i=void 0,!Yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rx(function(){var u=s,c=O0(n),p=[];e:{var v=rI.get(t);if(v!==void 0){var I=$0,C=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":I=rk;break;case"focusin":C="focus",I=lp;break;case"focusout":C="blur",I=lp;break;case"beforeblur":case"afterblur":I=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=F1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=qC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=ok;break;case Jx:case eI:case tI:I=KC;break;case nI:I=lk;break;case"scroll":I=zC;break;case"wheel":I=ck;break;case"copy":case"cut":case"paste":I=YC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=$1}var b=(e&4)!==0,P=!b&&t==="scroll",w=b?v!==null?v+"Capture":null:v;b=[];for(var x=u,y;x!==null;){y=x;var L=y.stateNode;if(y.tag===5&&L!==null&&(y=L,w!==null&&(L=Zl(x,w),L!=null&&b.push(su(x,L,y)))),P)break;x=x.return}0<b.length&&(v=new I(v,C,null,n,c),p.push({event:v,listeners:b}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",v&&n!==Kg&&(C=n.relatedTarget||n.fromElement)&&(Fs(C)||C[Ci]))break e;if((I||v)&&(v=c.window===c?c:(v=c.ownerDocument)?v.defaultView||v.parentWindow:window,I?(C=n.relatedTarget||n.toElement,I=u,C=C?Fs(C):null,C!==null&&(P=wo(C),C!==P||C.tag!==5&&C.tag!==6)&&(C=null)):(I=null,C=u),I!==C)){if(b=F1,L="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=$1,L="onPointerLeave",w="onPointerEnter",x="pointer"),P=I==null?v:Go(I),y=C==null?v:Go(C),v=new b(L,x+"leave",I,n,c),v.target=P,v.relatedTarget=y,L=null,Fs(c)===u&&(b=new b(w,x+"enter",C,n,c),b.target=y,b.relatedTarget=P,L=b),P=L,I&&C)t:{for(b=I,w=C,x=0,y=b;y;y=Do(y))x++;for(y=0,L=w;L;L=Do(L))y++;for(;0<x-y;)b=Do(b),x--;for(;0<y-x;)w=Do(w),y--;for(;x--;){if(b===w||w!==null&&b===w.alternate)break t;b=Do(b),w=Do(w)}b=null}else b=null;I!==null&&Z1(p,v,I,b,!1),C!==null&&P!==null&&Z1(p,P,C,b,!0)}}e:{if(v=u?Go(u):window,I=v.nodeName&&v.nodeName.toLowerCase(),I==="select"||I==="input"&&v.type==="file")var N=yk;else if(H1(v))if(Kx)N=Ek;else{N=_k;var U=vk}else(I=v.nodeName)&&I.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=wk);if(N&&(N=N(t,u))){Wx(p,N,n,c);break e}U&&U(t,v,u),t==="focusout"&&(U=v._wrapperState)&&U.controlled&&v.type==="number"&&zg(v,"number",v.value)}switch(U=u?Go(u):window,t){case"focusin":(H1(U)||U.contentEditable==="true")&&(Ho=U,tm=u,Ll=null);break;case"focusout":Ll=tm=Ho=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,Q1(p,n,c);break;case"selectionchange":if(Sk)break;case"keydown":case"keyup":Q1(p,n,c)}var F;if(z0)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else zo?qx(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Hx&&n.locale!=="ko"&&(zo||V!=="onCompositionStart"?V==="onCompositionEnd"&&zo&&(F=zx()):(es=c,V0="value"in es?es.value:es.textContent,zo=!0)),U=wh(u,V),0<U.length&&(V=new V1(V,t,null,n,c),p.push({event:V,listeners:U}),F?V.data=F:(F=Gx(n),F!==null&&(V.data=F)))),(F=fk?dk(t,n):pk(t,n))&&(u=wh(u,"onBeforeInput"),0<u.length&&(c=new V1("onBeforeInput","beforeinput",null,n,c),p.push({event:c,listeners:u}),c.data=F))}iI(p,e)})}function su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zl(t,n),s!=null&&r.unshift(su(t,s,i)),s=Zl(t,e),s!=null&&r.push(su(t,s,i))),t=t.return}return r}function Do(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Zl(n,s),l!=null&&o.unshift(su(n,l,a))):i||(l=Zl(n,s),l!=null&&o.push(su(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rk=/\r\n?/g,Ck=/\u0000|\uFFFD/g;function J1(t){return(typeof t=="string"?t:""+t).replace(Rk,`
`).replace(Ck,"")}function wc(t,e,n){if(e=J1(e),J1(t)!==e&&n)throw Error(ne(425))}function Eh(){}var rm=null,im=null;function sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,kk=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,Pk=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch(Nk)}:om;function Nk(t){setTimeout(function(){throw t})}function mp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tu(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $a=Math.random().toString(36).slice(2),qr="__reactFiber$"+$a,ou="__reactProps$"+$a,Ci="__reactContainer$"+$a,am="__reactEvents$"+$a,Mk="__reactListeners$"+$a,Dk="__reactHandles$"+$a;function Fs(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t_(t);t!==null;){if(n=t[qr])return n;t=t_(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){return t=t[qr]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Tf(t){return t[ou]||null}var lm=[],Wo=-1;function As(t){return{current:t}}function ot(t){0>Wo||(t.current=lm[Wo],lm[Wo]=null,Wo--)}function Ze(t,e){Wo++,lm[Wo]=t.current,t.current=e}var ws={},Pn=As(ws),Xn=As(!1),ro=ws;function ya(t,e){var n=t.type.contextTypes;if(!n)return ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function xh(){ot(Xn),ot(Pn)}function n_(t,e,n){if(Pn.current!==ws)throw Error(ne(168));Ze(Pn,e),Ze(Xn,n)}function oI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,vC(t)||"Unknown",i));return yt({},n,r)}function Ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,ro=Pn.current,Ze(Pn,t),Ze(Xn,Xn.current),!0}function r_(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=oI(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,ot(Xn),ot(Pn),Ze(Pn,t)):ot(Xn),Ze(Xn,n)}var mi=null,Af=!1,yp=!1;function aI(t){mi===null?mi=[t]:mi.push(t)}function Ok(t){Af=!0,aI(t)}function bs(){if(!yp&&mi!==null){yp=!0;var t=0,e=He;try{var n=mi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mi=null,Af=!1}catch(i){throw mi!==null&&(mi=mi.slice(t+1)),Nx(L0,bs),i}finally{He=e,yp=!1}}return null}var Ko=[],Qo=0,Sh=null,Th=0,mr=[],yr=0,io=null,_i=1,wi="";function Ms(t,e){Ko[Qo++]=Th,Ko[Qo++]=Sh,Sh=t,Th=e}function lI(t,e,n){mr[yr++]=_i,mr[yr++]=wi,mr[yr++]=io,io=t;var r=_i;t=wi;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var s=32-Nr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_i=1<<32-Nr(e)+i|n<<i|r,wi=s+t}else _i=1<<s|n<<i|r,wi=t}function q0(t){t.return!==null&&(Ms(t,1),lI(t,1,0))}function G0(t){for(;t===Sh;)Sh=Ko[--Qo],Ko[Qo]=null,Th=Ko[--Qo],Ko[Qo]=null;for(;t===io;)io=mr[--yr],mr[yr]=null,wi=mr[--yr],mr[yr]=null,_i=mr[--yr],mr[yr]=null}var ar=null,ir=null,ct=!1,Pr=null;function uI(t,e){var n=wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,ir=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,ir=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:_i,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ar=t,ir=null,!0):!1;default:return!1}}function um(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cm(t){if(ct){var e=ir;if(e){var n=e;if(!i_(t,e)){if(um(t))throw Error(ne(418));e=us(n.nextSibling);var r=ar;e&&i_(t,e)?uI(r,n):(t.flags=t.flags&-4097|2,ct=!1,ar=t)}}else{if(um(t))throw Error(ne(418));t.flags=t.flags&-4097|2,ct=!1,ar=t}}}function s_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function Ec(t){if(t!==ar)return!1;if(!ct)return s_(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sm(t.type,t.memoizedProps)),e&&(e=ir)){if(um(t))throw cI(),Error(ne(418));for(;e;)uI(t,e),e=us(e.nextSibling)}if(s_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ir=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ir=null}}else ir=ar?us(t.stateNode.nextSibling):null;return!0}function cI(){for(var t=ir;t;)t=us(t.nextSibling)}function va(){ir=ar=null,ct=!1}function W0(t){Pr===null?Pr=[t]:Pr.push(t)}var Lk=Ui.ReactCurrentBatchConfig;function Cr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ah=As(null),bh=null,Yo=null,K0=null;function Q0(){K0=Yo=bh=null}function Y0(t){var e=Ah.current;ot(Ah),t._currentValue=e}function hm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oa(t,e){bh=t,K0=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(K0!==t)if(t={context:t,memoizedValue:e,next:null},Yo===null){if(bh===null)throw Error(ne(308));Yo=t,bh.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return e}var Vs=null;function X0(t){Vs===null?Vs=[t]:Vs.push(t)}function hI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,X0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wi=!1;function Z0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,X0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,U0(t,n)}}function o_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rh(t,e,n,r){var i=t.updateQueue;Wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,c=u=l=null,a=s;do{var v=a.lane,I=a.eventTime;if((r&v)===v){c!==null&&(c=c.next={eventTime:I,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,b=a;switch(v=e,I=n,b.tag){case 1:if(C=b.payload,typeof C=="function"){p=C.call(I,p,v);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=b.payload,v=typeof C=="function"?C.call(I,p,v):C,v==null)break e;p=yt({},p,v);break e;case 2:Wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else I={eventTime:I,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=I,l=p):c=c.next=I,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(c===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=p}}function a_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var dI=new hx.Component().refs;function fm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bf={isMounted:function(t){return(t=t._reactInternals)?wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=fs(t),s=Si(r,i);s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(Mr(e,t,i,r),Yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),i=fs(t),s=Si(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=cs(t,s,i),e!==null&&(Mr(e,t,i,r),Yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=fs(t),i=Si(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(Mr(e,t,r,n),Yc(e,t,r))}};function l_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ru(n,r)||!ru(i,s):!0}function pI(t,e,n){var r=!1,i=ws,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(i=Zn(e)?ro:Pn.current,r=e.contextTypes,s=(r=r!=null)?ya(t,i):ws),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function u_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bf.enqueueReplaceState(e,e.state,null)}function dm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=dI,Z0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ir(s):(s=Zn(e)?ro:Pn.current,i.context=ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bf.enqueueReplaceState(i,i.state,null),Rh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===dI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function xc(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c_(t){var e=t._init;return e(t._payload)}function gI(t){function e(w,x){if(t){var y=w.deletions;y===null?(w.deletions=[x],w.flags|=16):y.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=ds(w,x),w.index=0,w.sibling=null,w}function s(w,x,y){return w.index=y,t?(y=w.alternate,y!==null?(y=y.index,y<x?(w.flags|=2,x):y):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,y,L){return x===null||x.tag!==6?(x=Sp(y,w.mode,L),x.return=w,x):(x=i(x,y),x.return=w,x)}function l(w,x,y,L){var N=y.type;return N===jo?c(w,x,y.props.children,L,y.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gi&&c_(N)===x.type)?(L=i(x,y.props),L.ref=cl(w,x,y),L.return=w,L):(L=nh(y.type,y.key,y.props,null,w.mode,L),L.ref=cl(w,x,y),L.return=w,L)}function u(w,x,y,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Tp(y,w.mode,L),x.return=w,x):(x=i(x,y.children||[]),x.return=w,x)}function c(w,x,y,L,N){return x===null||x.tag!==7?(x=Qs(y,w.mode,L,N),x.return=w,x):(x=i(x,y),x.return=w,x)}function p(w,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Sp(""+x,w.mode,y),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hc:return y=nh(x.type,x.key,x.props,null,w.mode,y),y.ref=cl(w,null,x),y.return=w,y;case $o:return x=Tp(x,w.mode,y),x.return=w,x;case Gi:var L=x._init;return p(w,L(x._payload),y)}if(El(x)||sl(x))return x=Qs(x,w.mode,y,null),x.return=w,x;xc(w,x)}return null}function v(w,x,y,L){var N=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:a(w,x,""+y,L);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hc:return y.key===N?l(w,x,y,L):null;case $o:return y.key===N?u(w,x,y,L):null;case Gi:return N=y._init,v(w,x,N(y._payload),L)}if(El(y)||sl(y))return N!==null?null:c(w,x,y,L,null);xc(w,y)}return null}function I(w,x,y,L,N){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(y)||null,a(x,w,""+L,N);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case hc:return w=w.get(L.key===null?y:L.key)||null,l(x,w,L,N);case $o:return w=w.get(L.key===null?y:L.key)||null,u(x,w,L,N);case Gi:var U=L._init;return I(w,x,y,U(L._payload),N)}if(El(L)||sl(L))return w=w.get(y)||null,c(x,w,L,N,null);xc(x,L)}return null}function C(w,x,y,L){for(var N=null,U=null,F=x,V=x=0,Z=null;F!==null&&V<y.length;V++){F.index>V?(Z=F,F=null):Z=F.sibling;var J=v(w,F,y[V],L);if(J===null){F===null&&(F=Z);break}t&&F&&J.alternate===null&&e(w,F),x=s(J,x,V),U===null?N=J:U.sibling=J,U=J,F=Z}if(V===y.length)return n(w,F),ct&&Ms(w,V),N;if(F===null){for(;V<y.length;V++)F=p(w,y[V],L),F!==null&&(x=s(F,x,V),U===null?N=F:U.sibling=F,U=F);return ct&&Ms(w,V),N}for(F=r(w,F);V<y.length;V++)Z=I(F,w,V,y[V],L),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?V:Z.key),x=s(Z,x,V),U===null?N=Z:U.sibling=Z,U=Z);return t&&F.forEach(function(re){return e(w,re)}),ct&&Ms(w,V),N}function b(w,x,y,L){var N=sl(y);if(typeof N!="function")throw Error(ne(150));if(y=N.call(y),y==null)throw Error(ne(151));for(var U=N=null,F=x,V=x=0,Z=null,J=y.next();F!==null&&!J.done;V++,J=y.next()){F.index>V?(Z=F,F=null):Z=F.sibling;var re=v(w,F,J.value,L);if(re===null){F===null&&(F=Z);break}t&&F&&re.alternate===null&&e(w,F),x=s(re,x,V),U===null?N=re:U.sibling=re,U=re,F=Z}if(J.done)return n(w,F),ct&&Ms(w,V),N;if(F===null){for(;!J.done;V++,J=y.next())J=p(w,J.value,L),J!==null&&(x=s(J,x,V),U===null?N=J:U.sibling=J,U=J);return ct&&Ms(w,V),N}for(F=r(w,F);!J.done;V++,J=y.next())J=I(F,w,V,J.value,L),J!==null&&(t&&J.alternate!==null&&F.delete(J.key===null?V:J.key),x=s(J,x,V),U===null?N=J:U.sibling=J,U=J);return t&&F.forEach(function(ye){return e(w,ye)}),ct&&Ms(w,V),N}function P(w,x,y,L){if(typeof y=="object"&&y!==null&&y.type===jo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case hc:e:{for(var N=y.key,U=x;U!==null;){if(U.key===N){if(N=y.type,N===jo){if(U.tag===7){n(w,U.sibling),x=i(U,y.props.children),x.return=w,w=x;break e}}else if(U.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Gi&&c_(N)===U.type){n(w,U.sibling),x=i(U,y.props),x.ref=cl(w,U,y),x.return=w,w=x;break e}n(w,U);break}else e(w,U);U=U.sibling}y.type===jo?(x=Qs(y.props.children,w.mode,L,y.key),x.return=w,w=x):(L=nh(y.type,y.key,y.props,null,w.mode,L),L.ref=cl(w,x,y),L.return=w,w=L)}return o(w);case $o:e:{for(U=y.key;x!==null;){if(x.key===U)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(w,x.sibling),x=i(x,y.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Tp(y,w.mode,L),x.return=w,w=x}return o(w);case Gi:return U=y._init,P(w,x,U(y._payload),L)}if(El(y))return C(w,x,y,L);if(sl(y))return b(w,x,y,L);xc(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,y),x.return=w,w=x):(n(w,x),x=Sp(y,w.mode,L),x.return=w,w=x),o(w)):n(w,x)}return P}var _a=gI(!0),mI=gI(!1),Uu={},Jr=As(Uu),au=As(Uu),lu=As(Uu);function $s(t){if(t===Uu)throw Error(ne(174));return t}function J0(t,e){switch(Ze(lu,e),Ze(au,t),Ze(Jr,Uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qg(e,t)}ot(Jr),Ze(Jr,e)}function wa(){ot(Jr),ot(au),ot(lu)}function yI(t){$s(lu.current);var e=$s(Jr.current),n=qg(e,t.type);e!==n&&(Ze(au,t),Ze(Jr,n))}function ey(t){au.current===t&&(ot(Jr),ot(au))}var ft=As(0);function Ch(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vp=[];function ty(){for(var t=0;t<vp.length;t++)vp[t]._workInProgressVersionPrimary=null;vp.length=0}var Xc=Ui.ReactCurrentDispatcher,_p=Ui.ReactCurrentBatchConfig,so=0,gt=null,Kt=null,en=null,kh=!1,Ul=!1,uu=0,Uk=0;function _n(){throw Error(ne(321))}function ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function ry(t,e,n,r,i,s){if(so=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?$k:jk,t=n(r,i),Ul){s=0;do{if(Ul=!1,uu=0,25<=s)throw Error(ne(301));s+=1,en=Kt=null,e.updateQueue=null,Xc.current=zk,t=n(r,i)}while(Ul)}if(Xc.current=Ph,e=Kt!==null&&Kt.next!==null,so=0,en=Kt=gt=null,kh=!1,e)throw Error(ne(300));return t}function iy(){var t=uu!==0;return uu=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?gt.memoizedState=en=t:en=en.next=t,en}function Sr(){if(Kt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=en===null?gt.memoizedState:en.next;if(e!==null)en=e,Kt=t;else{if(t===null)throw Error(ne(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?gt.memoizedState=en=t:en=en.next=t}return en}function cu(t,e){return typeof e=="function"?e(t):e}function wp(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Kt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((so&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,gt.lanes|=c,oo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ur(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,oo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ep(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ur(s,e.memoizedState)||(Yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vI(){}function _I(t,e){var n=gt,r=Sr(),i=e(),s=!Ur(r.memoizedState,i);if(s&&(r.memoizedState=i,Yn=!0),r=r.queue,sy(xI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,hu(9,EI.bind(null,n,r,i,e),void 0,null),nn===null)throw Error(ne(349));so&30||wI(n,e,i)}return i}function wI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function EI(t,e,n,r){e.value=n,e.getSnapshot=r,II(e)&&SI(t)}function xI(t,e,n){return n(function(){II(e)&&SI(t)})}function II(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function SI(t){var e=ki(t,1);e!==null&&Mr(e,t,1,-1)}function h_(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:t},e.queue=t,t=t.dispatch=Vk.bind(null,gt,t),[e.memoizedState,t]}function hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TI(){return Sr().memoizedState}function Zc(t,e,n,r){var i=Hr();gt.flags|=t,i.memoizedState=hu(1|e,n,void 0,r===void 0?null:r)}function Rf(t,e,n,r){var i=Sr();r=r===void 0?null:r;var s=void 0;if(Kt!==null){var o=Kt.memoizedState;if(s=o.destroy,r!==null&&ny(r,o.deps)){i.memoizedState=hu(e,n,s,r);return}}gt.flags|=t,i.memoizedState=hu(1|e,n,s,r)}function f_(t,e){return Zc(8390656,8,t,e)}function sy(t,e){return Rf(2048,8,t,e)}function AI(t,e){return Rf(4,2,t,e)}function bI(t,e){return Rf(4,4,t,e)}function RI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CI(t,e,n){return n=n!=null?n.concat([t]):null,Rf(4,4,RI.bind(null,e,t),n)}function oy(){}function kI(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PI(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NI(t,e,n){return so&21?(Ur(n,e)||(n=Ox(),gt.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function Bk(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=_p.transition;_p.transition={};try{t(!1),e()}finally{He=n,_p.transition=r}}function MI(){return Sr().memoizedState}function Fk(t,e,n){var r=fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DI(t))OI(e,n);else if(n=hI(t,e,n,r),n!==null){var i=Vn();Mr(n,t,r,i),LI(n,e,r)}}function Vk(t,e,n){var r=fs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DI(t))OI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ur(a,o)){var l=e.interleaved;l===null?(i.next=i,X0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hI(t,e,i,r),n!==null&&(i=Vn(),Mr(n,t,r,i),LI(n,e,r))}}function DI(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function OI(t,e){Ul=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,U0(t,n)}}var Ph={readContext:Ir,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},$k={readContext:Ir,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:f_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4194308,4,RI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zc(4,2,t,e)},useMemo:function(t,e){var n=Hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Fk.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:h_,useDebugValue:oy,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=h_(!1),e=t[0];return t=Bk.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Hr();if(ct){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),nn===null)throw Error(ne(349));so&30||wI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,f_(xI.bind(null,r,s,t),[t]),r.flags|=2048,hu(9,EI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hr(),e=nn.identifierPrefix;if(ct){var n=wi,r=_i;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Uk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jk={readContext:Ir,useCallback:kI,useContext:Ir,useEffect:sy,useImperativeHandle:CI,useInsertionEffect:AI,useLayoutEffect:bI,useMemo:PI,useReducer:wp,useRef:TI,useState:function(){return wp(cu)},useDebugValue:oy,useDeferredValue:function(t){var e=Sr();return NI(e,Kt.memoizedState,t)},useTransition:function(){var t=wp(cu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:vI,useSyncExternalStore:_I,useId:MI,unstable_isNewReconciler:!1},zk={readContext:Ir,useCallback:kI,useContext:Ir,useEffect:sy,useImperativeHandle:CI,useInsertionEffect:AI,useLayoutEffect:bI,useMemo:PI,useReducer:Ep,useRef:TI,useState:function(){return Ep(cu)},useDebugValue:oy,useDeferredValue:function(t){var e=Sr();return Kt===null?e.memoizedState=t:NI(e,Kt.memoizedState,t)},useTransition:function(){var t=Ep(cu)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:vI,useSyncExternalStore:_I,useId:MI,unstable_isNewReconciler:!1};function Ea(t,e){try{var n="",r=e;do n+=yC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hk=typeof WeakMap=="function"?WeakMap:Map;function UI(t,e,n){n=Si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mh||(Mh=!0,Sm=r),pm(t,e)},n}function BI(t,e,n){n=Si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pm(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function d_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iP.bind(null,t,e,n),e.then(t,t))}function p_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Si(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var qk=Ui.ReactCurrentOwner,Yn=!1;function Un(t,e,n,r){e.child=t===null?mI(e,null,n,r):_a(e,t.child,n,r)}function m_(t,e,n,r,i){n=n.render;var s=e.ref;return oa(e,i),r=ry(t,e,n,r,s,i),n=iy(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(ct&&n&&q0(e),e.flags|=1,Un(t,e,r,i),e.child)}function y_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!py(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FI(t,e,s,r,i)):(t=nh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ru,n(o,r)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=ds(s,r),t.ref=e.ref,t.return=e,e.child=t}function FI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ru(s,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return gm(t,e,n,r,i)}function VI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Zo,nr),nr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Zo,nr),nr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ze(Zo,nr),nr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ze(Zo,nr),nr|=r;return Un(t,e,i,n),e.child}function $I(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gm(t,e,n,r,i){var s=Zn(n)?ro:Pn.current;return s=ya(e,s),oa(e,i),n=ry(t,e,n,r,s,i),r=iy(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(ct&&r&&q0(e),e.flags|=1,Un(t,e,n,i),e.child)}function v_(t,e,n,r,i){if(Zn(n)){var s=!0;Ih(e)}else s=!1;if(oa(e,i),e.stateNode===null)Jc(t,e),pI(e,n,r),dm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=Zn(n)?ro:Pn.current,u=ya(e,u));var c=n.getDerivedStateFromProps,p=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&u_(e,o,r,u),Wi=!1;var v=e.memoizedState;o.state=v,Rh(e,r,o,i),l=e.memoizedState,a!==r||v!==l||Xn.current||Wi?(typeof c=="function"&&(fm(e,n,c,r),l=e.memoizedState),(a=Wi||l_(e,n,a,r,v,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cr(e.type,a),o.props=u,p=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ir(l):(l=Zn(n)?ro:Pn.current,l=ya(e,l));var I=n.getDerivedStateFromProps;(c=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||v!==l)&&u_(e,o,r,l),Wi=!1,v=e.memoizedState,o.state=v,Rh(e,r,o,i);var C=e.memoizedState;a!==p||v!==C||Xn.current||Wi?(typeof I=="function"&&(fm(e,n,I,r),C=e.memoizedState),(u=Wi||l_(e,n,u,r,v,C,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return mm(t,e,n,r,s,i)}function mm(t,e,n,r,i,s){$I(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&r_(e,n,!1),Pi(t,e,s);r=e.stateNode,qk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_a(e,t.child,null,s),e.child=_a(e,null,a,s)):Un(t,e,a,s),e.memoizedState=r.state,i&&r_(e,n,!0),e.child}function jI(t){var e=t.stateNode;e.pendingContext?n_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n_(t,e.context,!1),J0(t,e.containerInfo)}function __(t,e,n,r,i){return va(),W0(i),e.flags|=256,Un(t,e,n,r),e.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function zI(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ft,i&1),t===null)return cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pf(o,r,0,null),t=Qs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vm(n),e.memoizedState=ym,t):ay(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ds(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ds(a,s):(s=Qs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ym,r}return s=t.child,t=s.sibling,r=ds(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ay(t,e){return e=Pf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ic(t,e,n,r){return r!==null&&W0(r),_a(e,t.child,null,n),t=ay(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xp(Error(ne(422))),Ic(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pf({mode:"visible",children:r.children},i,0,null),s=Qs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_a(e,t.child,null,o),e.child.memoizedState=vm(o),e.memoizedState=ym,s);if(!(e.mode&1))return Ic(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=xp(s,r,void 0),Ic(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yn||a){if(r=nn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ki(t,i),Mr(r,t,i,-1))}return dy(),r=xp(Error(ne(421))),Ic(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ir=us(i.nextSibling),ar=e,ct=!0,Pr=null,t!==null&&(mr[yr++]=_i,mr[yr++]=wi,mr[yr++]=io,_i=t.id,wi=t.overflow,io=e),e=ay(e,r.children),e.flags|=4096,e)}function w_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hm(t.return,e,n)}function Ip(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function HI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Un(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w_(t,n,e);else if(t.tag===19)w_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ch(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ip(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ch(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ip(e,!0,n,null,s);break;case"together":Ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wk(t,e,n){switch(e.tag){case 3:jI(e),va();break;case 5:yI(e);break;case 1:Zn(e.type)&&Ih(e);break;case 4:J0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Ah,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?zI(t,e,n):(Ze(ft,ft.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);Ze(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,VI(t,e,n)}return Pi(t,e,n)}var qI,_m,GI,WI;qI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_m=function(){};GI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$s(Jr.current);var s=null;switch(n){case"input":i=$g(t,i),r=$g(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=Hg(t,i),r=Hg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Eh)}Gg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};WI=function(t,e,n,r){n!==r&&(e.flags|=4)};function hl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kk(t,e,n){var r=e.pendingProps;switch(G0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return Zn(e.type)&&xh(),wn(e),null;case 3:return r=e.stateNode,wa(),ot(Xn),ot(Pn),ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(bm(Pr),Pr=null))),_m(t,e),wn(e),null;case 5:ey(e);var i=$s(lu.current);if(n=e.type,t!==null&&e.stateNode!=null)GI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return wn(e),null}if(t=$s(Jr.current),Ec(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[ou]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Il.length;i++)rt(Il[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":C1(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":P1(r,s),rt("invalid",r)}Gg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),i=["children",""+a]):Yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":fc(r),k1(r,s,!0);break;case"textarea":fc(r),N1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Eh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[ou]=r,qI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wg(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Il.length;i++)rt(Il[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":C1(t,r),i=$g(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":P1(t,r),i=Hg(t,r),rt("invalid",t);break;default:i=r}Gg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ix(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ex(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xl(t,l):typeof l=="number"&&Xl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",t):l!=null&&P0(t,s,l,o))}switch(n){case"input":fc(t),k1(t,r,!1);break;case"textarea":fc(t),N1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_s(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?na(t,!!r.multiple,s,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Eh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(t&&e.stateNode!=null)WI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=$s(lu.current),$s(Jr.current),Ec(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=ar,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return wn(e),null;case 13:if(ot(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&ir!==null&&e.mode&1&&!(e.flags&128))cI(),va(),e.flags|=98560,s=!1;else if(s=Ec(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[qr]=e}else va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wn(e),s=!1}else Pr!==null&&(bm(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Yt===0&&(Yt=3):dy())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return wa(),_m(t,e),t===null&&iu(e.stateNode.containerInfo),wn(e),null;case 10:return Y0(e.type._context),wn(e),null;case 17:return Zn(e.type)&&xh(),wn(e),null;case 19:if(ot(ft),s=e.memoizedState,s===null)return wn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hl(s,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ch(t),o!==null){for(e.flags|=128,hl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>xa&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ch(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return wn(e),null}else 2*Tt()-s.renderingStartTime>xa&&n!==1073741824&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,n=ft.current,Ze(ft,r?n&1|2:n&1),e):(wn(e),null);case 22:case 23:return fy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nr&1073741824&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function Qk(t,e){switch(G0(e),e.tag){case 1:return Zn(e.type)&&xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),ot(Xn),ot(Pn),ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ey(e),null;case 13:if(ot(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ft),null;case 4:return wa(),null;case 10:return Y0(e.type._context),null;case 22:case 23:return fy(),null;case 24:return null;default:return null}}var Sc=!1,bn=!1,Yk=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function wm(t,e,n){try{n()}catch(r){wt(t,e,r)}}var E_=!1;function Xk(t,e){if(rm=vh,t=Xx(),H0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,p=t,v=null;t:for(;;){for(var I;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(I=p.firstChild)!==null;)v=p,p=I;for(;;){if(p===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++c===r&&(l=o),(I=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=I}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(im={focusedElem:t,selectionRange:n},vh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var b=C.memoizedProps,P=C.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:Cr(e.type,b),P);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(L){wt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return C=E_,E_=!1,C}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wm(e,n,s)}i=i.next}while(i!==r)}}function Cf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KI(t){var e=t.alternate;e!==null&&(t.alternate=null,KI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[ou],delete e[am],delete e[Mk],delete e[Dk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QI(t){return t.tag===5||t.tag===3||t.tag===4}function x_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Eh));else if(r!==4&&(t=t.child,t!==null))for(xm(t,e,n),t=t.sibling;t!==null;)xm(t,e,n),t=t.sibling}function Im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Im(t,e,n),t=t.sibling;t!==null;)Im(t,e,n),t=t.sibling}var ln=null,kr=!1;function Fi(t,e,n){for(n=n.child;n!==null;)YI(t,e,n),n=n.sibling}function YI(t,e,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Ef,n)}catch{}switch(n.tag){case 5:bn||Xo(n,e);case 6:var r=ln,i=kr;ln=null,Fi(t,e,n),ln=r,kr=i,ln!==null&&(kr?(t=ln,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(kr?(t=ln,n=n.stateNode,t.nodeType===8?mp(t.parentNode,n):t.nodeType===1&&mp(t,n),tu(t)):mp(ln,n.stateNode));break;case 4:r=ln,i=kr,ln=n.stateNode.containerInfo,kr=!0,Fi(t,e,n),ln=r,kr=i;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wm(n,e,o),i=i.next}while(i!==r)}Fi(t,e,n);break;case 1:if(!bn&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,Fi(t,e,n),bn=r):Fi(t,e,n);break;default:Fi(t,e,n)}}function I_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yk),e.forEach(function(r){var i=oP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ln=a.stateNode,kr=!1;break e;case 3:ln=a.stateNode.containerInfo,kr=!0;break e;case 4:ln=a.stateNode.containerInfo,kr=!0;break e}a=a.return}if(ln===null)throw Error(ne(160));YI(s,o,i),ln=null,kr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XI(e,t),e=e.sibling}function XI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),jr(t),r&4){try{Bl(3,t,t.return),Cf(3,t)}catch(b){wt(t,t.return,b)}try{Bl(5,t,t.return)}catch(b){wt(t,t.return,b)}}break;case 1:br(e,t),jr(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(br(e,t),jr(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var i=t.stateNode;try{Xl(i,"")}catch(b){wt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vx(i,s),Wg(a,o);var u=Wg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],p=l[o+1];c==="style"?Ix(i,p):c==="dangerouslySetInnerHTML"?Ex(i,p):c==="children"?Xl(i,p):P0(i,c,p,u)}switch(a){case"input":jg(i,s);break;case"textarea":_x(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?na(i,!!s.multiple,I,!1):v!==!!s.multiple&&(s.defaultValue!=null?na(i,!!s.multiple,s.defaultValue,!0):na(i,!!s.multiple,s.multiple?[]:"",!1))}i[ou]=s}catch(b){wt(t,t.return,b)}}break;case 6:if(br(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){wt(t,t.return,b)}}break;case 3:if(br(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(b){wt(t,t.return,b)}break;case 4:br(e,t),jr(t);break;case 13:br(e,t),jr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cy=Tt())),r&4&&I_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(u=bn)||c,br(e,t),bn=u):br(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ae=t,c=t.child;c!==null;){for(p=ae=c;ae!==null;){switch(v=ae,I=v.child,v.tag){case 0:case 11:case 14:case 15:Bl(4,v,v.return);break;case 1:Xo(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(b){wt(r,n,b)}}break;case 5:Xo(v,v.return);break;case 22:if(v.memoizedState!==null){T_(p);continue}}I!==null?(I.return=v,ae=I):T_(p)}c=c.sibling}e:for(c=null,p=t;;){if(p.tag===5){if(c===null){c=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xx("display",o))}catch(b){wt(t,t.return,b)}}}else if(p.tag===6){if(c===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(b){wt(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;c===p&&(c=null),p=p.return}c===p&&(c=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:br(e,t),jr(t),r&4&&I_(t);break;case 21:break;default:br(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QI(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xl(i,""),r.flags&=-33);var s=x_(t);Im(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x_(t);xm(t,a,o);break;default:throw Error(ne(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zk(t,e,n){ae=t,ZI(t)}function ZI(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bn;a=Sc;var u=bn;if(Sc=o,(bn=l)&&!u)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?A_(i):l!==null?(l.return=o,ae=l):A_(i);for(;s!==null;)ae=s,ZI(s),s=s.sibling;ae=i,Sc=a,bn=u}S_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):S_(t)}}function S_(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||Cf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&a_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}a_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var p=c.dehydrated;p!==null&&tu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}bn||e.flags&512&&Em(e)}catch(v){wt(e,e.return,v)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function T_(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function A_(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cf(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{Em(e)}catch(l){wt(e,s,l)}break;case 5:var o=e.return;try{Em(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var Jk=Math.ceil,Nh=Ui.ReactCurrentDispatcher,ly=Ui.ReactCurrentOwner,Er=Ui.ReactCurrentBatchConfig,Le=0,nn=null,qt=null,pn=0,nr=0,Zo=As(0),Yt=0,fu=null,oo=0,kf=0,uy=0,Fl=null,Wn=null,cy=0,xa=1/0,gi=null,Mh=!1,Sm=null,hs=null,Tc=!1,ts=null,Dh=0,Vl=0,Tm=null,eh=-1,th=0;function Vn(){return Le&6?Tt():eh!==-1?eh:eh=Tt()}function fs(t){return t.mode&1?Le&2&&pn!==0?pn&-pn:Lk.transition!==null?(th===0&&(th=Ox()),th):(t=He,t!==0||(t=window.event,t=t===void 0?16:jx(t.type)),t):1}function Mr(t,e,n,r){if(50<Vl)throw Vl=0,Tm=null,Error(ne(185));Du(t,n,r),(!(Le&2)||t!==nn)&&(t===nn&&(!(Le&2)&&(kf|=n),Yt===4&&Qi(t,pn)),Jn(t,r),n===1&&Le===0&&!(e.mode&1)&&(xa=Tt()+500,Af&&bs()))}function Jn(t,e){var n=t.callbackNode;LC(t,e);var r=yh(t,t===nn?pn:0);if(r===0)n!==null&&O1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O1(n),e===1)t.tag===0?Ok(b_.bind(null,t)):aI(b_.bind(null,t)),Pk(function(){!(Le&6)&&bs()}),n=null;else{switch(Lx(r)){case 1:n=L0;break;case 4:n=Mx;break;case 16:n=mh;break;case 536870912:n=Dx;break;default:n=mh}n=oS(n,JI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JI(t,e){if(eh=-1,th=0,Le&6)throw Error(ne(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=yh(t,t===nn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var i=Le;Le|=2;var s=tS();(nn!==t||pn!==e)&&(gi=null,xa=Tt()+500,Ks(t,e));do try{nP();break}catch(a){eS(t,a)}while(1);Q0(),Nh.current=s,Le=i,qt!==null?e=0:(nn=null,pn=0,e=Yt)}if(e!==0){if(e===2&&(i=Zg(t),i!==0&&(r=i,e=Am(t,i))),e===1)throw n=fu,Ks(t,0),Qi(t,r),Jn(t,Tt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!eP(i)&&(e=Oh(t,r),e===2&&(s=Zg(t),s!==0&&(r=s,e=Am(t,s))),e===1))throw n=fu,Ks(t,0),Qi(t,r),Jn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Ds(t,Wn,gi);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=cy+500-Tt(),10<e)){if(yh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=om(Ds.bind(null,t,Wn,gi),e);break}Ds(t,Wn,gi);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Nr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jk(r/1960))-r,10<r){t.timeoutHandle=om(Ds.bind(null,t,Wn,gi),r);break}Ds(t,Wn,gi);break;case 5:Ds(t,Wn,gi);break;default:throw Error(ne(329))}}}return Jn(t,Tt()),t.callbackNode===n?JI.bind(null,t):null}function Am(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&bm(e)),t}function bm(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function eP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~uy,e&=~kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function b_(t){if(Le&6)throw Error(ne(327));aa();var e=yh(t,0);if(!(e&1))return Jn(t,Tt()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=Zg(t);r!==0&&(e=r,n=Am(t,r))}if(n===1)throw n=fu,Ks(t,0),Qi(t,e),Jn(t,Tt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,Wn,gi),Jn(t,Tt()),null}function hy(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(xa=Tt()+500,Af&&bs())}}function ao(t){ts!==null&&ts.tag===0&&!(Le&6)&&aa();var e=Le;Le|=1;var n=Er.transition,r=He;try{if(Er.transition=null,He=1,t)return t()}finally{He=r,Er.transition=n,Le=e,!(Le&6)&&bs()}}function fy(){nr=Zo.current,ot(Zo)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kk(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(G0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xh();break;case 3:wa(),ot(Xn),ot(Pn),ty();break;case 5:ey(r);break;case 4:wa();break;case 13:ot(ft);break;case 19:ot(ft);break;case 10:Y0(r.type._context);break;case 22:case 23:fy()}n=n.return}if(nn=t,qt=t=ds(t.current,null),pn=nr=e,Yt=0,fu=null,uy=kf=oo=0,Wn=Fl=null,Vs!==null){for(e=0;e<Vs.length;e++)if(n=Vs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vs=null}return t}function eS(t,e){do{var n=qt;try{if(Q0(),Xc.current=Ph,kh){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(so=0,en=Kt=gt=null,Ul=!1,uu=0,ly.current=null,n===null||n.return===null){Yt=1,fu=e,qt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,p=c.tag;if(!(c.mode&1)&&(p===0||p===11||p===15)){var v=c.alternate;v?(c.updateQueue=v.updateQueue,c.memoizedState=v.memoizedState,c.lanes=v.lanes):(c.updateQueue=null,c.memoizedState=null)}var I=p_(o);if(I!==null){I.flags&=-257,g_(I,o,a,s,e),I.mode&1&&d_(s,u,e),e=I,l=u;var C=e.updateQueue;if(C===null){var b=new Set;b.add(l),e.updateQueue=b}else C.add(l);break e}else{if(!(e&1)){d_(s,u,e),dy();break e}l=Error(ne(426))}}else if(ct&&a.mode&1){var P=p_(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),g_(P,o,a,s,e),W0(Ea(l,a));break e}}s=l=Ea(l,a),Yt!==4&&(Yt=2),Fl===null?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=UI(s,l,e);o_(s,w);break e;case 1:a=l;var x=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hs===null||!hs.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=BI(s,a,e);o_(s,L);break e}}s=s.return}while(s!==null)}rS(n)}catch(N){e=N,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(1)}function tS(){var t=Nh.current;return Nh.current=Ph,t===null?Ph:t}function dy(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),nn===null||!(oo&268435455)&&!(kf&268435455)||Qi(nn,pn)}function Oh(t,e){var n=Le;Le|=2;var r=tS();(nn!==t||pn!==e)&&(gi=null,Ks(t,e));do try{tP();break}catch(i){eS(t,i)}while(1);if(Q0(),Le=n,Nh.current=r,qt!==null)throw Error(ne(261));return nn=null,pn=0,Yt}function tP(){for(;qt!==null;)nS(qt)}function nP(){for(;qt!==null&&!bC();)nS(qt)}function nS(t){var e=sS(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?rS(t):qt=e,ly.current=null}function rS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qk(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,qt=null;return}}else if(n=Kk(n,e,nr),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);Yt===0&&(Yt=5)}function Ds(t,e,n){var r=He,i=Er.transition;try{Er.transition=null,He=1,rP(t,e,n,r)}finally{Er.transition=i,He=r}return null}function rP(t,e,n,r){do aa();while(ts!==null);if(Le&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(UC(t,s),t===nn&&(qt=nn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tc||(Tc=!0,oS(mh,function(){return aa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Er.transition,Er.transition=null;var o=He;He=1;var a=Le;Le|=4,ly.current=null,Xk(t,n),XI(n,t),Ik(im),vh=!!rm,im=rm=null,t.current=n,Zk(n),RC(),Le=a,He=o,Er.transition=s}else t.current=n;if(Tc&&(Tc=!1,ts=t,Dh=i),s=t.pendingLanes,s===0&&(hs=null),PC(n.stateNode),Jn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mh)throw Mh=!1,t=Sm,Sm=null,t;return Dh&1&&t.tag!==0&&aa(),s=t.pendingLanes,s&1?t===Tm?Vl++:(Vl=0,Tm=t):Vl=0,bs(),null}function aa(){if(ts!==null){var t=Lx(Dh),e=Er.transition,n=He;try{if(Er.transition=null,He=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,Dh=0,Le&6)throw Error(ne(331));var i=Le;for(Le|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var c=ae;switch(c.tag){case 0:case 11:case 15:Bl(8,c,s)}var p=c.child;if(p!==null)p.return=c,ae=p;else for(;ae!==null;){c=ae;var v=c.sibling,I=c.return;if(KI(c),c===u){ae=null;break}if(v!==null){v.return=I,ae=v;break}ae=I}}}var C=s.alternate;if(C!==null){var b=C.child;if(b!==null){C.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ae=w;break e}ae=s.return}}var x=t.current;for(ae=x;ae!==null;){o=ae;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ae=y;else e:for(o=x;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cf(9,a)}}catch(N){wt(a,a.return,N)}if(a===o){ae=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,ae=L;break e}ae=a.return}}if(Le=i,bs(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Ef,t)}catch{}r=!0}return r}finally{He=n,Er.transition=e}}return!1}function R_(t,e,n){e=Ea(n,e),e=UI(t,e,1),t=cs(t,e,1),e=Vn(),t!==null&&(Du(t,1,e),Jn(t,e))}function wt(t,e,n){if(t.tag===3)R_(t,t,n);else for(;e!==null;){if(e.tag===3){R_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=Ea(n,t),t=BI(e,t,1),e=cs(e,t,1),t=Vn(),e!==null&&(Du(e,1,t),Jn(e,t));break}}e=e.return}}function iP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(pn&n)===n&&(Yt===4||Yt===3&&(pn&130023424)===pn&&500>Tt()-cy?Ks(t,0):uy|=n),Jn(t,e)}function iS(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=Vn();t=ki(t,e),t!==null&&(Du(t,e,n),Jn(t,n))}function sP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iS(t,n)}function oP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),iS(t,n)}var sS;sS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,Wk(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,ct&&e.flags&1048576&&lI(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var i=ya(e,Pn.current);oa(e,n),i=ry(null,e,r,t,i,n);var s=iy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(s=!0,Ih(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z0(e),i.updater=bf,e.stateNode=i,i._reactInternals=e,dm(e,r,t,n),e=mm(null,e,r,!0,s,n)):(e.tag=0,ct&&s&&q0(e),Un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lP(r),t=Cr(r,t),i){case 0:e=gm(null,e,r,t,n);break e;case 1:e=v_(null,e,r,t,n);break e;case 11:e=m_(null,e,r,t,n);break e;case 14:e=y_(null,e,r,Cr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),gm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),v_(t,e,r,i,n);case 3:e:{if(jI(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fI(t,e),Rh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ea(Error(ne(423)),e),e=__(t,e,r,n,i);break e}else if(r!==i){i=Ea(Error(ne(424)),e),e=__(t,e,r,n,i);break e}else for(ir=us(e.stateNode.containerInfo.firstChild),ar=e,ct=!0,Pr=null,n=mI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),r===i){e=Pi(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return yI(e),t===null&&cm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sm(r,i)?o=null:s!==null&&sm(r,s)&&(e.flags|=32),$I(t,e),Un(t,e,o,n),e.child;case 6:return t===null&&cm(e),null;case 13:return zI(t,e,n);case 4:return J0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),m_(t,e,r,i,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ze(Ah,r._currentValue),r._currentValue=o,s!==null)if(Ur(s.value,o)){if(s.children===i.children&&!Xn.current){e=Pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Si(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oa(e,n),i=Ir(i),r=r(i),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,i=Cr(r,e.pendingProps),i=Cr(r.type,i),y_(t,e,r,i,n);case 15:return FI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),Jc(t,e),e.tag=1,Zn(r)?(t=!0,Ih(e)):t=!1,oa(e,n),pI(e,r,i),dm(e,r,i,n),mm(null,e,r,!0,t,n);case 19:return HI(t,e,n);case 22:return VI(t,e,n)}throw Error(ne(156,e.tag))};function oS(t,e){return Nx(t,e)}function aP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,n,r){return new aP(t,e,n,r)}function py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lP(t){if(typeof t=="function")return py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M0)return 11;if(t===D0)return 14}return 2}function ds(t,e){var n=t.alternate;return n===null?(n=wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")py(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jo:return Qs(n.children,i,s,e);case N0:o=8,i|=8;break;case Ug:return t=wr(12,n,e,i|2),t.elementType=Ug,t.lanes=s,t;case Bg:return t=wr(13,n,e,i),t.elementType=Bg,t.lanes=s,t;case Fg:return t=wr(19,n,e,i),t.elementType=Fg,t.lanes=s,t;case gx:return Pf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dx:o=10;break e;case px:o=9;break e;case M0:o=11;break e;case D0:o=14;break e;case Gi:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qs(t,e,n,r){return t=wr(7,t,r,e),t.lanes=n,t}function Pf(t,e,n,r){return t=wr(22,t,r,e),t.elementType=gx,t.lanes=n,t.stateNode={isHidden:!1},t}function Sp(t,e,n){return t=wr(6,t,null,e),t.lanes=n,t}function Tp(t,e,n){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gy(t,e,n,r,i,s,o,a,l){return t=new uP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z0(s),t}function cP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aS(t){if(!t)return ws;t=t._reactInternals;e:{if(wo(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Zn(n))return oI(t,n,e)}return e}function lS(t,e,n,r,i,s,o,a,l){return t=gy(n,r,!0,t,i,s,o,a,l),t.context=aS(null),n=t.current,r=Vn(),i=fs(n),s=Si(r,i),s.callback=e??null,cs(n,s,i),t.current.lanes=i,Du(t,i,r),Jn(t,r),t}function Nf(t,e,n,r){var i=e.current,s=Vn(),o=fs(i);return n=aS(n),e.context===null?e.context=n:e.pendingContext=n,e=Si(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,o),t!==null&&(Mr(t,i,o,s),Yc(t,i,o)),o}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function C_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function my(t,e){C_(t,e),(t=t.alternate)&&C_(t,e)}function hP(){return null}var uS=typeof reportError=="function"?reportError:function(t){console.error(t)};function yy(t){this._internalRoot=t}Mf.prototype.render=yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Nf(t,e,null,null)};Mf.prototype.unmount=yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){Nf(null,t,null,null)}),e[Ci]=null}};function Mf(t){this._internalRoot=t}Mf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ki.length&&e!==0&&e<Ki[n].priority;n++);Ki.splice(n,0,t),n===0&&$x(t)}};function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function k_(){}function fP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Lh(o);s.call(u)}}var o=lS(e,r,t,0,null,!1,!1,"",k_);return t._reactRootContainer=o,t[Ci]=o.current,iu(t.nodeType===8?t.parentNode:t),ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Lh(l);a.call(u)}}var l=gy(t,0,!1,null,null,!1,!1,"",k_);return t._reactRootContainer=l,t[Ci]=l.current,iu(t.nodeType===8?t.parentNode:t),ao(function(){Nf(e,l,n,r)}),l}function Of(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lh(o);a.call(l)}}Nf(e,o,t,i)}else o=fP(n,e,t,i,r);return Lh(o)}Ux=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xl(e.pendingLanes);n!==0&&(U0(e,n|1),Jn(e,Tt()),!(Le&6)&&(xa=Tt()+500,bs()))}break;case 13:ao(function(){var r=ki(t,1);if(r!==null){var i=Vn();Mr(r,t,1,i)}}),my(t,1)}};B0=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=Vn();Mr(e,t,134217728,n)}my(t,134217728)}};Bx=function(t){if(t.tag===13){var e=fs(t),n=ki(t,e);if(n!==null){var r=Vn();Mr(n,t,e,r)}my(t,e)}};Fx=function(){return He};Vx=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Qg=function(t,e,n){switch(e){case"input":if(jg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tf(r);if(!i)throw Error(ne(90));yx(r),jg(r,i)}}}break;case"textarea":_x(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};Ax=hy;bx=ao;var dP={usingClientEntryPoint:!1,Events:[Lu,Go,Tf,Sx,Tx,hy]},fl={findFiberByHostInstance:Fs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pP={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kx(t),t===null?null:t.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||hP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Ef=Ac.inject(pP),Zr=Ac}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dP;cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vy(e))throw Error(ne(200));return cP(t,e,null,n)};cr.createRoot=function(t,e){if(!vy(t))throw Error(ne(299));var n=!1,r="",i=uS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gy(t,1,!1,null,null,n,!1,r,i),t[Ci]=e.current,iu(t.nodeType===8?t.parentNode:t),new yy(e)};cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=kx(e),t=t===null?null:t.stateNode,t};cr.flushSync=function(t){return ao(t)};cr.hydrate=function(t,e,n){if(!Df(e))throw Error(ne(200));return Of(null,t,e,!0,n)};cr.hydrateRoot=function(t,e,n){if(!vy(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lS(e,null,t,1,n??null,i,!1,s,o),t[Ci]=e.current,iu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mf(e)};cr.render=function(t,e,n){if(!Df(e))throw Error(ne(200));return Of(null,t,e,!1,n)};cr.unmountComponentAtNode=function(t){if(!Df(t))throw Error(ne(40));return t._reactRootContainer?(ao(function(){Of(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};cr.unstable_batchedUpdates=hy;cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Df(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Of(t,e,n,!1,r)};cr.version="18.2.0-next-9e3b772b8-20220608";function cS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cS)}catch(t){console.error(t)}}cS(),lx.exports=cr;var gP=lx.exports,la,P_=gP;la=Og.createRoot=P_.createRoot,Og.hydrateRoot=P_.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}var ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ns||(ns={}));const N_="popstate";function mP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Rm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uh(i)}return vP(e,n,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _y(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yP(){return Math.random().toString(36).substr(2,8)}function M_(t,e){return{usr:t.state,key:t.key,idx:e}}function Rm(t,e,n,r){return n===void 0&&(n=null),du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ja(e):e,{state:n,key:e&&e.key||r||yP()})}function Uh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ja(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ns.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(du({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function p(){a=ns.Pop;let P=c(),w=P==null?null:P-u;u=P,l&&l({action:a,location:b.location,delta:w})}function v(P,w){a=ns.Push;let x=Rm(b.location,P,w);n&&n(x,P),u=c()+1;let y=M_(x,u),L=b.createHref(x);try{o.pushState(y,"",L)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(L)}s&&l&&l({action:a,location:b.location,delta:1})}function I(P,w){a=ns.Replace;let x=Rm(b.location,P,w);n&&n(x,P),u=c();let y=M_(x,u),L=b.createHref(x);o.replaceState(y,"",L),s&&l&&l({action:a,location:b.location,delta:0})}function C(P){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof P=="string"?P:Uh(P);return mt(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let b={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(N_,p),l=P,()=>{i.removeEventListener(N_,p),l=null}},createHref(P){return e(i,P)},createURL:C,encodeLocation(P){let w=C(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:I,go(P){return o.go(P)}};return b}var D_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(D_||(D_={}));function _P(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ja(e):e,i=pu(r.pathname||"/",n);if(i==null)return null;let s=hS(t);wP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=CP(s[a],PP(i));return o}function hS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ps([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:bP(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of fS(s.path))i(s,o,l)}),e}function fS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=fS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EP=/^:\w+$/,xP=3,IP=2,SP=1,TP=10,AP=-2,O_=t=>t==="*";function bP(t,e){let n=t.split("/"),r=n.length;return n.some(O_)&&(r+=AP),e&&(r+=IP),n.filter(i=>!O_(i)).reduce((i,s)=>i+(EP.test(s)?xP:s===""?SP:TP),r)}function RP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CP(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Cm({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let p=a.route;s.push({params:r,pathname:ps([i,c.pathname]),pathnameBase:OP(ps([i,c.pathnameBase])),route:p}),c.pathnameBase!=="/"&&(i=ps([i,c.pathnameBase]))}return s}function Cm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,p)=>{if(c==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}return u[c]=NP(a[p]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function kP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_y(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PP(t){try{return decodeURI(t)}catch(e){return _y(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NP(t,e){try{return decodeURIComponent(t)}catch(n){return _y(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function pu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ja(t):t;return{pathname:n?n.startsWith("/")?n:DP(n,e):e,search:LP(r),hash:UP(i)}}function DP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ap(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ja(t):(i=du({},t),mt(!i.pathname||!i.pathname.includes("?"),Ap("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),Ap("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),Ap("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let p=e.length-1;if(o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}a=p>=0?e[p]:"/"}let l=MP(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ps=t=>t.join("/").replace(/\/\/+/g,"/"),OP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dS=["post","put","patch","delete"];new Set(dS);const FP=["get",...dS];new Set(FP);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}const Lf=X.createContext(null),pS=X.createContext(null),Eo=X.createContext(null),Uf=X.createContext(null),ci=X.createContext({outlet:null,matches:[],isDataRoute:!1}),gS=X.createContext(null);function VP(t,e){let{relative:n}=e===void 0?{}:e;za()||mt(!1);let{basename:r,navigator:i}=X.useContext(Eo),{hash:s,pathname:o,search:a}=Bf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ps([r,o])),i.createHref({pathname:l,search:a,hash:s})}function za(){return X.useContext(Uf)!=null}function Ha(){return za()||mt(!1),X.useContext(Uf).location}function mS(t){X.useContext(Eo).static||X.useLayoutEffect(t)}function qa(){let{isDataRoute:t}=X.useContext(ci);return t?tN():$P()}function $P(){za()||mt(!1);let t=X.useContext(Lf),{basename:e,navigator:n}=X.useContext(Eo),{matches:r}=X.useContext(ci),{pathname:i}=Ha(),s=JSON.stringify(wy(r).map(l=>l.pathnameBase)),o=X.useRef(!1);return mS(()=>{o.current=!0}),X.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Ey(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ps([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const jP=X.createContext(null);function zP(t){let e=X.useContext(ci).outlet;return e&&X.createElement(jP.Provider,{value:t},e)}function yS(){let{matches:t}=X.useContext(ci),e=t[t.length-1];return e?e.params:{}}function Bf(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(ci),{pathname:i}=Ha(),s=JSON.stringify(wy(r).map(o=>o.pathnameBase));return X.useMemo(()=>Ey(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function HP(t,e){return qP(t,e)}function qP(t,e,n){za()||mt(!1);let{navigator:r}=X.useContext(Eo),{matches:i}=X.useContext(ci),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ha(),u;if(e){var c;let b=typeof e=="string"?ja(e):e;a==="/"||(c=b.pathname)!=null&&c.startsWith(a)||mt(!1),u=b}else u=l;let p=u.pathname||"/",v=a==="/"?p:p.slice(a.length)||"/",I=_P(t,{pathname:v}),C=YP(I&&I.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:ps([a,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:ps([a,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n);return e&&C?X.createElement(Uf.Provider,{value:{location:Bh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ns.Pop}},C):C}function GP(){let t=eN(),e=BP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,s)}const WP=X.createElement(GP,null);class KP extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(ci.Provider,{value:this.props.routeContext},X.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QP(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(Lf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(ci.Provider,{value:e},r)}function YP(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||mt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,p=null;n&&(p=l.route.errorElement||WP);let v=e.concat(s.slice(0,u+1)),I=()=>{let C;return c?C=p:l.route.Component?C=X.createElement(l.route.Component,null):l.route.element?C=l.route.element:C=a,X.createElement(QP,{match:l,routeContext:{outlet:a,matches:v,isDataRoute:n!=null},children:C})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?X.createElement(KP,{location:n.location,revalidation:n.revalidation,component:p,error:c,children:I(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):I()},null)}var vS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vS||{}),Fh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fh||{});function XP(t){let e=X.useContext(Lf);return e||mt(!1),e}function ZP(t){let e=X.useContext(pS);return e||mt(!1),e}function JP(t){let e=X.useContext(ci);return e||mt(!1),e}function _S(t){let e=JP(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function eN(){var t;let e=X.useContext(gS),n=ZP(Fh.UseRouteError),r=_S(Fh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tN(){let{router:t}=XP(vS.UseNavigateStable),e=_S(Fh.UseNavigateStable),n=X.useRef(!1);return mS(()=>{n.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Bh({fromRouteId:e},s)))},[t,e])}function $l(t){let{to:e,replace:n,state:r,relative:i}=t;za()||mt(!1);let{matches:s}=X.useContext(ci),{pathname:o}=Ha(),a=qa(),l=Ey(e,wy(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return X.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function wS(t){return zP(t.context)}function On(t){mt(!1)}function nN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ns.Pop,navigator:s,static:o=!1}=t;za()&&mt(!1);let a=e.replace(/^\/*/,"/"),l=X.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ja(r));let{pathname:u="/",search:c="",hash:p="",state:v=null,key:I="default"}=r,C=X.useMemo(()=>{let b=pu(u,a);return b==null?null:{location:{pathname:b,search:c,hash:p,state:v,key:I},navigationType:i}},[a,u,c,p,v,I,i]);return C==null?null:X.createElement(Eo.Provider,{value:l},X.createElement(Uf.Provider,{children:n,value:C}))}function L_(t){let{children:e,location:n}=t;return HP(km(e),n)}new Promise(()=>{});function km(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let s=[...e,i];if(r.type===X.Fragment){n.push.apply(n,km(r.props.children,s));return}r.type!==On&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=km(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function ES(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iN(t,e){return t.button===0&&(!e||e==="_self")&&!rN(t)}const sN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],oN=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],aN=X.createContext({isTransitioning:!1}),lN="startTransition",U_=sC[lN];function B_(t){let{basename:e,children:n,future:r,window:i}=t,s=X.useRef();s.current==null&&(s.current=mP({window:i,v5Compat:!0}));let o=s.current,[a,l]=X.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=X.useCallback(p=>{u&&U_?U_(()=>l(p)):l(p)},[l,u]);return X.useLayoutEffect(()=>o.listen(c),[o,c]),X.createElement(nN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const uN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lo=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:p}=e,v=ES(e,sN),{basename:I}=X.useContext(Eo),C,b=!1;if(typeof u=="string"&&cN.test(u)&&(C=u,uN))try{let y=new URL(window.location.href),L=u.startsWith("//")?new URL(y.protocol+u):new URL(u),N=pu(L.pathname,I);L.origin===y.origin&&N!=null?u=N+L.search+L.hash:b=!0}catch{}let P=VP(u,{relative:i}),w=fN(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:p});function x(y){r&&r(y),y.defaultPrevented||w(y)}return X.createElement("a",Vh({},v,{href:C||P,onClick:b||s?r:x,ref:n,target:l}))}),Jo=X.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,p=ES(e,oN),v=Bf(l,{relative:p.relative}),I=Ha(),C=X.useContext(pS),{navigator:b}=X.useContext(Eo),P=C!=null&&dN(v)&&u===!0,w=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,x=I.pathname,y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(x=x.toLowerCase(),y=y?y.toLowerCase():null,w=w.toLowerCase());let L=x===w||!o&&x.startsWith(w)&&x.charAt(w.length)==="/",N=y!=null&&(y===w||!o&&y.startsWith(w)&&y.charAt(w.length)==="/"),U={isActive:L,isPending:N,isTransitioning:P},F=L?r:void 0,V;typeof s=="function"?V=s(U):V=[s,L?"active":null,N?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a(U):a;return X.createElement(lo,Vh({},p,{"aria-current":F,className:V,ref:n,style:Z,to:l,unstable_viewTransition:u}),typeof c=="function"?c(U):c)});var Pm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pm||(Pm={}));var F_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(F_||(F_={}));function hN(t){let e=X.useContext(Lf);return e||mt(!1),e}function fN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=qa(),u=Ha(),c=Bf(t,{relative:o});return X.useCallback(p=>{if(iN(p,n)){p.preventDefault();let v=r!==void 0?r:Uh(u)===Uh(c);l(t,{replace:v,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function dN(t,e){e===void 0&&(e={});let n=X.useContext(aN);n==null&&mt(!1);let{basename:r}=hN(Pm.useViewTransitionState),i=Bf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=pu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cm(i.pathname,o)!=null||Cm(i.pathname,s)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},IS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,p=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,I=u&63;l||(I=64,o||(v=64)),r.push(n[c],n[p],n[v],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new gN;const v=s<<2|a>>4;if(r.push(v),u!==64){const I=a<<4&240|u>>2;if(r.push(I),p!==64){const C=u<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mN=function(t){const e=xS(t);return IS.encodeByteArray(e,!0)},$h=function(t){return mN(t).replace(/\./g,"")},SS=function(t){try{return IS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=()=>yN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},Ff=()=>{try{return vN()||_N()||wN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TS=t=>{var e,n;return(n=(e=Ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AS=t=>{const e=TS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bS=()=>{var t;return(t=Ff())===null||t===void 0?void 0:t.config},RS=t=>{var e;return(e=Ff())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[$h(JSON.stringify(n)),$h(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function IN(){var t;const e=(t=Ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AN(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bN(){try{return typeof indexedDB=="object"}catch{return!1}}function RN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CN,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?kN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hi(i,a,r)}}function kN(t,e){return t.replace(PN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PN=/\{\$([^}]+)}/g;function NN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(V_(s)&&V_(o)){if(!jh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MN(t,e){const n=new DN(t,e);return n.subscribe.bind(n)}class DN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ON(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bp),i.error===void 0&&(i.error=bp),i.complete===void 0&&(i.complete=bp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ON(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BN(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(t){return t===Os?void 0:t}function BN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const VN={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},$N=De.INFO,jN={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},zN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xy{constructor(e){this.name=e,this._logLevel=$N,this._logHandler=zN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const HN=(t,e)=>e.some(n=>t instanceof n);let $_,j_;function qN(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GN(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kS=new WeakMap,Nm=new WeakMap,PS=new WeakMap,Rp=new WeakMap,Iy=new WeakMap;function WN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kS.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function KN(t){if(Nm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nm.set(t,e)}let Mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QN(t){Mm=t(Mm)}function YN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cp(this),e,...n);return PS.set(r,e.sort?e.sort():[e]),gs(r)}:GN().includes(t)?function(...e){return t.apply(Cp(this),e),gs(kS.get(this))}:function(...e){return gs(t.apply(Cp(this),e))}}function XN(t){return typeof t=="function"?YN(t):(t instanceof IDBTransaction&&KN(t),HN(t,qN())?new Proxy(t,Mm):t)}function gs(t){if(t instanceof IDBRequest)return WN(t);if(Rp.has(t))return Rp.get(t);const e=XN(t);return e!==t&&(Rp.set(t,e),Iy.set(e,t)),e}const Cp=t=>Iy.get(t);function ZN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gs(o.result),l.oldVersion,l.newVersion,gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const JN=["get","getKey","getAll","getAllKeys","count"],e4=["put","add","delete","clear"],kp=new Map;function z_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=e4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return kp.set(e,s),s}QN(t=>({...t,get:(e,n,r)=>z_(e,n)||t.get(e,n,r),has:(e,n)=>!!z_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function n4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",H_="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new xy("@firebase/app"),r4="@firebase/app-compat",i4="@firebase/analytics-compat",s4="@firebase/analytics",o4="@firebase/app-check-compat",a4="@firebase/app-check",l4="@firebase/auth",u4="@firebase/auth-compat",c4="@firebase/database",h4="@firebase/database-compat",f4="@firebase/functions",d4="@firebase/functions-compat",p4="@firebase/installations",g4="@firebase/installations-compat",m4="@firebase/messaging",y4="@firebase/messaging-compat",v4="@firebase/performance",_4="@firebase/performance-compat",w4="@firebase/remote-config",E4="@firebase/remote-config-compat",x4="@firebase/storage",I4="@firebase/storage-compat",S4="@firebase/firestore",T4="@firebase/firestore-compat",A4="firebase",b4="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",R4={[Dm]:"fire-core",[r4]:"fire-core-compat",[s4]:"fire-analytics",[i4]:"fire-analytics-compat",[a4]:"fire-app-check",[o4]:"fire-app-check-compat",[l4]:"fire-auth",[u4]:"fire-auth-compat",[c4]:"fire-rtdb",[h4]:"fire-rtdb-compat",[f4]:"fire-fn",[d4]:"fire-fn-compat",[p4]:"fire-iid",[g4]:"fire-iid-compat",[m4]:"fire-fcm",[y4]:"fire-fcm-compat",[v4]:"fire-perf",[_4]:"fire-perf-compat",[w4]:"fire-rc",[E4]:"fire-rc-compat",[x4]:"fire-gcs",[I4]:"fire-gcs-compat",[S4]:"fire-fst",[T4]:"fire-fst-compat","fire-js":"fire-js",[A4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,Lm=new Map;function C4(t,e){try{t.container.addComponent(e)}catch(n){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function co(t){const e=t.name;if(Lm.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const n of zh.values())C4(n,t);return!0}function Vf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ms=new Bu("app","Firebase",k4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=b4;function Rs(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Om,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ms.create("bad-app-name",{appName:String(i)});if(n||(n=bS()),!n)throw ms.create("no-options");const s=zh.get(i);if(s){if(jh(n,s.options)&&jh(r,s.config))return s;throw ms.create("duplicate-app",{appName:i})}const o=new FN(i);for(const l of Lm.values())o.addComponent(l);const a=new P4(n,r,o);return zh.set(i,a),a}function Sy(t=Om){const e=zh.get(t);if(!e&&t===Om&&bS())return Rs();if(!e)throw ms.create("no-app",{appName:t});return e}function ei(t,e,n){var r;let i=(r=R4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(a.join(" "));return}co(new Es(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="firebase-heartbeat-database",M4=1,gu="firebase-heartbeat-store";let Pp=null;function NS(){return Pp||(Pp=ZN(N4,M4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gu)}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),Pp}async function D4(t){try{return await(await NS()).transaction(gu).objectStore(gu).get(MS(t))}catch(e){if(e instanceof hi)uo.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uo.warn(n.message)}}}async function q_(t,e){try{const r=(await NS()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,MS(t)),await r.done}catch(n){if(n instanceof hi)uo.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});uo.warn(r.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=1024,L4=30*24*60*60*1e3;class U4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=L4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G_(),{heartbeatsToSend:n,unsentEntries:r}=B4(this._heartbeatsCache.heartbeats),i=$h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function G_(){return new Date().toISOString().substring(0,10)}function B4(t,e=O4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),W_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bN()?RN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await D4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W_(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){co(new Es("platform-logger",e=>new t4(e),"PRIVATE")),co(new Es("heartbeat",e=>new U4(e),"PRIVATE")),ei(Dm,H_,t),ei(Dm,H_,"esm2017"),ei("fire-js","")}V4("");var $4="firebase",j4="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei($4,j4,"app");function Ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K_(t){return t!==void 0&&t.enterprise!==void 0}class z4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function DS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H4=DS,OS=new Bu("auth","Firebase",DS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new xy("@firebase/auth");function q4(t,...e){Hh.logLevel<=De.WARN&&Hh.warn(`Auth (${xo}): ${t}`,...e)}function rh(t,...e){Hh.logLevel<=De.ERROR&&Hh.error(`Auth (${xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Ay(t,...e)}function ti(t,...e){return Ay(t,...e)}function LS(t,e,n){const r=Object.assign(Object.assign({},H4()),{[e]:n});return new Bu("auth","Firebase",r).create(e,{appName:t.name})}function G4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),LS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OS.create(t,...e)}function we(t,e,...n){if(!t)throw Ay(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Ni(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W4(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W4()||SN()||"connection"in navigator)?navigator.onLine:!0}function Q4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=xN()||TN()}get(){return K4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Vu(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cs(t,e,n,r,i={}){return BS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Fu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),US.fetch()(FS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function BS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y4),e);try{const i=new Z4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LS(t,c,u);Tr(t,c)}}catch(i){if(i instanceof hi)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function $u(t,e,n,r,i={}){const s=await Cs(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function FS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?by(t.config,i):`${t.config.apiScheme}://${i}`}class Z4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),X4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}async function J4(t,e){return Cs(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){return Cs(t,"POST","/v1/accounts:delete",e)}async function tM(t,e){return Cs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nM(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=Ry(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jl(Np(i.auth_time)),issuedAtTime:jl(Np(i.iat)),expirationTime:jl(Np(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Np(t){return Number(t)*1e3}function Ry(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=SS(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rM(t){const e=Ry(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&iM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ia(t,tM(n,{idToken:r}));we(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lM(s.providerUserInfo):[],a=aM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new VS(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,p)}async function oM(t){const e=Et(t);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lM(t){return t.map(e=>{var{providerId:n}=e,r=Ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){const n=await BS(t,{},async()=>{const r=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",US.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return we(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mu;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mu,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ys{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new VS(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nM(this,e)}reload(){return oM(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ia(this,eM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:L,isAnonymous:N,providerData:U,stsTokenManager:F}=n;we(y&&F,e,"internal-error");const V=mu.fromJSON(this.name,F);we(typeof y=="string",e,"internal-error"),Vi(p,e.name),Vi(v,e.name),we(typeof L=="boolean",e,"internal-error"),we(typeof N=="boolean",e,"internal-error"),Vi(I,e.name),Vi(C,e.name),Vi(b,e.name),Vi(P,e.name),Vi(w,e.name),Vi(x,e.name);const Z=new Ys({uid:y,auth:e,email:v,emailVerified:L,displayName:p,isAnonymous:N,photoURL:C,phoneNumber:I,tenantId:b,stsTokenManager:V,createdAt:w,lastLoginAt:x});return U&&Array.isArray(U)&&(Z.providerData=U.map(J=>Object.assign({},J))),P&&(Z._redirectEventId=P),Z}static async _fromIdTokenResponse(e,n,r=!1){const i=new mu;i.updateFromServerResponse(n);const s=new Ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;function xi(t){Ni(t instanceof Function,"Expected a class definition");let e=Y_.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$S.type="NONE";const X_=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ih(this.userKey,i.apiKey,s),this.fullPersistenceKey=ih("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ua(xi(X_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||xi(X_);const o=ih(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const p=Ys._fromJSON(e,c);u!==s&&(a=p),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ua(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ua(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GS(e))return"Blackberry";if(WS(e))return"Webos";if(Cy(e))return"Safari";if((e.includes("chrome/")||zS(e))&&!e.includes("edge/"))return"Chrome";if(qS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jS(t=Nn()){return/firefox\//i.test(t)}function Cy(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zS(t=Nn()){return/crios\//i.test(t)}function HS(t=Nn()){return/iemobile/i.test(t)}function qS(t=Nn()){return/android/i.test(t)}function GS(t=Nn()){return/blackberry/i.test(t)}function WS(t=Nn()){return/webos/i.test(t)}function $f(t=Nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cM(t=Nn()){var e;return $f(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hM(){return AN()&&document.documentMode===10}function KS(t=Nn()){return $f(t)||qS(t)||WS(t)||GS(t)||/windows phone/i.test(t)||HS(t)}function fM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e=[]){let n;switch(t){case"Browser":n=Z_(Nn());break;case"Worker":n=`${Z_(Nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e={}){return Cs(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=6;class mM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new dM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Et(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pM(this),n=new mM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&q4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bi(t){return Et(t)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=MN(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function YS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vM().appendChild(r)})}function _M(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wM="https://www.google.com/recaptcha/enterprise.js?render=",EM="recaptcha-enterprise",xM="NO_RECAPTCHA";class IM{constructor(e){this.type=EM,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{J4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new z4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;K_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(xM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&K_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}YS(wM+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Gh(t,e,n,r=!1){const i=new IM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e){const n=Vf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jh(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function TM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AM(t,e,n){const r=Bi(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=XS(e),{host:o,port:a}=bM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||RM()}function XS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bM(t){const e=XS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ew(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ew(o)}}}function ew(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function CM(t,e){return Cs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t,e){return $u(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function PM(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends ky{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Gh(e,r,"signInWithPassword");return Mp(e,i)}else return Mp(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Gh(e,r,"signInWithPassword");return Mp(e,s)}else return Promise.reject(i)});case"emailLink":return kM(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return PM(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return $u(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="http://localhost";class ho extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ty(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ho(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:NM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DM(t){const e=Sl(Tl(t)).link,n=e?Sl(Tl(e)).deep_link_id:null,r=Sl(Tl(t)).deep_link_id;return(r?Sl(Tl(r)).link:null)||r||n||e||t}class Py{constructor(e){var n,r,i,s,o,a;const l=Sl(Tl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,p=MM((i=l.mode)!==null&&i!==void 0?i:null);we(u&&c&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=DM(e);try{return new Py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.providerId=Ga.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Py.parseLink(n);return we(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}Ga.PROVIDER_ID="password";Ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Ny{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends ju{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends ju{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends ju{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e){return $u(t,"POST","/v1/accounts:signUp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ys._fromIdTokenResponse(e,r,i),o=tw(r);return new Mi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tw(r);return new Mi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t){var e;const n=Bi(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Mi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await sh(n,{returnSecureToken:!0}),i=await Mi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends hi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wh(e,n,r,i)}}function ZS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,s,e,r):s})}async function LM(t,e,n=!1){const r=await Ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ia(t,ZS(r,i,e,t),n);we(s.idToken,r,"internal-error");const o=Ry(s.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Mi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(t,e,n=!1){const r="signIn",i=await ZS(t,r,e),s=await Mi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function BM(t,e){return JS(Bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(t){const e=Bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FM(t,e,n){var r;const i=Bi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Gh(i,s,"signUpPassword");o=sh(i,u)}else o=sh(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Gh(i,s,"signUpPassword");return sh(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&eT(t),u}),l=await Mi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function VM(t,e,n){return BM(Et(t),Ga.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){return Cs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Et(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ia(r,$M(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function jM(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function zM(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function HM(t){return Et(t).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(){const t=Nn();return Cy(t)||$f(t)}const GM=1e3,WM=10;class rT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qM()&&fM(),this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);hM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rT.type="LOCAL";const KM=rT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iT.type="SESSION";const sT=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await QM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=My("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function XM(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function ZM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function e3(){return oT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebaseLocalStorageDb",t3=1,Qh="firebaseLocalStorage",lT="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zf(t,e){return t.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function n3(){const t=indexedDB.deleteDatabase(aT);return new zu(t).toPromise()}function Bm(){const t=indexedDB.open(aT,t3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qh,{keyPath:lT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qh)?e(r):(r.close(),await n3(),e(await Bm()))})})}async function nw(t,e,n){const r=zf(t,!0).put({[lT]:e,value:n});return new zu(r).toPromise()}async function r3(t,e){const n=zf(t,!1).get(e),r=await new zu(n).toPromise();return r===void 0?null:r.value}function rw(t,e){const n=zf(t,!0).delete(e);return new zu(n).toPromise()}const i3=800,s3=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jf._getInstance(e3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new YM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await nw(e,Kh,"1"),await rw(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>r3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zf(i,!1).getAll();return new zu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const o3=uT;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){return e?xi(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a3(t){return JS(t.auth,new Dy(t),t.bypassAuthState)}function l3(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),UM(n,new Dy(t),t.bypassAuthState)}async function u3(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),LM(n,new Dy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a3;case"linkViaPopup":case"linkViaRedirect":return u3;case"reauthViaPopup":case"reauthViaRedirect":return l3;default:Tr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new Vu(2e3,1e4);async function fT(t,e,n){const r=Bi(t);G4(t,e,Ny);const i=cT(r,n);return new js(r,"signInViaPopup",e,i).executeNotNull()}class js extends hT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=My();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c3.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="pendingRedirect",oh=new Map;class f3 extends hT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await d3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d3(t,e){const n=m3(e),r=g3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function p3(t,e){oh.set(t._key(),e)}function g3(t){return xi(t._redirectPersistence)}function m3(t){return ih(h3,t.config.apiKey,t.name)}async function y3(t,e,n=!1){const r=Bi(t),i=cT(r,e),o=await new f3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=10*60*1e3;class _3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v3&&this.cachedEventUids.clear(),this.cachedEventUids.has(iw(e))}saveEventToCache(e){this.cachedEventUids.add(iw(e)),this.lastProcessedEventTime=Date.now()}}function iw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e={}){return Cs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I3=/^https?/;async function S3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E3(t);for(const n of e)try{if(T3(n))return}catch{}Tr(t,"unauthorized-domain")}function T3(t){const e=Um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I3.test(n))return!1;if(x3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=new Vu(3e4,6e4);function sw(){const t=ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function b3(t){return new Promise((e,n)=>{var r,i,s;function o(){sw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sw(),n(ti(t,"network-request-failed"))},timeout:A3.get()})}if(!((i=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ni().gapi)===null||s===void 0)&&s.load)o();else{const a=_M("iframefcb");return ni()[a]=()=>{gapi.load?o():n(ti(t,"network-request-failed"))},YS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ah=null,e})}let ah=null;function R3(t){return ah=ah||b3(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new Vu(5e3,15e3),k3="__/auth/iframe",P3="emulator/auth/iframe",N3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D3(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?by(e,P3):`https://${t.config.authDomain}/${k3}`,r={apiKey:e.apiKey,appName:t.name,v:xo},i=M3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Fu(r).slice(1)}`}async function O3(t){const e=await R3(t),n=ni().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:D3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ti(t,"network-request-failed"),a=ni().setTimeout(()=>{s(o)},C3.get());function l(){ni().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U3=500,B3=600,F3="_blank",V3="http://localhost";class ow{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $3(t,e,n,r=U3,i=B3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},L3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Nn().toLowerCase();n&&(a=zS(u)?F3:n),jS(u)&&(e=e||V3,l.scrollbars="yes");const c=Object.entries(l).reduce((v,[I,C])=>`${v}${I}=${C},`,"");if(cM(u)&&a!=="_self")return j3(e||"",a),new ow(null);const p=window.open(e||"",a,c);we(p,t,"popup-blocked");try{p.focus()}catch{}return new ow(p)}function j3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="__/auth/handler",H3="emulator/auth/handler",q3=encodeURIComponent("fac");async function aw(t,e,n,r,i,s){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xo,eventId:i};if(e instanceof Ny){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,p]of Object.entries(s||{}))o[c]=p}if(e instanceof ju){const c=e.getScopes().filter(p=>p!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${q3}=${encodeURIComponent(l)}`:"";return`${G3(t)}?${Fu(a).slice(1)}${u}`}function G3({config:t}){return t.emulator?by(t,H3):`https://${t.authDomain}/${z3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="webStorageSupport";class W3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=y3,this._overrideRedirectResult=p3}async _openPopup(e,n,r,i){var s;Ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await aw(e,n,r,Um(),i);return $3(e,o,My())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await aw(e,n,r,Um(),i);return XM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O3(e),r=new _3(e);return n.register("authEvent",i=>(we(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dp,{type:Dp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Dp];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KS()||Cy()||$f()}}const K3=W3;var lw="@firebase/auth",uw="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function X3(t){co(new Es("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(t)},u=new yM(r,i,s,l);return TM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),co(new Es("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new Q3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(lw,uw,Y3(t)),ei(lw,uw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=5*60,J3=RS("authIdTokenMaxAge")||Z3;let cw=null;const e6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J3)return;const i=n==null?void 0:n.token;cw!==i&&(cw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Xs(t=Sy()){const e=Vf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SM(t,{popupRedirectResolver:K3,persistence:[o3,KM,sT]}),r=RS("authTokenSyncURL");if(r){const s=e6(r);zM(n,s,()=>s(n.currentUser)),jM(n,o=>s(o))}const i=TS("auth");return i&&AM(n,`http://${i}`),n}X3("Browser");var t6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},se,Oy=Oy||{},Ie=t6||self;function Hf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Hu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function n6(t){return Object.prototype.hasOwnProperty.call(t,Op)&&t[Op]||(t[Op]=++r6)}var Op="closure_uid_"+(1e9*Math.random()>>>0),r6=0;function i6(t,e,n){return t.call.apply(t.bind,arguments)}function s6(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Cn=i6:Cn=s6,Cn.apply(null,arguments)}function Rc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function sn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ks(){this.s=this.s,this.o=this.o}var o6=0;ks.prototype.s=!1;ks.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),o6!=0)&&n6(this)};ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ly(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function kn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kn.prototype.h=function(){this.defaultPrevented=!0};var a6=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ie.addEventListener("test",()=>{},e),Ie.removeEventListener("test",()=>{},e)}catch{}return t}();function vu(t){return/^[\s\xa0]*$/.test(t)}function qf(){var t=Ie.navigator;return t&&(t=t.userAgent)?t:""}function Gr(t){return qf().indexOf(t)!=-1}function Uy(t){return Uy[" "](t),t}Uy[" "]=function(){};function l6(t,e){var n=eD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var u6=Gr("Opera"),Sa=Gr("Trident")||Gr("MSIE"),gT=Gr("Edge"),Fm=gT||Sa,mT=Gr("Gecko")&&!(qf().toLowerCase().indexOf("webkit")!=-1&&!Gr("Edge"))&&!(Gr("Trident")||Gr("MSIE"))&&!Gr("Edge"),c6=qf().toLowerCase().indexOf("webkit")!=-1&&!Gr("Edge");function yT(){var t=Ie.document;return t?t.documentMode:void 0}var Vm;e:{var Lp="",Up=function(){var t=qf();if(mT)return/rv:([^\);]+)(\)|;)/.exec(t);if(gT)return/Edge\/([\d\.]+)/.exec(t);if(Sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(c6)return/WebKit\/(\S+)/.exec(t);if(u6)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Up&&(Lp=Up?Up[1]:""),Sa){var Bp=yT();if(Bp!=null&&Bp>parseFloat(Lp)){Vm=String(Bp);break e}}Vm=Lp}var $m;if(Ie.document&&Sa){var fw=yT();$m=fw||parseInt(Vm,10)||void 0}else $m=void 0;var h6=$m;function _u(t,e){if(kn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mT){e:{try{Uy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:f6[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_u.$.h.call(this)}}sn(_u,kn);var f6={2:"touch",3:"pen",4:"mouse"};_u.prototype.h=function(){_u.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qu="closure_listenable_"+(1e6*Math.random()|0),d6=0;function p6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++d6,this.fa=this.ia=!1}function Gf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function By(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function g6(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function vT(t){const e={};for(const n in t)e[n]=t[n];return e}const dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _T(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<dw.length;s++)n=dw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Wf(t){this.src=t,this.g={},this.h=0}Wf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=zm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new p6(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function jm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=pT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Gf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function zm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Fy="closure_lm_"+(1e6*Math.random()|0),Fp={};function wT(t,e,n,r,i){if(r&&r.once)return xT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wT(t,e[s],n,r,i);return null}return n=jy(n),t&&t[qu]?t.O(e,n,Hu(r)?!!r.capture:!!r,i):ET(t,e,n,!1,r,i)}function ET(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Hu(i)?!!i.capture:!!i,a=$y(t);if(a||(t[Fy]=a=new Wf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=m6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)a6||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ST(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function m6(){function t(n){return e.call(t.src,t.listener,n)}const e=y6;return t}function xT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xT(t,e[s],n,r,i);return null}return n=jy(n),t&&t[qu]?t.P(e,n,Hu(r)?!!r.capture:!!r,i):ET(t,e,n,!0,r,i)}function IT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IT(t,e[s],n,r,i);else r=Hu(r)?!!r.capture:!!r,n=jy(n),t&&t[qu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=zm(s,n,r,i),-1<n&&(Gf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=$y(t))&&(e=t.g[e.toString()],t=-1,e&&(t=zm(e,n,r,i)),(n=-1<t?e[t]:null)&&Vy(n))}function Vy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[qu])jm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ST(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$y(e))?(jm(n,t),n.h==0&&(n.src=null,e[Fy]=null)):Gf(t)}}}function ST(t){return t in Fp?Fp[t]:Fp[t]="on"+t}function y6(t,e){if(t.fa)t=!0;else{e=new _u(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vy(t),t=n.call(r,e)}return t}function $y(t){return t=t[Fy],t instanceof Wf?t:null}var Vp="__closure_events_fn_"+(1e9*Math.random()>>>0);function jy(t){return typeof t=="function"?t:(t[Vp]||(t[Vp]=function(e){return t.handleEvent(e)}),t[Vp])}function rn(){ks.call(this),this.i=new Wf(this),this.S=this,this.J=null}sn(rn,ks);rn.prototype[qu]=!0;rn.prototype.removeEventListener=function(t,e,n,r){IT(this,t,e,n,r)};function gn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new kn(e,t);else if(e instanceof kn)e.target=e.target||t;else{var i=e;e=new kn(r,t),_T(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Cc(o,r,!0,e)&&i}if(o=e.g=t,i=Cc(o,r,!0,e)&&i,i=Cc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Cc(o,r,!1,e)&&i}rn.prototype.N=function(){if(rn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gf(n[r]);delete t.g[e],t.h--}}this.J=null};rn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};rn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Cc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&jm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var zy=Ie.JSON.stringify;class v6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function _6(){var t=Hy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class w6{constructor(){this.h=this.g=null}add(e,n){const r=TT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var TT=new v6(()=>new E6,t=>t.reset());class E6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function x6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function I6(t){Ie.setTimeout(()=>{throw t},0)}let wu,Eu=!1,Hy=new w6,AT=()=>{const t=Ie.Promise.resolve(void 0);wu=()=>{t.then(S6)}};var S6=()=>{for(var t;t=_6();){try{t.h.call(t.g)}catch(n){I6(n)}var e=TT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Eu=!1};function Kf(t,e){rn.call(this),this.h=t||1,this.g=e||Ie,this.j=Cn(this.qb,this),this.l=Date.now()}sn(Kf,rn);se=Kf.prototype;se.ga=!1;se.T=null;se.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gn(this,"tick"),this.ga&&(qy(this),this.start()))}};se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}se.N=function(){Kf.$.N.call(this),qy(this),delete this.g};function Gy(t,e,n){if(typeof t=="function")n&&(t=Cn(t,n));else if(t&&typeof t.handleEvent=="function")t=Cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ie.setTimeout(t,e||0)}function bT(t){t.g=Gy(()=>{t.g=null,t.i&&(t.i=!1,bT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class T6 extends ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bT(this)}N(){super.N(),this.g&&(Ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xu(t){ks.call(this),this.h=t,this.g={}}sn(xu,ks);var pw=[];function RT(t,e,n,r){Array.isArray(n)||(n&&(pw[0]=n.toString()),n=pw);for(var i=0;i<n.length;i++){var s=wT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function CT(t){By(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vy(e)},t),t.g={}}xu.prototype.N=function(){xu.$.N.call(this),CT(this)};xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Qf(){this.g=!0}Qf.prototype.Ea=function(){this.g=!1};function A6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var p=c.split("_");o=2<=p.length&&p[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function b6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ea(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+C6(t,n)+(r?" "+r:"")})}function R6(t,e){t.info(function(){return"TIMEOUT: "+e})}Qf.prototype.info=function(){};function C6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zy(n)}catch{return e}}var So={},gw=null;function Yf(){return gw=gw||new rn}So.Ta="serverreachability";function kT(t){kn.call(this,So.Ta,t)}sn(kT,kn);function Iu(t){const e=Yf();gn(e,new kT(e))}So.STAT_EVENT="statevent";function PT(t,e){kn.call(this,So.STAT_EVENT,t),this.stat=e}sn(PT,kn);function Bn(t){const e=Yf();gn(e,new PT(e,t))}So.Ua="timingevent";function NT(t,e){kn.call(this,So.Ua,t),this.size=e}sn(NT,kn);function Gu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){t()},e)}var Xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wy(){}Wy.prototype.h=null;function mw(t){return t.h||(t.h=t.i())}function DT(){}var Wu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ky(){kn.call(this,"d")}sn(Ky,kn);function Qy(){kn.call(this,"c")}sn(Qy,kn);var Hm;function Zf(){}sn(Zf,Wy);Zf.prototype.g=function(){return new XMLHttpRequest};Zf.prototype.i=function(){return{}};Hm=new Zf;function Ku(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xu(this),this.P=k6,t=Fm?125:void 0,this.V=new Kf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OT}function OT(){this.i=null,this.g="",this.h=!1}var k6=45e3,qm={},Yh={};se=Ku.prototype;se.setTimeout=function(t){this.P=t};function Gm(t,e,n){t.L=1,t.v=ed(Di(e)),t.s=n,t.S=!0,LT(t,null)}function LT(t,e){t.G=Date.now(),Qu(t),t.A=Di(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),HT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new OT,t.g=h2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new T6(Cn(t.Pa,t,t.g),t.O)),RT(t.U,t.g,"readystatechange",t.nb),e=t.I?vT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Iu(),A6(t.j,t.u,t.A,t.m,t.W,t.s)}se.nb=function(t){t=t.target;const e=this.M;e&&Kr(t)==3?e.l():this.Pa(t)};se.Pa=function(t){try{if(t==this.g)e:{const c=Kr(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>c)&&(c!=3||Fm||this.g&&(this.h.h||this.g.ja()||ww(this.g)))){this.J||c!=4||e==7||(e==8||0>=p?Iu(3):Iu(2)),Jf(this);var n=this.g.da();this.ca=n;t:if(UT(this)){var r=ww(this.g);t="";var i=r.length,s=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zs(this),zl(this);var o="";break t}this.h.i=new Ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,b6(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vu(a)){var u=a;break t}}u=null}if(n=u)ea(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wm(this,n);else{this.i=!1,this.o=3,Bn(12),zs(this),zl(this);break e}}this.S?(BT(this,c,o),Fm&&this.i&&c==3&&(RT(this.U,this.V,"tick",this.mb),this.V.start())):(ea(this.j,this.m,o,null),Wm(this,o)),c==4&&zs(this),this.i&&!this.J&&(c==4?a2(this.l,this):(this.i=!1,Qu(this)))}else X6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),zs(this),zl(this)}}}catch{}finally{}};function UT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function BT(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=P6(t,n),i==Yh){e==4&&(t.o=4,Bn(14),r=!1),ea(t.j,t.m,null,"[Incomplete Response]");break}else if(i==qm){t.o=4,Bn(15),ea(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ea(t.j,t.m,i,null),Wm(t,i);UT(t)&&i!=Yh&&i!=qm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tv(e),e.M=!0,Bn(11))):(ea(t.j,t.m,n,"[Invalid Chunked Response]"),zs(t),zl(t))}se.mb=function(){if(this.g){var t=Kr(this.g),e=this.g.ja();this.C<e.length&&(Jf(this),BT(this,t,e),this.i&&t!=4&&Qu(this))}};function P6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Yh:(n=Number(e.substring(n,r)),isNaN(n)?qm:(r+=1,r+n>e.length?Yh:(e=e.slice(r,r+n),t.C=r+n,e)))}se.cancel=function(){this.J=!0,zs(this)};function Qu(t){t.Y=Date.now()+t.P,FT(t,t.P)}function FT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Gu(Cn(t.lb,t),e)}function Jf(t){t.B&&(Ie.clearTimeout(t.B),t.B=null)}se.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(R6(this.j,this.A),this.L!=2&&(Iu(),Bn(17)),zs(this),this.o=2,zl(this)):FT(this,this.Y-t)};function zl(t){t.l.H==0||t.J||a2(t.l,t)}function zs(t){Jf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qy(t.V),CT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Wm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Km(n.i,t))){if(!t.K&&Km(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jh(n),id(n);else break e;ev(n),Bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Gu(Cn(n.ib,n),6e3));if(1>=WT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Hs(n,11)}else if((t.K||n.g==t)&&Jh(n),!vu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const p=u[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const v=u[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const I=t.g;if(I){const C=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.i;s.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Yy(s,s.h),s.h=null))}if(r.F){const b=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,it(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=c2(r,r.J?r.pa:null,r.Y),o.K){KT(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Jf(a),Qu(a)),r.g=o}else s2(r);0<n.j.length&&sd(n)}else u[0]!="stop"&&u[0]!="close"||Hs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Hs(n,7):Jy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Iu(4)}catch{}}function N6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function M6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function VT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=M6(t),r=N6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var $T=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function D6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zs){this.h=t.h,Xh(this,t.j),this.s=t.s,this.g=t.g,Zh(this,t.m),this.l=t.l;var e=t.i,n=new Su;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yw(this,n),this.o=t.o}else t&&(e=String(t).match($T))?(this.h=!1,Xh(this,e[1]||"",!0),this.s=Al(e[2]||""),this.g=Al(e[3]||"",!0),Zh(this,e[4]),this.l=Al(e[5]||"",!0),yw(this,e[6]||"",!0),this.o=Al(e[7]||"")):(this.h=!1,this.i=new Su(null,this.h))}Zs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bl(e,vw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(bl(e,vw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(bl(n,n.charAt(0)=="/"?U6:L6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bl(n,F6)),t.join("")};function Di(t){return new Zs(t)}function Xh(t,e,n){t.j=n?Al(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yw(t,e,n){e instanceof Su?(t.i=e,V6(t.i,t.h)):(n||(e=bl(e,B6)),t.i=new Su(e,t.h))}function it(t,e,n){t.i.set(e,n)}function ed(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Al(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,O6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function O6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var vw=/[#\/\?@]/g,L6=/[#\?:]/g,U6=/[#\?]/g,B6=/[#\?@]/g,F6=/#/g;function Su(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ps(t){t.g||(t.g=new Map,t.h=0,t.i&&D6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}se=Su.prototype;se.add=function(t,e){Ps(this),this.i=null,t=Wa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jT(t,e){Ps(t),e=Wa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zT(t,e){return Ps(t),e=Wa(t,e),t.g.has(e)}se.forEach=function(t,e){Ps(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};se.ta=function(){Ps(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};se.Z=function(t){Ps(this);let e=[];if(typeof t=="string")zT(this,t)&&(e=e.concat(this.g.get(Wa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};se.set=function(t,e){return Ps(this),this.i=null,t=Wa(this,t),zT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};se.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function HT(t,e,n){jT(t,e),0<n.length&&(t.i=null,t.g.set(Wa(t,e),Ly(n)),t.h+=n.length)}se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Wa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function V6(t,e){e&&!t.j&&(Ps(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jT(this,r),HT(this,i,n))},t)),t.j=e}var $6=class{constructor(t,e){this.g=t,this.map=e}};function qT(t){this.l=t||j6,Ie.PerformanceNavigationTiming?(t=Ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ie.g&&Ie.g.Ka&&Ie.g.Ka()&&Ie.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var j6=10;function GT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function WT(t){return t.h?1:t.g?t.g.size:0}function Km(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yy(t,e){t.g?t.g.add(e):t.h=e}function KT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qT.prototype.cancel=function(){if(this.i=QT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function QT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ly(t.i)}var z6=class{stringify(t){return Ie.JSON.stringify(t,void 0)}parse(t){return Ie.JSON.parse(t,void 0)}};function H6(){this.g=new z6}function q6(t,e,n){const r=n||"";try{VT(t,function(i,s){let o=i;Hu(i)&&(o=zy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function G6(t,e){const n=new Qf;if(Ie.Image){const r=new Image;r.onload=Rc(kc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rc(kc,n,r,"TestLoadImage: error",!1,e),r.onabort=Rc(kc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rc(kc,n,r,"TestLoadImage: timeout",!1,e),Ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function kc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function td(t){this.l=t.ec||null,this.j=t.ob||!1}sn(td,Wy);td.prototype.g=function(){return new nd(this.l,this.j)};td.prototype.i=function(t){return function(){return t}}({});function nd(t,e){rn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn(nd,rn);var Xy=0;se=nd.prototype;se.open=function(t,e){if(this.readyState!=Xy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tu(this)};se.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yu(this)),this.readyState=Xy};se.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tu(this)),this.g&&(this.readyState=3,Tu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function YT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}se.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yu(this):Tu(this),this.readyState==3&&YT(this)}};se.Za=function(t){this.g&&(this.response=this.responseText=t,Yu(this))};se.Ya=function(t){this.g&&(this.response=t,Yu(this))};se.ka=function(){this.g&&Yu(this)};function Yu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tu(t)}se.setRequestHeader=function(t,e){this.v.append(t,e)};se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};se.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(nd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var W6=Ie.JSON.parse;function xt(t){rn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=XT,this.L=this.M=!1}sn(xt,rn);var XT="",K6=/^https?$/i,Q6=["POST","PUT"];se=xt.prototype;se.Oa=function(t){this.M=t};se.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hm.g(),this.C=this.u?mw(this.u):mw(Hm),this.g.onreadystatechange=Cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){_w(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ie.FormData&&t instanceof Ie.FormData,!(0<=pT(Q6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e2(this),0<this.B&&((this.L=Y6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cn(this.ua,this)):this.A=Gy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){_w(this,s)}};function Y6(t){return Sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}se.ua=function(){typeof Oy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))};function _w(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZT(t),rd(t)}function ZT(t){t.F||(t.F=!0,gn(t,"complete"),gn(t,"error"))}se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gn(this,"complete"),gn(this,"abort"),rd(this))};se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rd(this,!0)),xt.$.N.call(this)};se.La=function(){this.s||(this.G||this.v||this.l?JT(this):this.kb())};se.kb=function(){JT(this)};function JT(t){if(t.h&&typeof Oy<"u"&&(!t.C[1]||Kr(t)!=4||t.da()!=2)){if(t.v&&Kr(t)==4)Gy(t.La,0,t);else if(gn(t,"readystatechange"),Kr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match($T)[1]||null;!i&&Ie.self&&Ie.self.location&&(i=Ie.self.location.protocol.slice(0,-1)),r=!K6.test(i?i.toLowerCase():"")}n=r}if(n)gn(t,"complete"),gn(t,"success");else{t.m=6;try{var s=2<Kr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ZT(t)}}finally{rd(t)}}}}function rd(t,e){if(t.g){e2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||gn(t,"ready");try{n.onreadystatechange=r}catch{}}}function e2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ie.clearTimeout(t.A),t.A=null)}se.isActive=function(){return!!this.g};function Kr(t){return t.g?t.g.readyState:0}se.da=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}};se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};se.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),W6(e)}};function ww(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case XT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function X6(t){const e={};t=(t.g&&2<=Kr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(vu(t[r]))continue;var n=x6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}g6(e,function(r){return r.join(", ")})}se.Ia=function(){return this.m};se.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function t2(t){let e="";return By(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):it(t,e,n))}function dl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n2(t){this.Ga=0,this.j=[],this.l=new Qf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dl("baseRetryDelayMs",5e3,t),this.hb=dl("retryDelaySeedMs",1e4,t),this.eb=dl("forwardChannelMaxRetries",2,t),this.xa=dl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qT(t&&t.concurrentRequestLimit),this.Ja=new H6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}se=n2.prototype;se.ra=8;se.H=1;function Jy(t){if(r2(t),t.H==3){var e=t.W++,n=Di(t.I);if(it(n,"SID",t.K),it(n,"RID",e),it(n,"TYPE","terminate"),Xu(t,n),e=new Ku(t,t.l,e),e.L=2,e.v=ed(Di(n)),n=!1,Ie.navigator&&Ie.navigator.sendBeacon)try{n=Ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=h2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qu(e)}u2(t)}function id(t){t.g&&(tv(t),t.g.cancel(),t.g=null)}function r2(t){id(t),t.u&&(Ie.clearTimeout(t.u),t.u=null),Jh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ie.clearTimeout(t.m),t.m=null)}function sd(t){if(!GT(t.i)&&!t.m){t.m=!0;var e=t.Na;wu||AT(),Eu||(wu(),Eu=!0),Hy.add(e,t),t.C=0}}function Z6(t,e){return WT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Gu(Cn(t.Na,t,e),l2(t,t.C)),t.C++,!0)}se.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ku(this,this.l,t);let s=this.s;if(this.U&&(s?(s=vT(s),_T(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=i2(this,i,e),n=Di(this.I),it(n,"RID",t),it(n,"CVER",22),this.F&&it(n,"X-HTTP-Session-Id",this.F),Xu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(t2(s)))+"&"+e:this.o&&Zy(n,this.o,s)),Yy(this.i,i),this.bb&&it(n,"TYPE","init"),this.P?(it(n,"$req",e),it(n,"SID","null"),i.aa=!0,Gm(i,n,null)):Gm(i,n,e),this.H=2}}else this.H==3&&(t?Ew(this,t):this.j.length==0||GT(this.i)||Ew(this))};function Ew(t,e){var n;e?n=e.m:n=t.W++;const r=Di(t.I);it(r,"SID",t.K),it(r,"RID",n),it(r,"AID",t.V),Xu(t,r),t.o&&t.s&&Zy(r,t.o,t.s),n=new Ku(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=i2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yy(t.i,n),Gm(n,r,e)}function Xu(t,e){t.na&&By(t.na,function(n,r){it(e,r,n)}),t.h&&VT({},function(n,r){it(e,r,n)})}function i2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Cn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{q6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function s2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wu||AT(),Eu||(wu(),Eu=!0),Hy.add(e,t),t.A=0}}function ev(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Gu(Cn(t.Ma,t),l2(t,t.A)),t.A++,!0)}se.Ma=function(){if(this.u=null,o2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Gu(Cn(this.jb,this),t)}};se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),id(this),o2(this))};function tv(t){t.B!=null&&(Ie.clearTimeout(t.B),t.B=null)}function o2(t){t.g=new Ku(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Di(t.wa);it(e,"RID","rpc"),it(e,"SID",t.K),it(e,"AID",t.V),it(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&it(e,"TO",t.qa),it(e,"TYPE","xmlhttp"),Xu(t,e),t.o&&t.s&&Zy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ed(Di(e)),n.s=null,n.S=!0,LT(n,t)}se.ib=function(){this.v!=null&&(this.v=null,id(this),ev(this),Bn(19))};function Jh(t){t.v!=null&&(Ie.clearTimeout(t.v),t.v=null)}function a2(t,e){var n=null;if(t.g==e){Jh(t),tv(t),t.g=null;var r=2}else if(Km(t.i,e))n=e.F,KT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Yf(),gn(r,new NT(r,n)),sd(t)}else s2(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Z6(t,e)||r==2&&ev(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Hs(t,5);break;case 4:Hs(t,10);break;case 3:Hs(t,6);break;default:Hs(t,2)}}}function l2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Hs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Cn(t.pb,t);n||(n=new Zs("//www.google.com/images/cleardot.gif"),Ie.location&&Ie.location.protocol=="http"||Xh(n,"https"),ed(n)),G6(n.toString(),r)}else Bn(2);t.H=0,t.h&&t.h.za(e),u2(t),r2(t)}se.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))};function u2(t){if(t.H=0,t.ma=[],t.h){const e=QT(t.i);(e.length!=0||t.j.length!=0)&&(hw(t.ma,e),hw(t.ma,t.j),t.i.i.length=0,Ly(t.j),t.j.length=0),t.h.ya()}}function c2(t,e,n){var r=n instanceof Zs?Di(n):new Zs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zh(r,r.m);else{var i=Ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zs(null);r&&Xh(s,r),e&&(s.g=e),i&&Zh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&it(r,n,e),it(r,"VER",t.ra),Xu(t,r),r}function h2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new xt(new td({ob:!0})):new xt(t.va),e.Oa(t.J),e}se.isActive=function(){return!!this.h&&this.h.isActive(this)};function f2(){}se=f2.prototype;se.Ba=function(){};se.Aa=function(){};se.za=function(){};se.ya=function(){};se.isActive=function(){return!0};se.Va=function(){};function ef(){if(Sa&&!(10<=Number(h6)))throw Error("Environmental error: no available transport.")}ef.prototype.g=function(t,e){return new ur(t,e)};function ur(t,e){rn.call(this),this.g=new n2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!vu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ka(this)}sn(ur,rn);ur.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=c2(t,null,t.Y),sd(t)};ur.prototype.close=function(){Jy(this.g)};ur.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zy(t),t=n);e.j.push(new $6(e.fb++,t)),e.H==3&&sd(e)};ur.prototype.N=function(){this.g.h=null,delete this.j,Jy(this.g),delete this.g,ur.$.N.call(this)};function d2(t){Ky.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}sn(d2,Ky);function p2(){Qy.call(this),this.status=1}sn(p2,Qy);function Ka(t){this.g=t}sn(Ka,f2);Ka.prototype.Ba=function(){gn(this.g,"a")};Ka.prototype.Aa=function(t){gn(this.g,new d2(t))};Ka.prototype.za=function(t){gn(this.g,new p2)};Ka.prototype.ya=function(){gn(this.g,"b")};function J6(){this.blockSize=-1}function Br(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}sn(Br,J6);Br.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $p(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Br.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)$p(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$p(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$p(this,r),i=0;break}}this.h=i,this.i+=e};Br.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function qe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var eD={};function nv(t){return-128<=t&&128>t?l6(t,function(e){return new qe([e|0],0>e?-1:0)}):new qe([t|0],0>t?-1:0)}function Qr(t){if(isNaN(t)||!isFinite(t))return ha;if(0>t)return hn(Qr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qm;return new qe(e,0)}function g2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return hn(g2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qr(Math.pow(e,8)),r=ha,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Qr(Math.pow(e,s)),r=r.R(s).add(Qr(o))):(r=r.R(n),r=r.add(Qr(o)))}return r}var Qm=4294967296,ha=nv(0),Ym=nv(1),xw=nv(16777216);se=qe.prototype;se.ea=function(){if(_r(this))return-hn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qm+r)*e,e*=Qm}return t};se.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ii(this))return"0";if(_r(this))return"-"+hn(this).toString(t);for(var e=Qr(Math.pow(t,6)),n=this,r="";;){var i=nf(n,e).g;n=tf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ii(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};se.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ii(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function _r(t){return t.h==-1}se.X=function(t){return t=tf(this,t),_r(t)?-1:Ii(t)?0:1};function hn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new qe(n,~t.h).add(Ym)}se.abs=function(){return _r(this)?hn(this):this};se.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new qe(n,n[n.length-1]&-2147483648?-1:0)};function tf(t,e){return t.add(hn(e))}se.R=function(t){if(Ii(this)||Ii(t))return ha;if(_r(this))return _r(t)?hn(this).R(hn(t)):hn(hn(this).R(t));if(_r(t))return hn(this.R(hn(t)));if(0>this.X(xw)&&0>t.X(xw))return Qr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Pc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Pc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Pc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Pc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new qe(n,0)};function Pc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function pl(t,e){this.g=t,this.h=e}function nf(t,e){if(Ii(e))throw Error("division by zero");if(Ii(t))return new pl(ha,ha);if(_r(t))return e=nf(hn(t),e),new pl(hn(e.g),hn(e.h));if(_r(e))return e=nf(t,hn(e)),new pl(hn(e.g),e.h);if(30<t.g.length){if(_r(t)||_r(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ym,r=e;0>=r.X(t);)n=Iw(n),r=Iw(r);var i=Oo(n,1),s=Oo(r,1);for(r=Oo(r,2),n=Oo(n,2);!Ii(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Oo(r,1),n=Oo(n,1)}return e=tf(t,i.R(e)),new pl(i,e)}for(i=ha;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Qr(n),o=s.R(e);_r(o)||0<o.X(t);)n-=r,s=Qr(n),o=s.R(e);Ii(s)&&(s=Ym),i=i.add(s),t=tf(t,o)}return new pl(i,t)}se.gb=function(t){return nf(this,t).h};se.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new qe(n,this.h&t.h)};se.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new qe(n,this.h|t.h)};se.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new qe(n,this.h^t.h)};function Iw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new qe(n,t.h)}function Oo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new qe(i,t.h)}ef.prototype.createWebChannel=ef.prototype.g;ur.prototype.send=ur.prototype.u;ur.prototype.open=ur.prototype.m;ur.prototype.close=ur.prototype.close;Xf.NO_ERROR=0;Xf.TIMEOUT=8;Xf.HTTP_ERROR=6;MT.COMPLETE="complete";DT.EventType=Wu;Wu.OPEN="a";Wu.CLOSE="b";Wu.ERROR="c";Wu.MESSAGE="d";rn.prototype.listen=rn.prototype.O;xt.prototype.listenOnce=xt.prototype.P;xt.prototype.getLastError=xt.prototype.Sa;xt.prototype.getLastErrorCode=xt.prototype.Ia;xt.prototype.getStatus=xt.prototype.da;xt.prototype.getResponseJson=xt.prototype.Wa;xt.prototype.getResponseText=xt.prototype.ja;xt.prototype.send=xt.prototype.ha;xt.prototype.setWithCredentials=xt.prototype.Oa;Br.prototype.digest=Br.prototype.l;Br.prototype.reset=Br.prototype.reset;Br.prototype.update=Br.prototype.j;qe.prototype.add=qe.prototype.add;qe.prototype.multiply=qe.prototype.R;qe.prototype.modulo=qe.prototype.gb;qe.prototype.compare=qe.prototype.X;qe.prototype.toNumber=qe.prototype.ea;qe.prototype.toString=qe.prototype.toString;qe.prototype.getBits=qe.prototype.D;qe.fromNumber=Qr;qe.fromString=g2;var tD=function(){return new ef},nD=function(){return Yf()},jp=Xf,rD=MT,iD=So,Sw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nc=DT,sD=xt,oD=Br,fa=qe;const Tw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new xy("@firebase/firestore");function gl(){return fo.logLevel}function he(t,...e){if(fo.logLevel<=De.DEBUG){const n=e.map(rv);fo.debug(`Firestore (${Qa}): ${t}`,...n)}}function Oi(t,...e){if(fo.logLevel<=De.ERROR){const n=e.map(rv);fo.error(`Firestore (${Qa}): ${t}`,...n)}}function Ta(t,...e){if(fo.logLevel<=De.WARN){const n=e.map(rv);fo.warn(`Firestore (${Qa}): ${t}`,...n)}}function rv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+t;throw Oi(e),new Error(e)}function at(t,e){t||Ee()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class lD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uD{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ti,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ti)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string"),new m2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new An(e)}}class cD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new fD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Xt(0,0))}static max(){return new Se(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Au.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Au?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends Au{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const gD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Au{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return gD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(st.fromString(e))}static fromName(e){return new pe(st.fromString(e).popFirst(5))}static empty(){return new pe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new st(e.slice()))}}function mD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new xs(i,pe.empty(),e)}function yD(t){return new xs(t.readTime,t.key,-1)}class xs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xs(Se.min(),pe.empty(),-1)}static max(){return new xs(Se.max(),pe.empty(),-1)}}function vD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==_D)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ju(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}iv.ae=-1;function od(t){return t==null}function rf(t){return t===0&&1/t==-1/0}function ED(t){return typeof t=="number"&&Number.isInteger(t)&&!rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new sr([])}unionWith(e){let n=new mn(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _2("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(at(!!t),typeof t=="string"){let e=0;const n=xD.exec(t);if(at(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ov(t){const e=t.mapValue.fields.__previous_value__;return sv(e)?ov(e):e}function bu(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ru{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sv(t)?4:SD(t)?9007199254740991:10:Ee()}function oi(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Is(i.timestampValue),a=Is(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return po(i.bytesValue).isEqual(po(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ht(i.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ht(i.integerValue)===Ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ht(i.doubleValue),a=Ht(s.doubleValue);return o===a?rf(o)===rf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Aa(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Aw(o)!==Aw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!oi(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Cu(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function ba(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Rw(t.timestampValue,e.timestampValue);case 4:return Rw(bu(t),bu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=po(s),l=po(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=je(a[u],l[u]);if(c!==0)return c}return je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(Ht(s.latitude),Ht(o.latitude));return a!==0?a:je(Ht(s.longitude),Ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ba(a[u],l[u]);if(c)return c}return je(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Dc.mapValue&&o===Dc.mapValue)return 0;if(s===Dc.mapValue)return 1;if(o===Dc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let p=0;p<l.length&&p<c.length;++p){const v=je(l[p],c[p]);if(v!==0)return v;const I=ba(a[l[p]],u[c[p]]);if(I!==0)return I}return je(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Rw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Is(t),r=Is(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function Ra(t){return Xm(t)}function Xm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xm(n.fields[o])}`;return i+"}"}(t.mapValue):Ee()}function Cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zm(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function kw(t){return!!t&&"nullValue"in t}function Pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function Hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=fn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kn(Hl(this.value))}}function w2(t){const e=[];return To(t.fields,(n,r)=>{const i=new fn([n]);if(lh(r)){const s=w2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rn(e,0,Se.min(),Se.min(),Se.min(),Kn.empty(),0)}static newFoundDocument(e,n,r,i){return new Rn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Rn(e,2,n,Se.min(),Se.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Se.min(),Se.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.position=e,this.inclusive=n}}function Nw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=ba(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n="asc"){this.field=e,this.dir=n}}function TD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{}class Gt extends E2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bD(e,n,r):n==="array-contains"?new kD(e,r):n==="in"?new PD(e,r):n==="not-in"?new ND(e,r):n==="array-contains-any"?new MD(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RD(e,r):new CD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ba(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends E2{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Fr(e,n)}matches(e){return x2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function x2(t){return t.op==="and"}function I2(t){return AD(t)&&x2(t)}function AD(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function Jm(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+Ra(t.value);if(I2(t))return t.filters.map(e=>Jm(e)).join(",");{const e=t.filters.map(n=>Jm(n)).join(",");return`${t.op}(${e})`}}function S2(t,e){return t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.field.isEqual(i.field)&&oi(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&S2(o,i.filters[a]),!0):!1}(t,e):void Ee()}function T2(t){return t instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ra(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(T2).join(" ,")+"}"}(t):"Filter"}class bD extends Gt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class RD extends Gt{constructor(e,n){super(e,"in",n),this.keys=A2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CD extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=A2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function A2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class kD extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&Cu(n.arrayValue,this.value)}}class PD extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class ND extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cu(this.value.arrayValue,n)}}class MD extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function Dw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DD(t,e,n,r,i,s,o)}function lv(t){const e=Ae(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ra(r)).join(",")),e.le=n}return e.le}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mw(t.startAt,e.startAt)&&Mw(t.endAt,e.endAt)}function e0(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function OD(t,e,n,r,i,s,o,a){return new ec(t,e,n,r,i,s,o,a)}function cv(t){return new ec(t)}function Ow(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b2(t){return t.collectionGroup!==null}function ql(t){const e=Ae(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mn(fn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new of(s,r))}),n.has(fn.keyField().canonicalString())||e.he.push(new of(fn.keyField(),r))}return e.he}function ri(t){const e=Ae(t);return e.Pe||(e.Pe=LD(e,ql(t))),e.Pe}function LD(t,e){if(t.limitType==="F")return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new of(i.field,s)});const n=t.endAt?new sf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sf(t.startAt.position,t.startAt.inclusive):null;return Dw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t0(t,e){const n=t.filters.concat([e]);return new ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function n0(t,e,n){return new ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return uv(ri(t),ri(e))&&t.limitType===e.limitType}function R2(t){return`${lv(ri(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>T2(i)).join(", ")}]`),od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ra(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ra(i)).join(",")),`Target(${r})`}(ri(t))}; limitType=${t.limitType})`}function ld(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ql(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Nw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ql(r),i)||r.endAt&&!function(o,a,l){const u=Nw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ql(r),i))}(t,e)}function UD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function C2(t){return(e,n)=>{let r=!1;for(const i of ql(t)){const s=BD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function BD(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ba(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return v2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new vt(pe.comparator);function Li(){return FD}const k2=new vt(pe.comparator);function Rl(...t){let e=k2;for(const n of t)e=e.insert(n.key,n);return e}function P2(t){let e=k2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qs(){return Gl()}function N2(){return Gl()}function Gl(){return new Ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const VD=new vt(pe.comparator),$D=new mn(pe.comparator);function Ne(...t){let e=$D;for(const n of t)e=e.add(n);return e}const jD=new mn(je);function zD(){return jD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function D2(t){return{integerValue:""+t}}function HD(t,e){return ED(e)?D2(e):M2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this._=void 0}}function qD(t,e,n){return t instanceof ku?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sv(s)&&(s=ov(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ca?L2(t,e):t instanceof ka?U2(t,e):function(i,s){const o=O2(i,s),a=Lw(o)+Lw(i.Te);return Zm(o)&&Zm(i.Te)?D2(a):M2(i.serializer,a)}(t,e)}function GD(t,e,n){return t instanceof Ca?L2(t,e):t instanceof ka?U2(t,e):n}function O2(t,e){return t instanceof af?function(r){return Zm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ku extends ud{}class Ca extends ud{constructor(e){super(),this.elements=e}}function L2(t,e){const n=B2(e);for(const r of t.elements)n.some(i=>oi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ka extends ud{constructor(e){super(),this.elements=e}}function U2(t,e){let n=B2(e);for(const r of t.elements)n=n.filter(i=>!oi(i,r));return{arrayValue:{values:n}}}class af extends ud{constructor(e,n){super(),this.serializer=e,this.Te=n}}function Lw(t){return Ht(t.integerValue||t.doubleValue)}function B2(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.field=e,this.transform=n}}function WD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ca&&i instanceof Ca||r instanceof ka&&i instanceof ka?Aa(r.elements,i.elements,oi):r instanceof af&&i instanceof af?oi(r.Te,i.Te):r instanceof ku&&i instanceof ku}(t.transform,e.transform)}class KD{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cd{}function F2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $2(t.key,Dr.none()):new tc(t.key,t.data,Dr.none());{const n=t.data,r=Kn.empty();let i=new mn(fn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ns(t.key,r,new sr(i.toArray()),Dr.none())}}function QD(t,e,n){t instanceof tc?function(i,s,o){const a=i.value.clone(),l=Bw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(i,s,o){if(!uh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Bw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(V2(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wl(t,e,n,r){return t instanceof tc?function(s,o,a,l){if(!uh(s.precondition,o))return a;const u=s.value.clone(),c=Fw(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ns?function(s,o,a,l){if(!uh(s.precondition,o))return a;const u=Fw(s.fieldTransforms,l,o),c=o.data;return c.setAll(V2(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return uh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function YD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=O2(r.transform,i||null);s!=null&&(n===null&&(n=Kn.empty()),n.set(r.field,s))}return n||null}function Uw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Aa(r,i,(s,o)=>WD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tc extends cd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends cd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function V2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Bw(t,e,n){const r=new Map;at(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GD(o,a,n[i]))}return r}function Fw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qD(s,o,e))}return r}class $2 extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XD extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&QD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=N2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=F2(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(n,r)=>Uw(n,r))&&Aa(this.baseMutations,e.baseMutations,(n,r)=>Uw(n,r))}}class fv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){at(e.mutations.length===r.length);let i=function(){return VD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Oe;function tO(t){switch(t){default:return Ee();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function j2(t){if(t===void 0)return Oi("GRPC error has no .code"),K.UNKNOWN;switch(t){case zt.OK:return K.OK;case zt.CANCELLED:return K.CANCELLED;case zt.UNKNOWN:return K.UNKNOWN;case zt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case zt.INTERNAL:return K.INTERNAL;case zt.UNAVAILABLE:return K.UNAVAILABLE;case zt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case zt.NOT_FOUND:return K.NOT_FOUND;case zt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case zt.ABORTED:return K.ABORTED;case zt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case zt.DATA_LOSS:return K.DATA_LOSS;default:return Ee()}}(Oe=zt||(zt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new fa([4294967295,4294967295],0);function Vw(t){const e=nO().encode(t),n=new oD;return n.update(e),new Uint8Array(n.digest())}function $w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fa([n,r],0),new fa([i,s],0)]}class dv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=fa.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(fa.fromNumber(r)));return i.compare(rO)===1&&(i=new fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=Vw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Vw(e),[r,i]=$w(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hd(Se.min(),i,new vt(je),Li(),Ne())}}class nc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nc(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class z2{constructor(e,n){this.targetId=e,this.ge=n}}class H2{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jw{constructor(){this.pe=0,this.ye=Hw(),this.we=Mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ne(),n=Ne(),r=Ne();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new nc(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Hw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class iO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.Ke=zw(),this.$e=new vt(je)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(e0(s))if(r===0){const o=new pe(s.path);this.Ge(n,o,Rn.newNoDocument(o,Se.min()))}else at(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=po(r).toUint8Array()}catch(l){if(l instanceof _2)return Ta("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dv(o,i,s)}catch(l){return Ta(l instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&e0(a.target)){const l=new pe(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,Rn.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Ne();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new hd(e,n,this.$e,this.Qe,r);return this.Qe=Li(),this.Ke=zw(),this.$e=new vt(je),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new jw,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new mn(je),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new jw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function zw(){return new vt(pe.comparator)}function Hw(){return new vt(pe.comparator)}const sO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),aO=(()=>({and:"AND",or:"OR"}))();class lO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r0(t,e){return t.useProto3Json||od(e)?e:{value:e}}function lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uO(t,e){return lf(t,e.toTimestamp())}function ii(t){return at(!!t),Se.fromTimestamp(function(n){const r=Is(n);return new Xt(r.seconds,r.nanos)}(t))}function pv(t,e){return function(r){return new st(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function G2(t){const e=st.fromString(t);return at(Y2(e)),e}function i0(t,e){return pv(t.databaseId,e.path)}function zp(t,e){const n=G2(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(W2(n))}function s0(t,e){return pv(t.databaseId,e)}function cO(t){const e=G2(t);return e.length===4?st.emptyPath():W2(e)}function o0(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function W2(t){return at(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qw(t,e,n){return{name:i0(t,e),fields:n.value.mapValue.fields}}function hO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(at(c===void 0||typeof c=="string"),Mn.fromBase64String(c||"")):(at(c===void 0||c instanceof Uint8Array),Mn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?K.UNKNOWN:j2(u.code);return new ce(c,u.message||"")}(o);n=new H2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zp(t,r.document.name),s=ii(r.document.updateTime),o=r.document.createTime?ii(r.document.createTime):Se.min(),a=new Kn({mapValue:{fields:r.document.fields}}),l=Rn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ch(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zp(t,r.document),s=r.readTime?ii(r.readTime):Se.min(),o=Rn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ch([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zp(t,r.document),s=r.removedTargetIds||[];n=new ch([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new eO(i,s),a=r.targetId;n=new z2(a,o)}}return n}function fO(t,e){let n;if(e instanceof tc)n={update:qw(t,e.key,e.value)};else if(e instanceof $2)n={delete:i0(t,e.key)};else if(e instanceof Ns)n={update:qw(t,e.key,e.data),updateMask:EO(e.fieldMask)};else{if(!(e instanceof XD))return Ee();n={verify:i0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ka)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof af)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(t,e.precondition)),n}function dO(t,e){return t&&t.length>0?(at(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ii(i.updateTime):ii(s);return o.isEqual(Se.min())&&(o=ii(s)),new KD(o,i.transformResults||[])}(n,e))):[]}function pO(t,e){return{documents:[s0(t,e.path)]}}function gO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=s0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=s0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Q2(Fr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(p){return{field:Bo(p.field),direction:vO(p.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=r0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function mO(t){let e=cO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){at(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(p){const v=K2(p);return v instanceof Fr&&I2(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(v=>function(C){return new of(Fo(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(p){let v;return v=typeof p=="object"?p.value:p,od(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(p){const v=!!p.before,I=p.values||[];return new sf(I,v)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const v=!p.before,I=p.values||[];return new sf(I,v)}(n.endAt)),OD(e,i,o,s,a,"F",l,u)}function yO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fo(n.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fo(n.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fo(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fo(n.unaryFilter.field);return Gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Gt.create(Fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>K2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function vO(t){return sO[t]}function _O(t){return oO[t]}function wO(t){return aO[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function Fo(t){return fn.fromServerFormat(t.fieldPath)}function Q2(t){return t instanceof Gt?function(n){if(n.op==="=="){if(Pw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(kw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(kw(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:_O(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(i=>Q2(i));return r.length===1?r[0]:{compositeFilter:{op:wO(n.op),filters:r}}}(t):Ee()}function EO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=Mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.ct=e}}function IO(t){const e=mO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?n0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this._n=new TO}addToCollectionParentIndex(e,n){return this._n.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(xs.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class TO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mn(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mn(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Pa(0)}static Bn(){return new Pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.changes=new Ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wl(r.mutation,i,sr.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Rl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Li();const o=Gl(),a=function(){return Gl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ns)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Wl(c.mutation,u,c.mutation.getFieldMask(),Xt.now())):o.set(u.key,sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var p;return a.set(u,new bO(c,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Gl();let i=new vt((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||sr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const p=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,p=N2();c.forEach(v=>{if(!s.has(v)){const I=F2(n.get(v),r.get(v));I!==null&&p.set(v,I),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(qs());let a=-1,l=s;return o.next(u=>te.forEach(u,(c,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(c)?te.resolve():this.remoteDocumentCache.getEntry(e,c).next(v=>{l=l.insert(c,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ne())).next(c=>({batchId:a,changes:P2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Rl();return this.indexManager.getCollectionParents(e,s).next(a=>te.forEach(a,l=>{const u=function(p,v){return new ec(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((p,v)=>{o=o.insert(p,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Rn.newInvalidDocument(c)))});let a=Rl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Wl(c.mutation,u,sr.empty(),Xt.now()),ld(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return te.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ii(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:IO(i.bundledQuery),readTime:ii(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.overlays=new vt(pe.comparator),this.hr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qs();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=qs(),s=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=qs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return te.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JD(n,r));let s=this.hr.get(n);s===void 0&&(s=Ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Pr=new mn(Jt.Ir),this.Tr=new mn(Jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new pe(new st([])),r=new Jt(n,e),i=new Jt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new pe(new st([])),r=new Jt(n,e),i=new Jt(n,e+1);let s=Ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return pe.comparator(e.key,n.key)||je(e.pr,n.pr)}static Er(e,n){return je(e.pr,n.pr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mn(Jt.Ir)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),i=new Jt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(je);return n.forEach(i=>{const s=new Jt(i,0),o=new Jt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),te.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Jt(new pe(s),0);let a=new mn(je);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),te.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){at(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return te.forEach(n.mutations,i=>{const s=new Jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Jt(n,0),i=this.wr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.vr=e,this.docs=function(){return new vt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Li();const o=n.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vD(yD(c),r)<=0||(i.has(c.key)||ld(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Fr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MO(this)}getSize(e){return te.resolve(this.size)}}class MO extends AO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.persistence=e,this.Mr=new Ya(n=>lv(n),uv),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gv,this.targetCount=0,this.Br=Pa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),te.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.qn(n),te.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.Lr={},this.overlays={},this.kr=new iv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new DO(this),this.indexManager=new SO,this.remoteDocumentCache=function(i){return new NO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new xO(n),this.$r=new CO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new PO(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new LO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return te.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class LO extends wD{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.zr=new gv,this.jr=null}static Hr(e){return new mv(e)}get Jr(){if(this.jr)return this.jr;throw Ee()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),te.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Jr,r=>{const i=pe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return te.or([()=>te.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ne(),i=Ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new UO;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(gl()<=De.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),te.resolve()):(gl()<=De.DEBUG&&he("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(gl()<=De.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):te.resolve())}ji(e,n){if(Ow(n))return te.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=n0(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,n0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return Ow(n)||i.isEqual(Se.min())?te.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?te.resolve(null):(gl()<=De.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.es(e,o,n,mD(i,-1)).next(a=>a))})}Zi(e,n){let r=new mn(C2(e));return n.forEach((i,s)=>{ld(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return gl()<=De.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.zi.getDocumentsMatchingQuery(e,n,xs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new vt(je),this.rs=new Ya(s=>lv(s),uv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function VO(t,e,n,r){return new FO(t,e,n,r)}async function X2(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function $O(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const p=u.batch,v=p.keys();let I=te.resolve();return v.forEach(C=>{I=I.next(()=>c.getEntry(l,C)).next(b=>{const P=u.docVersions.get(C);at(P!==null),b.version.compareTo(P)<0&&(p.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Z2(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function jO(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,p)=>{const v=i.get(p);if(!v)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,p)));let I=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(Mn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(c.resumeToken,r)),i=i.insert(p,I),function(b,P,w){return b.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(v,I,c)&&a.push(n.Qr.updateTargetData(s,I))});let l=Li(),u=Ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(zO(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Se.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function zO(t,e,n){let r=Ne(),i=Ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Li();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function HO(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qO(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function a0(t,e,n){const r=Ae(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ju(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Gw(t,e,n){const r=Ae(t);let i=Se.min(),s=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const p=Ae(l),v=p.rs.get(c);return v!==void 0?te.resolve(p.ns.get(v)):p.Qr.getTargetData(u,c)}(r,o,ri(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:Ne())).next(a=>(GO(r,UD(e),a),{documents:a,hs:s})))}function GO(t,e,n){let r=t.ss.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Ww{constructor(){this.activeTargetIds=zD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WO{constructor(){this.no=new Ww,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ww,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Hp(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class XO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Hp(),l=this.bo(n,r);he("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(he("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ta("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=QO[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Hp();return new Promise((o,a)=>{const l=new sD;l.setWithCredentials(!0),l.listenOnce(rD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jp.NO_ERROR:const c=l.getResponseJson();he(En,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case jp.TIMEOUT:he(En,`RPC '${e}' ${s} timed out`),a(new ce(K.DEADLINE_EXCEEDED,"Request time out"));break;case jp.HTTP_ERROR:const p=l.getStatus();if(he(En,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const I=v==null?void 0:v.error;if(I&&I.status&&I.message){const C=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(w)>=0?w:K.UNKNOWN}(I.status);a(new ce(C,I.message))}else a(new ce(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(K.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{he(En,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);he(En,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Hp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tD(),a=nD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");he(En,`Creating RPC '${e}' stream ${i}: ${c}`,l);const p=o.createWebChannel(c,l);let v=!1,I=!1;const C=new YO({lo:P=>{I?he(En,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(he(En,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),he(En,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},ho:()=>p.close()}),b=(P,w,x)=>{P.listen(w,y=>{try{x(y)}catch(L){setTimeout(()=>{throw L},0)}})};return b(p,Nc.EventType.OPEN,()=>{I||he(En,`RPC '${e}' stream ${i} transport opened.`)}),b(p,Nc.EventType.CLOSE,()=>{I||(I=!0,he(En,`RPC '${e}' stream ${i} transport closed`),C.Vo())}),b(p,Nc.EventType.ERROR,P=>{I||(I=!0,Ta(En,`RPC '${e}' stream ${i} transport errored:`,P),C.Vo(new ce(K.UNAVAILABLE,"The operation could not be completed")))}),b(p,Nc.EventType.MESSAGE,P=>{var w;if(!I){const x=P.data[0];at(!!x);const y=x,L=y.error||((w=y[0])===null||w===void 0?void 0:w.error);if(L){he(En,`RPC '${e}' stream ${i} received error:`,L);const N=L.status;let U=function(Z){const J=zt[Z];if(J!==void 0)return j2(J)}(N),F=L.message;U===void 0&&(U=K.INTERNAL,F="Unknown error status: "+N+" with message "+L.message),I=!0,C.Vo(new ce(U,F)),p.close()}else he(En,`RPC '${e}' stream ${i} received:`,x),C.mo(x)}}),b(a,iD.STAT_EVENT,P=>{P.stat===Sw.PROXY?he(En,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Sw.NOPROXY&&he(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.Ro()},0),C}}function qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){return new lO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new J2(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ce(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZO extends eA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=hO(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?ii(o.readTime):Se.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=o0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=e0(l)?{documents:pO(s,l)}:{query:gO(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=q2(s,o.resumeToken);const u=r0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=lf(s,o.snapshotVersion.toTimestamp());const u=r0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=yO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=o0(this.serializer),n.removeTarget=e,this.t_(n)}}class JO extends eA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=dO(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.T_(r,n)}return at(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=o0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fO(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(K.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(K.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class tL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Oi(n),this.g_=!1):he("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ao(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.v_.add(4),await rc(u),u.x_.set("Unknown"),u.v_.delete(4),await dd(u)}(this))})}),this.x_=new tL(r,i)}}async function dd(t){if(Ao(t))for(const e of t.F_)await e(!0)}async function rc(t){for(const e of t.F_)await e(!1)}function tA(t,e){const n=Ae(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),wv(n)?_v(n):Xa(n).Jo()&&vv(n,e))}function nA(t,e){const n=Ae(t),r=Xa(n);n.C_.delete(e),r.Jo()&&rA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ao(n)&&n.x_.set("Unknown"))}function vv(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).c_(e)}function rA(t,e){t.O_.Ne(e),Xa(t).l_(e)}function _v(t){t.O_=new iO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.x_.p_()}function wv(t){return Ao(t)&&!Xa(t).Ho()&&t.C_.size>0}function Ao(t){return Ae(t).v_.size===0}function iA(t){t.O_=void 0}async function rL(t){t.C_.forEach((e,n)=>{vv(t,e)})}async function iL(t,e){iA(t),wv(t)?(t.x_.S_(e),_v(t)):t.x_.set("Unknown")}async function sL(t,e,n){if(t.x_.set("Online"),e instanceof H2&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uf(t,r)}else if(e instanceof ch?t.O_.Ue(e):e instanceof z2?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Se.min()))try{const r=await Z2(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Mn.EMPTY_BYTE_STRING,c.snapshotVersion)),rA(s,l);const p=new rs(c.target,l,u,c.sequenceNumber);vv(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await uf(t,r)}}async function uf(t,e,n){if(!Ju(e))throw e;t.v_.add(1),await rc(t),t.x_.set("Offline"),n||(n=()=>Z2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await dd(t)})}function sA(t,e){return e().catch(n=>uf(t,n,e))}async function pd(t){const e=Ae(t),n=Ss(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;oL(e);)try{const i=await HO(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,aL(e,i)}catch(i){await uf(e,i)}oA(e)&&aA(e)}function oL(t){return Ao(t)&&t.D_.length<10}function aL(t,e){t.D_.push(e);const n=Ss(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function oA(t){return Ao(t)&&!Ss(t).Ho()&&t.D_.length>0}function aA(t){Ss(t).start()}async function lL(t){Ss(t).d_()}async function uL(t){const e=Ss(t);for(const n of t.D_)e.I_(n.mutations)}async function cL(t,e,n){const r=t.D_.shift(),i=fv.from(r,e,n);await sA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pd(t)}async function hL(t,e){e&&Ss(t).P_&&await async function(r,i){if(function(o){return tO(o)&&o!==K.ABORTED}(i.code)){const s=r.D_.shift();Ss(r).Zo(),await sA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pd(r)}}(t,e),oA(t)&&aA(t)}async function Qw(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ao(n);n.v_.add(3),await rc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await dd(n)}async function fL(t,e){const n=Ae(t);e?(n.v_.delete(2),await dd(n)):e||(n.v_.add(2),await rc(n),n.x_.set("Unknown"))}function Xa(t){return t.N_||(t.N_=function(n,r,i){const s=Ae(n);return s.R_(),new ZO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:rL.bind(null,t),To:iL.bind(null,t),u_:sL.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),wv(t)?_v(t):t.x_.set("Unknown")):(await t.N_.stop(),iA(t))})),t.N_}function Ss(t){return t.B_||(t.B_=function(n,r,i){const s=Ae(n);return s.R_(),new JO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:lL.bind(null,t),To:hL.bind(null,t),E_:uL.bind(null,t),T_:cL.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await pd(t)):(await t.B_.stop(),t.D_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ev(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xv(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),Ju(t))return new ce(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Rl(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new da(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.L_=new vt(pe.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ee():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Na{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Na(e,n,da.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.q_=void 0,this.listeners=[]}}class pL{constructor(){this.queries=new Ya(e=>R2(e),ad),this.onlineState="Unknown",this.Q_=new Set}}async function lA(t,e){const n=Ae(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new dL),i)try{s.q_=await n.onListen(r)}catch(o){const a=xv(o,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&Iv(n)}async function uA(t,e){const n=Ae(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gL(t,e){const n=Ae(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&Iv(n)}function mL(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Iv(t){t.Q_.forEach(e=>{e.next()})}class cA{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.key=e}}class fA{constructor(e){this.key=e}}class yL{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ne(),this.mutatedKeys=Ne(),this.aa=C2(e),this.ua=new da(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new Yw,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,p)=>{const v=i.get(c),I=ld(this.query,p)?p:null,C=!!v&&this.mutatedKeys.has(v.key),b=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;v&&I?v.data.isEqual(I.data)?C!==b&&(r.track({type:3,doc:I}),P=!0):this.Pa(v,I)||(r.track({type:2,doc:I}),P=!0,(l&&this.aa(I,l)>0||u&&this.aa(I,u)<0)&&(a=!0)):!v&&I?(r.track({type:0,doc:I}),P=!0):v&&!I&&(r.track({type:1,doc:v}),P=!0,(l||u)&&(a=!0)),P&&(I?(o=o.add(I),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((u,c)=>function(v,I){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return C(v)-C(I)}(u.type,c.type)||this.aa(u.doc,c.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new Na(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Yw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Ne(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new fA(r))}),this._a.forEach(r=>{e.has(r)||n.push(new hA(r))}),n}Aa(e){this.sa=e.hs,this._a=Ne();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return Na.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class vL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _L{constructor(e){this.key=e,this.Va=!1}}class wL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Ya(a=>R2(a),ad),this.ga=new Map,this.pa=new Set,this.ya=new vt(pe.comparator),this.wa=new Map,this.Sa=new gv,this.ba={},this.Da=new Map,this.Ca=Pa.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function EL(t,e){const n=PL(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await qO(n.localStore,ri(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await xL(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&tA(n.remoteStore,o)}return i}async function xL(t,e,n,r,i){t.Fa=(p,v,I)=>async function(b,P,w,x){let y=P.view.la(w);y.Xi&&(y=await Gw(b.localStore,P.query,!1).then(({documents:U})=>P.view.la(U,y)));const L=x&&x.targetChanges.get(P.targetId),N=P.view.applyChanges(y,b.isPrimaryClient,L);return Zw(b,P.targetId,N.Ea),N.snapshot}(t,p,v,I);const s=await Gw(t.localStore,e,!0),o=new yL(e,s.hs),a=o.la(s.documents),l=nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Zw(t,n,u.Ea);const c=new vL(e,n,o);return t.fa.set(e,c),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function IL(t,e){const n=Ae(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!ad(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await a0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nA(n.remoteStore,r.targetId),l0(n,r.targetId)}).catch(Zu)):(l0(n,r.targetId),await a0(n.localStore,r.targetId,!0))}async function SL(t,e,n){const r=NL(t);try{const i=await function(o,a){const l=Ae(o),u=Xt.now(),c=a.reduce((I,C)=>I.add(C.key),Ne());let p,v;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=Li(),b=Ne();return l.os.getEntries(I,c).next(P=>{C=P,C.forEach((w,x)=>{x.isValidDocument()||(b=b.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,C)).next(P=>{p=P;const w=[];for(const x of a){const y=YD(x,p.get(x.key).overlayedDocument);y!=null&&w.push(new Ns(x.key,y,w2(y.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(I,u,w,a)}).next(P=>{v=P;const w=P.applyToLocalDocumentSet(p,b);return l.documentOverlayCache.saveOverlays(I,P.batchId,w)})}).then(()=>({batchId:v.batchId,changes:P2(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.ba[o.currentUser.toKey()];u||(u=new vt(je)),u=u.insert(a,l),o.ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ic(r,i.changes),await pd(r.remoteStore)}catch(i){const s=xv(i,"Failed to persist write");n.reject(s)}}async function dA(t,e){const n=Ae(t);try{const r=await jO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?at(o.Va):i.removedDocuments.size>0&&(at(o.Va),o.Va=!1))}),await ic(n,r,e)}catch(r){await Zu(r)}}function Xw(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ae(o);l.onlineState=a;let u=!1;l.queries.forEach((c,p)=>{for(const v of p.listeners)v.K_(a)&&(u=!0)}),u&&Iv(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TL(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new vt(pe.comparator);o=o.insert(s,Rn.newNoDocument(s,Se.min()));const a=Ne().add(s),l=new hd(Se.min(),new Map,new vt(je),o,a);await dA(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),Sv(r)}else await a0(r.localStore,e,!1).then(()=>l0(r,e,n)).catch(Zu)}async function AL(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await $O(n.localStore,e);gA(n,r,null),pA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ic(n,i)}catch(i){await Zu(i)}}async function bL(t,e,n){const r=Ae(t);try{const i=await function(o,a){const l=Ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(at(p!==null),c=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);gA(r,e,n),pA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ic(r,i)}catch(i){await Zu(i)}}function pA(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function gA(t,e,n){const r=Ae(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function l0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||mA(t,r)})}function mA(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(nA(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),Sv(t))}function Zw(t,e,n){for(const r of n)r instanceof hA?(t.Sa.addReference(r.key,e),RL(t,r)):r instanceof fA?(he("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||mA(t,r.key)):Ee()}function RL(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.pa.add(r),Sv(t))}function Sv(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new pe(st.fromString(e)),r=t.Ca.next();t.wa.set(r,new _L(n)),t.ya=t.ya.insert(n,r),tA(t.remoteStore,new rs(ri(cv(n.path)),r,"TargetPurposeLimboResolution",iv.ae))}}async function ic(t,e,n){const r=Ae(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=yv.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>te.forEach(u,v=>te.forEach(v.qi,I=>c.persistence.referenceDelegate.addReference(p,v.targetId,I)).next(()=>te.forEach(v.Qi,I=>c.persistence.referenceDelegate.removeReference(p,v.targetId,I)))))}catch(p){if(!Ju(p))throw p;he("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const v=p.targetId;if(!p.fromCache){const I=c.ns.get(v),C=I.snapshotVersion,b=I.withLastLimboFreeSnapshotVersion(C);c.ns=c.ns.insert(v,b)}}}(r.localStore,s))}async function CL(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await X2(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new ce(K.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ic(n,r.us)}}function kL(t,e){const n=Ae(t),r=n.wa.get(e);if(r&&r.Va)return Ne().add(r.key);{let i=Ne();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function PL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TL.bind(null,e),e.ma.u_=gL.bind(null,e.eventManager),e.ma.Ma=mL.bind(null,e.eventManager),e}function NL(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bL.bind(null,e),e}class Jw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return VO(this.persistence,new BO,e.initialUser,this.serializer)}createPersistence(e){return new OO(mv.Hr,this.serializer)}createSharedClientState(e){return new WO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ML{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CL.bind(null,this.syncEngine),await fL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pL}()}createDatastore(e){const n=fd(e.databaseInfo.databaseId),r=function(s){return new XO(s)}(e.databaseInfo);return function(s,o,a,l){return new eL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new nL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Xw(this.syncEngine,n,0),function(){return Kw.C()?new Kw:new KO}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const p=new wL(i,s,o,a,l,u);return c&&(p.va=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ae(n);he("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await rc(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=y2.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{he("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gp(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await X2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LL(t);he("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Qw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Qw(e.remoteStore,s)),t._onlineComponents=e}function OL(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function LL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!OL(n))throw n;Ta("Error using user provided cache. Falling back to memory cache: "+n),await Gp(t,new Jw)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Gp(t,new Jw);return t._offlineComponents}async function vA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await eE(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await eE(t,new ML))),t._onlineComponents}function UL(t){return vA(t).then(e=>e.syncEngine)}async function _A(t){const e=await vA(t),n=e.eventManager;return n.onListen=EL.bind(null,e.syncEngine),n.onUnlisten=IL.bind(null,e.syncEngine),n}function BL(t,e,n={}){const r=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new yA({next:v=>{o.enqueueAndForget(()=>uA(s,p));const I=v.docs.has(a);!I&&v.fromCache?u.reject(new ce(K.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&v.fromCache&&l&&l.source==="server"?u.reject(new ce(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new cA(cv(a.path),c,{includeMetadataChanges:!0,Y_:!0});return lA(s,p)}(await _A(t),t.asyncQueue,e,n,r)),r.promise}function FL(t,e,n={}){const r=new Ti;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new yA({next:v=>{o.enqueueAndForget(()=>uA(s,p)),v.fromCache&&l.source==="server"?u.reject(new ce(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),p=new cA(a,c,{includeMetadataChanges:!0,Y_:!0});return lA(s,p)}(await _A(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e,n){if(!n)throw new ce(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VL(t,e,n,r){if(e===!0&&r===!0)throw new ce(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nE(t){if(!pe.isDocumentKey(t))throw new ce(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rE(t){if(pe.isDocumentKey(t))throw new ce(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(t);throw new ce(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aD;switch(r.type){case"firstParty":return new hD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tE.get(n);r&&(he("ComponentProvider","Removing Datastore"),tE.delete(n),r.terminate())}(this),Promise.resolve()}}function $L(t,e,n,r={}){var i;const s=(t=ai(t,md))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=An.MOCK_USER;else{a=CS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new An(u)}t._authCredentials=new lD(new m2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class ys extends Za{constructor(e,n,r){super(e,n,cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new pe(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function Tv(t,e,...n){if(t=Et(t),EA("collection","path",e),t instanceof md){const r=st.fromString(e,...n);return rE(r),new ys(t,null,r)}{if(!(t instanceof $n||t instanceof ys))throw new ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return rE(r),new ys(t.firestore,null,r)}}function dn(t,e,...n){if(t=Et(t),arguments.length===1&&(e=y2.V()),EA("doc","path",e),t instanceof md){const r=st.fromString(e,...n);return nE(r),new $n(t,null,new pe(r))}{if(!(t instanceof $n||t instanceof ys))throw new ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return nE(r),new $n(t.firestore,t instanceof ys?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new J2(this,"async_queue_retry"),this.su=()=>{const n=qp();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=qp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Ti;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!Ju(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Oi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=Ev.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Ee()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class Ja extends md{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new jL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xA(this),this._firestoreClient.terminate()}}function bo(t,e){const n=typeof t=="object"?t:Sy(),r=typeof t=="string"?t:e||"(default)",i=Vf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=AS("firestore");s&&$L(i,...s)}return i}function Av(t){return t._firestoreClient||xA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new ID(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wA(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new DL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(Mn.fromBase64String(e))}catch(n){throw new ce(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ma(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=/^__.*__$/;class HL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class IA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class vd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return cf(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(SA(this.Tu)&&zL.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class qL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fd(e)}yu(e,n,r,i=!1){return new vd({Tu:e,methodName:n,pu:r,path:fn.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(t){const e=t._freezeSettings(),n=fd(t._databaseId);return new qL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TA(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);Cv("Data must be an object, but it was:",o,r);const a=bA(r,o);let l,u;if(s.merge)l=new sr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const p of s.mergeFields){const v=u0(e,p,n);if(!o.contains(v))throw new ce(K.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);CA(c,v)||c.push(v)}l=new sr(c),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new HL(new Kn(a),l,u)}class wd extends el{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}function AA(t,e,n){return new vd({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rv extends el{_toFieldTransform(e){return new hv(e.path,new ku)}isEqual(e){return e instanceof Rv}}class GL extends el{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=AA(this,e,!0),r=this.wu.map(s=>Ro(s,n)),i=new Ca(r);return new hv(e.path,i)}isEqual(e){return this===e}}class WL extends el{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=AA(this,e,!0),r=this.wu.map(s=>Ro(s,n)),i=new ka(r);return new hv(e.path,i)}isEqual(e){return this===e}}function KL(t,e,n,r){const i=t.yu(1,e,n);Cv("Data must be an object, but it was:",i,r);const s=[],o=Kn.empty();To(r,(l,u)=>{const c=kv(e,l,n);u=Et(u);const p=i.Vu(c);if(u instanceof wd)s.push(c);else{const v=Ro(u,p);v!=null&&(s.push(c),o.set(c,v))}});const a=new sr(s);return new IA(o,a,i.fieldTransforms)}function QL(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[u0(e,r,n)],l=[i];if(s.length%2!=0)throw new ce(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(u0(e,s[v])),l.push(s[v+1]);const u=[],c=Kn.empty();for(let v=a.length-1;v>=0;--v)if(!CA(u,a[v])){const I=a[v];let C=l[v];C=Et(C);const b=o.Vu(I);if(C instanceof wd)u.push(I);else{const P=Ro(C,b);P!=null&&(u.push(I),c.set(I,P))}}const p=new sr(u);return new IA(c,p,o.fieldTransforms)}function YL(t,e,n,r=!1){return Ro(n,t.yu(r?4:3,e))}function Ro(t,e){if(RA(t=Et(t)))return Cv("Unsupported field value:",e,t),bA(t,e);if(t instanceof el)return function(r,i){if(!SA(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ro(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:lf(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(i.serializer,s)}}if(r instanceof bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:q2(i.serializer,r._byteString)};if(r instanceof $n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${gd(r)}`)}(t,e)}function bA(t,e){const n={};return v2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{const s=Ro(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function RA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof bv||t instanceof Ma||t instanceof $n||t instanceof el)}function Cv(t,e,n){if(!RA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gd(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function u0(t,e,n){if((e=Et(e))instanceof yd)return e._internalPath;if(typeof e=="string")return kv(t,e);throw cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const XL=new RegExp("[~\\*/\\[\\]]");function kv(t,e,n){if(e.search(XL)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yd(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(K.INVALID_ARGUMENT,a+t+l)}function CA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZL extends kA{data(){return super.data()}}function Pv(t,e){return typeof e=="string"?kv(t,e):e instanceof yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nv{}class eU extends Nv{}function tU(t,e,...n){let r=[];e instanceof Nv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Mv).length,a=s.filter(l=>l instanceof Ed).length;if(o>1||o>0&&a>0)throw new ce(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ed extends eU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ed(e,n,r)}_apply(e){const n=this._parse(e);return PA(e._query,n),new Za(e.firestore,e.converter,t0(e._query,n))}_parse(e){const n=_d(e.firestore);return function(s,o,a,l,u,c,p){let v;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){oE(p,c);const I=[];for(const C of p)I.push(sE(l,s,C));v={arrayValue:{values:I}}}else v=sE(l,s,p)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||oE(p,c),v=YL(a,o,p,c==="in"||c==="not-in");return Gt.create(u,c,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nU(t,e,n){const r=e,i=Pv("where",t);return Ed._create(i,r,n)}class Mv extends Nv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)PA(o,l),o=t0(o,l)}(e._query,n),new Za(e.firestore,e.converter,t0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sE(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new ce(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b2(e)&&n.indexOf("/")!==-1)throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!pe.isDocumentKey(r))throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cw(t,new pe(r))}if(n instanceof $n)return Cw(t,n._key);throw new ce(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function oE(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rU{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new bv(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);at(Y2(r));const i=new Ru(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||Oi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MA extends kA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hh extends MA{data(e={}){return super.data(e)}}class iU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hh(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new hh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new hh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:sU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){t=ai(t,$n);const e=ai(t.firestore,Ja);return BL(Av(e),t._key).then(n=>lU(e,t,n))}class DA extends rU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function OA(t){t=ai(t,Za);const e=ai(t.firestore,Ja),n=Av(e),r=new DA(e);return JL(t._query),FL(n,t._query).then(i=>new iU(e,r,t,i))}function oU(t,e,n){t=ai(t,$n);const r=ai(t.firestore,Ja),i=NA(t.converter,e,n);return Dv(r,[TA(_d(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function Kl(t,e,n,...r){t=ai(t,$n);const i=ai(t.firestore,Ja),s=_d(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof yd?QL(s,"updateDoc",t._key,e,n,r):KL(s,"updateDoc",t._key,e),Dv(i,[o.toMutation(t._key,Dr.exists(!0))])}function aU(t,e){const n=ai(t.firestore,Ja),r=dn(t),i=NA(t.converter,e);return Dv(n,[TA(_d(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function Dv(t,e){return function(r,i){const s=new Ti;return r.asyncQueue.enqueueAndForget(async()=>SL(await UL(r),i,s)),s.promise}(Av(t),e)}function lU(t,e,n){const r=n.docs.get(e._key),i=new DA(t);return new MA(t,i,e._key,r,new kl(n.hasPendingWrites,n.fromCache),e.converter)}function uU(){return new Rv("serverTimestamp")}function aE(...t){return new GL("arrayUnion",t)}function cU(...t){return new WL("arrayRemove",t)}(function(e,n=!0){(function(i){Qa=i})(xo),co(new Es("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ja(new uD(r.getProvider("auth-internal")),new dD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ei(Tw,"4.3.0",e),ei(Tw,"4.3.0","esm2017")})();const hU=()=>M.jsxs(M.Fragment,{children:[M.jsxs("nav",{className:"navbar",children:[M.jsx(Jo,{to:"/freeflow-edu/",className:({isActive:t})=>t?"link active":"link",children:"Login"}),M.jsx(Jo,{to:"/freeflow-edu/register",className:({isActive:t})=>t?"link active":"link",children:"Register"})]}),M.jsx(wS,{})]}),pa=t=>!(t!==void 0&&t!=null&&t.length>0),Gn=t=>t.charAt(0).toUpperCase()+t.slice(1),fU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},dU=Rs(fU),pU=bo(dU),gU=t=>{const e=dn(pU,"Users",t.state.user.uid);return(async()=>{try{const r=await Yr(e);$("#t_role").text(Gn(r.data().role)),r.data().role==="teacher"&&$("#uploadLink").attr("style","display: inherit"),(!t.state.role||t.state.role!==r.data().role)&&t.updateRoleState(r.data().role)}catch(r){console.log("Error reading document of collection Users: ",r)}})(),console.log(t.state.walletAddress),M.jsxs(M.Fragment,{children:[M.jsxs("nav",{className:"navbar",children:[M.jsx(Jo,{to:"/freeflow-edu/",className:({isActive:r})=>r?"link active":"link",children:"Home"}),M.jsx(Jo,{to:"/freeflow-edu/profile/"+t.state.user.uid,className:({isActive:r})=>r?"link active":"link",children:"Profile"}),M.jsx(Jo,{style:{display:"none"},to:"/freeflow-edu/upload",className:({isActive:r})=>r?"link active":"link",id:"uploadLink",children:"Upload"}),M.jsx(Jo,{to:"/freeflow-edu/sign-out",className:({isActive:r})=>r?"link active":"link",children:"Sign Out"}),M.jsxs(lo,{to:"/freeflow-edu/profile",children:[M.jsx("img",{src:t.state.user.photoURL,alt:"Profile Img"}),M.jsx("p",{children:t.state.user.displayName}),M.jsx("p",{children:t.state.user.email}),M.jsx("p",{id:"t_role"})]}),t.renderNotConnectedContainer()]}),M.jsx(wS,{})]})},mU="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd",LA=t=>{const[e,n]=X.useState(0);return X.useEffect(()=>{(async()=>{(await fetch(mU)).json().then(s=>{n(s.solana.usd)})})()},[]),(e*t.sol).toFixed(6)};class yU extends X.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bLogin())});Xe(this,"bLogin",()=>{if($("#t_email").val()!=""&&$("#t_password").val()!=""){const i=Xs();var n=$("#t_email").val(),r=$("#t_password").val();VM(i,n,r).then(s=>{const o=s.user;this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),o=="auth/invalid-login-credentials"?alert("Wrong Email or Password."):o=="auth/invalid-email"?alert("Invalid Email."):alert(o)})}else alert("Please fill in all the information required.")});Xe(this,"signUpGoogle",()=>{const n=Xs(),r=new vr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),fT(n,r).then(i=>{vr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})})});Xe(this,"guest",()=>{const n=Xs();OM(n).then(r=>{console.log(r.user);const i=r.user;tT(n.currentUser,{displayName:"Guest"}).then(s=>{console.log(s)}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a})}),this.setState({user:i}),this.props.updateUserState(i),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("displayName","Guest"),localStorage.setItem("email",i.email))}).catch(r=>{const i=r.code,s=r.message;console.log({errorCode:i,errorMessage:s})})});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return M.jsxs(M.Fragment,{children:[M.jsx("h1",{children:"Login"}),M.jsx("div",{children:M.jsx("img",{src:"",alt:"Login Thumbnail"})}),M.jsxs("div",{children:[M.jsxs("label",{children:[" Email:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Password:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),M.jsx("br",{}),M.jsxs("label",{children:[M.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),M.jsx("br",{}),M.jsx("button",{onClick:this.bLogin,children:"Login"})]}),"Or login with",M.jsx("div",{children:M.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),M.jsx(lo,{to:"register",children:"Haven't registered?"}),M.jsx("br",{}),M.jsx(lo,{onClick:this.guest,children:"Login as Guest"})]})}}class lE extends X.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bRegister())});Xe(this,"bRegister",()=>{if($("#t_email").val()!=""&&$("#t_username").val()!=""&&$("#t_password").val()!=""&&$("#t_confirm_password").val()!=""&&$("#t_otp").val()!="")if($("#t_password").val()==$("#t_confirm_password").val())if(document.getElementById("c_privacy").checked){const i=Xs();var n=$("#t_email").val(),r=$("#t_password").val();FM(i,n,r).then(s=>{const o=s.user,a=$("#t_username").val();tT(i.currentUser,{displayName:a}).then(l=>{}).catch(l=>{const u=l.code,c=l.message;console.log({errorCode:u,errorMessage:c})}),this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",a),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),s.code==="auth/email-already-in-use"?alert("Email is already in use.","warning"):s.code==="auth/weak-password"?alert("Weak password.","warning"):alert(s.code+": "+s.messagee,"danger")})}else alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.");else alert("Password not match.");else alert("Please fill in all the information required.")});Xe(this,"signUpGoogle",()=>{const n=Xs(),r=new vr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),document.getElementById("c_privacy").checked?fT(n,r).then(i=>{vr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})}):alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.")});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return this.state.user?(console.log("loged in"),M.jsx($l,{to:"/freeflow-edu/"})):(console.log(this.state.user),M.jsxs(M.Fragment,{children:[M.jsx("h1",{children:"Register"}),M.jsx("div",{children:M.jsx("img",{src:"",alt:"Register Thumbnail"})}),M.jsxs("div",{children:[M.jsxs("label",{children:[" Email:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Username:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_username"})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Password:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Confirm Password:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_confirm_password"})]}),M.jsx("br",{}),M.jsx("br",{}),M.jsxs("label",{children:[M.jsx("input",{onKeyUp:this.handleKeyPress,type:"checkbox",name:"",id:"c_privacy"}),"I agree to the ",M.jsx("a",{href:"privacy_policy.html",target:"_blank",children:"Privacy Policy"}),", and ",M.jsx("a",{href:"terms_and_conditions.html",target:"_blank",children:"Terms and Conditions"})," of FreeFlow Edu app."]}),M.jsx("br",{}),M.jsxs("label",{children:[M.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),M.jsx("br",{}),M.jsx("button",{onClick:this.bRegister,children:"Register"})]}),"Or sign up with",M.jsx("div",{children:M.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),M.jsx(lo,{to:"../",children:"Already login?"})]}))}}/*! countries-list v3.0.6 by Annexare | MIT */var hf={AD:{name:"Andorra",native:"Andorra",phone:[376],continent:"EU",capital:"Andorra la Vella",currency:["EUR"],languages:["ca"]},AE:{name:"United Arab Emirates",native:"دولة الإمارات العربية المتحدة",phone:[971],continent:"AS",capital:"Abu Dhabi",currency:["AED"],languages:["ar"]},AF:{name:"Afghanistan",native:"افغانستان",phone:[93],continent:"AS",capital:"Kabul",currency:["AFN"],languages:["ps","uz","tk"]},AG:{name:"Antigua and Barbuda",native:"Antigua and Barbuda",phone:[1268],continent:"NA",capital:"Saint John's",currency:["XCD"],languages:["en"]},AI:{name:"Anguilla",native:"Anguilla",phone:[1264],continent:"NA",capital:"The Valley",currency:["XCD"],languages:["en"]},AL:{name:"Albania",native:"Shqipëria",phone:[355],continent:"EU",capital:"Tirana",currency:["ALL"],languages:["sq"]},AM:{name:"Armenia",native:"Հայաստան",phone:[374],continent:"AS",capital:"Yerevan",currency:["AMD"],languages:["hy","ru"]},AO:{name:"Angola",native:"Angola",phone:[244],continent:"AF",capital:"Luanda",currency:["AOA"],languages:["pt"]},AQ:{name:"Antarctica",native:"Antarctica",phone:[672],continent:"AN",capital:"",currency:[],languages:[]},AR:{name:"Argentina",native:"Argentina",phone:[54],continent:"SA",capital:"Buenos Aires",currency:["ARS"],languages:["es","gn"]},AS:{name:"American Samoa",native:"American Samoa",phone:[1684],continent:"OC",capital:"Pago Pago",currency:["USD"],languages:["en","sm"]},AT:{name:"Austria",native:"Österreich",phone:[43],continent:"EU",capital:"Vienna",currency:["EUR"],languages:["de"]},AU:{name:"Australia",native:"Australia",phone:[61],continent:"OC",capital:"Canberra",currency:["AUD"],languages:["en"]},AW:{name:"Aruba",native:"Aruba",phone:[297],continent:"NA",capital:"Oranjestad",currency:["AWG"],languages:["nl","pa"]},AX:{name:"Aland",native:"Åland",phone:[358],continent:"EU",capital:"Mariehamn",currency:["EUR"],languages:["sv"]},AZ:{name:"Azerbaijan",native:"Azərbaycan",phone:[994],continent:"AS",continents:["AS","EU"],capital:"Baku",currency:["AZN"],languages:["az"]},BA:{name:"Bosnia and Herzegovina",native:"Bosna i Hercegovina",phone:[387],continent:"EU",capital:"Sarajevo",currency:["BAM"],languages:["bs","hr","sr"]},BB:{name:"Barbados",native:"Barbados",phone:[1246],continent:"NA",capital:"Bridgetown",currency:["BBD"],languages:["en"]},BD:{name:"Bangladesh",native:"Bangladesh",phone:[880],continent:"AS",capital:"Dhaka",currency:["BDT"],languages:["bn"]},BE:{name:"Belgium",native:"België",phone:[32],continent:"EU",capital:"Brussels",currency:["EUR"],languages:["nl","fr","de"]},BF:{name:"Burkina Faso",native:"Burkina Faso",phone:[226],continent:"AF",capital:"Ouagadougou",currency:["XOF"],languages:["fr","ff"]},BG:{name:"Bulgaria",native:"България",phone:[359],continent:"EU",capital:"Sofia",currency:["BGN"],languages:["bg"]},BH:{name:"Bahrain",native:"‏البحرين",phone:[973],continent:"AS",capital:"Manama",currency:["BHD"],languages:["ar"]},BI:{name:"Burundi",native:"Burundi",phone:[257],continent:"AF",capital:"Bujumbura",currency:["BIF"],languages:["fr","rn"]},BJ:{name:"Benin",native:"Bénin",phone:[229],continent:"AF",capital:"Porto-Novo",currency:["XOF"],languages:["fr"]},BL:{name:"Saint Barthelemy",native:"Saint-Barthélemy",phone:[590],continent:"NA",capital:"Gustavia",currency:["EUR"],languages:["fr"]},BM:{name:"Bermuda",native:"Bermuda",phone:[1441],continent:"NA",capital:"Hamilton",currency:["BMD"],languages:["en"]},BN:{name:"Brunei",native:"Negara Brunei Darussalam",phone:[673],continent:"AS",capital:"Bandar Seri Begawan",currency:["BND"],languages:["ms"]},BO:{name:"Bolivia",native:"Bolivia",phone:[591],continent:"SA",capital:"Sucre",currency:["BOB","BOV"],languages:["es","ay","qu"]},BQ:{name:"Bonaire",native:"Bonaire",phone:[5997],continent:"NA",capital:"Kralendijk",currency:["USD"],languages:["nl"]},BR:{name:"Brazil",native:"Brasil",phone:[55],continent:"SA",capital:"Brasília",currency:["BRL"],languages:["pt"]},BS:{name:"Bahamas",native:"Bahamas",phone:[1242],continent:"NA",capital:"Nassau",currency:["BSD"],languages:["en"]},BT:{name:"Bhutan",native:"ʼbrug-yul",phone:[975],continent:"AS",capital:"Thimphu",currency:["BTN","INR"],languages:["dz"]},BV:{name:"Bouvet Island",native:"Bouvetøya",phone:[47],continent:"AN",capital:"",currency:["NOK"],languages:["no","nb","nn"]},BW:{name:"Botswana",native:"Botswana",phone:[267],continent:"AF",capital:"Gaborone",currency:["BWP"],languages:["en","tn"]},BY:{name:"Belarus",native:"Белару́сь",phone:[375],continent:"EU",capital:"Minsk",currency:["BYN"],languages:["be","ru"]},BZ:{name:"Belize",native:"Belize",phone:[501],continent:"NA",capital:"Belmopan",currency:["BZD"],languages:["en","es"]},CA:{name:"Canada",native:"Canada",phone:[1],continent:"NA",capital:"Ottawa",currency:["CAD"],languages:["en","fr"]},CC:{name:"Cocos (Keeling) Islands",native:"Cocos (Keeling) Islands",phone:[61],continent:"AS",capital:"West Island",currency:["AUD"],languages:["en"]},CD:{name:"Democratic Republic of the Congo",native:"République démocratique du Congo",phone:[243],continent:"AF",capital:"Kinshasa",currency:["CDF"],languages:["fr","ln","kg","sw","lu"]},CF:{name:"Central African Republic",native:"Ködörösêse tî Bêafrîka",phone:[236],continent:"AF",capital:"Bangui",currency:["XAF"],languages:["fr","sg"]},CG:{name:"Republic of the Congo",native:"République du Congo",phone:[242],continent:"AF",capital:"Brazzaville",currency:["XAF"],languages:["fr","ln"]},CH:{name:"Switzerland",native:"Schweiz",phone:[41],continent:"EU",capital:"Bern",currency:["CHE","CHF","CHW"],languages:["de","fr","it"]},CI:{name:"Ivory Coast",native:"Côte d'Ivoire",phone:[225],continent:"AF",capital:"Yamoussoukro",currency:["XOF"],languages:["fr"]},CK:{name:"Cook Islands",native:"Cook Islands",phone:[682],continent:"OC",capital:"Avarua",currency:["NZD"],languages:["en"]},CL:{name:"Chile",native:"Chile",phone:[56],continent:"SA",capital:"Santiago",currency:["CLF","CLP"],languages:["es"]},CM:{name:"Cameroon",native:"Cameroon",phone:[237],continent:"AF",capital:"Yaoundé",currency:["XAF"],languages:["en","fr"]},CN:{name:"China",native:"中国",phone:[86],continent:"AS",capital:"Beijing",currency:["CNY"],languages:["zh"]},CO:{name:"Colombia",native:"Colombia",phone:[57],continent:"SA",capital:"Bogotá",currency:["COP"],languages:["es"]},CR:{name:"Costa Rica",native:"Costa Rica",phone:[506],continent:"NA",capital:"San José",currency:["CRC"],languages:["es"]},CU:{name:"Cuba",native:"Cuba",phone:[53],continent:"NA",capital:"Havana",currency:["CUC","CUP"],languages:["es"]},CV:{name:"Cape Verde",native:"Cabo Verde",phone:[238],continent:"AF",capital:"Praia",currency:["CVE"],languages:["pt"]},CW:{name:"Curacao",native:"Curaçao",phone:[5999],continent:"NA",capital:"Willemstad",currency:["ANG"],languages:["nl","pa","en"]},CX:{name:"Christmas Island",native:"Christmas Island",phone:[61],continent:"AS",capital:"Flying Fish Cove",currency:["AUD"],languages:["en"]},CY:{name:"Cyprus",native:"Κύπρος",phone:[357],continent:"EU",capital:"Nicosia",currency:["EUR"],languages:["el","tr","hy"]},CZ:{name:"Czech Republic",native:"Česká republika",phone:[420],continent:"EU",capital:"Prague",currency:["CZK"],languages:["cs"]},DE:{name:"Germany",native:"Deutschland",phone:[49],continent:"EU",capital:"Berlin",currency:["EUR"],languages:["de"]},DJ:{name:"Djibouti",native:"Djibouti",phone:[253],continent:"AF",capital:"Djibouti",currency:["DJF"],languages:["fr","ar"]},DK:{name:"Denmark",native:"Danmark",phone:[45],continent:"EU",continents:["EU","NA"],capital:"Copenhagen",currency:["DKK"],languages:["da"]},DM:{name:"Dominica",native:"Dominica",phone:[1767],continent:"NA",capital:"Roseau",currency:["XCD"],languages:["en"]},DO:{name:"Dominican Republic",native:"República Dominicana",phone:[1809,1829,1849],continent:"NA",capital:"Santo Domingo",currency:["DOP"],languages:["es"]},DZ:{name:"Algeria",native:"الجزائر",phone:[213],continent:"AF",capital:"Algiers",currency:["DZD"],languages:["ar"]},EC:{name:"Ecuador",native:"Ecuador",phone:[593],continent:"SA",capital:"Quito",currency:["USD"],languages:["es"]},EE:{name:"Estonia",native:"Eesti",phone:[372],continent:"EU",capital:"Tallinn",currency:["EUR"],languages:["et"]},EG:{name:"Egypt",native:"مصر‎",phone:[20],continent:"AF",continents:["AF","AS"],capital:"Cairo",currency:["EGP"],languages:["ar"]},EH:{name:"Western Sahara",native:"الصحراء الغربية",phone:[212],continent:"AF",capital:"El Aaiún",currency:["MAD","DZD","MRU"],languages:["es"]},ER:{name:"Eritrea",native:"ኤርትራ",phone:[291],continent:"AF",capital:"Asmara",currency:["ERN"],languages:["ti","ar","en"]},ES:{name:"Spain",native:"España",phone:[34],continent:"EU",capital:"Madrid",currency:["EUR"],languages:["es","eu","ca","gl","oc"]},ET:{name:"Ethiopia",native:"ኢትዮጵያ",phone:[251],continent:"AF",capital:"Addis Ababa",currency:["ETB"],languages:["am"]},FI:{name:"Finland",native:"Suomi",phone:[358],continent:"EU",capital:"Helsinki",currency:["EUR"],languages:["fi","sv"]},FJ:{name:"Fiji",native:"Fiji",phone:[679],continent:"OC",capital:"Suva",currency:["FJD"],languages:["en","fj","hi","ur"]},FK:{name:"Falkland Islands",native:"Falkland Islands",phone:[500],continent:"SA",capital:"Stanley",currency:["FKP"],languages:["en"]},FM:{name:"Micronesia",native:"Micronesia",phone:[691],continent:"OC",capital:"Palikir",currency:["USD"],languages:["en"]},FO:{name:"Faroe Islands",native:"Føroyar",phone:[298],continent:"EU",capital:"Tórshavn",currency:["DKK"],languages:["fo"]},FR:{name:"France",native:"France",phone:[33],continent:"EU",capital:"Paris",currency:["EUR"],languages:["fr"]},GA:{name:"Gabon",native:"Gabon",phone:[241],continent:"AF",capital:"Libreville",currency:["XAF"],languages:["fr"]},GB:{name:"United Kingdom",native:"United Kingdom",phone:[44],continent:"EU",capital:"London",currency:["GBP"],languages:["en"]},GD:{name:"Grenada",native:"Grenada",phone:[1473],continent:"NA",capital:"St. George's",currency:["XCD"],languages:["en"]},GE:{name:"Georgia",native:"საქართველო",phone:[995],continent:"AS",continents:["AS","EU"],capital:"Tbilisi",currency:["GEL"],languages:["ka"]},GF:{name:"French Guiana",native:"Guyane française",phone:[594],continent:"SA",capital:"Cayenne",currency:["EUR"],languages:["fr"]},GG:{name:"Guernsey",native:"Guernsey",phone:[44],continent:"EU",capital:"St. Peter Port",currency:["GBP"],languages:["en","fr"]},GH:{name:"Ghana",native:"Ghana",phone:[233],continent:"AF",capital:"Accra",currency:["GHS"],languages:["en"]},GI:{name:"Gibraltar",native:"Gibraltar",phone:[350],continent:"EU",capital:"Gibraltar",currency:["GIP"],languages:["en"]},GL:{name:"Greenland",native:"Kalaallit Nunaat",phone:[299],continent:"NA",capital:"Nuuk",currency:["DKK"],languages:["kl"]},GM:{name:"Gambia",native:"Gambia",phone:[220],continent:"AF",capital:"Banjul",currency:["GMD"],languages:["en"]},GN:{name:"Guinea",native:"Guinée",phone:[224],continent:"AF",capital:"Conakry",currency:["GNF"],languages:["fr","ff"]},GP:{name:"Guadeloupe",native:"Guadeloupe",phone:[590],continent:"NA",capital:"Basse-Terre",currency:["EUR"],languages:["fr"]},GQ:{name:"Equatorial Guinea",native:"Guinea Ecuatorial",phone:[240],continent:"AF",capital:"Malabo",currency:["XAF"],languages:["es","fr"]},GR:{name:"Greece",native:"Ελλάδα",phone:[30],continent:"EU",capital:"Athens",currency:["EUR"],languages:["el"]},GS:{name:"South Georgia and the South Sandwich Islands",native:"South Georgia",phone:[500],continent:"AN",capital:"King Edward Point",currency:["GBP"],languages:["en"]},GT:{name:"Guatemala",native:"Guatemala",phone:[502],continent:"NA",capital:"Guatemala City",currency:["GTQ"],languages:["es"]},GU:{name:"Guam",native:"Guam",phone:[1671],continent:"OC",capital:"Hagåtña",currency:["USD"],languages:["en","ch","es"]},GW:{name:"Guinea-Bissau",native:"Guiné-Bissau",phone:[245],continent:"AF",capital:"Bissau",currency:["XOF"],languages:["pt"]},GY:{name:"Guyana",native:"Guyana",phone:[592],continent:"SA",capital:"Georgetown",currency:["GYD"],languages:["en"]},HK:{name:"Hong Kong",native:"香港",phone:[852],continent:"AS",capital:"City of Victoria",currency:["HKD"],languages:["zh","en"]},HM:{name:"Heard Island and McDonald Islands",native:"Heard Island and McDonald Islands",phone:[61],continent:"AN",capital:"",currency:["AUD"],languages:["en"]},HN:{name:"Honduras",native:"Honduras",phone:[504],continent:"NA",capital:"Tegucigalpa",currency:["HNL"],languages:["es"]},HR:{name:"Croatia",native:"Hrvatska",phone:[385],continent:"EU",capital:"Zagreb",currency:["EUR"],languages:["hr"]},HT:{name:"Haiti",native:"Haïti",phone:[509],continent:"NA",capital:"Port-au-Prince",currency:["HTG","USD"],languages:["fr","ht"]},HU:{name:"Hungary",native:"Magyarország",phone:[36],continent:"EU",capital:"Budapest",currency:["HUF"],languages:["hu"]},ID:{name:"Indonesia",native:"Indonesia",phone:[62],continent:"AS",capital:"Jakarta",currency:["IDR"],languages:["id"]},IE:{name:"Ireland",native:"Éire",phone:[353],continent:"EU",capital:"Dublin",currency:["EUR"],languages:["ga","en"]},IL:{name:"Israel",native:"יִשְׂרָאֵל",phone:[972],continent:"AS",capital:"Jerusalem",currency:["ILS"],languages:["he","ar"]},IM:{name:"Isle of Man",native:"Isle of Man",phone:[44],continent:"EU",capital:"Douglas",currency:["GBP"],languages:["en","gv"]},IN:{name:"India",native:"भारत",phone:[91],continent:"AS",capital:"New Delhi",currency:["INR"],languages:["hi","en"]},IO:{name:"British Indian Ocean Territory",native:"British Indian Ocean Territory",phone:[246],continent:"AS",capital:"Diego Garcia",currency:["USD"],languages:["en"]},IQ:{name:"Iraq",native:"العراق",phone:[964],continent:"AS",capital:"Baghdad",currency:["IQD"],languages:["ar","ku"]},IR:{name:"Iran",native:"ایران",phone:[98],continent:"AS",capital:"Tehran",currency:["IRR"],languages:["fa"]},IS:{name:"Iceland",native:"Ísland",phone:[354],continent:"EU",capital:"Reykjavik",currency:["ISK"],languages:["is"]},IT:{name:"Italy",native:"Italia",phone:[39],continent:"EU",capital:"Rome",currency:["EUR"],languages:["it"]},JE:{name:"Jersey",native:"Jersey",phone:[44],continent:"EU",capital:"Saint Helier",currency:["GBP"],languages:["en","fr"]},JM:{name:"Jamaica",native:"Jamaica",phone:[1876],continent:"NA",capital:"Kingston",currency:["JMD"],languages:["en"]},JO:{name:"Jordan",native:"الأردن",phone:[962],continent:"AS",capital:"Amman",currency:["JOD"],languages:["ar"]},JP:{name:"Japan",native:"日本",phone:[81],continent:"AS",capital:"Tokyo",currency:["JPY"],languages:["ja"]},KE:{name:"Kenya",native:"Kenya",phone:[254],continent:"AF",capital:"Nairobi",currency:["KES"],languages:["en","sw"]},KG:{name:"Kyrgyzstan",native:"Кыргызстан",phone:[996],continent:"AS",capital:"Bishkek",currency:["KGS"],languages:["ky","ru"]},KH:{name:"Cambodia",native:"Kâmpŭchéa",phone:[855],continent:"AS",capital:"Phnom Penh",currency:["KHR"],languages:["km"]},KI:{name:"Kiribati",native:"Kiribati",phone:[686],continent:"OC",capital:"South Tarawa",currency:["AUD"],languages:["en"]},KM:{name:"Comoros",native:"Komori",phone:[269],continent:"AF",capital:"Moroni",currency:["KMF"],languages:["ar","fr"]},KN:{name:"Saint Kitts and Nevis",native:"Saint Kitts and Nevis",phone:[1869],continent:"NA",capital:"Basseterre",currency:["XCD"],languages:["en"]},KP:{name:"North Korea",native:"북한",phone:[850],continent:"AS",capital:"Pyongyang",currency:["KPW"],languages:["ko"]},KR:{name:"South Korea",native:"대한민국",phone:[82],continent:"AS",capital:"Seoul",currency:["KRW"],languages:["ko"]},KW:{name:"Kuwait",native:"الكويت",phone:[965],continent:"AS",capital:"Kuwait City",currency:["KWD"],languages:["ar"]},KY:{name:"Cayman Islands",native:"Cayman Islands",phone:[1345],continent:"NA",capital:"George Town",currency:["KYD"],languages:["en"]},KZ:{name:"Kazakhstan",native:"Қазақстан",phone:[76,77],continent:"AS",continents:["AS","EU"],capital:"Astana",currency:["KZT"],languages:["kk","ru"]},LA:{name:"Laos",native:"ສປປລາວ",phone:[856],continent:"AS",capital:"Vientiane",currency:["LAK"],languages:["lo"]},LB:{name:"Lebanon",native:"لبنان",phone:[961],continent:"AS",capital:"Beirut",currency:["LBP"],languages:["ar","fr"]},LC:{name:"Saint Lucia",native:"Saint Lucia",phone:[1758],continent:"NA",capital:"Castries",currency:["XCD"],languages:["en"]},LI:{name:"Liechtenstein",native:"Liechtenstein",phone:[423],continent:"EU",capital:"Vaduz",currency:["CHF"],languages:["de"]},LK:{name:"Sri Lanka",native:"śrī laṃkāva",phone:[94],continent:"AS",capital:"Colombo",currency:["LKR"],languages:["si","ta"]},LR:{name:"Liberia",native:"Liberia",phone:[231],continent:"AF",capital:"Monrovia",currency:["LRD"],languages:["en"]},LS:{name:"Lesotho",native:"Lesotho",phone:[266],continent:"AF",capital:"Maseru",currency:["LSL","ZAR"],languages:["en","st"]},LT:{name:"Lithuania",native:"Lietuva",phone:[370],continent:"EU",capital:"Vilnius",currency:["EUR"],languages:["lt"]},LU:{name:"Luxembourg",native:"Luxembourg",phone:[352],continent:"EU",capital:"Luxembourg",currency:["EUR"],languages:["fr","de","lb"]},LV:{name:"Latvia",native:"Latvija",phone:[371],continent:"EU",capital:"Riga",currency:["EUR"],languages:["lv"]},LY:{name:"Libya",native:"‏ليبيا",phone:[218],continent:"AF",capital:"Tripoli",currency:["LYD"],languages:["ar"]},MA:{name:"Morocco",native:"المغرب",phone:[212],continent:"AF",capital:"Rabat",currency:["MAD"],languages:["ar"]},MC:{name:"Monaco",native:"Monaco",phone:[377],continent:"EU",capital:"Monaco",currency:["EUR"],languages:["fr"]},MD:{name:"Moldova",native:"Moldova",phone:[373],continent:"EU",capital:"Chișinău",currency:["MDL"],languages:["ro"]},ME:{name:"Montenegro",native:"Црна Гора",phone:[382],continent:"EU",capital:"Podgorica",currency:["EUR"],languages:["sr","bs","sq","hr"]},MF:{name:"Saint Martin",native:"Saint-Martin",phone:[590],continent:"NA",capital:"Marigot",currency:["EUR"],languages:["en","fr","nl"]},MG:{name:"Madagascar",native:"Madagasikara",phone:[261],continent:"AF",capital:"Antananarivo",currency:["MGA"],languages:["fr","mg"]},MH:{name:"Marshall Islands",native:"M̧ajeļ",phone:[692],continent:"OC",capital:"Majuro",currency:["USD"],languages:["en","mh"]},MK:{name:"North Macedonia",native:"Северна Македонија",phone:[389],continent:"EU",capital:"Skopje",currency:["MKD"],languages:["mk"]},ML:{name:"Mali",native:"Mali",phone:[223],continent:"AF",capital:"Bamako",currency:["XOF"],languages:["fr"]},MM:{name:"Myanmar (Burma)",native:"မြန်မာ",phone:[95],continent:"AS",capital:"Naypyidaw",currency:["MMK"],languages:["my"]},MN:{name:"Mongolia",native:"Монгол улс",phone:[976],continent:"AS",capital:"Ulan Bator",currency:["MNT"],languages:["mn"]},MO:{name:"Macao",native:"澳門",phone:[853],continent:"AS",capital:"",currency:["MOP"],languages:["zh","pt"]},MP:{name:"Northern Mariana Islands",native:"Northern Mariana Islands",phone:[1670],continent:"OC",capital:"Saipan",currency:["USD"],languages:["en","ch"]},MQ:{name:"Martinique",native:"Martinique",phone:[596],continent:"NA",capital:"Fort-de-France",currency:["EUR"],languages:["fr"]},MR:{name:"Mauritania",native:"موريتانيا",phone:[222],continent:"AF",capital:"Nouakchott",currency:["MRU"],languages:["ar"]},MS:{name:"Montserrat",native:"Montserrat",phone:[1664],continent:"NA",capital:"Plymouth",currency:["XCD"],languages:["en"]},MT:{name:"Malta",native:"Malta",phone:[356],continent:"EU",capital:"Valletta",currency:["EUR"],languages:["mt","en"]},MU:{name:"Mauritius",native:"Maurice",phone:[230],continent:"AF",capital:"Port Louis",currency:["MUR"],languages:["en"]},MV:{name:"Maldives",native:"Maldives",phone:[960],continent:"AS",capital:"Malé",currency:["MVR"],languages:["dv"]},MW:{name:"Malawi",native:"Malawi",phone:[265],continent:"AF",capital:"Lilongwe",currency:["MWK"],languages:["en","ny"]},MX:{name:"Mexico",native:"México",phone:[52],continent:"NA",capital:"Mexico City",currency:["MXN"],languages:["es"]},MY:{name:"Malaysia",native:"Malaysia",phone:[60],continent:"AS",capital:"Kuala Lumpur",currency:["MYR"],languages:["ms"]},MZ:{name:"Mozambique",native:"Moçambique",phone:[258],continent:"AF",capital:"Maputo",currency:["MZN"],languages:["pt"]},NA:{name:"Namibia",native:"Namibia",phone:[264],continent:"AF",capital:"Windhoek",currency:["NAD","ZAR"],languages:["en","af"]},NC:{name:"New Caledonia",native:"Nouvelle-Calédonie",phone:[687],continent:"OC",capital:"Nouméa",currency:["XPF"],languages:["fr"]},NE:{name:"Niger",native:"Niger",phone:[227],continent:"AF",capital:"Niamey",currency:["XOF"],languages:["fr"]},NF:{name:"Norfolk Island",native:"Norfolk Island",phone:[672],continent:"OC",capital:"Kingston",currency:["AUD"],languages:["en"]},NG:{name:"Nigeria",native:"Nigeria",phone:[234],continent:"AF",capital:"Abuja",currency:["NGN"],languages:["en"]},NI:{name:"Nicaragua",native:"Nicaragua",phone:[505],continent:"NA",capital:"Managua",currency:["NIO"],languages:["es"]},NL:{name:"Netherlands",native:"Nederland",phone:[31],continent:"EU",capital:"Amsterdam",currency:["EUR"],languages:["nl"]},NO:{name:"Norway",native:"Norge",phone:[47],continent:"EU",capital:"Oslo",currency:["NOK"],languages:["no","nb","nn"]},NP:{name:"Nepal",native:"नेपाल",phone:[977],continent:"AS",capital:"Kathmandu",currency:["NPR"],languages:["ne"]},NR:{name:"Nauru",native:"Nauru",phone:[674],continent:"OC",capital:"Yaren",currency:["AUD"],languages:["en","na"]},NU:{name:"Niue",native:"Niuē",phone:[683],continent:"OC",capital:"Alofi",currency:["NZD"],languages:["en"]},NZ:{name:"New Zealand",native:"New Zealand",phone:[64],continent:"OC",capital:"Wellington",currency:["NZD"],languages:["en","mi"]},OM:{name:"Oman",native:"عمان",phone:[968],continent:"AS",capital:"Muscat",currency:["OMR"],languages:["ar"]},PA:{name:"Panama",native:"Panamá",phone:[507],continent:"NA",capital:"Panama City",currency:["PAB","USD"],languages:["es"]},PE:{name:"Peru",native:"Perú",phone:[51],continent:"SA",capital:"Lima",currency:["PEN"],languages:["es"]},PF:{name:"French Polynesia",native:"Polynésie française",phone:[689],continent:"OC",capital:"Papeetē",currency:["XPF"],languages:["fr"]},PG:{name:"Papua New Guinea",native:"Papua Niugini",phone:[675],continent:"OC",capital:"Port Moresby",currency:["PGK"],languages:["en"]},PH:{name:"Philippines",native:"Pilipinas",phone:[63],continent:"AS",capital:"Manila",currency:["PHP"],languages:["en"]},PK:{name:"Pakistan",native:"Pakistan",phone:[92],continent:"AS",capital:"Islamabad",currency:["PKR"],languages:["en","ur"]},PL:{name:"Poland",native:"Polska",phone:[48],continent:"EU",capital:"Warsaw",currency:["PLN"],languages:["pl"]},PM:{name:"Saint Pierre and Miquelon",native:"Saint-Pierre-et-Miquelon",phone:[508],continent:"NA",capital:"Saint-Pierre",currency:["EUR"],languages:["fr"]},PN:{name:"Pitcairn Islands",native:"Pitcairn Islands",phone:[64],continent:"OC",capital:"Adamstown",currency:["NZD"],languages:["en"]},PR:{name:"Puerto Rico",native:"Puerto Rico",phone:[1787,1939],continent:"NA",capital:"San Juan",currency:["USD"],languages:["es","en"]},PS:{name:"Palestine",native:"فلسطين",phone:[970],continent:"AS",capital:"Ramallah",currency:["ILS"],languages:["ar"]},PT:{name:"Portugal",native:"Portugal",phone:[351],continent:"EU",capital:"Lisbon",currency:["EUR"],languages:["pt"]},PW:{name:"Palau",native:"Palau",phone:[680],continent:"OC",capital:"Ngerulmud",currency:["USD"],languages:["en"]},PY:{name:"Paraguay",native:"Paraguay",phone:[595],continent:"SA",capital:"Asunción",currency:["PYG"],languages:["es","gn"]},QA:{name:"Qatar",native:"قطر",phone:[974],continent:"AS",capital:"Doha",currency:["QAR"],languages:["ar"]},RE:{name:"Reunion",native:"La Réunion",phone:[262],continent:"AF",capital:"Saint-Denis",currency:["EUR"],languages:["fr"]},RO:{name:"Romania",native:"România",phone:[40],continent:"EU",capital:"Bucharest",currency:["RON"],languages:["ro"]},RS:{name:"Serbia",native:"Србија",phone:[381],continent:"EU",capital:"Belgrade",currency:["RSD"],languages:["sr"]},RU:{name:"Russia",native:"Россия",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Moscow",currency:["RUB"],languages:["ru"]},RW:{name:"Rwanda",native:"Rwanda",phone:[250],continent:"AF",capital:"Kigali",currency:["RWF"],languages:["rw","en","fr"]},SA:{name:"Saudi Arabia",native:"العربية السعودية",phone:[966],continent:"AS",capital:"Riyadh",currency:["SAR"],languages:["ar"]},SB:{name:"Solomon Islands",native:"Solomon Islands",phone:[677],continent:"OC",capital:"Honiara",currency:["SBD"],languages:["en"]},SC:{name:"Seychelles",native:"Seychelles",phone:[248],continent:"AF",capital:"Victoria",currency:["SCR"],languages:["fr","en"]},SD:{name:"Sudan",native:"السودان",phone:[249],continent:"AF",capital:"Khartoum",currency:["SDG"],languages:["ar","en"]},SE:{name:"Sweden",native:"Sverige",phone:[46],continent:"EU",capital:"Stockholm",currency:["SEK"],languages:["sv"]},SG:{name:"Singapore",native:"Singapore",phone:[65],continent:"AS",capital:"Singapore",currency:["SGD"],languages:["en","ms","ta","zh"]},SH:{name:"Saint Helena",native:"Saint Helena",phone:[290],continent:"AF",capital:"Jamestown",currency:["SHP"],languages:["en"]},SI:{name:"Slovenia",native:"Slovenija",phone:[386],continent:"EU",capital:"Ljubljana",currency:["EUR"],languages:["sl"]},SJ:{name:"Svalbard and Jan Mayen",native:"Svalbard og Jan Mayen",phone:[4779],continent:"EU",capital:"Longyearbyen",currency:["NOK"],languages:["no"]},SK:{name:"Slovakia",native:"Slovensko",phone:[421],continent:"EU",capital:"Bratislava",currency:["EUR"],languages:["sk"]},SL:{name:"Sierra Leone",native:"Sierra Leone",phone:[232],continent:"AF",capital:"Freetown",currency:["SLL"],languages:["en"]},SM:{name:"San Marino",native:"San Marino",phone:[378],continent:"EU",capital:"City of San Marino",currency:["EUR"],languages:["it"]},SN:{name:"Senegal",native:"Sénégal",phone:[221],continent:"AF",capital:"Dakar",currency:["XOF"],languages:["fr"]},SO:{name:"Somalia",native:"Soomaaliya",phone:[252],continent:"AF",capital:"Mogadishu",currency:["SOS"],languages:["so","ar"]},SR:{name:"Suriname",native:"Suriname",phone:[597],continent:"SA",capital:"Paramaribo",currency:["SRD"],languages:["nl"]},SS:{name:"South Sudan",native:"South Sudan",phone:[211],continent:"AF",capital:"Juba",currency:["SSP"],languages:["en"]},ST:{name:"Sao Tome and Principe",native:"São Tomé e Príncipe",phone:[239],continent:"AF",capital:"São Tomé",currency:["STN"],languages:["pt"]},SV:{name:"El Salvador",native:"El Salvador",phone:[503],continent:"NA",capital:"San Salvador",currency:["SVC","USD"],languages:["es"]},SX:{name:"Sint Maarten",native:"Sint Maarten",phone:[1721],continent:"NA",capital:"Philipsburg",currency:["ANG"],languages:["nl","en"]},SY:{name:"Syria",native:"سوريا",phone:[963],continent:"AS",capital:"Damascus",currency:["SYP"],languages:["ar"]},SZ:{name:"Eswatini",native:"Eswatini",phone:[268],continent:"AF",capital:"Lobamba",currency:["SZL"],languages:["en","ss"]},TC:{name:"Turks and Caicos Islands",native:"Turks and Caicos Islands",phone:[1649],continent:"NA",capital:"Cockburn Town",currency:["USD"],languages:["en"]},TD:{name:"Chad",native:"Tchad",phone:[235],continent:"AF",capital:"N'Djamena",currency:["XAF"],languages:["fr","ar"]},TF:{name:"French Southern Territories",native:"Territoire des Terres australes et antarctiques fr",phone:[262],continent:"AN",capital:"Port-aux-Français",currency:["EUR"],languages:["fr"]},TG:{name:"Togo",native:"Togo",phone:[228],continent:"AF",capital:"Lomé",currency:["XOF"],languages:["fr"]},TH:{name:"Thailand",native:"ประเทศไทย",phone:[66],continent:"AS",capital:"Bangkok",currency:["THB"],languages:["th"]},TJ:{name:"Tajikistan",native:"Тоҷикистон",phone:[992],continent:"AS",capital:"Dushanbe",currency:["TJS"],languages:["tg","ru"]},TK:{name:"Tokelau",native:"Tokelau",phone:[690],continent:"OC",capital:"Fakaofo",currency:["NZD"],languages:["en"]},TL:{name:"East Timor",native:"Timor-Leste",phone:[670],continent:"OC",capital:"Dili",currency:["USD"],languages:["pt"]},TM:{name:"Turkmenistan",native:"Türkmenistan",phone:[993],continent:"AS",capital:"Ashgabat",currency:["TMT"],languages:["tk","ru"]},TN:{name:"Tunisia",native:"تونس",phone:[216],continent:"AF",capital:"Tunis",currency:["TND"],languages:["ar"]},TO:{name:"Tonga",native:"Tonga",phone:[676],continent:"OC",capital:"Nuku'alofa",currency:["TOP"],languages:["en","to"]},TR:{name:"Turkey",native:"Türkiye",phone:[90],continent:"AS",continents:["AS","EU"],capital:"Ankara",currency:["TRY"],languages:["tr"]},TT:{name:"Trinidad and Tobago",native:"Trinidad and Tobago",phone:[1868],continent:"NA",capital:"Port of Spain",currency:["TTD"],languages:["en"]},TV:{name:"Tuvalu",native:"Tuvalu",phone:[688],continent:"OC",capital:"Funafuti",currency:["AUD"],languages:["en"]},TW:{name:"Taiwan",native:"臺灣",phone:[886],continent:"AS",capital:"Taipei",currency:["TWD"],languages:["zh"]},TZ:{name:"Tanzania",native:"Tanzania",phone:[255],continent:"AF",capital:"Dodoma",currency:["TZS"],languages:["sw","en"]},UA:{name:"Ukraine",native:"Україна",phone:[380],continent:"EU",capital:"Kyiv",currency:["UAH"],languages:["uk"]},UG:{name:"Uganda",native:"Uganda",phone:[256],continent:"AF",capital:"Kampala",currency:["UGX"],languages:["en","sw"]},UM:{name:"U.S. Minor Outlying Islands",native:"United States Minor Outlying Islands",phone:[1],continent:"OC",capital:"",currency:["USD"],languages:["en"]},US:{name:"United States",native:"United States",phone:[1],continent:"NA",capital:"Washington D.C.",currency:["USD","USN","USS"],languages:["en"]},UY:{name:"Uruguay",native:"Uruguay",phone:[598],continent:"SA",capital:"Montevideo",currency:["UYI","UYU"],languages:["es"]},UZ:{name:"Uzbekistan",native:"O'zbekiston",phone:[998],continent:"AS",capital:"Tashkent",currency:["UZS"],languages:["uz","ru"]},VA:{name:"Vatican City",native:"Vaticano",phone:[379],continent:"EU",capital:"Vatican City",currency:["EUR"],languages:["it","la"]},VC:{name:"Saint Vincent and the Grenadines",native:"Saint Vincent and the Grenadines",phone:[1784],continent:"NA",capital:"Kingstown",currency:["XCD"],languages:["en"]},VE:{name:"Venezuela",native:"Venezuela",phone:[58],continent:"SA",capital:"Caracas",currency:["VES"],languages:["es"]},VG:{name:"British Virgin Islands",native:"British Virgin Islands",phone:[1284],continent:"NA",capital:"Road Town",currency:["USD"],languages:["en"]},VI:{name:"U.S. Virgin Islands",native:"United States Virgin Islands",phone:[1340],continent:"NA",capital:"Charlotte Amalie",currency:["USD"],languages:["en"]},VN:{name:"Vietnam",native:"Việt Nam",phone:[84],continent:"AS",capital:"Hanoi",currency:["VND"],languages:["vi"]},VU:{name:"Vanuatu",native:"Vanuatu",phone:[678],continent:"OC",capital:"Port Vila",currency:["VUV"],languages:["bi","en","fr"]},WF:{name:"Wallis and Futuna",native:"Wallis et Futuna",phone:[681],continent:"OC",capital:"Mata-Utu",currency:["XPF"],languages:["fr"]},WS:{name:"Samoa",native:"Samoa",phone:[685],continent:"OC",capital:"Apia",currency:["WST"],languages:["sm","en"]},XK:{name:"Kosovo",native:"Republika e Kosovës",phone:[377,381,383,386],continent:"EU",capital:"Pristina",currency:["EUR"],languages:["sq","sr"]},YE:{name:"Yemen",native:"اليَمَن",phone:[967],continent:"AS",capital:"Sana'a",currency:["YER"],languages:["ar"]},YT:{name:"Mayotte",native:"Mayotte",phone:[262],continent:"AF",capital:"Mamoudzou",currency:["EUR"],languages:["fr"]},ZA:{name:"South Africa",native:"South Africa",phone:[27],continent:"AF",capital:"Pretoria",currency:["ZAR"],languages:["af","en","nr","st","ss","tn","ts","ve","xh","zu"]},ZM:{name:"Zambia",native:"Zambia",phone:[260],continent:"AF",capital:"Lusaka",currency:["ZMW"],languages:["en"]},ZW:{name:"Zimbabwe",native:"Zimbabwe",phone:[263],continent:"AF",capital:"Harare",currency:["USD","ZAR","BWP","GBP","AUD","CNY","INR","JPY"],languages:["en","sn","nd"]}},vU={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",XK:"XKX",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"},_U=t=>({...hf[t],iso2:t,iso3:vU[t]}),wU=()=>Object.keys(hf).map(t=>_U(t));wU();const EU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},xU=Rs(EU),IU=bo(xU);class SU extends X.Component{constructor(n){super(n);Xe(this,"handleKeyPress",n=>{n.key=="Enter"&&console.log("enter")});Xe(this,"updateState",(n,r)=>{this.setState({[n]:r,currentQuestion:this.state.currentQuestion+1})});Xe(this,"uploadData",async()=>{try{const n=await oU(dn(IU,"Users",this.state.user.uid),{role:this.state.role,recommendBy:this.state.recommendBy,eduLvl:this.state.eduLvl,country:this.state.country,displayName:this.state.user.displayName,email:this.state.user.email,photoURL:this.state.user.photoURL})}catch(n){console.log("Error adding document of first-time login user: ",n)}});console.log(n.state.user),this.state={user:n.state.user,currentQuestion:1,role:null,recommendBy:null,eduLvl:null,country:null};let r=["-- Please Select --"];for(let i in hf)r.push(hf[i].name);r.sort(),this.data=[{id:1,answering:"role",question:"I am a ...",options:["student","teacher","special needy / refugee / disabilities","public"]},{id:2,answering:"recommendBy",question:"Who recommend me to this platform?",options:["friends","family","school","social media","others"]},{id:3,answering:"eduLvl",question:"I am currently in ...",options:["primary school","secondary school","high school","undergraduate","postgraduate","workplace"]},{id:4,answering:"country",question:"I am from ...",options:r}]}render(){if(console.log(this.state),this.state.user)if(this.state.user.metadata.creationTime===this.state.user.metadata.lastSignInTime)console.log("first-time user");else return M.jsx($l,{to:"/freeflow-edu/"});else return M.jsx($l,{to:"/freeflow-edu/"});const n=pa(this.data)?[]:this.data.map((r,i)=>{const s=pa(r.options)?[]:r.options.map((o,a)=>r.options.length<10?M.jsx("button",{onClick:()=>this.updateState(r.answering,o),value:o,children:o},o):M.jsx("option",{value:o,children:o},o));return M.jsxs("div",{style:{display:r.id===this.state.currentQuestion?"inherit":"none"},children:[M.jsxs("h3",{children:["Question ",r.id,": ",r.question]}),r.options.length<10?s:M.jsx("select",{id:"s_country",onChange:()=>$("#s_country").val()!=="-- Please Select --"?this.updateState("country",$("#s_country").val()):alert("Please select your origin."),children:s})]},r.id)});return this.state.currentQuestion>4?(console.log("End of survey"),this.uploadData(),M.jsx($l,{to:"/freeflow-edu/"})):M.jsxs(M.Fragment,{children:[M.jsx("h1",{children:"First Time Login Q&A"}),n]})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebasestorage.googleapis.com",BA="storageBucket",TU=2*60*1e3,AU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends hi{constructor(e,n,r=0){super(Wp(e),`Firebase Storage: ${n} (${Wp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function Wp(t){return"storage/"+t}function Ov(){const t="An unknown error occurred, please check the error payload for server response.";return new St(It.UNKNOWN,t)}function bU(t){return new St(It.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function RU(t){return new St(It.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(It.UNAUTHENTICATED,t)}function kU(){return new St(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PU(t){return new St(It.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NU(){return new St(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MU(){return new St(It.CANCELED,"User canceled the upload/download.")}function DU(t){return new St(It.INVALID_URL,"Invalid URL '"+t+"'.")}function OU(t){return new St(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LU(){return new St(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BA+"' property when initializing the app?")}function UU(){return new St(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BU(){return new St(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FU(t){return new St(It.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function c0(t){return new St(It.INVALID_ARGUMENT,t)}function FA(){return new St(It.APP_DELETED,"The Firebase app was deleted.")}function VU(t){return new St(It.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ql(t,e){return new St(It.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ml(t){throw new St(It.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(r.path==="")return r;throw OU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const c="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",I=new RegExp(`^https?://${p}/${c}/b/${i}/o${v}`,"i"),C={bucket:1,path:3},b=n===UA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",w=new RegExp(`^https?://${b}/${i}/${P}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:I,indices:C,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<y.length;L++){const N=y[L],U=N.regex.exec(e);if(U){const F=U[N.indices.bucket];let V=U[N.indices.path];V||(V=""),r=new or(F,V),N.postModify(r);break}}if(r==null)throw DU(e);return r}}class $U{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...P){u||(u=!0,e.apply(null,P))}function p(P){i=setTimeout(()=>{i=null,t(I,l())},P)}function v(){s&&clearTimeout(s)}function I(P,...w){if(u){v();return}if(P){v(),c.call(null,P,...w);return}if(l()||o){v(),c.call(null,P,...w);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,p(y)}let C=!1;function b(P){C||(C=!0,v(),!u&&(i!==null?(P||(a=2),clearTimeout(i),p(0)):P||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function zU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){return t!==void 0}function qU(t){return typeof t=="object"&&!Array.isArray(t)}function Lv(t){return typeof t=="string"||t instanceof String}function uE(t){return Uv()&&t instanceof Blob}function Uv(){return typeof Blob<"u"&&!IN()}function cE(t,e,n,r){if(r<e)throw c0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw c0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function VA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Js||(Js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r,i,s,o,a,l,u,c,p,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=p,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,C)=>{this.resolve_=I,this.reject_=C,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Js.NO_ERROR,l=s.getStatus();if(!a||GU(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Js.ABORT;r(!1,new Lc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Lc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());HU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Ov();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?FA():MU();o(l)}else{const l=NU();o(l)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=jU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZU(t,e,n,r,i,s,o=!0){const a=VA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return YU(u,e),KU(u,n),QU(u,s),XU(u,r),new WU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eB(...t){const e=JU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Uv())return new Blob(t);throw new St(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){if(typeof atob>"u")throw FU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kp{constructor(e,n){this.data=e,this.contentType=n||null}}function rB(t,e){switch(t){case Xr.RAW:return new Kp($A(e));case Xr.BASE64:case Xr.BASE64URL:return new Kp(jA(t,e));case Xr.DATA_URL:return new Kp(sB(e),oB(e))}throw Ov()}function $A(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function iB(t){let e;try{e=decodeURIComponent(t)}catch{throw Ql(Xr.DATA_URL,"Malformed data URL.")}return $A(e)}function jA(t,e){switch(t){case Xr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ql(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ql(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nB(e)}catch(i){throw i.message.includes("polyfill")?i:Ql(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ql(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function sB(t){const e=new zA(t);return e.base64?jA(Xr.BASE64,e.rest):iB(e.rest)}function oB(t){return new zA(t).contentType}function aB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){let r=0,i="";uE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(uE(this.data_)){const r=this.data_,i=tB(r,e,n);return i===null?null:new Ji(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ji(r,!0)}}static getBlob(...e){if(Uv()){const n=e.map(r=>r instanceof Ji?r.data_:r);return new Ji(eB.apply(null,n))}else{const n=e.map(o=>Lv(o)?rB(Xr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ji(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){let e;try{e=JSON.parse(t)}catch{return null}return qU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t,e){return e}class Dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cB}}let Uc=null;function hB(t){return!Lv(t)||t.length<2?t:qA(t)}function GA(){if(Uc)return Uc;const t=[];t.push(new Dn("bucket")),t.push(new Dn("generation")),t.push(new Dn("metageneration")),t.push(new Dn("name","fullPath",!0));function e(s,o){return hB(o)}const n=new Dn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Dn("size");return i.xform=r,t.push(i),t.push(new Dn("timeCreated")),t.push(new Dn("updated")),t.push(new Dn("md5Hash",null,!0)),t.push(new Dn("cacheControl",null,!0)),t.push(new Dn("contentDisposition",null,!0)),t.push(new Dn("contentEncoding",null,!0)),t.push(new Dn("contentLanguage",null,!0)),t.push(new Dn("contentType",null,!0)),t.push(new Dn("metadata","customMetadata",!0)),Uc=t,Uc}function fB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new or(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function dB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return fB(r,t),r}function WA(t,e,n){const r=HA(e);return r===null?null:dB(t,r,n)}function pB(t,e,n,r){const i=HA(e);if(i===null||!Lv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,p=t.fullPath,v="/b/"+o(c)+"/o/"+o(p),I=Bv(v,n,r),C=VA({alt:"media",token:u});return I+C})[0]}function gB(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class KA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t){if(!t)throw Ov()}function mB(t,e){function n(r,i){const s=WA(t,i,e);return QA(s!==null),s}return n}function yB(t,e){function n(r,i){const s=WA(t,i,e);return QA(s!==null),pB(s,i,t.host,t._protocol)}return n}function YA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kU():i=CU():n.getStatus()===402?i=RU(t.bucket):n.getStatus()===403?i=PU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function vB(t){const e=YA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=bU(t.path)),s.serverResponse=i.serverResponse,s}return n}function _B(t,e,n){const r=e.fullServerUrl(),i=Bv(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new KA(i,s,yB(t,n),o);return a.errorHandler=vB(e),a}function wB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EB(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wB(null,e)),r}function xB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let L=0;L<2;L++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=EB(e,r,i),c=gB(u,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,v=`\r
--`+l+"--",I=Ji.getBlob(p,r,v);if(I===null)throw UU();const C={name:u.fullPath},b=Bv(s,t.host,t._protocol),P="POST",w=t.maxUploadRetryTime,x=new KA(b,P,mB(t,n),w);return x.urlParams=C,x.headers=o,x.body=I.uploadData(),x.errorHandler=YA(e),x}class IB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ml("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ml("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ml("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ml("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ml("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SB extends IB{initXhr(){this.xhr_.responseType="text"}}function XA(){return new SB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mo(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qA(this._location.path)}get storage(){return this._service}get parent(){const e=lB(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new mo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VU(e)}}function TB(t,e,n){t._throwIfRoot("uploadBytes");const r=xB(t.storage,t._location,GA(),new Ji(e,!0),n);return t.storage.makeRequestWithTokens(r,XA).then(i=>({metadata:i,ref:t}))}function AB(t){t._throwIfRoot("getDownloadURL");const e=_B(t.storage,t._location,GA());return t.storage.makeRequestWithTokens(e,XA).then(n=>{if(n===null)throw BU();return n})}function bB(t,e){const n=uB(t._location.path,e),r=new or(t._location.bucket,n);return new mo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){return/^[A-Za-z]+:\/\//.test(t)}function CB(t,e){return new mo(t,e)}function ZA(t,e){if(t instanceof Fv){const n=t;if(n._bucket==null)throw LU();const r=new mo(n,n._bucket);return e!=null?ZA(r,e):r}else return e!==void 0?bB(t,e):t}function kB(t,e){if(e&&RB(e)){if(t instanceof Fv)return CB(t,e);throw c0("To use ref(service, url), the first argument must be a Storage instance.")}else return ZA(t,e)}function hE(t,e){const n=e==null?void 0:e[BA];return n==null?null:or.makeFromBucketSpec(n,t)}function PB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:CS(i,t.app.options.projectId))}class Fv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=UA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TU,this._maxUploadRetryTime=AU,this._requests=new Set,i!=null?this._bucket=or.makeFromBucketSpec(i,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new $U(FA());{const o=ZU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const fE="@firebase/storage",dE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="storage";function yl(t,e,n){return t=Et(t),TB(t,e,n)}function eo(t){return t=Et(t),AB(t)}function si(t,e){return t=Et(t),kB(t,e)}function xd(t=Sy(),e){t=Et(t);const r=Vf(t,JA).getImmediate({identifier:e}),i=AS("storage");return i&&NB(r,...i),r}function NB(t,e,n,r={}){PB(t,e,n,r)}function MB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Fv(n,r,i,e,xo)}function DB(){co(new Es(JA,MB,"PUBLIC").setMultipleInstances(!0)),ei(fE,dE,""),ei(fE,dE,"esm2017")}DB();const OB={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},eb=Rs(OB),Qp=bo(eb),LB=xd(eb),UB=t=>{const[e,n]=X.useState(t.state.user);X.useState(t.state.credential);const[r,i]=X.useState(null),s=qa();if(e){const o=dn(Qp,"Users",e.uid);(()=>{Yr(o).then(c=>{c.exists()?console.log("registered"):e.metadata.creationTime===e.metadata.lastSignInTime?(console.log("first-time user"),s("/freeflow-edu/first-time-user")):console.log("registered")}).catch(c=>{console.log("Error getting document of collection Users: ",c)})})();const l=()=>pa(r)?[]:r.map((c,p)=>{const v=I=>(console.log(I),s("course/"+I));return M.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[M.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:c+"_card_thumbnail"}),M.jsxs("div",{className:"flex flex-col justify-start p-6",children:[M.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:c+"_title"}),M.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:c+"_des"}),M.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[M.jsx("span",{id:c+"_eduLvl"})," ",M.jsx("span",{id:c+"_sub"})]}),M.jsx("div",{className:"gap-4",id:c+"_tag"}),M.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>v(c),children:"View Course"})]})]},p)});X.useEffect(()=>{la(document.getElementById("div_recommended")).render(M.jsx(l,{}));for(let p in r){const v=dn(Qp,"Course",r[p]);Yr(v).then(I=>{$("#"+I.id+"_title").text(I.data().title),$("#"+I.id+"_des").text(I.data().des),$("#"+I.id+"_eduLvl").text(Gn(I.data().eduLvl)),$("#"+I.id+"_sub").text(Gn(I.data().sub)),(b=>{eo(si(LB,b+"/thumbnail.jpg")).then(P=>{$(`#${r[p]}_card_thumbnail`).attr("src",P)})})(r[p]);for(let b in I.data().tag)$("#"+I.id+"_tag").html($("#"+I.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${I.data().tag[b]}</span>`)}).catch(I=>{console.error("No such document Course for id",r[p],I)})}},[r]),(async()=>{const c=await OA(Tv(Qp,"Course"));r||i(c.docs.map(p=>p.id))})()}return M.jsxs(M.Fragment,{children:[M.jsx("h1",{className:"text-gray-300",children:"Home"}),M.jsx("h3",{className:"text-3xl bold py-5",children:"Recommended Course"}),M.jsx("div",{id:"div_recommended"})]})},BB={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},tb=Rs(BB),vl=bo(tb),Yp=xd(tb),FB=t=>{const{id:e}=yS(),n=qa(),[r,i]=X.useState(null),[s,o]=X.useState(null),[a,l]=X.useState(null),[u,c]=X.useState(null),p=dn(vl,"Users",e);if((async()=>{const C=await Yr(p);C.exists()?(console.log(C.data()),$("#t_name_profile").text(C.data().displayName),$("#t_role_profile").text(Gn(C.data().role)),e===t.state.user.uid&&(C.data().wishlist&&(s||o(C.data().wishlist)),C.data().enrolled&&(r||i(C.data().enrolled))),u||c(C.data().role)):console.log("No such document for users with uid",t.state.user.uid)})(),t.state.user.uid===e){const C=()=>pa(r)?[]:r.map((P,w)=>{const x=y=>(console.log(y),n("../course/"+y));return M.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[M.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:P+"_enrolled_card_thumbnail"}),M.jsxs("div",{className:"flex flex-col justify-start p-6",children:[M.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:P+"_enrolled_title"}),M.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:P+"_enrolled_des"}),M.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[M.jsx("span",{id:P+"_enrolled_eduLvl"})," ",M.jsx("span",{id:P+"_enrolled_sub"})]}),M.jsx("div",{className:"gap-4",id:P+"_enrolled_tag"}),M.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>x(P),children:"View Course"})]})]},w)});X.useEffect(()=>{la(document.getElementById("div_enrolled")).render(M.jsx(C,{}));for(let w in r){console.log(r);const x=dn(vl,"Course",r[w]);Yr(x).then(y=>{$("#"+y.id+"_enrolled_title").text(y.data().title),$("#"+y.id+"_enrolled_des").text(y.data().des),$("#"+y.id+"_enrolled_eduLvl").text(Gn(y.data().eduLvl)),$("#"+y.id+"_enrolled_sub").text(Gn(y.data().sub)),(N=>{eo(si(Yp,N+"/thumbnail.jpg")).then(U=>{$(`#${r[w]}_enrolled_card_thumbnail`).attr("src",U)})})(r[w]);for(let N in y.data().tag)$("#"+y.id+"_enrolled_tag").html($("#"+y.id+"_enrolled_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${y.data().tag[N]}</span>`)}).catch(y=>{console.error("No such document Course for id",s[w],y)})}},[r]);const b=()=>pa(r)?[]:s.map((P,w)=>{const x=y=>(console.log(y),n("../course/"+y));return M.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[M.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:P+"_card_thumbnail"}),M.jsxs("div",{className:"flex flex-col justify-start p-6",children:[M.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:P+"_title"}),M.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:P+"_des"}),M.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[M.jsx("span",{id:P+"_eduLvl"})," ",M.jsx("span",{id:P+"_sub"})]}),M.jsx("div",{className:"gap-4",id:P+"_tag"}),M.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>x(P),children:"View Course"})]})]},w)});X.useEffect(()=>{la(document.getElementById("div_wishlist")).render(M.jsx(b,{}));for(let w in s){const x=dn(vl,"Course",s[w]);Yr(x).then(y=>{$("#"+y.id+"_title").text(y.data().title),$("#"+y.id+"_des").text(y.data().des),$("#"+y.id+"_eduLvl").text(Gn(y.data().eduLvl)),$("#"+y.id+"_sub").text(Gn(y.data().sub)),(N=>{eo(si(Yp,N+"/thumbnail.jpg")).then(U=>{$(`#${s[w]}_card_thumbnail`).attr("src",U)})})(s[w]);for(let N in y.data().tag)$("#"+y.id+"_tag").html($("#"+y.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${y.data().tag[N]}</span>`)}).catch(y=>{console.error("No such document Course for id",s[w],y)})}},[s])}const I=()=>pa(a)?[]:a.map((C,b)=>{const P=w=>(console.log(w),n("../course/"+w));return M.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[M.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:C+"_lesson_card_thumbnail"}),M.jsxs("div",{className:"flex flex-col justify-start p-6",children:[M.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:C+"_lesson_title"}),M.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:C+"_lesson_des"}),M.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[M.jsx("span",{id:C+"_lesson_eduLvl"})," ",M.jsx("span",{id:C+"_lesson_sub"})]}),M.jsx("div",{className:"gap-4",id:C+"_lesson_tag"}),M.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>P(C),children:"View Course"})]})]},b)});return X.useEffect(()=>{la(document.getElementById("div_teacher")).render(M.jsxs(M.Fragment,{children:[M.jsx("h3",{className:"text-3xl bold py-5",children:"Enrolled Course"}),M.jsx(I,{})]}));for(let b in a){console.log(a);const P=dn(vl,"Course",a[b]);Yr(P).then(w=>{$("#"+w.id+"_lesson_title").text(w.data().title),$("#"+w.id+"_lesson_des").text(w.data().des),$("#"+w.id+"_lesson_eduLvl").text(Gn(w.data().eduLvl)),$("#"+w.id+"_lesson_sub").text(Gn(w.data().sub)),(y=>{eo(si(Yp,y+"/thumbnail.jpg")).then(L=>{$(`#${a[b]}_lesson_card_thumbnail`).attr("src",L)})})(a[b]);for(let y in w.data().tag)$("#"+w.id+"_lesson_tag").html($("#"+w.id+"_lesson_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${w.data().tag[y]}</span>`)}).catch(w=>{console.error("No such document Course for id",a[b],w)})}},[a]),X.useEffect(()=>{if(u==="teacher"){const C=tU(Tv(vl,"Course"),nU("userUID","==","TaTnr1b52dY46GbLtOF2XtdKShm1"));(async()=>{const P=await OA(C);l(P.docs.map(w=>w.id))})()}},[u]),M.jsxs(M.Fragment,{children:[M.jsx("h1",{children:"Profile"}),M.jsxs("h3",{children:["Name: ",M.jsx("span",{id:"t_name_profile"})]}),M.jsx("h3",{id:"t_role_profile"}),t.state.user.uid===e&&M.jsxs(M.Fragment,{children:[M.jsx("h3",{className:"text-3xl bold py-5",children:"Enrolled Course"}),M.jsx("div",{id:"div_enrolled"}),M.jsx("h3",{className:"text-3xl bold py-5",children:"Wishlist"}),M.jsx("div",{id:"div_wishlist"})]}),M.jsx("div",{id:"div_teacher"})]})},Xp=(()=>{const t={};let e=1;return{set(n,r,i){typeof n[r]>"u"&&(n[r]={key:r,id:e},e++),t[n[r].id]=i},get(n,r){if(!n||typeof n[r]>"u")return null;const i=n[r];return i.key===r?t[i.id]:null},delete(n,r){if(typeof n[r]>"u")return;const i=n[r];i.key===r&&(delete t[i.id],delete n[r])}}})(),Bc={setData(t,e,n){Xp.set(t,e,n)},getData(t,e){return Xp.get(t,e)},removeData(t,e){Xp.delete(t,e)}},VB=1e6,$B=t=>t==null?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),jB=t=>{do t+=Math.floor(Math.random()*VB);while(document.getElementById(t));return t},nb=t=>{let e=t.getAttribute("data-te-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},zB=t=>{const e=nb(t);return e&&document.querySelector(e)?e:null},rb=t=>{const e=nb(t);return e?document.querySelector(e):null},HB=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),pE=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],s=e[r],o=s&&HB(s)?"element":$B(s);if(!new RegExp(i).test(o))throw new Error(`${t.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)})},Vv=t=>{if(!t||t.getClientRects().length===0)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return getComputedStyle(t).getPropertyValue("visibility")==="visible"||e.display!=="none"&&n.display!=="none"&&e.visibility!=="hidden"}return!1},$v=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",ib=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-te-no-jquery")?t:null},Zp=[],qB=t=>{document.readyState==="loading"?(Zp.length||document.addEventListener("DOMContentLoaded",()=>{Zp.forEach(e=>e())}),Zp.push(t)):t()},li=()=>document.documentElement.dir==="rtl",sb=t=>document.createElement(t),GB=/[^.]*(?=\..*)\.|.*/,WB=/\..*/,KB=/::\d+$/,Jp={};let gE=1;const QB={mouseenter:"mouseover",mouseleave:"mouseout"},YB=/^(mouseenter|mouseleave)/i,ob=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ab(t,e){return e&&`${e}::${gE++}`||t.uidEvent||gE++}function lb(t){const e=ab(t);return t.uidEvent=e,Jp[e]=Jp[e]||{},Jp[e]}function XB(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&jn.off(t,r.type,e),e.apply(t,[r])}}function ZB(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a=s.length;a--;"")if(s[a]===o)return i.delegateTarget=o,r.oneOff&&jn.off(t,i.type,n),n.apply(o,[i]);return null}}function ub(t,e,n=null){const r=Object.keys(t);for(let i=0,s=r.length;i<s;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function cb(t,e,n){const r=typeof e=="string",i=r?n:e;let s=hb(t);return ob.has(s)||(s=t),[r,i,s]}function mE(t,e,n,r,i){if(typeof e!="string"||!t)return;if(n||(n=r,r=null),YB.test(e)){const I=C=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return C.call(this,b)};r?r=I(r):n=I(n)}const[s,o,a]=cb(e,n,r),l=lb(t),u=l[a]||(l[a]={}),c=ub(u,o,s?n:null);if(c){c.oneOff=c.oneOff&&i;return}const p=ab(o,e.replace(GB,"")),v=s?ZB(t,n,r):XB(t,n);v.delegationSelector=s?n:null,v.originalHandler=o,v.oneOff=i,v.uidEvent=p,u[p]=v,t.addEventListener(a,v,s)}function h0(t,e,n,r,i){const s=ub(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function JB(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(s=>{if(s.includes(r)){const o=i[s];h0(t,e,n,o.originalHandler,o.delegationSelector)}})}function hb(t){return t=t.replace(WB,""),QB[t]||t}const jn={on(t,e,n,r){mE(t,e,n,r,!1)},one(t,e,n,r){mE(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=cb(e,n,r),a=o!==e,l=lb(t),u=e.startsWith(".");if(typeof s<"u"){if(!l||!l[o])return;h0(t,l,o,s,i?n:null);return}u&&Object.keys(l).forEach(p=>{JB(t,l,p,e.slice(1))});const c=l[o]||{};Object.keys(c).forEach(p=>{const v=p.replace(KB,"");if(!a||e.includes(v)){const I=c[p];h0(t,l,o,I.originalHandler,I.delegationSelector)}})},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=ib(),i=hb(e),s=e!==i,o=ob.has(i);let a,l=!0,u=!0,c=!1,p=null;return s&&r&&(a=r.Event(e,n),r(t).trigger(a),l=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),o?(p=document.createEvent("HTMLEvents"),p.initEvent(i,l,!0)):p=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof n<"u"&&Object.keys(n).forEach(v=>{Object.defineProperty(p,v,{get(){return n[v]}})}),c&&p.preventDefault(),u&&t.dispatchEvent(p),p.defaultPrevented&&typeof a<"u"&&a.preventDefault(),p}};function eg(t){return t==="true"?!0:t==="false"?!1:t===Number(t).toString()?Number(t):t===""||t==="null"?null:t}function tg(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ln={setDataAttribute(t,e,n){t.setAttribute(`data-te-${tg(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-te-${tg(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(n=>n.startsWith("te")).forEach(n=>{if(n.startsWith("teClass"))return;let r=n.replace(/^te/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=eg(t.dataset[n])}),e},getDataClassAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter(n=>n.startsWith("teClass")).forEach(n=>{let r=n.replace(/^teClass/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=eg(e[n])}),e},getDataAttribute(t,e){return eg(t.getAttribute(`data-te-${tg(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position(t){return{top:t.offsetTop,left:t.offsetLeft}},style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&ng(e).forEach(n=>{t.classList.contains(n)?t.classList.remove(n):t.classList.add(n)})},addClass(t,e){ng(e).forEach(n=>!t.classList.contains(n)&&t.classList.add(n))},addStyle(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]})},removeClass(t,e){ng(e).forEach(n=>t.classList.contains(n)&&t.classList.remove(n))},hasClass(t,e){return t.classList.contains(e)},maxOffset(t){const e=t.getBoundingClientRect();return{top:e.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:e.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function ng(t){return typeof t=="string"?t.split(" "):Array.isArray(t)?t:!1}const e5=3,Ai={closest(t,e){return t.closest(e)},matches(t,e){return t.matches(e)},find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==e5;)this.matches(r,e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(", ");return this.find(e,t).filter(n=>!$v(n)&&Vv(n))}};li();li();li();li();li();li();li(),li();(()=>{var t={454:(r,i,s)=>{s.d(i,{Z:()=>l});var o=s(645),a=s.n(o)()(function(u){return u[1]});a.push([r.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const l=a},645:r=>{r.exports=function(i){var s=[];return s.toString=function(){return this.map(function(o){var a=i(o);return o[2]?"@media ".concat(o[2]," {").concat(a,"}"):a}).join("")},s.i=function(o,a,l){typeof o=="string"&&(o=[[null,o,""]]);var u={};if(l)for(var c=0;c<this.length;c++){var p=this[c][0];p!=null&&(u[p]=!0)}for(var v=0;v<o.length;v++){var I=[].concat(o[v]);l&&u[I[0]]||(a&&(I[2]?I[2]="".concat(a," and ").concat(I[2]):I[2]=a),s.push(I))}},s}},810:()=>{(function(){if(typeof window<"u")try{var r=new window.CustomEvent("test",{cancelable:!0});if(r.preventDefault(),r.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var i=function(s,o){var a,l;return(o=o||{}).bubbles=!!o.bubbles,o.cancelable=!!o.cancelable,(a=document.createEvent("CustomEvent")).initCustomEvent(s,o.bubbles,o.cancelable,o.detail),l=a.preventDefault,a.preventDefault=function(){l.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},a};i.prototype=window.Event.prototype,window.CustomEvent=i}})()},379:(r,i,s)=>{var o,a=function(){var y={};return function(L){if(y[L]===void 0){var N=document.querySelector(L);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}y[L]=N}return y[L]}}(),l=[];function u(y){for(var L=-1,N=0;N<l.length;N++)if(l[N].identifier===y){L=N;break}return L}function c(y,L){for(var N={},U=[],F=0;F<y.length;F++){var V=y[F],Z=L.base?V[0]+L.base:V[0],J=N[Z]||0,re="".concat(Z," ").concat(J);N[Z]=J+1;var ye=u(re),B={css:V[1],media:V[2],sourceMap:V[3]};ye!==-1?(l[ye].references++,l[ye].updater(B)):l.push({identifier:re,updater:x(B,L),references:1}),U.push(re)}return U}function p(y){var L=document.createElement("style"),N=y.attributes||{};if(N.nonce===void 0){var U=s.nc;U&&(N.nonce=U)}if(Object.keys(N).forEach(function(V){L.setAttribute(V,N[V])}),typeof y.insert=="function")y.insert(L);else{var F=a(y.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(L)}return L}var v,I=(v=[],function(y,L){return v[y]=L,v.filter(Boolean).join(`
`)});function C(y,L,N,U){var F=N?"":U.media?"@media ".concat(U.media," {").concat(U.css,"}"):U.css;if(y.styleSheet)y.styleSheet.cssText=I(L,F);else{var V=document.createTextNode(F),Z=y.childNodes;Z[L]&&y.removeChild(Z[L]),Z.length?y.insertBefore(V,Z[L]):y.appendChild(V)}}function b(y,L,N){var U=N.css,F=N.media,V=N.sourceMap;if(F?y.setAttribute("media",F):y.removeAttribute("media"),V&&typeof btoa<"u"&&(U+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(V))))," */")),y.styleSheet)y.styleSheet.cssText=U;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(U))}}var P=null,w=0;function x(y,L){var N,U,F;if(L.singleton){var V=w++;N=P||(P=p(L)),U=C.bind(null,N,V,!1),F=C.bind(null,N,V,!0)}else N=p(L),U=b.bind(null,N,L),F=function(){(function(Z){if(Z.parentNode===null)return!1;Z.parentNode.removeChild(Z)})(N)};return U(y),function(Z){if(Z){if(Z.css===y.css&&Z.media===y.media&&Z.sourceMap===y.sourceMap)return;U(y=Z)}else F()}}r.exports=function(y,L){(L=L||{}).singleton||typeof L.singleton=="boolean"||(L.singleton=(o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o));var N=c(y=y||[],L);return function(U){if(U=U||[],Object.prototype.toString.call(U)==="[object Array]"){for(var F=0;F<N.length;F++){var V=u(N[F]);l[V].references--}for(var Z=c(U,L),J=0;J<N.length;J++){var re=u(N[J]);l[re].references===0&&(l[re].updater(),l.splice(re,1))}N=Z}}}}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return n.d(i,{a:i}),i},n.d=(r,i)=>{for(var s in i)n.o(i,s)&&!n.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:i[s]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),(()=>{var r=n(379),i=n.n(r),s=n(454);function o(l){if(!l.hasAttribute("autocompleted")){l.setAttribute("autocompleted","");var u=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});l.dispatchEvent(u)||(l.value="")}}function a(l){l.hasAttribute("autocompleted")&&(l.removeAttribute("autocompleted"),l.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,n(810),document.addEventListener("animationstart",function(l){l.animationName==="onautofillstart"?o(l.target):a(l.target)},!0),document.addEventListener("input",function(l){l.inputType!=="insertReplacementText"&&"data"in l?a(l.target):o(l.target)},!0)})()})();const rg="ripple",Fc="te.ripple",t5="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",n5=["[data-te-ripple-init]"],ig=[0,0,0],r5=[{name:"primary",gradientColor:"#3B71CA"},{name:"secondary",gradientColor:"#9FA6B2"},{name:"success",gradientColor:"#14A44D"},{name:"danger",gradientColor:"#DC4C64"},{name:"warning",gradientColor:"#E4A11B"},{name:"info",gradientColor:"#54B4D3"},{name:"light",gradientColor:"#fbfbfb"},{name:"dark",gradientColor:"#262626"}],yE=.5,i5={rippleCentered:!1,rippleColor:"",rippleColorDark:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},s5={rippleCentered:"boolean",rippleColor:"string",rippleColorDark:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},o5={ripple:"relative overflow-hidden inline-block align-bottom",rippleWave:"rounded-[50%] opacity-50 pointer-events-none absolute touch-none scale-0 transition-[transform,_opacity] ease-[cubic-bezier(0,0,0.15,1),_cubic-bezier(0,0,0.15,1)] z-[999]",unbound:"overflow-visible"},a5={ripple:"string",rippleWave:"string",unbound:"string"};class jv{constructor(e,n,r){this._element=e,this._options=this._getConfig(n),this._classes=this._getClasses(r),this._element&&(Bc.setData(e,Fc,this),Ln.addClass(this._element,this._classes.ripple)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this._initialClasses=null,this.init()}static get NAME(){return rg}init(){this._addClickEvent(this._element)}dispose(){Bc.removeData(this._element,Fc),jn.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(e){n5.forEach(n=>{Ai.closest(e.target,n)&&(this._element=Ai.closest(e.target,n))}),this._element.style.minWidth||(Ln.style(this._element,{"min-width":getComputedStyle(this._element).width}),this._isMinWidthSet=!0),this._options=this._getConfig(),this._classes=this._getClasses(),this._initialClasses=[...this._element.classList],Ln.addClass(this._element,this._classes.ripple),this._createRipple(e)}_addClickEvent(e){jn.on(e,"mousedown",this._clickHandler)}_createRipple(e){this._element.className.indexOf(this._classes.ripple)<0&&Ln.addClass(this._element,this._classes.ripple);const{layerX:n,layerY:r}=e,i=e.offsetX||n,s=e.offsetY||r,o=this._element.offsetHeight,a=this._element.offsetWidth,l=this._durationToMsNumber(this._options.rippleDuration),u={offsetX:this._options.rippleCentered?o/2:i,offsetY:this._options.rippleCentered?a/2:s,height:o,width:a},c=this._getDiameter(u),p=this._options.rippleRadius||c/2,v={delay:l*yE,duration:l-l*yE},I={left:this._options.rippleCentered?`${a/2-p}px`:`${i-p}px`,top:this._options.rippleCentered?`${o/2-p}px`:`${s-p}px`,height:`${this._options.rippleRadius*2||c}px`,width:`${this._options.rippleRadius*2||c}px`,transitionDelay:`0s, ${v.delay}ms`,transitionDuration:`${l}ms, ${v.duration}ms`},C=sb("div");this._createHTMLRipple({wrapper:this._element,ripple:C,styles:I}),this._removeHTMLRipple({ripple:C,duration:l})}_createHTMLRipple({wrapper:e,ripple:n,styles:r}){Object.keys(r).forEach(i=>n.style[i]=r[i]),Ln.addClass(n,this._classes.rippleWave),n.setAttribute("data-te-ripple-ref",""),this._addColor(n,e),this._toggleUnbound(e),this._appendRipple(n,e)}_removeHTMLRipple({ripple:e,duration:n}){this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),e&&setTimeout(()=>{e.classList.add("!opacity-0")},10),this._rippleTimer=setTimeout(()=>{if(e&&(e.remove(),this._element)){Ai.find("[data-te-ripple-ref]",this._element).forEach(i=>{i.remove()}),this._isMinWidthSet&&(Ln.style(this._element,{"min-width":""}),this._isMinWidthSet=!1);const r=this._initialClasses?this._addedNewRippleClasses(this._classes.ripple,this._initialClasses):this._classes.ripple.split(" ");Ln.removeClass(this._element,r)}},n)}_addedNewRippleClasses(e,n){return e.split(" ").filter(r=>n.findIndex(i=>r===i)===-1)}_durationToMsNumber(e){return Number(e.replace("ms","").replace("s","000"))}_getConfig(e={}){const n=Ln.getDataAttributes(this._element);return e={...i5,...n,...e},pE(rg,e,s5),e}_getClasses(e={}){const n=Ln.getDataClassAttributes(this._element);return e={...o5,...n,...e},pE(rg,e,a5),e}_getDiameter({offsetX:e,offsetY:n,height:r,width:i}){const s=n<=r/2,o=e<=i/2,a=(v,I)=>Math.sqrt(v**2+I**2),l=n===r/2&&e===i/2,u={first:s===!0&&o===!1,second:s===!0&&o===!0,third:s===!1&&o===!0,fourth:s===!1&&o===!1},c={topLeft:a(e,n),topRight:a(i-e,n),bottomLeft:a(e,r-n),bottomRight:a(i-e,r-n)};let p=0;return l||u.fourth?p=c.topLeft:u.third?p=c.topRight:u.second?p=c.bottomRight:u.first&&(p=c.bottomLeft),p*2}_appendRipple(e,n){n.appendChild(e),setTimeout(()=>{Ln.addClass(e,"opacity-0 scale-100")},50)}_toggleUnbound(e){this._options.rippleUnbound===!0?Ln.addClass(e,this._classes.unbound):Ln.removeClass(e,this._classes.unbound)}_addColor(e){let n=this._options.rippleColor||"rgb(0,0,0)";(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(n=this._options.rippleColorDark||this._options.rippleColor);const r=r5.find(o=>o.name===n.toLowerCase()),i=r?this._colorToRGB(r.gradientColor).join(","):this._colorToRGB(n).join(","),s=t5.split("{{color}}").join(`${i}`);e.style.backgroundImage=`radial-gradient(circle, ${s})`}_colorToRGB(e){function n(s){return s.length<7&&(s=`#${s[1]}${s[1]}${s[2]}${s[2]}${s[3]}${s[3]}`),[parseInt(s.substr(1,2),16),parseInt(s.substr(3,2),16),parseInt(s.substr(5,2),16)]}function r(s){const o=document.body.appendChild(document.createElement("fictum")),a="rgb(1, 2, 3)";return o.style.color=a,o.style.color!==a||(o.style.color=s,o.style.color===a||o.style.color==="")?ig:(s=getComputedStyle(o).color,document.body.removeChild(o),s)}function i(s){return s=s.match(/[.\d]+/g).map(o=>+Number(o)),s.length=3,s}return e.toLowerCase()==="transparent"?ig:e[0]==="#"?n(e):(e.indexOf("rgb")===-1&&(e=r(e)),e.indexOf("rgb")===0?i(e):ig)}static autoInitial(e){return function(n){e._autoInit(n)}}static jQueryInterface(e){return this.each(function(){return Bc.getData(this,Fc)?null:new jv(this,e)})}static getInstance(e){return Bc.getData(e,Fc)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}}li();li();jB("chips-input-");const $i={plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}},l5={line:{options:{...$i,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bar:{options:{...$i,backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},pie:{options:{...$i,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},doughnut:{options:{...$i,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},polarArea:{options:{...$i,elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}}},radar:{options:{...$i,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},scatter:{options:{...$i,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bubble:{options:{...$i,elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}}};var Id=function(t){this.element=t,this.handlers={}},fb={isEmpty:{configurable:!0}};Id.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};Id.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(n.element.removeEventListener(t,r,!1),!1)})};Id.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};fb.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(Id.prototype,fb);typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),typeof navigator<"u"&&navigator.msMaxTouchPoints,typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent);sb("div");const u5=t=>{qB(()=>{const e=ib();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},c5=(t,e)=>{jn.on(document,`click.te.${t.NAME}`,e,function(n){n.preventDefault(),t.getOrCreateInstance(this).toggle()})},h5=(t,e)=>{jn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!$v(this)&&t.getOrCreateInstance(this).show()})},f5=(t,e)=>{jn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){const r=rb(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),$v(this))return;jn.one(r,t.EVENT_HIDDEN,()=>{Vv(this)&&this.focus()});const i=Ai.findOne(t.OPEN_SELECTOR);i&&i!==r&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},d5=(t,e)=>{jn.on(document,`click.te.${t.NAME}`,e,n=>{n.preventDefault();const r=n.target.closest(e);t.getOrCreateInstance(r).toggle()})},p5=(t,e)=>{jn.on(document,`click.te.${t.NAME}`,e,function(n){const r=rb(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),jn.one(r,t.EVENT_SHOW,s=>{s.defaultPrevented||jn.one(r,t.EVENT_HIDDEN,()=>{Vv(this)&&this.focus()})});const i=Ai.findOne(`[${t.OPEN_SELECTOR}="true"]`);i&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},g5=(t,e)=>{jn.one(document,"mousedown",e,t.autoInitial(new t))},m5=(t,e)=>{jn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const r=zB(this);Ai.find(r).forEach(i=>{t.getOrCreateInstance(i,{toggle:!1}).toggle()})})},y5=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},v5=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},_5=(t,e)=>{Ai.find(e).forEach(n=>{new t(n)}),jn.on(document,`click.te.${t.NAME}.data-api`,`${e} img:not([data-te-lightbox-disabled])`,t.toggle())},w5=(t,e)=>{const n=s=>s[0]==="{"&&s[s.length-1]==="}"||s[0]==="["&&s[s.length-1]==="]",r=s=>typeof s!="string"?s:n(s)?JSON.parse(s.replace(/'/g,'"')):s,i=s=>{const o={};return Object.keys(s).forEach(a=>{if(a.match(/dataset.*/)){const l=a.slice(7,8).toLowerCase().concat(a.slice(8));o[l]=r(s[a])}}),o};Ai.find(e).forEach(s=>{if(Ln.getDataAttribute(s,"chart")!=="bubble"&&Ln.getDataAttribute(s,"chart")!=="scatter"){const o=Ln.getDataAttributes(s),a={data:{datasets:[i(o)]}};return o.chart&&(a.type=o.chart),o.labels&&(a.data.labels=JSON.parse(o.labels.replace(/'/g,'"'))),new t(s,{...a,...l5[a.type]})}return null})};class E5{constructor(){this.inits=[]}get initialized(){return this.inits}isInited(e){return this.inits.includes(e)}add(e){this.isInited(e)||this.inits.push(e)}}const f0=new E5,Pl={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:w5},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:d5},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:m5},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:c5},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:p5},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:g5},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:f5},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:h5},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:y5},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:v5},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:_5},touch:{name:"Touch",selector:"[data-te-touch-init]"}},x5=t=>Pl[t.NAME]||null,I5=(t,e)=>{if(!t||!e.allowReinits&&f0.isInited(t.NAME))return;f0.add(t.NAME);const n=x5(t),r=(n==null?void 0:n.isToggler)||!1;if(u5(t),n!=null&&n.advanced){n==null||n.advanced(t,n==null?void 0:n.selector);return}if(r){n==null||n.callback(t,n==null?void 0:n.selector);return}Ai.find(n==null?void 0:n.selector).forEach(i=>{let s=t.getInstance(i);s||(s=new t(i),n!=null&&n.onInit&&s[n.onInit]())})},S5=(t,e)=>{t.forEach(n=>I5(n,e))},T5={allowReinits:!1,checkOtherImports:!1},A5=(t,e={})=>{e={...T5,...e};const n=Object.keys(Pl).map(r=>{if(document.querySelector(Pl[r].selector)){const i=t[Pl[r].name];return!i&&!f0.isInited(r)&&e.checkOtherImports&&console.warn(`Please import ${Pl[r].name} from "tw-elements" package and add it to a object parameter inside "initTE" function`),i}});S5(n,e)};var ht={},Sd={};Sd.byteLength=C5;Sd.toByteArray=P5;Sd.fromByteArray=D5;var Wr=[],dr=[],b5=typeof Uint8Array<"u"?Uint8Array:Array,sg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Lo=0,R5=sg.length;Lo<R5;++Lo)Wr[Lo]=sg[Lo],dr[sg.charCodeAt(Lo)]=Lo;dr["-".charCodeAt(0)]=62;dr["_".charCodeAt(0)]=63;function db(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function C5(t){var e=db(t),n=e[0],r=e[1];return(n+r)*3/4-r}function k5(t,e,n){return(e+n)*3/4-n}function P5(t){var e,n=db(t),r=n[0],i=n[1],s=new b5(k5(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=dr[t.charCodeAt(l)]<<18|dr[t.charCodeAt(l+1)]<<12|dr[t.charCodeAt(l+2)]<<6|dr[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=dr[t.charCodeAt(l)]<<2|dr[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=dr[t.charCodeAt(l)]<<10|dr[t.charCodeAt(l+1)]<<4|dr[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function N5(t){return Wr[t>>18&63]+Wr[t>>12&63]+Wr[t>>6&63]+Wr[t&63]}function M5(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(N5(r));return i.join("")}function D5(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(M5(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Wr[e>>2]+Wr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Wr[e>>10]+Wr[e>>4&63]+Wr[e<<2&63]+"=")),i.join("")}var zv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */zv.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,p=n?i-1:0,v=n?-1:1,I=t[e+p];for(p+=v,s=I&(1<<-c)-1,I>>=-c,c+=a;c>0;s=s*256+t[e+p],p+=v,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+p],p+=v,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(I?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(I?-1:1)*o*Math.pow(2,s-r)};zv.write=function(t,e,n,r,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,p=c>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=r?0:s-1,C=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+p>=1?e+=v/l:e+=v*Math.pow(2,1-p),e*l>=2&&(o++,l/=2),o+p>=c?(a=0,o=c):o+p>=1?(a=(e*l-1)*Math.pow(2,i),o=o+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[n+I]=a&255,I+=C,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+I]=o&255,I+=C,o/=256,u-=8);t[n+I-C]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Sd,n=zv,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(T,d),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const d=new Uint8Array(T);return Object.setPrototypeOf(d,a.prototype),d}function a(T,d,g){if(typeof T=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(T)}return l(T,d,g)}a.poolSize=8192;function l(T,d,g){if(typeof T=="string")return v(T,d);if(ArrayBuffer.isView(T))return C(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(vn(T,ArrayBuffer)||T&&vn(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vn(T,SharedArrayBuffer)||T&&vn(T.buffer,SharedArrayBuffer)))return b(T,d,g);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=T.valueOf&&T.valueOf();if(O!=null&&O!==T)return a.from(O,d,g);const j=P(T);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),d,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,d,g){return l(T,d,g)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function c(T,d,g){return u(T),T<=0?o(T):d!==void 0?typeof g=="string"?o(T).fill(d,g):o(T).fill(d):o(T)}a.alloc=function(T,d,g){return c(T,d,g)};function p(T){return u(T),o(T<0?0:w(T)|0)}a.allocUnsafe=function(T){return p(T)},a.allocUnsafeSlow=function(T){return p(T)};function v(T,d){if((typeof d!="string"||d==="")&&(d="utf8"),!a.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const g=y(T,d)|0;let O=o(g);const j=O.write(T,d);return j!==g&&(O=O.slice(0,j)),O}function I(T){const d=T.length<0?0:w(T.length)|0,g=o(d);for(let O=0;O<d;O+=1)g[O]=T[O]&255;return g}function C(T){if(vn(T,Uint8Array)){const d=new Uint8Array(T);return b(d.buffer,d.byteOffset,d.byteLength)}return I(T)}function b(T,d,g){if(d<0||T.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<d+(g||0))throw new RangeError('"length" is outside of buffer bounds');let O;return d===void 0&&g===void 0?O=new Uint8Array(T):g===void 0?O=new Uint8Array(T,d):O=new Uint8Array(T,d,g),Object.setPrototypeOf(O,a.prototype),O}function P(T){if(a.isBuffer(T)){const d=w(T.length)|0,g=o(d);return g.length===0||T.copy(g,0,0,d),g}if(T.length!==void 0)return typeof T.length!="number"||Qe(T.length)?o(0):I(T);if(T.type==="Buffer"&&Array.isArray(T.data))return I(T.data)}function w(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function x(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,g){if(vn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),vn(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(d)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===g)return 0;let O=d.length,j=g.length;for(let z=0,W=Math.min(O,j);z<W;++z)if(d[z]!==g[z]){O=d[z],j=g[z];break}return O<j?-1:j<O?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,g){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let O;if(g===void 0)for(g=0,O=0;O<d.length;++O)g+=d[O].length;const j=a.allocUnsafe(g);let z=0;for(O=0;O<d.length;++O){let W=d[O];if(vn(W,Uint8Array))z+W.length>j.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(j,z)):Uint8Array.prototype.set.call(j,W,z);else if(a.isBuffer(W))W.copy(j,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=W.length}return j};function y(T,d){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||vn(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const g=T.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&g===0)return 0;let j=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return We(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return et(T).length;default:if(j)return O?-1:We(T).length;d=(""+d).toLowerCase(),j=!0}}a.byteLength=y;function L(T,d,g){let O=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,d>>>=0,g<=d))return"";for(T||(T="utf8");;)switch(T){case"hex":return E(this,d,g);case"utf8":case"utf-8":return h(this,d,g);case"ascii":return D(this,d,g);case"latin1":case"binary":return S(this,d,g);case"base64":return B(this,d,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,d,g);default:if(O)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),O=!0}}a.prototype._isBuffer=!0;function N(T,d,g){const O=T[d];T[d]=T[g],T[g]=O}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<d;g+=2)N(this,g,g+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<d;g+=4)N(this,g,g+3),N(this,g+1,g+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<d;g+=8)N(this,g,g+7),N(this,g+1,g+6),N(this,g+2,g+5),N(this,g+3,g+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?h(this,0,d):L.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const g=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(d+=" ... "),"<Buffer "+d+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(d,g,O,j,z){if(vn(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(g===void 0&&(g=0),O===void 0&&(O=d?d.length:0),j===void 0&&(j=0),z===void 0&&(z=this.length),g<0||O>d.length||j<0||z>this.length)throw new RangeError("out of range index");if(j>=z&&g>=O)return 0;if(j>=z)return-1;if(g>=O)return 1;if(g>>>=0,O>>>=0,j>>>=0,z>>>=0,this===d)return 0;let W=z-j,be=O-g;const Te=Math.min(W,be),xe=this.slice(j,z),nt=d.slice(g,O);for(let _e=0;_e<Te;++_e)if(xe[_e]!==nt[_e]){W=xe[_e],be=nt[_e];break}return W<be?-1:be<W?1:0};function U(T,d,g,O,j){if(T.length===0)return-1;if(typeof g=="string"?(O=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,Qe(g)&&(g=j?0:T.length-1),g<0&&(g=T.length+g),g>=T.length){if(j)return-1;g=T.length-1}else if(g<0)if(j)g=0;else return-1;if(typeof d=="string"&&(d=a.from(d,O)),a.isBuffer(d))return d.length===0?-1:F(T,d,g,O,j);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(T,d,g):Uint8Array.prototype.lastIndexOf.call(T,d,g):F(T,[d],g,O,j);throw new TypeError("val must be string, number or Buffer")}function F(T,d,g,O,j){let z=1,W=T.length,be=d.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(T.length<2||d.length<2)return-1;z=2,W/=2,be/=2,g/=2}function Te(nt,_e){return z===1?nt[_e]:nt.readUInt16BE(_e*z)}let xe;if(j){let nt=-1;for(xe=g;xe<W;xe++)if(Te(T,xe)===Te(d,nt===-1?0:xe-nt)){if(nt===-1&&(nt=xe),xe-nt+1===be)return nt*z}else nt!==-1&&(xe-=xe-nt),nt=-1}else for(g+be>W&&(g=W-be),xe=g;xe>=0;xe--){let nt=!0;for(let _e=0;_e<be;_e++)if(Te(T,xe+_e)!==Te(d,_e)){nt=!1;break}if(nt)return xe}return-1}a.prototype.includes=function(d,g,O){return this.indexOf(d,g,O)!==-1},a.prototype.indexOf=function(d,g,O){return U(this,d,g,O,!0)},a.prototype.lastIndexOf=function(d,g,O){return U(this,d,g,O,!1)};function V(T,d,g,O){g=Number(g)||0;const j=T.length-g;O?(O=Number(O),O>j&&(O=j)):O=j;const z=d.length;O>z/2&&(O=z/2);let W;for(W=0;W<O;++W){const be=parseInt(d.substr(W*2,2),16);if(Qe(be))return W;T[g+W]=be}return W}function Z(T,d,g,O){return Ke(We(d,T.length-g),T,g,O)}function J(T,d,g,O){return Ke(lt(d),T,g,O)}function re(T,d,g,O){return Ke(et(d),T,g,O)}function ye(T,d,g,O){return Ke(Mo(d,T.length-g),T,g,O)}a.prototype.write=function(d,g,O,j){if(g===void 0)j="utf8",O=this.length,g=0;else if(O===void 0&&typeof g=="string")j=g,O=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(O)?(O=O>>>0,j===void 0&&(j="utf8")):(j=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-g;if((O===void 0||O>z)&&(O=z),d.length>0&&(O<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let W=!1;for(;;)switch(j){case"hex":return V(this,d,g,O);case"utf8":case"utf-8":return Z(this,d,g,O);case"ascii":case"latin1":case"binary":return J(this,d,g,O);case"base64":return re(this,d,g,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,d,g,O);default:if(W)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(T,d,g){return d===0&&g===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(d,g))}function h(T,d,g){g=Math.min(T.length,g);const O=[];let j=d;for(;j<g;){const z=T[j];let W=null,be=z>239?4:z>223?3:z>191?2:1;if(j+be<=g){let Te,xe,nt,_e;switch(be){case 1:z<128&&(W=z);break;case 2:Te=T[j+1],(Te&192)===128&&(_e=(z&31)<<6|Te&63,_e>127&&(W=_e));break;case 3:Te=T[j+1],xe=T[j+2],(Te&192)===128&&(xe&192)===128&&(_e=(z&15)<<12|(Te&63)<<6|xe&63,_e>2047&&(_e<55296||_e>57343)&&(W=_e));break;case 4:Te=T[j+1],xe=T[j+2],nt=T[j+3],(Te&192)===128&&(xe&192)===128&&(nt&192)===128&&(_e=(z&15)<<18|(Te&63)<<12|(xe&63)<<6|nt&63,_e>65535&&_e<1114112&&(W=_e))}}W===null?(W=65533,be=1):W>65535&&(W-=65536,O.push(W>>>10&1023|55296),W=56320|W&1023),O.push(W),j+=be}return A(O)}const m=4096;function A(T){const d=T.length;if(d<=m)return String.fromCharCode.apply(String,T);let g="",O=0;for(;O<d;)g+=String.fromCharCode.apply(String,T.slice(O,O+=m));return g}function D(T,d,g){let O="";g=Math.min(T.length,g);for(let j=d;j<g;++j)O+=String.fromCharCode(T[j]&127);return O}function S(T,d,g){let O="";g=Math.min(T.length,g);for(let j=d;j<g;++j)O+=String.fromCharCode(T[j]);return O}function E(T,d,g){const O=T.length;(!d||d<0)&&(d=0),(!g||g<0||g>O)&&(g=O);let j="";for(let z=d;z<g;++z)j+=Ye[T[z]];return j}function R(T,d,g){const O=T.slice(d,g);let j="";for(let z=0;z<O.length-1;z+=2)j+=String.fromCharCode(O[z]+O[z+1]*256);return j}a.prototype.slice=function(d,g){const O=this.length;d=~~d,g=g===void 0?O:~~g,d<0?(d+=O,d<0&&(d=0)):d>O&&(d=O),g<0?(g+=O,g<0&&(g=0)):g>O&&(g=O),g<d&&(g=d);const j=this.subarray(d,g);return Object.setPrototypeOf(j,a.prototype),j};function _(T,d,g){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+d>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,g,O){d=d>>>0,g=g>>>0,O||_(d,g,this.length);let j=this[d],z=1,W=0;for(;++W<g&&(z*=256);)j+=this[d+W]*z;return j},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,g,O){d=d>>>0,g=g>>>0,O||_(d,g,this.length);let j=this[d+--g],z=1;for(;g>0&&(z*=256);)j+=this[d+--g]*z;return j},a.prototype.readUint8=a.prototype.readUInt8=function(d,g){return d=d>>>0,g||_(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,g){return d=d>>>0,g||_(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,g){return d=d>>>0,g||_(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,g){return d=d>>>0,g||_(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,g){return d=d>>>0,g||_(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=qn(function(d){d=d>>>0,Ve(d,"offset");const g=this[d],O=this[d+7];(g===void 0||O===void 0)&&Pe(d,this.length-8);const j=g+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,z=this[++d]+this[++d]*2**8+this[++d]*2**16+O*2**24;return BigInt(j)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=qn(function(d){d=d>>>0,Ve(d,"offset");const g=this[d],O=this[d+7];(g===void 0||O===void 0)&&Pe(d,this.length-8);const j=g*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],z=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+O;return(BigInt(j)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(d,g,O){d=d>>>0,g=g>>>0,O||_(d,g,this.length);let j=this[d],z=1,W=0;for(;++W<g&&(z*=256);)j+=this[d+W]*z;return z*=128,j>=z&&(j-=Math.pow(2,8*g)),j},a.prototype.readIntBE=function(d,g,O){d=d>>>0,g=g>>>0,O||_(d,g,this.length);let j=g,z=1,W=this[d+--j];for(;j>0&&(z*=256);)W+=this[d+--j]*z;return z*=128,W>=z&&(W-=Math.pow(2,8*g)),W},a.prototype.readInt8=function(d,g){return d=d>>>0,g||_(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,g){d=d>>>0,g||_(d,2,this.length);const O=this[d]|this[d+1]<<8;return O&32768?O|4294901760:O},a.prototype.readInt16BE=function(d,g){d=d>>>0,g||_(d,2,this.length);const O=this[d+1]|this[d]<<8;return O&32768?O|4294901760:O},a.prototype.readInt32LE=function(d,g){return d=d>>>0,g||_(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,g){return d=d>>>0,g||_(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=qn(function(d){d=d>>>0,Ve(d,"offset");const g=this[d],O=this[d+7];(g===void 0||O===void 0)&&Pe(d,this.length-8);const j=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(O<<24);return(BigInt(j)<<BigInt(32))+BigInt(g+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=qn(function(d){d=d>>>0,Ve(d,"offset");const g=this[d],O=this[d+7];(g===void 0||O===void 0)&&Pe(d,this.length-8);const j=(g<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(j)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+O)}),a.prototype.readFloatLE=function(d,g){return d=d>>>0,g||_(d,4,this.length),n.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,g){return d=d>>>0,g||_(d,4,this.length),n.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,g){return d=d>>>0,g||_(d,8,this.length),n.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,g){return d=d>>>0,g||_(d,8,this.length),n.read(this,d,!1,52,8)};function f(T,d,g,O,j,z){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>j||d<z)throw new RangeError('"value" argument is out of bounds');if(g+O>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,g,O,j){if(d=+d,g=g>>>0,O=O>>>0,!j){const be=Math.pow(2,8*O)-1;f(this,d,g,O,be,0)}let z=1,W=0;for(this[g]=d&255;++W<O&&(z*=256);)this[g+W]=d/z&255;return g+O},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,g,O,j){if(d=+d,g=g>>>0,O=O>>>0,!j){const be=Math.pow(2,8*O)-1;f(this,d,g,O,be,0)}let z=O-1,W=1;for(this[g+z]=d&255;--z>=0&&(W*=256);)this[g+z]=d/W&255;return g+O},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,1,255,0),this[g]=d&255,g+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,2,65535,0),this[g]=d&255,this[g+1]=d>>>8,g+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,2,65535,0),this[g]=d>>>8,this[g+1]=d&255,g+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,4,4294967295,0),this[g+3]=d>>>24,this[g+2]=d>>>16,this[g+1]=d>>>8,this[g]=d&255,g+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,4,4294967295,0),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4};function k(T,d,g,O,j){ke(d,O,j,T,g,7);let z=Number(d&BigInt(4294967295));T[g++]=z,z=z>>8,T[g++]=z,z=z>>8,T[g++]=z,z=z>>8,T[g++]=z;let W=Number(d>>BigInt(32)&BigInt(4294967295));return T[g++]=W,W=W>>8,T[g++]=W,W=W>>8,T[g++]=W,W=W>>8,T[g++]=W,g}function G(T,d,g,O,j){ke(d,O,j,T,g,7);let z=Number(d&BigInt(4294967295));T[g+7]=z,z=z>>8,T[g+6]=z,z=z>>8,T[g+5]=z,z=z>>8,T[g+4]=z;let W=Number(d>>BigInt(32)&BigInt(4294967295));return T[g+3]=W,W=W>>8,T[g+2]=W,W=W>>8,T[g+1]=W,W=W>>8,T[g]=W,g+8}a.prototype.writeBigUInt64LE=qn(function(d,g=0){return k(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=qn(function(d,g=0){return G(this,d,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,g,O,j){if(d=+d,g=g>>>0,!j){const Te=Math.pow(2,8*O-1);f(this,d,g,O,Te-1,-Te)}let z=0,W=1,be=0;for(this[g]=d&255;++z<O&&(W*=256);)d<0&&be===0&&this[g+z-1]!==0&&(be=1),this[g+z]=(d/W>>0)-be&255;return g+O},a.prototype.writeIntBE=function(d,g,O,j){if(d=+d,g=g>>>0,!j){const Te=Math.pow(2,8*O-1);f(this,d,g,O,Te-1,-Te)}let z=O-1,W=1,be=0;for(this[g+z]=d&255;--z>=0&&(W*=256);)d<0&&be===0&&this[g+z+1]!==0&&(be=1),this[g+z]=(d/W>>0)-be&255;return g+O},a.prototype.writeInt8=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,1,127,-128),d<0&&(d=255+d+1),this[g]=d&255,g+1},a.prototype.writeInt16LE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,2,32767,-32768),this[g]=d&255,this[g+1]=d>>>8,g+2},a.prototype.writeInt16BE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,2,32767,-32768),this[g]=d>>>8,this[g+1]=d&255,g+2},a.prototype.writeInt32LE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,4,2147483647,-2147483648),this[g]=d&255,this[g+1]=d>>>8,this[g+2]=d>>>16,this[g+3]=d>>>24,g+4},a.prototype.writeInt32BE=function(d,g,O){return d=+d,g=g>>>0,O||f(this,d,g,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[g]=d>>>24,this[g+1]=d>>>16,this[g+2]=d>>>8,this[g+3]=d&255,g+4},a.prototype.writeBigInt64LE=qn(function(d,g=0){return k(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=qn(function(d,g=0){return G(this,d,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Q(T,d,g,O,j,z){if(g+O>T.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Y(T,d,g,O,j){return d=+d,g=g>>>0,j||Q(T,d,g,4),n.write(T,d,g,O,23,4),g+4}a.prototype.writeFloatLE=function(d,g,O){return Y(this,d,g,!0,O)},a.prototype.writeFloatBE=function(d,g,O){return Y(this,d,g,!1,O)};function oe(T,d,g,O,j){return d=+d,g=g>>>0,j||Q(T,d,g,8),n.write(T,d,g,O,52,8),g+8}a.prototype.writeDoubleLE=function(d,g,O){return oe(this,d,g,!0,O)},a.prototype.writeDoubleBE=function(d,g,O){return oe(this,d,g,!1,O)},a.prototype.copy=function(d,g,O,j){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(O||(O=0),!j&&j!==0&&(j=this.length),g>=d.length&&(g=d.length),g||(g=0),j>0&&j<O&&(j=O),j===O||d.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),d.length-g<j-O&&(j=d.length-g+O);const z=j-O;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,O,j):Uint8Array.prototype.set.call(d,this.subarray(O,j),g),z},a.prototype.fill=function(d,g,O,j){if(typeof d=="string"){if(typeof g=="string"?(j=g,g=0,O=this.length):typeof O=="string"&&(j=O,O=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(d.length===1){const W=d.charCodeAt(0);(j==="utf8"&&W<128||j==="latin1")&&(d=W)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(g<0||this.length<g||this.length<O)throw new RangeError("Out of range index");if(O<=g)return this;g=g>>>0,O=O===void 0?this.length:O>>>0,d||(d=0);let z;if(typeof d=="number")for(z=g;z<O;++z)this[z]=d;else{const W=a.isBuffer(d)?d:a.from(d,j),be=W.length;if(be===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(z=0;z<O-g;++z)this[z+g]=W[z%be]}return this};const fe={};function de(T,d,g){fe[T]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}de("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(T,d){return`The "${T}" argument must be of type number. Received type ${typeof d}`},TypeError),de("ERR_OUT_OF_RANGE",function(T,d,g){let O=`The value of "${T}" is out of range.`,j=g;return Number.isInteger(g)&&Math.abs(g)>2**32?j=Fe(String(g)):typeof g=="bigint"&&(j=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(j=Fe(j)),j+="n"),O+=` It must be ${d}. Received ${j}`,O},RangeError);function Fe(T){let d="",g=T.length;const O=T[0]==="-"?1:0;for(;g>=O+4;g-=3)d=`_${T.slice(g-3,g)}${d}`;return`${T.slice(0,g)}${d}`}function Re(T,d,g){Ve(d,"offset"),(T[d]===void 0||T[d+g]===void 0)&&Pe(d,T.length-(g+1))}function ke(T,d,g,O,j,z){if(T>g||T<d){const W=typeof d=="bigint"?"n":"";let be;throw z>3?d===0||d===BigInt(0)?be=`>= 0${W} and < 2${W} ** ${(z+1)*8}${W}`:be=`>= -(2${W} ** ${(z+1)*8-1}${W}) and < 2 ** ${(z+1)*8-1}${W}`:be=`>= ${d}${W} and <= ${g}${W}`,new fe.ERR_OUT_OF_RANGE("value",be,T)}Re(O,j,z)}function Ve(T,d){if(typeof T!="number")throw new fe.ERR_INVALID_ARG_TYPE(d,"number",T)}function Pe(T,d,g){throw Math.floor(T)!==T?(Ve(T,g),new fe.ERR_OUT_OF_RANGE(g||"offset","an integer",T)):d<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${d}`,T)}const ze=/[^+/0-9A-Za-z-_]/g;function $r(T){if(T=T.split("=")[0],T=T.trim().replace(ze,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function We(T,d){d=d||1/0;let g;const O=T.length;let j=null;const z=[];for(let W=0;W<O;++W){if(g=T.charCodeAt(W),g>55295&&g<57344){if(!j){if(g>56319){(d-=3)>-1&&z.push(239,191,189);continue}else if(W+1===O){(d-=3)>-1&&z.push(239,191,189);continue}j=g;continue}if(g<56320){(d-=3)>-1&&z.push(239,191,189),j=g;continue}g=(j-55296<<10|g-56320)+65536}else j&&(d-=3)>-1&&z.push(239,191,189);if(j=null,g<128){if((d-=1)<0)break;z.push(g)}else if(g<2048){if((d-=2)<0)break;z.push(g>>6|192,g&63|128)}else if(g<65536){if((d-=3)<0)break;z.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((d-=4)<0)break;z.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return z}function lt(T){const d=[];for(let g=0;g<T.length;++g)d.push(T.charCodeAt(g)&255);return d}function Mo(T,d){let g,O,j;const z=[];for(let W=0;W<T.length&&!((d-=2)<0);++W)g=T.charCodeAt(W),O=g>>8,j=g%256,z.push(j),z.push(O);return z}function et(T){return e.toByteArray($r(T))}function Ke(T,d,g,O){let j;for(j=0;j<O&&!(j+g>=d.length||j>=T.length);++j)d[j+g]=T[j];return j}function vn(T,d){return T instanceof d||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===d.name}function Qe(T){return T!==T}const Ye=function(){const T="0123456789abcdef",d=new Array(256);for(let g=0;g<16;++g){const O=g*16;for(let j=0;j<16;++j)d[O+j]=T[g]+T[j]}return d}();function qn(T){return typeof BigInt>"u"?tt:T}function tt(){throw new Error("BigInt not supported")}})(ht);function vE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function pb(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function O5(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vE(t.outputLen),vE(t.blockLen)}function ff(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function L5(t,e){pb(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const og=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gb=t=>t instanceof Uint8Array,ag=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),zr=(t,e)=>t<<32-e|t>>>e,U5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!U5)throw new Error("Non little-endian hardware is not supported");function mb(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Hv(t){if(typeof t=="string"&&(t=mb(t)),!gb(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function yb(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!gb(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class vb{clone(){return this._cloneInto()}}function _b(t){const e=r=>t().update(Hv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function wb(t=32){if(og&&typeof og.getRandomValues=="function")return og.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function B5(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,u=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+u,a,r)}class Eb extends vb{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ag(this.buffer)}update(e){ff(this);const{view:n,buffer:r,blockLen:i}=this;e=Hv(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=ag(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ff(this),L5(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let p=o;p<i;p++)n[p]=0;B5(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ag(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)a.setUint32(4*p,c[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const Vc=BigInt(2**32-1),d0=BigInt(32);function xb(t,e=!1){return e?{h:Number(t&Vc),l:Number(t>>d0&Vc)}:{h:Number(t>>d0&Vc)|0,l:Number(t&Vc)|0}}function F5(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=xb(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const V5=(t,e)=>BigInt(t>>>0)<<d0|BigInt(e>>>0),$5=(t,e,n)=>t>>>n,j5=(t,e,n)=>t<<32-n|e>>>n,z5=(t,e,n)=>t>>>n|e<<32-n,H5=(t,e,n)=>t<<32-n|e>>>n,q5=(t,e,n)=>t<<64-n|e>>>n-32,G5=(t,e,n)=>t>>>n-32|e<<64-n,W5=(t,e)=>e,K5=(t,e)=>t,Q5=(t,e,n)=>t<<n|e>>>32-n,Y5=(t,e,n)=>e<<n|t>>>32-n,X5=(t,e,n)=>e<<n-32|t>>>64-n,Z5=(t,e,n)=>t<<n-32|e>>>64-n;function J5(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const eF=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),tF=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,nF=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),rF=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,iF=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),sF=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,oF={fromBig:xb,split:F5,toBig:V5,shrSH:$5,shrSL:j5,rotrSH:z5,rotrSL:H5,rotrBH:q5,rotrBL:G5,rotr32H:W5,rotr32L:K5,rotlSH:Q5,rotlSL:Y5,rotlBH:X5,rotlBL:Z5,add:J5,add3L:eF,add3H:tF,add4L:nF,add4H:rF,add5H:sF,add5L:iF},Ce=oF,[aF,lF]=(()=>Ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),ji=new Uint32Array(80),zi=new Uint32Array(80);class uF extends Eb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:p,Fl:v,Gh:I,Gl:C,Hh:b,Hl:P}=this;return[e,n,r,i,s,o,a,l,u,c,p,v,I,C,b,P]}set(e,n,r,i,s,o,a,l,u,c,p,v,I,C,b,P){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=p|0,this.Fl=v|0,this.Gh=I|0,this.Gl=C|0,this.Hh=b|0,this.Hl=P|0}process(e,n){for(let y=0;y<16;y++,n+=4)ji[y]=e.getUint32(n),zi[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const L=ji[y-15]|0,N=zi[y-15]|0,U=Ce.rotrSH(L,N,1)^Ce.rotrSH(L,N,8)^Ce.shrSH(L,N,7),F=Ce.rotrSL(L,N,1)^Ce.rotrSL(L,N,8)^Ce.shrSL(L,N,7),V=ji[y-2]|0,Z=zi[y-2]|0,J=Ce.rotrSH(V,Z,19)^Ce.rotrBH(V,Z,61)^Ce.shrSH(V,Z,6),re=Ce.rotrSL(V,Z,19)^Ce.rotrBL(V,Z,61)^Ce.shrSL(V,Z,6),ye=Ce.add4L(F,re,zi[y-7],zi[y-16]),B=Ce.add4H(ye,U,J,ji[y-7],ji[y-16]);ji[y]=B|0,zi[y]=ye|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:p,El:v,Fh:I,Fl:C,Gh:b,Gl:P,Hh:w,Hl:x}=this;for(let y=0;y<80;y++){const L=Ce.rotrSH(p,v,14)^Ce.rotrSH(p,v,18)^Ce.rotrBH(p,v,41),N=Ce.rotrSL(p,v,14)^Ce.rotrSL(p,v,18)^Ce.rotrBL(p,v,41),U=p&I^~p&b,F=v&C^~v&P,V=Ce.add5L(x,N,F,lF[y],zi[y]),Z=Ce.add5H(V,w,L,U,aF[y],ji[y]),J=V|0,re=Ce.rotrSH(r,i,28)^Ce.rotrBH(r,i,34)^Ce.rotrBH(r,i,39),ye=Ce.rotrSL(r,i,28)^Ce.rotrBL(r,i,34)^Ce.rotrBL(r,i,39),B=r&s^r&a^s&a,h=i&o^i&l^o&l;w=b|0,x=P|0,b=I|0,P=C|0,I=p|0,C=v|0,{h:p,l:v}=Ce.add(u|0,c|0,Z|0,J|0),u=a|0,c=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const m=Ce.add3L(J,ye,h);r=Ce.add3H(m,Z,re,B),i=m|0}({h:r,l:i}=Ce.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Ce.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Ce.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Ce.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:p,l:v}=Ce.add(this.Eh|0,this.El|0,p|0,v|0),{h:I,l:C}=Ce.add(this.Fh|0,this.Fl|0,I|0,C|0),{h:b,l:P}=Ce.add(this.Gh|0,this.Gl|0,b|0,P|0),{h:w,l:x}=Ce.add(this.Hh|0,this.Hl|0,w|0,x|0),this.set(r,i,s,o,a,l,u,c,p,v,I,C,b,P,w,x)}roundClean(){ji.fill(0),zi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ib=_b(()=>new uF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sb=BigInt(0),Td=BigInt(1),cF=BigInt(2),Ad=t=>t instanceof Uint8Array,hF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yo(t){if(!Ad(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=hF[t[n]];return e}function Tb(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function qv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Da(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function to(t){return qv(yo(t))}function ga(t){if(!Ad(t))throw new Error("Uint8Array expected");return qv(yo(Uint8Array.from(t).reverse()))}function Oa(t,e){return Da(t.toString(16).padStart(e*2,"0"))}function Pu(t,e){return Oa(t,e).reverse()}function fF(t){return Da(Tb(t))}function Qt(t,e,n){let r;if(typeof e=="string")try{r=Da(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Ad(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function vo(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Ad(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function dF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function pF(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function gF(t){let e;for(e=0;t>Sb;t>>=Td,e+=1);return e}function mF(t,e){return t>>BigInt(e)&Td}const yF=(t,e,n)=>t|(n?Td:Sb)<<BigInt(e),Gv=t=>(cF<<BigInt(t-1))-Td,lg=t=>new Uint8Array(t),_E=t=>Uint8Array.from(t);function Ab(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=lg(t),i=lg(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...p)=>n(i,r,...p),l=(p=lg())=>{i=a(_E([0]),p),r=a(),p.length!==0&&(i=a(_E([1]),p),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const v=[];for(;p<e;){r=a();const I=r.slice();v.push(I),p+=r.length}return vo(...v)};return(p,v)=>{o(),l(p);let I;for(;!(I=v(u()));)l();return o(),I}}const vF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tl(t,e,n={}){const r=(i,s,o)=>{const a=vF[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const _F=Object.freeze(Object.defineProperty({__proto__:null,bitGet:mF,bitLen:gF,bitMask:Gv,bitSet:yF,bytesToHex:yo,bytesToNumberBE:to,bytesToNumberLE:ga,concatBytes:vo,createHmacDrbg:Ab,ensureBytes:Qt,equalBytes:dF,hexToBytes:Da,hexToNumber:qv,numberToBytesBE:Oa,numberToBytesLE:Pu,numberToHexUnpadded:Tb,numberToVarBytesBE:fF,utf8ToBytes:pF,validateObject:tl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tn=BigInt(0),pt=BigInt(1),Ls=BigInt(2),wF=BigInt(3),p0=BigInt(4),wE=BigInt(5),EE=BigInt(8);BigInt(9);BigInt(16);function ut(t,e){const n=t%e;return n>=tn?n:e+n}function EF(t,e,n){if(n<=tn||e<tn)throw new Error("Expected power/modulo > 0");if(n===pt)return tn;let r=pt;for(;e>tn;)e&pt&&(r=r*t%n),t=t*t%n,e>>=pt;return r}function _t(t,e,n){let r=t;for(;e-- >tn;)r*=r,r%=n;return r}function g0(t,e){if(t===tn||e<=tn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ut(t,e),r=e,i=tn,s=pt;for(;n!==tn;){const a=r/n,l=r%n,u=i-s*a;r=n,n=l,i=s,s=u}if(r!==pt)throw new Error("invert: does not exist");return ut(i,e)}function xF(t){const e=(t-pt)/Ls;let n,r,i;for(n=t-pt,r=0;n%Ls===tn;n/=Ls,r++);for(i=Ls;i<t&&EF(i,e,t)!==t-pt;i++);if(r===1){const o=(t+pt)/p0;return function(l,u){const c=l.pow(u,o);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(n+pt)/Ls;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),p=a.pow(l,s),v=a.pow(l,n);for(;!a.eql(v,a.ONE);){if(a.eql(v,a.ZERO))return a.ZERO;let I=1;for(let b=a.sqr(v);I<u&&!a.eql(b,a.ONE);I++)b=a.sqr(b);const C=a.pow(c,pt<<BigInt(u-I-1));c=a.sqr(C),p=a.mul(p,C),v=a.mul(v,c),u=I}return p}}function IF(t){if(t%p0===wF){const e=(t+pt)/p0;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%EE===wE){const e=(t-wE)/EE;return function(r,i){const s=r.mul(i,Ls),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Ls),o),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return xF(t)}const SF=(t,e)=>(ut(t,e)&pt)===pt,TF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function AF(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=TF.reduce((r,i)=>(r[i]="function",r),e);return tl(t,n)}function bF(t,e,n){if(n<tn)throw new Error("Expected power > 0");if(n===tn)return t.ONE;if(n===pt)return e;let r=t.ONE,i=e;for(;n>tn;)n&pt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=pt;return r}function RF(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function bb(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Rb(t,e,n=!1,r={}){if(t<=tn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=bb(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=IF(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Gv(i),ZERO:tn,ONE:pt,create:l=>ut(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return tn<=l&&l<t},is0:l=>l===tn,isOdd:l=>(l&pt)===pt,neg:l=>ut(-l,t),eql:(l,u)=>l===u,sqr:l=>ut(l*l,t),add:(l,u)=>ut(l+u,t),sub:(l,u)=>ut(l-u,t),mul:(l,u)=>ut(l*u,t),pow:(l,u)=>bF(a,l,u),div:(l,u)=>ut(l*g0(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>g0(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>RF(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?Pu(l,s):Oa(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?ga(l):to(l)}});return Object.freeze(a)}function CF(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function Cb(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function kb(t){const e=Cb(t);return e+Math.ceil(e/2)}function kF(t,e,n=!1){const r=t.length,i=Cb(e),s=kb(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?to(t):ga(t),a=ut(o,e-pt)+pt;return n?Pu(a,i):Oa(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const PF=BigInt(0),ug=BigInt(1);function Pb(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>PF;)s&ug&&(o=o.add(a)),a=a.double(),s>>=ug;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let u=i,c=u;for(let p=0;p<o;p++){c=u,l.push(c);for(let v=1;v<a;v++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let u=t.ZERO,c=t.BASE;const p=BigInt(2**i-1),v=2**i,I=BigInt(i);for(let C=0;C<a;C++){const b=C*l;let P=Number(o&p);o>>=I,P>l&&(P-=v,o+=ug);const w=b,x=b+Math.abs(P)-1,y=C%2!==0,L=P<0;P===0?c=c.add(n(y,s[w])):u=u.add(n(L,s[x]))}return{p:u,f:c}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&s.set(i,a(u))),this.wNAF(l,u,o)}}}function Wv(t){return AF(t.Fp),tl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bb(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rr=BigInt(0),tr=BigInt(1),$c=BigInt(2),NF=BigInt(8),MF={zip215:!0};function DF(t){const e=Wv(t);return tl(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Kv(t){const e=DF(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,u=$c<<BigInt(a*8)-tr,c=n.create,p=e.uvRatio||((S,E)=>{try{return{isValid:!0,value:n.sqrt(S*n.inv(E))}}catch{return{isValid:!1,value:Rr}}}),v=e.adjustScalarBytes||(S=>S),I=e.domain||((S,E,R)=>{if(E.length||R)throw new Error("Contexts/pre-hash are not supported");return S}),C=S=>typeof S=="bigint"&&Rr<S,b=(S,E)=>C(S)&&C(E)&&S<E,P=S=>S===Rr||b(S,u);function w(S,E){if(b(S,E))return S;throw new Error(`Expected valid scalar < ${E}, got ${typeof S} ${S}`)}function x(S){return S===Rr?S:w(S,r)}const y=new Map;function L(S){if(!(S instanceof N))throw new Error("ExtendedPoint expected")}class N{constructor(E,R,_,f){if(this.ex=E,this.ey=R,this.ez=_,this.et=f,!P(E))throw new Error("x required");if(!P(R))throw new Error("y required");if(!P(_))throw new Error("z required");if(!P(f))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof N)throw new Error("extended point not allowed");const{x:R,y:_}=E||{};if(!P(R)||!P(_))throw new Error("invalid affine point");return new N(R,_,tr,c(R*_))}static normalizeZ(E){const R=n.invertBatch(E.map(_=>_.ez));return E.map((_,f)=>_.toAffine(R[f])).map(N.fromAffine)}_setWindowSize(E){this._WINDOW_SIZE=E,y.delete(this)}assertValidity(){const{a:E,d:R}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:_,ey:f,ez:k,et:G}=this,Q=c(_*_),Y=c(f*f),oe=c(k*k),fe=c(oe*oe),de=c(Q*E),Fe=c(oe*c(de+Y)),Re=c(fe+c(R*c(Q*Y)));if(Fe!==Re)throw new Error("bad point: equation left != right (1)");const ke=c(_*f),Ve=c(k*G);if(ke!==Ve)throw new Error("bad point: equation left != right (2)")}equals(E){L(E);const{ex:R,ey:_,ez:f}=this,{ex:k,ey:G,ez:Q}=E,Y=c(R*Q),oe=c(k*f),fe=c(_*Q),de=c(G*f);return Y===oe&&fe===de}is0(){return this.equals(N.ZERO)}negate(){return new N(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:E}=e,{ex:R,ey:_,ez:f}=this,k=c(R*R),G=c(_*_),Q=c($c*c(f*f)),Y=c(E*k),oe=R+_,fe=c(c(oe*oe)-k-G),de=Y+G,Fe=de-Q,Re=Y-G,ke=c(fe*Fe),Ve=c(de*Re),Pe=c(fe*Re),ze=c(Fe*de);return new N(ke,Ve,ze,Pe)}add(E){L(E);const{a:R,d:_}=e,{ex:f,ey:k,ez:G,et:Q}=this,{ex:Y,ey:oe,ez:fe,et:de}=E;if(R===BigInt(-1)){const vn=c((k-f)*(oe+Y)),Qe=c((k+f)*(oe-Y)),Ye=c(Qe-vn);if(Ye===Rr)return this.double();const qn=c(G*$c*de),tt=c(Q*$c*fe),T=tt+qn,d=Qe+vn,g=tt-qn,O=c(T*Ye),j=c(d*g),z=c(T*g),W=c(Ye*d);return new N(O,j,W,z)}const Fe=c(f*Y),Re=c(k*oe),ke=c(Q*_*de),Ve=c(G*fe),Pe=c((f+k)*(Y+oe)-Fe-Re),ze=Ve-ke,$r=Ve+ke,We=c(Re-R*Fe),lt=c(Pe*ze),Mo=c($r*We),et=c(Pe*We),Ke=c(ze*$r);return new N(lt,Mo,Ke,et)}subtract(E){return this.add(E.negate())}wNAF(E){return V.wNAFCached(this,y,E,N.normalizeZ)}multiply(E){const{p:R,f:_}=this.wNAF(w(E,r));return N.normalizeZ([R,_])[0]}multiplyUnsafe(E){let R=x(E);return R===Rr?F:this.equals(F)||R===tr?this:this.equals(U)?this.wNAF(R).p:V.unsafeLadder(this,R)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return V.unsafeLadder(this,r).is0()}toAffine(E){const{ex:R,ey:_,ez:f}=this,k=this.is0();E==null&&(E=k?NF:n.inv(f));const G=c(R*E),Q=c(_*E),Y=c(f*E);if(k)return{x:Rr,y:tr};if(Y!==tr)throw new Error("invZ was invalid");return{x:G,y:Q}}clearCofactor(){const{h:E}=e;return E===tr?this:this.multiplyUnsafe(E)}static fromHex(E,R=!1){const{d:_,a:f}=e,k=n.BYTES;E=Qt("pointHex",E,k);const G=E.slice(),Q=E[k-1];G[k-1]=Q&-129;const Y=ga(G);Y===Rr||(R?w(Y,u):w(Y,n.ORDER));const oe=c(Y*Y),fe=c(oe-tr),de=c(_*oe-f);let{isValid:Fe,value:Re}=p(fe,de);if(!Fe)throw new Error("Point.fromHex: invalid y coordinate");const ke=(Re&tr)===tr,Ve=(Q&128)!==0;if(!R&&Re===Rr&&Ve)throw new Error("Point.fromHex: x=0 and x_0=1");return Ve!==ke&&(Re=c(-Re)),N.fromAffine({x:Re,y:Y})}static fromPrivateKey(E){return re(E).point}toRawBytes(){const{x:E,y:R}=this.toAffine(),_=Pu(R,n.BYTES);return _[_.length-1]|=E&tr?128:0,_}toHex(){return yo(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,tr,c(e.Gx*e.Gy)),N.ZERO=new N(Rr,tr,tr,Rr);const{BASE:U,ZERO:F}=N,V=Pb(N,a*8);function Z(S){return ut(S,r)}function J(S){return Z(ga(S))}function re(S){const E=a;S=Qt("private key",S,E);const R=Qt("hashed private key",s(S),2*E),_=v(R.slice(0,E)),f=R.slice(E,2*E),k=J(_),G=U.multiply(k),Q=G.toRawBytes();return{head:_,prefix:f,scalar:k,point:G,pointBytes:Q}}function ye(S){return re(S).pointBytes}function B(S=new Uint8Array,...E){const R=vo(...E);return J(s(I(R,Qt("context",S),!!i)))}function h(S,E,R={}){S=Qt("message",S),i&&(S=i(S));const{prefix:_,scalar:f,pointBytes:k}=re(E),G=B(R.context,_,S),Q=U.multiply(G).toRawBytes(),Y=B(R.context,Q,k,S),oe=Z(G+Y*f);x(oe);const fe=vo(Q,Pu(oe,n.BYTES));return Qt("result",fe,a*2)}const m=MF;function A(S,E,R,_=m){const{context:f,zip215:k}=_,G=n.BYTES;S=Qt("signature",S,2*G),E=Qt("message",E),i&&(E=i(E));const Q=ga(S.slice(G,2*G));let Y,oe,fe;try{Y=N.fromHex(R,k),oe=N.fromHex(S.slice(0,G),k),fe=U.multiplyUnsafe(Q)}catch{return!1}if(!k&&Y.isSmallOrder())return!1;const de=B(f,oe.toRawBytes(),Y.toRawBytes(),E);return oe.add(Y.multiplyUnsafe(de)).subtract(fe).clearCofactor().equals(N.ZERO)}return U._setWindowSize(8),{CURVE:e,getPublicKey:ye,sign:h,verify:A,ExtendedPoint:N,utils:{getExtendedPublicKey:re,randomPrivateKey:()=>o(n.BYTES),precompute(S=8,E=N.BASE){return E._setWindowSize(S),E.multiply(BigInt(3)),E}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qv=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),xE=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const OF=BigInt(1),m0=BigInt(2),LF=BigInt(5),IE=BigInt(10),UF=BigInt(20),BF=BigInt(40),SE=BigInt(80);function FF(t){const e=Qv,r=t*t%e*t%e,i=_t(r,m0,e)*r%e,s=_t(i,OF,e)*t%e,o=_t(s,LF,e)*s%e,a=_t(o,IE,e)*o%e,l=_t(a,UF,e)*a%e,u=_t(l,BF,e)*l%e,c=_t(u,SE,e)*u%e,p=_t(c,SE,e)*u%e,v=_t(p,IE,e)*o%e;return{pow_p_5_8:_t(v,m0,e)*t%e,b2:r}}function VF(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function $F(t,e){const n=Qv,r=ut(e*e*e,n),i=ut(r*r*e,n),s=FF(t*i).pow_p_5_8;let o=ut(t*r*s,n);const a=ut(e*o*o,n),l=o,u=ut(o*xE,n),c=a===t,p=a===ut(-t,n),v=a===ut(-t*xE,n);return c&&(o=l),(p||v)&&(o=u),SF(o,n)&&(o=ut(-o,n)),{isValid:c||p,value:o}}const bi=Rb(Qv,void 0,!0),Yv={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bi,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ib,randomBytes:wb,adjustScalarBytes:VF,uvRatio:$F},Nb=Kv(Yv);function Mb(t,e,n){if(e.length>255)throw new Error("Context is too big");return yb(mb("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}({...Yv});({...Yv});const jF=(bi.ORDER+BigInt(3))/BigInt(8);bi.pow(m0,jF);bi.sqrt(bi.neg(bi.ONE));(bi.ORDER-BigInt(5))/BigInt(8);BigInt(486662);CF(bi,bi.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Xv={exports:{}};const zF={},HF=Object.freeze(Object.defineProperty({__proto__:null,default:zF},Symbol.toStringTag,{value:"Module"})),qF=S0(HF);Xv.exports;(function(t){(function(e,n){function r(B,h){if(!B)throw new Error(h||"Assertion failed")}function i(B,h){B.super_=h;var m=function(){};m.prototype=h.prototype,B.prototype=new m,B.prototype.constructor=B}function s(B,h,m){if(s.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((h==="le"||h==="be")&&(m=h,h=10),this._init(B||0,h||10,m||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=qF.Buffer}catch{}s.isBN=function(h){return h instanceof s?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,m){return h.cmp(m)>0?h:m},s.min=function(h,m){return h.cmp(m)<0?h:m},s.prototype._init=function(h,m,A){if(typeof h=="number")return this._initNumber(h,m,A);if(typeof h=="object")return this._initArray(h,m,A);m==="hex"&&(m=16),r(m===(m|0)&&m>=2&&m<=36),h=h.toString().replace(/\s+/g,"");var D=0;h[0]==="-"&&(D++,this.negative=1),D<h.length&&(m===16?this._parseHex(h,D,A):(this._parseBase(h,m,D),A==="le"&&this._initArray(this.toArray(),m,A)))},s.prototype._initNumber=function(h,m,A){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),m,A)},s.prototype._initArray=function(h,m,A){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var S,E,R=0;if(A==="be")for(D=h.length-1,S=0;D>=0;D-=3)E=h[D]|h[D-1]<<8|h[D-2]<<16,this.words[S]|=E<<R&67108863,this.words[S+1]=E>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);else if(A==="le")for(D=0,S=0;D<h.length;D+=3)E=h[D]|h[D+1]<<8|h[D+2]<<16,this.words[S]|=E<<R&67108863,this.words[S+1]=E>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);return this._strip()};function a(B,h){var m=B.charCodeAt(h);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;r(!1,"Invalid character in "+B)}function l(B,h,m){var A=a(B,m);return m-1>=h&&(A|=a(B,m-1)<<4),A}s.prototype._parseHex=function(h,m,A){this.length=Math.ceil((h.length-m)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var S=0,E=0,R;if(A==="be")for(D=h.length-1;D>=m;D-=2)R=l(h,m,D)<<S,this.words[E]|=R&67108863,S>=18?(S-=18,E+=1,this.words[E]|=R>>>26):S+=8;else{var _=h.length-m;for(D=_%2===0?m+1:m;D<h.length;D+=2)R=l(h,m,D)<<S,this.words[E]|=R&67108863,S>=18?(S-=18,E+=1,this.words[E]|=R>>>26):S+=8}this._strip()};function u(B,h,m,A){for(var D=0,S=0,E=Math.min(B.length,m),R=h;R<E;R++){var _=B.charCodeAt(R)-48;D*=A,_>=49?S=_-49+10:_>=17?S=_-17+10:S=_,r(_>=0&&S<A,"Invalid character"),D+=S}return D}s.prototype._parseBase=function(h,m,A){this.words=[0],this.length=1;for(var D=0,S=1;S<=67108863;S*=m)D++;D--,S=S/m|0;for(var E=h.length-A,R=E%D,_=Math.min(E,E-R)+A,f=0,k=A;k<_;k+=D)f=u(h,k,k+D,m),this.imuln(S),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var G=1;for(f=u(h,k,h.length,m),k=0;k<R;k++)G*=m;this.imuln(G),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(h){h.words=new Array(this.length);for(var m=0;m<this.length;m++)h.words[m]=this.words[m];h.length=this.length,h.negative=this.negative,h.red=this.red};function c(B,h){B.words=h.words,B.length=h.length,B.negative=h.negative,B.red=h.red}if(s.prototype._move=function(h){c(h,this)},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(h,m){h=h||10,m=m|0||1;var A;if(h===16||h==="hex"){A="";for(var D=0,S=0,E=0;E<this.length;E++){var R=this.words[E],_=((R<<D|S)&16777215).toString(16);S=R>>>24-D&16777215,D+=2,D>=26&&(D-=26,E--),S!==0||E!==this.length-1?A=v[6-_.length]+_+A:A=_+A}for(S!==0&&(A=S.toString(16)+A);A.length%m!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(h===(h|0)&&h>=2&&h<=36){var f=I[h],k=C[h];A="";var G=this.clone();for(G.negative=0;!G.isZero();){var Q=G.modrn(k).toString(h);G=G.idivn(k),G.isZero()?A=Q+A:A=v[f-Q.length]+Q+A}for(this.isZero()&&(A="0"+A);A.length%m!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(h,m){return this.toArrayLike(o,h,m)}),s.prototype.toArray=function(h,m){return this.toArrayLike(Array,h,m)};var b=function(h,m){return h.allocUnsafe?h.allocUnsafe(m):new h(m)};s.prototype.toArrayLike=function(h,m,A){this._strip();var D=this.byteLength(),S=A||Math.max(1,D);r(D<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0");var E=b(h,S),R=m==="le"?"LE":"BE";return this["_toArrayLike"+R](E,D),E},s.prototype._toArrayLikeLE=function(h,m){for(var A=0,D=0,S=0,E=0;S<this.length;S++){var R=this.words[S]<<E|D;h[A++]=R&255,A<h.length&&(h[A++]=R>>8&255),A<h.length&&(h[A++]=R>>16&255),E===6?(A<h.length&&(h[A++]=R>>24&255),D=0,E=0):(D=R>>>24,E+=2)}if(A<h.length)for(h[A++]=D;A<h.length;)h[A++]=0},s.prototype._toArrayLikeBE=function(h,m){for(var A=h.length-1,D=0,S=0,E=0;S<this.length;S++){var R=this.words[S]<<E|D;h[A--]=R&255,A>=0&&(h[A--]=R>>8&255),A>=0&&(h[A--]=R>>16&255),E===6?(A>=0&&(h[A--]=R>>24&255),D=0,E=0):(D=R>>>24,E+=2)}if(A>=0)for(h[A--]=D;A>=0;)h[A--]=0},Math.clz32?s.prototype._countBits=function(h){return 32-Math.clz32(h)}:s.prototype._countBits=function(h){var m=h,A=0;return m>=4096&&(A+=13,m>>>=13),m>=64&&(A+=7,m>>>=7),m>=8&&(A+=4,m>>>=4),m>=2&&(A+=2,m>>>=2),A+m},s.prototype._zeroBits=function(h){if(h===0)return 26;var m=h,A=0;return m&8191||(A+=13,m>>>=13),m&127||(A+=7,m>>>=7),m&15||(A+=4,m>>>=4),m&3||(A+=2,m>>>=2),m&1||A++,A},s.prototype.bitLength=function(){var h=this.words[this.length-1],m=this._countBits(h);return(this.length-1)*26+m};function P(B){for(var h=new Array(B.bitLength()),m=0;m<h.length;m++){var A=m/26|0,D=m%26;h[m]=B.words[A]>>>D&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,m=0;m<this.length;m++){var A=this._zeroBits(this.words[m]);if(h+=A,A!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]|h.words[m];return this._strip()},s.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var m;this.length>h.length?m=h:m=this;for(var A=0;A<m.length;A++)this.words[A]=this.words[A]&h.words[A];return this.length=m.length,this._strip()},s.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var m,A;this.length>h.length?(m=this,A=h):(m=h,A=this);for(var D=0;D<A.length;D++)this.words[D]=m.words[D]^A.words[D];if(this!==m)for(;D<m.length;D++)this.words[D]=m.words[D];return this.length=m.length,this._strip()},s.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var m=Math.ceil(h/26)|0,A=h%26;this._expand(m),A>0&&m--;for(var D=0;D<m;D++)this.words[D]=~this.words[D]&67108863;return A>0&&(this.words[D]=~this.words[D]&67108863>>26-A),this._strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,m){r(typeof h=="number"&&h>=0);var A=h/26|0,D=h%26;return this._expand(A+1),m?this.words[A]=this.words[A]|1<<D:this.words[A]=this.words[A]&~(1<<D),this._strip()},s.prototype.iadd=function(h){var m;if(this.negative!==0&&h.negative===0)return this.negative=0,m=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,m=this.isub(h),h.negative=1,m._normSign();var A,D;this.length>h.length?(A=this,D=h):(A=h,D=this);for(var S=0,E=0;E<D.length;E++)m=(A.words[E]|0)+(D.words[E]|0)+S,this.words[E]=m&67108863,S=m>>>26;for(;S!==0&&E<A.length;E++)m=(A.words[E]|0)+S,this.words[E]=m&67108863,S=m>>>26;if(this.length=A.length,S!==0)this.words[this.length]=S,this.length++;else if(A!==this)for(;E<A.length;E++)this.words[E]=A.words[E];return this},s.prototype.add=function(h){var m;return h.negative!==0&&this.negative===0?(h.negative=0,m=this.sub(h),h.negative^=1,m):h.negative===0&&this.negative!==0?(this.negative=0,m=h.sub(this),this.negative=1,m):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var m=this.iadd(h);return h.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var A=this.cmp(h);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var D,S;A>0?(D=this,S=h):(D=h,S=this);for(var E=0,R=0;R<S.length;R++)m=(D.words[R]|0)-(S.words[R]|0)+E,E=m>>26,this.words[R]=m&67108863;for(;E!==0&&R<D.length;R++)m=(D.words[R]|0)+E,E=m>>26,this.words[R]=m&67108863;if(E===0&&R<D.length&&D!==this)for(;R<D.length;R++)this.words[R]=D.words[R];return this.length=Math.max(this.length,R),D!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(h){return this.clone().isub(h)};function w(B,h,m){m.negative=h.negative^B.negative;var A=B.length+h.length|0;m.length=A,A=A-1|0;var D=B.words[0]|0,S=h.words[0]|0,E=D*S,R=E&67108863,_=E/67108864|0;m.words[0]=R;for(var f=1;f<A;f++){for(var k=_>>>26,G=_&67108863,Q=Math.min(f,h.length-1),Y=Math.max(0,f-B.length+1);Y<=Q;Y++){var oe=f-Y|0;D=B.words[oe]|0,S=h.words[Y]|0,E=D*S+G,k+=E/67108864|0,G=E&67108863}m.words[f]=G|0,_=k|0}return _!==0?m.words[f]=_|0:m.length--,m._strip()}var x=function(h,m,A){var D=h.words,S=m.words,E=A.words,R=0,_,f,k,G=D[0]|0,Q=G&8191,Y=G>>>13,oe=D[1]|0,fe=oe&8191,de=oe>>>13,Fe=D[2]|0,Re=Fe&8191,ke=Fe>>>13,Ve=D[3]|0,Pe=Ve&8191,ze=Ve>>>13,$r=D[4]|0,We=$r&8191,lt=$r>>>13,Mo=D[5]|0,et=Mo&8191,Ke=Mo>>>13,vn=D[6]|0,Qe=vn&8191,Ye=vn>>>13,qn=D[7]|0,tt=qn&8191,T=qn>>>13,d=D[8]|0,g=d&8191,O=d>>>13,j=D[9]|0,z=j&8191,W=j>>>13,be=S[0]|0,Te=be&8191,xe=be>>>13,nt=S[1]|0,_e=nt&8191,At=nt>>>13,g1=S[2]|0,bt=g1&8191,Rt=g1>>>13,m1=S[3]|0,Ct=m1&8191,kt=m1>>>13,y1=S[4]|0,Pt=y1&8191,Nt=y1>>>13,v1=S[5]|0,Mt=v1&8191,Dt=v1>>>13,_1=S[6]|0,Ot=_1&8191,Lt=_1>>>13,w1=S[7]|0,Ut=w1&8191,Bt=w1>>>13,E1=S[8]|0,Ft=E1&8191,Vt=E1>>>13,x1=S[9]|0,$t=x1&8191,jt=x1>>>13;A.negative=h.negative^m.negative,A.length=19,_=Math.imul(Q,Te),f=Math.imul(Q,xe),f=f+Math.imul(Y,Te)|0,k=Math.imul(Y,xe);var Od=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Od>>>26)|0,Od&=67108863,_=Math.imul(fe,Te),f=Math.imul(fe,xe),f=f+Math.imul(de,Te)|0,k=Math.imul(de,xe),_=_+Math.imul(Q,_e)|0,f=f+Math.imul(Q,At)|0,f=f+Math.imul(Y,_e)|0,k=k+Math.imul(Y,At)|0;var Ld=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Ld>>>26)|0,Ld&=67108863,_=Math.imul(Re,Te),f=Math.imul(Re,xe),f=f+Math.imul(ke,Te)|0,k=Math.imul(ke,xe),_=_+Math.imul(fe,_e)|0,f=f+Math.imul(fe,At)|0,f=f+Math.imul(de,_e)|0,k=k+Math.imul(de,At)|0,_=_+Math.imul(Q,bt)|0,f=f+Math.imul(Q,Rt)|0,f=f+Math.imul(Y,bt)|0,k=k+Math.imul(Y,Rt)|0;var Ud=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Ud>>>26)|0,Ud&=67108863,_=Math.imul(Pe,Te),f=Math.imul(Pe,xe),f=f+Math.imul(ze,Te)|0,k=Math.imul(ze,xe),_=_+Math.imul(Re,_e)|0,f=f+Math.imul(Re,At)|0,f=f+Math.imul(ke,_e)|0,k=k+Math.imul(ke,At)|0,_=_+Math.imul(fe,bt)|0,f=f+Math.imul(fe,Rt)|0,f=f+Math.imul(de,bt)|0,k=k+Math.imul(de,Rt)|0,_=_+Math.imul(Q,Ct)|0,f=f+Math.imul(Q,kt)|0,f=f+Math.imul(Y,Ct)|0,k=k+Math.imul(Y,kt)|0;var Bd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Bd>>>26)|0,Bd&=67108863,_=Math.imul(We,Te),f=Math.imul(We,xe),f=f+Math.imul(lt,Te)|0,k=Math.imul(lt,xe),_=_+Math.imul(Pe,_e)|0,f=f+Math.imul(Pe,At)|0,f=f+Math.imul(ze,_e)|0,k=k+Math.imul(ze,At)|0,_=_+Math.imul(Re,bt)|0,f=f+Math.imul(Re,Rt)|0,f=f+Math.imul(ke,bt)|0,k=k+Math.imul(ke,Rt)|0,_=_+Math.imul(fe,Ct)|0,f=f+Math.imul(fe,kt)|0,f=f+Math.imul(de,Ct)|0,k=k+Math.imul(de,kt)|0,_=_+Math.imul(Q,Pt)|0,f=f+Math.imul(Q,Nt)|0,f=f+Math.imul(Y,Pt)|0,k=k+Math.imul(Y,Nt)|0;var Fd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Fd>>>26)|0,Fd&=67108863,_=Math.imul(et,Te),f=Math.imul(et,xe),f=f+Math.imul(Ke,Te)|0,k=Math.imul(Ke,xe),_=_+Math.imul(We,_e)|0,f=f+Math.imul(We,At)|0,f=f+Math.imul(lt,_e)|0,k=k+Math.imul(lt,At)|0,_=_+Math.imul(Pe,bt)|0,f=f+Math.imul(Pe,Rt)|0,f=f+Math.imul(ze,bt)|0,k=k+Math.imul(ze,Rt)|0,_=_+Math.imul(Re,Ct)|0,f=f+Math.imul(Re,kt)|0,f=f+Math.imul(ke,Ct)|0,k=k+Math.imul(ke,kt)|0,_=_+Math.imul(fe,Pt)|0,f=f+Math.imul(fe,Nt)|0,f=f+Math.imul(de,Pt)|0,k=k+Math.imul(de,Nt)|0,_=_+Math.imul(Q,Mt)|0,f=f+Math.imul(Q,Dt)|0,f=f+Math.imul(Y,Mt)|0,k=k+Math.imul(Y,Dt)|0;var Vd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Vd>>>26)|0,Vd&=67108863,_=Math.imul(Qe,Te),f=Math.imul(Qe,xe),f=f+Math.imul(Ye,Te)|0,k=Math.imul(Ye,xe),_=_+Math.imul(et,_e)|0,f=f+Math.imul(et,At)|0,f=f+Math.imul(Ke,_e)|0,k=k+Math.imul(Ke,At)|0,_=_+Math.imul(We,bt)|0,f=f+Math.imul(We,Rt)|0,f=f+Math.imul(lt,bt)|0,k=k+Math.imul(lt,Rt)|0,_=_+Math.imul(Pe,Ct)|0,f=f+Math.imul(Pe,kt)|0,f=f+Math.imul(ze,Ct)|0,k=k+Math.imul(ze,kt)|0,_=_+Math.imul(Re,Pt)|0,f=f+Math.imul(Re,Nt)|0,f=f+Math.imul(ke,Pt)|0,k=k+Math.imul(ke,Nt)|0,_=_+Math.imul(fe,Mt)|0,f=f+Math.imul(fe,Dt)|0,f=f+Math.imul(de,Mt)|0,k=k+Math.imul(de,Dt)|0,_=_+Math.imul(Q,Ot)|0,f=f+Math.imul(Q,Lt)|0,f=f+Math.imul(Y,Ot)|0,k=k+Math.imul(Y,Lt)|0;var $d=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+($d>>>26)|0,$d&=67108863,_=Math.imul(tt,Te),f=Math.imul(tt,xe),f=f+Math.imul(T,Te)|0,k=Math.imul(T,xe),_=_+Math.imul(Qe,_e)|0,f=f+Math.imul(Qe,At)|0,f=f+Math.imul(Ye,_e)|0,k=k+Math.imul(Ye,At)|0,_=_+Math.imul(et,bt)|0,f=f+Math.imul(et,Rt)|0,f=f+Math.imul(Ke,bt)|0,k=k+Math.imul(Ke,Rt)|0,_=_+Math.imul(We,Ct)|0,f=f+Math.imul(We,kt)|0,f=f+Math.imul(lt,Ct)|0,k=k+Math.imul(lt,kt)|0,_=_+Math.imul(Pe,Pt)|0,f=f+Math.imul(Pe,Nt)|0,f=f+Math.imul(ze,Pt)|0,k=k+Math.imul(ze,Nt)|0,_=_+Math.imul(Re,Mt)|0,f=f+Math.imul(Re,Dt)|0,f=f+Math.imul(ke,Mt)|0,k=k+Math.imul(ke,Dt)|0,_=_+Math.imul(fe,Ot)|0,f=f+Math.imul(fe,Lt)|0,f=f+Math.imul(de,Ot)|0,k=k+Math.imul(de,Lt)|0,_=_+Math.imul(Q,Ut)|0,f=f+Math.imul(Q,Bt)|0,f=f+Math.imul(Y,Ut)|0,k=k+Math.imul(Y,Bt)|0;var jd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(jd>>>26)|0,jd&=67108863,_=Math.imul(g,Te),f=Math.imul(g,xe),f=f+Math.imul(O,Te)|0,k=Math.imul(O,xe),_=_+Math.imul(tt,_e)|0,f=f+Math.imul(tt,At)|0,f=f+Math.imul(T,_e)|0,k=k+Math.imul(T,At)|0,_=_+Math.imul(Qe,bt)|0,f=f+Math.imul(Qe,Rt)|0,f=f+Math.imul(Ye,bt)|0,k=k+Math.imul(Ye,Rt)|0,_=_+Math.imul(et,Ct)|0,f=f+Math.imul(et,kt)|0,f=f+Math.imul(Ke,Ct)|0,k=k+Math.imul(Ke,kt)|0,_=_+Math.imul(We,Pt)|0,f=f+Math.imul(We,Nt)|0,f=f+Math.imul(lt,Pt)|0,k=k+Math.imul(lt,Nt)|0,_=_+Math.imul(Pe,Mt)|0,f=f+Math.imul(Pe,Dt)|0,f=f+Math.imul(ze,Mt)|0,k=k+Math.imul(ze,Dt)|0,_=_+Math.imul(Re,Ot)|0,f=f+Math.imul(Re,Lt)|0,f=f+Math.imul(ke,Ot)|0,k=k+Math.imul(ke,Lt)|0,_=_+Math.imul(fe,Ut)|0,f=f+Math.imul(fe,Bt)|0,f=f+Math.imul(de,Ut)|0,k=k+Math.imul(de,Bt)|0,_=_+Math.imul(Q,Ft)|0,f=f+Math.imul(Q,Vt)|0,f=f+Math.imul(Y,Ft)|0,k=k+Math.imul(Y,Vt)|0;var zd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(zd>>>26)|0,zd&=67108863,_=Math.imul(z,Te),f=Math.imul(z,xe),f=f+Math.imul(W,Te)|0,k=Math.imul(W,xe),_=_+Math.imul(g,_e)|0,f=f+Math.imul(g,At)|0,f=f+Math.imul(O,_e)|0,k=k+Math.imul(O,At)|0,_=_+Math.imul(tt,bt)|0,f=f+Math.imul(tt,Rt)|0,f=f+Math.imul(T,bt)|0,k=k+Math.imul(T,Rt)|0,_=_+Math.imul(Qe,Ct)|0,f=f+Math.imul(Qe,kt)|0,f=f+Math.imul(Ye,Ct)|0,k=k+Math.imul(Ye,kt)|0,_=_+Math.imul(et,Pt)|0,f=f+Math.imul(et,Nt)|0,f=f+Math.imul(Ke,Pt)|0,k=k+Math.imul(Ke,Nt)|0,_=_+Math.imul(We,Mt)|0,f=f+Math.imul(We,Dt)|0,f=f+Math.imul(lt,Mt)|0,k=k+Math.imul(lt,Dt)|0,_=_+Math.imul(Pe,Ot)|0,f=f+Math.imul(Pe,Lt)|0,f=f+Math.imul(ze,Ot)|0,k=k+Math.imul(ze,Lt)|0,_=_+Math.imul(Re,Ut)|0,f=f+Math.imul(Re,Bt)|0,f=f+Math.imul(ke,Ut)|0,k=k+Math.imul(ke,Bt)|0,_=_+Math.imul(fe,Ft)|0,f=f+Math.imul(fe,Vt)|0,f=f+Math.imul(de,Ft)|0,k=k+Math.imul(de,Vt)|0,_=_+Math.imul(Q,$t)|0,f=f+Math.imul(Q,jt)|0,f=f+Math.imul(Y,$t)|0,k=k+Math.imul(Y,jt)|0;var Hd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Hd>>>26)|0,Hd&=67108863,_=Math.imul(z,_e),f=Math.imul(z,At),f=f+Math.imul(W,_e)|0,k=Math.imul(W,At),_=_+Math.imul(g,bt)|0,f=f+Math.imul(g,Rt)|0,f=f+Math.imul(O,bt)|0,k=k+Math.imul(O,Rt)|0,_=_+Math.imul(tt,Ct)|0,f=f+Math.imul(tt,kt)|0,f=f+Math.imul(T,Ct)|0,k=k+Math.imul(T,kt)|0,_=_+Math.imul(Qe,Pt)|0,f=f+Math.imul(Qe,Nt)|0,f=f+Math.imul(Ye,Pt)|0,k=k+Math.imul(Ye,Nt)|0,_=_+Math.imul(et,Mt)|0,f=f+Math.imul(et,Dt)|0,f=f+Math.imul(Ke,Mt)|0,k=k+Math.imul(Ke,Dt)|0,_=_+Math.imul(We,Ot)|0,f=f+Math.imul(We,Lt)|0,f=f+Math.imul(lt,Ot)|0,k=k+Math.imul(lt,Lt)|0,_=_+Math.imul(Pe,Ut)|0,f=f+Math.imul(Pe,Bt)|0,f=f+Math.imul(ze,Ut)|0,k=k+Math.imul(ze,Bt)|0,_=_+Math.imul(Re,Ft)|0,f=f+Math.imul(Re,Vt)|0,f=f+Math.imul(ke,Ft)|0,k=k+Math.imul(ke,Vt)|0,_=_+Math.imul(fe,$t)|0,f=f+Math.imul(fe,jt)|0,f=f+Math.imul(de,$t)|0,k=k+Math.imul(de,jt)|0;var qd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(qd>>>26)|0,qd&=67108863,_=Math.imul(z,bt),f=Math.imul(z,Rt),f=f+Math.imul(W,bt)|0,k=Math.imul(W,Rt),_=_+Math.imul(g,Ct)|0,f=f+Math.imul(g,kt)|0,f=f+Math.imul(O,Ct)|0,k=k+Math.imul(O,kt)|0,_=_+Math.imul(tt,Pt)|0,f=f+Math.imul(tt,Nt)|0,f=f+Math.imul(T,Pt)|0,k=k+Math.imul(T,Nt)|0,_=_+Math.imul(Qe,Mt)|0,f=f+Math.imul(Qe,Dt)|0,f=f+Math.imul(Ye,Mt)|0,k=k+Math.imul(Ye,Dt)|0,_=_+Math.imul(et,Ot)|0,f=f+Math.imul(et,Lt)|0,f=f+Math.imul(Ke,Ot)|0,k=k+Math.imul(Ke,Lt)|0,_=_+Math.imul(We,Ut)|0,f=f+Math.imul(We,Bt)|0,f=f+Math.imul(lt,Ut)|0,k=k+Math.imul(lt,Bt)|0,_=_+Math.imul(Pe,Ft)|0,f=f+Math.imul(Pe,Vt)|0,f=f+Math.imul(ze,Ft)|0,k=k+Math.imul(ze,Vt)|0,_=_+Math.imul(Re,$t)|0,f=f+Math.imul(Re,jt)|0,f=f+Math.imul(ke,$t)|0,k=k+Math.imul(ke,jt)|0;var Gd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Gd>>>26)|0,Gd&=67108863,_=Math.imul(z,Ct),f=Math.imul(z,kt),f=f+Math.imul(W,Ct)|0,k=Math.imul(W,kt),_=_+Math.imul(g,Pt)|0,f=f+Math.imul(g,Nt)|0,f=f+Math.imul(O,Pt)|0,k=k+Math.imul(O,Nt)|0,_=_+Math.imul(tt,Mt)|0,f=f+Math.imul(tt,Dt)|0,f=f+Math.imul(T,Mt)|0,k=k+Math.imul(T,Dt)|0,_=_+Math.imul(Qe,Ot)|0,f=f+Math.imul(Qe,Lt)|0,f=f+Math.imul(Ye,Ot)|0,k=k+Math.imul(Ye,Lt)|0,_=_+Math.imul(et,Ut)|0,f=f+Math.imul(et,Bt)|0,f=f+Math.imul(Ke,Ut)|0,k=k+Math.imul(Ke,Bt)|0,_=_+Math.imul(We,Ft)|0,f=f+Math.imul(We,Vt)|0,f=f+Math.imul(lt,Ft)|0,k=k+Math.imul(lt,Vt)|0,_=_+Math.imul(Pe,$t)|0,f=f+Math.imul(Pe,jt)|0,f=f+Math.imul(ze,$t)|0,k=k+Math.imul(ze,jt)|0;var Wd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Wd>>>26)|0,Wd&=67108863,_=Math.imul(z,Pt),f=Math.imul(z,Nt),f=f+Math.imul(W,Pt)|0,k=Math.imul(W,Nt),_=_+Math.imul(g,Mt)|0,f=f+Math.imul(g,Dt)|0,f=f+Math.imul(O,Mt)|0,k=k+Math.imul(O,Dt)|0,_=_+Math.imul(tt,Ot)|0,f=f+Math.imul(tt,Lt)|0,f=f+Math.imul(T,Ot)|0,k=k+Math.imul(T,Lt)|0,_=_+Math.imul(Qe,Ut)|0,f=f+Math.imul(Qe,Bt)|0,f=f+Math.imul(Ye,Ut)|0,k=k+Math.imul(Ye,Bt)|0,_=_+Math.imul(et,Ft)|0,f=f+Math.imul(et,Vt)|0,f=f+Math.imul(Ke,Ft)|0,k=k+Math.imul(Ke,Vt)|0,_=_+Math.imul(We,$t)|0,f=f+Math.imul(We,jt)|0,f=f+Math.imul(lt,$t)|0,k=k+Math.imul(lt,jt)|0;var Kd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Kd>>>26)|0,Kd&=67108863,_=Math.imul(z,Mt),f=Math.imul(z,Dt),f=f+Math.imul(W,Mt)|0,k=Math.imul(W,Dt),_=_+Math.imul(g,Ot)|0,f=f+Math.imul(g,Lt)|0,f=f+Math.imul(O,Ot)|0,k=k+Math.imul(O,Lt)|0,_=_+Math.imul(tt,Ut)|0,f=f+Math.imul(tt,Bt)|0,f=f+Math.imul(T,Ut)|0,k=k+Math.imul(T,Bt)|0,_=_+Math.imul(Qe,Ft)|0,f=f+Math.imul(Qe,Vt)|0,f=f+Math.imul(Ye,Ft)|0,k=k+Math.imul(Ye,Vt)|0,_=_+Math.imul(et,$t)|0,f=f+Math.imul(et,jt)|0,f=f+Math.imul(Ke,$t)|0,k=k+Math.imul(Ke,jt)|0;var Qd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Qd>>>26)|0,Qd&=67108863,_=Math.imul(z,Ot),f=Math.imul(z,Lt),f=f+Math.imul(W,Ot)|0,k=Math.imul(W,Lt),_=_+Math.imul(g,Ut)|0,f=f+Math.imul(g,Bt)|0,f=f+Math.imul(O,Ut)|0,k=k+Math.imul(O,Bt)|0,_=_+Math.imul(tt,Ft)|0,f=f+Math.imul(tt,Vt)|0,f=f+Math.imul(T,Ft)|0,k=k+Math.imul(T,Vt)|0,_=_+Math.imul(Qe,$t)|0,f=f+Math.imul(Qe,jt)|0,f=f+Math.imul(Ye,$t)|0,k=k+Math.imul(Ye,jt)|0;var Yd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Yd>>>26)|0,Yd&=67108863,_=Math.imul(z,Ut),f=Math.imul(z,Bt),f=f+Math.imul(W,Ut)|0,k=Math.imul(W,Bt),_=_+Math.imul(g,Ft)|0,f=f+Math.imul(g,Vt)|0,f=f+Math.imul(O,Ft)|0,k=k+Math.imul(O,Vt)|0,_=_+Math.imul(tt,$t)|0,f=f+Math.imul(tt,jt)|0,f=f+Math.imul(T,$t)|0,k=k+Math.imul(T,jt)|0;var Xd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Xd>>>26)|0,Xd&=67108863,_=Math.imul(z,Ft),f=Math.imul(z,Vt),f=f+Math.imul(W,Ft)|0,k=Math.imul(W,Vt),_=_+Math.imul(g,$t)|0,f=f+Math.imul(g,jt)|0,f=f+Math.imul(O,$t)|0,k=k+Math.imul(O,jt)|0;var Zd=(R+_|0)+((f&8191)<<13)|0;R=(k+(f>>>13)|0)+(Zd>>>26)|0,Zd&=67108863,_=Math.imul(z,$t),f=Math.imul(z,jt),f=f+Math.imul(W,$t)|0,k=Math.imul(W,jt);var Jd=(R+_|0)+((f&8191)<<13)|0;return R=(k+(f>>>13)|0)+(Jd>>>26)|0,Jd&=67108863,E[0]=Od,E[1]=Ld,E[2]=Ud,E[3]=Bd,E[4]=Fd,E[5]=Vd,E[6]=$d,E[7]=jd,E[8]=zd,E[9]=Hd,E[10]=qd,E[11]=Gd,E[12]=Wd,E[13]=Kd,E[14]=Qd,E[15]=Yd,E[16]=Xd,E[17]=Zd,E[18]=Jd,R!==0&&(E[19]=R,A.length++),A};Math.imul||(x=w);function y(B,h,m){m.negative=h.negative^B.negative,m.length=B.length+h.length;for(var A=0,D=0,S=0;S<m.length-1;S++){var E=D;D=0;for(var R=A&67108863,_=Math.min(S,h.length-1),f=Math.max(0,S-B.length+1);f<=_;f++){var k=S-f,G=B.words[k]|0,Q=h.words[f]|0,Y=G*Q,oe=Y&67108863;E=E+(Y/67108864|0)|0,oe=oe+R|0,R=oe&67108863,E=E+(oe>>>26)|0,D+=E>>>26,E&=67108863}m.words[S]=R,A=E,E=D}return A!==0?m.words[S]=A:m.length--,m._strip()}function L(B,h,m){return y(B,h,m)}s.prototype.mulTo=function(h,m){var A,D=this.length+h.length;return this.length===10&&h.length===10?A=x(this,h,m):D<63?A=w(this,h,m):D<1024?A=y(this,h,m):A=L(this,h,m),A},s.prototype.mul=function(h){var m=new s(null);return m.words=new Array(this.length+h.length),this.mulTo(h,m)},s.prototype.mulf=function(h){var m=new s(null);return m.words=new Array(this.length+h.length),L(this,h,m)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){var m=h<0;m&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var A=0,D=0;D<this.length;D++){var S=(this.words[D]|0)*h,E=(S&67108863)+(A&67108863);A>>=26,A+=S/67108864|0,A+=E>>>26,this.words[D]=E&67108863}return A!==0&&(this.words[D]=A,this.length++),m?this.ineg():this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var m=P(h);if(m.length===0)return new s(1);for(var A=this,D=0;D<m.length&&m[D]===0;D++,A=A.sqr());if(++D<m.length)for(var S=A.sqr();D<m.length;D++,S=S.sqr())m[D]!==0&&(A=A.mul(S));return A},s.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var m=h%26,A=(h-m)/26,D=67108863>>>26-m<<26-m,S;if(m!==0){var E=0;for(S=0;S<this.length;S++){var R=this.words[S]&D,_=(this.words[S]|0)-R<<m;this.words[S]=_|E,E=R>>>26-m}E&&(this.words[S]=E,this.length++)}if(A!==0){for(S=this.length-1;S>=0;S--)this.words[S+A]=this.words[S];for(S=0;S<A;S++)this.words[S]=0;this.length+=A}return this._strip()},s.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,m,A){r(typeof h=="number"&&h>=0);var D;m?D=(m-m%26)/26:D=0;var S=h%26,E=Math.min((h-S)/26,this.length),R=67108863^67108863>>>S<<S,_=A;if(D-=E,D=Math.max(0,D),_){for(var f=0;f<E;f++)_.words[f]=this.words[f];_.length=E}if(E!==0)if(this.length>E)for(this.length-=E,f=0;f<this.length;f++)this.words[f]=this.words[f+E];else this.words[0]=0,this.length=1;var k=0;for(f=this.length-1;f>=0&&(k!==0||f>=D);f--){var G=this.words[f]|0;this.words[f]=k<<26-S|G>>>S,k=G&R}return _&&k!==0&&(_.words[_.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(h,m,A){return r(this.negative===0),this.iushrn(h,m,A)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var m=h%26,A=(h-m)/26,D=1<<m;if(this.length<=A)return!1;var S=this.words[A];return!!(S&D)},s.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var m=h%26,A=(h-m)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(m!==0&&A++,this.length=Math.min(A,this.length),m!==0){var D=67108863^67108863>>>m<<m;this.words[this.length-1]&=D}return this._strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,m,A){var D=h.length+A,S;this._expand(D);var E,R=0;for(S=0;S<h.length;S++){E=(this.words[S+A]|0)+R;var _=(h.words[S]|0)*m;E-=_&67108863,R=(E>>26)-(_/67108864|0),this.words[S+A]=E&67108863}for(;S<this.length-A;S++)E=(this.words[S+A]|0)+R,R=E>>26,this.words[S+A]=E&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,S=0;S<this.length;S++)E=-(this.words[S]|0)+R,R=E>>26,this.words[S]=E&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(h,m){var A=this.length-h.length,D=this.clone(),S=h,E=S.words[S.length-1]|0,R=this._countBits(E);A=26-R,A!==0&&(S=S.ushln(A),D.iushln(A),E=S.words[S.length-1]|0);var _=D.length-S.length,f;if(m!=="mod"){f=new s(null),f.length=_+1,f.words=new Array(f.length);for(var k=0;k<f.length;k++)f.words[k]=0}var G=D.clone()._ishlnsubmul(S,1,_);G.negative===0&&(D=G,f&&(f.words[_]=1));for(var Q=_-1;Q>=0;Q--){var Y=(D.words[S.length+Q]|0)*67108864+(D.words[S.length+Q-1]|0);for(Y=Math.min(Y/E|0,67108863),D._ishlnsubmul(S,Y,Q);D.negative!==0;)Y--,D.negative=0,D._ishlnsubmul(S,1,Q),D.isZero()||(D.negative^=1);f&&(f.words[Q]=Y)}return f&&f._strip(),D._strip(),m!=="div"&&A!==0&&D.iushrn(A),{div:f||null,mod:D}},s.prototype.divmod=function(h,m,A){if(r(!h.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var D,S,E;return this.negative!==0&&h.negative===0?(E=this.neg().divmod(h,m),m!=="mod"&&(D=E.div.neg()),m!=="div"&&(S=E.mod.neg(),A&&S.negative!==0&&S.iadd(h)),{div:D,mod:S}):this.negative===0&&h.negative!==0?(E=this.divmod(h.neg(),m),m!=="mod"&&(D=E.div.neg()),{div:D,mod:E.mod}):this.negative&h.negative?(E=this.neg().divmod(h.neg(),m),m!=="div"&&(S=E.mod.neg(),A&&S.negative!==0&&S.isub(h)),{div:E.div,mod:S}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?m==="div"?{div:this.divn(h.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modrn(h.words[0]))}:this._wordDiv(h,m)},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var m=this.divmod(h);if(m.mod.isZero())return m.div;var A=m.div.negative!==0?m.mod.isub(h):m.mod,D=h.ushrn(1),S=h.andln(1),E=A.cmp(D);return E<0||S===1&&E===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modrn=function(h){var m=h<0;m&&(h=-h),r(h<=67108863);for(var A=(1<<26)%h,D=0,S=this.length-1;S>=0;S--)D=(A*D+(this.words[S]|0))%h;return m?-D:D},s.prototype.modn=function(h){return this.modrn(h)},s.prototype.idivn=function(h){var m=h<0;m&&(h=-h),r(h<=67108863);for(var A=0,D=this.length-1;D>=0;D--){var S=(this.words[D]|0)+A*67108864;this.words[D]=S/h|0,A=S%h}return this._strip(),m?this.ineg():this},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var m=this,A=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var D=new s(1),S=new s(0),E=new s(0),R=new s(1),_=0;m.isEven()&&A.isEven();)m.iushrn(1),A.iushrn(1),++_;for(var f=A.clone(),k=m.clone();!m.isZero();){for(var G=0,Q=1;!(m.words[0]&Q)&&G<26;++G,Q<<=1);if(G>0)for(m.iushrn(G);G-- >0;)(D.isOdd()||S.isOdd())&&(D.iadd(f),S.isub(k)),D.iushrn(1),S.iushrn(1);for(var Y=0,oe=1;!(A.words[0]&oe)&&Y<26;++Y,oe<<=1);if(Y>0)for(A.iushrn(Y);Y-- >0;)(E.isOdd()||R.isOdd())&&(E.iadd(f),R.isub(k)),E.iushrn(1),R.iushrn(1);m.cmp(A)>=0?(m.isub(A),D.isub(E),S.isub(R)):(A.isub(m),E.isub(D),R.isub(S))}return{a:E,b:R,gcd:A.iushln(_)}},s.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var m=this,A=h.clone();m.negative!==0?m=m.umod(h):m=m.clone();for(var D=new s(1),S=new s(0),E=A.clone();m.cmpn(1)>0&&A.cmpn(1)>0;){for(var R=0,_=1;!(m.words[0]&_)&&R<26;++R,_<<=1);if(R>0)for(m.iushrn(R);R-- >0;)D.isOdd()&&D.iadd(E),D.iushrn(1);for(var f=0,k=1;!(A.words[0]&k)&&f<26;++f,k<<=1);if(f>0)for(A.iushrn(f);f-- >0;)S.isOdd()&&S.iadd(E),S.iushrn(1);m.cmp(A)>=0?(m.isub(A),D.isub(S)):(A.isub(m),S.isub(D))}var G;return m.cmpn(1)===0?G=D:G=S,G.cmpn(0)<0&&G.iadd(h),G},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var m=this.clone(),A=h.clone();m.negative=0,A.negative=0;for(var D=0;m.isEven()&&A.isEven();D++)m.iushrn(1),A.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;A.isEven();)A.iushrn(1);var S=m.cmp(A);if(S<0){var E=m;m=A,A=E}else if(S===0||A.cmpn(1)===0)break;m.isub(A)}while(!0);return A.iushln(D)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){r(typeof h=="number");var m=h%26,A=(h-m)/26,D=1<<m;if(this.length<=A)return this._expand(A+1),this.words[A]|=D,this;for(var S=D,E=A;S!==0&&E<this.length;E++){var R=this.words[E]|0;R+=S,S=R>>>26,R&=67108863,this.words[E]=R}return S!==0&&(this.words[E]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var m=h<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var A;if(this.length>1)A=1;else{m&&(h=-h),r(h<=67108863,"Number is too big");var D=this.words[0]|0;A=D===h?0:D<h?-1:1}return this.negative!==0?-A|0:A},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var m=this.ucmp(h);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var m=0,A=this.length-1;A>=0;A--){var D=this.words[A]|0,S=h.words[A]|0;if(D!==S){D<S?m=-1:D>S&&(m=1);break}}return m},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new re(h)},s.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var N={k256:null,p224:null,p192:null,p25519:null};function U(B,h){this.name=B,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var h=new s(null);return h.words=new Array(Math.ceil(this.n/13)),h},U.prototype.ireduce=function(h){var m=h,A;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),A=m.bitLength();while(A>this.n);var D=A<this.n?-1:m.ucmp(this.p);return D===0?(m.words[0]=0,m.length=1):D>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},U.prototype.split=function(h,m){h.iushrn(this.n,0,m)},U.prototype.imulK=function(h){return h.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,U),F.prototype.split=function(h,m){for(var A=4194303,D=Math.min(h.length,9),S=0;S<D;S++)m.words[S]=h.words[S];if(m.length=D,h.length<=9){h.words[0]=0,h.length=1;return}var E=h.words[9];for(m.words[m.length++]=E&A,S=10;S<h.length;S++){var R=h.words[S]|0;h.words[S-10]=(R&A)<<4|E>>>22,E=R}E>>>=22,h.words[S-10]=E,E===0&&h.length>10?h.length-=10:h.length-=9},F.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var m=0,A=0;A<h.length;A++){var D=h.words[A]|0;m+=D*977,h.words[A]=m&67108863,m=D*64+(m/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function V(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,U);function Z(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,U);function J(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(J,U),J.prototype.imulK=function(h){for(var m=0,A=0;A<h.length;A++){var D=(h.words[A]|0)*19+m,S=D&67108863;D>>>=26,h.words[A]=S,m=D}return m!==0&&(h.words[h.length++]=m),h},s._prime=function(h){if(N[h])return N[h];var m;if(h==="k256")m=new F;else if(h==="p224")m=new V;else if(h==="p192")m=new Z;else if(h==="p25519")m=new J;else throw new Error("Unknown prime "+h);return N[h]=m,m};function re(B){if(typeof B=="string"){var h=s._prime(B);this.m=h.p,this.prime=h}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}re.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},re.prototype._verify2=function(h,m){r((h.negative|m.negative)===0,"red works only with positives"),r(h.red&&h.red===m.red,"red works only with red numbers")},re.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(c(h,h.umod(this.m)._forceRed(this)),h)},re.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},re.prototype.add=function(h,m){this._verify2(h,m);var A=h.add(m);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},re.prototype.iadd=function(h,m){this._verify2(h,m);var A=h.iadd(m);return A.cmp(this.m)>=0&&A.isub(this.m),A},re.prototype.sub=function(h,m){this._verify2(h,m);var A=h.sub(m);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},re.prototype.isub=function(h,m){this._verify2(h,m);var A=h.isub(m);return A.cmpn(0)<0&&A.iadd(this.m),A},re.prototype.shl=function(h,m){return this._verify1(h),this.imod(h.ushln(m))},re.prototype.imul=function(h,m){return this._verify2(h,m),this.imod(h.imul(m))},re.prototype.mul=function(h,m){return this._verify2(h,m),this.imod(h.mul(m))},re.prototype.isqr=function(h){return this.imul(h,h.clone())},re.prototype.sqr=function(h){return this.mul(h,h)},re.prototype.sqrt=function(h){if(h.isZero())return h.clone();var m=this.m.andln(3);if(r(m%2===1),m===3){var A=this.m.add(new s(1)).iushrn(2);return this.pow(h,A)}for(var D=this.m.subn(1),S=0;!D.isZero()&&D.andln(1)===0;)S++,D.iushrn(1);r(!D.isZero());var E=new s(1).toRed(this),R=E.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,_).cmp(R)!==0;)f.redIAdd(R);for(var k=this.pow(f,D),G=this.pow(h,D.addn(1).iushrn(1)),Q=this.pow(h,D),Y=S;Q.cmp(E)!==0;){for(var oe=Q,fe=0;oe.cmp(E)!==0;fe++)oe=oe.redSqr();r(fe<Y);var de=this.pow(k,new s(1).iushln(Y-fe-1));G=G.redMul(de),k=de.redSqr(),Q=Q.redMul(k),Y=fe}return G},re.prototype.invm=function(h){var m=h._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},re.prototype.pow=function(h,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return h.clone();var A=4,D=new Array(1<<A);D[0]=new s(1).toRed(this),D[1]=h;for(var S=2;S<D.length;S++)D[S]=this.mul(D[S-1],h);var E=D[0],R=0,_=0,f=m.bitLength()%26;for(f===0&&(f=26),S=m.length-1;S>=0;S--){for(var k=m.words[S],G=f-1;G>=0;G--){var Q=k>>G&1;if(E!==D[0]&&(E=this.sqr(E)),Q===0&&R===0){_=0;continue}R<<=1,R|=Q,_++,!(_!==A&&(S!==0||G!==0))&&(E=this.mul(E,D[R]),_=0,R=0)}f=26}return E},re.prototype.convertTo=function(h){var m=h.umod(this.m);return m===h?m.clone():m},re.prototype.convertFrom=function(h){var m=h.clone();return m.red=null,m},s.mont=function(h){return new ye(h)};function ye(B){re.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ye,re),ye.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},ye.prototype.convertFrom=function(h){var m=this.imod(h.mul(this.rinv));return m.red=null,m},ye.prototype.imul=function(h,m){if(h.isZero()||m.isZero())return h.words[0]=0,h.length=1,h;var A=h.imul(m),D=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(D).iushrn(this.shift),E=S;return S.cmp(this.m)>=0?E=S.isub(this.m):S.cmpn(0)<0&&(E=S.iadd(this.m)),E._forceRed(this)},ye.prototype.mul=function(h,m){if(h.isZero()||m.isZero())return new s(0)._forceRed(this);var A=h.mul(m),D=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(D).iushrn(this.shift),E=S;return S.cmp(this.m)>=0?E=S.isub(this.m):S.cmpn(0)<0&&(E=S.iadd(this.m)),E._forceRed(this)},ye.prototype.invm=function(h){var m=this.imod(h._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,Lr)})(Xv);var Db=Xv.exports;const TE=I0(Db);var y0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=ht,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(y0,y0.exports);var Ob=y0.exports,jc=Ob.Buffer;function GF(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(I){if((Array.isArray(I)||I instanceof Uint8Array)&&(I=jc.from(I)),!jc.isBuffer(I))throw new TypeError("Expected Buffer");if(I.length===0)return"";for(var C=0,b=0,P=0,w=I.length;P!==w&&I[P]===0;)P++,C++;for(var x=(w-P)*u+1>>>0,y=new Uint8Array(x);P!==w;){for(var L=I[P],N=0,U=x-1;(L!==0||N<b)&&U!==-1;U--,N++)L+=256*y[U]>>>0,y[U]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");b=N,P++}for(var F=x-b;F!==x&&y[F]===0;)F++;for(var V=a.repeat(C);F<x;++F)V+=t.charAt(y[F]);return V}function p(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return jc.alloc(0);for(var C=0,b=0,P=0;I[C]===a;)b++,C++;for(var w=(I.length-C)*l+1>>>0,x=new Uint8Array(w);I[C];){var y=e[I.charCodeAt(C)];if(y===255)return;for(var L=0,N=w-1;(y!==0||L<P)&&N!==-1;N--,L++)y+=o*x[N]>>>0,x[N]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");P=L,C++}for(var U=w-P;U!==w&&x[U]===0;)U++;var F=jc.allocUnsafe(b+(w-U));F.fill(0,0,b);for(var V=b;U!==w;)F[V++]=x[U++];return F}function v(I){var C=p(I);if(C)return C;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:p,decode:v}}var WF=GF,KF=WF,QF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",YF=KF(QF);const AE=I0(YF),XF=(t,e,n)=>t&e^~t&n,ZF=(t,e,n)=>t&e^t&n^e&n,JF=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qi=new Uint32Array(64);class e8 extends Eb{constructor(){super(64,32,8,!1),this.A=Hi[0]|0,this.B=Hi[1]|0,this.C=Hi[2]|0,this.D=Hi[3]|0,this.E=Hi[4]|0,this.F=Hi[5]|0,this.G=Hi[6]|0,this.H=Hi[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let p=0;p<16;p++,n+=4)qi[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const v=qi[p-15],I=qi[p-2],C=zr(v,7)^zr(v,18)^v>>>3,b=zr(I,17)^zr(I,19)^I>>>10;qi[p]=b+qi[p-7]+C+qi[p-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let p=0;p<64;p++){const v=zr(a,6)^zr(a,11)^zr(a,25),I=c+v+XF(a,l,u)+JF[p]+qi[p]|0,b=(zr(r,2)^zr(r,13)^zr(r,22))+ZF(r,i,s)|0;c=u,u=l,l=a,a=o+I|0,o=s,s=i,i=r,r=I+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,l,u,c)}roundClean(){qi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const v0=_b(()=>new e8);var cn={},zc=Ob.Buffer;function t8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(I){if((Array.isArray(I)||I instanceof Uint8Array)&&(I=zc.from(I)),!zc.isBuffer(I))throw new TypeError("Expected Buffer");if(I.length===0)return"";for(var C=0,b=0,P=0,w=I.length;P!==w&&I[P]===0;)P++,C++;for(var x=(w-P)*u+1>>>0,y=new Uint8Array(x);P!==w;){for(var L=I[P],N=0,U=x-1;(L!==0||N<b)&&U!==-1;U--,N++)L+=256*y[U]>>>0,y[U]=L%o>>>0,L=L/o>>>0;if(L!==0)throw new Error("Non-zero carry");b=N,P++}for(var F=x-b;F!==x&&y[F]===0;)F++;for(var V=a.repeat(C);F<x;++F)V+=t.charAt(y[F]);return V}function p(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return zc.alloc(0);for(var C=0,b=0,P=0;I[C]===a;)b++,C++;for(var w=(I.length-C)*l+1>>>0,x=new Uint8Array(w);I[C];){var y=e[I.charCodeAt(C)];if(y===255)return;for(var L=0,N=w-1;(y!==0||L<P)&&N!==-1;N--,L++)y+=o*x[N]>>>0,x[N]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");P=L,C++}for(var U=w-P;U!==w&&x[U]===0;)U++;var F=zc.allocUnsafe(b+(w-U));F.fill(0,0,b);for(var V=b;U!==w;)F[V++]=x[U++];return F}function v(I){var C=p(I);if(C)return C;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:p,decode:v}}var n8=t8,r8=n8,i8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s8=r8(i8);function yi(t,e,n){return e<=t&&t<=n}function bd(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function o8(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function a8(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var df=-1;function Zv(t){this.tokens=[].slice.call(t)}Zv.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():df},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var La=-1;function cg(t,e){if(t)throw TypeError("Decoder error");return e||65533}var pf="utf-8";function gf(t,e){if(!(this instanceof gf))return new gf(t,e);if(t=t!==void 0?String(t).toLowerCase():pf,t!==pf)throw new Error("Encoding not supported. Only utf-8 is supported");e=bd(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}gf.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=bd(n),this._streaming||(this._decoder=new l8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Zv(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==La);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===La)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),a8(s)}};function mf(t,e){if(!(this instanceof mf))return new mf(t,e);if(t=t!==void 0?String(t).toLowerCase():pf,t!==pf)throw new Error("Encoding not supported. Only utf-8 is supported");e=bd(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}mf.prototype={encode:function(e,n){e=e?String(e):"",n=bd(n),this._streaming||(this._encoder=new u8(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Zv(o8(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==La);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==La;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function l8(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===df&&i!==0)return i=0,cg(e);if(l===df)return La;if(i===0){if(yi(l,0,127))return l;if(yi(l,194,223))i=1,n=l-192;else if(yi(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(yi(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return cg(e);return n=n<<6*i,null}if(!yi(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),cg(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function u8(t){t.fatal,this.handler=function(e,n){if(n===df)return La;if(yi(n,0,127))return n;var r,i;yi(n,128,2047)?(r=1,i=192):yi(n,2048,65535)?(r=2,i=224):yi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const c8=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:gf,TextEncoder:mf},Symbol.toStringTag,{value:"Module"})),h8=S0(c8);var f8=Lr&&Lr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),d8=Lr&&Lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fi=Lr&&Lr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},p8=Lr&&Lr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&f8(e,t,n);return d8(e,t),e},Lb=Lr&&Lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cn,"__esModule",{value:!0});var Ub=cn.deserializeUnchecked=zb=cn.deserialize=jb=cn.serialize=cn.BinaryReader=cn.BinaryWriter=cn.BorshError=cn.baseDecode=cn.baseEncode=void 0;const is=Lb(Db),Bb=Lb(s8),g8=p8(h8),m8=typeof TextDecoder!="function"?g8.TextDecoder:TextDecoder,y8=new m8("utf-8",{fatal:!0});function v8(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Bb.default.encode(Buffer.from(t))}cn.baseEncode=v8;function _8(t){return Buffer.from(Bb.default.decode(t))}cn.baseDecode=_8;const hg=1024;class Fn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}cn.BorshError=Fn;class Fb{constructor(){this.buf=Buffer.alloc(hg),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(hg)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new is.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(hg)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}cn.BinaryWriter=Fb;function di(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Fn("Reached the end of buffer when deserializing")}throw s}}}class fr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new is.default(e,"le")}readU128(){const e=this.readBuffer(16);return new is.default(e,"le")}readU256(){const e=this.readBuffer(32);return new is.default(e,"le")}readU512(){const e=this.readBuffer(64);return new is.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Fn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return y8.decode(n)}catch(r){throw new Fn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}fi([di],fr.prototype,"readU8",null);fi([di],fr.prototype,"readU16",null);fi([di],fr.prototype,"readU32",null);fi([di],fr.prototype,"readU64",null);fi([di],fr.prototype,"readU128",null);fi([di],fr.prototype,"readU256",null);fi([di],fr.prototype,"readU512",null);fi([di],fr.prototype,"readString",null);fi([di],fr.prototype,"readFixedArray",null);fi([di],fr.prototype,"readArray",null);cn.BinaryReader=fr;function Vb(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Us(t,e,n,r,i){try{if(typeof r=="string")i[`write${Vb(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Fn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Fn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Us(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Us(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Us(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Us(t,e,o,r.key,i),Us(t,e,s,r.value,i)});break}default:throw new Fn(`FieldType ${r} unrecognized`)}else $b(t,n,i)}catch(s){throw s instanceof Fn&&s.addToFieldPath(e),s}}function $b(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Fn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Us(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Us(t,o,e[o],a,n);break}}}else throw new Fn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function w8(t,e,n=Fb){const r=new n;return $b(t,e,r),r.toArray()}var jb=cn.serialize=w8;function Bs(t,e,n,r){try{if(typeof n=="string")return r[`read${Vb(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Bs(t,null,n[0],r));return i}else return r.readArray(()=>Bs(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Bs(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Bs(t,e,n.key,r),l=Bs(t,e,n.value,r);i.set(a,l)}return i}return Jv(t,n,r)}catch(i){throw i instanceof Fn&&i.addToFieldPath(e),i}}function Jv(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Fn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Bs(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Fn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Bs(t,s,o,n);return new e({[s]:a})}throw new Fn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function E8(t,e,n,r=fr){const i=new r(n),s=Jv(t,e,i);if(i.offset<n.length)throw new Fn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var zb=cn.deserialize=E8;function x8(t,e,n,r=fr){const i=new r(n);return Jv(t,e,i)}Ub=cn.deserializeUnchecked=x8;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.s16=q.s8=q.nu64be=q.u48be=q.u40be=q.u32be=q.u24be=q.u16be=an=q.nu64=q.u48=q.u40=ge=q.u32=q.u24=gr=q.u16=Wt=q.u8=no=q.offset=q.greedy=q.Constant=q.UTF8=q.CString=q.Blob=q.Boolean=q.BitField=q.BitStructure=q.VariantLayout=q.Union=q.UnionLayoutDiscriminator=q.UnionDiscriminator=q.Structure=q.Sequence=q.DoubleBE=q.Double=q.FloatBE=q.Float=q.NearInt64BE=q.NearInt64=q.NearUInt64BE=q.NearUInt64=q.IntBE=q.Int=q.UIntBE=q.UInt=q.OffsetLayout=q.GreedyCount=q.ExternalLayout=q.bindConstructorLayout=q.nameWithProperty=q.Layout=q.uint8ArrayToBuffer=q.checkUint8Array=void 0;q.constant=q.utf8=q.cstr=Ua=q.blob=q.unionLayoutDiscriminator=q.union=Gs=q.seq=q.bits=me=q.struct=q.f64be=q.f64=q.f32be=q.f32=q.ns64be=q.s48be=q.s40be=q.s32be=q.s24be=q.s16be=rr=q.ns64=q.s48=q.s40=q.s32=q.s24=void 0;const e1=ht;function nl(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}q.checkUint8Array=nl;function Be(t){return nl(t),e1.Buffer.from(t.buffer,t.byteOffset,t.length)}q.uint8ArrayToBuffer=Be;class Ge{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}q.Layout=Ge;function t1(t,e){return e.property?t+"["+e.property+"]":t}q.nameWithProperty=t1;function I8(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}q.bindConstructorLayout=I8;class Qn extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}}q.ExternalLayout=Qn;class Hb extends Qn{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){nl(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}q.GreedyCount=Hb;class n1 extends Qn{constructor(e,n=0,r){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof xr||this.layout instanceof Or}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}q.OffsetLayout=n1;class xr extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Be(n).writeUIntLE(e,r,this.span),this.span}}q.UInt=xr;class Or extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Be(n).writeUIntBE(e,r,this.span),this.span}}q.UIntBE=Or;class Co extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readIntLE(n,this.span)}encode(e,n,r=0){return Be(n).writeIntLE(e,r,this.span),this.span}}q.Int=Co;class rl extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Be(e).readIntBE(n,this.span)}encode(e,n,r=0){return Be(n).writeIntBE(e,r,this.span),this.span}}q.IntBE=rl;const _0=Math.pow(2,32);function Rd(t){const e=Math.floor(t/_0),n=t-e*_0;return{hi32:e,lo32:n}}function Cd(t,e){return t*_0+e}class qb extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return Cd(s,i)}encode(e,n,r=0){const i=Rd(e),s=Be(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}q.NearUInt64=qb;class Gb extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return Cd(i,s)}encode(e,n,r=0){const i=Rd(e),s=Be(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearUInt64BE=Gb;class Wb extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return Cd(s,i)}encode(e,n,r=0){const i=Rd(e),s=Be(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}q.NearInt64=Wb;class Kb extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=Be(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return Cd(i,s)}encode(e,n,r=0){const i=Rd(e),s=Be(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearInt64BE=Kb;class Qb extends Ge{constructor(e){super(4,e)}decode(e,n=0){return Be(e).readFloatLE(n)}encode(e,n,r=0){return Be(n).writeFloatLE(e,r),4}}q.Float=Qb;class Yb extends Ge{constructor(e){super(4,e)}decode(e,n=0){return Be(e).readFloatBE(n)}encode(e,n,r=0){return Be(n).writeFloatBE(e,r),4}}q.FloatBE=Yb;class Xb extends Ge{constructor(e){super(8,e)}decode(e,n=0){return Be(e).readDoubleLE(n)}encode(e,n,r=0){return Be(n).writeDoubleLE(e,r),8}}q.Double=Xb;class Zb extends Ge{constructor(e){super(8,e)}decode(e,n=0){return Be(e).readDoubleBE(n)}encode(e,n,r=0){return Be(n).writeDoubleBE(e,r),8}}q.DoubleBE=Zb;class Jb extends Ge{constructor(e,n,r){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof Qn&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof Qn)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Qn&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof Qn&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof Qn&&this.count.encode(e.length,n,r),s}}q.Sequence=Jb;class eR extends Ge{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){nl(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}q.Structure=eR;class r1{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}q.UnionDiscriminator=r1;class yf extends r1{constructor(e,n){if(!(e instanceof Qn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}q.UnionLayoutDiscriminator=yf;class i1 extends Ge{constructor(e,n,r){let i;if(e instanceof xr||e instanceof Or)i=new yf(new n1(e));else if(e instanceof Qn&&e.isCount())i=new yf(e);else if(e instanceof r1)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof xr||e instanceof Or)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof xr||e instanceof Or,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new tR(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}q.Union=i1;class tR extends Ge{constructor(e,n,r,i){if(!(e instanceof i1))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}q.VariantLayout=tR;function Vo(t){return 0>t&&(t+=4294967296),t}class s1 extends Ge{constructor(e,n,r){if(!(e instanceof xr||e instanceof Or))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Vo(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new o1(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new nR(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}q.BitStructure=s1;class o1{constructor(e,n,r){if(!(e instanceof s1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Vo(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Vo(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Vo(e&this.valueMask))throw new TypeError(t1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Vo(e<<this.start);this.container._packedSetValue(Vo(n&~this.wordMask)|r)}}q.BitField=o1;let nR=class extends o1{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};q.Boolean=nR;let rR=class extends Ge{constructor(e,n){if(!(e instanceof Qn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Qn||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Be(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof Qn&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(t1("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Be(e);return Be(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof Qn&&this.length.encode(i,n,r),i}};q.Blob=rR;class iR extends Ge{constructor(e){super(-1,e)}getSpan(e,n=0){nl(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Be(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=e1.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Be(n);return i.copy(o,r),o[r+s]=0,s+1}}q.CString=iR;class sR extends Ge{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return nl(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Be(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=e1.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Be(n),r),s}}q.UTF8=sR;class oR extends Ge{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}q.Constant=oR;q.greedy=(t,e)=>new Hb(t,e);var no=q.offset=(t,e,n)=>new n1(t,e,n),Wt=q.u8=t=>new xr(1,t),gr=q.u16=t=>new xr(2,t);q.u24=t=>new xr(3,t);var ge=q.u32=t=>new xr(4,t);q.u40=t=>new xr(5,t);q.u48=t=>new xr(6,t);var an=q.nu64=t=>new qb(t);q.u16be=t=>new Or(2,t);q.u24be=t=>new Or(3,t);q.u32be=t=>new Or(4,t);q.u40be=t=>new Or(5,t);q.u48be=t=>new Or(6,t);q.nu64be=t=>new Gb(t);q.s8=t=>new Co(1,t);q.s16=t=>new Co(2,t);q.s24=t=>new Co(3,t);q.s32=t=>new Co(4,t);q.s40=t=>new Co(5,t);q.s48=t=>new Co(6,t);var rr=q.ns64=t=>new Wb(t);q.s16be=t=>new rl(2,t);q.s24be=t=>new rl(3,t);q.s32be=t=>new rl(4,t);q.s40be=t=>new rl(5,t);q.s48be=t=>new rl(6,t);q.ns64be=t=>new Kb(t);q.f32=t=>new Qb(t);q.f32be=t=>new Yb(t);q.f64=t=>new Xb(t);q.f64be=t=>new Zb(t);var me=q.struct=(t,e,n)=>new eR(t,e,n);q.bits=(t,e,n)=>new s1(t,e,n);var Gs=q.seq=(t,e,n)=>new Jb(t,e,n);q.union=(t,e,n)=>new i1(t,e,n);q.unionLayoutDiscriminator=(t,e)=>new yf(t,e);var Ua=q.blob=(t,e)=>new rR(t,e);q.cstr=t=>new iR(t);q.utf8=(t,e)=>new sR(t,e);q.constant=(t,e)=>new oR(t,e);var sc={};Object.defineProperty(sc,"__esModule",{value:!0});function S8(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var T8=sc.toBigIntLE=S8;function A8(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}sc.toBigIntBE=A8;function b8(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var R8=sc.toBufferLE=b8;function C8(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}sc.toBufferBE=C8;class k8 extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function P8(t){return vs(t)&&typeof t[Symbol.iterator]=="function"}function vs(t){return typeof t=="object"&&t!=null}function Vr(t){return typeof t=="string"?JSON.stringify(t):""+t}function N8(t){const{done:e,value:n}=t.next();return e?void 0:n}function M8(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Vr(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*bE(t,e,n,r){P8(t)||(t=[t]);for(const i of t){const s=M8(i,e,n,r);s&&(yield s)}}function*a1(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&vs(e.schema)&&vs(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l=!0;for(const u of e.validator(t,a))l=!1,yield[u,void 0];for(let[u,c,p]of e.entries(t,a)){const v=a1(c,p,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,c],coerce:s,mask:o});for(const I of v)I[0]?(l=!1,yield[I[0],void 0]):s&&(c=I[1],u===void 0?t=c:t instanceof Map?t.set(u,c):t instanceof Set?t.add(c):vs(t)&&(t[u]=c))}if(l)for(const u of e.refiner(t,a))l=!1,yield[u,void 0];l&&(yield[void 0,t])}let pi=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,u)=>{const c=i(l,u);return bE(c,u,this,l)}:this.validator=()=>[],s?this.refiner=(l,u)=>{const c=s(l,u);return bE(c,u,this,l)}:this.refiner=()=>[]}assert(e){return D8(e,this)}create(e){return Nu(e,this)}is(e){return aR(e,this)}mask(e){return O8(e,this)}validate(e,n={}){return oc(e,this,n)}};function D8(t,e){const n=oc(t,e);if(n[0])throw n[0]}function Nu(t,e){const n=oc(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function O8(t,e){const n=oc(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function aR(t,e){return!oc(t,e)[0]}function oc(t,e,n={}){const r=a1(t,e,n),i=N8(r);return i[0]?[new k8(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ko(t,e){return new pi({type:t,schema:null,validator:e})}function L8(){return ko("any",()=>!0)}function ue(t){return new pi({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Vr(e)}})}function ui(){return ko("boolean",t=>typeof t=="boolean")}function l1(t){return ko("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Vr(e))}function dt(t){const e=Vr(t),n=typeof t;return new pi({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+Vr(r)}})}function U8(){return ko("never",()=>!1)}function le(t){return new pi({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return ko("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Vr(t))}function ve(t){return new pi({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function lR(t,e){return new pi({type:"record",schema:null,*entries(n){if(vs(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return vs(n)||"Expected an object, but received: "+Vr(n)}})}function ie(){return ko("string",t=>typeof t=="string"||"Expected a string, but received: "+Vr(t))}function u1(t){const e=U8();return new pi({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+Vr(n)}})}function ee(t){const e=Object.keys(t);return new pi({type:"type",schema:t,*entries(n){if(vs(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return vs(n)||"Expected an object, but received: "+Vr(n)}})}function er(t){const e=t.map(n=>n.type).join(" | ");return new pi({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=a1(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Vr(n),...i]}})}function ac(){return ko("unknown",()=>!0)}function lc(t,e,n){return new pi({...t,coercer:(r,i)=>aR(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Hc,B8=new Uint8Array(16);function uR(){if(!Hc&&(Hc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Hc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hc(B8)}const F8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function kd(t){return typeof t=="string"&&F8.test(t)}var on=[];for(var fg=0;fg<256;++fg)on.push((fg+256).toString(16).substr(1));function Pd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(on[t[e+0]]+on[t[e+1]]+on[t[e+2]]+on[t[e+3]]+"-"+on[t[e+4]]+on[t[e+5]]+"-"+on[t[e+6]]+on[t[e+7]]+"-"+on[t[e+8]]+on[t[e+9]]+"-"+on[t[e+10]]+on[t[e+11]]+on[t[e+12]]+on[t[e+13]]+on[t[e+14]]+on[t[e+15]]).toLowerCase();if(!kd(n))throw TypeError("Stringified UUID is invalid");return n}var RE,dg,pg=0,gg=0;function V8(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||RE,o=t.clockseq!==void 0?t.clockseq:dg;if(s==null||o==null){var a=t.random||(t.rng||uR)();s==null&&(s=RE=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=dg=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:gg+1,c=l-pg+(u-gg)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||l>pg)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");pg=l,gg=u,dg=o,l+=122192928e5;var p=((l&268435455)*1e4+u)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=p&255;var v=l/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=v&255,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var I=0;I<6;++I)i[r+I]=s[I];return e||Pd(i)}function cR(t){if(!kd(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function $8(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var j8="6ba7b810-9dad-11d1-80b4-00c04fd430c8",z8="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function hR(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=$8(i)),typeof s=="string"&&(s=cR(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return Pd(l)}try{r.name=t}catch{}return r.DNS=j8,r.URL=z8,r}function H8(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return q8(G8(W8(t),t.length*8))}function q8(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function fR(t){return(t+64>>>9<<4)+14+1}function G8(t,e){t[e>>5]|=128<<e%32,t[fR(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,u=i,c=s;n=xn(n,r,i,s,t[o],7,-680876936),s=xn(s,n,r,i,t[o+1],12,-389564586),i=xn(i,s,n,r,t[o+2],17,606105819),r=xn(r,i,s,n,t[o+3],22,-1044525330),n=xn(n,r,i,s,t[o+4],7,-176418897),s=xn(s,n,r,i,t[o+5],12,1200080426),i=xn(i,s,n,r,t[o+6],17,-1473231341),r=xn(r,i,s,n,t[o+7],22,-45705983),n=xn(n,r,i,s,t[o+8],7,1770035416),s=xn(s,n,r,i,t[o+9],12,-1958414417),i=xn(i,s,n,r,t[o+10],17,-42063),r=xn(r,i,s,n,t[o+11],22,-1990404162),n=xn(n,r,i,s,t[o+12],7,1804603682),s=xn(s,n,r,i,t[o+13],12,-40341101),i=xn(i,s,n,r,t[o+14],17,-1502002290),r=xn(r,i,s,n,t[o+15],22,1236535329),n=In(n,r,i,s,t[o+1],5,-165796510),s=In(s,n,r,i,t[o+6],9,-1069501632),i=In(i,s,n,r,t[o+11],14,643717713),r=In(r,i,s,n,t[o],20,-373897302),n=In(n,r,i,s,t[o+5],5,-701558691),s=In(s,n,r,i,t[o+10],9,38016083),i=In(i,s,n,r,t[o+15],14,-660478335),r=In(r,i,s,n,t[o+4],20,-405537848),n=In(n,r,i,s,t[o+9],5,568446438),s=In(s,n,r,i,t[o+14],9,-1019803690),i=In(i,s,n,r,t[o+3],14,-187363961),r=In(r,i,s,n,t[o+8],20,1163531501),n=In(n,r,i,s,t[o+13],5,-1444681467),s=In(s,n,r,i,t[o+2],9,-51403784),i=In(i,s,n,r,t[o+7],14,1735328473),r=In(r,i,s,n,t[o+12],20,-1926607734),n=Sn(n,r,i,s,t[o+5],4,-378558),s=Sn(s,n,r,i,t[o+8],11,-2022574463),i=Sn(i,s,n,r,t[o+11],16,1839030562),r=Sn(r,i,s,n,t[o+14],23,-35309556),n=Sn(n,r,i,s,t[o+1],4,-1530992060),s=Sn(s,n,r,i,t[o+4],11,1272893353),i=Sn(i,s,n,r,t[o+7],16,-155497632),r=Sn(r,i,s,n,t[o+10],23,-1094730640),n=Sn(n,r,i,s,t[o+13],4,681279174),s=Sn(s,n,r,i,t[o],11,-358537222),i=Sn(i,s,n,r,t[o+3],16,-722521979),r=Sn(r,i,s,n,t[o+6],23,76029189),n=Sn(n,r,i,s,t[o+9],4,-640364487),s=Sn(s,n,r,i,t[o+12],11,-421815835),i=Sn(i,s,n,r,t[o+15],16,530742520),r=Sn(r,i,s,n,t[o+2],23,-995338651),n=Tn(n,r,i,s,t[o],6,-198630844),s=Tn(s,n,r,i,t[o+7],10,1126891415),i=Tn(i,s,n,r,t[o+14],15,-1416354905),r=Tn(r,i,s,n,t[o+5],21,-57434055),n=Tn(n,r,i,s,t[o+12],6,1700485571),s=Tn(s,n,r,i,t[o+3],10,-1894986606),i=Tn(i,s,n,r,t[o+10],15,-1051523),r=Tn(r,i,s,n,t[o+1],21,-2054922799),n=Tn(n,r,i,s,t[o+8],6,1873313359),s=Tn(s,n,r,i,t[o+15],10,-30611744),i=Tn(i,s,n,r,t[o+6],15,-1560198380),r=Tn(r,i,s,n,t[o+13],21,1309151649),n=Tn(n,r,i,s,t[o+4],6,-145523070),s=Tn(s,n,r,i,t[o+11],10,-1120210379),i=Tn(i,s,n,r,t[o+2],15,718787259),r=Tn(r,i,s,n,t[o+9],21,-343485551),n=ss(n,a),r=ss(r,l),i=ss(i,u),s=ss(s,c)}return[n,r,i,s]}function W8(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(fR(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function ss(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function K8(t,e){return t<<e|t>>>32-e}function Nd(t,e,n,r,i,s){return ss(K8(ss(ss(e,t),ss(r,s)),i),n)}function xn(t,e,n,r,i,s,o){return Nd(e&n|~e&r,t,e,i,s,o)}function In(t,e,n,r,i,s,o){return Nd(e&r|n&~r,t,e,i,s,o)}function Sn(t,e,n,r,i,s,o){return Nd(e^n^r,t,e,i,s,o)}function Tn(t,e,n,r,i,s,o){return Nd(n^(e|~r),t,e,i,s,o)}var Q8=hR("v3",48,H8);const Y8=Q8;function X8(t,e,n){t=t||{};var r=t.random||(t.rng||uR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Pd(r)}function Z8(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function mg(t,e){return t<<e|t>>>32-e}function J8(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];a[l]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var p=0;p<o;++p){for(var v=new Uint32Array(80),I=0;I<16;++I)v[I]=a[p][I];for(var C=16;C<80;++C)v[C]=mg(v[C-3]^v[C-8]^v[C-14]^v[C-16],1);for(var b=n[0],P=n[1],w=n[2],x=n[3],y=n[4],L=0;L<80;++L){var N=Math.floor(L/20),U=mg(b,5)+Z8(N,P,w,x)+y+e[N]+v[L]>>>0;y=x,x=w,w=mg(P,30)>>>0,P=b,b=U}n[0]=n[0]+b>>>0,n[1]=n[1]+P>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+x>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var e9=hR("v5",80,J8);const t9=e9,n9="00000000-0000-0000-0000-000000000000";function r9(t){if(!kd(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const i9=Object.freeze(Object.defineProperty({__proto__:null,NIL:n9,parse:cR,stringify:Pd,v1:V8,v3:Y8,v4:X8,v5:t9,validate:kd,version:r9},Symbol.toStringTag,{value:"Module"})),dR=S0(i9),s9=dR.v4,o9=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return s9()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var a9=o9;const l9=dR.v4,u9=a9,vf=function(t,e){if(!(this instanceof vf))return new vf(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return l9()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};vf.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=u9(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(u)return r(c);throw c}if(!u)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,function(u,c){i._parseResponse(u,c,r)}),s};vf.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var c9={},pR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(pR);var gR=pR.exports,yg={exports:{}},vg={exports:{}},CE;function uc(){return CE||(CE=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(vg)),vg.exports}var kE;function h9(){return kE||(kE=1,function(t){var e=uc().default;function n(){t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(E,R,_){E[R]=_.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",p=l.toStringTag||"@@toStringTag";function v(E,R,_){return Object.defineProperty(E,R,{value:_,enumerable:!0,configurable:!0,writable:!0}),E[R]}try{v({},"")}catch{v=function(_,f,k){return _[f]=k}}function I(E,R,_,f){var k=R&&R.prototype instanceof L?R:L,G=Object.create(k.prototype),Q=new D(f||[]);return a(G,"_invoke",{value:B(E,_,Q)}),G}function C(E,R,_){try{return{type:"normal",arg:E.call(R,_)}}catch(f){return{type:"throw",arg:f}}}i.wrap=I;var b="suspendedStart",P="suspendedYield",w="executing",x="completed",y={};function L(){}function N(){}function U(){}var F={};v(F,u,function(){return this});var V=Object.getPrototypeOf,Z=V&&V(V(S([])));Z&&Z!==s&&o.call(Z,u)&&(F=Z);var J=U.prototype=L.prototype=Object.create(F);function re(E){["next","throw","return"].forEach(function(R){v(E,R,function(_){return this._invoke(R,_)})})}function ye(E,R){function _(k,G,Q,Y){var oe=C(E[k],E,G);if(oe.type!=="throw"){var fe=oe.arg,de=fe.value;return de&&e(de)=="object"&&o.call(de,"__await")?R.resolve(de.__await).then(function(Fe){_("next",Fe,Q,Y)},function(Fe){_("throw",Fe,Q,Y)}):R.resolve(de).then(function(Fe){fe.value=Fe,Q(fe)},function(Fe){return _("throw",Fe,Q,Y)})}Y(oe.arg)}var f;a(this,"_invoke",{value:function(G,Q){function Y(){return new R(function(oe,fe){_(G,Q,oe,fe)})}return f=f?f.then(Y,Y):Y()}})}function B(E,R,_){var f=b;return function(k,G){if(f===w)throw new Error("Generator is already running");if(f===x){if(k==="throw")throw G;return{value:r,done:!0}}for(_.method=k,_.arg=G;;){var Q=_.delegate;if(Q){var Y=h(Q,_);if(Y){if(Y===y)continue;return Y}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(f===b)throw f=x,_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);f=w;var oe=C(E,R,_);if(oe.type==="normal"){if(f=_.done?x:P,oe.arg===y)continue;return{value:oe.arg,done:_.done}}oe.type==="throw"&&(f=x,_.method="throw",_.arg=oe.arg)}}}function h(E,R){var _=R.method,f=E.iterator[_];if(f===r)return R.delegate=null,_==="throw"&&E.iterator.return&&(R.method="return",R.arg=r,h(E,R),R.method==="throw")||_!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+_+"' method")),y;var k=C(f,E.iterator,R.arg);if(k.type==="throw")return R.method="throw",R.arg=k.arg,R.delegate=null,y;var G=k.arg;return G?G.done?(R[E.resultName]=G.value,R.next=E.nextLoc,R.method!=="return"&&(R.method="next",R.arg=r),R.delegate=null,y):G:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,y)}function m(E){var R={tryLoc:E[0]};1 in E&&(R.catchLoc=E[1]),2 in E&&(R.finallyLoc=E[2],R.afterLoc=E[3]),this.tryEntries.push(R)}function A(E){var R=E.completion||{};R.type="normal",delete R.arg,E.completion=R}function D(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(m,this),this.reset(!0)}function S(E){if(E||E===""){var R=E[u];if(R)return R.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var _=-1,f=function k(){for(;++_<E.length;)if(o.call(E,_))return k.value=E[_],k.done=!1,k;return k.value=r,k.done=!0,k};return f.next=f}}throw new TypeError(e(E)+" is not iterable")}return N.prototype=U,a(J,"constructor",{value:U,configurable:!0}),a(U,"constructor",{value:N,configurable:!0}),N.displayName=v(U,p,"GeneratorFunction"),i.isGeneratorFunction=function(E){var R=typeof E=="function"&&E.constructor;return!!R&&(R===N||(R.displayName||R.name)==="GeneratorFunction")},i.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,U):(E.__proto__=U,v(E,p,"GeneratorFunction")),E.prototype=Object.create(J),E},i.awrap=function(E){return{__await:E}},re(ye.prototype),v(ye.prototype,c,function(){return this}),i.AsyncIterator=ye,i.async=function(E,R,_,f,k){k===void 0&&(k=Promise);var G=new ye(I(E,R,_,f),k);return i.isGeneratorFunction(R)?G:G.next().then(function(Q){return Q.done?Q.value:G.next()})},re(J),v(J,p,"Generator"),v(J,u,function(){return this}),v(J,"toString",function(){return"[object Generator]"}),i.keys=function(E){var R=Object(E),_=[];for(var f in R)_.push(f);return _.reverse(),function k(){for(;_.length;){var G=_.pop();if(G in R)return k.value=G,k.done=!1,k}return k.done=!0,k}},i.values=S,D.prototype={constructor:D,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(A),!R)for(var _ in this)_.charAt(0)==="t"&&o.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=r)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var _=this;function f(fe,de){return Q.type="throw",Q.arg=R,_.next=fe,de&&(_.method="next",_.arg=r),!!de}for(var k=this.tryEntries.length-1;k>=0;--k){var G=this.tryEntries[k],Q=G.completion;if(G.tryLoc==="root")return f("end");if(G.tryLoc<=this.prev){var Y=o.call(G,"catchLoc"),oe=o.call(G,"finallyLoc");if(Y&&oe){if(this.prev<G.catchLoc)return f(G.catchLoc,!0);if(this.prev<G.finallyLoc)return f(G.finallyLoc)}else if(Y){if(this.prev<G.catchLoc)return f(G.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return f(G.finallyLoc)}}}},abrupt:function(R,_){for(var f=this.tryEntries.length-1;f>=0;--f){var k=this.tryEntries[f];if(k.tryLoc<=this.prev&&o.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var G=k;break}}G&&(R==="break"||R==="continue")&&G.tryLoc<=_&&_<=G.finallyLoc&&(G=null);var Q=G?G.completion:{};return Q.type=R,Q.arg=_,G?(this.method="next",this.next=G.finallyLoc,y):this.complete(Q)},complete:function(R,_){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&_&&(this.next=_),y},finish:function(R){for(var _=this.tryEntries.length-1;_>=0;--_){var f=this.tryEntries[_];if(f.finallyLoc===R)return this.complete(f.completion,f.afterLoc),A(f),y}},catch:function(R){for(var _=this.tryEntries.length-1;_>=0;--_){var f=this.tryEntries[_];if(f.tryLoc===R){var k=f.completion;if(k.type==="throw"){var G=k.arg;A(f)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(R,_,f){return this.delegate={iterator:S(R),resultName:_,nextLoc:f},this.method==="next"&&(this.arg=r),y}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(yg)),yg.exports}var _g,PE;function f9(){if(PE)return _g;PE=1;var t=h9()();_g=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return _g}var wg={exports:{}},NE;function d9(){return NE||(NE=1,function(t){function e(r,i,s,o,a,l,u){try{var c=r[l](u),p=c.value}catch(v){s(v);return}c.done?i(p):Promise.resolve(p).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var l=r.apply(i,s);function u(p){e(l,o,a,u,c,"next",p)}function c(p){e(l,o,a,u,c,"throw",p)}u(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(wg)),wg.exports}var Eg={exports:{}},ME;function mR(){return ME||(ME=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Eg)),Eg.exports}var xg={exports:{}},Ig={exports:{}},Sg={exports:{}},DE;function p9(){return DE||(DE=1,function(t){var e=uc().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Sg)),Sg.exports}var OE;function g9(){return OE||(OE=1,function(t){var e=uc().default,n=p9();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Ig)),Ig.exports}var LE;function yR(){return LE||(LE=1,function(t){var e=g9();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(xg)),xg.exports}var Tg={exports:{}},Ag={exports:{}},UE;function m9(){return UE||(UE=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Ag)),Ag.exports}var BE;function vR(){return BE||(BE=1,function(t){var e=m9();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Tg)),Tg.exports}var bg={exports:{}},Rg={exports:{}},FE;function y9(){return FE||(FE=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Rg)),Rg.exports}var VE;function _R(){return VE||(VE=1,function(t){var e=uc().default,n=y9();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(bg)),bg.exports}var Cg={exports:{}},$E;function wR(){return $E||($E=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Cg)),Cg.exports}var kg={exports:{}},jE;function ER(){return jE||(jE=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,p,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var I=new i(c,p||l,v),C=n?n+u:u;return l._events[C]?l._events[C].fn?l._events[C]=[l._events[C],I]:l._events[C].push(I):(l._events[C]=I,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,p;if(this._eventsCount===0)return u;for(p in c=this._events)e.call(c,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,p=this._events[c];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,I=p.length,C=new Array(I);v<I;v++)C[v]=p[v].fn;return C},a.prototype.listenerCount=function(u){var c=n?n+u:u,p=this._events[c];return p?p.fn?1:p.length:0},a.prototype.emit=function(u,c,p,v,I,C){var b=n?n+u:u;if(!this._events[b])return!1;var P=this._events[b],w=arguments.length,x,y;if(P.fn){switch(P.once&&this.removeListener(u,P.fn,void 0,!0),w){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,c),!0;case 3:return P.fn.call(P.context,c,p),!0;case 4:return P.fn.call(P.context,c,p,v),!0;case 5:return P.fn.call(P.context,c,p,v,I),!0;case 6:return P.fn.call(P.context,c,p,v,I,C),!0}for(y=1,x=new Array(w-1);y<w;y++)x[y-1]=arguments[y];P.fn.apply(P.context,x)}else{var L=P.length,N;for(y=0;y<L;y++)switch(P[y].once&&this.removeListener(u,P[y].fn,void 0,!0),w){case 1:P[y].fn.call(P[y].context);break;case 2:P[y].fn.call(P[y].context,c);break;case 3:P[y].fn.call(P[y].context,c,p);break;case 4:P[y].fn.call(P[y].context,c,p,v);break;default:if(!x)for(N=1,x=new Array(w-1);N<w;N++)x[N-1]=arguments[N];P[y].fn.apply(P[y].context,x)}}return!0},a.prototype.on=function(u,c,p){return s(this,u,c,p,!1)},a.prototype.once=function(u,c,p){return s(this,u,c,p,!0)},a.prototype.removeListener=function(u,c,p,v){var I=n?n+u:u;if(!this._events[I])return this;if(!c)return o(this,I),this;var C=this._events[I];if(C.fn)C.fn===c&&(!v||C.once)&&(!p||C.context===p)&&o(this,I);else{for(var b=0,P=[],w=C.length;b<w;b++)(C[b].fn!==c||v&&!C[b].once||p&&C[b].context!==p)&&P.push(C[b]);P.length?this._events[I]=P.length===1?P[0]:P:o(this,I)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(kg)),kg.exports}(function(t){var e=gR;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(f9()),r=e(d9()),i=e(uc()),s=e(mR()),o=e(yR()),a=e(vR()),l=e(_R()),u=e(wR()),c=ER();function p(b){var P=v();return function(){var x=(0,u.default)(b),y;if(P){var L=(0,u.default)(this).constructor;y=Reflect.construct(x,arguments,L)}else y=x.apply(this,arguments);return(0,l.default)(this,y)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var I=function(b,P){var w={};for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&P.indexOf(x)<0&&(w[x]=b[x]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,x=Object.getOwnPropertySymbols(b);y<x.length;y++)P.indexOf(x[y])<0&&Object.prototype.propertyIsEnumerable.call(b,x[y])&&(w[x[y]]=b[x[y]]);return w},C=function(b){(0,a.default)(w,b);var P=p(w);function w(x){var y,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,w);var F=N.autoconnect,V=F===void 0?!0:F,Z=N.reconnect,J=Z===void 0?!0:Z,re=N.reconnect_interval,ye=re===void 0?1e3:re,B=N.max_reconnects,h=B===void 0?5:B,m=I(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return y=P.call(this),y.webSocketFactory=x,y.queue={},y.rpc_id=0,y.address=L,y.autoconnect=V,y.ready=!1,y.reconnect=J,y.reconnect_timer_id=void 0,y.reconnect_interval=ye,y.max_reconnects=h,y.rest_options=m,y.current_reconnects=0,y.generate_request_id=U||function(){return++y.rpc_id},y.autoconnect&&y._connect(y.address,Object.assign({autoconnect:y.autoconnect,reconnect:y.reconnect,reconnect_interval:y.reconnect_interval,max_reconnects:y.max_reconnects},y.rest_options)),y}return(0,o.default)(w,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(y,L,N,U){var F=this;return!U&&(0,i.default)(N)==="object"&&(U=N,N=null),new Promise(function(V,Z){if(!F.ready)return Z(new Error("socket not ready"));var J=F.generate_request_id(y,L),re={jsonrpc:"2.0",method:y,params:L||null,id:J};F.socket.send(JSON.stringify(re),U,function(ye){if(ye)return Z(ye);F.queue[J]={promise:[V,Z]},N&&(F.queue[J].timeout=setTimeout(function(){delete F.queue[J],Z(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var x=(0,r.default)(n.default.mark(function L(N){var U;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,this.call("rpc.login",N);case 2:if(U=V.sent,U){V.next=5;break}throw new Error("authentication failed");case 5:return V.abrupt("return",U);case 6:case"end":return V.stop()}},L,this)}));function y(L){return x.apply(this,arguments)}return y}()},{key:"listMethods",value:function(){var x=(0,r.default)(n.default.mark(function L(){return n.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,this.call("__listMethods");case 2:return U.abrupt("return",U.sent);case 3:case"end":return U.stop()}},L,this)}));function y(){return x.apply(this,arguments)}return y}()},{key:"notify",value:function(y,L){var N=this;return new Promise(function(U,F){if(!N.ready)return F(new Error("socket not ready"));var V={jsonrpc:"2.0",method:y,params:L||null};N.socket.send(JSON.stringify(V),function(Z){if(Z)return F(Z);U()})})}},{key:"subscribe",value:function(){var x=(0,r.default)(n.default.mark(function L(N){var U;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.on",N);case 3:if(U=V.sent,!(typeof N=="string"&&U[N]!=="ok")){V.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+U[N]);case 6:return V.abrupt("return",U);case 7:case"end":return V.stop()}},L,this)}));function y(L){return x.apply(this,arguments)}return y}()},{key:"unsubscribe",value:function(){var x=(0,r.default)(n.default.mark(function L(N){var U;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.off",N);case 3:if(U=V.sent,!(typeof N=="string"&&U[N]!=="ok")){V.next=6;break}throw new Error("Failed unsubscribing from an event with: "+U);case 6:return V.abrupt("return",U);case 7:case"end":return V.stop()}},L,this)}));function y(L){return x.apply(this,arguments)}return y}()},{key:"close",value:function(y,L){this.socket.close(y||1e3,L)}},{key:"_connect",value:function(y,L){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(y,L),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(U){var F=U.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&N.listeners(F.notification).length){if(!Object.keys(F.params).length)return N.emit(F.notification);var V=[F.notification];if(F.params.constructor===Object)V.push(F.params);else for(var Z=0;Z<F.params.length;Z++)V.push(F.params[Z]);return Promise.resolve().then(function(){N.emit.apply(N,V)})}if(!N.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){N.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&N.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[F.id].timeout&&clearTimeout(N.queue[F.id].timeout),F.error?N.queue[F.id].promise[1](F.error):N.queue[F.id].promise[0](F.result),delete N.queue[F.id]}),this.socket.addEventListener("error",function(U){return N.emit("error",U)}),this.socket.addEventListener("close",function(U){var F=U.code,V=U.reason;N.ready&&setTimeout(function(){return N.emit("close",F,V)},0),N.ready=!1,N.socket=void 0,F!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(y,L)},N.reconnect_interval)))})}}]),w}(c.EventEmitter);t.default=C})(c9);var v9={};(function(t){var e=gR;Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var n=e(mR()),r=e(yR()),i=e(vR()),s=e(_R()),o=e(wR()),a=ER();function l(v){var I=u();return function(){var b=(0,o.default)(v),P;if(I){var w=(0,o.default)(this).constructor;P=Reflect.construct(b,arguments,w)}else P=b.apply(this,arguments);return(0,s.default)(this,P)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var c=function(v){(0,i.default)(C,v);var I=l(C);function C(b,P,w){var x;return(0,n.default)(this,C),x=I.call(this),x.socket=new window.WebSocket(b,w),x.socket.onopen=function(){return x.emit("open")},x.socket.onmessage=function(y){return x.emit("message",y.data)},x.socket.onerror=function(y){return x.emit("error",y)},x.socket.onclose=function(y){x.emit("close",y.code,y.reason)},x}return(0,r.default)(C,[{key:"send",value:function(P,w,x){var y=x||w;try{this.socket.send(P),y()}catch(L){y(L)}}},{key:"close",value:function(P,w){this.socket.close(P,w)}},{key:"addEventListener",value:function(P,w,x){this.socket.addEventListener(P,w,x)}}]),C}(a.EventEmitter);function p(v,I){return new c(v,I)}})(v9);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _9(t){const e=Wv(t);tl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:w9,hexToBytes:E9}=_F,Ws={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ws;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:w9(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Ws,n=typeof t=="string"?E9(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ws._parseInt(n.subarray(2)),{d:o,l:a}=Ws._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},vi=BigInt(0),pr=BigInt(1);BigInt(2);const zE=BigInt(3);BigInt(4);function x9(t){const e=_9(t),{Fp:n}=e,r=e.toBytes||((C,b,P)=>{const w=b.toAffine();return vo(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(C=>{const b=C.subarray(1),P=n.fromBytes(b.subarray(0,n.BYTES)),w=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:P,y:w}});function s(C){const{a:b,b:P}=e,w=n.sqr(C),x=n.mul(w,C);return n.add(n.add(x,n.mul(C,b)),P)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(C){return typeof C=="bigint"&&vi<C&&C<e.n}function a(C){if(!o(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(C){const{allowedPrivateKeyLengths:b,nByteLength:P,wrapPrivateKey:w,n:x}=e;if(b&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=yo(C)),typeof C!="string"||!b.includes(C.length))throw new Error("Invalid key");C=C.padStart(P*2,"0")}let y;try{y=typeof C=="bigint"?C:to(Qt("private key",C,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof C}`)}return w&&(y=ut(y,x)),a(y),y}const u=new Map;function c(C){if(!(C instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(b,P,w){if(this.px=b,this.py=P,this.pz=w,b==null||!n.isValid(b))throw new Error("x required");if(P==null||!n.isValid(P))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(b){const{x:P,y:w}=b||{};if(!b||!n.isValid(P)||!n.isValid(w))throw new Error("invalid affine point");if(b instanceof p)throw new Error("projective point not allowed");const x=y=>n.eql(y,n.ZERO);return x(P)&&x(w)?p.ZERO:new p(P,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const P=n.invertBatch(b.map(w=>w.pz));return b.map((w,x)=>w.toAffine(P[x])).map(p.fromAffine)}static fromHex(b){const P=p.fromAffine(i(Qt("pointHex",b)));return P.assertValidity(),P}static fromPrivateKey(b){return p.BASE.multiply(l(b))}_setWindowSize(b){this._WINDOW_SIZE=b,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y:P}=this.toAffine();if(!n.isValid(b)||!n.isValid(P))throw new Error("bad point: x or y not FE");const w=n.sqr(P),x=s(b);if(!n.eql(w,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){c(b);const{px:P,py:w,pz:x}=this,{px:y,py:L,pz:N}=b,U=n.eql(n.mul(P,N),n.mul(y,x)),F=n.eql(n.mul(w,N),n.mul(L,x));return U&&F}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:P}=e,w=n.mul(P,zE),{px:x,py:y,pz:L}=this;let N=n.ZERO,U=n.ZERO,F=n.ZERO,V=n.mul(x,x),Z=n.mul(y,y),J=n.mul(L,L),re=n.mul(x,y);return re=n.add(re,re),F=n.mul(x,L),F=n.add(F,F),N=n.mul(b,F),U=n.mul(w,J),U=n.add(N,U),N=n.sub(Z,U),U=n.add(Z,U),U=n.mul(N,U),N=n.mul(re,N),F=n.mul(w,F),J=n.mul(b,J),re=n.sub(V,J),re=n.mul(b,re),re=n.add(re,F),F=n.add(V,V),V=n.add(F,V),V=n.add(V,J),V=n.mul(V,re),U=n.add(U,V),J=n.mul(y,L),J=n.add(J,J),V=n.mul(J,re),N=n.sub(N,V),F=n.mul(J,Z),F=n.add(F,F),F=n.add(F,F),new p(N,U,F)}add(b){c(b);const{px:P,py:w,pz:x}=this,{px:y,py:L,pz:N}=b;let U=n.ZERO,F=n.ZERO,V=n.ZERO;const Z=e.a,J=n.mul(e.b,zE);let re=n.mul(P,y),ye=n.mul(w,L),B=n.mul(x,N),h=n.add(P,w),m=n.add(y,L);h=n.mul(h,m),m=n.add(re,ye),h=n.sub(h,m),m=n.add(P,x);let A=n.add(y,N);return m=n.mul(m,A),A=n.add(re,B),m=n.sub(m,A),A=n.add(w,x),U=n.add(L,N),A=n.mul(A,U),U=n.add(ye,B),A=n.sub(A,U),V=n.mul(Z,m),U=n.mul(J,B),V=n.add(U,V),U=n.sub(ye,V),V=n.add(ye,V),F=n.mul(U,V),ye=n.add(re,re),ye=n.add(ye,re),B=n.mul(Z,B),m=n.mul(J,m),ye=n.add(ye,B),B=n.sub(re,B),B=n.mul(Z,B),m=n.add(m,B),re=n.mul(ye,m),F=n.add(F,re),re=n.mul(A,m),U=n.mul(h,U),U=n.sub(U,re),re=n.mul(h,ye),V=n.mul(A,V),V=n.add(V,re),new p(U,F,V)}subtract(b){return this.add(b.negate())}is0(){return this.equals(p.ZERO)}wNAF(b){return I.wNAFCached(this,u,b,P=>{const w=n.invertBatch(P.map(x=>x.pz));return P.map((x,y)=>x.toAffine(w[y])).map(p.fromAffine)})}multiplyUnsafe(b){const P=p.ZERO;if(b===vi)return P;if(a(b),b===pr)return this;const{endo:w}=e;if(!w)return I.unsafeLadder(this,b);let{k1neg:x,k1:y,k2neg:L,k2:N}=w.splitScalar(b),U=P,F=P,V=this;for(;y>vi||N>vi;)y&pr&&(U=U.add(V)),N&pr&&(F=F.add(V)),V=V.double(),y>>=pr,N>>=pr;return x&&(U=U.negate()),L&&(F=F.negate()),F=new p(n.mul(F.px,w.beta),F.py,F.pz),U.add(F)}multiply(b){a(b);let P=b,w,x;const{endo:y}=e;if(y){const{k1neg:L,k1:N,k2neg:U,k2:F}=y.splitScalar(P);let{p:V,f:Z}=this.wNAF(N),{p:J,f:re}=this.wNAF(F);V=I.constTimeNegate(L,V),J=I.constTimeNegate(U,J),J=new p(n.mul(J.px,y.beta),J.py,J.pz),w=V.add(J),x=Z.add(re)}else{const{p:L,f:N}=this.wNAF(P);w=L,x=N}return p.normalizeZ([w,x])[0]}multiplyAndAddUnsafe(b,P,w){const x=p.BASE,y=(N,U)=>U===vi||U===pr||!N.equals(x)?N.multiplyUnsafe(U):N.multiply(U),L=y(this,P).add(y(b,w));return L.is0()?void 0:L}toAffine(b){const{px:P,py:w,pz:x}=this,y=this.is0();b==null&&(b=y?n.ONE:n.inv(x));const L=n.mul(P,b),N=n.mul(w,b),U=n.mul(x,b);if(y)return{x:n.ZERO,y:n.ZERO};if(!n.eql(U,n.ONE))throw new Error("invZ was invalid");return{x:L,y:N}}isTorsionFree(){const{h:b,isTorsionFree:P}=e;if(b===pr)return!0;if(P)return P(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:P}=e;return b===pr?this:P?P(p,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),r(p,this,b)}toHex(b=!0){return yo(this.toRawBytes(b))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const v=e.nBitLength,I=Pb(p,e.endo?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function I9(t){const e=Wv(t);return tl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function S9(t){const e=I9(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(m){return vi<m&&m<n.ORDER}function a(m){return ut(m,r)}function l(m){return g0(m,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:p,isWithinCurveOrder:v}=x9({...e,toBytes(m,A,D){const S=A.toAffine(),E=n.toBytes(S.x),R=vo;return D?R(Uint8Array.from([A.hasEvenY()?2:3]),E):R(Uint8Array.from([4]),E,n.toBytes(S.y))},fromBytes(m){const A=m.length,D=m[0],S=m.subarray(1);if(A===i&&(D===2||D===3)){const E=to(S);if(!o(E))throw new Error("Point is not on curve");const R=p(E);let _=n.sqrt(R);const f=(_&pr)===pr;return(D&1)===1!==f&&(_=n.neg(_)),{x:E,y:_}}else if(A===s&&D===4){const E=n.fromBytes(S.subarray(0,n.BYTES)),R=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:E,y:R}}else throw new Error(`Point of length ${A} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),I=m=>yo(Oa(m,e.nByteLength));function C(m){const A=r>>pr;return m>A}function b(m){return C(m)?a(-m):m}const P=(m,A,D)=>to(m.slice(A,D));class w{constructor(A,D,S){this.r=A,this.s=D,this.recovery=S,this.assertValidity()}static fromCompact(A){const D=e.nByteLength;return A=Qt("compactSignature",A,D*2),new w(P(A,0,D),P(A,D,2*D))}static fromDER(A){const{r:D,s:S}=Ws.toSig(Qt("DER",A));return new w(D,S)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new w(this.r,this.s,A)}recoverPublicKey(A){const{r:D,s:S,recovery:E}=this,R=F(Qt("msgHash",A));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const _=E===2||E===3?D+e.n:D;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=E&1?"03":"02",k=u.fromHex(f+I(_)),G=l(_),Q=a(-R*G),Y=a(S*G),oe=u.BASE.multiplyAndAddUnsafe(k,Q,Y);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Da(this.toDERHex())}toDERHex(){return Ws.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Da(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}const x={isValidPrivateKey(m){try{return c(m),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const m=kb(e.n);return kF(e.randomBytes(m),e.n)},precompute(m=8,A=u.BASE){return A._setWindowSize(m),A.multiply(BigInt(3)),A}};function y(m,A=!0){return u.fromPrivateKey(m).toRawBytes(A)}function L(m){const A=m instanceof Uint8Array,D=typeof m=="string",S=(A||D)&&m.length;return A?S===i||S===s:D?S===2*i||S===2*s:m instanceof u}function N(m,A,D=!0){if(L(m))throw new Error("first arg must be private key");if(!L(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(c(m)).toRawBytes(D)}const U=e.bits2int||function(m){const A=to(m),D=m.length*8-e.nBitLength;return D>0?A>>BigInt(D):A},F=e.bits2int_modN||function(m){return a(U(m))},V=Gv(e.nBitLength);function Z(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(vi<=m&&m<V))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Oa(m,e.nByteLength)}function J(m,A,D=re){if(["recovered","canonical"].some(de=>de in D))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:E}=e;let{lowS:R,prehash:_,extraEntropy:f}=D;R==null&&(R=!0),m=Qt("msgHash",m),_&&(m=Qt("prehashed msgHash",S(m)));const k=F(m),G=c(A),Q=[Z(G),Z(k)];if(f!=null){const de=f===!0?E(n.BYTES):f;Q.push(Qt("extraEntropy",de))}const Y=vo(...Q),oe=k;function fe(de){const Fe=U(de);if(!v(Fe))return;const Re=l(Fe),ke=u.BASE.multiply(Fe).toAffine(),Ve=a(ke.x);if(Ve===vi)return;const Pe=a(Re*a(oe+Ve*G));if(Pe===vi)return;let ze=(ke.x===Ve?0:2)|Number(ke.y&pr),$r=Pe;return R&&C(Pe)&&($r=b(Pe),ze^=1),new w(Ve,$r,ze)}return{seed:Y,k2sig:fe}}const re={lowS:e.lowS,prehash:!1},ye={lowS:e.lowS,prehash:!1};function B(m,A,D=re){const{seed:S,k2sig:E}=J(m,A,D),R=e;return Ab(R.hash.outputLen,R.nByteLength,R.hmac)(S,E)}u.BASE._setWindowSize(8);function h(m,A,D,S=ye){var ke;const E=m;if(A=Qt("msgHash",A),D=Qt("publicKey",D),"strict"in S)throw new Error("options.strict was renamed to lowS");const{lowS:R,prehash:_}=S;let f,k;try{if(typeof E=="string"||E instanceof Uint8Array)try{f=w.fromDER(E)}catch(Ve){if(!(Ve instanceof Ws.Err))throw Ve;f=w.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:Ve,s:Pe}=E;f=new w(Ve,Pe)}else throw new Error("PARSE");k=u.fromHex(D)}catch(Ve){if(Ve.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&f.hasHighS())return!1;_&&(A=e.hash(A));const{r:G,s:Q}=f,Y=F(A),oe=l(Q),fe=a(Y*oe),de=a(G*oe),Fe=(ke=u.BASE.multiplyAndAddUnsafe(k,fe,de))==null?void 0:ke.toAffine();return Fe?a(Fe.x)===G:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:N,sign:B,verify:h,ProjectivePoint:u,Signature:w,utils:x}}class xR extends vb{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,O5(e);const r=Hv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return ff(this),this.iHash.update(e),this}digestInto(e){ff(this),pb(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const IR=(t,e,n)=>new xR(t,e).update(n).digest();IR.create=(t,e)=>new xR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function T9(t){return{hash:t,hmac:(e,...n)=>IR(t,e,yb(...n)),randomBytes:wb}}function A9(t,e){const n=r=>S9({...t,...T9(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SR=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),HE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),b9=BigInt(1),w0=BigInt(2),qE=(t,e)=>(t+e/w0)/e;function R9(t){const e=SR,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,p=_t(c,n,e)*c%e,v=_t(p,n,e)*c%e,I=_t(v,w0,e)*u%e,C=_t(I,i,e)*I%e,b=_t(C,s,e)*C%e,P=_t(b,a,e)*b%e,w=_t(P,l,e)*P%e,x=_t(w,a,e)*b%e,y=_t(x,n,e)*c%e,L=_t(y,o,e)*C%e,N=_t(L,r,e)*u%e,U=_t(N,w0,e);if(!E0.eql(E0.sqr(U),t))throw new Error("Cannot find square root");return U}const E0=Rb(SR,void 0,void 0,{sqrt:R9}),c1=A9({a:BigInt(0),b:BigInt(7),Fp:E0,n:HE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=HE,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-b9*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=qE(s*t,e),l=qE(-r*t,e);let u=ut(t-a*n-l*i,e),c=ut(-a*r-l*s,e);const p=u>o,v=c>o;if(p&&(u=e-u),v&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:u,k2neg:v,k2:c}}}},v0);BigInt(0);c1.ProjectivePoint;Nb.utils.randomPrivateKey;function GE(t){try{return Nb.ExtendedPoint.fromHex(t),!0}catch{return!1}}const C9=t=>ht.Buffer.isBuffer(t)?t:t instanceof Uint8Array?ht.Buffer.from(t.buffer,t.byteOffset,t.byteLength):ht.Buffer.from(t);class k9{constructor(e){Object.assign(this,e)}encode(){return ht.Buffer.from(jb(fh,this))}static decode(e){return zb(fh,this,e)}static decodeUnchecked(e){return Ub(fh,this,e)}}const fh=new Map;var TR;let AR;const P9=32,Pg=32;function N9(t){return t._bn!==void 0}let WE=1;AR=Symbol.toStringTag;class Ue extends k9{constructor(e){if(super({}),this._bn=void 0,N9(e))this._bn=e._bn;else{if(typeof e=="string"){const n=AE.decode(e);if(n.length!=Pg)throw new Error("Invalid public key input");this._bn=new TE(n)}else this._bn=new TE(e);if(this._bn.byteLength()>Pg)throw new Error("Invalid public key input")}}static unique(){const e=new Ue(WE);return WE+=1,new Ue(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return AE.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ht.Buffer);if(e.length===Pg)return e;const n=ht.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[AR](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=ht.Buffer.concat([e.toBuffer(),ht.Buffer.from(n),r.toBuffer()]),s=v0(i);return new Ue(s)}static createProgramAddressSync(e,n){let r=ht.Buffer.alloc(0);e.forEach(function(s){if(s.length>P9)throw new TypeError("Max seed length exceeded");r=ht.Buffer.concat([r,C9(s)])}),r=ht.Buffer.concat([r,n.toBuffer(),ht.Buffer.from("ProgramDerivedAddress")]);const i=v0(r);if(GE(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ue(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(ht.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Ue(e);return GE(n.toBytes())}}TR=Ue;Ue.default=new TR("11111111111111111111111111111111");fh.set(Ue,{kind:"struct",fields:[["_bn","u256"]]});new Ue("BPFLoader1111111111111111111111111111111111");const M9=64,$e=(t="publicKey")=>Ua(32,t),ta=(t="string")=>{const e=me([ge("length"),ge("lengthPadding"),Ua(no(ge(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:ht.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>ge().span+ge().span+ht.Buffer.from(s,"utf8").length,i},D9=(t="authorized")=>me([$e("staker"),$e("withdrawer")],t),O9=(t="lockup")=>me([rr("unixTimestamp"),rr("epoch"),$e("custodian")],t),L9=(t="voteInit")=>me([$e("nodePubkey"),$e("authorizedVoter"),$e("authorizedWithdrawer"),Wt("commission")],t),U9=(t="voteAuthorizeWithSeedArgs")=>me([ge("voteAuthorizationType"),$e("currentAuthorityDerivedKeyOwnerPubkey"),ta("currentAuthorityDerivedKeySeed"),$e("newAuthorized")],t);ht.Buffer.alloc(M9).fill(0);new Ue("SysvarC1ock11111111111111111111111111111111");new Ue("SysvarEpochSchedu1e111111111111111111111111");new Ue("Sysvar1nstructions1111111111111111111111111");new Ue("SysvarRecentB1ockHashes11111111111111111111");new Ue("SysvarRent111111111111111111111111111111111");new Ue("SysvarRewards111111111111111111111111111111");new Ue("SysvarS1otHashes111111111111111111111111111");new Ue("SysvarS1otHistory11111111111111111111111111");new Ue("SysvarStakeHistory1111111111111111111111111");const B9=an("lamportsPerSignature"),F9=me([ge("version"),ge("state"),$e("authorizedPubkey"),$e("nonce"),me([B9],"feeCalculator")]);F9.span;const V9=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},$9=t=>e=>{const n=Ua(t,e),{encode:r,decode:i}=V9(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return T8(ht.Buffer.from(l))},s.encode=(o,a,l)=>{const u=R8(o,t);return r(u,a,l)},s},Ba=$9(8);Object.freeze({Create:{index:0,layout:me([ge("instruction"),rr("lamports"),rr("space"),$e("programId")])},Assign:{index:1,layout:me([ge("instruction"),$e("programId")])},Transfer:{index:2,layout:me([ge("instruction"),Ba("lamports")])},CreateWithSeed:{index:3,layout:me([ge("instruction"),$e("base"),ta("seed"),rr("lamports"),rr("space"),$e("programId")])},AdvanceNonceAccount:{index:4,layout:me([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:me([ge("instruction"),rr("lamports")])},InitializeNonceAccount:{index:6,layout:me([ge("instruction"),$e("authorized")])},AuthorizeNonceAccount:{index:7,layout:me([ge("instruction"),$e("authorized")])},Allocate:{index:8,layout:me([ge("instruction"),rr("space")])},AllocateWithSeed:{index:9,layout:me([ge("instruction"),$e("base"),ta("seed"),rr("space"),$e("programId")])},AssignWithSeed:{index:10,layout:me([ge("instruction"),$e("base"),ta("seed"),$e("programId")])},TransferWithSeed:{index:11,layout:me([ge("instruction"),Ba("lamports"),ta("seed"),$e("programId")])},UpgradeNonceAccount:{index:12,layout:me([ge("instruction")])}});new Ue("11111111111111111111111111111111");new Ue("BPFLoader2111111111111111111111111111111111");me([ge("typeIndex"),Ba("deactivationSlot"),an("lastExtendedSlot"),Wt("lastExtendedStartIndex"),Wt(),Gs($e(),no(Wt(),-1),"authority")]);const Zt=lc(l1(Ue),ie(),t=>new Ue(t)),bR=u1([ie(),dt("base64")]),h1=lc(l1(ht.Buffer),bR,t=>ht.Buffer.from(t[0],"base64"));function RR(t){return er([ee({jsonrpc:dt("2.0"),id:ie(),result:t}),ee({jsonrpc:dt("2.0"),id:ie(),error:ee({code:ac(),message:ie(),data:ve(L8())})})])}const j9=RR(ac());function Je(t){return lc(RR(t),j9,e=>"error"in e?e:{...e,result:Nu(e.result,t)})}function Ar(t){return Je(ee({context:ee({slot:H()}),value:t}))}function Md(t){return ee({context:ee({slot:H()}),value:t})}const z9=ee({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()});Je(ue(le(ee({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:ve(le(H()))}))));const H9=ue(ee({slot:H(),prioritizationFee:H()})),q9=ee({total:H(),validator:H(),foundation:H(),epoch:H()}),G9=ee({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:ve(H()),transactionCount:ve(H())}),W9=ee({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:ui(),firstNormalEpoch:H(),firstNormalSlot:H()}),K9=lR(ie(),ue(H())),Po=le(er([ee({}),ie()])),Q9=ee({err:Po}),Y9=dt("receivedSignature");ee({"solana-core":ie(),"feature-set":ve(H())});Ar(ee({err:le(er([ee({}),ie()])),logs:le(ue(ie())),accounts:ve(le(ue(le(ee({executable:ui(),owner:ie(),lamports:H(),data:ue(ie()),rentEpoch:ve(H())}))))),unitsConsumed:ve(H()),returnData:ve(le(ee({programId:ie(),data:u1([ie(),dt("base64")])})))}));Ar(ee({byIdentity:lR(ie(),ue(H())),range:ee({firstSlot:H(),lastSlot:H()})}));Je(z9);Je(q9);Je(H9);Je(G9);Je(W9);Je(K9);Je(H());Ar(ee({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:ue(Zt)}));const X9=ee({amount:ie(),uiAmount:le(H()),decimals:H(),uiAmountString:ve(ie())});Ar(ue(ee({address:Zt,amount:ie(),uiAmount:le(H()),decimals:H(),uiAmountString:ve(ie())})));Ar(ue(ee({pubkey:Zt,account:ee({executable:ui(),owner:Zt,lamports:H(),data:h1,rentEpoch:H()})})));const x0=ee({program:ie(),parsed:ac(),space:H()});Ar(ue(ee({pubkey:Zt,account:ee({executable:ui(),owner:Zt,lamports:H(),data:x0,rentEpoch:H()})})));Ar(ue(ee({lamports:H(),address:Zt})));const f1=ee({executable:ui(),owner:Zt,lamports:H(),data:h1,rentEpoch:H()});ee({pubkey:Zt,account:f1});const Z9=lc(er([l1(ht.Buffer),x0]),er([bR,x0]),t=>Array.isArray(t)?Nu(t,h1):t),J9=ee({executable:ui(),owner:Zt,lamports:H(),data:Z9,rentEpoch:H()});ee({pubkey:Zt,account:J9});ee({state:er([dt("active"),dt("inactive"),dt("activating"),dt("deactivating")]),active:H(),inactive:H()});Je(ue(ee({signature:ie(),slot:H(),err:Po,memo:le(ie()),blockTime:ve(le(H()))})));Je(ue(ee({signature:ie(),slot:H(),err:Po,memo:le(ie()),blockTime:ve(le(H()))})));ee({subscription:H(),result:Md(f1)});const eV=ee({pubkey:Zt,account:f1});ee({subscription:H(),result:Md(eV)});const tV=ee({parent:H(),slot:H(),root:H()});ee({subscription:H(),result:tV});const nV=er([ee({type:er([dt("firstShredReceived"),dt("completed"),dt("optimisticConfirmation"),dt("root")]),slot:H(),timestamp:H()}),ee({type:dt("createdBank"),parent:H(),slot:H(),timestamp:H()}),ee({type:dt("frozen"),slot:H(),timestamp:H(),stats:ee({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),ee({type:dt("dead"),slot:H(),timestamp:H(),err:ie()})]);ee({subscription:H(),result:nV});ee({subscription:H(),result:Md(er([Q9,Y9]))});ee({subscription:H(),result:H()});ee({pubkey:ie(),gossip:le(ie()),tpu:le(ie()),rpc:le(ie()),version:le(ie())});const KE=ee({votePubkey:ie(),nodePubkey:ie(),activatedStake:H(),epochVoteAccount:ui(),epochCredits:ue(u1([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:le(H())});Je(ee({current:ue(KE),delinquent:ue(KE)}));const rV=er([dt("processed"),dt("confirmed"),dt("finalized")]),iV=ee({slot:H(),confirmations:le(H()),err:Po,confirmationStatus:ve(rV)});Ar(ue(le(iV)));Je(H());const CR=ee({accountKey:Zt,writableIndexes:ue(H()),readonlyIndexes:ue(H())}),d1=ee({signatures:ue(ie()),message:ee({accountKeys:ue(ie()),header:ee({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:ue(ee({accounts:ue(H()),data:ie(),programIdIndex:H()})),recentBlockhash:ie(),addressTableLookups:ve(ue(CR))})}),kR=ee({pubkey:Zt,signer:ui(),writable:ui(),source:ve(er([dt("transaction"),dt("lookupTable")]))}),PR=ee({accountKeys:ue(kR),signatures:ue(ie())}),NR=ee({parsed:ac(),program:ie(),programId:Zt}),MR=ee({accounts:ue(Zt),data:ie(),programId:Zt}),sV=er([MR,NR]),oV=er([ee({parsed:ac(),program:ie(),programId:ie()}),ee({accounts:ue(ie()),data:ie(),programId:ie()})]),DR=lc(sV,oV,t=>"accounts"in t?Nu(t,MR):Nu(t,NR)),OR=ee({signatures:ue(ie()),message:ee({accountKeys:ue(kR),instructions:ue(DR),recentBlockhash:ie(),addressTableLookups:ve(le(ue(CR)))})}),_f=ee({accountIndex:H(),mint:ie(),owner:ve(ie()),uiTokenAmount:X9}),LR=ee({writable:ue(Zt),readonly:ue(Zt)}),Dd=ee({err:Po,fee:H(),innerInstructions:ve(le(ue(ee({index:H(),instructions:ue(ee({accounts:ue(H()),data:ie(),programIdIndex:H()}))})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:ve(le(ue(ie()))),preTokenBalances:ve(le(ue(_f))),postTokenBalances:ve(le(ue(_f))),loadedAddresses:ve(LR),computeUnitsConsumed:ve(H())}),p1=ee({err:Po,fee:H(),innerInstructions:ve(le(ue(ee({index:H(),instructions:ue(DR)})))),preBalances:ue(H()),postBalances:ue(H()),logMessages:ve(le(ue(ie()))),preTokenBalances:ve(le(ue(_f))),postTokenBalances:ve(le(ue(_f))),loadedAddresses:ve(LR),computeUnitsConsumed:ve(H())}),il=er([dt(0),dt("legacy")]),No=ee({pubkey:ie(),lamports:H(),postBalance:le(H()),rewardType:le(ie()),commission:ve(le(H()))});Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(ee({transaction:d1,meta:le(Dd),version:ve(il)})),rewards:ve(ue(No)),blockTime:le(H()),blockHeight:le(H())})));Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:ve(ue(No)),blockTime:le(H()),blockHeight:le(H())})));Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(ee({transaction:PR,meta:le(Dd),version:ve(il)})),rewards:ve(ue(No)),blockTime:le(H()),blockHeight:le(H())})));Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(ee({transaction:OR,meta:le(p1),version:ve(il)})),rewards:ve(ue(No)),blockTime:le(H()),blockHeight:le(H())})));Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(ee({transaction:PR,meta:le(p1),version:ve(il)})),rewards:ve(ue(No)),blockTime:le(H()),blockHeight:le(H())})));Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:ve(ue(No)),blockTime:le(H()),blockHeight:le(H())})));Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:ue(ee({transaction:d1,meta:le(Dd)})),rewards:ve(ue(No)),blockTime:le(H())})));Je(le(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),signatures:ue(ie()),blockTime:le(H())})));Je(le(ee({slot:H(),meta:Dd,blockTime:ve(le(H())),transaction:d1,version:ve(il)})));Je(le(ee({slot:H(),transaction:OR,meta:le(p1),blockTime:ve(le(H())),version:ve(il)})));Ar(ee({blockhash:ie(),feeCalculator:ee({lamportsPerSignature:H()})}));Ar(ee({blockhash:ie(),lastValidBlockHeight:H()}));Ar(ui());const aV=ee({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()});Je(ue(aV));Ar(le(ee({feeCalculator:ee({lamportsPerSignature:H()})})));Je(ie());Je(ie());const lV=ee({err:Po,logs:ue(ie()),signature:ie()});ee({result:Md(lV),subscription:H()});Object.freeze({CreateLookupTable:{index:0,layout:me([ge("instruction"),Ba("recentSlot"),Wt("bumpSeed")])},FreezeLookupTable:{index:1,layout:me([ge("instruction")])},ExtendLookupTable:{index:2,layout:me([ge("instruction"),Ba(),Gs($e(),no(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:me([ge("instruction")])},CloseLookupTable:{index:4,layout:me([ge("instruction")])}});new Ue("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:me([Wt("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:me([Wt("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:me([Wt("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:me([Wt("instruction"),Ba("microLamports")])}});new Ue("ComputeBudget111111111111111111111111111111");me([Wt("numSignatures"),Wt("padding"),gr("signatureOffset"),gr("signatureInstructionIndex"),gr("publicKeyOffset"),gr("publicKeyInstructionIndex"),gr("messageDataOffset"),gr("messageDataSize"),gr("messageInstructionIndex")]);new Ue("Ed25519SigVerify111111111111111111111111111");c1.utils.isValidPrivateKey;c1.getPublicKey;me([Wt("numSignatures"),gr("signatureOffset"),Wt("signatureInstructionIndex"),gr("ethAddressOffset"),Wt("ethAddressInstructionIndex"),gr("messageDataOffset"),gr("messageDataSize"),Wt("messageInstructionIndex"),Ua(20,"ethAddress"),Ua(64,"signature"),Wt("recoveryId")]);new Ue("KeccakSecp256k11111111111111111111111111111");var UR;new Ue("StakeConfig11111111111111111111111111111111");class BR{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}UR=BR;BR.default=new UR(0,0,Ue.default);Object.freeze({Initialize:{index:0,layout:me([ge("instruction"),D9(),O9()])},Authorize:{index:1,layout:me([ge("instruction"),$e("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:me([ge("instruction")])},Split:{index:3,layout:me([ge("instruction"),rr("lamports")])},Withdraw:{index:4,layout:me([ge("instruction"),rr("lamports")])},Deactivate:{index:5,layout:me([ge("instruction")])},Merge:{index:7,layout:me([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:me([ge("instruction"),$e("newAuthorized"),ge("stakeAuthorizationType"),ta("authoritySeed"),$e("authorityOwner")])}});new Ue("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:me([ge("instruction"),L9()])},Authorize:{index:1,layout:me([ge("instruction"),$e("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:me([ge("instruction"),rr("lamports")])},AuthorizeWithSeed:{index:10,layout:me([ge("instruction"),U9()])}});new Ue("Vote111111111111111111111111111111111111111");new Ue("Va1idator1nfo111111111111111111111111111111");ee({name:ie(),website:ve(ie()),details:ve(ie()),keybaseUsername:ve(ie())});new Ue("Vote111111111111111111111111111111111111111");me([$e("nodePubkey"),$e("authorizedWithdrawer"),Wt("commission"),an(),Gs(me([an("slot"),ge("confirmationCount")]),no(ge(),-8),"votes"),Wt("rootSlotValid"),an("rootSlot"),an(),Gs(me([an("epoch"),$e("authorizedVoter")]),no(ge(),-8),"authorizedVoters"),me([Gs(me([$e("authorizedPubkey"),an("epochOfLastAuthorizedSwitch"),an("targetEpoch")]),32,"buf"),an("idx"),Wt("isEmpty")],"priorVoters"),an(),Gs(me([an("epoch"),an("credits"),an("prevCredits")]),no(ge(),-8),"epochCredits"),me([an("slot"),an("timestamp")],"lastTimestamp")]);const uV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},FR=Rs(uV),_l=bo(FR),Ng=xd(FR),cV=t=>{const{url:e}=yS(),n=qa(),[r,i]=X.useState(!1),[s,o]=X.useState(null);X.useEffect(()=>{A5({Ripple:jv})},[]);const[a,l]=X.useState(t.rate);X.useState(null),X.useEffect(()=>{$("#card_price").text(a)},[$("#card_sol").text()]);const u=dn(_l,"Course",e);(async()=>{const b=await Yr(u);if(b.exists()){$("#card_title").text(Gn(b.data().title)),$("#card_des").text(b.data().des),$("#card_sub").text(Gn(b.data().sub)),$("#card_level").text(Gn(b.data().eduLvl)),$("#card_lang").text(Gn(b.data().lang)),$("#card_sol").text(b.data().sol),$("#card_uploadTime").text(new Date(b.data().uploadTime.seconds*1e3).toLocaleString()),b.data().mode==="both"?$("#card_mode").text("Video and notes"):b.data().mode==="video"?$("#card_mode").text("Video"):$("#card_mode").text("Notes");const P=()=>{let U="";for(let F in b.data().tag)U+=`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${b.data().tag[F]}</span>`;$("#card_tag").html(U)};P(),$("#card_tag").html(P),s||o(b.data().userUID);const w=dn(_l,"Users",b.data().userUID);(async()=>{const U=await Yr(w);U.exists()?(la(document.getElementById("card_tutor")),$("#card_tutor").text(U.data().displayName)):console.log("No such document for Users with UID of",U.data().userUID)})();const y=si(Ng,e+"/thumbnail.jpg");eo(y).then(U=>{$("#card_img").attr("src",U)});const L=dn(_l,"Users",t.state.user.uid);(async()=>{const U=await Yr(L);U.exists()?(U.data().wishlist&&(U.data().wishlist.indexOf(e)>=0?$("#b_wishlist").text("- REMOVE FROM WISHLIST"):$("#b_wishlist").text("+ ADD TO WISHLIST")),U.data().enrolled&&(U.data().enrolled.indexOf(e)>=0?($("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)):$("#b_enroll").text("ENROLL NOW"))):console.log("No such document for User with UID",t.state.user.uid)})()}else console.log("No such document for Course with link",e)})();const p=()=>{const b=dn(_l,"Users",t.state.user.uid);(async()=>{$("#b_wishlist").text()==="+ ADD TO WISHLIST"?(await Kl(b,{wishlist:aE(e)}),$("#b_wishlist").text("- REMOVE FROM WISHLIST"),alert("Added to wishlist!")):(await Kl(b,{wishlist:cU(e)}),$("#b_wishlist").text("+ ADD TO WISHLIST"),alert("Removed from wishlist!"))})()},v=async(b,P,w)=>{if(!P&&!w){console.log("Wallet address of recipent or amount to transfer not found!");return}},I=()=>{n("../profile/"+s)},C=()=>{if(t.state.role==="special needy / refugee / disabilities"){console.log("Enrolling");const b=dn(_l,"Users",t.state.user.uid);(async()=>{await Kl(b,{enrolled:aE(e)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)})(),alert("Enrolled with special discount #FreeHelpEdu")}else console.log(t.state.walletAddress),v(t.state.walletAddress,"NraaJwoeNHCu5Wu1iRm1cfvx7NLKgySnTv76dU5T7oH",.02)};return X.useEffect(()=>{if(r){const b=si(Ng,e+"/video.mp4");eo(b).then(w=>{$("#media_area").html($("#media_area").html()+`<h1>Video</h1><video width="100%" height="100%" controls><source src="${w}" type="video/mp4">Your browser does not support the video tag.</video>`)});const P=si(Ng,e+"/notes.pdf");eo(P).then(w=>{$("#media_area").html($("#media_area").html()+'<h1>Notes</h1><object data="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20210101201653/PDF.pdf" width="100%" height="800"></object>')})}},[r]),M.jsxs(M.Fragment,{children:[M.jsx("h1",{className:"mb-2",children:"Course"}),M.jsxs("p",{className:"mb-6 text-base text-neutral-500 dark:text-neutral-300",children:["ID: ",e]}),M.jsxs("div",{className:"flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 max-w-6xl md:flex-row",children:[M.jsx("img",{className:"w-1/2 rounded-t-lg object-cover md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course thumbnail",id:"card_img"}),M.jsxs("div",{className:"flex flex-col justify-start max-w-3xl p-6",children:[M.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:"card_title"}),M.jsxs("p",{className:"mb-4 text-sm text-warning-600 dark:text-warning-400",children:["* ",M.jsx("span",{id:"card_mode"})," included."]}),M.jsx("p",{className:"mb-2 text-base text-neutral-600 dark:text-neutral-200",id:"card_des"}),M.jsx("div",{className:"mb-4 gap-4",id:"card_tag"}),M.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-xs mb-4",children:[M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:M.jsx("b",{children:"Subject"})}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_sub"}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:M.jsx("b",{children:"Tutor"})}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 underline text-primary transition duration-150 ease-in-out hover:text-primary-600 focus:text-primary-600 active:text-primary-700 dark:text-primary-400 dark:hover:text-primary-500 dark:focus:text-primary-500 dark:active:text-primary-600 cursor-pointer",onClick:I,id:"card_tutor"}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:M.jsx("b",{children:"Level"})}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_level"}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:M.jsx("b",{children:"Language"})}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_lang"}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:M.jsx("b",{children:"Price"})}),M.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[M.jsx("span",{id:"card_sol",children:"0.00"})," SOL / ",M.jsx("span",{id:"card_price",children:M.jsx(LA,{sol:$("#card_sol").text()})}),' USD"']}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:M.jsx("b",{children:"Enrollment"})}),M.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_enroll",children:"0"})]}),M.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-300 mb-4",children:["Uploaded on ",M.jsx("span",{id:"card_uploadTime"})]}),M.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[M.jsx("button",{type:"button",onClick:C,className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] disabled:opacity-70","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_enroll",children:"ENROLL NOW"}),M.jsx("button",{onClick:p,type:"button",className:"inline-block rounded bg-primary-100 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-primary-accent-100 focus:bg-primary-accent-100 focus:outline-none focus:ring-0 active:bg-primary-accent-200","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_wishlist",children:"+ ADD TO WISHLIST"})]})]})]}),M.jsx("br",{}),M.jsx("div",{id:"media_area"})]})},hV=t=>e=>{const n=qa();return M.jsx(t,{...e,navigate:n})},fV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},VR=Rs(fV),dV=bo(VR),Mg=xd(VR);class pV extends X.Component{constructor(n){super(n);Xe(this,"select",n=>{$(".button_choice").attr("class","button_choice"),$(`#b_${n}`).attr("class","button_choice text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),this.setState({choice:n}),n==="both"?($("#div_video").css("display","inherit"),$("#div_notes").css("display","inherit")):($(".div_upload").css("display","none"),$(`#div_${n}`).css("display","inherit"))});Xe(this,"handleKeyPress",n=>{n.preventDefault(),n.key=="Enter"&&this.uploadConfirm()});Xe(this,"handleTagKeyPress",n=>{n.key=="Enter"&&(this.setState({tag:this.state.tag.add($("#t_tag").val())}),$("#t_tag").val(""))});Xe(this,"removeTag",n=>{this.state.tag.delete(n),this.setState({tag:this.state.tag})});Xe(this,"changeSOL",()=>{this.setState({sol:$("#t_sol").val()})});Xe(this,"uploadConfirm",async()=>{const{navigate:n}=this.props;if($("#t_title").val()!==""&&$("#t_des").val()!==""&&$("#c_level").val()!==""&&$("#t_sub").val()!==""&&$("#t_lang").val()!==""&&$("#t_sol").val()!=="")if($("#div_tag").html()!=="")if(this.state.choice)if(this.state.thumbnailUpload&&(this.state.choice==="video"&&this.state.videoUpload||this.state.choice==="notes"&&this.state.notesUpload||this.state.choice==="both"&&this.state.videoUpload&&this.state.notesUpload)){if(confirm(`Make sure all information are correct. You cannot edit any part anymore after material is uploaded.

Do not reload the page before uploading process is not done.`)){$("#main").css("opacity",.5),$("#main").css("pointerEvents","none"),$("#main").attr("disabled",!0);const r=await aU(Tv(dV,"Course"),{title:$("#t_title").val(),des:$("#t_des").val().split(`
`),eduLvl:$("#c_level").val(),sub:$("#t_sub").val(),lang:$("#t_lang").val(),sol:parseFloat($("#t_sol").val()),tag:[...this.state.tag],userUID:this.state.user.uid,mode:this.state.choice,uploadTime:uU(),view:0});console.log("Document written with ID: ",r.id);let i=si(Mg,`${r.id}/thumbnail.jpg`);await yl(i,this.state.thumbnailUpload).then(()=>{console.log("Uploaded thumbnail file!")});let s=si(Mg,`${r.id}/video.mp4`),o=si(Mg,`${r.id}/notes.pdf`);switch(this.state.choice){case"video":await yl(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")});break;case"notes":await yl(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break;case"both":await yl(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")}),await yl(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break}$("#main").css("opacity",1),$("#main").css("pointerEvents","inherit"),$("#main").attr("disabled",!1),await alert("Upload success!"),n("/freeflow-edu/")}}else alert("Please upload required image / video / notes.");else alert("Please select either to upload video / notes / both.");else alert("Please add some tags! ");else alert("Please fill in all information required.")});this.state={user:n.state.user,credential:n.state.credential,choice:null,tag:new Set,thumbnailUpload:null,videoUpload:null,notesUpload:null,sol:1}}render(){console.log(this.state);const n=this.state.tag.size===0?[]:[...this.state.tag].map((r,i)=>M.jsxs("span",{id:"tag_"+r,children:[r,M.jsx("button",{onClick:()=>this.removeTag(r),children:"x"})]},r));return M.jsxs("section",{id:"main",children:[M.jsx("h1",{children:"Upload"}),M.jsxs("div",{className:"div_general",children:[M.jsxs("label",{children:[" Course Title:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_tile",id:"t_title",placeholder:"Trigonometry",required:!0})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Course Description:",M.jsx("textarea",{name:"t_des",id:"t_des",placeholder:"Write something here...",required:!0})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Level:",M.jsxs("select",{name:"",id:"c_level",required:!0,children:[M.jsx("option",{value:"",children:"-- Please select --"}),M.jsx("option",{value:"primary",children:"Primary School"}),M.jsx("option",{value:"secondary",children:"Secondary School"}),M.jsx("option",{value:"undergraduate",children:"Undergraduate"}),M.jsx("option",{value:"postgraduate",children:"Postgraduate"}),M.jsx("option",{value:"workplace",children:"Workplace"})]})]}),M.jsxs("label",{children:[" Subject:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_sub",id:"t_sub",placeholder:"Mathematics",required:!0})]}),M.jsxs("label",{children:[" Language:",M.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_lang",id:"t_lang",placeholder:"English",required:!0})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Sell for $:",M.jsx("input",{onKeyUp:this.handleKeyPress,onChange:this.changeSOL,type:"number",name:"t_sol",id:"t_sol",placeholder:"0.00",required:!0})," Solana",M.jsx("br",{}),this.state.sol," SOL = ",M.jsx(LA,{sol:this.state.sol})," USD"]}),M.jsx("br",{}),M.jsxs("label",{children:[" Tag:",M.jsx("input",{onKeyUp:this.handleTagKeyPress,type:"text",name:"t_tag",id:"t_tag",placeholder:"Write some keywords here..."})]}),M.jsx("div",{id:"div_tag",children:n}),M.jsx("br",{}),M.jsxs("label",{children:[" Author:",M.jsx("input",{type:"text",name:"t_author_uid",id:"t_author_uid",value:this.state.user.email,disabled:!0})]}),M.jsx("br",{}),M.jsxs("label",{children:[" Thumbnail:",M.jsx("input",{type:"file",onChange:r=>this.setState({thumbnailUpload:r.target.files[0]}),name:"vid",id:"f_thumbnail",accept:".jpg"})]})]}),M.jsx("br",{}),M.jsx("hr",{}),M.jsx("br",{}),M.jsxs("div",{children:[M.jsx("button",{className:"button_choice",id:"b_video",onClick:()=>this.select("video"),children:"Video"}),M.jsx("button",{className:"button_choice",id:"b_notes",onClick:()=>this.select("notes"),children:"Notes"}),M.jsx("button",{className:"button_choice",id:"b_both",onClick:()=>this.select("both"),children:"Both"})]}),M.jsxs("div",{id:"div_video",className:"div_upload",style:{display:"none"},children:[M.jsx("h1",{children:"Video"}),M.jsxs("label",{children:["Upload Video:",M.jsx("input",{type:"file",onChange:r=>this.setState({videoUpload:r.target.files[0]}),name:"vid",id:"f_video",accept:".mp4"})]}),M.jsx("br",{})]}),M.jsxs("div",{id:"div_notes",className:"div_upload",style:{display:"none"},children:[M.jsx("h1",{children:"Notes"}),M.jsxs("label",{children:["Upload Notes:",M.jsx("input",{type:"file",onChange:r=>this.setState({notesUpload:r.target.files[0]}),name:"vid",id:"f_notes",accept:".pdf"})]}),M.jsx("br",{})]}),M.jsx("br",{}),M.jsx("hr",{}),M.jsx("br",{}),M.jsx("button",{onClick:this.uploadConfirm,children:"Upload"})]})}}const gV=hV(pV);class QE extends X.Component{constructor(n){super(n);Xe(this,"auth",Xs());Xe(this,"logout",()=>{HM(this.auth).then(n=>{this.setState({user:null}),this.props.updateUserState(null)}).catch(n=>{console.log(n)}),localStorage.clear()});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return console.log(this.state),this.state?M.jsxs(M.Fragment,{children:[M.jsx("h3",{children:"Are you sure you want to sign out? "}),M.jsx("p",{children:"This action is undone and you will be required to login again."}),M.jsx("button",{onClick:this.logout,children:"Sign out"}),M.jsx("br",{}),M.jsx(lo,{to:"/freeflow-edu/",children:"Back Home"})]}):M.jsx($l,{to:"/freeflow-edu/"})}}const YE=({setUser:t})=>M.jsxs(M.Fragment,{children:[M.jsx("h1",{children:"404: Page Not Found"}),M.jsx("p",{children:"The specified file was not found on this website. Please check the URL for mistakes and try again."}),M.jsx(lo,{to:"/freeflow-edu/",children:"Back Home"})]});const mV={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},yV=Rs(mV),Dg=bo(yV);class vV extends X.Component{constructor(n){super(n);Xe(this,"auth",Xs());Xe(this,"updateUserState",n=>{this.setState({user:n})});Xe(this,"updateRoleState",n=>{this.setState({role:n}),console.log(this.state)});Xe(this,"checkIfWalletIsConnected",async()=>{var n;if((n=window==null?void 0:window.solana)!=null&&n.isPhantom){console.log("Phantom wallet found!");const r=await window.solana.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString()});const i=dn(Dg,"Users",this.state.user.uid);return await Kl(i,{walletAddress:r.publicKey.toString()}).then(()=>{}),!0}else return console.log("Solana object not found! Get a Phantom Wallet 👻"),!1});Xe(this,"connectWallet",async()=>{const{solana:n}=window;if(n){const r=await n.connect().catch(()=>{alert("Fail to connect Wallet. Have you login to your Phantom wallet?")});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString()});const i=dn(Dg,"Users",this.state.user.uid);await Kl(i,{walletAddress:r.publicKey.toString()}).then(()=>{})}else alert("You do not have a Phantom wallet. Please install it from your web browser extension store.")});Xe(this,"disconnectWallet",async()=>{solana&&(await solana.disconnect(),console.log("Disconnected with Public Key:",this.state.walletAddress),alert("Wallet address"+this.state.walletAddress+" is disconnected from your FreeFlow Edu account now."),this.setState({walletAddress:null}),dn(Dg,"Users",this.state.user.uid))});Xe(this,"renderNotConnectedContainer",()=>M.jsxs("button",{className:"cta-button connect-wallet-button",onClick:this.state.walletAddress?this.disconnectWallet:this.connectWallet,children:[M.jsx("img",{src:"https://3632261023-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MVOiF6Zqit57q_hxJYp%2Ficon%2FU7kNZ4ygz4QW1rUwOuTT%2FWhite%20Ghost_docs_nu.svg?alt=media&token=447b91f6-db6d-4791-902d-35d75c19c3d1",alt:"Phantom",width:"64px"}),this.state.walletAddress?"Disconnect from Wallet "+this.state.walletAddress:"Connect to Wallet"]}));this.state={user:JSON.parse(localStorage.getItem("user")),walletAddress:null,role:null}}componentDidMount(){this.state.user!==null&&JSON.parse(localStorage.getItem("user"))&&this.setState({user:JSON.parse(localStorage.getItem("user"))}),this.checkIfWalletIsConnected()}render(){return console.log(this.state),this.state.user||JSON.parse(localStorage.getItem("user"))?M.jsx(B_,{children:M.jsx(L_,{children:M.jsxs(On,{exact:!0,path:"/freeflow-edu/",element:M.jsx(gU,{state:this.state,renderNotConnectedContainer:this.renderNotConnectedContainer,updateRoleState:this.updateRoleState}),children:[M.jsx(On,{index:!0,active:!0,element:M.jsx(UB,{state:this.state})}),M.jsx(On,{path:"profile/:id",element:M.jsx(FB,{state:this.state})}),M.jsx(On,{path:"sign-out",element:M.jsx(QE,{state:this.state,updateUserState:this.updateUserState})}),M.jsx(On,{path:"register",element:M.jsx(lE,{state:this.state,updateUserState:this.updateUserState})}),M.jsx(On,{path:"course/:url",element:M.jsx(cV,{state:this.state})}),M.jsx(On,{path:"upload",element:M.jsx(gV,{state:this.state})}),M.jsx(On,{path:"first-time-user",element:M.jsx(SU,{state:this.state})}),M.jsx(On,{path:"*",element:M.jsx(YE,{})})]})})}):(console.log("Session has expired. Login again."),M.jsx(B_,{children:M.jsx(L_,{children:M.jsxs(On,{exact:!0,path:"/freeflow-edu/",element:M.jsx(hU,{}),children:[M.jsx(On,{index:!0,active:!0,element:M.jsx(yU,{state:this.state,updateUserState:this.updateUserState})}),M.jsx(On,{path:"register",element:M.jsx(lE,{state:this.state,updateUserState:this.updateUserState})}),M.jsx(On,{path:"sign-out",element:M.jsx(QE,{})}),M.jsx(On,{path:"*",element:M.jsx(YE,{})})]})})}))}}Og.createRoot(document.getElementById("root")).render(M.jsx(ox.StrictMode,{children:M.jsx(vV,{})}));
