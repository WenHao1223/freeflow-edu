var VR=Object.defineProperty;var $R=(t,e,n)=>e in t?VR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nt=(t,e,n)=>($R(t,typeof e!="symbol"?e+"":e,n),n);function jR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ay(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var zS={exports:{}},Hd={},qS={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),zR=Symbol.for("react.portal"),qR=Symbol.for("react.fragment"),KR=Symbol.for("react.strict_mode"),WR=Symbol.for("react.profiler"),HR=Symbol.for("react.provider"),GR=Symbol.for("react.context"),QR=Symbol.for("react.forward_ref"),YR=Symbol.for("react.suspense"),XR=Symbol.for("react.memo"),JR=Symbol.for("react.lazy"),ow=Symbol.iterator;function ZR(t){return t===null||typeof t!="object"?null:(t=ow&&t[ow]||t["@@iterator"],typeof t=="function"?t:null)}var KS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WS=Object.assign,HS={};function ol(t,e,n){this.props=t,this.context=e,this.refs=HS,this.updater=n||KS}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GS(){}GS.prototype=ol.prototype;function ly(t,e,n){this.props=t,this.context=e,this.refs=HS,this.updater=n||KS}var uy=ly.prototype=new GS;uy.constructor=ly;WS(uy,ol.prototype);uy.isPureReactComponent=!0;var aw=Array.isArray,QS=Object.prototype.hasOwnProperty,cy={current:null},YS={key:!0,ref:!0,__self:!0,__source:!0};function XS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)QS.call(e,r)&&!YS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sc,type:t,key:s,ref:o,props:i,_owner:cy.current}}function eC(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function tC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lw=/\/+/g;function Cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tC(""+t.key):e.toString(36)}function vh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sc:case zR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cp(o,0):r,aw(i)?(n="",t!=null&&(n=t.replace(lw,"$&/")+"/"),vh(i,e,n,"",function(u){return u})):i!=null&&(hy(i)&&(i=eC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",aw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cp(s,a);o+=vh(s,e,n,l,i)}else if(l=ZR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cp(s,a++),o+=vh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dc(t,e,n){if(t==null)return t;var r=[],i=0;return vh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jn={current:null},_h={transition:null},rC={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:_h,ReactCurrentOwner:cy};Fe.Children={map:Dc,forEach:function(t,e,n){Dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dc(t,function(){e++}),e},toArray:function(t){return Dc(t,function(e){return e})||[]},only:function(t){if(!hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=ol;Fe.Fragment=qR;Fe.Profiler=WR;Fe.PureComponent=ly;Fe.StrictMode=KR;Fe.Suspense=YR;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rC;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)QS.call(e,l)&&!YS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sc,type:t.type,key:i,ref:s,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:GR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HR,_context:t},t.Consumer=t};Fe.createElement=XS;Fe.createFactory=function(t){var e=XS.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:QR,render:t}};Fe.isValidElement=hy;Fe.lazy=function(t){return{$$typeof:JR,_payload:{_status:-1,_result:t},_init:nC}};Fe.memo=function(t,e){return{$$typeof:XR,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=_h.transition;_h.transition={};try{t()}finally{_h.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return Jn.current.useCallback(t,e)};Fe.useContext=function(t){return Jn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Jn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Jn.current.useEffect(t,e)};Fe.useId=function(){return Jn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Jn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Jn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Jn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Jn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Jn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Jn.current.useRef(t)};Fe.useState=function(t){return Jn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Jn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Jn.current.useTransition()};Fe.version="18.2.0";qS.exports=Fe;var X=qS.exports;const JS=Bo(X),iC=jR({__proto__:null,default:JS},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=X,oC=Symbol.for("react.element"),aC=Symbol.for("react.fragment"),lC=Object.prototype.hasOwnProperty,uC=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cC={key:!0,ref:!0,__self:!0,__source:!0};function ZS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lC.call(e,r)&&!cC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oC,type:t,key:s,ref:o,props:i,_owner:uC.current}}Hd.Fragment=aC;Hd.jsx=ZS;Hd.jsxs=ZS;zS.exports=Hd;var L=zS.exports,gm={},eI={exports:{}},_r={},tI={exports:{}},nI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,A){var C=T.length;T.push(A);e:for(;0<C;){var S=C-1>>>1,d=T[S];if(0<i(d,A))T[S]=A,T[C]=d,C=S;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var A=T[0],C=T.pop();if(C!==A){T[0]=C;e:for(var S=0,d=T.length,P=d>>>1;S<P;){var W=2*(S+1)-1,Q=T[W],Y=W+1,ae=T[Y];if(0>i(Q,C))Y<d&&0>i(ae,Q)?(T[S]=ae,T[Y]=C,S=Y):(T[S]=Q,T[W]=C,S=W);else if(Y<d&&0>i(ae,C))T[S]=ae,T[Y]=C,S=Y;else break e}}return A}function i(T,A){var C=T.sortIndex-A.sortIndex;return C!==0?C:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,v=3,_=!1,x=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=T)r(u),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(u)}}function M(T){if(I=!1,m(T),!x)if(n(l)!==null)x=!0,R(N);else{var A=n(u);A!==null&&B(M,A.startTime-T)}}function N(T,A){x=!1,I&&(I=!1,w(V),V=-1),_=!0;var C=v;try{for(m(A),f=n(l);f!==null&&(!(f.expirationTime>A)||T&&!re());){var S=f.callback;if(typeof S=="function"){f.callback=null,v=f.priorityLevel;var d=S(f.expirationTime<=A);A=t.unstable_now(),typeof d=="function"?f.callback=d:f===n(l)&&r(l),m(A)}else r(l);f=n(l)}if(f!==null)var P=!0;else{var W=n(u);W!==null&&B(M,W.startTime-A),P=!1}return P}finally{f=null,v=C,_=!1}}var O=!1,F=null,V=-1,J=5,Z=-1;function re(){return!(t.unstable_now()-Z<J)}function _e(){if(F!==null){var T=t.unstable_now();Z=T;var A=!0;try{A=F(!0,T)}finally{A?U():(O=!1,F=null)}}else O=!1}var U;if(typeof E=="function")U=function(){E(_e)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,y=h.port2;h.port1.onmessage=_e,U=function(){y.postMessage(null)}}else U=function(){b(_e,0)};function R(T){F=T,O||(O=!0,U())}function B(T,A){V=b(function(){T(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,R(N))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var C=v;v=A;try{return T()}finally{v=C}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var C=v;v=T;try{return A()}finally{v=C}},t.unstable_scheduleCallback=function(T,A,C){var S=t.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?S+C:S):C=S,T){case 1:var d=-1;break;case 2:d=250;break;case 5:d=1073741823;break;case 4:d=1e4;break;default:d=5e3}return d=C+d,T={id:c++,callback:A,priorityLevel:T,startTime:C,expirationTime:d,sortIndex:-1},C>S?(T.sortIndex=C,e(u,T),n(l)===null&&T===n(u)&&(I?(w(V),V=-1):I=!0,B(M,C-S))):(T.sortIndex=d,e(l,T),x||_||(x=!0,R(N))),T},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(T){var A=v;return function(){var C=v;v=A;try{return T.apply(this,arguments)}finally{v=C}}}})(nI);tI.exports=nI;var hC=tI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=X,yr=hC;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iI=new Set,wu={};function Do(t,e){Ua(t,e),Ua(t+"Capture",e)}function Ua(t,e){for(wu[t]=e,t=0;t<e.length;t++)iI.add(e[t])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mm=Object.prototype.hasOwnProperty,dC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uw={},cw={};function fC(t){return mm.call(cw,t)?!0:mm.call(uw,t)?!1:dC.test(t)?cw[t]=!0:(uw[t]=!0,!1)}function pC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gC(t,e,n,r){if(e===null||typeof e>"u"||pC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new Zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new Zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new Zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new Zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new Zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new Zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xn[t]=new Zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new Zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new Zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dy,fy);xn[e]=new Zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dy,fy);xn[e]=new Zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dy,fy);xn[e]=new Zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new Zn(t,1,!1,t.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xn[t]=new Zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function py(t,e,n,r){var i=xn.hasOwnProperty(e)?xn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gC(e,n,i,r)&&(n=null),r||i===null?fC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ji=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),aa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),sI=Symbol.for("react.provider"),oI=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),yy=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),aI=Symbol.for("react.offscreen"),hw=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=hw&&t[hw]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,Pp;function jl(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Np=!1;function Mp(t,e){if(!t||Np)return"";Np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jl(t):""}function mC(t){switch(t.tag){case 5:return jl(t.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return t=Mp(t.type,!1),t;case 11:return t=Mp(t.type.render,!1),t;case 1:return t=Mp(t.type,!0),t;default:return""}}function wm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case la:return"Fragment";case aa:return"Portal";case ym:return"Profiler";case gy:return"StrictMode";case vm:return"Suspense";case _m:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oI:return(t.displayName||"Context")+".Consumer";case sI:return(t._context.displayName||"Context")+".Provider";case my:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yy:return e=t.displayName||null,e!==null?e:wm(t.type)||"Memo";case ls:e=t._payload,t=t._init;try{return wm(t(e))}catch{}}return null}function yC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wm(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vC(t){var e=lI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uc(t){t._valueTracker||(t._valueTracker=vC(t))}function uI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Em(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cI(t,e){e=e.checked,e!=null&&py(t,"checked",e,!1)}function Sm(t,e){cI(t,e);var n=Bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Im(t,e.type,n):e.hasOwnProperty("defaultValue")&&Im(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Im(t,e,n){(e!=="number"||Vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zl=Array.isArray;function Sa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(zl(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bs(n)}}function hI(t,e){var n=Bs(e.value),r=Bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fc,fI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_C=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){_C.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function pI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function gI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wC=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Am(t,e){if(e){if(wC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,Ia=null,ba=null;function mw(t){if(t=lc(t)){if(typeof Rm!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Jd(e),Rm(t.stateNode,t.type,e))}}function mI(t){Ia?ba?ba.push(t):ba=[t]:Ia=t}function yI(){if(Ia){var t=Ia,e=ba;if(ba=Ia=null,mw(t),e)for(t=0;t<e.length;t++)mw(e[t])}}function vI(t,e){return t(e)}function _I(){}var Lp=!1;function wI(t,e,n){if(Lp)return t(e,n);Lp=!0;try{return vI(t,e,n)}finally{Lp=!1,(Ia!==null||ba!==null)&&(_I(),yI())}}function Su(t,e){var n=t.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var Cm=!1;if(zi)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{Cm=!1}function EC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ru=!1,$h=null,jh=!1,Pm=null,SC={onError:function(t){ru=!0,$h=t}};function IC(t,e,n,r,i,s,o,a,l){ru=!1,$h=null,EC.apply(SC,arguments)}function bC(t,e,n,r,i,s,o,a,l){if(IC.apply(this,arguments),ru){if(ru){var u=$h;ru=!1,$h=null}else throw Error(ne(198));jh||(jh=!0,Pm=u)}}function Oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function EI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yw(t){if(Oo(t)!==t)throw Error(ne(188))}function xC(t){var e=t.alternate;if(!e){if(e=Oo(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yw(i),t;if(s===r)return yw(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function SI(t){return t=xC(t),t!==null?II(t):null}function II(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=II(t);if(e!==null)return e;t=t.sibling}return null}var bI=yr.unstable_scheduleCallback,vw=yr.unstable_cancelCallback,AC=yr.unstable_shouldYield,TC=yr.unstable_requestPaint,Pt=yr.unstable_now,kC=yr.unstable_getCurrentPriorityLevel,_y=yr.unstable_ImmediatePriority,xI=yr.unstable_UserBlockingPriority,zh=yr.unstable_NormalPriority,RC=yr.unstable_LowPriority,AI=yr.unstable_IdlePriority,Gd=null,fi=null;function CC(t){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(Gd,t,void 0,(t.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:MC,PC=Math.log,NC=Math.LN2;function MC(t){return t>>>=0,t===0?32:31-(PC(t)/NC|0)|0}var Vc=64,$c=4194304;function ql(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ql(a):(s&=o,s!==0&&(r=ql(s)))}else o=n&~i,o!==0?r=ql(o):s!==0&&(r=ql(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kr(e),i=1<<n,r|=t[n],e&=~i;return r}function LC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Kr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=LC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Nm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TI(){var t=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),t}function Bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kr(e),t[e]=n}function DC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function kI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RI,Ey,CI,PI,NI,Mm=!1,jc=[],Ss=null,Is=null,bs=null,Iu=new Map,bu=new Map,cs=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _w(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(e.pointerId)}}function Rl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lc(e),e!==null&&Ey(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UC(t,e,n,r,i){switch(e){case"focusin":return Ss=Rl(Ss,t,e,n,r,i),!0;case"dragenter":return Is=Rl(Is,t,e,n,r,i),!0;case"mouseover":return bs=Rl(bs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Iu.set(s,Rl(Iu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bu.set(s,Rl(bu.get(s)||null,t,e,n,r,i)),!0}return!1}function MI(t){var e=no(t.target);if(e!==null){var n=Oo(e);if(n!==null){if(e=n.tag,e===13){if(e=EI(n),e!==null){t.blockedOn=e,NI(t.priority,function(){CI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);km=r,n.target.dispatchEvent(r),km=null}else return e=lc(n),e!==null&&Ey(e),t.blockedOn=n,!1;e.shift()}return!0}function ww(t,e,n){wh(t)&&n.delete(e)}function FC(){Mm=!1,Ss!==null&&wh(Ss)&&(Ss=null),Is!==null&&wh(Is)&&(Is=null),bs!==null&&wh(bs)&&(bs=null),Iu.forEach(ww),bu.forEach(ww)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Mm||(Mm=!0,yr.unstable_scheduleCallback(yr.unstable_NormalPriority,FC)))}function xu(t){function e(i){return Cl(i,t)}if(0<jc.length){Cl(jc[0],t);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ss!==null&&Cl(Ss,t),Is!==null&&Cl(Is,t),bs!==null&&Cl(bs,t),Iu.forEach(e),bu.forEach(e),n=0;n<cs.length;n++)r=cs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)MI(n),n.blockedOn===null&&cs.shift()}var xa=Ji.ReactCurrentBatchConfig,Kh=!0;function VC(t,e,n,r){var i=Qe,s=xa.transition;xa.transition=null;try{Qe=1,Sy(t,e,n,r)}finally{Qe=i,xa.transition=s}}function $C(t,e,n,r){var i=Qe,s=xa.transition;xa.transition=null;try{Qe=4,Sy(t,e,n,r)}finally{Qe=i,xa.transition=s}}function Sy(t,e,n,r){if(Kh){var i=Lm(t,e,n,r);if(i===null)Kp(t,e,r,Wh,n),_w(t,r);else if(UC(i,t,e,n,r))r.stopPropagation();else if(_w(t,r),e&4&&-1<OC.indexOf(t)){for(;i!==null;){var s=lc(i);if(s!==null&&RI(s),s=Lm(t,e,n,r),s===null&&Kp(t,e,r,Wh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Kp(t,e,r,null,n)}}var Wh=null;function Lm(t,e,n,r){if(Wh=null,t=vy(r),t=no(t),t!==null)if(e=Oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=EI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wh=t,null}function LI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kC()){case _y:return 1;case xI:return 4;case zh:case RC:return 16;case AI:return 536870912;default:return 16}default:return 16}}var ms=null,Iy=null,Eh=null;function BI(){if(Eh)return Eh;var t,e=Iy,n=e.length,r,i="value"in ms?ms.value:ms.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Eh=i.slice(t,1<r?1-r:void 0)}function Sh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zc(){return!0}function Ew(){return!1}function wr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zc:Ew,this.isPropagationStopped=Ew,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},by=wr(al),ac=Et({},al,{view:0,detail:0}),jC=wr(ac),Dp,Op,Pl,Qd=Et({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(Dp=t.screenX-Pl.screenX,Op=t.screenY-Pl.screenY):Op=Dp=0,Pl=t),Dp)},movementY:function(t){return"movementY"in t?t.movementY:Op}}),Sw=wr(Qd),zC=Et({},Qd,{dataTransfer:0}),qC=wr(zC),KC=Et({},ac,{relatedTarget:0}),Up=wr(KC),WC=Et({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),HC=wr(WC),GC=Et({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QC=wr(GC),YC=Et({},al,{data:0}),Iw=wr(YC),XC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZC[t])?!!e[t]:!1}function xy(){return eP}var tP=Et({},ac,{key:function(t){if(t.key){var e=XC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xy,charCode:function(t){return t.type==="keypress"?Sh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nP=wr(tP),rP=Et({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bw=wr(rP),iP=Et({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xy}),sP=wr(iP),oP=Et({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),aP=wr(oP),lP=Et({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uP=wr(lP),cP=[9,13,27,32],Ay=zi&&"CompositionEvent"in window,iu=null;zi&&"documentMode"in document&&(iu=document.documentMode);var hP=zi&&"TextEvent"in window&&!iu,DI=zi&&(!Ay||iu&&8<iu&&11>=iu),xw=String.fromCharCode(32),Aw=!1;function OI(t,e){switch(t){case"keyup":return cP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function dP(t,e){switch(t){case"compositionend":return UI(e);case"keypress":return e.which!==32?null:(Aw=!0,xw);case"textInput":return t=e.data,t===xw&&Aw?null:t;default:return null}}function fP(t,e){if(ua)return t==="compositionend"||!Ay&&OI(t,e)?(t=BI(),Eh=Iy=ms=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DI&&e.locale!=="ko"?null:e.data;default:return null}}var pP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pP[t.type]:e==="textarea"}function FI(t,e,n,r){mI(r),e=Hh(e,"onChange"),0<e.length&&(n=new by("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var su=null,Au=null;function gP(t){YI(t,0)}function Yd(t){var e=da(t);if(uI(e))return t}function mP(t,e){if(t==="change")return e}var VI=!1;if(zi){var Fp;if(zi){var Vp="oninput"in document;if(!Vp){var kw=document.createElement("div");kw.setAttribute("oninput","return;"),Vp=typeof kw.oninput=="function"}Fp=Vp}else Fp=!1;VI=Fp&&(!document.documentMode||9<document.documentMode)}function Rw(){su&&(su.detachEvent("onpropertychange",$I),Au=su=null)}function $I(t){if(t.propertyName==="value"&&Yd(Au)){var e=[];FI(e,Au,t,vy(t)),wI(gP,e)}}function yP(t,e,n){t==="focusin"?(Rw(),su=e,Au=n,su.attachEvent("onpropertychange",$I)):t==="focusout"&&Rw()}function vP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(Au)}function _P(t,e){if(t==="click")return Yd(e)}function wP(t,e){if(t==="input"||t==="change")return Yd(e)}function EP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yr=typeof Object.is=="function"?Object.is:EP;function Tu(t,e){if(Yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mm.call(e,i)||!Yr(t[i],e[i]))return!1}return!0}function Cw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pw(t,e){var n=Cw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cw(n)}}function jI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zI(){for(var t=window,e=Vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vh(t.document)}return e}function Ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SP(t){var e=zI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jI(n.ownerDocument.documentElement,n)){if(r!==null&&Ty(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Pw(n,s);var o=Pw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IP=zi&&"documentMode"in document&&11>=document.documentMode,ca=null,Bm=null,ou=null,Dm=!1;function Nw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dm||ca==null||ca!==Vh(r)||(r=ca,"selectionStart"in r&&Ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ou&&Tu(ou,r)||(ou=r,r=Hh(Bm,"onSelect"),0<r.length&&(e=new by("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ca)))}function qc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ha={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},$p={},qI={};zi&&(qI=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Xd(t){if($p[t])return $p[t];if(!ha[t])return t;var e=ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qI)return $p[t]=e[n];return t}var KI=Xd("animationend"),WI=Xd("animationiteration"),HI=Xd("animationstart"),GI=Xd("transitionend"),QI=new Map,Mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(t,e){QI.set(t,e),Do(e,[t])}for(var jp=0;jp<Mw.length;jp++){var zp=Mw[jp],bP=zp.toLowerCase(),xP=zp[0].toUpperCase()+zp.slice(1);js(bP,"on"+xP)}js(KI,"onAnimationEnd");js(WI,"onAnimationIteration");js(HI,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(GI,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function Lw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bC(r,e,void 0,t),t.currentTarget=null}function YI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Lw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Lw(i,a,u),s=l}}}if(jh)throw t=Pm,jh=!1,Pm=null,t}function at(t,e){var n=e[$m];n===void 0&&(n=e[$m]=new Set);var r=t+"__bubble";n.has(r)||(XI(e,t,2,!1),n.add(r))}function qp(t,e,n){var r=0;e&&(r|=4),XI(n,t,r,e)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function ku(t){if(!t[Kc]){t[Kc]=!0,iI.forEach(function(n){n!=="selectionchange"&&(AP.has(n)||qp(n,!1,t),qp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kc]||(e[Kc]=!0,qp("selectionchange",!1,e))}}function XI(t,e,n,r){switch(LI(e)){case 1:var i=VC;break;case 4:i=$C;break;default:i=Sy}n=i.bind(null,e,n,t),i=void 0,!Cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=no(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}wI(function(){var u=s,c=vy(n),f=[];e:{var v=QI.get(t);if(v!==void 0){var _=by,x=t;switch(t){case"keypress":if(Sh(n)===0)break e;case"keydown":case"keyup":_=nP;break;case"focusin":x="focus",_=Up;break;case"focusout":x="blur",_=Up;break;case"beforeblur":case"afterblur":_=Up;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=qC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=sP;break;case KI:case WI:case HI:_=HC;break;case GI:_=aP;break;case"scroll":_=jC;break;case"wheel":_=uP;break;case"copy":case"cut":case"paste":_=QC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=bw}var I=(e&4)!==0,b=!I&&t==="scroll",w=I?v!==null?v+"Capture":null:v;I=[];for(var E=u,m;E!==null;){m=E;var M=m.stateNode;if(m.tag===5&&M!==null&&(m=M,w!==null&&(M=Su(E,w),M!=null&&I.push(Ru(E,M,m)))),b)break;E=E.return}0<I.length&&(v=new _(v,x,null,n,c),f.push({event:v,listeners:I}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",v&&n!==km&&(x=n.relatedTarget||n.fromElement)&&(no(x)||x[qi]))break e;if((_||v)&&(v=c.window===c?c:(v=c.ownerDocument)?v.defaultView||v.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=u,x=x?no(x):null,x!==null&&(b=Oo(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=u),_!==x)){if(I=Sw,M="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(I=bw,M="onPointerLeave",w="onPointerEnter",E="pointer"),b=_==null?v:da(_),m=x==null?v:da(x),v=new I(M,E+"leave",_,n,c),v.target=b,v.relatedTarget=m,M=null,no(c)===u&&(I=new I(w,E+"enter",x,n,c),I.target=m,I.relatedTarget=b,M=I),b=M,_&&x)t:{for(I=_,w=x,E=0,m=I;m;m=Xo(m))E++;for(m=0,M=w;M;M=Xo(M))m++;for(;0<E-m;)I=Xo(I),E--;for(;0<m-E;)w=Xo(w),m--;for(;E--;){if(I===w||w!==null&&I===w.alternate)break t;I=Xo(I),w=Xo(w)}I=null}else I=null;_!==null&&Bw(f,v,_,I,!1),x!==null&&b!==null&&Bw(f,b,x,I,!0)}}e:{if(v=u?da(u):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var N=mP;else if(Tw(v))if(VI)N=wP;else{N=vP;var O=yP}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=_P);if(N&&(N=N(t,u))){FI(f,N,n,c);break e}O&&O(t,v,u),t==="focusout"&&(O=v._wrapperState)&&O.controlled&&v.type==="number"&&Im(v,"number",v.value)}switch(O=u?da(u):window,t){case"focusin":(Tw(O)||O.contentEditable==="true")&&(ca=O,Bm=u,ou=null);break;case"focusout":ou=Bm=ca=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,Nw(f,n,c);break;case"selectionchange":if(IP)break;case"keydown":case"keyup":Nw(f,n,c)}var F;if(Ay)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else ua?OI(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(DI&&n.locale!=="ko"&&(ua||V!=="onCompositionStart"?V==="onCompositionEnd"&&ua&&(F=BI()):(ms=c,Iy="value"in ms?ms.value:ms.textContent,ua=!0)),O=Hh(u,V),0<O.length&&(V=new Iw(V,t,null,n,c),f.push({event:V,listeners:O}),F?V.data=F:(F=UI(n),F!==null&&(V.data=F)))),(F=hP?dP(t,n):fP(t,n))&&(u=Hh(u,"onBeforeInput"),0<u.length&&(c=new Iw("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=F))}YI(f,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Su(t,n),s!=null&&r.unshift(Ru(t,s,i)),s=Su(t,e),s!=null&&r.push(Ru(t,s,i))),t=t.return}return r}function Xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Su(n,s),l!=null&&o.unshift(Ru(n,l,a))):i||(l=Su(n,s),l!=null&&o.push(Ru(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TP=/\r\n?/g,kP=/\u0000|\uFFFD/g;function Dw(t){return(typeof t=="string"?t:""+t).replace(TP,`
`).replace(kP,"")}function Wc(t,e,n){if(e=Dw(e),Dw(t)!==e&&n)throw Error(ne(425))}function Gh(){}var Om=null,Um=null;function Fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,RP=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,CP=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(t){return Ow.resolve(null).then(t).catch(PP)}:Vm;function PP(t){setTimeout(function(){throw t})}function Wp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xu(e)}function xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ll=Math.random().toString(36).slice(2),ii="__reactFiber$"+ll,Cu="__reactProps$"+ll,qi="__reactContainer$"+ll,$m="__reactEvents$"+ll,NP="__reactListeners$"+ll,MP="__reactHandles$"+ll;function no(t){var e=t[ii];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qi]||n[ii]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uw(t);t!==null;){if(n=t[ii])return n;t=Uw(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[ii]||t[qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Jd(t){return t[Cu]||null}var jm=[],fa=-1;function zs(t){return{current:t}}function ct(t){0>fa||(t.current=jm[fa],jm[fa]=null,fa--)}function rt(t,e){fa++,jm[fa]=t.current,t.current=e}var Ds={},Fn=zs(Ds),or=zs(!1),wo=Ds;function Fa(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ar(t){return t=t.childContextTypes,t!=null}function Qh(){ct(or),ct(Fn)}function Fw(t,e,n){if(Fn.current!==Ds)throw Error(ne(168));rt(Fn,e),rt(or,n)}function JI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,yC(t)||"Unknown",i));return Et({},n,r)}function Yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,wo=Fn.current,rt(Fn,t),rt(or,or.current),!0}function Vw(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=JI(t,e,wo),r.__reactInternalMemoizedMergedChildContext=t,ct(or),ct(Fn),rt(Fn,t)):ct(or),rt(or,n)}var Pi=null,Zd=!1,Hp=!1;function ZI(t){Pi===null?Pi=[t]:Pi.push(t)}function LP(t){Zd=!0,ZI(t)}function qs(){if(!Hp&&Pi!==null){Hp=!0;var t=0,e=Qe;try{var n=Pi;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pi=null,Zd=!1}catch(i){throw Pi!==null&&(Pi=Pi.slice(t+1)),bI(_y,qs),i}finally{Qe=e,Hp=!1}}return null}var pa=[],ga=0,Xh=null,Jh=0,Rr=[],Cr=0,Eo=null,Li=1,Bi="";function Ys(t,e){pa[ga++]=Jh,pa[ga++]=Xh,Xh=t,Jh=e}function eb(t,e,n){Rr[Cr++]=Li,Rr[Cr++]=Bi,Rr[Cr++]=Eo,Eo=t;var r=Li;t=Bi;var i=32-Kr(r)-1;r&=~(1<<i),n+=1;var s=32-Kr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Li=1<<32-Kr(e)+i|n<<i|r,Bi=s+t}else Li=1<<s|n<<i|r,Bi=t}function ky(t){t.return!==null&&(Ys(t,1),eb(t,1,0))}function Ry(t){for(;t===Xh;)Xh=pa[--ga],pa[ga]=null,Jh=pa[--ga],pa[ga]=null;for(;t===Eo;)Eo=Rr[--Cr],Rr[Cr]=null,Bi=Rr[--Cr],Rr[Cr]=null,Li=Rr[--Cr],Rr[Cr]=null}var mr=null,fr=null,gt=!1,qr=null;function tb(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $w(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,fr=xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eo!==null?{id:Li,overflow:Bi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,fr=null,!0):!1;default:return!1}}function zm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qm(t){if(gt){var e=fr;if(e){var n=e;if(!$w(t,e)){if(zm(t))throw Error(ne(418));e=xs(n.nextSibling);var r=mr;e&&$w(t,e)?tb(r,n):(t.flags=t.flags&-4097|2,gt=!1,mr=t)}}else{if(zm(t))throw Error(ne(418));t.flags=t.flags&-4097|2,gt=!1,mr=t}}}function jw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Hc(t){if(t!==mr)return!1;if(!gt)return jw(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fm(t.type,t.memoizedProps)),e&&(e=fr)){if(zm(t))throw nb(),Error(ne(418));for(;e;)tb(t,e),e=xs(e.nextSibling)}if(jw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fr=xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=mr?xs(t.stateNode.nextSibling):null;return!0}function nb(){for(var t=fr;t;)t=xs(t.nextSibling)}function Va(){fr=mr=null,gt=!1}function Cy(t){qr===null?qr=[t]:qr.push(t)}var BP=Ji.ReactCurrentBatchConfig;function jr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Zh=zs(null),ed=null,ma=null,Py=null;function Ny(){Py=ma=ed=null}function My(t){var e=Zh.current;ct(Zh),t._currentValue=e}function Km(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Aa(t,e){ed=t,Py=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sr=!0),t.firstContext=null)}function Dr(t){var e=t._currentValue;if(Py!==t)if(t={context:t,memoizedValue:e,next:null},ma===null){if(ed===null)throw Error(ne(308));ma=t,ed.dependencies={lanes:0,firstContext:t}}else ma=ma.next=t;return e}var ro=null;function Ly(t){ro===null?ro=[t]:ro.push(t)}function rb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ly(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ki(t,r)}function Ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function By(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ib(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ki(t,n)}return i=r.interleaved,i===null?(e.next=e,Ly(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ki(t,n)}function Ih(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}function zw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function td(t,e,n,r){var i=t.updateQueue;us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var v=a.lane,_=a.eventTime;if((r&v)===v){c!==null&&(c=c.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,I=a;switch(v=e,_=n,I.tag){case 1:if(x=I.payload,typeof x=="function"){f=x.call(_,f,v);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=I.payload,v=typeof x=="function"?x.call(_,f,v):x,v==null)break e;f=Et({},f,v);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else _={eventTime:_,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=_,l=f):c=c.next=_,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Io|=o,t.lanes=o,t.memoizedState=f}}function qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var sb=new rI.Component().refs;function Wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ef={isMounted:function(t){return(t=t._reactInternals)?Oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=ks(t),s=Fi(r,i);s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(Wr(e,t,i,r),Ih(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=ks(t),s=Fi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=As(t,s,i),e!==null&&(Wr(e,t,i,r),Ih(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=ks(t),i=Fi(n,r);i.tag=2,e!=null&&(i.callback=e),e=As(t,i,r),e!==null&&(Wr(e,t,r,n),Ih(e,t,r))}};function Kw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tu(n,r)||!Tu(i,s):!0}function ob(t,e,n){var r=!1,i=Ds,s=e.contextType;return typeof s=="object"&&s!==null?s=Dr(s):(i=ar(e)?wo:Fn.current,r=e.contextTypes,s=(r=r!=null)?Fa(t,i):Ds),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ef,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ww(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function Hm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=sb,By(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dr(s):(s=ar(e)?wo:Fn.current,i.context=Fa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ef.enqueueReplaceState(i,i.state,null),td(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===sb&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Gc(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hw(t){var e=t._init;return e(t._payload)}function ab(t){function e(w,E){if(t){var m=w.deletions;m===null?(w.deletions=[E],w.flags|=16):m.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=Rs(w,E),w.index=0,w.sibling=null,w}function s(w,E,m){return w.index=m,t?(m=w.alternate,m!==null?(m=m.index,m<E?(w.flags|=2,E):m):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,m,M){return E===null||E.tag!==6?(E=eg(m,w.mode,M),E.return=w,E):(E=i(E,m),E.return=w,E)}function l(w,E,m,M){var N=m.type;return N===la?c(w,E,m.props.children,M,m.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ls&&Hw(N)===E.type)?(M=i(E,m.props),M.ref=Nl(w,E,m),M.return=w,M):(M=Rh(m.type,m.key,m.props,null,w.mode,M),M.ref=Nl(w,E,m),M.return=w,M)}function u(w,E,m,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==m.containerInfo||E.stateNode.implementation!==m.implementation?(E=tg(m,w.mode,M),E.return=w,E):(E=i(E,m.children||[]),E.return=w,E)}function c(w,E,m,M,N){return E===null||E.tag!==7?(E=ho(m,w.mode,M,N),E.return=w,E):(E=i(E,m),E.return=w,E)}function f(w,E,m){if(typeof E=="string"&&E!==""||typeof E=="number")return E=eg(""+E,w.mode,m),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Oc:return m=Rh(E.type,E.key,E.props,null,w.mode,m),m.ref=Nl(w,null,E),m.return=w,m;case aa:return E=tg(E,w.mode,m),E.return=w,E;case ls:var M=E._init;return f(w,M(E._payload),m)}if(zl(E)||Tl(E))return E=ho(E,w.mode,m,null),E.return=w,E;Gc(w,E)}return null}function v(w,E,m,M){var N=E!==null?E.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:a(w,E,""+m,M);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Oc:return m.key===N?l(w,E,m,M):null;case aa:return m.key===N?u(w,E,m,M):null;case ls:return N=m._init,v(w,E,N(m._payload),M)}if(zl(m)||Tl(m))return N!==null?null:c(w,E,m,M,null);Gc(w,m)}return null}function _(w,E,m,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(m)||null,a(E,w,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Oc:return w=w.get(M.key===null?m:M.key)||null,l(E,w,M,N);case aa:return w=w.get(M.key===null?m:M.key)||null,u(E,w,M,N);case ls:var O=M._init;return _(w,E,m,O(M._payload),N)}if(zl(M)||Tl(M))return w=w.get(m)||null,c(E,w,M,N,null);Gc(E,M)}return null}function x(w,E,m,M){for(var N=null,O=null,F=E,V=E=0,J=null;F!==null&&V<m.length;V++){F.index>V?(J=F,F=null):J=F.sibling;var Z=v(w,F,m[V],M);if(Z===null){F===null&&(F=J);break}t&&F&&Z.alternate===null&&e(w,F),E=s(Z,E,V),O===null?N=Z:O.sibling=Z,O=Z,F=J}if(V===m.length)return n(w,F),gt&&Ys(w,V),N;if(F===null){for(;V<m.length;V++)F=f(w,m[V],M),F!==null&&(E=s(F,E,V),O===null?N=F:O.sibling=F,O=F);return gt&&Ys(w,V),N}for(F=r(w,F);V<m.length;V++)J=_(F,w,V,m[V],M),J!==null&&(t&&J.alternate!==null&&F.delete(J.key===null?V:J.key),E=s(J,E,V),O===null?N=J:O.sibling=J,O=J);return t&&F.forEach(function(re){return e(w,re)}),gt&&Ys(w,V),N}function I(w,E,m,M){var N=Tl(m);if(typeof N!="function")throw Error(ne(150));if(m=N.call(m),m==null)throw Error(ne(151));for(var O=N=null,F=E,V=E=0,J=null,Z=m.next();F!==null&&!Z.done;V++,Z=m.next()){F.index>V?(J=F,F=null):J=F.sibling;var re=v(w,F,Z.value,M);if(re===null){F===null&&(F=J);break}t&&F&&re.alternate===null&&e(w,F),E=s(re,E,V),O===null?N=re:O.sibling=re,O=re,F=J}if(Z.done)return n(w,F),gt&&Ys(w,V),N;if(F===null){for(;!Z.done;V++,Z=m.next())Z=f(w,Z.value,M),Z!==null&&(E=s(Z,E,V),O===null?N=Z:O.sibling=Z,O=Z);return gt&&Ys(w,V),N}for(F=r(w,F);!Z.done;V++,Z=m.next())Z=_(F,w,V,Z.value,M),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?V:Z.key),E=s(Z,E,V),O===null?N=Z:O.sibling=Z,O=Z);return t&&F.forEach(function(_e){return e(w,_e)}),gt&&Ys(w,V),N}function b(w,E,m,M){if(typeof m=="object"&&m!==null&&m.type===la&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Oc:e:{for(var N=m.key,O=E;O!==null;){if(O.key===N){if(N=m.type,N===la){if(O.tag===7){n(w,O.sibling),E=i(O,m.props.children),E.return=w,w=E;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ls&&Hw(N)===O.type){n(w,O.sibling),E=i(O,m.props),E.ref=Nl(w,O,m),E.return=w,w=E;break e}n(w,O);break}else e(w,O);O=O.sibling}m.type===la?(E=ho(m.props.children,w.mode,M,m.key),E.return=w,w=E):(M=Rh(m.type,m.key,m.props,null,w.mode,M),M.ref=Nl(w,E,m),M.return=w,w=M)}return o(w);case aa:e:{for(O=m.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===m.containerInfo&&E.stateNode.implementation===m.implementation){n(w,E.sibling),E=i(E,m.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=tg(m,w.mode,M),E.return=w,w=E}return o(w);case ls:return O=m._init,b(w,E,O(m._payload),M)}if(zl(m))return x(w,E,m,M);if(Tl(m))return I(w,E,m,M);Gc(w,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,m),E.return=w,w=E):(n(w,E),E=eg(m,w.mode,M),E.return=w,w=E),o(w)):n(w,E)}return b}var $a=ab(!0),lb=ab(!1),uc={},pi=zs(uc),Pu=zs(uc),Nu=zs(uc);function io(t){if(t===uc)throw Error(ne(174));return t}function Dy(t,e){switch(rt(Nu,e),rt(Pu,t),rt(pi,uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xm(e,t)}ct(pi),rt(pi,e)}function ja(){ct(pi),ct(Pu),ct(Nu)}function ub(t){io(Nu.current);var e=io(pi.current),n=xm(e,t.type);e!==n&&(rt(Pu,t),rt(pi,n))}function Oy(t){Pu.current===t&&(ct(pi),ct(Pu))}var mt=zs(0);function nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gp=[];function Uy(){for(var t=0;t<Gp.length;t++)Gp[t]._workInProgressVersionPrimary=null;Gp.length=0}var bh=Ji.ReactCurrentDispatcher,Qp=Ji.ReactCurrentBatchConfig,So=0,_t=null,tn=null,an=null,rd=!1,au=!1,Mu=0,DP=0;function Tn(){throw Error(ne(321))}function Fy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}function Vy(t,e,n,r,i,s){if(So=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bh.current=t===null||t.memoizedState===null?VP:$P,t=n(r,i),au){s=0;do{if(au=!1,Mu=0,25<=s)throw Error(ne(301));s+=1,an=tn=null,e.updateQueue=null,bh.current=jP,t=n(r,i)}while(au)}if(bh.current=id,e=tn!==null&&tn.next!==null,So=0,an=tn=_t=null,rd=!1,e)throw Error(ne(300));return t}function $y(){var t=Mu!==0;return Mu=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?_t.memoizedState=an=t:an=an.next=t,an}function Or(){if(tn===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=an===null?_t.memoizedState:an.next;if(e!==null)an=e,tn=t;else{if(t===null)throw Error(ne(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},an===null?_t.memoizedState=an=t:an=an.next=t}return an}function Lu(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=Or(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=tn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((So&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,_t.lanes|=c,Io|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Yr(r,e.memoizedState)||(sr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,Io|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xp(t){var e=Or(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yr(s,e.memoizedState)||(sr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cb(){}function hb(t,e){var n=_t,r=Or(),i=e(),s=!Yr(r.memoizedState,i);if(s&&(r.memoizedState=i,sr=!0),r=r.queue,jy(pb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,Bu(9,fb.bind(null,n,r,i,e),void 0,null),un===null)throw Error(ne(349));So&30||db(n,e,i)}return i}function db(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fb(t,e,n,r){e.value=n,e.getSnapshot=r,gb(e)&&mb(t)}function pb(t,e,n){return n(function(){gb(e)&&mb(t)})}function gb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yr(t,n)}catch{return!0}}function mb(t){var e=Ki(t,1);e!==null&&Wr(e,t,1,-1)}function Gw(t){var e=ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:t},e.queue=t,t=t.dispatch=FP.bind(null,_t,t),[e.memoizedState,t]}function Bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yb(){return Or().memoizedState}function xh(t,e,n,r){var i=ri();_t.flags|=t,i.memoizedState=Bu(1|e,n,void 0,r===void 0?null:r)}function tf(t,e,n,r){var i=Or();r=r===void 0?null:r;var s=void 0;if(tn!==null){var o=tn.memoizedState;if(s=o.destroy,r!==null&&Fy(r,o.deps)){i.memoizedState=Bu(e,n,s,r);return}}_t.flags|=t,i.memoizedState=Bu(1|e,n,s,r)}function Qw(t,e){return xh(8390656,8,t,e)}function jy(t,e){return tf(2048,8,t,e)}function vb(t,e){return tf(4,2,t,e)}function _b(t,e){return tf(4,4,t,e)}function wb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Eb(t,e,n){return n=n!=null?n.concat([t]):null,tf(4,4,wb.bind(null,e,t),n)}function zy(){}function Sb(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ib(t,e){var n=Or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bb(t,e,n){return So&21?(Yr(n,e)||(n=TI(),_t.lanes|=n,Io|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sr=!0),t.memoizedState=n)}function OP(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Qp.transition;Qp.transition={};try{t(!1),e()}finally{Qe=n,Qp.transition=r}}function xb(){return Or().memoizedState}function UP(t,e,n){var r=ks(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ab(t))Tb(e,n);else if(n=rb(t,e,n,r),n!==null){var i=Qn();Wr(n,t,r,i),kb(n,e,r)}}function FP(t,e,n){var r=ks(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ab(t))Tb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yr(a,o)){var l=e.interleaved;l===null?(i.next=i,Ly(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=rb(t,e,i,r),n!==null&&(i=Qn(),Wr(n,t,r,i),kb(n,e,r))}}function Ab(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function Tb(t,e){au=rd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wy(t,n)}}var id={readContext:Dr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},VP={readContext:Dr,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:Dr,useEffect:Qw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xh(4194308,4,wb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return xh(4,2,t,e)},useMemo:function(t,e){var n=ri();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ri();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UP.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:Gw,useDebugValue:zy,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=Gw(!1),e=t[0];return t=OP.bind(null,t[1]),ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=ri();if(gt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),un===null)throw Error(ne(349));So&30||db(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qw(pb.bind(null,r,s,t),[t]),r.flags|=2048,Bu(9,fb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ri(),e=un.identifierPrefix;if(gt){var n=Bi,r=Li;n=(r&~(1<<32-Kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$P={readContext:Dr,useCallback:Sb,useContext:Dr,useEffect:jy,useImperativeHandle:Eb,useInsertionEffect:vb,useLayoutEffect:_b,useMemo:Ib,useReducer:Yp,useRef:yb,useState:function(){return Yp(Lu)},useDebugValue:zy,useDeferredValue:function(t){var e=Or();return bb(e,tn.memoizedState,t)},useTransition:function(){var t=Yp(Lu)[0],e=Or().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:hb,useId:xb,unstable_isNewReconciler:!1},jP={readContext:Dr,useCallback:Sb,useContext:Dr,useEffect:jy,useImperativeHandle:Eb,useInsertionEffect:vb,useLayoutEffect:_b,useMemo:Ib,useReducer:Xp,useRef:yb,useState:function(){return Xp(Lu)},useDebugValue:zy,useDeferredValue:function(t){var e=Or();return tn===null?e.memoizedState=t:bb(e,tn.memoizedState,t)},useTransition:function(){var t=Xp(Lu)[0],e=Or().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:hb,useId:xb,unstable_isNewReconciler:!1};function za(t,e){try{var n="",r=e;do n+=mC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zP=typeof WeakMap=="function"?WeakMap:Map;function Rb(t,e,n){n=Fi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){od||(od=!0,i0=r),Gm(t,e)},n}function Cb(t,e,n){n=Fi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gm(t,e),typeof r!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rN.bind(null,t,e,n),e.then(t,t))}function Xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fi(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var qP=Ji.ReactCurrentOwner,sr=!1;function Kn(t,e,n,r){e.child=t===null?lb(e,null,n,r):$a(e,t.child,n,r)}function Zw(t,e,n,r,i){n=n.render;var s=e.ref;return Aa(e,i),r=Vy(t,e,n,r,s,i),n=$y(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wi(t,e,i)):(gt&&n&&ky(e),e.flags|=1,Kn(t,e,r,i),e.child)}function e1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Pb(t,e,s,r,i)):(t=Rh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tu,n(o,r)&&t.ref===e.ref)return Wi(t,e,i)}return e.flags|=1,t=Rs(s,r),t.ref=e.ref,t.return=e,e.child=t}function Pb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tu(s,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,Wi(t,e,i)}return Qm(t,e,n,r,i)}function Nb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(va,hr),hr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(va,hr),hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(va,hr),hr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(va,hr),hr|=r;return Kn(t,e,i,n),e.child}function Mb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qm(t,e,n,r,i){var s=ar(n)?wo:Fn.current;return s=Fa(e,s),Aa(e,i),n=Vy(t,e,n,r,s,i),r=$y(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wi(t,e,i)):(gt&&r&&ky(e),e.flags|=1,Kn(t,e,n,i),e.child)}function t1(t,e,n,r,i){if(ar(n)){var s=!0;Yh(e)}else s=!1;if(Aa(e,i),e.stateNode===null)Ah(t,e),ob(e,n,r),Hm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dr(u):(u=ar(n)?wo:Fn.current,u=Fa(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ww(e,o,r,u),us=!1;var v=e.memoizedState;o.state=v,td(e,r,o,i),l=e.memoizedState,a!==r||v!==l||or.current||us?(typeof c=="function"&&(Wm(e,n,c,r),l=e.memoizedState),(a=us||Kw(e,n,a,r,v,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ib(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:jr(e.type,a),o.props=u,f=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dr(l):(l=ar(n)?wo:Fn.current,l=Fa(e,l));var _=n.getDerivedStateFromProps;(c=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||v!==l)&&Ww(e,o,r,l),us=!1,v=e.memoizedState,o.state=v,td(e,r,o,i);var x=e.memoizedState;a!==f||v!==x||or.current||us?(typeof _=="function"&&(Wm(e,n,_,r),x=e.memoizedState),(u=us||Kw(e,n,u,r,v,x,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Ym(t,e,n,r,s,i)}function Ym(t,e,n,r,i,s){Mb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vw(e,n,!1),Wi(t,e,s);r=e.stateNode,qP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,s),e.child=$a(e,null,a,s)):Kn(t,e,a,s),e.memoizedState=r.state,i&&Vw(e,n,!0),e.child}function Lb(t){var e=t.stateNode;e.pendingContext?Fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fw(t,e.context,!1),Dy(t,e.containerInfo)}function n1(t,e,n,r,i){return Va(),Cy(i),e.flags|=256,Kn(t,e,n,r),e.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Jm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bb(t,e,n){var r=e.pendingProps,i=mt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(mt,i&1),t===null)return qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sf(o,r,0,null),t=ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jm(n),e.memoizedState=Xm,t):qy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Rs(a,s):(s=ho(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Jm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xm,r}return s=t.child,t=s.sibling,r=Rs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qy(t,e){return e=sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qc(t,e,n,r){return r!==null&&Cy(r),$a(e,t.child,null,n),t=qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Jp(Error(ne(422))),Qc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sf({mode:"visible",children:r.children},i,0,null),s=ho(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=Jm(o),e.memoizedState=Xm,s);if(!(e.mode&1))return Qc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=Jp(s,r,void 0),Qc(t,e,o,r)}if(a=(o&t.childLanes)!==0,sr||a){if(r=un,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ki(t,i),Wr(r,t,i,-1))}return Yy(),r=Jp(Error(ne(421))),Qc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fr=xs(i.nextSibling),mr=e,gt=!0,qr=null,t!==null&&(Rr[Cr++]=Li,Rr[Cr++]=Bi,Rr[Cr++]=Eo,Li=t.id,Bi=t.overflow,Eo=e),e=qy(e,r.children),e.flags|=4096,e)}function r1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Km(t.return,e,n)}function Zp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Db(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r1(t,n,e);else if(t.tag===19)r1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zp(e,!0,n,null,s);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WP(t,e,n){switch(e.tag){case 3:Lb(e),Va();break;case 5:ub(e);break;case 1:ar(e.type)&&Yh(e);break;case 4:Dy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Zh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?Bb(t,e,n):(rt(mt,mt.current&1),t=Wi(t,e,n),t!==null?t.sibling:null);rt(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Db(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,Nb(t,e,n)}return Wi(t,e,n)}var Ob,Zm,Ub,Fb;Ob=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zm=function(){};Ub=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,io(pi.current);var s=null;switch(n){case"input":i=Em(t,i),r=Em(t,r),s=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),s=[];break;case"textarea":i=bm(t,i),r=bm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gh)}Am(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&at("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Fb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ml(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HP(t,e,n){var r=e.pendingProps;switch(Ry(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return ar(e.type)&&Qh(),kn(e),null;case 3:return r=e.stateNode,ja(),ct(or),ct(Fn),Uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qr!==null&&(a0(qr),qr=null))),Zm(t,e),kn(e),null;case 5:Oy(e);var i=io(Nu.current);if(n=e.type,t!==null&&e.stateNode!=null)Ub(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return kn(e),null}if(t=io(pi.current),Hc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ii]=e,r[Cu]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<Kl.length;i++)at(Kl[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":dw(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":pw(r,s),at("invalid",r)}Am(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),i=["children",""+a]):wu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":Uc(r),fw(r,s,!0);break;case"textarea":Uc(r),gw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ii]=e,t[Cu]=r,Ob(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tm(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kl.length;i++)at(Kl[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":dw(t,r),i=Em(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),at("invalid",t);break;case"textarea":pw(t,r),i=bm(t,r),at("invalid",t);break;default:i=r}Am(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eu(t,l):typeof l=="number"&&Eu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",t):l!=null&&py(t,s,l,o))}switch(n){case"input":Uc(t),fw(t,r,!1);break;case"textarea":Uc(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Sa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Sa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)Fb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=io(Nu.current),io(pi.current),Hc(e)){if(r=e.stateNode,n=e.memoizedProps,r[ii]=e,(s=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:Wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ii]=e,e.stateNode=r}return kn(e),null;case 13:if(ct(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&fr!==null&&e.mode&1&&!(e.flags&128))nb(),Va(),e.flags|=98560,s=!1;else if(s=Hc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[ii]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),s=!1}else qr!==null&&(a0(qr),qr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?rn===0&&(rn=3):Yy())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return ja(),Zm(t,e),t===null&&ku(e.stateNode.containerInfo),kn(e),null;case 10:return My(e.type._context),kn(e),null;case 17:return ar(e.type)&&Qh(),kn(e),null;case 19:if(ct(mt),s=e.memoizedState,s===null)return kn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ml(s,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nd(t),o!==null){for(e.flags|=128,Ml(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>qa&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304)}else{if(!r)if(t=nd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return kn(e),null}else 2*Pt()-s.renderingStartTime>qa&&n!==1073741824&&(e.flags|=128,r=!0,Ml(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,n=mt.current,rt(mt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return Qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function GP(t,e){switch(Ry(e),e.tag){case 1:return ar(e.type)&&Qh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ja(),ct(or),ct(Fn),Uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oy(e),null;case 13:if(ct(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));Va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(mt),null;case 4:return ja(),null;case 10:return My(e.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var Yc=!1,Bn=!1,QP=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ya(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function e0(t,e,n){try{n()}catch(r){At(t,e,r)}}var i1=!1;function YP(t,e){if(Om=Kh,t=zI(),Ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,v=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)v=f,f=_;for(;;){if(f===t)break t;if(v===n&&++u===i&&(a=o),v===s&&++c===r&&(l=o),(_=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=_}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Um={focusedElem:t,selectionRange:n},Kh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var I=x.memoizedProps,b=x.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?I:jr(e.type,I),b);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(M){At(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return x=i1,i1=!1,x}function lu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&e0(e,n,s)}i=i.next}while(i!==r)}}function nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function t0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vb(t){var e=t.alternate;e!==null&&(t.alternate=null,Vb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ii],delete e[Cu],delete e[$m],delete e[NP],delete e[MP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $b(t){return t.tag===5||t.tag===3||t.tag===4}function s1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$b(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gh));else if(r!==4&&(t=t.child,t!==null))for(n0(t,e,n),t=t.sibling;t!==null;)n0(t,e,n),t=t.sibling}function r0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(r0(t,e,n),t=t.sibling;t!==null;)r0(t,e,n),t=t.sibling}var pn=null,zr=!1;function es(t,e,n){for(n=n.child;n!==null;)jb(t,e,n),n=n.sibling}function jb(t,e,n){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(Gd,n)}catch{}switch(n.tag){case 5:Bn||ya(n,e);case 6:var r=pn,i=zr;pn=null,es(t,e,n),pn=r,zr=i,pn!==null&&(zr?(t=pn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pn.removeChild(n.stateNode));break;case 18:pn!==null&&(zr?(t=pn,n=n.stateNode,t.nodeType===8?Wp(t.parentNode,n):t.nodeType===1&&Wp(t,n),xu(t)):Wp(pn,n.stateNode));break;case 4:r=pn,i=zr,pn=n.stateNode.containerInfo,zr=!0,es(t,e,n),pn=r,zr=i;break;case 0:case 11:case 14:case 15:if(!Bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&e0(n,e,o),i=i.next}while(i!==r)}es(t,e,n);break;case 1:if(!Bn&&(ya(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(Bn=(r=Bn)||n.memoizedState!==null,es(t,e,n),Bn=r):es(t,e,n);break;default:es(t,e,n)}}function o1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QP),e.forEach(function(r){var i=sN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pn=a.stateNode,zr=!1;break e;case 3:pn=a.stateNode.containerInfo,zr=!0;break e;case 4:pn=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(pn===null)throw Error(ne(160));jb(s,o,i),pn=null,zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){At(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zb(e,t),e=e.sibling}function zb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fr(e,t),ti(t),r&4){try{lu(3,t,t.return),nf(3,t)}catch(I){At(t,t.return,I)}try{lu(5,t,t.return)}catch(I){At(t,t.return,I)}}break;case 1:Fr(e,t),ti(t),r&512&&n!==null&&ya(n,n.return);break;case 5:if(Fr(e,t),ti(t),r&512&&n!==null&&ya(n,n.return),t.flags&32){var i=t.stateNode;try{Eu(i,"")}catch(I){At(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cI(i,s),Tm(a,o);var u=Tm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?gI(i,f):c==="dangerouslySetInnerHTML"?fI(i,f):c==="children"?Eu(i,f):py(i,c,f,u)}switch(a){case"input":Sm(i,s);break;case"textarea":hI(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Sa(i,!!s.multiple,_,!1):v!==!!s.multiple&&(s.defaultValue!=null?Sa(i,!!s.multiple,s.defaultValue,!0):Sa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cu]=s}catch(I){At(t,t.return,I)}}break;case 6:if(Fr(e,t),ti(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){At(t,t.return,I)}}break;case 3:if(Fr(e,t),ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(I){At(t,t.return,I)}break;case 4:Fr(e,t),ti(t);break;case 13:Fr(e,t),ti(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Hy=Pt())),r&4&&o1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Bn=(u=Bn)||c,Fr(e,t),Bn=u):Fr(e,t),ti(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(f=ce=c;ce!==null;){switch(v=ce,_=v.child,v.tag){case 0:case 11:case 14:case 15:lu(4,v,v.return);break;case 1:ya(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(I){At(r,n,I)}}break;case 5:ya(v,v.return);break;case 22:if(v.memoizedState!==null){l1(f);continue}}_!==null?(_.return=v,ce=_):l1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pI("display",o))}catch(I){At(t,t.return,I)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(I){At(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fr(e,t),ti(t),r&4&&o1(t);break;case 21:break;default:Fr(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($b(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Eu(i,""),r.flags&=-33);var s=s1(t);r0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s1(t);n0(t,a,o);break;default:throw Error(ne(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XP(t,e,n){ce=t,qb(t)}function qb(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bn;a=Yc;var u=Bn;if(Yc=o,(Bn=l)&&!u)for(ce=i;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?u1(i):l!==null?(l.return=o,ce=l):u1(i);for(;s!==null;)ce=s,qb(s),s=s.sibling;ce=i,Yc=a,Bn=u}a1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):a1(t)}}function a1(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bn||nf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&xu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Bn||e.flags&512&&t0(e)}catch(v){At(e,e.return,v)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function l1(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function u1(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nf(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){At(e,i,l)}}var s=e.return;try{t0(e)}catch(l){At(e,s,l)}break;case 5:var o=e.return;try{t0(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var JP=Math.ceil,sd=Ji.ReactCurrentDispatcher,Ky=Ji.ReactCurrentOwner,Lr=Ji.ReactCurrentBatchConfig,je=0,un=null,Jt=null,Sn=0,hr=0,va=zs(0),rn=0,Du=null,Io=0,rf=0,Wy=0,uu=null,nr=null,Hy=0,qa=1/0,Ci=null,od=!1,i0=null,Ts=null,Xc=!1,ys=null,ad=0,cu=0,s0=null,Th=-1,kh=0;function Qn(){return je&6?Pt():Th!==-1?Th:Th=Pt()}function ks(t){return t.mode&1?je&2&&Sn!==0?Sn&-Sn:BP.transition!==null?(kh===0&&(kh=TI()),kh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:LI(t.type)),t):1}function Wr(t,e,n,r){if(50<cu)throw cu=0,s0=null,Error(ne(185));oc(t,n,r),(!(je&2)||t!==un)&&(t===un&&(!(je&2)&&(rf|=n),rn===4&&hs(t,Sn)),lr(t,r),n===1&&je===0&&!(e.mode&1)&&(qa=Pt()+500,Zd&&qs()))}function lr(t,e){var n=t.callbackNode;BC(t,e);var r=qh(t,t===un?Sn:0);if(r===0)n!==null&&vw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vw(n),e===1)t.tag===0?LP(c1.bind(null,t)):ZI(c1.bind(null,t)),CP(function(){!(je&6)&&qs()}),n=null;else{switch(kI(r)){case 1:n=_y;break;case 4:n=xI;break;case 16:n=zh;break;case 536870912:n=AI;break;default:n=zh}n=Jb(n,Kb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kb(t,e){if(Th=-1,kh=0,je&6)throw Error(ne(327));var n=t.callbackNode;if(Ta()&&t.callbackNode!==n)return null;var r=qh(t,t===un?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ld(t,r);else{e=r;var i=je;je|=2;var s=Hb();(un!==t||Sn!==e)&&(Ci=null,qa=Pt()+500,co(t,e));do try{tN();break}catch(a){Wb(t,a)}while(1);Ny(),sd.current=s,je=i,Jt!==null?e=0:(un=null,Sn=0,e=rn)}if(e!==0){if(e===2&&(i=Nm(t),i!==0&&(r=i,e=o0(t,i))),e===1)throw n=Du,co(t,0),hs(t,r),lr(t,Pt()),n;if(e===6)hs(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZP(i)&&(e=ld(t,r),e===2&&(s=Nm(t),s!==0&&(r=s,e=o0(t,s))),e===1))throw n=Du,co(t,0),hs(t,r),lr(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Xs(t,nr,Ci);break;case 3:if(hs(t,r),(r&130023424)===r&&(e=Hy+500-Pt(),10<e)){if(qh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vm(Xs.bind(null,t,nr,Ci),e);break}Xs(t,nr,Ci);break;case 4:if(hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Kr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JP(r/1960))-r,10<r){t.timeoutHandle=Vm(Xs.bind(null,t,nr,Ci),r);break}Xs(t,nr,Ci);break;case 5:Xs(t,nr,Ci);break;default:throw Error(ne(329))}}}return lr(t,Pt()),t.callbackNode===n?Kb.bind(null,t):null}function o0(t,e){var n=uu;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=ld(t,e),t!==2&&(e=nr,nr=n,e!==null&&a0(e)),t}function a0(t){nr===null?nr=t:nr.push.apply(nr,t)}function ZP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hs(t,e){for(e&=~Wy,e&=~rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kr(e),r=1<<n;t[n]=-1,e&=~r}}function c1(t){if(je&6)throw Error(ne(327));Ta();var e=qh(t,0);if(!(e&1))return lr(t,Pt()),null;var n=ld(t,e);if(t.tag!==0&&n===2){var r=Nm(t);r!==0&&(e=r,n=o0(t,r))}if(n===1)throw n=Du,co(t,0),hs(t,e),lr(t,Pt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xs(t,nr,Ci),lr(t,Pt()),null}function Gy(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(qa=Pt()+500,Zd&&qs())}}function bo(t){ys!==null&&ys.tag===0&&!(je&6)&&Ta();var e=je;je|=1;var n=Lr.transition,r=Qe;try{if(Lr.transition=null,Qe=1,t)return t()}finally{Qe=r,Lr.transition=n,je=e,!(je&6)&&qs()}}function Qy(){hr=va.current,ct(va)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RP(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(Ry(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qh();break;case 3:ja(),ct(or),ct(Fn),Uy();break;case 5:Oy(r);break;case 4:ja();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:My(r.type._context);break;case 22:case 23:Qy()}n=n.return}if(un=t,Jt=t=Rs(t.current,null),Sn=hr=e,rn=0,Du=null,Wy=rf=Io=0,nr=uu=null,ro!==null){for(e=0;e<ro.length;e++)if(n=ro[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ro=null}return t}function Wb(t,e){do{var n=Jt;try{if(Ny(),bh.current=id,rd){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rd=!1}if(So=0,an=tn=_t=null,au=!1,Mu=0,Ky.current=null,n===null||n.return===null){rn=1,Du=e,Jt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var v=c.alternate;v?(c.updateQueue=v.updateQueue,c.memoizedState=v.memoizedState,c.lanes=v.lanes):(c.updateQueue=null,c.memoizedState=null)}var _=Xw(o);if(_!==null){_.flags&=-257,Jw(_,o,a,s,e),_.mode&1&&Yw(s,u,e),e=_,l=u;var x=e.updateQueue;if(x===null){var I=new Set;I.add(l),e.updateQueue=I}else x.add(l);break e}else{if(!(e&1)){Yw(s,u,e),Yy();break e}l=Error(ne(426))}}else if(gt&&a.mode&1){var b=Xw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Jw(b,o,a,s,e),Cy(za(l,a));break e}}s=l=za(l,a),rn!==4&&(rn=2),uu===null?uu=[s]:uu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Rb(s,l,e);zw(s,w);break e;case 1:a=l;var E=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ts===null||!Ts.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=Cb(s,a,e);zw(s,M);break e}}s=s.return}while(s!==null)}Qb(n)}catch(N){e=N,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(1)}function Hb(){var t=sd.current;return sd.current=id,t===null?id:t}function Yy(){(rn===0||rn===3||rn===2)&&(rn=4),un===null||!(Io&268435455)&&!(rf&268435455)||hs(un,Sn)}function ld(t,e){var n=je;je|=2;var r=Hb();(un!==t||Sn!==e)&&(Ci=null,co(t,e));do try{eN();break}catch(i){Wb(t,i)}while(1);if(Ny(),je=n,sd.current=r,Jt!==null)throw Error(ne(261));return un=null,Sn=0,rn}function eN(){for(;Jt!==null;)Gb(Jt)}function tN(){for(;Jt!==null&&!AC();)Gb(Jt)}function Gb(t){var e=Xb(t.alternate,t,hr);t.memoizedProps=t.pendingProps,e===null?Qb(t):Jt=e,Ky.current=null}function Qb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GP(n,e),n!==null){n.flags&=32767,Jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Jt=null;return}}else if(n=HP(n,e,hr),n!==null){Jt=n;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);rn===0&&(rn=5)}function Xs(t,e,n){var r=Qe,i=Lr.transition;try{Lr.transition=null,Qe=1,nN(t,e,n,r)}finally{Lr.transition=i,Qe=r}return null}function nN(t,e,n,r){do Ta();while(ys!==null);if(je&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(DC(t,s),t===un&&(Jt=un=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xc||(Xc=!0,Jb(zh,function(){return Ta(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lr.transition,Lr.transition=null;var o=Qe;Qe=1;var a=je;je|=4,Ky.current=null,YP(t,n),zb(n,t),SP(Um),Kh=!!Om,Um=Om=null,t.current=n,XP(n),TC(),je=a,Qe=o,Lr.transition=s}else t.current=n;if(Xc&&(Xc=!1,ys=t,ad=i),s=t.pendingLanes,s===0&&(Ts=null),CC(n.stateNode),lr(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(od)throw od=!1,t=i0,i0=null,t;return ad&1&&t.tag!==0&&Ta(),s=t.pendingLanes,s&1?t===s0?cu++:(cu=0,s0=t):cu=0,qs(),null}function Ta(){if(ys!==null){var t=kI(ad),e=Lr.transition,n=Qe;try{if(Lr.transition=null,Qe=16>t?16:t,ys===null)var r=!1;else{if(t=ys,ys=null,ad=0,je&6)throw Error(ne(331));var i=je;for(je|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:lu(8,c,s)}var f=c.child;if(f!==null)f.return=c,ce=f;else for(;ce!==null;){c=ce;var v=c.sibling,_=c.return;if(Vb(c),c===u){ce=null;break}if(v!==null){v.return=_,ce=v;break}ce=_}}}var x=s.alternate;if(x!==null){var I=x.child;if(I!==null){x.child=null;do{var b=I.sibling;I.sibling=null,I=b}while(I!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ce=w;break e}ce=s.return}}var E=t.current;for(ce=E;ce!==null;){o=ce;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,ce=m;else e:for(o=E;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nf(9,a)}}catch(N){At(a,a.return,N)}if(a===o){ce=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,ce=M;break e}ce=a.return}}if(je=i,qs(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(Gd,t)}catch{}r=!0}return r}finally{Qe=n,Lr.transition=e}}return!1}function h1(t,e,n){e=za(n,e),e=Rb(t,e,1),t=As(t,e,1),e=Qn(),t!==null&&(oc(t,1,e),lr(t,e))}function At(t,e,n){if(t.tag===3)h1(t,t,n);else for(;e!==null;){if(e.tag===3){h1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ts===null||!Ts.has(r))){t=za(n,t),t=Cb(e,t,1),e=As(e,t,1),t=Qn(),e!==null&&(oc(e,1,t),lr(e,t));break}}e=e.return}}function rN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(Sn&n)===n&&(rn===4||rn===3&&(Sn&130023424)===Sn&&500>Pt()-Hy?co(t,0):Wy|=n),lr(t,e)}function Yb(t,e){e===0&&(t.mode&1?(e=$c,$c<<=1,!($c&130023424)&&($c=4194304)):e=1);var n=Qn();t=Ki(t,e),t!==null&&(oc(t,e,n),lr(t,n))}function iN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yb(t,n)}function sN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),Yb(t,n)}var Xb;Xb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sr=!1,WP(t,e,n);sr=!!(t.flags&131072)}else sr=!1,gt&&e.flags&1048576&&eb(e,Jh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ah(t,e),t=e.pendingProps;var i=Fa(e,Fn.current);Aa(e,n),i=Vy(null,e,r,t,i,n);var s=$y();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(r)?(s=!0,Yh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,By(e),i.updater=ef,e.stateNode=i,i._reactInternals=e,Hm(e,r,t,n),e=Ym(null,e,r,!0,s,n)):(e.tag=0,gt&&s&&ky(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ah(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aN(r),t=jr(r,t),i){case 0:e=Qm(null,e,r,t,n);break e;case 1:e=t1(null,e,r,t,n);break e;case 11:e=Zw(null,e,r,t,n);break e;case 14:e=e1(null,e,r,jr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jr(r,i),Qm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jr(r,i),t1(t,e,r,i,n);case 3:e:{if(Lb(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ib(t,e),td(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=za(Error(ne(423)),e),e=n1(t,e,r,n,i);break e}else if(r!==i){i=za(Error(ne(424)),e),e=n1(t,e,r,n,i);break e}else for(fr=xs(e.stateNode.containerInfo.firstChild),mr=e,gt=!0,qr=null,n=lb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===i){e=Wi(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return ub(e),t===null&&qm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fm(r,i)?o=null:s!==null&&Fm(r,s)&&(e.flags|=32),Mb(t,e),Kn(t,e,o,n),e.child;case 6:return t===null&&qm(e),null;case 13:return Bb(t,e,n);case 4:return Dy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jr(r,i),Zw(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Zh,r._currentValue),r._currentValue=o,s!==null)if(Yr(s.value,o)){if(s.children===i.children&&!or.current){e=Wi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Km(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Km(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Aa(e,n),i=Dr(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=jr(r,e.pendingProps),i=jr(r.type,i),e1(t,e,r,i,n);case 15:return Pb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jr(r,i),Ah(t,e),e.tag=1,ar(r)?(t=!0,Yh(e)):t=!1,Aa(e,n),ob(e,r,i),Hm(e,r,i,n),Ym(null,e,r,!0,t,n);case 19:return Db(t,e,n);case 22:return Nb(t,e,n)}throw Error(ne(156,e.tag))};function Jb(t,e){return bI(t,e)}function oN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new oN(t,e,n,r)}function Xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aN(t){if(typeof t=="function")return Xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===my)return 11;if(t===yy)return 14}return 2}function Rs(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case la:return ho(n.children,i,s,e);case gy:o=8,i|=8;break;case ym:return t=Mr(12,n,e,i|2),t.elementType=ym,t.lanes=s,t;case vm:return t=Mr(13,n,e,i),t.elementType=vm,t.lanes=s,t;case _m:return t=Mr(19,n,e,i),t.elementType=_m,t.lanes=s,t;case aI:return sf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sI:o=10;break e;case oI:o=9;break e;case my:o=11;break e;case yy:o=14;break e;case ls:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Mr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ho(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function sf(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=aI,t.lanes=n,t.stateNode={isHidden:!1},t}function eg(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function tg(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bp(0),this.expirationTimes=Bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jy(t,e,n,r,i,s,o,a,l){return t=new lN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(s),t}function uN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zb(t){if(!t)return Ds;t=t._reactInternals;e:{if(Oo(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(ar(n))return JI(t,n,e)}return e}function ex(t,e,n,r,i,s,o,a,l){return t=Jy(n,r,!0,t,i,s,o,a,l),t.context=Zb(null),n=t.current,r=Qn(),i=ks(n),s=Fi(r,i),s.callback=e??null,As(n,s,i),t.current.lanes=i,oc(t,i,r),lr(t,r),t}function of(t,e,n,r){var i=e.current,s=Qn(),o=ks(i);return n=Zb(n),e.context===null?e.context=n:e.pendingContext=n,e=Fi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(i,e,o),t!==null&&(Wr(t,i,o,s),Ih(t,i,o)),o}function ud(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zy(t,e){d1(t,e),(t=t.alternate)&&d1(t,e)}function cN(){return null}var tx=typeof reportError=="function"?reportError:function(t){console.error(t)};function ev(t){this._internalRoot=t}af.prototype.render=ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));of(t,e,null,null)};af.prototype.unmount=ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){of(null,t,null,null)}),e[qi]=null}};function af(t){this._internalRoot=t}af.prototype.unstable_scheduleHydration=function(t){if(t){var e=PI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cs.length&&e!==0&&e<cs[n].priority;n++);cs.splice(n,0,t),n===0&&MI(t)}};function tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f1(){}function hN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ud(o);s.call(u)}}var o=ex(e,r,t,0,null,!1,!1,"",f1);return t._reactRootContainer=o,t[qi]=o.current,ku(t.nodeType===8?t.parentNode:t),bo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ud(l);a.call(u)}}var l=Jy(t,0,!1,null,null,!1,!1,"",f1);return t._reactRootContainer=l,t[qi]=l.current,ku(t.nodeType===8?t.parentNode:t),bo(function(){of(e,l,n,r)}),l}function uf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ud(o);a.call(l)}}of(e,o,t,i)}else o=hN(n,e,t,i,r);return ud(o)}RI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ql(e.pendingLanes);n!==0&&(wy(e,n|1),lr(e,Pt()),!(je&6)&&(qa=Pt()+500,qs()))}break;case 13:bo(function(){var r=Ki(t,1);if(r!==null){var i=Qn();Wr(r,t,1,i)}}),Zy(t,1)}};Ey=function(t){if(t.tag===13){var e=Ki(t,134217728);if(e!==null){var n=Qn();Wr(e,t,134217728,n)}Zy(t,134217728)}};CI=function(t){if(t.tag===13){var e=ks(t),n=Ki(t,e);if(n!==null){var r=Qn();Wr(n,t,e,r)}Zy(t,e)}};PI=function(){return Qe};NI=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Rm=function(t,e,n){switch(e){case"input":if(Sm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jd(r);if(!i)throw Error(ne(90));uI(r),Sm(r,i)}}}break;case"textarea":hI(t,n);break;case"select":e=n.value,e!=null&&Sa(t,!!n.multiple,e,!1)}};vI=Gy;_I=bo;var dN={usingClientEntryPoint:!1,Events:[lc,da,Jd,mI,yI,Gy]},Ll={findFiberByHostInstance:no,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fN={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||cN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Gd=Jc.inject(fN),fi=Jc}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dN;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(e))throw Error(ne(200));return uN(t,e,null,n)};_r.createRoot=function(t,e){if(!tv(t))throw Error(ne(299));var n=!1,r="",i=tx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jy(t,1,!1,null,null,n,!1,r,i),t[qi]=e.current,ku(t.nodeType===8?t.parentNode:t),new ev(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=SI(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return bo(t)};_r.hydrate=function(t,e,n){if(!lf(e))throw Error(ne(200));return uf(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!tv(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ex(e,null,t,1,n??null,i,!1,s,o),t[qi]=e.current,ku(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new af(e)};_r.render=function(t,e,n){if(!lf(e))throw Error(ne(200));return uf(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!lf(t))throw Error(ne(40));return t._reactRootContainer?(bo(function(){uf(null,null,t,!1,function(){t._reactRootContainer=null,t[qi]=null})}),!0):!1};_r.unstable_batchedUpdates=Gy;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lf(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return uf(t,e,n,!1,r)};_r.version="18.2.0-next-9e3b772b8-20220608";function nx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nx)}catch(t){console.error(t)}}nx(),eI.exports=_r;var pN=eI.exports,ka,p1=pN;ka=gm.createRoot=p1.createRoot,gm.hydrateRoot=p1.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}var vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vs||(vs={}));const g1="popstate";function gN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return l0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cd(i)}return yN(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mN(){return Math.random().toString(36).substr(2,8)}function m1(t,e){return{usr:t.state,key:t.key,idx:e}}function l0(t,e,n,r){return n===void 0&&(n=null),Ou({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:n,key:e&&e.key||r||mN()})}function cd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=vs.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ou({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=vs.Pop;let b=c(),w=b==null?null:b-u;u=b,l&&l({action:a,location:I.location,delta:w})}function v(b,w){a=vs.Push;let E=l0(I.location,b,w);n&&n(E,b),u=c()+1;let m=m1(E,u),M=I.createHref(E);try{o.pushState(m,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(M)}s&&l&&l({action:a,location:I.location,delta:1})}function _(b,w){a=vs.Replace;let E=l0(I.location,b,w);n&&n(E,b),u=c();let m=m1(E,u),M=I.createHref(E);o.replaceState(m,"",M),s&&l&&l({action:a,location:I.location,delta:0})}function x(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:cd(b);return wt(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let I={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(g1,f),l=b,()=>{i.removeEventListener(g1,f),l=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let w=x(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:_,go(b){return o.go(b)}};return I}var y1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(y1||(y1={}));function vN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ul(e):e,i=Uu(r.pathname||"/",n);if(i==null)return null;let s=rx(t);_N(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=kN(s[a],CN(i));return o}function rx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Cs([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(wt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rx(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:AN(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ix(s.path))i(s,o,l)}),e}function ix(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ix(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wN=/^:\w+$/,EN=3,SN=2,IN=1,bN=10,xN=-2,v1=t=>t==="*";function AN(t,e){let n=t.split("/"),r=n.length;return n.some(v1)&&(r+=xN),e&&(r+=SN),n.filter(i=>!v1(i)).reduce((i,s)=>i+(wN.test(s)?EN:s===""?IN:bN),r)}function TN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=u0({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:Cs([i,c.pathname]),pathnameBase:LN(Cs([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Cs([i,c.pathnameBase]))}return s}function u0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}return u[c]=PN(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function RN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function CN(t){try{return decodeURI(t)}catch(e){return nv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function PN(t,e){try{return decodeURIComponent(t)}catch(n){return nv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Uu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ul(t):t;return{pathname:n?n.startsWith("/")?n:MN(n,e):e,search:BN(r),hash:DN(i)}}function MN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ng(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ul(t):(i=Ou({},t),wt(!i.pathname||!i.pathname.includes("?"),ng("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),ng("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),ng("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}a=f>=0?e[f]:"/"}let l=NN(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Cs=t=>t.join("/").replace(/\/\/+/g,"/"),LN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ON(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sx=["post","put","patch","delete"];new Set(sx);const UN=["get",...sx];new Set(UN);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}const cf=X.createContext(null),ox=X.createContext(null),Uo=X.createContext(null),hf=X.createContext(null),xi=X.createContext({outlet:null,matches:[],isDataRoute:!1}),ax=X.createContext(null);function FN(t,e){let{relative:n}=e===void 0?{}:e;cl()||wt(!1);let{basename:r,navigator:i}=X.useContext(Uo),{hash:s,pathname:o,search:a}=df(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Cs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function cl(){return X.useContext(hf)!=null}function hl(){return cl()||wt(!1),X.useContext(hf).location}function lx(t){X.useContext(Uo).static||X.useLayoutEffect(t)}function dl(){let{isDataRoute:t}=X.useContext(xi);return t?e4():VN()}function VN(){cl()||wt(!1);let t=X.useContext(cf),{basename:e,navigator:n}=X.useContext(Uo),{matches:r}=X.useContext(xi),{pathname:i}=hl(),s=JSON.stringify(rv(r).map(l=>l.pathnameBase)),o=X.useRef(!1);return lx(()=>{o.current=!0}),X.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=iv(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Cs([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const $N=X.createContext(null);function jN(t){let e=X.useContext(xi).outlet;return e&&X.createElement($N.Provider,{value:t},e)}function ux(){let{matches:t}=X.useContext(xi),e=t[t.length-1];return e?e.params:{}}function df(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=X.useContext(xi),{pathname:i}=hl(),s=JSON.stringify(rv(r).map(o=>o.pathnameBase));return X.useMemo(()=>iv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function zN(t,e){return qN(t,e)}function qN(t,e,n){cl()||wt(!1);let{navigator:r}=X.useContext(Uo),{matches:i}=X.useContext(xi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=hl(),u;if(e){var c;let I=typeof e=="string"?ul(e):e;a==="/"||(c=I.pathname)!=null&&c.startsWith(a)||wt(!1),u=I}else u=l;let f=u.pathname||"/",v=a==="/"?f:f.slice(a.length)||"/",_=vN(t,{pathname:v}),x=QN(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},o,I.params),pathname:Cs([a,r.encodeLocation?r.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?a:Cs([a,r.encodeLocation?r.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,n);return e&&x?X.createElement(hf.Provider,{value:{location:hd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vs.Pop}},x):x}function KN(){let t=ZN(),e=ON(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,s)}const WN=X.createElement(KN,null);class HN extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?X.createElement(xi.Provider,{value:this.props.routeContext},X.createElement(ax.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GN(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(cf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(xi.Provider,{value:e},r)}function QN(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||wt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||WN);let v=e.concat(s.slice(0,u+1)),_=()=>{let x;return c?x=f:l.route.Component?x=X.createElement(l.route.Component,null):l.route.element?x=l.route.element:x=a,X.createElement(GN,{match:l,routeContext:{outlet:a,matches:v,isDataRoute:n!=null},children:x})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?X.createElement(HN,{location:n.location,revalidation:n.revalidation,component:f,error:c,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var cx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cx||{}),dd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dd||{});function YN(t){let e=X.useContext(cf);return e||wt(!1),e}function XN(t){let e=X.useContext(ox);return e||wt(!1),e}function JN(t){let e=X.useContext(xi);return e||wt(!1),e}function hx(t){let e=JN(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function ZN(){var t;let e=X.useContext(ax),n=XN(dd.UseRouteError),r=hx(dd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function e4(){let{router:t}=YN(cx.UseNavigateStable),e=hx(dd.UseNavigateStable),n=X.useRef(!1);return lx(()=>{n.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hd({fromRouteId:e},s)))},[t,e])}function hu(t){let{to:e,replace:n,state:r,relative:i}=t;cl()||wt(!1);let{matches:s}=X.useContext(xi),{pathname:o}=hl(),a=dl(),l=iv(e,rv(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return X.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function dx(t){return jN(t.context)}function zn(t){wt(!1)}function t4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vs.Pop,navigator:s,static:o=!1}=t;cl()&&wt(!1);let a=e.replace(/^\/*/,"/"),l=X.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=ul(r));let{pathname:u="/",search:c="",hash:f="",state:v=null,key:_="default"}=r,x=X.useMemo(()=>{let I=Uu(u,a);return I==null?null:{location:{pathname:I,search:c,hash:f,state:v,key:_},navigationType:i}},[a,u,c,f,v,_,i]);return x==null?null:X.createElement(Uo.Provider,{value:l},X.createElement(hf.Provider,{children:n,value:x}))}function _1(t){let{children:e,location:n}=t;return zN(c0(e),n)}new Promise(()=>{});function c0(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let s=[...e,i];if(r.type===X.Fragment){n.push.apply(n,c0(r.props.children,s));return}r.type!==zn&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=c0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}function fx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r4(t,e){return t.button===0&&(!e||e==="_self")&&!n4(t)}const i4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],s4=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],o4=X.createContext({isTransitioning:!1}),a4="startTransition",w1=iC[a4];function E1(t){let{basename:e,children:n,future:r,window:i}=t,s=X.useRef();s.current==null&&(s.current=gN({window:i,v5Compat:!0}));let o=s.current,[a,l]=X.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=X.useCallback(f=>{u&&w1?w1(()=>l(f)):l(f)},[l,u]);return X.useLayoutEffect(()=>o.listen(c),[o,c]),X.createElement(t4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const l4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xo=X.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:f}=e,v=fx(e,i4),{basename:_}=X.useContext(Uo),x,I=!1;if(typeof u=="string"&&u4.test(u)&&(x=u,l4))try{let m=new URL(window.location.href),M=u.startsWith("//")?new URL(m.protocol+u):new URL(u),N=Uu(M.pathname,_);M.origin===m.origin&&N!=null?u=N+M.search+M.hash:I=!0}catch{}let b=FN(u,{relative:i}),w=h4(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:f});function E(m){r&&r(m),m.defaultPrevented||w(m)}return X.createElement("a",fd({},v,{href:x||b,onClick:I||s?r:E,ref:n,target:l}))}),_a=X.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,f=fx(e,s4),v=df(l,{relative:f.relative}),_=hl(),x=X.useContext(ox),{navigator:I}=X.useContext(Uo),b=x!=null&&d4(v)&&u===!0,w=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,E=_.pathname,m=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(E=E.toLowerCase(),m=m?m.toLowerCase():null,w=w.toLowerCase());let M=E===w||!o&&E.startsWith(w)&&E.charAt(w.length)==="/",N=m!=null&&(m===w||!o&&m.startsWith(w)&&m.charAt(w.length)==="/"),O={isActive:M,isPending:N,isTransitioning:b},F=M?r:void 0,V;typeof s=="function"?V=s(O):V=[s,M?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let J=typeof a=="function"?a(O):a;return X.createElement(xo,fd({},f,{"aria-current":F,className:V,ref:n,style:J,to:l,unstable_viewTransition:u}),typeof c=="function"?c(O):c)});var h0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h0||(h0={}));var S1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(S1||(S1={}));function c4(t){let e=X.useContext(cf);return e||wt(!1),e}function h4(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=dl(),u=hl(),c=df(t,{relative:o});return X.useCallback(f=>{if(r4(f,n)){f.preventDefault();let v=r!==void 0?r:cd(u)===cd(c);l(t,{replace:v,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function d4(t,e){e===void 0&&(e={});let n=X.useContext(o4);n==null&&wt(!1);let{basename:r}=c4(h0.useViewTransitionState),i=df(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Uu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Uu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return u0(i.pathname,o)!=null||u0(i.pathname,s)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,_=u&63;l||(_=64,o||(v=64)),r.push(n[c],n[f],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new p4;const v=s<<2|a>>4;if(r.push(v),u!==64){const _=a<<4&240|u>>2;if(r.push(_),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g4=function(t){const e=px(t);return gx.encodeByteArray(e,!0)},pd=function(t){return g4(t).replace(/\./g,"")},mx=function(t){try{return gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=()=>m4().__FIREBASE_DEFAULTS__,v4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mx(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return y4()||v4()||_4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yx=t=>{var e,n;return(n=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vx=t=>{const e=yx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_x=()=>{var t;return(t=ff())===null||t===void 0?void 0:t.config},wx=t=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[pd(JSON.stringify(n)),pd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function S4(){var t;const e=(t=ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x4(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A4(){try{return typeof indexedDB=="object"}catch{return!1}}function T4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k4,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ai(i,a,r)}}function R4(t,e){return t.replace(C4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C4=/\{\$([^}]+)}/g;function P4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(I1(s)&&I1(o)){if(!gd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N4(t,e){const n=new M4(t,e);return n.subscribe.bind(n)}class M4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rg),i.error===void 0&&(i.error=rg),i.complete===void 0&&(i.complete=rg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O4(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D4(t){return t===Js?void 0:t}function O4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const F4={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},V4=Ve.INFO,$4={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},j4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=V4,this._logHandler=j4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const z4=(t,e)=>e.some(n=>t instanceof n);let b1,x1;function q4(){return b1||(b1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K4(){return x1||(x1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sx=new WeakMap,d0=new WeakMap,Ix=new WeakMap,ig=new WeakMap,ov=new WeakMap;function W4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ps(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sx.set(n,t)}).catch(()=>{}),ov.set(e,t),e}function H4(t){if(d0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});d0.set(t,e)}let f0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ix.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G4(t){f0=t(f0)}function Q4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sg(this),e,...n);return Ix.set(r,e.sort?e.sort():[e]),Ps(r)}:K4().includes(t)?function(...e){return t.apply(sg(this),e),Ps(Sx.get(this))}:function(...e){return Ps(t.apply(sg(this),e))}}function Y4(t){return typeof t=="function"?Q4(t):(t instanceof IDBTransaction&&H4(t),z4(t,q4())?new Proxy(t,f0):t)}function Ps(t){if(t instanceof IDBRequest)return W4(t);if(ig.has(t))return ig.get(t);const e=Y4(t);return e!==t&&(ig.set(t,e),ov.set(e,t)),e}const sg=t=>ov.get(t);function X4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ps(o.result),l.oldVersion,l.newVersion,Ps(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const J4=["get","getKey","getAll","getAllKeys","count"],Z4=["put","add","delete","clear"],og=new Map;function A1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(og.get(e))return og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Z4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return og.set(e,s),s}G4(t=>({...t,get:(e,n,r)=>A1(e,n)||t.get(e,n,r),has:(e,n)=>!!A1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const p0="@firebase/app",T1="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new sv("@firebase/app"),nM="@firebase/app-compat",rM="@firebase/analytics-compat",iM="@firebase/analytics",sM="@firebase/app-check-compat",oM="@firebase/app-check",aM="@firebase/auth",lM="@firebase/auth-compat",uM="@firebase/database",cM="@firebase/database-compat",hM="@firebase/functions",dM="@firebase/functions-compat",fM="@firebase/installations",pM="@firebase/installations-compat",gM="@firebase/messaging",mM="@firebase/messaging-compat",yM="@firebase/performance",vM="@firebase/performance-compat",_M="@firebase/remote-config",wM="@firebase/remote-config-compat",EM="@firebase/storage",SM="@firebase/storage-compat",IM="@firebase/firestore",bM="@firebase/firestore-compat",xM="firebase",AM="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="[DEFAULT]",TM={[p0]:"fire-core",[nM]:"fire-core-compat",[iM]:"fire-analytics",[rM]:"fire-analytics-compat",[oM]:"fire-app-check",[sM]:"fire-app-check-compat",[aM]:"fire-auth",[lM]:"fire-auth-compat",[uM]:"fire-rtdb",[cM]:"fire-rtdb-compat",[hM]:"fire-fn",[dM]:"fire-fn-compat",[fM]:"fire-iid",[pM]:"fire-iid-compat",[gM]:"fire-fcm",[mM]:"fire-fcm-compat",[yM]:"fire-perf",[vM]:"fire-perf-compat",[_M]:"fire-rc",[wM]:"fire-rc-compat",[EM]:"fire-gcs",[SM]:"fire-gcs-compat",[IM]:"fire-fst",[bM]:"fire-fst-compat","fire-js":"fire-js",[xM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Map,m0=new Map;function kM(t,e){try{t.container.addComponent(e)}catch(n){Ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function To(t){const e=t.name;if(m0.has(e))return Ao.debug(`There were multiple attempts to register component ${e}.`),!1;m0.set(e,t);for(const n of md.values())kM(n,t);return!0}function pf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ns=new cc("app","Firebase",RM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=AM;function Ks(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:g0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ns.create("bad-app-name",{appName:String(i)});if(n||(n=_x()),!n)throw Ns.create("no-options");const s=md.get(i);if(s){if(gd(n,s.options)&&gd(r,s.config))return s;throw Ns.create("duplicate-app",{appName:i})}const o=new U4(i);for(const l of m0.values())o.addComponent(l);const a=new CM(n,r,o);return md.set(i,a),a}function av(t=g0){const e=md.get(t);if(!e&&t===g0&&_x())return Ks();if(!e)throw Ns.create("no-app",{appName:t});return e}function gi(t,e,n){var r;let i=(r=TM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ao.warn(a.join(" "));return}To(new Os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebase-heartbeat-database",NM=1,Fu="firebase-heartbeat-store";let ag=null;function bx(){return ag||(ag=X4(PM,NM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fu)}}}).catch(t=>{throw Ns.create("idb-open",{originalErrorMessage:t.message})})),ag}async function MM(t){try{return await(await bx()).transaction(Fu).objectStore(Fu).get(xx(t))}catch(e){if(e instanceof Ai)Ao.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ao.warn(n.message)}}}async function k1(t,e){try{const r=(await bx()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,xx(t)),await r.done}catch(n){if(n instanceof Ai)Ao.warn(n.message);else{const r=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ao.warn(r.message)}}}function xx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=1024,BM=30*24*60*60*1e3;class DM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=BM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R1(),{heartbeatsToSend:n,unsentEntries:r}=OM(this._heartbeatsCache.heartbeats),i=pd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function R1(){return new Date().toISOString().substring(0,10)}function OM(t,e=LM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),C1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A4()?T4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await MM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function C1(t){return pd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){To(new Os("platform-logger",e=>new eM(e),"PRIVATE")),To(new Os("heartbeat",e=>new DM(e),"PRIVATE")),gi(p0,T1,t),gi(p0,T1,"esm2017"),gi("fire-js","")}FM("");var VM="firebase",$M="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(VM,$M,"app");function lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function P1(t){return t!==void 0&&t.enterprise!==void 0}class jM{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function Ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zM=Ax,Tx=new cc("auth","Firebase",Ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new sv("@firebase/auth");function qM(t,...e){yd.logLevel<=Ve.WARN&&yd.warn(`Auth (${Fo}): ${t}`,...e)}function Ch(t,...e){yd.logLevel<=Ve.ERROR&&yd.error(`Auth (${Fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,...e){throw uv(t,...e)}function mi(t,...e){return uv(t,...e)}function kx(t,e,n){const r=Object.assign(Object.assign({},zM()),{[e]:n});return new cc("auth","Firebase",r).create(e,{appName:t.name})}function KM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ur(t,"argument-error"),kx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Tx.create(t,...e)}function Ie(t,e,...n){if(!t)throw uv(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ch(e),new Error(e)}function Hi(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WM(){return N1()==="http:"||N1()==="https:"}function N1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WM()||I4()||"connection"in navigator)?navigator.onLine:!0}function GM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=E4()||b4()}get(){return HM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new dc(3e4,6e4);function Vo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ws(t,e,n,r,i={}){return Cx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Rx.fetch()(Px(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Cx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QM),e);try{const i=new XM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kx(t,c,u);Ur(t,c)}}catch(i){if(i instanceof Ai)throw i;Ur(t,"network-request-failed",{message:String(i)})}}async function fc(t,e,n,r,i={}){const s=await Ws(t,e,n,r,i);return"mfaPendingCredential"in s&&Ur(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Px(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cv(t.config,i):`${t.config.apiScheme}://${i}`}class XM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),YM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mi(t,e,r);return i.customData._tokenResponse=n,i}async function JM(t,e){return Ws(t,"GET","/v2/recaptchaConfig",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e){return Ws(t,"POST","/v1/accounts:delete",e)}async function eL(t,e){return Ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tL(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=hv(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:du(lg(i.auth_time)),issuedAtTime:du(lg(i.iat)),expirationTime:du(lg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lg(t){return Number(t)*1e3}function hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=mx(n);return i?JSON.parse(i):(Ch("Failed to decode base64 JWT payload"),null)}catch(i){return Ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nL(t){const e=hv(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&rL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ka(t,eL(n,{idToken:r}));Ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aL(s.providerUserInfo):[],a=oL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nx(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function sL(t){const e=Tt(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aL(t){return t.map(e=>{var{providerId:n}=e,r=lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){const n=await Cx(t,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Px(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vu;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vu,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tL(this,e)}reload(){return sL(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ka(this,ZM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:M,isAnonymous:N,providerData:O,stsTokenManager:F}=n;Ie(m&&F,e,"internal-error");const V=Vu.fromJSON(this.name,F);Ie(typeof m=="string",e,"internal-error"),ts(f,e.name),ts(v,e.name),Ie(typeof M=="boolean",e,"internal-error"),Ie(typeof N=="boolean",e,"internal-error"),ts(_,e.name),ts(x,e.name),ts(I,e.name),ts(b,e.name),ts(w,e.name),ts(E,e.name);const J=new fo({uid:m,auth:e,email:v,emailVerified:M,displayName:f,isAnonymous:N,photoURL:x,phoneNumber:_,tenantId:I,stsTokenManager:V,createdAt:w,lastLoginAt:E});return O&&Array.isArray(O)&&(J.providerData=O.map(Z=>Object.assign({},Z))),b&&(J._redirectEventId=b),J}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vu;i.updateFromServerResponse(n);const s=new fo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Map;function Oi(t){Hi(t instanceof Function,"Expected a class definition");let e=M1.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Mx.type="NONE";const L1=Mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t,e,n){return`firebase:${t}:${e}:${n}`}class Ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ph(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ph("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ra(Oi(L1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Oi(L1);const o=Ph(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=fo._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ra(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ra(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ux(e))return"Blackberry";if(Fx(e))return"Webos";if(dv(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if(Ox(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lx(t=Vn()){return/firefox\//i.test(t)}function dv(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(t=Vn()){return/crios\//i.test(t)}function Dx(t=Vn()){return/iemobile/i.test(t)}function Ox(t=Vn()){return/android/i.test(t)}function Ux(t=Vn()){return/blackberry/i.test(t)}function Fx(t=Vn()){return/webos/i.test(t)}function gf(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uL(t=Vn()){var e;return gf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cL(){return x4()&&document.documentMode===10}function Vx(t=Vn()){return gf(t)||Ox(t)||Fx(t)||Ux(t)||/windows phone/i.test(t)||Dx(t)}function hL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e=[]){let n;switch(t){case"Browser":n=B1(Vn());break;case"Worker":n=`${B1(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e={}){return Ws(t,"GET","/v2/passwordPolicy",Vo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=6;class gL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:pL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D1(this),this.idTokenSubscription=new D1(this),this.beforeStateQueue=new dL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Tt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fL(this),n=new gL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zi(t){return Tt(t)}class D1{constructor(e){this.auth=e,this.observer=null,this.addObserver=N4(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function jx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=mi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yL().appendChild(r)})}function vL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _L="https://www.google.com/recaptcha/enterprise.js?render=",wL="recaptcha-enterprise",EL="NO_RECAPTCHA";class SL{constructor(e){this.type=wL,this.auth=Zi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{JM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jM(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;P1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(EL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&P1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}jx(_L+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function _d(t,e,n,r=!1){const i=new SL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e){const n=pf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gd(s,e??{}))return i;Ur(i,"already-initialized")}return n.initialize({options:e})}function bL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xL(t,e,n){const r=Zi(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=zx(e),{host:o,port:a}=AL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||TL()}function zx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AL(t){const e=zx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:O1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:O1(o)}}}function O1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function kL(t,e){return Ws(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}async function CL(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends fv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $u(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $u(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await _d(e,r,"signInWithPassword");return ug(e,i)}else return ug(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await _d(e,r,"signInWithPassword");return ug(e,s)}else return Promise.reject(i)});case"emailLink":return RL(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return kL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return CL(e,{idToken:n,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="http://localhost";class ko extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ko(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:PL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ML(t){const e=Wl(Hl(t)).link,n=e?Wl(Hl(e)).deep_link_id:null,r=Wl(Hl(t)).deep_link_id;return(r?Wl(Hl(r)).link:null)||r||n||e||t}class pv{constructor(e){var n,r,i,s,o,a;const l=Wl(Hl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=NL((i=l.mode)!==null&&i!==void 0?i:null);Ie(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ML(e);try{return new pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return $u._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pv.parseLink(n);return Ie(r,"argument-error"),$u._fromEmailAndCode(e,r.code,r.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends gv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends pc{constructor(){super("facebook.com")}static credential(e){return ko._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ko._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends pc{constructor(){super("github.com")}static credential(e){return ko._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends pc{constructor(){super("twitter.com")}static credential(e,n){return ko._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t,e){return fc(t,"POST","/v1/accounts:signUp",Vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fo._fromIdTokenResponse(e,r,i),o=U1(r);return new Gi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U1(r);return new Gi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t){var e;const n=Zi(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Gi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Nh(n,{returnSecureToken:!0}),i=await Gi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wd(e,n,r,i)}}function qx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,s,e,r):s})}async function BL(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ka(t,qx(r,i,e,t),n);Ie(s.idToken,r,"internal-error");const o=hv(s.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),Gi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e,n=!1){const r="signIn",i=await qx(t,r,e),s=await Gi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function OL(t,e){return Kx(Zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(t){const e=Zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UL(t,e,n){var r;const i=Zi(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await _d(i,s,"signUpPassword");o=Nh(i,u)}else o=Nh(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await _d(i,s,"signUpPassword");return Nh(i,c)}throw u});const a=await o.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Wx(t),u}),l=await Gi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function FL(t,e,n){return OL(Tt(t),fl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wx(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){return Ws(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Tt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ka(r,VL(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $L(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function jL(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function zL(t){return Tt(t).signOut()}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){const t=Vn();return dv(t)||gf(t)}const KL=1e3,WL=10;class Qx extends Gx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qL()&&hL(),this.fallbackToPolling=Vx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);cL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,WL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qx.type="LOCAL";const HL=Qx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Gx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yx.type="SESSION";const Xx=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await GL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=mv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const v=f;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function YL(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function XL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZL(){return Jx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebaseLocalStorageDb",e3=1,Sd="firebaseLocalStorage",eA="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(t,e){return t.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function t3(){const t=indexedDB.deleteDatabase(Zx);return new gc(t).toPromise()}function v0(){const t=indexedDB.open(Zx,e3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sd,{keyPath:eA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),await t3(),e(await v0()))})})}async function F1(t,e,n){const r=yf(t,!0).put({[eA]:e,value:n});return new gc(r).toPromise()}async function n3(t,e){const n=yf(t,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function V1(t,e){const n=yf(t,!0).delete(e);return new gc(n).toPromise()}const r3=800,i3=3;class tA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>i3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(ZL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XL(),!this.activeServiceWorker)return;this.sender=new QL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v0();return await F1(e,Ed,"1"),await V1(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>n3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yf(i,!1).getAll();return new gc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tA.type="LOCAL";const s3=tA;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){return e?Oi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function o3(t){return Kx(t.auth,new yv(t),t.bypassAuthState)}function a3(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),DL(n,new yv(t),t.bypassAuthState)}async function l3(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),BL(n,new yv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o3;case"linkViaPopup":case"linkViaRedirect":return l3;case"reauthViaPopup":case"reauthViaRedirect":return a3;default:Ur(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=new dc(2e3,1e4);async function iA(t,e,n){const r=Zi(t);KM(t,e,gv);const i=nA(r,n);return new so(r,"signInViaPopup",e,i).executeNotNull()}class so extends rA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u3.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="pendingRedirect",Mh=new Map;class h3 extends rA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await d3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d3(t,e){const n=g3(e),r=p3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function f3(t,e){Mh.set(t._key(),e)}function p3(t){return Oi(t._redirectPersistence)}function g3(t){return Ph(c3,t.config.apiKey,t.name)}async function m3(t,e,n=!1){const r=Zi(t),i=nA(r,e),o=await new h3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=10*60*1e3;class v3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y3&&this.cachedEventUids.clear(),this.cachedEventUids.has($1(e))}saveEventToCache(e){this.cachedEventUids.add($1(e)),this.lastProcessedEventTime=Date.now()}}function $1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e={}){return Ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S3=/^https?/;async function I3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w3(t);for(const n of e)try{if(b3(n))return}catch{}Ur(t,"unauthorized-domain")}function b3(t){const e=y0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!S3.test(n))return!1;if(E3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new dc(3e4,6e4);function j1(){const t=yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A3(t){return new Promise((e,n)=>{var r,i,s;function o(){j1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j1(),n(mi(t,"network-request-failed"))},timeout:x3.get()})}if(!((i=(r=yi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yi().gapi)===null||s===void 0)&&s.load)o();else{const a=vL("iframefcb");return yi()[a]=()=>{gapi.load?o():n(mi(t,"network-request-failed"))},jx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function T3(t){return Lh=Lh||A3(t),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new dc(5e3,15e3),R3="__/auth/iframe",C3="emulator/auth/iframe",P3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M3(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cv(e,C3):`https://${t.config.authDomain}/${R3}`,r={apiKey:e.apiKey,appName:t.name,v:Fo},i=N3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hc(r).slice(1)}`}async function L3(t){const e=await T3(t),n=yi().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:M3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=mi(t,"network-request-failed"),a=yi().setTimeout(()=>{s(o)},k3.get());function l(){yi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D3=500,O3=600,U3="_blank",F3="http://localhost";class z1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V3(t,e,n,r=D3,i=O3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},B3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Vn().toLowerCase();n&&(a=Bx(u)?U3:n),Lx(u)&&(e=e||F3,l.scrollbars="yes");const c=Object.entries(l).reduce((v,[_,x])=>`${v}${_}=${x},`,"");if(uL(u)&&a!=="_self")return $3(e||"",a),new z1(null);const f=window.open(e||"",a,c);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new z1(f)}function $3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="__/auth/handler",z3="emulator/auth/handler",q3=encodeURIComponent("fac");async function q1(t,e,n,r,i,s){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fo,eventId:i};if(e instanceof gv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(e instanceof pc){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${q3}=${encodeURIComponent(l)}`:"";return`${K3(t)}?${hc(a).slice(1)}${u}`}function K3({config:t}){return t.emulator?cv(t,z3):`https://${t.authDomain}/${j3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class W3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xx,this._completeRedirectFn=m3,this._overrideRedirectResult=f3}async _openPopup(e,n,r,i){var s;Hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await q1(e,n,r,y0(),i);return V3(e,o,mv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await q1(e,n,r,y0(),i);return YL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await L3(e),r=new v3(e);return n.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cg,{type:cg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cg];o!==void 0&&n(!!o),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vx()||dv()||gf()}}const H3=W3;var K1="@firebase/auth",W1="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Y3(t){To(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$x(t)},u=new mL(r,i,s,l);return bL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),To(new Os("auth-internal",e=>{const n=Zi(e.getProvider("auth").getImmediate());return(r=>new G3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(K1,W1,Q3(t)),gi(K1,W1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=5*60,J3=wx("authIdTokenMaxAge")||X3;let H1=null;const Z3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J3)return;const i=n==null?void 0:n.token;H1!==i&&(H1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function po(t=av()){const e=pf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IL(t,{popupRedirectResolver:H3,persistence:[s3,HL,Xx]}),r=wx("authTokenSyncURL");if(r){const s=Z3(r);jL(n,s,()=>s(n.currentUser)),$L(n,o=>s(o))}const i=yx("auth");return i&&xL(n,`http://${i}`),n}Y3("Browser");var eB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,vv=vv||{},Ae=eB||self;function vf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function mc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function tB(t){return Object.prototype.hasOwnProperty.call(t,hg)&&t[hg]||(t[hg]=++nB)}var hg="closure_uid_"+(1e9*Math.random()>>>0),nB=0;function rB(t,e,n){return t.call.apply(t.bind,arguments)}function iB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function On(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?On=rB:On=iB,On.apply(null,arguments)}function eh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Hs(){this.s=this.s,this.o=this.o}var sB=0;Hs.prototype.s=!1;Hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),sB!=0)&&tB(this)};Hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _v(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function G1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Un(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Un.prototype.h=function(){this.defaultPrevented=!0};var oB=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ae.addEventListener("test",()=>{},e),Ae.removeEventListener("test",()=>{},e)}catch{}return t}();function ju(t){return/^[\s\xa0]*$/.test(t)}function _f(){var t=Ae.navigator;return t&&(t=t.userAgent)?t:""}function si(t){return _f().indexOf(t)!=-1}function wv(t){return wv[" "](t),t}wv[" "]=function(){};function aB(t,e){var n=ZB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var lB=si("Opera"),Wa=si("Trident")||si("MSIE"),aA=si("Edge"),_0=aA||Wa,lA=si("Gecko")&&!(_f().toLowerCase().indexOf("webkit")!=-1&&!si("Edge"))&&!(si("Trident")||si("MSIE"))&&!si("Edge"),uB=_f().toLowerCase().indexOf("webkit")!=-1&&!si("Edge");function uA(){var t=Ae.document;return t?t.documentMode:void 0}var w0;e:{var dg="",fg=function(){var t=_f();if(lA)return/rv:([^\);]+)(\)|;)/.exec(t);if(aA)return/Edge\/([\d\.]+)/.exec(t);if(Wa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(uB)return/WebKit\/(\S+)/.exec(t);if(lB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(fg&&(dg=fg?fg[1]:""),Wa){var pg=uA();if(pg!=null&&pg>parseFloat(dg)){w0=String(pg);break e}}w0=dg}var E0;if(Ae.document&&Wa){var Q1=uA();E0=Q1||parseInt(w0,10)||void 0}else E0=void 0;var cB=E0;function zu(t,e){if(Un.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lA){e:{try{wv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:hB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&zu.$.h.call(this)}}hn(zu,Un);var hB={2:"touch",3:"pen",4:"mouse"};zu.prototype.h=function(){zu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yc="closure_listenable_"+(1e6*Math.random()|0),dB=0;function fB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++dB,this.fa=this.ia=!1}function wf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ev(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function pB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function cA(t){const e={};for(const n in t)e[n]=t[n];return e}const Y1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Y1.length;s++)n=Y1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ef(t){this.src=t,this.g={},this.h=0}Ef.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=I0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new fB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function S0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=oA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function I0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Sv="closure_lm_"+(1e6*Math.random()|0),gg={};function dA(t,e,n,r,i){if(r&&r.once)return pA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dA(t,e[s],n,r,i);return null}return n=xv(n),t&&t[yc]?t.O(e,n,mc(r)?!!r.capture:!!r,i):fA(t,e,n,!1,r,i)}function fA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=mc(i)?!!i.capture:!!i,a=bv(t);if(a||(t[Sv]=a=new Ef(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=gB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)oB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gB(){function t(n){return e.call(t.src,t.listener,n)}const e=mB;return t}function pA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)pA(t,e[s],n,r,i);return null}return n=xv(n),t&&t[yc]?t.P(e,n,mc(r)?!!r.capture:!!r,i):fA(t,e,n,!0,r,i)}function gA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)gA(t,e[s],n,r,i);else r=mc(r)?!!r.capture:!!r,n=xv(n),t&&t[yc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=I0(s,n,r,i),-1<n&&(wf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=bv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=I0(e,n,r,i)),(n=-1<t?e[t]:null)&&Iv(n))}function Iv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yc])S0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bv(e))?(S0(n,t),n.h==0&&(n.src=null,e[Sv]=null)):wf(t)}}}function mA(t){return t in gg?gg[t]:gg[t]="on"+t}function mB(t,e){if(t.fa)t=!0;else{e=new zu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Iv(t),t=n.call(r,e)}return t}function bv(t){return t=t[Sv],t instanceof Ef?t:null}var mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function xv(t){return typeof t=="function"?t:(t[mg]||(t[mg]=function(e){return t.handleEvent(e)}),t[mg])}function cn(){Hs.call(this),this.i=new Ef(this),this.S=this,this.J=null}hn(cn,Hs);cn.prototype[yc]=!0;cn.prototype.removeEventListener=function(t,e,n,r){gA(this,t,e,n,r)};function In(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Un(e,t);else if(e instanceof Un)e.target=e.target||t;else{var i=e;e=new Un(r,t),hA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=th(o,r,!0,e)&&i}if(o=e.g=t,i=th(o,r,!0,e)&&i,i=th(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=th(o,r,!1,e)&&i}cn.prototype.N=function(){if(cn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wf(n[r]);delete t.g[e],t.h--}}this.J=null};cn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};cn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function th(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&S0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Av=Ae.JSON.stringify;class yB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function vB(){var t=Tv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class _B{constructor(){this.h=this.g=null}add(e,n){const r=yA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yA=new yB(()=>new wB,t=>t.reset());class wB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function EB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function SB(t){Ae.setTimeout(()=>{throw t},0)}let qu,Ku=!1,Tv=new _B,vA=()=>{const t=Ae.Promise.resolve(void 0);qu=()=>{t.then(IB)}};var IB=()=>{for(var t;t=vB();){try{t.h.call(t.g)}catch(n){SB(n)}var e=yA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ku=!1};function Sf(t,e){cn.call(this),this.h=t||1,this.g=e||Ae,this.j=On(this.qb,this),this.l=Date.now()}hn(Sf,cn);oe=Sf.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),In(this,"tick"),this.ga&&(kv(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){Sf.$.N.call(this),kv(this),delete this.g};function Rv(t,e,n){if(typeof t=="function")n&&(t=On(t,n));else if(t&&typeof t.handleEvent=="function")t=On(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function _A(t){t.g=Rv(()=>{t.g=null,t.i&&(t.i=!1,_A(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class bB extends Hs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_A(this)}N(){super.N(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wu(t){Hs.call(this),this.h=t,this.g={}}hn(Wu,Hs);var X1=[];function wA(t,e,n,r){Array.isArray(n)||(n&&(X1[0]=n.toString()),n=X1);for(var i=0;i<n.length;i++){var s=dA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function EA(t){Ev(t.g,function(e,n){this.g.hasOwnProperty(n)&&Iv(e)},t),t.g={}}Wu.prototype.N=function(){Wu.$.N.call(this),EA(this)};Wu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function If(){this.g=!0}If.prototype.Ea=function(){this.g=!1};function xB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function AB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function wa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+kB(t,n)+(r?" "+r:"")})}function TB(t,e){t.info(function(){return"TIMEOUT: "+e})}If.prototype.info=function(){};function kB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Av(n)}catch{return e}}var $o={},J1=null;function bf(){return J1=J1||new cn}$o.Ta="serverreachability";function SA(t){Un.call(this,$o.Ta,t)}hn(SA,Un);function Hu(t){const e=bf();In(e,new SA(e))}$o.STAT_EVENT="statevent";function IA(t,e){Un.call(this,$o.STAT_EVENT,t),this.stat=e}hn(IA,Un);function Wn(t){const e=bf();In(e,new IA(e,t))}$o.Ua="timingevent";function bA(t,e){Un.call(this,$o.Ua,t),this.size=e}hn(bA,Un);function vc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){t()},e)}var xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cv(){}Cv.prototype.h=null;function Z1(t){return t.h||(t.h=t.i())}function AA(){}var _c={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pv(){Un.call(this,"d")}hn(Pv,Un);function Nv(){Un.call(this,"c")}hn(Nv,Un);var b0;function Af(){}hn(Af,Cv);Af.prototype.g=function(){return new XMLHttpRequest};Af.prototype.i=function(){return{}};b0=new Af;function wc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Wu(this),this.P=RB,t=_0?125:void 0,this.V=new Sf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TA}function TA(){this.i=null,this.g="",this.h=!1}var RB=45e3,x0={},Id={};oe=wc.prototype;oe.setTimeout=function(t){this.P=t};function A0(t,e,n){t.L=1,t.v=kf(Qi(e)),t.s=n,t.S=!0,kA(t,null)}function kA(t,e){t.G=Date.now(),Ec(t),t.A=Qi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),DA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new TA,t.g=rT(t.l,n?e:null,!t.s),0<t.O&&(t.M=new bB(On(t.Pa,t,t.g),t.O)),wA(t.U,t.g,"readystatechange",t.nb),e=t.I?cA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Hu(),xB(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&li(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const c=li(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>c)&&(c!=3||_0||this.g&&(this.h.h||this.g.ja()||rE(this.g)))){this.J||c!=4||e==7||(e==8||0>=f?Hu(3):Hu(2)),Tf(this);var n=this.g.da();this.ca=n;t:if(RA(this)){var r=rE(this.g);t="";var i=r.length,s=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),fu(this);var o="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,AB(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ju(a)){var u=a;break t}}u=null}if(n=u)wa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,T0(this,n);else{this.i=!1,this.o=3,Wn(12),oo(this),fu(this);break e}}this.S?(CA(this,c,o),_0&&this.i&&c==3&&(wA(this.U,this.V,"tick",this.mb),this.V.start())):(wa(this.j,this.m,o,null),T0(this,o)),c==4&&oo(this),this.i&&!this.J&&(c==4?ZA(this.l,this):(this.i=!1,Ec(this)))}else YB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Wn(12)):(this.o=0,Wn(13)),oo(this),fu(this)}}}catch{}finally{}};function RA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function CA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=CB(t,n),i==Id){e==4&&(t.o=4,Wn(14),r=!1),wa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==x0){t.o=4,Wn(15),wa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else wa(t.j,t.m,i,null),T0(t,i);RA(t)&&i!=Id&&i!=x0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uv(e),e.M=!0,Wn(11))):(wa(t.j,t.m,n,"[Invalid Chunked Response]"),oo(t),fu(t))}oe.mb=function(){if(this.g){var t=li(this.g),e=this.g.ja();this.C<e.length&&(Tf(this),CA(this,t,e),this.i&&t!=4&&Ec(this))}};function CB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Id:(n=Number(e.substring(n,r)),isNaN(n)?x0:(r+=1,r+n>e.length?Id:(e=e.slice(r,r+n),t.C=r+n,e)))}oe.cancel=function(){this.J=!0,oo(this)};function Ec(t){t.Y=Date.now()+t.P,PA(t,t.P)}function PA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=vc(On(t.lb,t),e)}function Tf(t){t.B&&(Ae.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(TB(this.j,this.A),this.L!=2&&(Hu(),Wn(17)),oo(this),this.o=2,fu(this)):PA(this,this.Y-t)};function fu(t){t.l.H==0||t.J||ZA(t.l,t)}function oo(t){Tf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,kv(t.V),EA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function T0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||k0(n.i,t))){if(!t.K&&k0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ad(n),Nf(n);else break e;Ov(n),Wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=vc(On(n.ib,n),6e3));if(1>=FA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ao(n,11)}else if((t.K||n.g==t)&&Ad(n),!ju(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const v=u[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const _=t.g;if(_){const x=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var s=r.i;s.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Mv(s,s.h),s.h=null))}if(r.F){const I=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,lt(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=nT(r,r.J?r.pa:null,r.Y),o.K){VA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Tf(a),Ec(a)),r.g=o}else XA(r);0<n.j.length&&Mf(n)}else u[0]!="stop"&&u[0]!="close"||ao(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ao(n,7):Dv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Hu(4)}catch{}}function PB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function NB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function NA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=NB(t),r=PB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var MA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function go(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof go){this.h=t.h,bd(this,t.j),this.s=t.s,this.g=t.g,xd(this,t.m),this.l=t.l;var e=t.i,n=new Gu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),eE(this,n),this.o=t.o}else t&&(e=String(t).match(MA))?(this.h=!1,bd(this,e[1]||"",!0),this.s=Gl(e[2]||""),this.g=Gl(e[3]||"",!0),xd(this,e[4]),this.l=Gl(e[5]||"",!0),eE(this,e[6]||"",!0),this.o=Gl(e[7]||"")):(this.h=!1,this.i=new Gu(null,this.h))}go.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ql(e,tE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ql(e,tE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ql(n,n.charAt(0)=="/"?DB:BB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ql(n,UB)),t.join("")};function Qi(t){return new go(t)}function bd(t,e,n){t.j=n?Gl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eE(t,e,n){e instanceof Gu?(t.i=e,FB(t.i,t.h)):(n||(e=Ql(e,OB)),t.i=new Gu(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function kf(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ql(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,LB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function LB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tE=/[#\/\?@]/g,BB=/[#\?:]/g,DB=/[#\?]/g,OB=/[#\?@]/g,UB=/#/g;function Gu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Gs(t){t.g||(t.g=new Map,t.h=0,t.i&&MB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=Gu.prototype;oe.add=function(t,e){Gs(this),this.i=null,t=pl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function LA(t,e){Gs(t),e=pl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BA(t,e){return Gs(t),e=pl(t,e),t.g.has(e)}oe.forEach=function(t,e){Gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};oe.ta=function(){Gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};oe.Z=function(t){Gs(this);let e=[];if(typeof t=="string")BA(this,t)&&(e=e.concat(this.g.get(pl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return Gs(this),this.i=null,t=pl(this,t),BA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function DA(t,e,n){LA(t,e),0<n.length&&(t.i=null,t.g.set(pl(t,e),_v(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FB(t,e){e&&!t.j&&(Gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LA(this,r),DA(this,i,n))},t)),t.j=e}var VB=class{constructor(t,e){this.g=t,this.map=e}};function OA(t){this.l=t||$B,Ae.PerformanceNavigationTiming?(t=Ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ae.g&&Ae.g.Ka&&Ae.g.Ka()&&Ae.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $B=10;function UA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function FA(t){return t.h?1:t.g?t.g.size:0}function k0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Mv(t,e){t.g?t.g.add(e):t.h=e}function VA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}OA.prototype.cancel=function(){if(this.i=$A(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function $A(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return _v(t.i)}var jB=class{stringify(t){return Ae.JSON.stringify(t,void 0)}parse(t){return Ae.JSON.parse(t,void 0)}};function zB(){this.g=new jB}function qB(t,e,n){const r=n||"";try{NA(t,function(i,s){let o=i;mc(i)&&(o=Av(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function KB(t,e){const n=new If;if(Ae.Image){const r=new Image;r.onload=eh(nh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=eh(nh,n,r,"TestLoadImage: error",!1,e),r.onabort=eh(nh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=eh(nh,n,r,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function nh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rf(t){this.l=t.ec||null,this.j=t.ob||!1}hn(Rf,Cv);Rf.prototype.g=function(){return new Cf(this.l,this.j)};Rf.prototype.i=function(t){return function(){return t}}({});function Cf(t,e){cn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(Cf,cn);var Lv=0;oe=Cf.prototype;oe.open=function(t,e){if(this.readyState!=Lv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qu(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=Lv};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qu(this)),this.g&&(this.readyState=3,Qu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function jA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sc(this):Qu(this),this.readyState==3&&jA(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,Sc(this))};oe.Ya=function(t){this.g&&(this.response=t,Sc(this))};oe.ka=function(){this.g&&Sc(this)};function Sc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qu(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Qu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WB=Ae.JSON.parse;function kt(t){cn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zA,this.L=this.M=!1}hn(kt,cn);var zA="",HB=/^https?$/i,GB=["POST","PUT"];oe=kt.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():b0.g(),this.C=this.u?Z1(this.u):Z1(b0),this.g.onreadystatechange=On(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){nE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ae.FormData&&t instanceof Ae.FormData,!(0<=oA(GB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WA(this),0<this.B&&((this.L=QB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=On(this.ua,this)):this.A=Rv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){nE(this,s)}};function QB(t){return Wa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof vv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,In(this,"timeout"),this.abort(8))};function nE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qA(t),Pf(t)}function qA(t){t.F||(t.F=!0,In(t,"complete"),In(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,In(this,"complete"),In(this,"abort"),Pf(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pf(this,!0)),kt.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?KA(this):this.kb())};oe.kb=function(){KA(this)};function KA(t){if(t.h&&typeof vv<"u"&&(!t.C[1]||li(t)!=4||t.da()!=2)){if(t.v&&li(t)==4)Rv(t.La,0,t);else if(In(t,"readystatechange"),li(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(MA)[1]||null;!i&&Ae.self&&Ae.self.location&&(i=Ae.self.location.protocol.slice(0,-1)),r=!HB.test(i?i.toLowerCase():"")}n=r}if(n)In(t,"complete"),In(t,"success");else{t.m=6;try{var s=2<li(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",qA(t)}}finally{Pf(t)}}}}function Pf(t,e){if(t.g){WA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||In(t,"ready");try{n.onreadystatechange=r}catch{}}}function WA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ae.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function li(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WB(e)}};function rE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function YB(t){const e={};t=(t.g&&2<=li(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ju(t[r]))continue;var n=EB(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}pB(e,function(r){return r.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function HA(t){let e="";return Ev(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function Bl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function GA(t){this.Ga=0,this.j=[],this.l=new If,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bl("baseRetryDelayMs",5e3,t),this.hb=Bl("retryDelaySeedMs",1e4,t),this.eb=Bl("forwardChannelMaxRetries",2,t),this.xa=Bl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OA(t&&t.concurrentRequestLimit),this.Ja=new zB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=GA.prototype;oe.ra=8;oe.H=1;function Dv(t){if(QA(t),t.H==3){var e=t.W++,n=Qi(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),Ic(t,n),e=new wc(t,t.l,e),e.L=2,e.v=kf(Qi(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon)try{n=Ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=rT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ec(e)}tT(t)}function Nf(t){t.g&&(Uv(t),t.g.cancel(),t.g=null)}function QA(t){Nf(t),t.u&&(Ae.clearTimeout(t.u),t.u=null),Ad(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ae.clearTimeout(t.m),t.m=null)}function Mf(t){if(!UA(t.i)&&!t.m){t.m=!0;var e=t.Na;qu||vA(),Ku||(qu(),Ku=!0),Tv.add(e,t),t.C=0}}function XB(t,e){return FA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vc(On(t.Na,t,e),eT(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new wc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=cA(s),hA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YA(this,i,e),n=Qi(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),Ic(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(HA(s)))+"&"+e:this.o&&Bv(n,this.o,s)),Mv(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,A0(i,n,null)):A0(i,n,e),this.H=2}}else this.H==3&&(t?iE(this,t):this.j.length==0||UA(this.i)||iE(this))};function iE(t,e){var n;e?n=e.m:n=t.W++;const r=Qi(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),Ic(t,r),t.o&&t.s&&Bv(r,t.o,t.s),n=new wc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Mv(t.i,n),A0(n,r,e)}function Ic(t,e){t.na&&Ev(t.na,function(n,r){lt(e,r,n)}),t.h&&NA({},function(n,r){lt(e,r,n)})}function YA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?On(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{qB(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function XA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qu||vA(),Ku||(qu(),Ku=!0),Tv.add(e,t),t.A=0}}function Ov(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vc(On(t.Ma,t),eT(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,JA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vc(On(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wn(10),Nf(this),JA(this))};function Uv(t){t.B!=null&&(Ae.clearTimeout(t.B),t.B=null)}function JA(t){t.g=new wc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qi(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),Ic(t,e),t.o&&t.s&&Bv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=kf(Qi(e)),n.s=null,n.S=!0,kA(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,Nf(this),Ov(this),Wn(19))};function Ad(t){t.v!=null&&(Ae.clearTimeout(t.v),t.v=null)}function ZA(t,e){var n=null;if(t.g==e){Ad(t),Uv(t),t.g=null;var r=2}else if(k0(t.i,e))n=e.F,VA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=bf(),In(r,new bA(r,n)),Mf(t)}else XA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&XB(t,e)||r==2&&Ov(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ao(t,5);break;case 4:ao(t,10);break;case 3:ao(t,6);break;default:ao(t,2)}}}function eT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ao(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=On(t.pb,t);n||(n=new go("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||bd(n,"https"),kf(n)),KB(n.toString(),r)}else Wn(2);t.H=0,t.h&&t.h.za(e),tT(t),QA(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wn(2)):(this.l.info("Failed to ping google.com"),Wn(1))};function tT(t){if(t.H=0,t.ma=[],t.h){const e=$A(t.i);(e.length!=0||t.j.length!=0)&&(G1(t.ma,e),G1(t.ma,t.j),t.i.i.length=0,_v(t.j),t.j.length=0),t.h.ya()}}function nT(t,e,n){var r=n instanceof go?Qi(n):new go(n);if(r.g!="")e&&(r.g=e+"."+r.g),xd(r,r.m);else{var i=Ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new go(null);r&&bd(s,r),e&&(s.g=e),i&&xd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),Ic(t,r),r}function rT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new kt(new Rf({ob:!0})):new kt(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function iT(){}oe=iT.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function Td(){if(Wa&&!(10<=Number(cB)))throw Error("Environmental error: no available transport.")}Td.prototype.g=function(t,e){return new vr(t,e)};function vr(t,e){cn.call(this),this.g=new GA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ju(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ju(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gl(this)}hn(vr,cn);vr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nT(t,null,t.Y),Mf(t)};vr.prototype.close=function(){Dv(this.g)};vr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Av(t),t=n);e.j.push(new VB(e.fb++,t)),e.H==3&&Mf(e)};vr.prototype.N=function(){this.g.h=null,delete this.j,Dv(this.g),delete this.g,vr.$.N.call(this)};function sT(t){Pv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hn(sT,Pv);function oT(){Nv.call(this),this.status=1}hn(oT,Nv);function gl(t){this.g=t}hn(gl,iT);gl.prototype.Ba=function(){In(this.g,"a")};gl.prototype.Aa=function(t){In(this.g,new sT(t))};gl.prototype.za=function(t){In(this.g,new oT)};gl.prototype.ya=function(){In(this.g,"b")};function JB(){this.blockSize=-1}function Xr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(Xr,JB);Xr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function yg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Xr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)yg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){yg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){yg(this,r),i=0;break}}this.h=i,this.i+=e};Xr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var ZB={};function Fv(t){return-128<=t&&128>t?aB(t,function(e){return new Ye([e|0],0>e?-1:0)}):new Ye([t|0],0>t?-1:0)}function ui(t){if(isNaN(t)||!isFinite(t))return Pa;if(0>t)return vn(ui(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=R0;return new Ye(e,0)}function aT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return vn(aT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ui(Math.pow(e,8)),r=Pa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ui(Math.pow(e,s)),r=r.R(s).add(ui(o))):(r=r.R(n),r=r.add(ui(o)))}return r}var R0=4294967296,Pa=Fv(0),C0=Fv(1),sE=Fv(16777216);oe=Ye.prototype;oe.ea=function(){if(Nr(this))return-vn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:R0+r)*e,e*=R0}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ui(this))return"0";if(Nr(this))return"-"+vn(this).toString(t);for(var e=ui(Math.pow(t,6)),n=this,r="";;){var i=Rd(n,e).g;n=kd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ui(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ui(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Nr(t){return t.h==-1}oe.X=function(t){return t=kd(this,t),Nr(t)?-1:Ui(t)?0:1};function vn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ye(n,~t.h).add(C0)}oe.abs=function(){return Nr(this)?vn(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ye(n,n[n.length-1]&-2147483648?-1:0)};function kd(t,e){return t.add(vn(e))}oe.R=function(t){if(Ui(this)||Ui(t))return Pa;if(Nr(this))return Nr(t)?vn(this).R(vn(t)):vn(vn(this).R(t));if(Nr(t))return vn(this.R(vn(t)));if(0>this.X(sE)&&0>t.X(sE))return ui(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,rh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,rh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,rh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,rh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ye(n,0)};function rh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Dl(t,e){this.g=t,this.h=e}function Rd(t,e){if(Ui(e))throw Error("division by zero");if(Ui(t))return new Dl(Pa,Pa);if(Nr(t))return e=Rd(vn(t),e),new Dl(vn(e.g),vn(e.h));if(Nr(e))return e=Rd(t,vn(e)),new Dl(vn(e.g),e.h);if(30<t.g.length){if(Nr(t)||Nr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=C0,r=e;0>=r.X(t);)n=oE(n),r=oE(r);var i=Jo(n,1),s=Jo(r,1);for(r=Jo(r,2),n=Jo(n,2);!Ui(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Jo(r,1),n=Jo(n,1)}return e=kd(t,i.R(e)),new Dl(i,e)}for(i=Pa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ui(n),o=s.R(e);Nr(o)||0<o.X(t);)n-=r,s=ui(n),o=s.R(e);Ui(s)&&(s=C0),i=i.add(s),t=kd(t,o)}return new Dl(i,t)}oe.gb=function(t){return Rd(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ye(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ye(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ye(n,this.h^t.h)};function oE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ye(n,t.h)}function Jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ye(i,t.h)}Td.prototype.createWebChannel=Td.prototype.g;vr.prototype.send=vr.prototype.u;vr.prototype.open=vr.prototype.m;vr.prototype.close=vr.prototype.close;xf.NO_ERROR=0;xf.TIMEOUT=8;xf.HTTP_ERROR=6;xA.COMPLETE="complete";AA.EventType=_c;_c.OPEN="a";_c.CLOSE="b";_c.ERROR="c";_c.MESSAGE="d";cn.prototype.listen=cn.prototype.O;kt.prototype.listenOnce=kt.prototype.P;kt.prototype.getLastError=kt.prototype.Sa;kt.prototype.getLastErrorCode=kt.prototype.Ia;kt.prototype.getStatus=kt.prototype.da;kt.prototype.getResponseJson=kt.prototype.Wa;kt.prototype.getResponseText=kt.prototype.ja;kt.prototype.send=kt.prototype.ha;kt.prototype.setWithCredentials=kt.prototype.Oa;Xr.prototype.digest=Xr.prototype.l;Xr.prototype.reset=Xr.prototype.reset;Xr.prototype.update=Xr.prototype.j;Ye.prototype.add=Ye.prototype.add;Ye.prototype.multiply=Ye.prototype.R;Ye.prototype.modulo=Ye.prototype.gb;Ye.prototype.compare=Ye.prototype.X;Ye.prototype.toNumber=Ye.prototype.ea;Ye.prototype.toString=Ye.prototype.toString;Ye.prototype.getBits=Ye.prototype.D;Ye.fromNumber=ui;Ye.fromString=aT;var eD=function(){return new Td},tD=function(){return bf()},vg=xf,nD=xA,rD=$o,aE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ih=AA,iD=kt,sD=Xr,Na=Ye;const lE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new sv("@firebase/firestore");function Ol(){return Ro.logLevel}function de(t,...e){if(Ro.logLevel<=Ve.DEBUG){const n=e.map(Vv);Ro.debug(`Firestore (${ml}): ${t}`,...n)}}function Yi(t,...e){if(Ro.logLevel<=Ve.ERROR){const n=e.map(Vv);Ro.error(`Firestore (${ml}): ${t}`,...n)}}function Ha(t,...e){if(Ro.logLevel<=Ve.WARN){const n=e.map(Vv);Ro.warn(`Firestore (${ml}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: `+t;throw Yi(e),new Error(e)}function ht(t,e){t||be()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class aD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lD{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new lT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new Ln(e)}}class uD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string"),this.R=n.token,new hD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sn.fromMillis(Date.now())}static fromDate(e){return sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new sn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new sn(0,0))}static max(){return new ke(new sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(),r===void 0?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends Yu{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const pD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Yu{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return pD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new he(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}function gD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new sn(n+1,0):new sn(n,r));return new Us(i,ye.empty(),e)}function mD(t){return new Us(t.readTime,t.key,-1)}class Us{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Us(ke.min(),ye.empty(),-1)}static max(){return new Us(ke.max(),ye.empty(),-1)}}function yD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _D{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==vD)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new te((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$v.ae=-1;function Lf(t){return t==null}function Cd(t){return t===0&&1/t==-1/0}function wD(t){return typeof t=="number"&&Number.isInteger(t)&&!Cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mn.RED,this.left=i??mn.EMPTY,this.right=s??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bn(this.comparator);return n.data=e,n}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new bn(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hT("Invalid base64 string: "+s):s}}(e);return new $n(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const ED=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(ht(!!t),typeof t=="string"){let e=0;const n=ED.exec(t);if(ht(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zv(t){const e=t.mapValue.fields.__previous_value__;return jv(e)?zv(e):e}function Xu(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ju{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jv(t)?4:ID(t)?9007199254740991:10:be()}function Ei(t,e){if(t===e)return!0;const n=Po(t);if(n!==Po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fs(i.timestampValue),a=Fs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Co(i.bytesValue).isEqual(Co(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Xt(i.geoPointValue.latitude)===Xt(s.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xt(i.integerValue)===Xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Xt(i.doubleValue),a=Xt(s.doubleValue);return o===a?Cd(o)===Cd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uE(o)!==uE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ei(o[l],a[l])))return!1;return!0}(t,e);default:return be()}}function Zu(t,e){return(t.values||[]).find(n=>Ei(n,e))!==void 0}function Qa(t,e){if(t===e)return 0;const n=Po(t),r=Po(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Xt(s.integerValue||s.doubleValue),l=Xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hE(t.timestampValue,e.timestampValue);case 4:return hE(Xu(t),Xu(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Co(s),l=Co(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=We(a[u],l[u]);if(c!==0)return c}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=We(Xt(s.latitude),Xt(o.latitude));return a!==0?a:We(Xt(s.longitude),Xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Qa(a[u],l[u]);if(c)return c}return We(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===oh.mapValue&&o===oh.mapValue)return 0;if(s===oh.mapValue)return 1;if(o===oh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const v=We(l[f],c[f]);if(v!==0)return v;const _=Qa(a[l[f]],u[c[f]]);if(_!==0)return _}return We(l.length,c.length)}(t.mapValue,e.mapValue);default:throw be()}}function hE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Fs(t),r=Fs(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function Ya(t){return P0(t)}function P0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=P0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${P0(n.fields[o])}`;return i+"}"}(t.mapValue):be()}function dE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function N0(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function fE(t){return!!t&&"nullValue"in t}function pE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bh(t){return!!t&&"mapValue"in t}function pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ID(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=wn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rr(pu(this.value))}}function dT(t){const e=[];return jo(t.fields,(n,r)=>{const i=new wn([n]);if(Bh(r)){const s=dT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dn(e,0,ke.min(),ke.min(),ke.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new Dn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Dn(e,2,n,ke.min(),ke.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,ke.min(),ke.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function gE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Qa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function bD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{}class Zt extends fT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AD(e,n,r):n==="array-contains"?new RD(e,r):n==="in"?new CD(e,r):n==="not-in"?new PD(e,r):n==="array-contains-any"?new ND(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TD(e,r):new kD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&Po(this.value)===Po(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends fT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jr(e,n)}matches(e){return pT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function pT(t){return t.op==="and"}function gT(t){return xD(t)&&pT(t)}function xD(t){for(const e of t.filters)if(e instanceof Jr)return!1;return!0}function M0(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(gT(t))return t.filters.map(e=>M0(e)).join(",");{const e=t.filters.map(n=>M0(n)).join(",");return`${t.op}(${e})`}}function mT(t,e){return t instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&Ei(r.value,i.value)}(t,e):t instanceof Jr?function(r,i){return i instanceof Jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mT(o,i.filters[a]),!0):!1}(t,e):void be()}function yT(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(yT).join(" ,")+"}"}(t):"Filter"}class AD extends Zt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class TD extends Zt{constructor(e,n){super(e,"in",n),this.keys=vT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kD extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=vT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class RD extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qv(n)&&Zu(n.arrayValue,this.value)}}class CD extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class PD extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zu(this.value.arrayValue,n)}}class ND extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function yE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new MD(t,e,n,r,i,s,o)}function Kv(t){const e=Ce(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.le=n}return e.le}function Wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mE(t.startAt,e.startAt)&&mE(t.endAt,e.endAt)}function L0(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function LD(t,e,n,r,i,s,o,a){return new Ac(t,e,n,r,i,s,o,a)}function Hv(t){return new Ac(t)}function vE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _T(t){return t.collectionGroup!==null}function gu(t){const e=Ce(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bn(wn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Nd(s,r))}),n.has(wn.keyField().canonicalString())||e.he.push(new Nd(wn.keyField(),r))}return e.he}function vi(t){const e=Ce(t);return e.Pe||(e.Pe=BD(e,gu(t))),e.Pe}function BD(t,e){if(t.limitType==="F")return yE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nd(i.field,s)});const n=t.endAt?new Pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pd(t.startAt.position,t.startAt.inclusive):null;return yE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function B0(t,e){const n=t.filters.concat([e]);return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function D0(t,e,n){return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return Wv(vi(t),vi(e))&&t.limitType===e.limitType}function wT(t){return`${Kv(vi(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yT(i)).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(vi(t))}; limitType=${t.limitType})`}function Df(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=gE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,gu(r),i)||r.endAt&&!function(o,a,l){const u=gE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,gu(r),i))}(t,e)}function DD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ET(t){return(e,n)=>{let r=!1;for(const i of gu(t)){const s=OD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function OD(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Qa(l,u):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new St(ye.comparator);function Xi(){return UD}const ST=new St(ye.comparator);function Yl(...t){let e=ST;for(const n of t)e=e.insert(n.key,n);return e}function IT(t){let e=ST;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return mu()}function bT(){return mu()}function mu(){return new yl(t=>t.toString(),(t,e)=>t.isEqual(e))}const FD=new St(ye.comparator),VD=new bn(ye.comparator);function Ue(...t){let e=VD;for(const n of t)e=e.add(n);return e}const $D=new bn(We);function jD(){return $D}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function AT(t){return{integerValue:""+t}}function zD(t,e){return wD(e)?AT(e):xT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function qD(t,e,n){return t instanceof ec?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jv(s)&&(s=zv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Xa?kT(t,e):t instanceof Ja?RT(t,e):function(i,s){const o=TT(i,s),a=_E(o)+_E(i.Te);return N0(o)&&N0(i.Te)?AT(a):xT(i.serializer,a)}(t,e)}function KD(t,e,n){return t instanceof Xa?kT(t,e):t instanceof Ja?RT(t,e):n}function TT(t,e){return t instanceof Md?function(r){return N0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ec extends Of{}class Xa extends Of{constructor(e){super(),this.elements=e}}function kT(t,e){const n=CT(e);for(const r of t.elements)n.some(i=>Ei(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ja extends Of{constructor(e){super(),this.elements=e}}function RT(t,e){let n=CT(e);for(const r of t.elements)n=n.filter(i=>!Ei(i,r));return{arrayValue:{values:n}}}class Md extends Of{constructor(e,n){super(),this.serializer=e,this.Te=n}}function _E(t){return Xt(t.integerValue||t.doubleValue)}function CT(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.field=e,this.transform=n}}function WD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xa&&i instanceof Xa||r instanceof Ja&&i instanceof Ja?Ga(r.elements,i.elements,Ei):r instanceof Md&&i instanceof Md?Ei(r.Te,i.Te):r instanceof ec&&i instanceof ec}(t.transform,e.transform)}class HD{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uf{}function PT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MT(t.key,Hr.none()):new Tc(t.key,t.data,Hr.none());{const n=t.data,r=rr.empty();let i=new bn(wn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qs(t.key,r,new pr(i.toArray()),Hr.none())}}function GD(t,e,n){t instanceof Tc?function(i,s,o){const a=i.value.clone(),l=EE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qs?function(i,s,o){if(!Dh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=EE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(NT(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yu(t,e,n,r){return t instanceof Tc?function(s,o,a,l){if(!Dh(s.precondition,o))return a;const u=s.value.clone(),c=SE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qs?function(s,o,a,l){if(!Dh(s.precondition,o))return a;const u=SE(s.fieldTransforms,l,o),c=o.data;return c.setAll(NT(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Dh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=TT(r.transform,i||null);s!=null&&(n===null&&(n=rr.empty()),n.set(r.field,s))}return n||null}function wE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(s,o)=>WD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends Uf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qs extends Uf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function NT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EE(t,e,n){const r=new Map;ht(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KD(o,a,n[i]))}return r}function SE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qD(s,o,e))}return r}class MT extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends Uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=PT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>wE(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>wE(n,r))}}class Qv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length);let i=function(){return FD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Qv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,$e;function e6(t){switch(t){default:return be();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function LT(t){if(t===void 0)return Yi("GRPC error has no .code"),G.UNKNOWN;switch(t){case Qt.OK:return G.OK;case Qt.CANCELLED:return G.CANCELLED;case Qt.UNKNOWN:return G.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return G.INTERNAL;case Qt.UNAVAILABLE:return G.UNAVAILABLE;case Qt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Qt.NOT_FOUND:return G.NOT_FOUND;case Qt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Qt.ABORTED:return G.ABORTED;case Qt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Qt.DATA_LOSS:return G.DATA_LOSS;default:return be()}}($e=Qt||(Qt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Na([4294967295,4294967295],0);function IE(t){const e=t6().encode(t),n=new sD;return n.update(e),new Uint8Array(n.digest())}function bE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Na([n,r],0),new Na([i,s],0)]}class Yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Na.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Na.fromNumber(r)));return i.compare(n6)===1&&(i=new Na([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=IE(e),[r,i]=bE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Yv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=IE(e),[r,i]=bE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ff(ke.min(),i,new St(We),Xi(),Ue())}}class kc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kc(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class BT{constructor(e,n){this.targetId=e,this.ge=n}}class DT{constructor(e,n,r=$n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xE{constructor(){this.pe=0,this.ye=TE(),this.we=$n.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),r=Ue();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new kc(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=TE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class r6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Xi(),this.Ke=AE(),this.$e=new St(We)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(L0(s))if(r===0){const o=new ye(s.path);this.Ge(n,o,Dn.newNoDocument(o,ke.min()))}else ht(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Co(r).toUint8Array()}catch(l){if(l instanceof hT)return Ha("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yv(o,i,s)}catch(l){return Ha(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&L0(a.target)){const l=new ye(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,Dn.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Ue();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Ff(e,n,this.$e,this.Qe,r);return this.Qe=Xi(),this.Ke=AE(),this.$e=new St(We),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new xE,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new bn(We),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new xE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function AE(){return new St(ye.comparator)}function TE(){return new St(ye.comparator)}const i6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),s6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),o6=(()=>({and:"AND",or:"OR"}))();class a6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function O0(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function Ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function l6(t,e){return Ld(t,e.toTimestamp())}function _i(t){return ht(!!t),ke.fromTimestamp(function(n){const r=Fs(n);return new sn(r.seconds,r.nanos)}(t))}function Xv(t,e){return function(r){return new ut(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function UT(t){const e=ut.fromString(t);return ht(jT(e)),e}function U0(t,e){return Xv(t.databaseId,e.path)}function _g(t,e){const n=UT(e);if(n.get(1)!==t.databaseId.projectId)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(FT(n))}function F0(t,e){return Xv(t.databaseId,e)}function u6(t){const e=UT(t);return e.length===4?ut.emptyPath():FT(e)}function V0(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FT(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kE(t,e,n){return{name:U0(t,e),fields:n.value.mapValue.fields}}function c6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ht(c===void 0||typeof c=="string"),$n.fromBase64String(c||"")):(ht(c===void 0||c instanceof Uint8Array),$n.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?G.UNKNOWN:LT(u.code);return new he(c,u.message||"")}(o);n=new DT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_g(t,r.document.name),s=_i(r.document.updateTime),o=r.document.createTime?_i(r.document.createTime):ke.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=Dn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Oh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_g(t,r.document),s=r.readTime?_i(r.readTime):ke.min(),o=Dn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Oh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_g(t,r.document),s=r.removedTargetIds||[];n=new Oh([],s,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ZD(i,s),a=r.targetId;n=new BT(a,o)}}return n}function h6(t,e){let n;if(e instanceof Tc)n={update:kE(t,e.key,e.value)};else if(e instanceof MT)n={delete:U0(t,e.key)};else if(e instanceof Qs)n={update:kE(t,e.key,e.data),updateMask:w6(e.fieldMask)};else{if(!(e instanceof YD))return be();n={verify:U0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ec)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Md)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:l6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:be()}(t,e.precondition)),n}function d6(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_i(i.updateTime):_i(s);return o.isEqual(ke.min())&&(o=_i(s)),new HD(o,i.transformResults||[])}(n,e))):[]}function f6(t,e){return{documents:[F0(t,e.path)]}}function p6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=F0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=F0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return $T(Jr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:ra(f.field),direction:y6(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=O0(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function g6(t){let e=u6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(f){const v=VT(f);return v instanceof Jr&&gT(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(v=>function(x){return new Nd(ia(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(f){let v;return v=typeof f=="object"?f.value:f,Lf(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(f){const v=!!f.before,_=f.values||[];return new Pd(_,v)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const v=!f.before,_=f.values||[];return new Pd(_,v)}(n.endAt)),LD(e,i,o,s,a,"F",l,u)}function m6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ia(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ia(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ia(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ia(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(r=>VT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be()}function y6(t){return i6[t]}function v6(t){return s6[t]}function _6(t){return o6[t]}function ra(t){return{fieldPath:t.canonicalString()}}function ia(t){return wn.fromServerFormat(t.fieldPath)}function $T(t){return t instanceof Zt?function(n){if(n.op==="=="){if(pE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:v6(n.op),value:n.value}}}(t):t instanceof Jr?function(n){const r=n.getFilters().map(i=>$T(i));return r.length===1?r[0]:{compositeFilter:{op:_6(n.op),filters:r}}}(t):be()}function w6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=$n.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.ct=e}}function S6(t){const e=g6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this._n=new b6}addToCollectionParentIndex(e,n){return this._n.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Us.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class b6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bn(ut.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Za(0)}static Bn(){return new Za(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.changes=new yl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yu(r.mutation,i,pr.empty(),sn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xi();const o=mu(),a=function(){return mu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),yu(c.mutation,u,c.mutation.getFieldMask(),sn.now())):o.set(u.key,pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new A6(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mu();let i=new St((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||pr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=bT();c.forEach(v=>{if(!s.has(v)){const _=PT(n.get(v),r.get(v));_!==null&&f.set(v,_),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_T(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(lo());let a=-1,l=s;return o.next(u=>te.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?te.resolve():this.remoteDocumentCache.getEntry(e,c).next(v=>{l=l.insert(c,v)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ue())).next(c=>({batchId:a,changes:IT(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=Yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yl();return this.indexManager.getCollectionParents(e,s).next(a=>te.forEach(a,l=>{const u=function(f,v){return new Ac(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,v)=>{o=o.insert(f,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Dn.newInvalidDocument(c)))});let a=Yl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&yu(c.mutation,u,pr.empty(),sn.now()),Df(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return te.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_i(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:S6(i.bundledQuery),readTime:_i(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.overlays=new St(ye.comparator),this.hr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return te.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=lo(),s=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new St((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=lo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=lo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return te.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new JD(n,r));let s=this.hr.get(n);s===void 0&&(s=Ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.Pr=new bn(on.Ir),this.Tr=new bn(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new on(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ye(new ut([])),r=new on(n,e),i=new on(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ye(new ut([])),r=new on(n,e),i=new on(n,e+1);let s=Ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new on(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ye.comparator(e.key,n.key)||We(e.pr,n.pr)}static Er(e,n){return We(e.pr,n.pr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new bn(on.Ir)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new on(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bn(We);return n.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),te.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const o=new on(new ye(s),0);let a=new bn(We);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),te.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ht(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return te.forEach(n.mutations,i=>{const s=new on(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new on(n,0),i=this.wr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.vr=e,this.docs=function(){return new St(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=Xi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xi();const o=n.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||yD(mD(c),r)<=0||(i.has(c.key)||Df(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){be()}Fr(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N6(this)}getSize(e){return te.resolve(this.size)}}class N6 extends x6{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.persistence=e,this.Mr=new yl(n=>Kv(n),Wv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jv,this.targetCount=0,this.Br=Za.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),te.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.qn(n),te.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.Lr={},this.overlays={},this.kr=new $v(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new M6(this),this.indexManager=new I6,this.remoteDocumentCache=function(i){return new P6(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new E6(n),this.$r=new k6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new C6(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new B6(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return te.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class B6 extends _D{constructor(e){super(),this.currentSequenceNumber=e}}class Zv{constructor(e){this.persistence=e,this.zr=new Jv,this.jr=null}static Hr(e){return new Zv(e)}get Jr(){if(this.jr)return this.jr;throw be()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),te.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Jr,r=>{const i=ye.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return te.or([()=>te.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ue(),i=Ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new e_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new D6;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ol()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),te.resolve()):(Ol()<=Ve.DEBUG&&de("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ol()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):te.resolve())}ji(e,n){if(vE(n))return te.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=D0(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,D0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return vE(n)||i.isEqual(ke.min())?te.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?te.resolve(null):(Ol()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(n)),this.es(e,o,n,gD(i,-1)).next(a=>a))})}Zi(e,n){let r=new bn(ET(e));return n.forEach((i,s)=>{Df(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ol()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",na(n)),this.zi.getDocumentsMatchingQuery(e,n,Us.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new St(We),this.rs=new yl(s=>Kv(s),Wv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function F6(t,e,n,r){return new U6(t,e,n,r)}async function zT(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ue();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function V6(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,v=f.keys();let _=te.resolve();return v.forEach(x=>{_=_.next(()=>c.getEntry(l,x)).next(I=>{const b=u.docVersions.get(x);ht(b!==null),I.version.compareTo(b)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),c.addEntry(I)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qT(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $6(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,f)=>{const v=i.get(f);if(!v)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,f)));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken($n.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):c.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(c.resumeToken,r)),i=i.insert(f,_),function(I,b,w){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(v,_,c)&&a.push(n.Qr.updateTargetData(s,_))});let l=Xi(),u=Ue();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(j6(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function j6(t,e,n){let r=Ue(),i=Ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function z6(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q6(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new _s(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function $0(t,e,n){const r=Ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xc(o))throw o;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function RE(t,e,n){const r=Ce(t);let i=ke.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=Ce(l),v=f.rs.get(c);return v!==void 0?te.resolve(f.ns.get(v)):f.Qr.getTargetData(u,c)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Ue())).next(a=>(K6(r,DD(e),a),{documents:a,hs:s})))}function K6(t,e,n){let r=t.ss.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class CE{constructor(){this.activeTargetIds=jD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W6{constructor(){this.no=new CE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new CE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function wg(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Y6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=wg(),l=this.bo(n,r);de("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(de("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ha("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=G6[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=wg();return new Promise((o,a)=>{const l=new iD;l.setWithCredentials(!0),l.listenOnce(nD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vg.NO_ERROR:const c=l.getResponseJson();de(Rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case vg.TIMEOUT:de(Rn,`RPC '${e}' ${s} timed out`),a(new he(G.DEADLINE_EXCEEDED,"Request time out"));break;case vg.HTTP_ERROR:const f=l.getStatus();if(de(Rn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const x=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(w)>=0?w:G.UNKNOWN}(_.status);a(new he(x,_.message))}else a(new he(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(G.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{de(Rn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);de(Rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=wg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eD(),a=tD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");de(Rn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let v=!1,_=!1;const x=new Q6({lo:b=>{_?de(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(de(Rn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),v=!0),de(Rn,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},ho:()=>f.close()}),I=(b,w,E)=>{b.listen(w,m=>{try{E(m)}catch(M){setTimeout(()=>{throw M},0)}})};return I(f,ih.EventType.OPEN,()=>{_||de(Rn,`RPC '${e}' stream ${i} transport opened.`)}),I(f,ih.EventType.CLOSE,()=>{_||(_=!0,de(Rn,`RPC '${e}' stream ${i} transport closed`),x.Vo())}),I(f,ih.EventType.ERROR,b=>{_||(_=!0,Ha(Rn,`RPC '${e}' stream ${i} transport errored:`,b),x.Vo(new he(G.UNAVAILABLE,"The operation could not be completed")))}),I(f,ih.EventType.MESSAGE,b=>{var w;if(!_){const E=b.data[0];ht(!!E);const m=E,M=m.error||((w=m[0])===null||w===void 0?void 0:w.error);if(M){de(Rn,`RPC '${e}' stream ${i} received error:`,M);const N=M.status;let O=function(J){const Z=Qt[J];if(Z!==void 0)return LT(Z)}(N),F=M.message;O===void 0&&(O=G.INTERNAL,F="Unknown error status: "+N+" with message "+M.message),_=!0,x.Vo(new he(O,F)),f.close()}else de(Rn,`RPC '${e}' stream ${i} received:`,E),x.mo(E)}}),I(a,rD.STAT_EVENT,b=>{b.stat===aE.PROXY?de(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===aE.NOPROXY&&de(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.Ro()},0),x}}function Eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return new a6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new KT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new he(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X6 extends WT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=c6(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?_i(o.readTime):ke.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=V0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=L0(l)?{documents:f6(s,l)}:{query:p6(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OT(s,o.resumeToken);const u=O0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=Ld(s,o.snapshotVersion.toTimestamp());const u=O0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=m6(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=V0(this.serializer),n.removeTarget=e,this.t_(n)}}class J6 extends WT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=d6(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.T_(r,n)}return ht(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=V0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h6(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(G.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(G.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class eO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Yi(n),this.g_=!1):de("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{zo(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await Rc(u),u.x_.set("Unknown"),u.v_.delete(4),await $f(u)}(this))})}),this.x_=new eO(r,i)}}async function $f(t){if(zo(t))for(const e of t.F_)await e(!0)}async function Rc(t){for(const e of t.F_)await e(!1)}function HT(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),r_(n)?n_(n):vl(n).Jo()&&t_(n,e))}function GT(t,e){const n=Ce(t),r=vl(n);n.C_.delete(e),r.Jo()&&QT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():zo(n)&&n.x_.set("Unknown"))}function t_(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).c_(e)}function QT(t,e){t.O_.Ne(e),vl(t).l_(e)}function n_(t){t.O_=new r6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.x_.p_()}function r_(t){return zo(t)&&!vl(t).Ho()&&t.C_.size>0}function zo(t){return Ce(t).v_.size===0}function YT(t){t.O_=void 0}async function nO(t){t.C_.forEach((e,n)=>{t_(t,e)})}async function rO(t,e){YT(t),r_(t)?(t.x_.S_(e),n_(t)):t.x_.set("Unknown")}async function iO(t,e,n){if(t.x_.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bd(t,r)}else if(e instanceof Oh?t.O_.Ue(e):e instanceof BT?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(ke.min()))try{const r=await qT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken($n.EMPTY_BYTE_STRING,c.snapshotVersion)),QT(s,l);const f=new _s(c.target,l,u,c.sequenceNumber);t_(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Bd(t,r)}}async function Bd(t,e,n){if(!xc(e))throw e;t.v_.add(1),await Rc(t),t.x_.set("Offline"),n||(n=()=>qT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await $f(t)})}function XT(t,e){return e().catch(n=>Bd(t,n,e))}async function jf(t){const e=Ce(t),n=Vs(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;sO(e);)try{const i=await z6(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,oO(e,i)}catch(i){await Bd(e,i)}JT(e)&&ZT(e)}function sO(t){return zo(t)&&t.D_.length<10}function oO(t,e){t.D_.push(e);const n=Vs(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function JT(t){return zo(t)&&!Vs(t).Ho()&&t.D_.length>0}function ZT(t){Vs(t).start()}async function aO(t){Vs(t).d_()}async function lO(t){const e=Vs(t);for(const n of t.D_)e.I_(n.mutations)}async function uO(t,e,n){const r=t.D_.shift(),i=Qv.from(r,e,n);await XT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jf(t)}async function cO(t,e){e&&Vs(t).P_&&await async function(r,i){if(function(o){return e6(o)&&o!==G.ABORTED}(i.code)){const s=r.D_.shift();Vs(r).Zo(),await XT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jf(r)}}(t,e),JT(t)&&ZT(t)}async function NE(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=zo(n);n.v_.add(3),await Rc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await $f(n)}async function hO(t,e){const n=Ce(t);e?(n.v_.delete(2),await $f(n)):e||(n.v_.add(2),await Rc(n),n.x_.set("Unknown"))}function vl(t){return t.N_||(t.N_=function(n,r,i){const s=Ce(n);return s.R_(),new X6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:nO.bind(null,t),To:rO.bind(null,t),u_:iO.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),r_(t)?n_(t):t.x_.set("Unknown")):(await t.N_.stop(),YT(t))})),t.N_}function Vs(t){return t.B_||(t.B_=function(n,r,i){const s=Ce(n);return s.R_(),new J6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:aO.bind(null,t),To:cO.bind(null,t),E_:lO.bind(null,t),T_:uO.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await jf(t)):(await t.B_.stop(),t.D_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new i_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s_(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),xc(t))return new he(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new Ma(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.L_=new St(ye.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):be():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class el{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new el(e,n,Ma.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.q_=void 0,this.listeners=[]}}class fO{constructor(){this.queries=new yl(e=>wT(e),Bf),this.onlineState="Unknown",this.Q_=new Set}}async function e2(t,e){const n=Ce(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new dO),i)try{s.q_=await n.onListen(r)}catch(o){const a=s_(o,`Initialization of query '${na(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&o_(n)}async function t2(t,e){const n=Ce(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function pO(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&o_(n)}function gO(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function o_(t){t.Q_.forEach(e=>{e.next()})}class n2{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.key=e}}class i2{constructor(e){this.key=e}}class mO{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ue(),this.mutatedKeys=Ue(),this.aa=ET(e),this.ua=new Ma(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new ME,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const v=i.get(c),_=Df(this.query,f)?f:null,x=!!v&&this.mutatedKeys.has(v.key),I=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;v&&_?v.data.isEqual(_.data)?x!==I&&(r.track({type:3,doc:_}),b=!0):this.Pa(v,_)||(r.track({type:2,doc:_}),b=!0,(l&&this.aa(_,l)>0||u&&this.aa(_,u)<0)&&(a=!0)):!v&&_?(r.track({type:0,doc:_}),b=!0):v&&!_&&(r.track({type:1,doc:v}),b=!0,(l||u)&&(a=!0)),b&&(_?(o=o.add(_),s=I?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((u,c)=>function(v,_){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return x(v)-x(_)}(u.type,c.type)||this.aa(u.doc,c.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new el(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new ME,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Ue(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new i2(r))}),this._a.forEach(r=>{e.has(r)||n.push(new r2(r))}),n}Aa(e){this.sa=e.hs,this._a=Ue();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return el.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class yO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vO{constructor(e){this.key=e,this.Va=!1}}class _O{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new yl(a=>wT(a),Bf),this.ga=new Map,this.pa=new Set,this.ya=new St(ye.comparator),this.wa=new Map,this.Sa=new Jv,this.ba={},this.Da=new Map,this.Ca=Za.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function wO(t,e){const n=CO(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await q6(n.localStore,vi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await EO(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&HT(n.remoteStore,o)}return i}async function EO(t,e,n,r,i){t.Fa=(f,v,_)=>async function(I,b,w,E){let m=b.view.la(w);m.Xi&&(m=await RE(I.localStore,b.query,!1).then(({documents:O})=>b.view.la(O,m)));const M=E&&E.targetChanges.get(b.targetId),N=b.view.applyChanges(m,I.isPrimaryClient,M);return BE(I,b.targetId,N.Ea),N.snapshot}(t,f,v,_);const s=await RE(t.localStore,e,!0),o=new mO(e,s.hs),a=o.la(s.documents),l=kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);BE(t,n,u.Ea);const c=new yO(e,n,o);return t.fa.set(e,c),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function SO(t,e){const n=Ce(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!Bf(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),GT(n.remoteStore,r.targetId),j0(n,r.targetId)}).catch(bc)):(j0(n,r.targetId),await $0(n.localStore,r.targetId,!0))}async function IO(t,e,n){const r=PO(t);try{const i=await function(o,a){const l=Ce(o),u=sn.now(),c=a.reduce((_,x)=>_.add(x.key),Ue());let f,v;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Xi(),I=Ue();return l.os.getEntries(_,c).next(b=>{x=b,x.forEach((w,E)=>{E.isValidDocument()||(I=I.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,x)).next(b=>{f=b;const w=[];for(const E of a){const m=QD(E,f.get(E.key).overlayedDocument);m!=null&&w.push(new Qs(E.key,m,dT(m.value.mapValue),Hr.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,w,a)}).next(b=>{v=b;const w=b.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(_,b.batchId,w)})}).then(()=>({batchId:v.batchId,changes:IT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.ba[o.currentUser.toKey()];u||(u=new St(We)),u=u.insert(a,l),o.ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Cc(r,i.changes),await jf(r.remoteStore)}catch(i){const s=s_(i,"Failed to persist write");n.reject(s)}}async function s2(t,e){const n=Ce(t);try{const r=await $6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?ht(o.Va):i.removedDocuments.size>0&&(ht(o.Va),o.Va=!1))}),await Cc(n,r,e)}catch(r){await bc(r)}}function LE(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const v of f.listeners)v.K_(a)&&(u=!0)}),u&&o_(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bO(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new St(ye.comparator);o=o.insert(s,Dn.newNoDocument(s,ke.min()));const a=Ue().add(s),l=new Ff(ke.min(),new Map,new St(We),o,a);await s2(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),a_(r)}else await $0(r.localStore,e,!1).then(()=>j0(r,e,n)).catch(bc)}async function xO(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await V6(n.localStore,e);a2(n,r,null),o2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,i)}catch(i){await bc(i)}}async function AO(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ht(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);a2(r,e,n),o2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cc(r,i)}catch(i){await bc(i)}}function o2(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function a2(t,e,n){const r=Ce(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function j0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||l2(t,r)})}function l2(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(GT(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),a_(t))}function BE(t,e,n){for(const r of n)r instanceof r2?(t.Sa.addReference(r.key,e),TO(t,r)):r instanceof i2?(de("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||l2(t,r.key)):be()}function TO(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.pa.add(r),a_(t))}function a_(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new ye(ut.fromString(e)),r=t.Ca.next();t.wa.set(r,new vO(n)),t.ya=t.ya.insert(n,r),HT(t.remoteStore,new _s(vi(Hv(n.path)),r,"TargetPurposeLimboResolution",$v.ae))}}async function Cc(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=e_.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>te.forEach(u,v=>te.forEach(v.qi,_=>c.persistence.referenceDelegate.addReference(f,v.targetId,_)).next(()=>te.forEach(v.Qi,_=>c.persistence.referenceDelegate.removeReference(f,v.targetId,_)))))}catch(f){if(!xc(f))throw f;de("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const v=f.targetId;if(!f.fromCache){const _=c.ns.get(v),x=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(x);c.ns=c.ns.insert(v,I)}}}(r.localStore,s))}async function kO(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await zT(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new he(G.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.us)}}function RO(t,e){const n=Ce(t),r=n.wa.get(e);if(r&&r.Va)return Ue().add(r.key);{let i=Ue();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function CO(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.ma.u_=pO.bind(null,e.eventManager),e.ma.Ma=gO.bind(null,e.eventManager),e}function PO(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class DE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return F6(this.persistence,new O6,e.initialUser,this.serializer)}createPersistence(e){return new L6(Zv.Hr,this.serializer)}createSharedClientState(e){return new W6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,this.syncEngine),await hO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fO}()}createDatastore(e){const n=Vf(e.databaseInfo.databaseId),r=function(s){return new Y6(s)}(e.databaseInfo);return function(s,o,a,l){return new Z6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new tO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>LE(this.syncEngine,n,0),function(){return PE.C()?new PE:new H6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const f=new _O(i,s,o,a,l,u);return c&&(f.va=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ce(n);de("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await Rc(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=uT.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{de("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(de("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=s_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sg(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BO(t);de("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>NE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>NE(e.remoteStore,s)),t._onlineComponents=e}function LO(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!LO(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await Sg(t,new DE)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Sg(t,new DE);return t._offlineComponents}async function c2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await OE(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await OE(t,new NO))),t._onlineComponents}function DO(t){return c2(t).then(e=>e.syncEngine)}async function h2(t){const e=await c2(t),n=e.eventManager;return n.onListen=wO.bind(null,e.syncEngine),n.onUnlisten=SO.bind(null,e.syncEngine),n}function OO(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new u2({next:v=>{o.enqueueAndForget(()=>t2(s,f));const _=v.docs.has(a);!_&&v.fromCache?u.reject(new he(G.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&l&&l.source==="server"?u.reject(new he(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),f=new n2(Hv(a.path),c,{includeMetadataChanges:!0,Y_:!0});return e2(s,f)}(await h2(t),t.asyncQueue,e,n,r)),r.promise}function UO(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new u2({next:v=>{o.enqueueAndForget(()=>t2(s,f)),v.fromCache&&l.source==="server"?u.reject(new he(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),f=new n2(a,c,{includeMetadataChanges:!0,Y_:!0});return e2(s,f)}(await h2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e,n){if(!n)throw new he(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FO(t,e,n,r){if(e===!0&&r===!0)throw new he(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FE(t){if(!ye.isDocumentKey(t))throw new he(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VE(t){if(ye.isDocumentKey(t))throw new he(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(t);throw new he(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oD;switch(r.type){case"firstParty":return new cD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=UE.get(n);r&&(de("ComponentProvider","Removing Datastore"),UE.delete(n),r.terminate())}(this),Promise.resolve()}}function VO(t,e,n,r={}){var i;const s=(t=Si(t,qf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ln.MOCK_USER;else{a=Ex(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new he(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(u)}t._authCredentials=new aD(new lT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class Yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Ms extends _l{constructor(e,n,r){super(e,n,Hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new ye(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Kf(t,e,...n){if(t=Tt(t),f2("collection","path",e),t instanceof qf){const r=ut.fromString(e,...n);return VE(r),new Ms(t,null,r)}{if(!(t instanceof Yn||t instanceof Ms))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return VE(r),new Ms(t.firestore,null,r)}}function En(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=uT.V()),f2("doc","path",e),t instanceof qf){const r=ut.fromString(e,...n);return FE(r),new Yn(t,null,new ye(r))}{if(!(t instanceof Yn||t instanceof Ms))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return FE(r),new Yn(t.firestore,t instanceof Ms?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new KT(this,"async_queue_retry"),this.su=()=>{const n=Eg();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=Eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Vi;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!xc(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=i_.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&be()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class wl extends qf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $O}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||p2(this),this._firestoreClient.terminate()}}function qo(t,e){const n=typeof t=="object"?t:av(),r=typeof t=="string"?t:e||"(default)",i=pf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vx("firestore");s&&VO(i,...s)}return i}function l_(t){return t._firestoreClient||p2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function p2(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new SD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,d2(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new MO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl($n.fromBase64String(e))}catch(n){throw new he(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tl($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class zO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class g2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function m2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Hf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Dd(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(m2(this.Tu)&&jO.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class qO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vf(e)}yu(e,n,r,i=!1){return new Hf({Tu:e,methodName:n,pu:r,path:wn.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(t){const e=t._freezeSettings(),n=Vf(t._databaseId);return new qO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y2(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);h_("Data must be an object, but it was:",o,r);const a=_2(r,o);let l,u;if(s.merge)l=new pr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const v=z0(e,f,n);if(!o.contains(v))throw new he(G.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);E2(c,v)||c.push(v)}l=new pr(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new zO(new rr(a),l,u)}class Qf extends El{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function v2(t,e,n){return new Hf({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class c_ extends El{_toFieldTransform(e){return new Gv(e.path,new ec)}isEqual(e){return e instanceof c_}}class KO extends El{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=v2(this,e,!0),r=this.wu.map(s=>Ko(s,n)),i=new Xa(r);return new Gv(e.path,i)}isEqual(e){return this===e}}class WO extends El{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=v2(this,e,!0),r=this.wu.map(s=>Ko(s,n)),i=new Ja(r);return new Gv(e.path,i)}isEqual(e){return this===e}}function HO(t,e,n,r){const i=t.yu(1,e,n);h_("Data must be an object, but it was:",i,r);const s=[],o=rr.empty();jo(r,(l,u)=>{const c=d_(e,l,n);u=Tt(u);const f=i.Vu(c);if(u instanceof Qf)s.push(c);else{const v=Ko(u,f);v!=null&&(s.push(c),o.set(c,v))}});const a=new pr(s);return new g2(o,a,i.fieldTransforms)}function GO(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[z0(e,r,n)],l=[i];if(s.length%2!=0)throw new he(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(z0(e,s[v])),l.push(s[v+1]);const u=[],c=rr.empty();for(let v=a.length-1;v>=0;--v)if(!E2(u,a[v])){const _=a[v];let x=l[v];x=Tt(x);const I=o.Vu(_);if(x instanceof Qf)u.push(_);else{const b=Ko(x,I);b!=null&&(u.push(_),c.set(_,b))}}const f=new pr(u);return new g2(c,f,o.fieldTransforms)}function QO(t,e,n,r=!1){return Ko(n,t.yu(r?4:3,e))}function Ko(t,e){if(w2(t=Tt(t)))return h_("Unsupported field value:",e,t),_2(t,e);if(t instanceof El)return function(r,i){if(!m2(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ko(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=sn.fromDate(r);return{timestampValue:Ld(i.serializer,s)}}if(r instanceof sn){const s=new sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(i.serializer,s)}}if(r instanceof u_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tl)return{bytesValue:OT(i.serializer,r._byteString)};if(r instanceof Yn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${zf(r)}`)}(t,e)}function _2(t,e){const n={};return cT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const s=Ko(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function w2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof sn||t instanceof u_||t instanceof tl||t instanceof Yn||t instanceof El)}function h_(t,e,n){if(!w2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zf(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function z0(t,e,n){if((e=Tt(e))instanceof Wf)return e._internalPath;if(typeof e=="string")return d_(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const YO=new RegExp("[~\\*/\\[\\]]");function d_(t,e,n){if(e.search(YO)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wf(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new he(G.INVALID_ARGUMENT,a+t+l)}function E2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XO extends S2{data(){return super.data()}}function f_(t,e){return typeof e=="string"?d_(t,e):e instanceof Wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p_{}class ZO extends p_{}function I2(t,e,...n){let r=[];e instanceof p_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof g_).length,a=s.filter(l=>l instanceof Yf).length;if(o>1||o>0&&a>0)throw new he(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yf extends ZO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yf(e,n,r)}_apply(e){const n=this._parse(e);return x2(e._query,n),new _l(e.firestore,e.converter,B0(e._query,n))}_parse(e){const n=Gf(e.firestore);return function(s,o,a,l,u,c,f){let v;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new he(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){zE(f,c);const _=[];for(const x of f)_.push(jE(l,s,x));v={arrayValue:{values:_}}}else v=jE(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||zE(f,c),v=QO(a,o,f,c==="in"||c==="not-in");return Zt.create(u,c,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function b2(t,e,n){const r=e,i=f_("where",t);return Yf._create(i,r,n)}class g_ extends p_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)x2(o,l),o=B0(o,l)}(e._query,n),new _l(e.firestore,e.converter,B0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jE(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new he(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_T(e)&&n.indexOf("/")!==-1)throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!ye.isDocumentKey(r))throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dE(t,new ye(r))}if(n instanceof Yn)return dE(t,n._key);throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function zE(t,e){if(!Array.isArray(t)||t.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x2(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eU{convertValue(e,n="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new u_(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);ht(jT(r));const i=new Ju(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return i.isEqual(n)||Yi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class T2 extends S2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(f_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uh extends T2{data(e={}){return super.data(e)}}class tU{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uh(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Uh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Uh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:nU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){t=Si(t,Yn);const e=Si(t.firestore,wl);return OO(l_(e),t._key).then(n=>sU(e,t,n))}class k2 extends eU{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function m_(t){t=Si(t,_l);const e=Si(t.firestore,wl),n=l_(e),r=new k2(e);return JO(t._query),UO(n,t._query).then(i=>new tU(e,r,t,i))}function rU(t,e,n){t=Si(t,Yn);const r=Si(t.firestore,wl),i=A2(t.converter,e,n);return y_(r,[y2(Gf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hr.none())])}function vu(t,e,n,...r){t=Si(t,Yn);const i=Si(t.firestore,wl),s=Gf(i);let o;return o=typeof(e=Tt(e))=="string"||e instanceof Wf?GO(s,"updateDoc",t._key,e,n,r):HO(s,"updateDoc",t._key,e),y_(i,[o.toMutation(t._key,Hr.exists(!0))])}function iU(t,e){const n=Si(t.firestore,wl),r=En(t),i=A2(t.converter,e);return y_(n,[y2(Gf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function y_(t,e){return function(r,i){const s=new Vi;return r.asyncQueue.enqueueAndForget(async()=>IO(await DO(r),i,s)),s.promise}(l_(t),e)}function sU(t,e,n){const r=n.docs.get(e._key),i=new k2(t);return new T2(t,i,e._key,r,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function oU(){return new c_("serverTimestamp")}function qE(...t){return new KO("arrayUnion",t)}function aU(...t){return new WO("arrayRemove",t)}(function(e,n=!0){(function(i){ml=i})(Fo),To(new Os("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wl(new lD(r.getProvider("auth-internal")),new dD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),gi(lE,"4.3.0",e),gi(lE,"4.3.0","esm2017")})();const lU=()=>L.jsxs(L.Fragment,{children:[L.jsxs("nav",{className:"navbar",children:[L.jsx(_a,{to:"/freeflow-edu/",className:({isActive:t})=>t?"link active":"link",children:"Login"}),L.jsx(_a,{to:"/freeflow-edu/register",className:({isActive:t})=>t?"link active":"link",children:"Register"})]}),L.jsx(dx,{})]}),La=t=>!(t!==void 0&&t!=null&&t.length>0),tr=t=>t.charAt(0).toUpperCase()+t.slice(1),uU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},cU=Ks(uU),hU=qo(cU),dU=t=>{const e=En(hU,"Users",t.state.user.uid);return(async()=>{try{const r=await ci(e);$("#t_role").text(tr(r.data().role)),r.data().role==="teacher"&&$("#uploadLink").attr("style","display: inherit"),(!t.state.role||t.state.role!==r.data().role)&&t.updateRoleState(r.data().role)}catch(r){console.log("Error reading document of collection Users: ",r)}})(),console.log(t.state.walletAddress),L.jsxs(L.Fragment,{children:[L.jsxs("nav",{className:"navbar",children:[L.jsx(_a,{to:"/freeflow-edu/",className:({isActive:r})=>r?"link active":"link",children:"Home"}),L.jsx(_a,{to:"/freeflow-edu/profile/"+t.state.user.uid,className:({isActive:r})=>r?"link active":"link",children:"Profile"}),L.jsx(_a,{style:{display:"none"},to:"/freeflow-edu/upload",className:({isActive:r})=>r?"link active":"link",id:"uploadLink",children:"Upload"}),L.jsx(_a,{to:"/freeflow-edu/sign-out",className:({isActive:r})=>r?"link active":"link",children:"Sign Out"}),L.jsxs(xo,{to:"/freeflow-edu/profile",children:[L.jsx("img",{src:t.state.user.photoURL,alt:"Profile Img"}),L.jsx("p",{children:t.state.user.displayName}),L.jsx("p",{children:t.state.user.email}),L.jsx("p",{id:"t_role"})]}),t.renderNotConnectedContainer()]}),L.jsx(dx,{})]})},fU="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd",R2=t=>{const[e,n]=X.useState(0);return X.useEffect(()=>{(async()=>{(await fetch(fU)).json().then(s=>{n(s.solana.usd)})})()},[]),(e*t.sol).toFixed(6)};class pU extends X.Component{constructor(n){super(n);nt(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bLogin())});nt(this,"bLogin",()=>{if($("#t_email").val()!=""&&$("#t_password").val()!=""){const i=po();var n=$("#t_email").val(),r=$("#t_password").val();FL(i,n,r).then(s=>{const o=s.user;this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),o=="auth/invalid-login-credentials"?alert("Wrong Email or Password."):o=="auth/invalid-email"?alert("Invalid Email."):alert(o)})}else alert("Please fill in all the information required.")});nt(this,"signUpGoogle",()=>{const n=po(),r=new Pr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),iA(n,r).then(i=>{Pr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})})});nt(this,"guest",()=>{const n=po();LL(n).then(r=>{console.log(r.user);const i=r.user;Hx(n.currentUser,{displayName:"Guest"}).then(s=>{console.log(s)}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a})}),this.setState({user:i}),this.props.updateUserState(i),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("displayName","Guest"),localStorage.setItem("email",i.email))}).catch(r=>{const i=r.code,s=r.message;console.log({errorCode:i,errorMessage:s})})});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"Login"}),L.jsx("div",{children:L.jsx("img",{src:"",alt:"Login Thumbnail"})}),L.jsxs("div",{children:[L.jsxs("label",{children:[" Email:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Password:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),L.jsx("br",{}),L.jsxs("label",{children:[L.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),L.jsx("br",{}),L.jsx("button",{onClick:this.bLogin,children:"Login"})]}),"Or login with",L.jsx("div",{children:L.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),L.jsx(xo,{to:"register",children:"Haven't registered?"}),L.jsx("br",{}),L.jsx(xo,{onClick:this.guest,children:"Login as Guest"})]})}}class KE extends X.Component{constructor(n){super(n);nt(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bRegister())});nt(this,"bRegister",()=>{if($("#t_email").val()!=""&&$("#t_username").val()!=""&&$("#t_password").val()!=""&&$("#t_confirm_password").val()!=""&&$("#t_otp").val()!="")if($("#t_password").val()==$("#t_confirm_password").val())if(document.getElementById("c_privacy").checked){const i=po();var n=$("#t_email").val(),r=$("#t_password").val();UL(i,n,r).then(s=>{const o=s.user,a=$("#t_username").val();Hx(i.currentUser,{displayName:a}).then(l=>{}).catch(l=>{const u=l.code,c=l.message;console.log({errorCode:u,errorMessage:c})}),this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",a),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),s.code==="auth/email-already-in-use"?alert("Email is already in use.","warning"):s.code==="auth/weak-password"?alert("Weak password.","warning"):alert(s.code+": "+s.messagee,"danger")})}else alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.");else alert("Password not match.");else alert("Please fill in all the information required.")});nt(this,"signUpGoogle",()=>{const n=po(),r=new Pr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),document.getElementById("c_privacy").checked?iA(n,r).then(i=>{Pr.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})}):alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.")});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return this.state.user?(console.log("loged in"),L.jsx(hu,{to:"/freeflow-edu/"})):(console.log(this.state.user),L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"Register"}),L.jsx("div",{children:L.jsx("img",{src:"",alt:"Register Thumbnail"})}),L.jsxs("div",{children:[L.jsxs("label",{children:[" Email:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_email"})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Username:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"",id:"t_username"})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Password:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_password"})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Confirm Password:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"password",name:"",id:"t_confirm_password"})]}),L.jsx("br",{}),L.jsx("br",{}),L.jsxs("label",{children:[L.jsx("input",{onKeyUp:this.handleKeyPress,type:"checkbox",name:"",id:"c_privacy"}),"I agree to the ",L.jsx("a",{href:"privacy_policy.html",target:"_blank",children:"Privacy Policy"}),", and ",L.jsx("a",{href:"terms_and_conditions.html",target:"_blank",children:"Terms and Conditions"})," of FreeFlow Edu app."]}),L.jsx("br",{}),L.jsxs("label",{children:[L.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"Remember me"]}),L.jsx("br",{}),L.jsx("button",{onClick:this.bRegister,children:"Register"})]}),"Or sign up with",L.jsx("div",{children:L.jsx("button",{onClick:this.signUpGoogle,children:"G+"})}),L.jsx(xo,{to:"../",children:"Already login?"})]}))}}/*! countries-list v3.0.6 by Annexare | MIT */var Od={AD:{name:"Andorra",native:"Andorra",phone:[376],continent:"EU",capital:"Andorra la Vella",currency:["EUR"],languages:["ca"]},AE:{name:"United Arab Emirates",native:"دولة الإمارات العربية المتحدة",phone:[971],continent:"AS",capital:"Abu Dhabi",currency:["AED"],languages:["ar"]},AF:{name:"Afghanistan",native:"افغانستان",phone:[93],continent:"AS",capital:"Kabul",currency:["AFN"],languages:["ps","uz","tk"]},AG:{name:"Antigua and Barbuda",native:"Antigua and Barbuda",phone:[1268],continent:"NA",capital:"Saint John's",currency:["XCD"],languages:["en"]},AI:{name:"Anguilla",native:"Anguilla",phone:[1264],continent:"NA",capital:"The Valley",currency:["XCD"],languages:["en"]},AL:{name:"Albania",native:"Shqipëria",phone:[355],continent:"EU",capital:"Tirana",currency:["ALL"],languages:["sq"]},AM:{name:"Armenia",native:"Հայաստան",phone:[374],continent:"AS",capital:"Yerevan",currency:["AMD"],languages:["hy","ru"]},AO:{name:"Angola",native:"Angola",phone:[244],continent:"AF",capital:"Luanda",currency:["AOA"],languages:["pt"]},AQ:{name:"Antarctica",native:"Antarctica",phone:[672],continent:"AN",capital:"",currency:[],languages:[]},AR:{name:"Argentina",native:"Argentina",phone:[54],continent:"SA",capital:"Buenos Aires",currency:["ARS"],languages:["es","gn"]},AS:{name:"American Samoa",native:"American Samoa",phone:[1684],continent:"OC",capital:"Pago Pago",currency:["USD"],languages:["en","sm"]},AT:{name:"Austria",native:"Österreich",phone:[43],continent:"EU",capital:"Vienna",currency:["EUR"],languages:["de"]},AU:{name:"Australia",native:"Australia",phone:[61],continent:"OC",capital:"Canberra",currency:["AUD"],languages:["en"]},AW:{name:"Aruba",native:"Aruba",phone:[297],continent:"NA",capital:"Oranjestad",currency:["AWG"],languages:["nl","pa"]},AX:{name:"Aland",native:"Åland",phone:[358],continent:"EU",capital:"Mariehamn",currency:["EUR"],languages:["sv"]},AZ:{name:"Azerbaijan",native:"Azərbaycan",phone:[994],continent:"AS",continents:["AS","EU"],capital:"Baku",currency:["AZN"],languages:["az"]},BA:{name:"Bosnia and Herzegovina",native:"Bosna i Hercegovina",phone:[387],continent:"EU",capital:"Sarajevo",currency:["BAM"],languages:["bs","hr","sr"]},BB:{name:"Barbados",native:"Barbados",phone:[1246],continent:"NA",capital:"Bridgetown",currency:["BBD"],languages:["en"]},BD:{name:"Bangladesh",native:"Bangladesh",phone:[880],continent:"AS",capital:"Dhaka",currency:["BDT"],languages:["bn"]},BE:{name:"Belgium",native:"België",phone:[32],continent:"EU",capital:"Brussels",currency:["EUR"],languages:["nl","fr","de"]},BF:{name:"Burkina Faso",native:"Burkina Faso",phone:[226],continent:"AF",capital:"Ouagadougou",currency:["XOF"],languages:["fr","ff"]},BG:{name:"Bulgaria",native:"България",phone:[359],continent:"EU",capital:"Sofia",currency:["BGN"],languages:["bg"]},BH:{name:"Bahrain",native:"‏البحرين",phone:[973],continent:"AS",capital:"Manama",currency:["BHD"],languages:["ar"]},BI:{name:"Burundi",native:"Burundi",phone:[257],continent:"AF",capital:"Bujumbura",currency:["BIF"],languages:["fr","rn"]},BJ:{name:"Benin",native:"Bénin",phone:[229],continent:"AF",capital:"Porto-Novo",currency:["XOF"],languages:["fr"]},BL:{name:"Saint Barthelemy",native:"Saint-Barthélemy",phone:[590],continent:"NA",capital:"Gustavia",currency:["EUR"],languages:["fr"]},BM:{name:"Bermuda",native:"Bermuda",phone:[1441],continent:"NA",capital:"Hamilton",currency:["BMD"],languages:["en"]},BN:{name:"Brunei",native:"Negara Brunei Darussalam",phone:[673],continent:"AS",capital:"Bandar Seri Begawan",currency:["BND"],languages:["ms"]},BO:{name:"Bolivia",native:"Bolivia",phone:[591],continent:"SA",capital:"Sucre",currency:["BOB","BOV"],languages:["es","ay","qu"]},BQ:{name:"Bonaire",native:"Bonaire",phone:[5997],continent:"NA",capital:"Kralendijk",currency:["USD"],languages:["nl"]},BR:{name:"Brazil",native:"Brasil",phone:[55],continent:"SA",capital:"Brasília",currency:["BRL"],languages:["pt"]},BS:{name:"Bahamas",native:"Bahamas",phone:[1242],continent:"NA",capital:"Nassau",currency:["BSD"],languages:["en"]},BT:{name:"Bhutan",native:"ʼbrug-yul",phone:[975],continent:"AS",capital:"Thimphu",currency:["BTN","INR"],languages:["dz"]},BV:{name:"Bouvet Island",native:"Bouvetøya",phone:[47],continent:"AN",capital:"",currency:["NOK"],languages:["no","nb","nn"]},BW:{name:"Botswana",native:"Botswana",phone:[267],continent:"AF",capital:"Gaborone",currency:["BWP"],languages:["en","tn"]},BY:{name:"Belarus",native:"Белару́сь",phone:[375],continent:"EU",capital:"Minsk",currency:["BYN"],languages:["be","ru"]},BZ:{name:"Belize",native:"Belize",phone:[501],continent:"NA",capital:"Belmopan",currency:["BZD"],languages:["en","es"]},CA:{name:"Canada",native:"Canada",phone:[1],continent:"NA",capital:"Ottawa",currency:["CAD"],languages:["en","fr"]},CC:{name:"Cocos (Keeling) Islands",native:"Cocos (Keeling) Islands",phone:[61],continent:"AS",capital:"West Island",currency:["AUD"],languages:["en"]},CD:{name:"Democratic Republic of the Congo",native:"République démocratique du Congo",phone:[243],continent:"AF",capital:"Kinshasa",currency:["CDF"],languages:["fr","ln","kg","sw","lu"]},CF:{name:"Central African Republic",native:"Ködörösêse tî Bêafrîka",phone:[236],continent:"AF",capital:"Bangui",currency:["XAF"],languages:["fr","sg"]},CG:{name:"Republic of the Congo",native:"République du Congo",phone:[242],continent:"AF",capital:"Brazzaville",currency:["XAF"],languages:["fr","ln"]},CH:{name:"Switzerland",native:"Schweiz",phone:[41],continent:"EU",capital:"Bern",currency:["CHE","CHF","CHW"],languages:["de","fr","it"]},CI:{name:"Ivory Coast",native:"Côte d'Ivoire",phone:[225],continent:"AF",capital:"Yamoussoukro",currency:["XOF"],languages:["fr"]},CK:{name:"Cook Islands",native:"Cook Islands",phone:[682],continent:"OC",capital:"Avarua",currency:["NZD"],languages:["en"]},CL:{name:"Chile",native:"Chile",phone:[56],continent:"SA",capital:"Santiago",currency:["CLF","CLP"],languages:["es"]},CM:{name:"Cameroon",native:"Cameroon",phone:[237],continent:"AF",capital:"Yaoundé",currency:["XAF"],languages:["en","fr"]},CN:{name:"China",native:"中国",phone:[86],continent:"AS",capital:"Beijing",currency:["CNY"],languages:["zh"]},CO:{name:"Colombia",native:"Colombia",phone:[57],continent:"SA",capital:"Bogotá",currency:["COP"],languages:["es"]},CR:{name:"Costa Rica",native:"Costa Rica",phone:[506],continent:"NA",capital:"San José",currency:["CRC"],languages:["es"]},CU:{name:"Cuba",native:"Cuba",phone:[53],continent:"NA",capital:"Havana",currency:["CUC","CUP"],languages:["es"]},CV:{name:"Cape Verde",native:"Cabo Verde",phone:[238],continent:"AF",capital:"Praia",currency:["CVE"],languages:["pt"]},CW:{name:"Curacao",native:"Curaçao",phone:[5999],continent:"NA",capital:"Willemstad",currency:["ANG"],languages:["nl","pa","en"]},CX:{name:"Christmas Island",native:"Christmas Island",phone:[61],continent:"AS",capital:"Flying Fish Cove",currency:["AUD"],languages:["en"]},CY:{name:"Cyprus",native:"Κύπρος",phone:[357],continent:"EU",capital:"Nicosia",currency:["EUR"],languages:["el","tr","hy"]},CZ:{name:"Czech Republic",native:"Česká republika",phone:[420],continent:"EU",capital:"Prague",currency:["CZK"],languages:["cs"]},DE:{name:"Germany",native:"Deutschland",phone:[49],continent:"EU",capital:"Berlin",currency:["EUR"],languages:["de"]},DJ:{name:"Djibouti",native:"Djibouti",phone:[253],continent:"AF",capital:"Djibouti",currency:["DJF"],languages:["fr","ar"]},DK:{name:"Denmark",native:"Danmark",phone:[45],continent:"EU",continents:["EU","NA"],capital:"Copenhagen",currency:["DKK"],languages:["da"]},DM:{name:"Dominica",native:"Dominica",phone:[1767],continent:"NA",capital:"Roseau",currency:["XCD"],languages:["en"]},DO:{name:"Dominican Republic",native:"República Dominicana",phone:[1809,1829,1849],continent:"NA",capital:"Santo Domingo",currency:["DOP"],languages:["es"]},DZ:{name:"Algeria",native:"الجزائر",phone:[213],continent:"AF",capital:"Algiers",currency:["DZD"],languages:["ar"]},EC:{name:"Ecuador",native:"Ecuador",phone:[593],continent:"SA",capital:"Quito",currency:["USD"],languages:["es"]},EE:{name:"Estonia",native:"Eesti",phone:[372],continent:"EU",capital:"Tallinn",currency:["EUR"],languages:["et"]},EG:{name:"Egypt",native:"مصر‎",phone:[20],continent:"AF",continents:["AF","AS"],capital:"Cairo",currency:["EGP"],languages:["ar"]},EH:{name:"Western Sahara",native:"الصحراء الغربية",phone:[212],continent:"AF",capital:"El Aaiún",currency:["MAD","DZD","MRU"],languages:["es"]},ER:{name:"Eritrea",native:"ኤርትራ",phone:[291],continent:"AF",capital:"Asmara",currency:["ERN"],languages:["ti","ar","en"]},ES:{name:"Spain",native:"España",phone:[34],continent:"EU",capital:"Madrid",currency:["EUR"],languages:["es","eu","ca","gl","oc"]},ET:{name:"Ethiopia",native:"ኢትዮጵያ",phone:[251],continent:"AF",capital:"Addis Ababa",currency:["ETB"],languages:["am"]},FI:{name:"Finland",native:"Suomi",phone:[358],continent:"EU",capital:"Helsinki",currency:["EUR"],languages:["fi","sv"]},FJ:{name:"Fiji",native:"Fiji",phone:[679],continent:"OC",capital:"Suva",currency:["FJD"],languages:["en","fj","hi","ur"]},FK:{name:"Falkland Islands",native:"Falkland Islands",phone:[500],continent:"SA",capital:"Stanley",currency:["FKP"],languages:["en"]},FM:{name:"Micronesia",native:"Micronesia",phone:[691],continent:"OC",capital:"Palikir",currency:["USD"],languages:["en"]},FO:{name:"Faroe Islands",native:"Føroyar",phone:[298],continent:"EU",capital:"Tórshavn",currency:["DKK"],languages:["fo"]},FR:{name:"France",native:"France",phone:[33],continent:"EU",capital:"Paris",currency:["EUR"],languages:["fr"]},GA:{name:"Gabon",native:"Gabon",phone:[241],continent:"AF",capital:"Libreville",currency:["XAF"],languages:["fr"]},GB:{name:"United Kingdom",native:"United Kingdom",phone:[44],continent:"EU",capital:"London",currency:["GBP"],languages:["en"]},GD:{name:"Grenada",native:"Grenada",phone:[1473],continent:"NA",capital:"St. George's",currency:["XCD"],languages:["en"]},GE:{name:"Georgia",native:"საქართველო",phone:[995],continent:"AS",continents:["AS","EU"],capital:"Tbilisi",currency:["GEL"],languages:["ka"]},GF:{name:"French Guiana",native:"Guyane française",phone:[594],continent:"SA",capital:"Cayenne",currency:["EUR"],languages:["fr"]},GG:{name:"Guernsey",native:"Guernsey",phone:[44],continent:"EU",capital:"St. Peter Port",currency:["GBP"],languages:["en","fr"]},GH:{name:"Ghana",native:"Ghana",phone:[233],continent:"AF",capital:"Accra",currency:["GHS"],languages:["en"]},GI:{name:"Gibraltar",native:"Gibraltar",phone:[350],continent:"EU",capital:"Gibraltar",currency:["GIP"],languages:["en"]},GL:{name:"Greenland",native:"Kalaallit Nunaat",phone:[299],continent:"NA",capital:"Nuuk",currency:["DKK"],languages:["kl"]},GM:{name:"Gambia",native:"Gambia",phone:[220],continent:"AF",capital:"Banjul",currency:["GMD"],languages:["en"]},GN:{name:"Guinea",native:"Guinée",phone:[224],continent:"AF",capital:"Conakry",currency:["GNF"],languages:["fr","ff"]},GP:{name:"Guadeloupe",native:"Guadeloupe",phone:[590],continent:"NA",capital:"Basse-Terre",currency:["EUR"],languages:["fr"]},GQ:{name:"Equatorial Guinea",native:"Guinea Ecuatorial",phone:[240],continent:"AF",capital:"Malabo",currency:["XAF"],languages:["es","fr"]},GR:{name:"Greece",native:"Ελλάδα",phone:[30],continent:"EU",capital:"Athens",currency:["EUR"],languages:["el"]},GS:{name:"South Georgia and the South Sandwich Islands",native:"South Georgia",phone:[500],continent:"AN",capital:"King Edward Point",currency:["GBP"],languages:["en"]},GT:{name:"Guatemala",native:"Guatemala",phone:[502],continent:"NA",capital:"Guatemala City",currency:["GTQ"],languages:["es"]},GU:{name:"Guam",native:"Guam",phone:[1671],continent:"OC",capital:"Hagåtña",currency:["USD"],languages:["en","ch","es"]},GW:{name:"Guinea-Bissau",native:"Guiné-Bissau",phone:[245],continent:"AF",capital:"Bissau",currency:["XOF"],languages:["pt"]},GY:{name:"Guyana",native:"Guyana",phone:[592],continent:"SA",capital:"Georgetown",currency:["GYD"],languages:["en"]},HK:{name:"Hong Kong",native:"香港",phone:[852],continent:"AS",capital:"City of Victoria",currency:["HKD"],languages:["zh","en"]},HM:{name:"Heard Island and McDonald Islands",native:"Heard Island and McDonald Islands",phone:[61],continent:"AN",capital:"",currency:["AUD"],languages:["en"]},HN:{name:"Honduras",native:"Honduras",phone:[504],continent:"NA",capital:"Tegucigalpa",currency:["HNL"],languages:["es"]},HR:{name:"Croatia",native:"Hrvatska",phone:[385],continent:"EU",capital:"Zagreb",currency:["EUR"],languages:["hr"]},HT:{name:"Haiti",native:"Haïti",phone:[509],continent:"NA",capital:"Port-au-Prince",currency:["HTG","USD"],languages:["fr","ht"]},HU:{name:"Hungary",native:"Magyarország",phone:[36],continent:"EU",capital:"Budapest",currency:["HUF"],languages:["hu"]},ID:{name:"Indonesia",native:"Indonesia",phone:[62],continent:"AS",capital:"Jakarta",currency:["IDR"],languages:["id"]},IE:{name:"Ireland",native:"Éire",phone:[353],continent:"EU",capital:"Dublin",currency:["EUR"],languages:["ga","en"]},IL:{name:"Israel",native:"יִשְׂרָאֵל",phone:[972],continent:"AS",capital:"Jerusalem",currency:["ILS"],languages:["he","ar"]},IM:{name:"Isle of Man",native:"Isle of Man",phone:[44],continent:"EU",capital:"Douglas",currency:["GBP"],languages:["en","gv"]},IN:{name:"India",native:"भारत",phone:[91],continent:"AS",capital:"New Delhi",currency:["INR"],languages:["hi","en"]},IO:{name:"British Indian Ocean Territory",native:"British Indian Ocean Territory",phone:[246],continent:"AS",capital:"Diego Garcia",currency:["USD"],languages:["en"]},IQ:{name:"Iraq",native:"العراق",phone:[964],continent:"AS",capital:"Baghdad",currency:["IQD"],languages:["ar","ku"]},IR:{name:"Iran",native:"ایران",phone:[98],continent:"AS",capital:"Tehran",currency:["IRR"],languages:["fa"]},IS:{name:"Iceland",native:"Ísland",phone:[354],continent:"EU",capital:"Reykjavik",currency:["ISK"],languages:["is"]},IT:{name:"Italy",native:"Italia",phone:[39],continent:"EU",capital:"Rome",currency:["EUR"],languages:["it"]},JE:{name:"Jersey",native:"Jersey",phone:[44],continent:"EU",capital:"Saint Helier",currency:["GBP"],languages:["en","fr"]},JM:{name:"Jamaica",native:"Jamaica",phone:[1876],continent:"NA",capital:"Kingston",currency:["JMD"],languages:["en"]},JO:{name:"Jordan",native:"الأردن",phone:[962],continent:"AS",capital:"Amman",currency:["JOD"],languages:["ar"]},JP:{name:"Japan",native:"日本",phone:[81],continent:"AS",capital:"Tokyo",currency:["JPY"],languages:["ja"]},KE:{name:"Kenya",native:"Kenya",phone:[254],continent:"AF",capital:"Nairobi",currency:["KES"],languages:["en","sw"]},KG:{name:"Kyrgyzstan",native:"Кыргызстан",phone:[996],continent:"AS",capital:"Bishkek",currency:["KGS"],languages:["ky","ru"]},KH:{name:"Cambodia",native:"Kâmpŭchéa",phone:[855],continent:"AS",capital:"Phnom Penh",currency:["KHR"],languages:["km"]},KI:{name:"Kiribati",native:"Kiribati",phone:[686],continent:"OC",capital:"South Tarawa",currency:["AUD"],languages:["en"]},KM:{name:"Comoros",native:"Komori",phone:[269],continent:"AF",capital:"Moroni",currency:["KMF"],languages:["ar","fr"]},KN:{name:"Saint Kitts and Nevis",native:"Saint Kitts and Nevis",phone:[1869],continent:"NA",capital:"Basseterre",currency:["XCD"],languages:["en"]},KP:{name:"North Korea",native:"북한",phone:[850],continent:"AS",capital:"Pyongyang",currency:["KPW"],languages:["ko"]},KR:{name:"South Korea",native:"대한민국",phone:[82],continent:"AS",capital:"Seoul",currency:["KRW"],languages:["ko"]},KW:{name:"Kuwait",native:"الكويت",phone:[965],continent:"AS",capital:"Kuwait City",currency:["KWD"],languages:["ar"]},KY:{name:"Cayman Islands",native:"Cayman Islands",phone:[1345],continent:"NA",capital:"George Town",currency:["KYD"],languages:["en"]},KZ:{name:"Kazakhstan",native:"Қазақстан",phone:[76,77],continent:"AS",continents:["AS","EU"],capital:"Astana",currency:["KZT"],languages:["kk","ru"]},LA:{name:"Laos",native:"ສປປລາວ",phone:[856],continent:"AS",capital:"Vientiane",currency:["LAK"],languages:["lo"]},LB:{name:"Lebanon",native:"لبنان",phone:[961],continent:"AS",capital:"Beirut",currency:["LBP"],languages:["ar","fr"]},LC:{name:"Saint Lucia",native:"Saint Lucia",phone:[1758],continent:"NA",capital:"Castries",currency:["XCD"],languages:["en"]},LI:{name:"Liechtenstein",native:"Liechtenstein",phone:[423],continent:"EU",capital:"Vaduz",currency:["CHF"],languages:["de"]},LK:{name:"Sri Lanka",native:"śrī laṃkāva",phone:[94],continent:"AS",capital:"Colombo",currency:["LKR"],languages:["si","ta"]},LR:{name:"Liberia",native:"Liberia",phone:[231],continent:"AF",capital:"Monrovia",currency:["LRD"],languages:["en"]},LS:{name:"Lesotho",native:"Lesotho",phone:[266],continent:"AF",capital:"Maseru",currency:["LSL","ZAR"],languages:["en","st"]},LT:{name:"Lithuania",native:"Lietuva",phone:[370],continent:"EU",capital:"Vilnius",currency:["EUR"],languages:["lt"]},LU:{name:"Luxembourg",native:"Luxembourg",phone:[352],continent:"EU",capital:"Luxembourg",currency:["EUR"],languages:["fr","de","lb"]},LV:{name:"Latvia",native:"Latvija",phone:[371],continent:"EU",capital:"Riga",currency:["EUR"],languages:["lv"]},LY:{name:"Libya",native:"‏ليبيا",phone:[218],continent:"AF",capital:"Tripoli",currency:["LYD"],languages:["ar"]},MA:{name:"Morocco",native:"المغرب",phone:[212],continent:"AF",capital:"Rabat",currency:["MAD"],languages:["ar"]},MC:{name:"Monaco",native:"Monaco",phone:[377],continent:"EU",capital:"Monaco",currency:["EUR"],languages:["fr"]},MD:{name:"Moldova",native:"Moldova",phone:[373],continent:"EU",capital:"Chișinău",currency:["MDL"],languages:["ro"]},ME:{name:"Montenegro",native:"Црна Гора",phone:[382],continent:"EU",capital:"Podgorica",currency:["EUR"],languages:["sr","bs","sq","hr"]},MF:{name:"Saint Martin",native:"Saint-Martin",phone:[590],continent:"NA",capital:"Marigot",currency:["EUR"],languages:["en","fr","nl"]},MG:{name:"Madagascar",native:"Madagasikara",phone:[261],continent:"AF",capital:"Antananarivo",currency:["MGA"],languages:["fr","mg"]},MH:{name:"Marshall Islands",native:"M̧ajeļ",phone:[692],continent:"OC",capital:"Majuro",currency:["USD"],languages:["en","mh"]},MK:{name:"North Macedonia",native:"Северна Македонија",phone:[389],continent:"EU",capital:"Skopje",currency:["MKD"],languages:["mk"]},ML:{name:"Mali",native:"Mali",phone:[223],continent:"AF",capital:"Bamako",currency:["XOF"],languages:["fr"]},MM:{name:"Myanmar (Burma)",native:"မြန်မာ",phone:[95],continent:"AS",capital:"Naypyidaw",currency:["MMK"],languages:["my"]},MN:{name:"Mongolia",native:"Монгол улс",phone:[976],continent:"AS",capital:"Ulan Bator",currency:["MNT"],languages:["mn"]},MO:{name:"Macao",native:"澳門",phone:[853],continent:"AS",capital:"",currency:["MOP"],languages:["zh","pt"]},MP:{name:"Northern Mariana Islands",native:"Northern Mariana Islands",phone:[1670],continent:"OC",capital:"Saipan",currency:["USD"],languages:["en","ch"]},MQ:{name:"Martinique",native:"Martinique",phone:[596],continent:"NA",capital:"Fort-de-France",currency:["EUR"],languages:["fr"]},MR:{name:"Mauritania",native:"موريتانيا",phone:[222],continent:"AF",capital:"Nouakchott",currency:["MRU"],languages:["ar"]},MS:{name:"Montserrat",native:"Montserrat",phone:[1664],continent:"NA",capital:"Plymouth",currency:["XCD"],languages:["en"]},MT:{name:"Malta",native:"Malta",phone:[356],continent:"EU",capital:"Valletta",currency:["EUR"],languages:["mt","en"]},MU:{name:"Mauritius",native:"Maurice",phone:[230],continent:"AF",capital:"Port Louis",currency:["MUR"],languages:["en"]},MV:{name:"Maldives",native:"Maldives",phone:[960],continent:"AS",capital:"Malé",currency:["MVR"],languages:["dv"]},MW:{name:"Malawi",native:"Malawi",phone:[265],continent:"AF",capital:"Lilongwe",currency:["MWK"],languages:["en","ny"]},MX:{name:"Mexico",native:"México",phone:[52],continent:"NA",capital:"Mexico City",currency:["MXN"],languages:["es"]},MY:{name:"Malaysia",native:"Malaysia",phone:[60],continent:"AS",capital:"Kuala Lumpur",currency:["MYR"],languages:["ms"]},MZ:{name:"Mozambique",native:"Moçambique",phone:[258],continent:"AF",capital:"Maputo",currency:["MZN"],languages:["pt"]},NA:{name:"Namibia",native:"Namibia",phone:[264],continent:"AF",capital:"Windhoek",currency:["NAD","ZAR"],languages:["en","af"]},NC:{name:"New Caledonia",native:"Nouvelle-Calédonie",phone:[687],continent:"OC",capital:"Nouméa",currency:["XPF"],languages:["fr"]},NE:{name:"Niger",native:"Niger",phone:[227],continent:"AF",capital:"Niamey",currency:["XOF"],languages:["fr"]},NF:{name:"Norfolk Island",native:"Norfolk Island",phone:[672],continent:"OC",capital:"Kingston",currency:["AUD"],languages:["en"]},NG:{name:"Nigeria",native:"Nigeria",phone:[234],continent:"AF",capital:"Abuja",currency:["NGN"],languages:["en"]},NI:{name:"Nicaragua",native:"Nicaragua",phone:[505],continent:"NA",capital:"Managua",currency:["NIO"],languages:["es"]},NL:{name:"Netherlands",native:"Nederland",phone:[31],continent:"EU",capital:"Amsterdam",currency:["EUR"],languages:["nl"]},NO:{name:"Norway",native:"Norge",phone:[47],continent:"EU",capital:"Oslo",currency:["NOK"],languages:["no","nb","nn"]},NP:{name:"Nepal",native:"नेपाल",phone:[977],continent:"AS",capital:"Kathmandu",currency:["NPR"],languages:["ne"]},NR:{name:"Nauru",native:"Nauru",phone:[674],continent:"OC",capital:"Yaren",currency:["AUD"],languages:["en","na"]},NU:{name:"Niue",native:"Niuē",phone:[683],continent:"OC",capital:"Alofi",currency:["NZD"],languages:["en"]},NZ:{name:"New Zealand",native:"New Zealand",phone:[64],continent:"OC",capital:"Wellington",currency:["NZD"],languages:["en","mi"]},OM:{name:"Oman",native:"عمان",phone:[968],continent:"AS",capital:"Muscat",currency:["OMR"],languages:["ar"]},PA:{name:"Panama",native:"Panamá",phone:[507],continent:"NA",capital:"Panama City",currency:["PAB","USD"],languages:["es"]},PE:{name:"Peru",native:"Perú",phone:[51],continent:"SA",capital:"Lima",currency:["PEN"],languages:["es"]},PF:{name:"French Polynesia",native:"Polynésie française",phone:[689],continent:"OC",capital:"Papeetē",currency:["XPF"],languages:["fr"]},PG:{name:"Papua New Guinea",native:"Papua Niugini",phone:[675],continent:"OC",capital:"Port Moresby",currency:["PGK"],languages:["en"]},PH:{name:"Philippines",native:"Pilipinas",phone:[63],continent:"AS",capital:"Manila",currency:["PHP"],languages:["en"]},PK:{name:"Pakistan",native:"Pakistan",phone:[92],continent:"AS",capital:"Islamabad",currency:["PKR"],languages:["en","ur"]},PL:{name:"Poland",native:"Polska",phone:[48],continent:"EU",capital:"Warsaw",currency:["PLN"],languages:["pl"]},PM:{name:"Saint Pierre and Miquelon",native:"Saint-Pierre-et-Miquelon",phone:[508],continent:"NA",capital:"Saint-Pierre",currency:["EUR"],languages:["fr"]},PN:{name:"Pitcairn Islands",native:"Pitcairn Islands",phone:[64],continent:"OC",capital:"Adamstown",currency:["NZD"],languages:["en"]},PR:{name:"Puerto Rico",native:"Puerto Rico",phone:[1787,1939],continent:"NA",capital:"San Juan",currency:["USD"],languages:["es","en"]},PS:{name:"Palestine",native:"فلسطين",phone:[970],continent:"AS",capital:"Ramallah",currency:["ILS"],languages:["ar"]},PT:{name:"Portugal",native:"Portugal",phone:[351],continent:"EU",capital:"Lisbon",currency:["EUR"],languages:["pt"]},PW:{name:"Palau",native:"Palau",phone:[680],continent:"OC",capital:"Ngerulmud",currency:["USD"],languages:["en"]},PY:{name:"Paraguay",native:"Paraguay",phone:[595],continent:"SA",capital:"Asunción",currency:["PYG"],languages:["es","gn"]},QA:{name:"Qatar",native:"قطر",phone:[974],continent:"AS",capital:"Doha",currency:["QAR"],languages:["ar"]},RE:{name:"Reunion",native:"La Réunion",phone:[262],continent:"AF",capital:"Saint-Denis",currency:["EUR"],languages:["fr"]},RO:{name:"Romania",native:"România",phone:[40],continent:"EU",capital:"Bucharest",currency:["RON"],languages:["ro"]},RS:{name:"Serbia",native:"Србија",phone:[381],continent:"EU",capital:"Belgrade",currency:["RSD"],languages:["sr"]},RU:{name:"Russia",native:"Россия",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Moscow",currency:["RUB"],languages:["ru"]},RW:{name:"Rwanda",native:"Rwanda",phone:[250],continent:"AF",capital:"Kigali",currency:["RWF"],languages:["rw","en","fr"]},SA:{name:"Saudi Arabia",native:"العربية السعودية",phone:[966],continent:"AS",capital:"Riyadh",currency:["SAR"],languages:["ar"]},SB:{name:"Solomon Islands",native:"Solomon Islands",phone:[677],continent:"OC",capital:"Honiara",currency:["SBD"],languages:["en"]},SC:{name:"Seychelles",native:"Seychelles",phone:[248],continent:"AF",capital:"Victoria",currency:["SCR"],languages:["fr","en"]},SD:{name:"Sudan",native:"السودان",phone:[249],continent:"AF",capital:"Khartoum",currency:["SDG"],languages:["ar","en"]},SE:{name:"Sweden",native:"Sverige",phone:[46],continent:"EU",capital:"Stockholm",currency:["SEK"],languages:["sv"]},SG:{name:"Singapore",native:"Singapore",phone:[65],continent:"AS",capital:"Singapore",currency:["SGD"],languages:["en","ms","ta","zh"]},SH:{name:"Saint Helena",native:"Saint Helena",phone:[290],continent:"AF",capital:"Jamestown",currency:["SHP"],languages:["en"]},SI:{name:"Slovenia",native:"Slovenija",phone:[386],continent:"EU",capital:"Ljubljana",currency:["EUR"],languages:["sl"]},SJ:{name:"Svalbard and Jan Mayen",native:"Svalbard og Jan Mayen",phone:[4779],continent:"EU",capital:"Longyearbyen",currency:["NOK"],languages:["no"]},SK:{name:"Slovakia",native:"Slovensko",phone:[421],continent:"EU",capital:"Bratislava",currency:["EUR"],languages:["sk"]},SL:{name:"Sierra Leone",native:"Sierra Leone",phone:[232],continent:"AF",capital:"Freetown",currency:["SLL"],languages:["en"]},SM:{name:"San Marino",native:"San Marino",phone:[378],continent:"EU",capital:"City of San Marino",currency:["EUR"],languages:["it"]},SN:{name:"Senegal",native:"Sénégal",phone:[221],continent:"AF",capital:"Dakar",currency:["XOF"],languages:["fr"]},SO:{name:"Somalia",native:"Soomaaliya",phone:[252],continent:"AF",capital:"Mogadishu",currency:["SOS"],languages:["so","ar"]},SR:{name:"Suriname",native:"Suriname",phone:[597],continent:"SA",capital:"Paramaribo",currency:["SRD"],languages:["nl"]},SS:{name:"South Sudan",native:"South Sudan",phone:[211],continent:"AF",capital:"Juba",currency:["SSP"],languages:["en"]},ST:{name:"Sao Tome and Principe",native:"São Tomé e Príncipe",phone:[239],continent:"AF",capital:"São Tomé",currency:["STN"],languages:["pt"]},SV:{name:"El Salvador",native:"El Salvador",phone:[503],continent:"NA",capital:"San Salvador",currency:["SVC","USD"],languages:["es"]},SX:{name:"Sint Maarten",native:"Sint Maarten",phone:[1721],continent:"NA",capital:"Philipsburg",currency:["ANG"],languages:["nl","en"]},SY:{name:"Syria",native:"سوريا",phone:[963],continent:"AS",capital:"Damascus",currency:["SYP"],languages:["ar"]},SZ:{name:"Eswatini",native:"Eswatini",phone:[268],continent:"AF",capital:"Lobamba",currency:["SZL"],languages:["en","ss"]},TC:{name:"Turks and Caicos Islands",native:"Turks and Caicos Islands",phone:[1649],continent:"NA",capital:"Cockburn Town",currency:["USD"],languages:["en"]},TD:{name:"Chad",native:"Tchad",phone:[235],continent:"AF",capital:"N'Djamena",currency:["XAF"],languages:["fr","ar"]},TF:{name:"French Southern Territories",native:"Territoire des Terres australes et antarctiques fr",phone:[262],continent:"AN",capital:"Port-aux-Français",currency:["EUR"],languages:["fr"]},TG:{name:"Togo",native:"Togo",phone:[228],continent:"AF",capital:"Lomé",currency:["XOF"],languages:["fr"]},TH:{name:"Thailand",native:"ประเทศไทย",phone:[66],continent:"AS",capital:"Bangkok",currency:["THB"],languages:["th"]},TJ:{name:"Tajikistan",native:"Тоҷикистон",phone:[992],continent:"AS",capital:"Dushanbe",currency:["TJS"],languages:["tg","ru"]},TK:{name:"Tokelau",native:"Tokelau",phone:[690],continent:"OC",capital:"Fakaofo",currency:["NZD"],languages:["en"]},TL:{name:"East Timor",native:"Timor-Leste",phone:[670],continent:"OC",capital:"Dili",currency:["USD"],languages:["pt"]},TM:{name:"Turkmenistan",native:"Türkmenistan",phone:[993],continent:"AS",capital:"Ashgabat",currency:["TMT"],languages:["tk","ru"]},TN:{name:"Tunisia",native:"تونس",phone:[216],continent:"AF",capital:"Tunis",currency:["TND"],languages:["ar"]},TO:{name:"Tonga",native:"Tonga",phone:[676],continent:"OC",capital:"Nuku'alofa",currency:["TOP"],languages:["en","to"]},TR:{name:"Turkey",native:"Türkiye",phone:[90],continent:"AS",continents:["AS","EU"],capital:"Ankara",currency:["TRY"],languages:["tr"]},TT:{name:"Trinidad and Tobago",native:"Trinidad and Tobago",phone:[1868],continent:"NA",capital:"Port of Spain",currency:["TTD"],languages:["en"]},TV:{name:"Tuvalu",native:"Tuvalu",phone:[688],continent:"OC",capital:"Funafuti",currency:["AUD"],languages:["en"]},TW:{name:"Taiwan",native:"臺灣",phone:[886],continent:"AS",capital:"Taipei",currency:["TWD"],languages:["zh"]},TZ:{name:"Tanzania",native:"Tanzania",phone:[255],continent:"AF",capital:"Dodoma",currency:["TZS"],languages:["sw","en"]},UA:{name:"Ukraine",native:"Україна",phone:[380],continent:"EU",capital:"Kyiv",currency:["UAH"],languages:["uk"]},UG:{name:"Uganda",native:"Uganda",phone:[256],continent:"AF",capital:"Kampala",currency:["UGX"],languages:["en","sw"]},UM:{name:"U.S. Minor Outlying Islands",native:"United States Minor Outlying Islands",phone:[1],continent:"OC",capital:"",currency:["USD"],languages:["en"]},US:{name:"United States",native:"United States",phone:[1],continent:"NA",capital:"Washington D.C.",currency:["USD","USN","USS"],languages:["en"]},UY:{name:"Uruguay",native:"Uruguay",phone:[598],continent:"SA",capital:"Montevideo",currency:["UYI","UYU"],languages:["es"]},UZ:{name:"Uzbekistan",native:"O'zbekiston",phone:[998],continent:"AS",capital:"Tashkent",currency:["UZS"],languages:["uz","ru"]},VA:{name:"Vatican City",native:"Vaticano",phone:[379],continent:"EU",capital:"Vatican City",currency:["EUR"],languages:["it","la"]},VC:{name:"Saint Vincent and the Grenadines",native:"Saint Vincent and the Grenadines",phone:[1784],continent:"NA",capital:"Kingstown",currency:["XCD"],languages:["en"]},VE:{name:"Venezuela",native:"Venezuela",phone:[58],continent:"SA",capital:"Caracas",currency:["VES"],languages:["es"]},VG:{name:"British Virgin Islands",native:"British Virgin Islands",phone:[1284],continent:"NA",capital:"Road Town",currency:["USD"],languages:["en"]},VI:{name:"U.S. Virgin Islands",native:"United States Virgin Islands",phone:[1340],continent:"NA",capital:"Charlotte Amalie",currency:["USD"],languages:["en"]},VN:{name:"Vietnam",native:"Việt Nam",phone:[84],continent:"AS",capital:"Hanoi",currency:["VND"],languages:["vi"]},VU:{name:"Vanuatu",native:"Vanuatu",phone:[678],continent:"OC",capital:"Port Vila",currency:["VUV"],languages:["bi","en","fr"]},WF:{name:"Wallis and Futuna",native:"Wallis et Futuna",phone:[681],continent:"OC",capital:"Mata-Utu",currency:["XPF"],languages:["fr"]},WS:{name:"Samoa",native:"Samoa",phone:[685],continent:"OC",capital:"Apia",currency:["WST"],languages:["sm","en"]},XK:{name:"Kosovo",native:"Republika e Kosovës",phone:[377,381,383,386],continent:"EU",capital:"Pristina",currency:["EUR"],languages:["sq","sr"]},YE:{name:"Yemen",native:"اليَمَن",phone:[967],continent:"AS",capital:"Sana'a",currency:["YER"],languages:["ar"]},YT:{name:"Mayotte",native:"Mayotte",phone:[262],continent:"AF",capital:"Mamoudzou",currency:["EUR"],languages:["fr"]},ZA:{name:"South Africa",native:"South Africa",phone:[27],continent:"AF",capital:"Pretoria",currency:["ZAR"],languages:["af","en","nr","st","ss","tn","ts","ve","xh","zu"]},ZM:{name:"Zambia",native:"Zambia",phone:[260],continent:"AF",capital:"Lusaka",currency:["ZMW"],languages:["en"]},ZW:{name:"Zimbabwe",native:"Zimbabwe",phone:[263],continent:"AF",capital:"Harare",currency:["USD","ZAR","BWP","GBP","AUD","CNY","INR","JPY"],languages:["en","sn","nd"]}},gU={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",XK:"XKX",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"},mU=t=>({...Od[t],iso2:t,iso3:gU[t]}),yU=()=>Object.keys(Od).map(t=>mU(t));yU();const vU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},_U=Ks(vU),wU=qo(_U);class EU extends X.Component{constructor(n){super(n);nt(this,"handleKeyPress",n=>{n.key=="Enter"&&console.log("enter")});nt(this,"updateState",(n,r)=>{this.setState({[n]:r,currentQuestion:this.state.currentQuestion+1})});nt(this,"uploadData",async()=>{try{const n=await rU(En(wU,"Users",this.state.user.uid),{role:this.state.role,recommendBy:this.state.recommendBy,eduLvl:this.state.eduLvl,country:this.state.country,displayName:this.state.user.displayName,email:this.state.user.email,photoURL:this.state.user.photoURL})}catch(n){console.log("Error adding document of first-time login user: ",n)}});console.log(n.state.user),this.state={user:n.state.user,currentQuestion:1,role:null,recommendBy:null,eduLvl:null,country:null};let r=["-- Please Select --"];for(let i in Od)r.push(Od[i].name);r.sort(),this.data=[{id:1,answering:"role",question:"I am a ...",options:["student","teacher","special needy / refugee / disabilities","public"]},{id:2,answering:"recommendBy",question:"Who recommend me to this platform?",options:["friends","family","school","social media","others"]},{id:3,answering:"eduLvl",question:"I am currently in ...",options:["primary school","secondary school","high school","undergraduate","postgraduate","workplace"]},{id:4,answering:"country",question:"I am from ...",options:r}]}render(){if(console.log(this.state),this.state.user)if(this.state.user.metadata.creationTime===this.state.user.metadata.lastSignInTime)console.log("first-time user");else return L.jsx(hu,{to:"/freeflow-edu/"});else return L.jsx(hu,{to:"/freeflow-edu/"});const n=La(this.data)?[]:this.data.map((r,i)=>{const s=La(r.options)?[]:r.options.map((o,a)=>r.options.length<10?L.jsx("button",{onClick:()=>this.updateState(r.answering,o),value:o,children:o},o):L.jsx("option",{value:o,children:o},o));return L.jsxs("div",{style:{display:r.id===this.state.currentQuestion?"inherit":"none"},children:[L.jsxs("h3",{children:["Question ",r.id,": ",r.question]}),r.options.length<10?s:L.jsx("select",{id:"s_country",onChange:()=>$("#s_country").val()!=="-- Please Select --"?this.updateState("country",$("#s_country").val()):alert("Please select your origin."),children:s})]},r.id)});return this.state.currentQuestion>4?(console.log("End of survey"),this.uploadData(),L.jsx(hu,{to:"/freeflow-edu/"})):L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"First Time Login Q&A"}),n]})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebasestorage.googleapis.com",P2="storageBucket",SU=2*60*1e3,IU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Ai{constructor(e,n,r=0){super(Ig(e),`Firebase Storage: ${n} (${Ig(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function Ig(t){return"storage/"+t}function v_(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(Rt.UNKNOWN,t)}function bU(t){return new Ct(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function xU(t){return new Ct(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Rt.UNAUTHENTICATED,t)}function TU(){return new Ct(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kU(t){return new Ct(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function RU(){return new Ct(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CU(){return new Ct(Rt.CANCELED,"User canceled the upload/download.")}function PU(t){return new Ct(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function NU(t){return new Ct(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MU(){return new Ct(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+P2+"' property when initializing the app?")}function LU(){return new Ct(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BU(){return new Ct(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DU(t){return new Ct(Rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function q0(t){return new Ct(Rt.INVALID_ARGUMENT,t)}function N2(){return new Ct(Rt.APP_DELETED,"The Firebase app was deleted.")}function OU(t){return new Ct(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _u(t,e){return new Ct(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ul(t){throw new Ct(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw NU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(M){M.path_=decodeURIComponent(M.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${c}/b/${i}/o${v}`,"i"),x={bucket:1,path:3},I=n===C2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",w=new RegExp(`^https?://${I}/${i}/${b}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:_,indices:x,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let M=0;M<m.length;M++){const N=m[M],O=N.regex.exec(e);if(O){const F=O[N.indices.bucket];let V=O[N.indices.path];V||(V=""),r=new gr(F,V),N.postModify(r);break}}if(r==null)throw PU(e);return r}}class UU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...b){u||(u=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(_,l())},b)}function v(){s&&clearTimeout(s)}function _(b,...w){if(u){v();return}if(b){v(),c.call(null,b,...w);return}if(l()||o){v(),c.call(null,b,...w);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,f(m)}let x=!1;function I(b){x||(x=!0,v(),!u&&(i!==null?(b||(a=2),clearTimeout(i),f(0)):b||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function VU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){return t!==void 0}function jU(t){return typeof t=="object"&&!Array.isArray(t)}function __(t){return typeof t=="string"||t instanceof String}function WE(t){return w_()&&t instanceof Blob}function w_(){return typeof Blob<"u"&&!S4()}function HE(t,e,n,r){if(r<e)throw q0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw q0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function M2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mo||(mo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r,i,s,o,a,l,u,c,f,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,x)=>{this.resolve_=_,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mo.NO_ERROR,l=s.getStatus();if(!a||zU(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===mo.ABORT;r(!1,new lh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new lh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$U(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=v_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?N2():CU();o(l)}else{const l=RU();o(l)}};this.canceled_?n(!1,new lh(!1,null,!0)):this.backoffId_=FU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function QU(t,e,n,r,i,s,o=!0){const a=M2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return HU(u,e),KU(u,n),WU(u,s),GU(u,r),new qU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XU(...t){const e=YU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(w_())return new Blob(t);throw new Ct(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){if(typeof atob>"u")throw DU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bg{constructor(e,n){this.data=e,this.contentType=n||null}}function e5(t,e){switch(t){case hi.RAW:return new bg(L2(e));case hi.BASE64:case hi.BASE64URL:return new bg(B2(t,e));case hi.DATA_URL:return new bg(n5(e),r5(e))}throw v_()}function L2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function t5(t){let e;try{e=decodeURIComponent(t)}catch{throw _u(hi.DATA_URL,"Malformed data URL.")}return L2(e)}function B2(t,e){switch(t){case hi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _u(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _u(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ZU(e)}catch(i){throw i.message.includes("polyfill")?i:_u(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class D2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _u(hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=i5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function n5(t){const e=new D2(t);return e.base64?B2(hi.BASE64,e.rest):t5(e.rest)}function r5(t){return new D2(t).contentType}function i5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){let r=0,i="";WE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(WE(this.data_)){const r=this.data_,i=JU(r,e,n);return i===null?null:new gs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new gs(r,!0)}}static getBlob(...e){if(w_()){const n=e.map(r=>r instanceof gs?r.data_:r);return new gs(XU.apply(null,n))}else{const n=e.map(o=>__(o)?e5(hi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new gs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){let e;try{e=JSON.parse(t)}catch{return null}return jU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function U2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t,e){return e}class jn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||a5}}let uh=null;function l5(t){return!__(t)||t.length<2?t:U2(t)}function F2(){if(uh)return uh;const t=[];t.push(new jn("bucket")),t.push(new jn("generation")),t.push(new jn("metageneration")),t.push(new jn("name","fullPath",!0));function e(s,o){return l5(o)}const n=new jn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new jn("size");return i.xform=r,t.push(i),t.push(new jn("timeCreated")),t.push(new jn("updated")),t.push(new jn("md5Hash",null,!0)),t.push(new jn("cacheControl",null,!0)),t.push(new jn("contentDisposition",null,!0)),t.push(new jn("contentEncoding",null,!0)),t.push(new jn("contentLanguage",null,!0)),t.push(new jn("contentType",null,!0)),t.push(new jn("metadata","customMetadata",!0)),uh=t,uh}function u5(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new gr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function c5(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return u5(r,t),r}function V2(t,e,n){const r=O2(e);return r===null?null:c5(t,r,n)}function h5(t,e,n,r){const i=O2(e);if(i===null||!__(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,f=t.fullPath,v="/b/"+o(c)+"/o/"+o(f),_=E_(v,n,r),x=M2({alt:"media",token:u});return _+x})[0]}function d5(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class $2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){if(!t)throw v_()}function f5(t,e){function n(r,i){const s=V2(t,i,e);return j2(s!==null),s}return n}function p5(t,e){function n(r,i){const s=V2(t,i,e);return j2(s!==null),h5(s,i,t.host,t._protocol)}return n}function z2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=TU():i=AU():n.getStatus()===402?i=xU(t.bucket):n.getStatus()===403?i=kU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function g5(t){const e=z2(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=bU(t.path)),s.serverResponse=i.serverResponse,s}return n}function m5(t,e,n){const r=e.fullServerUrl(),i=E_(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $2(i,s,p5(t,n),o);return a.errorHandler=g5(e),a}function y5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function v5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=y5(null,e)),r}function _5(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let m="";for(let M=0;M<2;M++)m=m+Math.random().toString().slice(2);return m}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=v5(e,r,i),c=d5(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,v=`\r
--`+l+"--",_=gs.getBlob(f,r,v);if(_===null)throw LU();const x={name:u.fullPath},I=E_(s,t.host,t._protocol),b="POST",w=t.maxUploadRetryTime,E=new $2(I,b,f5(t,n),w);return E.urlParams=x,E.headers=o,E.body=_.uploadData(),E.errorHandler=z2(e),E}class w5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ul("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class E5 extends w5{initXhr(){this.xhr_.responseType="text"}}function q2(){return new E5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new No(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U2(this._location.path)}get storage(){return this._service}get parent(){const e=s5(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new No(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw OU(e)}}function S5(t,e,n){t._throwIfRoot("uploadBytes");const r=_5(t.storage,t._location,F2(),new gs(e,!0),n);return t.storage.makeRequestWithTokens(r,q2).then(i=>({metadata:i,ref:t}))}function I5(t){t._throwIfRoot("getDownloadURL");const e=m5(t.storage,t._location,F2());return t.storage.makeRequestWithTokens(e,q2).then(n=>{if(n===null)throw BU();return n})}function b5(t,e){const n=o5(t._location.path,e),r=new gr(t._location.bucket,n);return new No(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){return/^[A-Za-z]+:\/\//.test(t)}function A5(t,e){return new No(t,e)}function K2(t,e){if(t instanceof S_){const n=t;if(n._bucket==null)throw MU();const r=new No(n,n._bucket);return e!=null?K2(r,e):r}else return e!==void 0?b5(t,e):t}function T5(t,e){if(e&&x5(e)){if(t instanceof S_)return A5(t,e);throw q0("To use ref(service, url), the first argument must be a Storage instance.")}else return K2(t,e)}function GE(t,e){const n=e==null?void 0:e[P2];return n==null?null:gr.makeFromBucketSpec(n,t)}function k5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ex(i,t.app.options.projectId))}class S_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=C2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SU,this._maxUploadRetryTime=IU,this._requests=new Set,i!=null?this._bucket=gr.makeFromBucketSpec(i,this._host):this._bucket=GE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=GE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new No(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new UU(N2());{const o=QU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const QE="@firebase/storage",YE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="storage";function Fl(t,e,n){return t=Tt(t),S5(t,e,n)}function yo(t){return t=Tt(t),I5(t)}function wi(t,e){return t=Tt(t),T5(t,e)}function Xf(t=av(),e){t=Tt(t);const r=pf(t,W2).getImmediate({identifier:e}),i=vx("storage");return i&&R5(r,...i),r}function R5(t,e,n,r={}){k5(t,e,n,r)}function C5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new S_(n,r,i,e,Fo)}function P5(){To(new Os(W2,C5,"PUBLIC").setMultipleInstances(!0)),gi(QE,YE,""),gi(QE,YE,"esm2017")}P5();const N5={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},H2=Ks(N5),xg=qo(H2),M5=Xf(H2),L5=t=>{const[e,n]=X.useState(t.state.user);X.useState(t.state.credential);const[r,i]=X.useState(null),s=dl();if(e){const o=En(xg,"Users",e.uid);(()=>{ci(o).then(c=>{c.exists()?console.log("registered"):e.metadata.creationTime===e.metadata.lastSignInTime?(console.log("first-time user"),s("/freeflow-edu/first-time-user")):console.log("registered")}).catch(c=>{console.log("Error getting document of collection Users: ",c)})})();const l=()=>La(r)?[]:r.map((c,f)=>{const v=_=>(console.log(_),s("course/"+_));return L.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[L.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:c+"_card_thumbnail"}),L.jsxs("div",{className:"flex flex-col justify-start p-6",children:[L.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:c+"_title"}),L.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:c+"_des"}),L.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[L.jsx("span",{id:c+"_eduLvl"})," ",L.jsx("span",{id:c+"_sub"})]}),L.jsx("div",{className:"gap-4",id:c+"_tag"}),L.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>v(c),children:"View Course"})]})]},f)});X.useEffect(()=>{ka(document.getElementById("div_recommended")).render(L.jsx(l,{}));for(let f in r){const v=En(xg,"Course",r[f]);ci(v).then(_=>{$("#"+_.id+"_title").text(_.data().title),$("#"+_.id+"_des").text(_.data().des),$("#"+_.id+"_eduLvl").text(tr(_.data().eduLvl)),$("#"+_.id+"_sub").text(tr(_.data().sub)),(I=>{yo(wi(M5,I+"/thumbnail.jpg")).then(b=>{$(`#${r[f]}_card_thumbnail`).attr("src",b)})})(r[f]);for(let I in _.data().tag)$("#"+_.id+"_tag").html($("#"+_.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${_.data().tag[I]}</span>`)}).catch(_=>{console.error("No such document Course for id",r[f],_)})}},[r]),(async()=>{const c=await m_(Kf(xg,"Course"));r||i(c.docs.map(f=>f.id))})()}return L.jsxs(L.Fragment,{children:[L.jsx("h1",{className:"text-gray-300",children:"Home"}),L.jsx("h3",{className:"text-3xl bold py-5",children:"Recommended Course"}),L.jsx("div",{id:"div_recommended"})]})},B5={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},G2=Ks(B5),Vl=qo(G2),Ag=Xf(G2),D5=t=>{const{id:e}=ux(),n=dl(),[r,i]=X.useState(null),[s,o]=X.useState(null),[a,l]=X.useState(null),[u,c]=X.useState(null),f=En(Vl,"Users",e);if((async()=>{const x=await ci(f);x.exists()?($("#t_img_profile").attr("src",x.data().photoURL),$("#t_name_profile").text(x.data().displayName),$("#t_role_profile").text(tr(x.data().role)),e===t.state.user.uid&&(x.data().wishlist&&(s||o(x.data().wishlist)),x.data().enrolled&&(r||i(x.data().enrolled))),u||c(x.data().role)):console.log("No such document for users with uid",t.state.user.uid)})(),t.state.user.uid===e){const x=()=>La(r)?[]:r.map((b,w)=>{const E=m=>n("../course/"+m);return L.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[L.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:b+"_enrolled_card_thumbnail"}),L.jsxs("div",{className:"flex flex-col justify-start p-6",children:[L.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:b+"_enrolled_title"}),L.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:b+"_enrolled_des"}),L.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[L.jsx("span",{id:b+"_enrolled_eduLvl"})," ",L.jsx("span",{id:b+"_enrolled_sub"})]}),L.jsx("div",{className:"gap-4",id:b+"_enrolled_tag"}),L.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>E(b),children:"View Course"})]})]},w)});X.useEffect(()=>{ka(document.getElementById("div_enrolled")).render(L.jsx(x,{}));for(let w in r){const E=En(Vl,"Course",r[w]);ci(E).then(m=>{$("#"+m.id+"_enrolled_title").text(m.data().title),$("#"+m.id+"_enrolled_des").text(m.data().des),$("#"+m.id+"_enrolled_eduLvl").text(tr(m.data().eduLvl)),$("#"+m.id+"_enrolled_sub").text(tr(m.data().sub)),(N=>{yo(wi(Ag,N+"/thumbnail.jpg")).then(O=>{$(`#${r[w]}_enrolled_card_thumbnail`).attr("src",O)})})(r[w]);for(let N in m.data().tag)$("#"+m.id+"_enrolled_tag").html($("#"+m.id+"_enrolled_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${m.data().tag[N]}</span>`)}).catch(m=>{console.error("No such document Course for id",s[w],m)})}},[r]);const I=()=>La(r)?[]:s.map((b,w)=>{const E=m=>n("../course/"+m);return L.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[L.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:b+"_card_thumbnail"}),L.jsxs("div",{className:"flex flex-col justify-start p-6",children:[L.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:b+"_title"}),L.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:b+"_des"}),L.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[L.jsx("span",{id:b+"_eduLvl"})," ",L.jsx("span",{id:b+"_sub"})]}),L.jsx("div",{className:"gap-4",id:b+"_tag"}),L.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>E(b),children:"View Course"})]})]},w)});X.useEffect(()=>{ka(document.getElementById("div_wishlist")).render(L.jsx(I,{}));for(let w in s){const E=En(Vl,"Course",s[w]);ci(E).then(m=>{$("#"+m.id+"_title").text(m.data().title),$("#"+m.id+"_des").text(m.data().des),$("#"+m.id+"_eduLvl").text(tr(m.data().eduLvl)),$("#"+m.id+"_sub").text(tr(m.data().sub)),(N=>{yo(wi(Ag,N+"/thumbnail.jpg")).then(O=>{$(`#${s[w]}_card_thumbnail`).attr("src",O)})})(s[w]);for(let N in m.data().tag)$("#"+m.id+"_tag").html($("#"+m.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${m.data().tag[N]}</span>`)}).catch(m=>{console.error("No such document Course for id",s[w],m)})}},[s])}const _=()=>La(a)?[]:a.map((x,I)=>{const b=w=>n("../course/"+w);return L.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[L.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:x+"_lesson_card_thumbnail"}),L.jsxs("div",{className:"flex flex-col justify-start p-6",children:[L.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:x+"_lesson_title"}),L.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:x+"_lesson_des"}),L.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[L.jsx("span",{id:x+"_lesson_eduLvl"})," ",L.jsx("span",{id:x+"_lesson_sub"})]}),L.jsx("div",{className:"gap-4",id:x+"_lesson_tag"}),L.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>b(x),children:"View Course"})]})]},I)});return X.useEffect(()=>{ka(document.getElementById("div_teacher")).render(L.jsxs(L.Fragment,{children:[L.jsx("h3",{className:"text-3xl bold py-5",children:"Lessons"}),L.jsx(_,{})]}));for(let I in a){const b=En(Vl,"Course",a[I]);ci(b).then(w=>{$("#"+w.id+"_lesson_title").text(w.data().title),$("#"+w.id+"_lesson_des").text(w.data().des),$("#"+w.id+"_lesson_eduLvl").text(tr(w.data().eduLvl)),$("#"+w.id+"_lesson_sub").text(tr(w.data().sub)),(m=>{yo(wi(Ag,m+"/thumbnail.jpg")).then(M=>{$(`#${a[I]}_lesson_card_thumbnail`).attr("src",M)})})(a[I]);for(let m in w.data().tag)$("#"+w.id+"_lesson_tag").html($("#"+w.id+"_lesson_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${w.data().tag[m]}</span>`)}).catch(w=>{console.error("No such document Course for id",a[I],w)})}},[a]),X.useEffect(()=>{if(u==="teacher"){const x=I2(Kf(Vl,"Course"),b2("userUID","==","TaTnr1b52dY46GbLtOF2XtdKShm1"));(async()=>{const b=await m_(x);l(b.docs.map(w=>w.id))})()}},[u]),L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"Profile"}),L.jsx("img",{src:"",alt:"Profile Image",id:"t_img_profile"}),L.jsxs("h3",{children:["Name: ",L.jsx("span",{id:"t_name_profile"})]}),L.jsx("h3",{id:"t_role_profile"}),t.state.user.uid===e&&L.jsxs(L.Fragment,{children:[L.jsx("h3",{className:"text-3xl bold py-5",children:"Enrolled Course"}),L.jsx("div",{id:"div_enrolled"}),L.jsx("h3",{className:"text-3xl bold py-5",children:"Wishlist"}),L.jsx("div",{id:"div_wishlist"})]}),L.jsx("div",{id:"div_teacher"})]})},Tg=(()=>{const t={};let e=1;return{set(n,r,i){typeof n[r]>"u"&&(n[r]={key:r,id:e},e++),t[n[r].id]=i},get(n,r){if(!n||typeof n[r]>"u")return null;const i=n[r];return i.key===r?t[i.id]:null},delete(n,r){if(typeof n[r]>"u")return;const i=n[r];i.key===r&&(delete t[i.id],delete n[r])}}})(),ch={setData(t,e,n){Tg.set(t,e,n)},getData(t,e){return Tg.get(t,e)},removeData(t,e){Tg.delete(t,e)}},O5=1e6,U5=t=>t==null?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),F5=t=>{do t+=Math.floor(Math.random()*O5);while(document.getElementById(t));return t},Q2=t=>{let e=t.getAttribute("data-te-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},V5=t=>{const e=Q2(t);return e&&document.querySelector(e)?e:null},Y2=t=>{const e=Q2(t);return e?document.querySelector(e):null},$5=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),XE=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],s=e[r],o=s&&$5(s)?"element":U5(s);if(!new RegExp(i).test(o))throw new Error(`${t.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)})},I_=t=>{if(!t||t.getClientRects().length===0)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return getComputedStyle(t).getPropertyValue("visibility")==="visible"||e.display!=="none"&&n.display!=="none"&&e.visibility!=="hidden"}return!1},b_=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",X2=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-te-no-jquery")?t:null},kg=[],j5=t=>{document.readyState==="loading"?(kg.length||document.addEventListener("DOMContentLoaded",()=>{kg.forEach(e=>e())}),kg.push(t)):t()},Ii=()=>document.documentElement.dir==="rtl",J2=t=>document.createElement(t),z5=/[^.]*(?=\..*)\.|.*/,q5=/\..*/,K5=/::\d+$/,Rg={};let JE=1;const W5={mouseenter:"mouseover",mouseleave:"mouseout"},H5=/^(mouseenter|mouseleave)/i,Z2=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ek(t,e){return e&&`${e}::${JE++}`||t.uidEvent||JE++}function tk(t){const e=ek(t);return t.uidEvent=e,Rg[e]=Rg[e]||{},Rg[e]}function G5(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&Xn.off(t,r.type,e),e.apply(t,[r])}}function Q5(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a=s.length;a--;"")if(s[a]===o)return i.delegateTarget=o,r.oneOff&&Xn.off(t,i.type,n),n.apply(o,[i]);return null}}function nk(t,e,n=null){const r=Object.keys(t);for(let i=0,s=r.length;i<s;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function rk(t,e,n){const r=typeof e=="string",i=r?n:e;let s=ik(t);return Z2.has(s)||(s=t),[r,i,s]}function ZE(t,e,n,r,i){if(typeof e!="string"||!t)return;if(n||(n=r,r=null),H5.test(e)){const _=x=>function(I){if(!I.relatedTarget||I.relatedTarget!==I.delegateTarget&&!I.delegateTarget.contains(I.relatedTarget))return x.call(this,I)};r?r=_(r):n=_(n)}const[s,o,a]=rk(e,n,r),l=tk(t),u=l[a]||(l[a]={}),c=nk(u,o,s?n:null);if(c){c.oneOff=c.oneOff&&i;return}const f=ek(o,e.replace(z5,"")),v=s?Q5(t,n,r):G5(t,n);v.delegationSelector=s?n:null,v.originalHandler=o,v.oneOff=i,v.uidEvent=f,u[f]=v,t.addEventListener(a,v,s)}function K0(t,e,n,r,i){const s=nk(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function Y5(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(s=>{if(s.includes(r)){const o=i[s];K0(t,e,n,o.originalHandler,o.delegationSelector)}})}function ik(t){return t=t.replace(q5,""),W5[t]||t}const Xn={on(t,e,n,r){ZE(t,e,n,r,!1)},one(t,e,n,r){ZE(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=rk(e,n,r),a=o!==e,l=tk(t),u=e.startsWith(".");if(typeof s<"u"){if(!l||!l[o])return;K0(t,l,o,s,i?n:null);return}u&&Object.keys(l).forEach(f=>{Y5(t,l,f,e.slice(1))});const c=l[o]||{};Object.keys(c).forEach(f=>{const v=f.replace(K5,"");if(!a||e.includes(v)){const _=c[f];K0(t,l,o,_.originalHandler,_.delegationSelector)}})},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=X2(),i=ik(e),s=e!==i,o=Z2.has(i);let a,l=!0,u=!0,c=!1,f=null;return s&&r&&(a=r.Event(e,n),r(t).trigger(a),l=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented()),o?(f=document.createEvent("HTMLEvents"),f.initEvent(i,l,!0)):f=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof n<"u"&&Object.keys(n).forEach(v=>{Object.defineProperty(f,v,{get(){return n[v]}})}),c&&f.preventDefault(),u&&t.dispatchEvent(f),f.defaultPrevented&&typeof a<"u"&&a.preventDefault(),f}};function Cg(t){return t==="true"?!0:t==="false"?!1:t===Number(t).toString()?Number(t):t===""||t==="null"?null:t}function Pg(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const qn={setDataAttribute(t,e,n){t.setAttribute(`data-te-${Pg(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-te-${Pg(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(n=>n.startsWith("te")).forEach(n=>{if(n.startsWith("teClass"))return;let r=n.replace(/^te/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Cg(t.dataset[n])}),e},getDataClassAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter(n=>n.startsWith("teClass")).forEach(n=>{let r=n.replace(/^teClass/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Cg(e[n])}),e},getDataAttribute(t,e){return Cg(t.getAttribute(`data-te-${Pg(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position(t){return{top:t.offsetTop,left:t.offsetLeft}},style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&Ng(e).forEach(n=>{t.classList.contains(n)?t.classList.remove(n):t.classList.add(n)})},addClass(t,e){Ng(e).forEach(n=>!t.classList.contains(n)&&t.classList.add(n))},addStyle(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]})},removeClass(t,e){Ng(e).forEach(n=>t.classList.contains(n)&&t.classList.remove(n))},hasClass(t,e){return t.classList.contains(e)},maxOffset(t){const e=t.getBoundingClientRect();return{top:e.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:e.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function Ng(t){return typeof t=="string"?t.split(" "):Array.isArray(t)?t:!1}const X5=3,$i={closest(t,e){return t.closest(e)},matches(t,e){return t.matches(e)},find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==X5;)this.matches(r,e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(", ");return this.find(e,t).filter(n=>!b_(n)&&I_(n))}};Ii();Ii();Ii();Ii();Ii();Ii();Ii(),Ii();(()=>{var t={454:(r,i,s)=>{s.d(i,{Z:()=>l});var o=s(645),a=s.n(o)()(function(u){return u[1]});a.push([r.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const l=a},645:r=>{r.exports=function(i){var s=[];return s.toString=function(){return this.map(function(o){var a=i(o);return o[2]?"@media ".concat(o[2]," {").concat(a,"}"):a}).join("")},s.i=function(o,a,l){typeof o=="string"&&(o=[[null,o,""]]);var u={};if(l)for(var c=0;c<this.length;c++){var f=this[c][0];f!=null&&(u[f]=!0)}for(var v=0;v<o.length;v++){var _=[].concat(o[v]);l&&u[_[0]]||(a&&(_[2]?_[2]="".concat(a," and ").concat(_[2]):_[2]=a),s.push(_))}},s}},810:()=>{(function(){if(typeof window<"u")try{var r=new window.CustomEvent("test",{cancelable:!0});if(r.preventDefault(),r.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var i=function(s,o){var a,l;return(o=o||{}).bubbles=!!o.bubbles,o.cancelable=!!o.cancelable,(a=document.createEvent("CustomEvent")).initCustomEvent(s,o.bubbles,o.cancelable,o.detail),l=a.preventDefault,a.preventDefault=function(){l.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},a};i.prototype=window.Event.prototype,window.CustomEvent=i}})()},379:(r,i,s)=>{var o,a=function(){var m={};return function(M){if(m[M]===void 0){var N=document.querySelector(M);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}m[M]=N}return m[M]}}(),l=[];function u(m){for(var M=-1,N=0;N<l.length;N++)if(l[N].identifier===m){M=N;break}return M}function c(m,M){for(var N={},O=[],F=0;F<m.length;F++){var V=m[F],J=M.base?V[0]+M.base:V[0],Z=N[J]||0,re="".concat(J," ").concat(Z);N[J]=Z+1;var _e=u(re),U={css:V[1],media:V[2],sourceMap:V[3]};_e!==-1?(l[_e].references++,l[_e].updater(U)):l.push({identifier:re,updater:E(U,M),references:1}),O.push(re)}return O}function f(m){var M=document.createElement("style"),N=m.attributes||{};if(N.nonce===void 0){var O=s.nc;O&&(N.nonce=O)}if(Object.keys(N).forEach(function(V){M.setAttribute(V,N[V])}),typeof m.insert=="function")m.insert(M);else{var F=a(m.insert||"head");if(!F)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");F.appendChild(M)}return M}var v,_=(v=[],function(m,M){return v[m]=M,v.filter(Boolean).join(`
`)});function x(m,M,N,O){var F=N?"":O.media?"@media ".concat(O.media," {").concat(O.css,"}"):O.css;if(m.styleSheet)m.styleSheet.cssText=_(M,F);else{var V=document.createTextNode(F),J=m.childNodes;J[M]&&m.removeChild(J[M]),J.length?m.insertBefore(V,J[M]):m.appendChild(V)}}function I(m,M,N){var O=N.css,F=N.media,V=N.sourceMap;if(F?m.setAttribute("media",F):m.removeAttribute("media"),V&&typeof btoa<"u"&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(V))))," */")),m.styleSheet)m.styleSheet.cssText=O;else{for(;m.firstChild;)m.removeChild(m.firstChild);m.appendChild(document.createTextNode(O))}}var b=null,w=0;function E(m,M){var N,O,F;if(M.singleton){var V=w++;N=b||(b=f(M)),O=x.bind(null,N,V,!1),F=x.bind(null,N,V,!0)}else N=f(M),O=I.bind(null,N,M),F=function(){(function(J){if(J.parentNode===null)return!1;J.parentNode.removeChild(J)})(N)};return O(m),function(J){if(J){if(J.css===m.css&&J.media===m.media&&J.sourceMap===m.sourceMap)return;O(m=J)}else F()}}r.exports=function(m,M){(M=M||{}).singleton||typeof M.singleton=="boolean"||(M.singleton=(o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o));var N=c(m=m||[],M);return function(O){if(O=O||[],Object.prototype.toString.call(O)==="[object Array]"){for(var F=0;F<N.length;F++){var V=u(N[F]);l[V].references--}for(var J=c(O,M),Z=0;Z<N.length;Z++){var re=u(N[Z]);l[re].references===0&&(l[re].updater(),l.splice(re,1))}N=J}}}}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return n.d(i,{a:i}),i},n.d=(r,i)=>{for(var s in i)n.o(i,s)&&!n.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:i[s]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),(()=>{var r=n(379),i=n.n(r),s=n(454);function o(l){if(!l.hasAttribute("autocompleted")){l.setAttribute("autocompleted","");var u=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});l.dispatchEvent(u)||(l.value="")}}function a(l){l.hasAttribute("autocompleted")&&(l.removeAttribute("autocompleted"),l.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,n(810),document.addEventListener("animationstart",function(l){l.animationName==="onautofillstart"?o(l.target):a(l.target)},!0),document.addEventListener("input",function(l){l.inputType!=="insertReplacementText"&&"data"in l?a(l.target):o(l.target)},!0)})()})();const Mg="ripple",hh="te.ripple",J5="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",Z5=["[data-te-ripple-init]"],Lg=[0,0,0],eF=[{name:"primary",gradientColor:"#3B71CA"},{name:"secondary",gradientColor:"#9FA6B2"},{name:"success",gradientColor:"#14A44D"},{name:"danger",gradientColor:"#DC4C64"},{name:"warning",gradientColor:"#E4A11B"},{name:"info",gradientColor:"#54B4D3"},{name:"light",gradientColor:"#fbfbfb"},{name:"dark",gradientColor:"#262626"}],eS=.5,tF={rippleCentered:!1,rippleColor:"",rippleColorDark:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},nF={rippleCentered:"boolean",rippleColor:"string",rippleColorDark:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},rF={ripple:"relative overflow-hidden inline-block align-bottom",rippleWave:"rounded-[50%] opacity-50 pointer-events-none absolute touch-none scale-0 transition-[transform,_opacity] ease-[cubic-bezier(0,0,0.15,1),_cubic-bezier(0,0,0.15,1)] z-[999]",unbound:"overflow-visible"},iF={ripple:"string",rippleWave:"string",unbound:"string"};class x_{constructor(e,n,r){this._element=e,this._options=this._getConfig(n),this._classes=this._getClasses(r),this._element&&(ch.setData(e,hh,this),qn.addClass(this._element,this._classes.ripple)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this._initialClasses=null,this.init()}static get NAME(){return Mg}init(){this._addClickEvent(this._element)}dispose(){ch.removeData(this._element,hh),Xn.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(e){Z5.forEach(n=>{$i.closest(e.target,n)&&(this._element=$i.closest(e.target,n))}),this._element.style.minWidth||(qn.style(this._element,{"min-width":getComputedStyle(this._element).width}),this._isMinWidthSet=!0),this._options=this._getConfig(),this._classes=this._getClasses(),this._initialClasses=[...this._element.classList],qn.addClass(this._element,this._classes.ripple),this._createRipple(e)}_addClickEvent(e){Xn.on(e,"mousedown",this._clickHandler)}_createRipple(e){this._element.className.indexOf(this._classes.ripple)<0&&qn.addClass(this._element,this._classes.ripple);const{layerX:n,layerY:r}=e,i=e.offsetX||n,s=e.offsetY||r,o=this._element.offsetHeight,a=this._element.offsetWidth,l=this._durationToMsNumber(this._options.rippleDuration),u={offsetX:this._options.rippleCentered?o/2:i,offsetY:this._options.rippleCentered?a/2:s,height:o,width:a},c=this._getDiameter(u),f=this._options.rippleRadius||c/2,v={delay:l*eS,duration:l-l*eS},_={left:this._options.rippleCentered?`${a/2-f}px`:`${i-f}px`,top:this._options.rippleCentered?`${o/2-f}px`:`${s-f}px`,height:`${this._options.rippleRadius*2||c}px`,width:`${this._options.rippleRadius*2||c}px`,transitionDelay:`0s, ${v.delay}ms`,transitionDuration:`${l}ms, ${v.duration}ms`},x=J2("div");this._createHTMLRipple({wrapper:this._element,ripple:x,styles:_}),this._removeHTMLRipple({ripple:x,duration:l})}_createHTMLRipple({wrapper:e,ripple:n,styles:r}){Object.keys(r).forEach(i=>n.style[i]=r[i]),qn.addClass(n,this._classes.rippleWave),n.setAttribute("data-te-ripple-ref",""),this._addColor(n,e),this._toggleUnbound(e),this._appendRipple(n,e)}_removeHTMLRipple({ripple:e,duration:n}){this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),e&&setTimeout(()=>{e.classList.add("!opacity-0")},10),this._rippleTimer=setTimeout(()=>{if(e&&(e.remove(),this._element)){$i.find("[data-te-ripple-ref]",this._element).forEach(i=>{i.remove()}),this._isMinWidthSet&&(qn.style(this._element,{"min-width":""}),this._isMinWidthSet=!1);const r=this._initialClasses?this._addedNewRippleClasses(this._classes.ripple,this._initialClasses):this._classes.ripple.split(" ");qn.removeClass(this._element,r)}},n)}_addedNewRippleClasses(e,n){return e.split(" ").filter(r=>n.findIndex(i=>r===i)===-1)}_durationToMsNumber(e){return Number(e.replace("ms","").replace("s","000"))}_getConfig(e={}){const n=qn.getDataAttributes(this._element);return e={...tF,...n,...e},XE(Mg,e,nF),e}_getClasses(e={}){const n=qn.getDataClassAttributes(this._element);return e={...rF,...n,...e},XE(Mg,e,iF),e}_getDiameter({offsetX:e,offsetY:n,height:r,width:i}){const s=n<=r/2,o=e<=i/2,a=(v,_)=>Math.sqrt(v**2+_**2),l=n===r/2&&e===i/2,u={first:s===!0&&o===!1,second:s===!0&&o===!0,third:s===!1&&o===!0,fourth:s===!1&&o===!1},c={topLeft:a(e,n),topRight:a(i-e,n),bottomLeft:a(e,r-n),bottomRight:a(i-e,r-n)};let f=0;return l||u.fourth?f=c.topLeft:u.third?f=c.topRight:u.second?f=c.bottomRight:u.first&&(f=c.bottomLeft),f*2}_appendRipple(e,n){n.appendChild(e),setTimeout(()=>{qn.addClass(e,"opacity-0 scale-100")},50)}_toggleUnbound(e){this._options.rippleUnbound===!0?qn.addClass(e,this._classes.unbound):qn.removeClass(e,this._classes.unbound)}_addColor(e){let n=this._options.rippleColor||"rgb(0,0,0)";(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(n=this._options.rippleColorDark||this._options.rippleColor);const r=eF.find(o=>o.name===n.toLowerCase()),i=r?this._colorToRGB(r.gradientColor).join(","):this._colorToRGB(n).join(","),s=J5.split("{{color}}").join(`${i}`);e.style.backgroundImage=`radial-gradient(circle, ${s})`}_colorToRGB(e){function n(s){return s.length<7&&(s=`#${s[1]}${s[1]}${s[2]}${s[2]}${s[3]}${s[3]}`),[parseInt(s.substr(1,2),16),parseInt(s.substr(3,2),16),parseInt(s.substr(5,2),16)]}function r(s){const o=document.body.appendChild(document.createElement("fictum")),a="rgb(1, 2, 3)";return o.style.color=a,o.style.color!==a||(o.style.color=s,o.style.color===a||o.style.color==="")?Lg:(s=getComputedStyle(o).color,document.body.removeChild(o),s)}function i(s){return s=s.match(/[.\d]+/g).map(o=>+Number(o)),s.length=3,s}return e.toLowerCase()==="transparent"?Lg:e[0]==="#"?n(e):(e.indexOf("rgb")===-1&&(e=r(e)),e.indexOf("rgb")===0?i(e):Lg)}static autoInitial(e){return function(n){e._autoInit(n)}}static jQueryInterface(e){return this.each(function(){return ch.getData(this,hh)?null:new x_(this,e)})}static getInstance(e){return ch.getData(e,hh)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}}Ii();Ii();F5("chips-input-");const ns={plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}},sF={line:{options:{...ns,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bar:{options:{...ns,backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},pie:{options:{...ns,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},doughnut:{options:{...ns,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},polarArea:{options:{...ns,elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}}},radar:{options:{...ns,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},scatter:{options:{...ns,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bubble:{options:{...ns,elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}}};var Jf=function(t){this.element=t,this.handlers={}},sk={isEmpty:{configurable:!0}};Jf.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};Jf.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(n.element.removeEventListener(t,r,!1),!1)})};Jf.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};sk.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(Jf.prototype,sk);typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),typeof navigator<"u"&&navigator.msMaxTouchPoints,typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent);J2("div");const oF=t=>{j5(()=>{const e=X2();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},aF=(t,e)=>{Xn.on(document,`click.te.${t.NAME}`,e,function(n){n.preventDefault(),t.getOrCreateInstance(this).toggle()})},lF=(t,e)=>{Xn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!b_(this)&&t.getOrCreateInstance(this).show()})},uF=(t,e)=>{Xn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){const r=Y2(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),b_(this))return;Xn.one(r,t.EVENT_HIDDEN,()=>{I_(this)&&this.focus()});const i=$i.findOne(t.OPEN_SELECTOR);i&&i!==r&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},cF=(t,e)=>{Xn.on(document,`click.te.${t.NAME}`,e,n=>{n.preventDefault();const r=n.target.closest(e);t.getOrCreateInstance(r).toggle()})},hF=(t,e)=>{Xn.on(document,`click.te.${t.NAME}`,e,function(n){const r=Y2(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Xn.one(r,t.EVENT_SHOW,s=>{s.defaultPrevented||Xn.one(r,t.EVENT_HIDDEN,()=>{I_(this)&&this.focus()})});const i=$i.findOne(`[${t.OPEN_SELECTOR}="true"]`);i&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},dF=(t,e)=>{Xn.one(document,"mousedown",e,t.autoInitial(new t))},fF=(t,e)=>{Xn.on(document,`click.te.${t.NAME}.data-api`,e,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const r=V5(this);$i.find(r).forEach(i=>{t.getOrCreateInstance(i,{toggle:!1}).toggle()})})},pF=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},gF=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},mF=(t,e)=>{$i.find(e).forEach(n=>{new t(n)}),Xn.on(document,`click.te.${t.NAME}.data-api`,`${e} img:not([data-te-lightbox-disabled])`,t.toggle())},yF=(t,e)=>{const n=s=>s[0]==="{"&&s[s.length-1]==="}"||s[0]==="["&&s[s.length-1]==="]",r=s=>typeof s!="string"?s:n(s)?JSON.parse(s.replace(/'/g,'"')):s,i=s=>{const o={};return Object.keys(s).forEach(a=>{if(a.match(/dataset.*/)){const l=a.slice(7,8).toLowerCase().concat(a.slice(8));o[l]=r(s[a])}}),o};$i.find(e).forEach(s=>{if(qn.getDataAttribute(s,"chart")!=="bubble"&&qn.getDataAttribute(s,"chart")!=="scatter"){const o=qn.getDataAttributes(s),a={data:{datasets:[i(o)]}};return o.chart&&(a.type=o.chart),o.labels&&(a.data.labels=JSON.parse(o.labels.replace(/'/g,'"'))),new t(s,{...a,...sF[a.type]})}return null})};class vF{constructor(){this.inits=[]}get initialized(){return this.inits}isInited(e){return this.inits.includes(e)}add(e){this.isInited(e)||this.inits.push(e)}}const W0=new vF,Zl={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:yF},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:cF},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:fF},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:aF},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:hF},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:dF},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:uF},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:lF},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:pF},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:gF},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:mF},touch:{name:"Touch",selector:"[data-te-touch-init]"}},_F=t=>Zl[t.NAME]||null,wF=(t,e)=>{if(!t||!e.allowReinits&&W0.isInited(t.NAME))return;W0.add(t.NAME);const n=_F(t),r=(n==null?void 0:n.isToggler)||!1;if(oF(t),n!=null&&n.advanced){n==null||n.advanced(t,n==null?void 0:n.selector);return}if(r){n==null||n.callback(t,n==null?void 0:n.selector);return}$i.find(n==null?void 0:n.selector).forEach(i=>{let s=t.getInstance(i);s||(s=new t(i),n!=null&&n.onInit&&s[n.onInit]())})},EF=(t,e)=>{t.forEach(n=>wF(n,e))},SF={allowReinits:!1,checkOtherImports:!1},IF=(t,e={})=>{e={...SF,...e};const n=Object.keys(Zl).map(r=>{if(document.querySelector(Zl[r].selector)){const i=t[Zl[r].name];return!i&&!W0.isInited(r)&&e.checkOtherImports&&console.warn(`Please import ${Zl[r].name} from "tw-elements" package and add it to a object parameter inside "initTE" function`),i}});EF(n,e)};var Te={},Zf={};Zf.byteLength=AF;Zf.toByteArray=kF;Zf.fromByteArray=PF;var oi=[],br=[],bF=typeof Uint8Array<"u"?Uint8Array:Array,Bg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Zo=0,xF=Bg.length;Zo<xF;++Zo)oi[Zo]=Bg[Zo],br[Bg.charCodeAt(Zo)]=Zo;br["-".charCodeAt(0)]=62;br["_".charCodeAt(0)]=63;function ok(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function AF(t){var e=ok(t),n=e[0],r=e[1];return(n+r)*3/4-r}function TF(t,e,n){return(e+n)*3/4-n}function kF(t){var e,n=ok(t),r=n[0],i=n[1],s=new bF(TF(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=br[t.charCodeAt(l)]<<18|br[t.charCodeAt(l+1)]<<12|br[t.charCodeAt(l+2)]<<6|br[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=br[t.charCodeAt(l)]<<2|br[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=br[t.charCodeAt(l)]<<10|br[t.charCodeAt(l+1)]<<4|br[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function RF(t){return oi[t>>18&63]+oi[t>>12&63]+oi[t>>6&63]+oi[t&63]}function CF(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(RF(r));return i.join("")}function PF(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(CF(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(oi[e>>2]+oi[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(oi[e>>10]+oi[e>>4&63]+oi[e<<2&63]+"=")),i.join("")}var A_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */A_.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,u=l>>1,c=-7,f=n?i-1:0,v=n?-1:1,_=t[e+f];for(f+=v,s=_&(1<<-c)-1,_>>=-c,c+=a;c>0;s=s*256+t[e+f],f+=v,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=o*256+t[e+f],f+=v,c-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(_?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(_?-1:1)*o*Math.pow(2,s-r)};A_.write=function(t,e,n,r,i,s){var o,a,l,u=s*8-i-1,c=(1<<u)-1,f=c>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:s-1,x=r?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=v/l:e+=v*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+_]=a&255,_+=x,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+_]=o&255,_+=x,o/=256,u-=8);t[n+_-x]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Zf,n=A_,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const k=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(k,p),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(k){if(k>i)throw new RangeError('The value "'+k+'" is invalid for option "size"');const p=new Uint8Array(k);return Object.setPrototypeOf(p,a.prototype),p}function a(k,p,g){if(typeof k=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(k)}return l(k,p,g)}a.poolSize=8192;function l(k,p,g){if(typeof k=="string")return v(k,p);if(ArrayBuffer.isView(k))return x(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(An(k,ArrayBuffer)||k&&An(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(An(k,SharedArrayBuffer)||k&&An(k.buffer,SharedArrayBuffer)))return I(k,p,g);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=k.valueOf&&k.valueOf();if(D!=null&&D!==k)return a.from(D,p,g);const j=b(k);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),p,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,p,g){return l(k,p,g)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function c(k,p,g){return u(k),k<=0?o(k):p!==void 0?typeof g=="string"?o(k).fill(p,g):o(k).fill(p):o(k)}a.alloc=function(k,p,g){return c(k,p,g)};function f(k){return u(k),o(k<0?0:w(k)|0)}a.allocUnsafe=function(k){return f(k)},a.allocUnsafeSlow=function(k){return f(k)};function v(k,p){if((typeof p!="string"||p==="")&&(p="utf8"),!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);const g=m(k,p)|0;let D=o(g);const j=D.write(k,p);return j!==g&&(D=D.slice(0,j)),D}function _(k){const p=k.length<0?0:w(k.length)|0,g=o(p);for(let D=0;D<p;D+=1)g[D]=k[D]&255;return g}function x(k){if(An(k,Uint8Array)){const p=new Uint8Array(k);return I(p.buffer,p.byteOffset,p.byteLength)}return _(k)}function I(k,p,g){if(p<0||k.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<p+(g||0))throw new RangeError('"length" is outside of buffer bounds');let D;return p===void 0&&g===void 0?D=new Uint8Array(k):g===void 0?D=new Uint8Array(k,p):D=new Uint8Array(k,p,g),Object.setPrototypeOf(D,a.prototype),D}function b(k){if(a.isBuffer(k)){const p=w(k.length)|0,g=o(p);return g.length===0||k.copy(g,0,0,p),g}if(k.length!==void 0)return typeof k.length!="number"||et(k.length)?o(0):_(k);if(k.type==="Buffer"&&Array.isArray(k.data))return _(k.data)}function w(k){if(k>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return k|0}function E(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype},a.compare=function(p,g){if(An(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),An(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(p)||!a.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===g)return 0;let D=p.length,j=g.length;for(let z=0,H=Math.min(D,j);z<H;++z)if(p[z]!==g[z]){D=p[z],j=g[z];break}return D<j?-1:j<D?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,g){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);let D;if(g===void 0)for(g=0,D=0;D<p.length;++D)g+=p[D].length;const j=a.allocUnsafe(g);let z=0;for(D=0;D<p.length;++D){let H=p[D];if(An(H,Uint8Array))z+H.length>j.length?(a.isBuffer(H)||(H=a.from(H)),H.copy(j,z)):Uint8Array.prototype.set.call(j,H,z);else if(a.isBuffer(H))H.copy(j,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=H.length}return j};function m(k,p){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||An(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const g=k.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&g===0)return 0;let j=!1;for(;;)switch(p){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return Je(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return it(k).length;default:if(j)return D?-1:Je(k).length;p=(""+p).toLowerCase(),j=!0}}a.byteLength=m;function M(k,p,g){let D=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,p>>>=0,g<=p))return"";for(k||(k="utf8");;)switch(k){case"hex":return A(this,p,g);case"utf8":case"utf-8":return h(this,p,g);case"ascii":return B(this,p,g);case"latin1":case"binary":return T(this,p,g);case"base64":return U(this,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,p,g);default:if(D)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function N(k,p,g){const D=k[p];k[p]=k[g],k[g]=D}a.prototype.swap16=function(){const p=this.length;if(p%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<p;g+=2)N(this,g,g+1);return this},a.prototype.swap32=function(){const p=this.length;if(p%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<p;g+=4)N(this,g,g+3),N(this,g+1,g+2);return this},a.prototype.swap64=function(){const p=this.length;if(p%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<p;g+=8)N(this,g,g+7),N(this,g+1,g+6),N(this,g+2,g+5),N(this,g+3,g+4);return this},a.prototype.toString=function(){const p=this.length;return p===0?"":arguments.length===0?h(this,0,p):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){let p="";const g=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(p+=" ... "),"<Buffer "+p+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(p,g,D,j,z){if(An(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof p);if(g===void 0&&(g=0),D===void 0&&(D=p?p.length:0),j===void 0&&(j=0),z===void 0&&(z=this.length),g<0||D>p.length||j<0||z>this.length)throw new RangeError("out of range index");if(j>=z&&g>=D)return 0;if(j>=z)return-1;if(g>=D)return 1;if(g>>>=0,D>>>=0,j>>>=0,z>>>=0,this===p)return 0;let H=z-j,Pe=D-g;const Re=Math.min(H,Pe),xe=this.slice(j,z),ot=p.slice(g,D);for(let Se=0;Se<Re;++Se)if(xe[Se]!==ot[Se]){H=xe[Se],Pe=ot[Se];break}return H<Pe?-1:Pe<H?1:0};function O(k,p,g,D,j){if(k.length===0)return-1;if(typeof g=="string"?(D=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,et(g)&&(g=j?0:k.length-1),g<0&&(g=k.length+g),g>=k.length){if(j)return-1;g=k.length-1}else if(g<0)if(j)g=0;else return-1;if(typeof p=="string"&&(p=a.from(p,D)),a.isBuffer(p))return p.length===0?-1:F(k,p,g,D,j);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(k,p,g):Uint8Array.prototype.lastIndexOf.call(k,p,g):F(k,[p],g,D,j);throw new TypeError("val must be string, number or Buffer")}function F(k,p,g,D,j){let z=1,H=k.length,Pe=p.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(k.length<2||p.length<2)return-1;z=2,H/=2,Pe/=2,g/=2}function Re(ot,Se){return z===1?ot[Se]:ot.readUInt16BE(Se*z)}let xe;if(j){let ot=-1;for(xe=g;xe<H;xe++)if(Re(k,xe)===Re(p,ot===-1?0:xe-ot)){if(ot===-1&&(ot=xe),xe-ot+1===Pe)return ot*z}else ot!==-1&&(xe-=xe-ot),ot=-1}else for(g+Pe>H&&(g=H-Pe),xe=g;xe>=0;xe--){let ot=!0;for(let Se=0;Se<Pe;Se++)if(Re(k,xe+Se)!==Re(p,Se)){ot=!1;break}if(ot)return xe}return-1}a.prototype.includes=function(p,g,D){return this.indexOf(p,g,D)!==-1},a.prototype.indexOf=function(p,g,D){return O(this,p,g,D,!0)},a.prototype.lastIndexOf=function(p,g,D){return O(this,p,g,D,!1)};function V(k,p,g,D){g=Number(g)||0;const j=k.length-g;D?(D=Number(D),D>j&&(D=j)):D=j;const z=p.length;D>z/2&&(D=z/2);let H;for(H=0;H<D;++H){const Pe=parseInt(p.substr(H*2,2),16);if(et(Pe))return H;k[g+H]=Pe}return H}function J(k,p,g,D){return Ze(Je(p,k.length-g),k,g,D)}function Z(k,p,g,D){return Ze(dt(p),k,g,D)}function re(k,p,g,D){return Ze(it(p),k,g,D)}function _e(k,p,g,D){return Ze(Yo(p,k.length-g),k,g,D)}a.prototype.write=function(p,g,D,j){if(g===void 0)j="utf8",D=this.length,g=0;else if(D===void 0&&typeof g=="string")j=g,D=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(D)?(D=D>>>0,j===void 0&&(j="utf8")):(j=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-g;if((D===void 0||D>z)&&(D=z),p.length>0&&(D<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let H=!1;for(;;)switch(j){case"hex":return V(this,p,g,D);case"utf8":case"utf-8":return J(this,p,g,D);case"ascii":case"latin1":case"binary":return Z(this,p,g,D);case"base64":return re(this,p,g,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,p,g,D);default:if(H)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),H=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(k,p,g){return p===0&&g===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(p,g))}function h(k,p,g){g=Math.min(k.length,g);const D=[];let j=p;for(;j<g;){const z=k[j];let H=null,Pe=z>239?4:z>223?3:z>191?2:1;if(j+Pe<=g){let Re,xe,ot,Se;switch(Pe){case 1:z<128&&(H=z);break;case 2:Re=k[j+1],(Re&192)===128&&(Se=(z&31)<<6|Re&63,Se>127&&(H=Se));break;case 3:Re=k[j+1],xe=k[j+2],(Re&192)===128&&(xe&192)===128&&(Se=(z&15)<<12|(Re&63)<<6|xe&63,Se>2047&&(Se<55296||Se>57343)&&(H=Se));break;case 4:Re=k[j+1],xe=k[j+2],ot=k[j+3],(Re&192)===128&&(xe&192)===128&&(ot&192)===128&&(Se=(z&15)<<18|(Re&63)<<12|(xe&63)<<6|ot&63,Se>65535&&Se<1114112&&(H=Se))}}H===null?(H=65533,Pe=1):H>65535&&(H-=65536,D.push(H>>>10&1023|55296),H=56320|H&1023),D.push(H),j+=Pe}return R(D)}const y=4096;function R(k){const p=k.length;if(p<=y)return String.fromCharCode.apply(String,k);let g="",D=0;for(;D<p;)g+=String.fromCharCode.apply(String,k.slice(D,D+=y));return g}function B(k,p,g){let D="";g=Math.min(k.length,g);for(let j=p;j<g;++j)D+=String.fromCharCode(k[j]&127);return D}function T(k,p,g){let D="";g=Math.min(k.length,g);for(let j=p;j<g;++j)D+=String.fromCharCode(k[j]);return D}function A(k,p,g){const D=k.length;(!p||p<0)&&(p=0),(!g||g<0||g>D)&&(g=D);let j="";for(let z=p;z<g;++z)j+=tt[k[z]];return j}function C(k,p,g){const D=k.slice(p,g);let j="";for(let z=0;z<D.length-1;z+=2)j+=String.fromCharCode(D[z]+D[z+1]*256);return j}a.prototype.slice=function(p,g){const D=this.length;p=~~p,g=g===void 0?D:~~g,p<0?(p+=D,p<0&&(p=0)):p>D&&(p=D),g<0?(g+=D,g<0&&(g=0)):g>D&&(g=D),g<p&&(g=p);const j=this.subarray(p,g);return Object.setPrototypeOf(j,a.prototype),j};function S(k,p,g){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+p>g)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(p,g,D){p=p>>>0,g=g>>>0,D||S(p,g,this.length);let j=this[p],z=1,H=0;for(;++H<g&&(z*=256);)j+=this[p+H]*z;return j},a.prototype.readUintBE=a.prototype.readUIntBE=function(p,g,D){p=p>>>0,g=g>>>0,D||S(p,g,this.length);let j=this[p+--g],z=1;for(;g>0&&(z*=256);)j+=this[p+--g]*z;return j},a.prototype.readUint8=a.prototype.readUInt8=function(p,g){return p=p>>>0,g||S(p,1,this.length),this[p]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(p,g){return p=p>>>0,g||S(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(p,g){return p=p>>>0,g||S(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(p,g){return p=p>>>0,g||S(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(p,g){return p=p>>>0,g||S(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readBigUInt64LE=er(function(p){p=p>>>0,Ke(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&De(p,this.length-8);const j=g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24,z=this[++p]+this[++p]*2**8+this[++p]*2**16+D*2**24;return BigInt(j)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=er(function(p){p=p>>>0,Ke(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&De(p,this.length-8);const j=g*2**24+this[++p]*2**16+this[++p]*2**8+this[++p],z=this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+D;return(BigInt(j)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(p,g,D){p=p>>>0,g=g>>>0,D||S(p,g,this.length);let j=this[p],z=1,H=0;for(;++H<g&&(z*=256);)j+=this[p+H]*z;return z*=128,j>=z&&(j-=Math.pow(2,8*g)),j},a.prototype.readIntBE=function(p,g,D){p=p>>>0,g=g>>>0,D||S(p,g,this.length);let j=g,z=1,H=this[p+--j];for(;j>0&&(z*=256);)H+=this[p+--j]*z;return z*=128,H>=z&&(H-=Math.pow(2,8*g)),H},a.prototype.readInt8=function(p,g){return p=p>>>0,g||S(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,g){p=p>>>0,g||S(p,2,this.length);const D=this[p]|this[p+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(p,g){p=p>>>0,g||S(p,2,this.length);const D=this[p+1]|this[p]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(p,g){return p=p>>>0,g||S(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,g){return p=p>>>0,g||S(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readBigInt64LE=er(function(p){p=p>>>0,Ke(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&De(p,this.length-8);const j=this[p+4]+this[p+5]*2**8+this[p+6]*2**16+(D<<24);return(BigInt(j)<<BigInt(32))+BigInt(g+this[++p]*2**8+this[++p]*2**16+this[++p]*2**24)}),a.prototype.readBigInt64BE=er(function(p){p=p>>>0,Ke(p,"offset");const g=this[p],D=this[p+7];(g===void 0||D===void 0)&&De(p,this.length-8);const j=(g<<24)+this[++p]*2**16+this[++p]*2**8+this[++p];return(BigInt(j)<<BigInt(32))+BigInt(this[++p]*2**24+this[++p]*2**16+this[++p]*2**8+D)}),a.prototype.readFloatLE=function(p,g){return p=p>>>0,g||S(p,4,this.length),n.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,g){return p=p>>>0,g||S(p,4,this.length),n.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,g){return p=p>>>0,g||S(p,8,this.length),n.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,g){return p=p>>>0,g||S(p,8,this.length),n.read(this,p,!1,52,8)};function d(k,p,g,D,j,z){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>j||p<z)throw new RangeError('"value" argument is out of bounds');if(g+D>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(p,g,D,j){if(p=+p,g=g>>>0,D=D>>>0,!j){const Pe=Math.pow(2,8*D)-1;d(this,p,g,D,Pe,0)}let z=1,H=0;for(this[g]=p&255;++H<D&&(z*=256);)this[g+H]=p/z&255;return g+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(p,g,D,j){if(p=+p,g=g>>>0,D=D>>>0,!j){const Pe=Math.pow(2,8*D)-1;d(this,p,g,D,Pe,0)}let z=D-1,H=1;for(this[g+z]=p&255;--z>=0&&(H*=256);)this[g+z]=p/H&255;return g+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,1,255,0),this[g]=p&255,g+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,2,65535,0),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,2,65535,0),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,4,4294967295,0),this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=p&255,g+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,4,4294967295,0),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4};function P(k,p,g,D,j){Be(p,D,j,k,g,7);let z=Number(p&BigInt(4294967295));k[g++]=z,z=z>>8,k[g++]=z,z=z>>8,k[g++]=z,z=z>>8,k[g++]=z;let H=Number(p>>BigInt(32)&BigInt(4294967295));return k[g++]=H,H=H>>8,k[g++]=H,H=H>>8,k[g++]=H,H=H>>8,k[g++]=H,g}function W(k,p,g,D,j){Be(p,D,j,k,g,7);let z=Number(p&BigInt(4294967295));k[g+7]=z,z=z>>8,k[g+6]=z,z=z>>8,k[g+5]=z,z=z>>8,k[g+4]=z;let H=Number(p>>BigInt(32)&BigInt(4294967295));return k[g+3]=H,H=H>>8,k[g+2]=H,H=H>>8,k[g+1]=H,H=H>>8,k[g]=H,g+8}a.prototype.writeBigUInt64LE=er(function(p,g=0){return P(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=er(function(p,g=0){return W(this,p,g,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(p,g,D,j){if(p=+p,g=g>>>0,!j){const Re=Math.pow(2,8*D-1);d(this,p,g,D,Re-1,-Re)}let z=0,H=1,Pe=0;for(this[g]=p&255;++z<D&&(H*=256);)p<0&&Pe===0&&this[g+z-1]!==0&&(Pe=1),this[g+z]=(p/H>>0)-Pe&255;return g+D},a.prototype.writeIntBE=function(p,g,D,j){if(p=+p,g=g>>>0,!j){const Re=Math.pow(2,8*D-1);d(this,p,g,D,Re-1,-Re)}let z=D-1,H=1,Pe=0;for(this[g+z]=p&255;--z>=0&&(H*=256);)p<0&&Pe===0&&this[g+z+1]!==0&&(Pe=1),this[g+z]=(p/H>>0)-Pe&255;return g+D},a.prototype.writeInt8=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,1,127,-128),p<0&&(p=255+p+1),this[g]=p&255,g+1},a.prototype.writeInt16LE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,2,32767,-32768),this[g]=p&255,this[g+1]=p>>>8,g+2},a.prototype.writeInt16BE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,2,32767,-32768),this[g]=p>>>8,this[g+1]=p&255,g+2},a.prototype.writeInt32LE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,4,2147483647,-2147483648),this[g]=p&255,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24,g+4},a.prototype.writeInt32BE=function(p,g,D){return p=+p,g=g>>>0,D||d(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=p&255,g+4},a.prototype.writeBigInt64LE=er(function(p,g=0){return P(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=er(function(p,g=0){return W(this,p,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Q(k,p,g,D,j,z){if(g+D>k.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Y(k,p,g,D,j){return p=+p,g=g>>>0,j||Q(k,p,g,4),n.write(k,p,g,D,23,4),g+4}a.prototype.writeFloatLE=function(p,g,D){return Y(this,p,g,!0,D)},a.prototype.writeFloatBE=function(p,g,D){return Y(this,p,g,!1,D)};function ae(k,p,g,D,j){return p=+p,g=g>>>0,j||Q(k,p,g,8),n.write(k,p,g,D,52,8),g+8}a.prototype.writeDoubleLE=function(p,g,D){return ae(this,p,g,!0,D)},a.prototype.writeDoubleBE=function(p,g,D){return ae(this,p,g,!1,D)},a.prototype.copy=function(p,g,D,j){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(D||(D=0),!j&&j!==0&&(j=this.length),g>=p.length&&(g=p.length),g||(g=0),j>0&&j<D&&(j=D),j===D||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),p.length-g<j-D&&(j=p.length-g+D);const z=j-D;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,D,j):Uint8Array.prototype.set.call(p,this.subarray(D,j),g),z},a.prototype.fill=function(p,g,D,j){if(typeof p=="string"){if(typeof g=="string"?(j=g,g=0,D=this.length):typeof D=="string"&&(j=D,D=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(p.length===1){const H=p.charCodeAt(0);(j==="utf8"&&H<128||j==="latin1")&&(p=H)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(g<0||this.length<g||this.length<D)throw new RangeError("Out of range index");if(D<=g)return this;g=g>>>0,D=D===void 0?this.length:D>>>0,p||(p=0);let z;if(typeof p=="number")for(z=g;z<D;++z)this[z]=p;else{const H=a.isBuffer(p)?p:a.from(p,j),Pe=H.length;if(Pe===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(z=0;z<D-g;++z)this[z+g]=H[z%Pe]}return this};const fe={};function pe(k,p,g){fe[k]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:p.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(k,p){return`The "${k}" argument must be of type number. Received type ${typeof p}`},TypeError),pe("ERR_OUT_OF_RANGE",function(k,p,g){let D=`The value of "${k}" is out of range.`,j=g;return Number.isInteger(g)&&Math.abs(g)>2**32?j=qe(String(g)):typeof g=="bigint"&&(j=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(j=qe(j)),j+="n"),D+=` It must be ${p}. Received ${j}`,D},RangeError);function qe(k){let p="",g=k.length;const D=k[0]==="-"?1:0;for(;g>=D+4;g-=3)p=`_${k.slice(g-3,g)}${p}`;return`${k.slice(0,g)}${p}`}function Ne(k,p,g){Ke(p,"offset"),(k[p]===void 0||k[p+g]===void 0)&&De(p,k.length-(g+1))}function Be(k,p,g,D,j,z){if(k>g||k<p){const H=typeof p=="bigint"?"n":"";let Pe;throw z>3?p===0||p===BigInt(0)?Pe=`>= 0${H} and < 2${H} ** ${(z+1)*8}${H}`:Pe=`>= -(2${H} ** ${(z+1)*8-1}${H}) and < 2 ** ${(z+1)*8-1}${H}`:Pe=`>= ${p}${H} and <= ${g}${H}`,new fe.ERR_OUT_OF_RANGE("value",Pe,k)}Ne(D,j,z)}function Ke(k,p){if(typeof k!="number")throw new fe.ERR_INVALID_ARG_TYPE(p,"number",k)}function De(k,p,g){throw Math.floor(k)!==k?(Ke(k,g),new fe.ERR_OUT_OF_RANGE(g||"offset","an integer",k)):p<0?new fe.ERR_BUFFER_OUT_OF_BOUNDS:new fe.ERR_OUT_OF_RANGE(g||"offset",`>= ${g?1:0} and <= ${p}`,k)}const Ge=/[^+/0-9A-Za-z-_]/g;function ei(k){if(k=k.split("=")[0],k=k.trim().replace(Ge,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function Je(k,p){p=p||1/0;let g;const D=k.length;let j=null;const z=[];for(let H=0;H<D;++H){if(g=k.charCodeAt(H),g>55295&&g<57344){if(!j){if(g>56319){(p-=3)>-1&&z.push(239,191,189);continue}else if(H+1===D){(p-=3)>-1&&z.push(239,191,189);continue}j=g;continue}if(g<56320){(p-=3)>-1&&z.push(239,191,189),j=g;continue}g=(j-55296<<10|g-56320)+65536}else j&&(p-=3)>-1&&z.push(239,191,189);if(j=null,g<128){if((p-=1)<0)break;z.push(g)}else if(g<2048){if((p-=2)<0)break;z.push(g>>6|192,g&63|128)}else if(g<65536){if((p-=3)<0)break;z.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((p-=4)<0)break;z.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return z}function dt(k){const p=[];for(let g=0;g<k.length;++g)p.push(k.charCodeAt(g)&255);return p}function Yo(k,p){let g,D,j;const z=[];for(let H=0;H<k.length&&!((p-=2)<0);++H)g=k.charCodeAt(H),D=g>>8,j=g%256,z.push(j),z.push(D);return z}function it(k){return e.toByteArray(ei(k))}function Ze(k,p,g,D){let j;for(j=0;j<D&&!(j+g>=p.length||j>=k.length);++j)p[j+g]=k[j];return j}function An(k,p){return k instanceof p||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===p.name}function et(k){return k!==k}const tt=function(){const k="0123456789abcdef",p=new Array(256);for(let g=0;g<16;++g){const D=g*16;for(let j=0;j<16;++j)p[D+j]=k[g]+k[j]}return p}();function er(k){return typeof BigInt>"u"?st:k}function st(){throw new Error("BigInt not supported")}})(Te);function tS(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ak(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function NF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");tS(t.outputLen),tS(t.blockLen)}function Ud(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function MF(t,e){ak(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Dg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lk=t=>t instanceof Uint8Array,Og=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ni=(t,e)=>t<<32-e|t>>>e,LF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!LF)throw new Error("Non little-endian hardware is not supported");function uk(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function T_(t){if(typeof t=="string"&&(t=uk(t)),!lk(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function ck(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!lk(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class hk{clone(){return this._cloneInto()}}function dk(t){const e=r=>t().update(T_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function fk(t=32){if(Dg&&typeof Dg.getRandomValues=="function")return Dg.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function BF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,u=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+u,a,r)}class pk extends hk{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Og(this.buffer)}update(e){Ud(this);const{view:n,buffer:r,blockLen:i}=this;e=T_(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Og(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ud(this),MF(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;BF(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Og(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,c[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const dh=BigInt(2**32-1),H0=BigInt(32);function gk(t,e=!1){return e?{h:Number(t&dh),l:Number(t>>H0&dh)}:{h:Number(t>>H0&dh)|0,l:Number(t&dh)|0}}function DF(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=gk(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const OF=(t,e)=>BigInt(t>>>0)<<H0|BigInt(e>>>0),UF=(t,e,n)=>t>>>n,FF=(t,e,n)=>t<<32-n|e>>>n,VF=(t,e,n)=>t>>>n|e<<32-n,$F=(t,e,n)=>t<<32-n|e>>>n,jF=(t,e,n)=>t<<64-n|e>>>n-32,zF=(t,e,n)=>t>>>n-32|e<<64-n,qF=(t,e)=>e,KF=(t,e)=>t,WF=(t,e,n)=>t<<n|e>>>32-n,HF=(t,e,n)=>e<<n|t>>>32-n,GF=(t,e,n)=>e<<n-32|t>>>64-n,QF=(t,e,n)=>t<<n-32|e>>>64-n;function YF(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const XF=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),JF=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,ZF=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),e8=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,t8=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),n8=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,r8={fromBig:gk,split:DF,toBig:OF,shrSH:UF,shrSL:FF,rotrSH:VF,rotrSL:$F,rotrBH:jF,rotrBL:zF,rotr32H:qF,rotr32L:KF,rotlSH:WF,rotlSL:HF,rotlBH:GF,rotlBL:QF,add:YF,add3L:XF,add3H:JF,add4L:ZF,add4H:e8,add5H:n8,add5L:t8},Me=r8,[i8,s8]=(()=>Me.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),rs=new Uint32Array(80),is=new Uint32Array(80);class o8 extends pk{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:f,Fl:v,Gh:_,Gl:x,Hh:I,Hl:b}=this;return[e,n,r,i,s,o,a,l,u,c,f,v,_,x,I,b]}set(e,n,r,i,s,o,a,l,u,c,f,v,_,x,I,b){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=f|0,this.Fl=v|0,this.Gh=_|0,this.Gl=x|0,this.Hh=I|0,this.Hl=b|0}process(e,n){for(let m=0;m<16;m++,n+=4)rs[m]=e.getUint32(n),is[m]=e.getUint32(n+=4);for(let m=16;m<80;m++){const M=rs[m-15]|0,N=is[m-15]|0,O=Me.rotrSH(M,N,1)^Me.rotrSH(M,N,8)^Me.shrSH(M,N,7),F=Me.rotrSL(M,N,1)^Me.rotrSL(M,N,8)^Me.shrSL(M,N,7),V=rs[m-2]|0,J=is[m-2]|0,Z=Me.rotrSH(V,J,19)^Me.rotrBH(V,J,61)^Me.shrSH(V,J,6),re=Me.rotrSL(V,J,19)^Me.rotrBL(V,J,61)^Me.shrSL(V,J,6),_e=Me.add4L(F,re,is[m-7],is[m-16]),U=Me.add4H(_e,O,Z,rs[m-7],rs[m-16]);rs[m]=U|0,is[m]=_e|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:f,El:v,Fh:_,Fl:x,Gh:I,Gl:b,Hh:w,Hl:E}=this;for(let m=0;m<80;m++){const M=Me.rotrSH(f,v,14)^Me.rotrSH(f,v,18)^Me.rotrBH(f,v,41),N=Me.rotrSL(f,v,14)^Me.rotrSL(f,v,18)^Me.rotrBL(f,v,41),O=f&_^~f&I,F=v&x^~v&b,V=Me.add5L(E,N,F,s8[m],is[m]),J=Me.add5H(V,w,M,O,i8[m],rs[m]),Z=V|0,re=Me.rotrSH(r,i,28)^Me.rotrBH(r,i,34)^Me.rotrBH(r,i,39),_e=Me.rotrSL(r,i,28)^Me.rotrBL(r,i,34)^Me.rotrBL(r,i,39),U=r&s^r&a^s&a,h=i&o^i&l^o&l;w=I|0,E=b|0,I=_|0,b=x|0,_=f|0,x=v|0,{h:f,l:v}=Me.add(u|0,c|0,J|0,Z|0),u=a|0,c=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const y=Me.add3L(Z,_e,h);r=Me.add3H(y,J,re,U),i=y|0}({h:r,l:i}=Me.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Me.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Me.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Me.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:f,l:v}=Me.add(this.Eh|0,this.El|0,f|0,v|0),{h:_,l:x}=Me.add(this.Fh|0,this.Fl|0,_|0,x|0),{h:I,l:b}=Me.add(this.Gh|0,this.Gl|0,I|0,b|0),{h:w,l:E}=Me.add(this.Hh|0,this.Hl|0,w|0,E|0),this.set(r,i,s,o,a,l,u,c,f,v,_,x,I,b,w,E)}roundClean(){rs.fill(0),is.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mk=dk(()=>new o8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yk=BigInt(0),ep=BigInt(1),a8=BigInt(2),tp=t=>t instanceof Uint8Array,l8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Mo(t){if(!tp(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=l8[t[n]];return e}function vk(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function k_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function nl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function vo(t){return k_(Mo(t))}function Ba(t){if(!tp(t))throw new Error("Uint8Array expected");return k_(Mo(Uint8Array.from(t).reverse()))}function rl(t,e){return nl(t.toString(16).padStart(e*2,"0"))}function tc(t,e){return rl(t,e).reverse()}function u8(t){return nl(vk(t))}function nn(t,e,n){let r;if(typeof e=="string")try{r=nl(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(tp(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Lo(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!tp(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function c8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function h8(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function d8(t){let e;for(e=0;t>yk;t>>=ep,e+=1);return e}function f8(t,e){return t>>BigInt(e)&ep}const p8=(t,e,n)=>t|(n?ep:yk)<<BigInt(e),R_=t=>(a8<<BigInt(t-1))-ep,Ug=t=>new Uint8Array(t),nS=t=>Uint8Array.from(t);function _k(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ug(t),i=Ug(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),l=(f=Ug())=>{i=a(nS([0]),f),r=a(),f.length!==0&&(i=a(nS([1]),f),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const v=[];for(;f<e;){r=a();const _=r.slice();v.push(_),f+=r.length}return Lo(...v)};return(f,v)=>{o(),l(f);let _;for(;!(_=v(u()));)l();return o(),_}}const g8={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Sl(t,e,n={}){const r=(i,s,o)=>{const a=g8[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const m8=Object.freeze(Object.defineProperty({__proto__:null,bitGet:f8,bitLen:d8,bitMask:R_,bitSet:p8,bytesToHex:Mo,bytesToNumberBE:vo,bytesToNumberLE:Ba,concatBytes:Lo,createHmacDrbg:_k,ensureBytes:nn,equalBytes:c8,hexToBytes:nl,hexToNumber:k_,numberToBytesBE:rl,numberToBytesLE:tc,numberToHexUnpadded:vk,numberToVarBytesBE:u8,utf8ToBytes:h8,validateObject:Sl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ln=BigInt(0),vt=BigInt(1),Zs=BigInt(2),y8=BigInt(3),G0=BigInt(4),rS=BigInt(5),iS=BigInt(8);BigInt(9);BigInt(16);function pt(t,e){const n=t%e;return n>=ln?n:e+n}function v8(t,e,n){if(n<=ln||e<ln)throw new Error("Expected power/modulo > 0");if(n===vt)return ln;let r=vt;for(;e>ln;)e&vt&&(r=r*t%n),t=t*t%n,e>>=vt;return r}function It(t,e,n){let r=t;for(;e-- >ln;)r*=r,r%=n;return r}function Q0(t,e){if(t===ln||e<=ln)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=pt(t,e),r=e,i=ln,s=vt;for(;n!==ln;){const a=r/n,l=r%n,u=i-s*a;r=n,n=l,i=s,s=u}if(r!==vt)throw new Error("invert: does not exist");return pt(i,e)}function _8(t){const e=(t-vt)/Zs;let n,r,i;for(n=t-vt,r=0;n%Zs===ln;n/=Zs,r++);for(i=Zs;i<t&&v8(i,e,t)!==t-vt;i++);if(r===1){const o=(t+vt)/G0;return function(l,u){const c=l.pow(u,o);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(n+vt)/Zs;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,c=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,s),v=a.pow(l,n);for(;!a.eql(v,a.ONE);){if(a.eql(v,a.ZERO))return a.ZERO;let _=1;for(let I=a.sqr(v);_<u&&!a.eql(I,a.ONE);_++)I=a.sqr(I);const x=a.pow(c,vt<<BigInt(u-_-1));c=a.sqr(x),f=a.mul(f,x),v=a.mul(v,c),u=_}return f}}function w8(t){if(t%G0===y8){const e=(t+vt)/G0;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%iS===rS){const e=(t-rS)/iS;return function(r,i){const s=r.mul(i,Zs),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,Zs),o),u=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return _8(t)}const E8=(t,e)=>(pt(t,e)&vt)===vt,S8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function I8(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=S8.reduce((r,i)=>(r[i]="function",r),e);return Sl(t,n)}function b8(t,e,n){if(n<ln)throw new Error("Expected power > 0");if(n===ln)return t.ONE;if(n===vt)return e;let r=t.ONE,i=e;for(;n>ln;)n&vt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=vt;return r}function x8(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function wk(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ek(t,e,n=!1,r={}){if(t<=ln)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=wk(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=w8(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:R_(i),ZERO:ln,ONE:vt,create:l=>pt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return ln<=l&&l<t},is0:l=>l===ln,isOdd:l=>(l&vt)===vt,neg:l=>pt(-l,t),eql:(l,u)=>l===u,sqr:l=>pt(l*l,t),add:(l,u)=>pt(l+u,t),sub:(l,u)=>pt(l-u,t),mul:(l,u)=>pt(l*u,t),pow:(l,u)=>b8(a,l,u),div:(l,u)=>pt(l*Q0(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Q0(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>x8(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?tc(l,s):rl(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?Ba(l):vo(l)}});return Object.freeze(a)}function A8(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function Sk(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Ik(t){const e=Sk(t);return e+Math.ceil(e/2)}function T8(t,e,n=!1){const r=t.length,i=Sk(e),s=Ik(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?vo(t):Ba(t),a=pt(o,e-vt)+vt;return n?tc(a,i):rl(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k8=BigInt(0),Fg=BigInt(1);function bk(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>k8;)s&Fg&&(o=o.add(a)),a=a.double(),s>>=Fg;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let u=i,c=u;for(let f=0;f<o;f++){c=u,l.push(c);for(let v=1;v<a;v++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let u=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),v=2**i,_=BigInt(i);for(let x=0;x<a;x++){const I=x*l;let b=Number(o&f);o>>=_,b>l&&(b-=v,o+=Fg);const w=I,E=I+Math.abs(b)-1,m=x%2!==0,M=b<0;b===0?c=c.add(n(m,s[w])):u=u.add(n(M,s[E]))}return{p:u,f:c}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&s.set(i,a(u))),this.wNAF(l,u,o)}}}function C_(t){return I8(t.Fp),Sl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wk(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vr=BigInt(0),cr=BigInt(1),fh=BigInt(2),R8=BigInt(8),C8={zip215:!0};function P8(t){const e=C_(t);return Sl(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function P_(t){const e=P8(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,u=fh<<BigInt(a*8)-cr,c=n.create,f=e.uvRatio||((T,A)=>{try{return{isValid:!0,value:n.sqrt(T*n.inv(A))}}catch{return{isValid:!1,value:Vr}}}),v=e.adjustScalarBytes||(T=>T),_=e.domain||((T,A,C)=>{if(A.length||C)throw new Error("Contexts/pre-hash are not supported");return T}),x=T=>typeof T=="bigint"&&Vr<T,I=(T,A)=>x(T)&&x(A)&&T<A,b=T=>T===Vr||I(T,u);function w(T,A){if(I(T,A))return T;throw new Error(`Expected valid scalar < ${A}, got ${typeof T} ${T}`)}function E(T){return T===Vr?T:w(T,r)}const m=new Map;function M(T){if(!(T instanceof N))throw new Error("ExtendedPoint expected")}class N{constructor(A,C,S,d){if(this.ex=A,this.ey=C,this.ez=S,this.et=d,!b(A))throw new Error("x required");if(!b(C))throw new Error("y required");if(!b(S))throw new Error("z required");if(!b(d))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(A){if(A instanceof N)throw new Error("extended point not allowed");const{x:C,y:S}=A||{};if(!b(C)||!b(S))throw new Error("invalid affine point");return new N(C,S,cr,c(C*S))}static normalizeZ(A){const C=n.invertBatch(A.map(S=>S.ez));return A.map((S,d)=>S.toAffine(C[d])).map(N.fromAffine)}_setWindowSize(A){this._WINDOW_SIZE=A,m.delete(this)}assertValidity(){const{a:A,d:C}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:S,ey:d,ez:P,et:W}=this,Q=c(S*S),Y=c(d*d),ae=c(P*P),fe=c(ae*ae),pe=c(Q*A),qe=c(ae*c(pe+Y)),Ne=c(fe+c(C*c(Q*Y)));if(qe!==Ne)throw new Error("bad point: equation left != right (1)");const Be=c(S*d),Ke=c(P*W);if(Be!==Ke)throw new Error("bad point: equation left != right (2)")}equals(A){M(A);const{ex:C,ey:S,ez:d}=this,{ex:P,ey:W,ez:Q}=A,Y=c(C*Q),ae=c(P*d),fe=c(S*Q),pe=c(W*d);return Y===ae&&fe===pe}is0(){return this.equals(N.ZERO)}negate(){return new N(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:A}=e,{ex:C,ey:S,ez:d}=this,P=c(C*C),W=c(S*S),Q=c(fh*c(d*d)),Y=c(A*P),ae=C+S,fe=c(c(ae*ae)-P-W),pe=Y+W,qe=pe-Q,Ne=Y-W,Be=c(fe*qe),Ke=c(pe*Ne),De=c(fe*Ne),Ge=c(qe*pe);return new N(Be,Ke,Ge,De)}add(A){M(A);const{a:C,d:S}=e,{ex:d,ey:P,ez:W,et:Q}=this,{ex:Y,ey:ae,ez:fe,et:pe}=A;if(C===BigInt(-1)){const An=c((P-d)*(ae+Y)),et=c((P+d)*(ae-Y)),tt=c(et-An);if(tt===Vr)return this.double();const er=c(W*fh*pe),st=c(Q*fh*fe),k=st+er,p=et+An,g=st-er,D=c(k*tt),j=c(p*g),z=c(k*g),H=c(tt*p);return new N(D,j,H,z)}const qe=c(d*Y),Ne=c(P*ae),Be=c(Q*S*pe),Ke=c(W*fe),De=c((d+P)*(Y+ae)-qe-Ne),Ge=Ke-Be,ei=Ke+Be,Je=c(Ne-C*qe),dt=c(De*Ge),Yo=c(ei*Je),it=c(De*Je),Ze=c(Ge*ei);return new N(dt,Yo,Ze,it)}subtract(A){return this.add(A.negate())}wNAF(A){return V.wNAFCached(this,m,A,N.normalizeZ)}multiply(A){const{p:C,f:S}=this.wNAF(w(A,r));return N.normalizeZ([C,S])[0]}multiplyUnsafe(A){let C=E(A);return C===Vr?F:this.equals(F)||C===cr?this:this.equals(O)?this.wNAF(C).p:V.unsafeLadder(this,C)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return V.unsafeLadder(this,r).is0()}toAffine(A){const{ex:C,ey:S,ez:d}=this,P=this.is0();A==null&&(A=P?R8:n.inv(d));const W=c(C*A),Q=c(S*A),Y=c(d*A);if(P)return{x:Vr,y:cr};if(Y!==cr)throw new Error("invZ was invalid");return{x:W,y:Q}}clearCofactor(){const{h:A}=e;return A===cr?this:this.multiplyUnsafe(A)}static fromHex(A,C=!1){const{d:S,a:d}=e,P=n.BYTES;A=nn("pointHex",A,P);const W=A.slice(),Q=A[P-1];W[P-1]=Q&-129;const Y=Ba(W);Y===Vr||(C?w(Y,u):w(Y,n.ORDER));const ae=c(Y*Y),fe=c(ae-cr),pe=c(S*ae-d);let{isValid:qe,value:Ne}=f(fe,pe);if(!qe)throw new Error("Point.fromHex: invalid y coordinate");const Be=(Ne&cr)===cr,Ke=(Q&128)!==0;if(!C&&Ne===Vr&&Ke)throw new Error("Point.fromHex: x=0 and x_0=1");return Ke!==Be&&(Ne=c(-Ne)),N.fromAffine({x:Ne,y:Y})}static fromPrivateKey(A){return re(A).point}toRawBytes(){const{x:A,y:C}=this.toAffine(),S=tc(C,n.BYTES);return S[S.length-1]|=A&cr?128:0,S}toHex(){return Mo(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,cr,c(e.Gx*e.Gy)),N.ZERO=new N(Vr,cr,cr,Vr);const{BASE:O,ZERO:F}=N,V=bk(N,a*8);function J(T){return pt(T,r)}function Z(T){return J(Ba(T))}function re(T){const A=a;T=nn("private key",T,A);const C=nn("hashed private key",s(T),2*A),S=v(C.slice(0,A)),d=C.slice(A,2*A),P=Z(S),W=O.multiply(P),Q=W.toRawBytes();return{head:S,prefix:d,scalar:P,point:W,pointBytes:Q}}function _e(T){return re(T).pointBytes}function U(T=new Uint8Array,...A){const C=Lo(...A);return Z(s(_(C,nn("context",T),!!i)))}function h(T,A,C={}){T=nn("message",T),i&&(T=i(T));const{prefix:S,scalar:d,pointBytes:P}=re(A),W=U(C.context,S,T),Q=O.multiply(W).toRawBytes(),Y=U(C.context,Q,P,T),ae=J(W+Y*d);E(ae);const fe=Lo(Q,tc(ae,n.BYTES));return nn("result",fe,a*2)}const y=C8;function R(T,A,C,S=y){const{context:d,zip215:P}=S,W=n.BYTES;T=nn("signature",T,2*W),A=nn("message",A),i&&(A=i(A));const Q=Ba(T.slice(W,2*W));let Y,ae,fe;try{Y=N.fromHex(C,P),ae=N.fromHex(T.slice(0,W),P),fe=O.multiplyUnsafe(Q)}catch{return!1}if(!P&&Y.isSmallOrder())return!1;const pe=U(d,ae.toRawBytes(),Y.toRawBytes(),A);return ae.add(Y.multiplyUnsafe(pe)).subtract(fe).clearCofactor().equals(N.ZERO)}return O._setWindowSize(8),{CURVE:e,getPublicKey:_e,sign:h,verify:R,ExtendedPoint:N,utils:{getExtendedPublicKey:re,randomPrivateKey:()=>o(n.BYTES),precompute(T=8,A=N.BASE){return A._setWindowSize(T),A.multiply(BigInt(3)),A}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sS=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const N8=BigInt(1),Y0=BigInt(2),M8=BigInt(5),oS=BigInt(10),L8=BigInt(20),B8=BigInt(40),aS=BigInt(80);function D8(t){const e=N_,r=t*t%e*t%e,i=It(r,Y0,e)*r%e,s=It(i,N8,e)*t%e,o=It(s,M8,e)*s%e,a=It(o,oS,e)*o%e,l=It(a,L8,e)*a%e,u=It(l,B8,e)*l%e,c=It(u,aS,e)*u%e,f=It(c,aS,e)*u%e,v=It(f,oS,e)*o%e;return{pow_p_5_8:It(v,Y0,e)*t%e,b2:r}}function O8(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function U8(t,e){const n=N_,r=pt(e*e*e,n),i=pt(r*r*e,n),s=D8(t*i).pow_p_5_8;let o=pt(t*r*s,n);const a=pt(e*o*o,n),l=o,u=pt(o*sS,n),c=a===t,f=a===pt(-t,n),v=a===pt(-t*sS,n);return c&&(o=l),(f||v)&&(o=u),E8(o,n)&&(o=pt(-o,n)),{isValid:c||f,value:o}}const ji=Ek(N_,void 0,!0),M_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ji,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:mk,randomBytes:fk,adjustScalarBytes:O8,uvRatio:U8},Il=P_(M_);function xk(t,e,n){if(e.length>255)throw new Error("Context is too big");return ck(uk("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}({...M_});({...M_});const F8=(ji.ORDER+BigInt(3))/BigInt(8);ji.pow(Y0,F8);ji.sqrt(ji.neg(ji.ONE));(ji.ORDER-BigInt(5))/BigInt(8);BigInt(486662);A8(ji,ji.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var L_={exports:{}};const V8={},$8=Object.freeze(Object.defineProperty({__proto__:null,default:V8},Symbol.toStringTag,{value:"Module"})),j8=ay($8);L_.exports;(function(t){(function(e,n){function r(U,h){if(!U)throw new Error(h||"Assertion failed")}function i(U,h){U.super_=h;var y=function(){};y.prototype=h.prototype,U.prototype=new y,U.prototype.constructor=U}function s(U,h,y){if(s.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((h==="le"||h==="be")&&(y=h,h=10),this._init(U||0,h||10,y||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=j8.Buffer}catch{}s.isBN=function(h){return h instanceof s?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,y){return h.cmp(y)>0?h:y},s.min=function(h,y){return h.cmp(y)<0?h:y},s.prototype._init=function(h,y,R){if(typeof h=="number")return this._initNumber(h,y,R);if(typeof h=="object")return this._initArray(h,y,R);y==="hex"&&(y=16),r(y===(y|0)&&y>=2&&y<=36),h=h.toString().replace(/\s+/g,"");var B=0;h[0]==="-"&&(B++,this.negative=1),B<h.length&&(y===16?this._parseHex(h,B,R):(this._parseBase(h,y,B),R==="le"&&this._initArray(this.toArray(),y,R)))},s.prototype._initNumber=function(h,y,R){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),y,R)},s.prototype._initArray=function(h,y,R){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var T,A,C=0;if(R==="be")for(B=h.length-1,T=0;B>=0;B-=3)A=h[B]|h[B-1]<<8|h[B-2]<<16,this.words[T]|=A<<C&67108863,this.words[T+1]=A>>>26-C&67108863,C+=24,C>=26&&(C-=26,T++);else if(R==="le")for(B=0,T=0;B<h.length;B+=3)A=h[B]|h[B+1]<<8|h[B+2]<<16,this.words[T]|=A<<C&67108863,this.words[T+1]=A>>>26-C&67108863,C+=24,C>=26&&(C-=26,T++);return this._strip()};function a(U,h){var y=U.charCodeAt(h);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;r(!1,"Invalid character in "+U)}function l(U,h,y){var R=a(U,y);return y-1>=h&&(R|=a(U,y-1)<<4),R}s.prototype._parseHex=function(h,y,R){this.length=Math.ceil((h.length-y)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var T=0,A=0,C;if(R==="be")for(B=h.length-1;B>=y;B-=2)C=l(h,y,B)<<T,this.words[A]|=C&67108863,T>=18?(T-=18,A+=1,this.words[A]|=C>>>26):T+=8;else{var S=h.length-y;for(B=S%2===0?y+1:y;B<h.length;B+=2)C=l(h,y,B)<<T,this.words[A]|=C&67108863,T>=18?(T-=18,A+=1,this.words[A]|=C>>>26):T+=8}this._strip()};function u(U,h,y,R){for(var B=0,T=0,A=Math.min(U.length,y),C=h;C<A;C++){var S=U.charCodeAt(C)-48;B*=R,S>=49?T=S-49+10:S>=17?T=S-17+10:T=S,r(S>=0&&T<R,"Invalid character"),B+=T}return B}s.prototype._parseBase=function(h,y,R){this.words=[0],this.length=1;for(var B=0,T=1;T<=67108863;T*=y)B++;B--,T=T/y|0;for(var A=h.length-R,C=A%B,S=Math.min(A,A-C)+R,d=0,P=R;P<S;P+=B)d=u(h,P,P+B,y),this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(C!==0){var W=1;for(d=u(h,P,h.length,y),P=0;P<C;P++)W*=y;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(h){h.words=new Array(this.length);for(var y=0;y<this.length;y++)h.words[y]=this.words[y];h.length=this.length,h.negative=this.negative,h.red=this.red};function c(U,h){U.words=h.words,U.length=h.length,U.negative=h.negative,U.red=h.red}if(s.prototype._move=function(h){c(h,this)},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(h,y){h=h||10,y=y|0||1;var R;if(h===16||h==="hex"){R="";for(var B=0,T=0,A=0;A<this.length;A++){var C=this.words[A],S=((C<<B|T)&16777215).toString(16);T=C>>>24-B&16777215,B+=2,B>=26&&(B-=26,A--),T!==0||A!==this.length-1?R=v[6-S.length]+S+R:R=S+R}for(T!==0&&(R=T.toString(16)+R);R.length%y!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(h===(h|0)&&h>=2&&h<=36){var d=_[h],P=x[h];R="";var W=this.clone();for(W.negative=0;!W.isZero();){var Q=W.modrn(P).toString(h);W=W.idivn(P),W.isZero()?R=Q+R:R=v[d-Q.length]+Q+R}for(this.isZero()&&(R="0"+R);R.length%y!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(h,y){return this.toArrayLike(o,h,y)}),s.prototype.toArray=function(h,y){return this.toArrayLike(Array,h,y)};var I=function(h,y){return h.allocUnsafe?h.allocUnsafe(y):new h(y)};s.prototype.toArrayLike=function(h,y,R){this._strip();var B=this.byteLength(),T=R||Math.max(1,B);r(B<=T,"byte array longer than desired length"),r(T>0,"Requested array length <= 0");var A=I(h,T),C=y==="le"?"LE":"BE";return this["_toArrayLike"+C](A,B),A},s.prototype._toArrayLikeLE=function(h,y){for(var R=0,B=0,T=0,A=0;T<this.length;T++){var C=this.words[T]<<A|B;h[R++]=C&255,R<h.length&&(h[R++]=C>>8&255),R<h.length&&(h[R++]=C>>16&255),A===6?(R<h.length&&(h[R++]=C>>24&255),B=0,A=0):(B=C>>>24,A+=2)}if(R<h.length)for(h[R++]=B;R<h.length;)h[R++]=0},s.prototype._toArrayLikeBE=function(h,y){for(var R=h.length-1,B=0,T=0,A=0;T<this.length;T++){var C=this.words[T]<<A|B;h[R--]=C&255,R>=0&&(h[R--]=C>>8&255),R>=0&&(h[R--]=C>>16&255),A===6?(R>=0&&(h[R--]=C>>24&255),B=0,A=0):(B=C>>>24,A+=2)}if(R>=0)for(h[R--]=B;R>=0;)h[R--]=0},Math.clz32?s.prototype._countBits=function(h){return 32-Math.clz32(h)}:s.prototype._countBits=function(h){var y=h,R=0;return y>=4096&&(R+=13,y>>>=13),y>=64&&(R+=7,y>>>=7),y>=8&&(R+=4,y>>>=4),y>=2&&(R+=2,y>>>=2),R+y},s.prototype._zeroBits=function(h){if(h===0)return 26;var y=h,R=0;return y&8191||(R+=13,y>>>=13),y&127||(R+=7,y>>>=7),y&15||(R+=4,y>>>=4),y&3||(R+=2,y>>>=2),y&1||R++,R},s.prototype.bitLength=function(){var h=this.words[this.length-1],y=this._countBits(h);return(this.length-1)*26+y};function b(U){for(var h=new Array(U.bitLength()),y=0;y<h.length;y++){var R=y/26|0,B=y%26;h[y]=U.words[R]>>>B&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,y=0;y<this.length;y++){var R=this._zeroBits(this.words[y]);if(h+=R,R!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]|h.words[y];return this._strip()},s.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var y;this.length>h.length?y=h:y=this;for(var R=0;R<y.length;R++)this.words[R]=this.words[R]&h.words[R];return this.length=y.length,this._strip()},s.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var y,R;this.length>h.length?(y=this,R=h):(y=h,R=this);for(var B=0;B<R.length;B++)this.words[B]=y.words[B]^R.words[B];if(this!==y)for(;B<y.length;B++)this.words[B]=y.words[B];return this.length=y.length,this._strip()},s.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var y=Math.ceil(h/26)|0,R=h%26;this._expand(y),R>0&&y--;for(var B=0;B<y;B++)this.words[B]=~this.words[B]&67108863;return R>0&&(this.words[B]=~this.words[B]&67108863>>26-R),this._strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,y){r(typeof h=="number"&&h>=0);var R=h/26|0,B=h%26;return this._expand(R+1),y?this.words[R]=this.words[R]|1<<B:this.words[R]=this.words[R]&~(1<<B),this._strip()},s.prototype.iadd=function(h){var y;if(this.negative!==0&&h.negative===0)return this.negative=0,y=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,y=this.isub(h),h.negative=1,y._normSign();var R,B;this.length>h.length?(R=this,B=h):(R=h,B=this);for(var T=0,A=0;A<B.length;A++)y=(R.words[A]|0)+(B.words[A]|0)+T,this.words[A]=y&67108863,T=y>>>26;for(;T!==0&&A<R.length;A++)y=(R.words[A]|0)+T,this.words[A]=y&67108863,T=y>>>26;if(this.length=R.length,T!==0)this.words[this.length]=T,this.length++;else if(R!==this)for(;A<R.length;A++)this.words[A]=R.words[A];return this},s.prototype.add=function(h){var y;return h.negative!==0&&this.negative===0?(h.negative=0,y=this.sub(h),h.negative^=1,y):h.negative===0&&this.negative!==0?(this.negative=0,y=h.sub(this),this.negative=1,y):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var y=this.iadd(h);return h.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var R=this.cmp(h);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var B,T;R>0?(B=this,T=h):(B=h,T=this);for(var A=0,C=0;C<T.length;C++)y=(B.words[C]|0)-(T.words[C]|0)+A,A=y>>26,this.words[C]=y&67108863;for(;A!==0&&C<B.length;C++)y=(B.words[C]|0)+A,A=y>>26,this.words[C]=y&67108863;if(A===0&&C<B.length&&B!==this)for(;C<B.length;C++)this.words[C]=B.words[C];return this.length=Math.max(this.length,C),B!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(h){return this.clone().isub(h)};function w(U,h,y){y.negative=h.negative^U.negative;var R=U.length+h.length|0;y.length=R,R=R-1|0;var B=U.words[0]|0,T=h.words[0]|0,A=B*T,C=A&67108863,S=A/67108864|0;y.words[0]=C;for(var d=1;d<R;d++){for(var P=S>>>26,W=S&67108863,Q=Math.min(d,h.length-1),Y=Math.max(0,d-U.length+1);Y<=Q;Y++){var ae=d-Y|0;B=U.words[ae]|0,T=h.words[Y]|0,A=B*T+W,P+=A/67108864|0,W=A&67108863}y.words[d]=W|0,S=P|0}return S!==0?y.words[d]=S|0:y.length--,y._strip()}var E=function(h,y,R){var B=h.words,T=y.words,A=R.words,C=0,S,d,P,W=B[0]|0,Q=W&8191,Y=W>>>13,ae=B[1]|0,fe=ae&8191,pe=ae>>>13,qe=B[2]|0,Ne=qe&8191,Be=qe>>>13,Ke=B[3]|0,De=Ke&8191,Ge=Ke>>>13,ei=B[4]|0,Je=ei&8191,dt=ei>>>13,Yo=B[5]|0,it=Yo&8191,Ze=Yo>>>13,An=B[6]|0,et=An&8191,tt=An>>>13,er=B[7]|0,st=er&8191,k=er>>>13,p=B[8]|0,g=p&8191,D=p>>>13,j=B[9]|0,z=j&8191,H=j>>>13,Pe=T[0]|0,Re=Pe&8191,xe=Pe>>>13,ot=T[1]|0,Se=ot&8191,Nt=ot>>>13,J_=T[2]|0,Mt=J_&8191,Lt=J_>>>13,Z_=T[3]|0,Bt=Z_&8191,Dt=Z_>>>13,ew=T[4]|0,Ot=ew&8191,Ut=ew>>>13,tw=T[5]|0,Ft=tw&8191,Vt=tw>>>13,nw=T[6]|0,$t=nw&8191,jt=nw>>>13,rw=T[7]|0,zt=rw&8191,qt=rw>>>13,iw=T[8]|0,Kt=iw&8191,Wt=iw>>>13,sw=T[9]|0,Ht=sw&8191,Gt=sw>>>13;R.negative=h.negative^y.negative,R.length=19,S=Math.imul(Q,Re),d=Math.imul(Q,xe),d=d+Math.imul(Y,Re)|0,P=Math.imul(Y,xe);var hp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(hp>>>26)|0,hp&=67108863,S=Math.imul(fe,Re),d=Math.imul(fe,xe),d=d+Math.imul(pe,Re)|0,P=Math.imul(pe,xe),S=S+Math.imul(Q,Se)|0,d=d+Math.imul(Q,Nt)|0,d=d+Math.imul(Y,Se)|0,P=P+Math.imul(Y,Nt)|0;var dp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(dp>>>26)|0,dp&=67108863,S=Math.imul(Ne,Re),d=Math.imul(Ne,xe),d=d+Math.imul(Be,Re)|0,P=Math.imul(Be,xe),S=S+Math.imul(fe,Se)|0,d=d+Math.imul(fe,Nt)|0,d=d+Math.imul(pe,Se)|0,P=P+Math.imul(pe,Nt)|0,S=S+Math.imul(Q,Mt)|0,d=d+Math.imul(Q,Lt)|0,d=d+Math.imul(Y,Mt)|0,P=P+Math.imul(Y,Lt)|0;var fp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(fp>>>26)|0,fp&=67108863,S=Math.imul(De,Re),d=Math.imul(De,xe),d=d+Math.imul(Ge,Re)|0,P=Math.imul(Ge,xe),S=S+Math.imul(Ne,Se)|0,d=d+Math.imul(Ne,Nt)|0,d=d+Math.imul(Be,Se)|0,P=P+Math.imul(Be,Nt)|0,S=S+Math.imul(fe,Mt)|0,d=d+Math.imul(fe,Lt)|0,d=d+Math.imul(pe,Mt)|0,P=P+Math.imul(pe,Lt)|0,S=S+Math.imul(Q,Bt)|0,d=d+Math.imul(Q,Dt)|0,d=d+Math.imul(Y,Bt)|0,P=P+Math.imul(Y,Dt)|0;var pp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(pp>>>26)|0,pp&=67108863,S=Math.imul(Je,Re),d=Math.imul(Je,xe),d=d+Math.imul(dt,Re)|0,P=Math.imul(dt,xe),S=S+Math.imul(De,Se)|0,d=d+Math.imul(De,Nt)|0,d=d+Math.imul(Ge,Se)|0,P=P+Math.imul(Ge,Nt)|0,S=S+Math.imul(Ne,Mt)|0,d=d+Math.imul(Ne,Lt)|0,d=d+Math.imul(Be,Mt)|0,P=P+Math.imul(Be,Lt)|0,S=S+Math.imul(fe,Bt)|0,d=d+Math.imul(fe,Dt)|0,d=d+Math.imul(pe,Bt)|0,P=P+Math.imul(pe,Dt)|0,S=S+Math.imul(Q,Ot)|0,d=d+Math.imul(Q,Ut)|0,d=d+Math.imul(Y,Ot)|0,P=P+Math.imul(Y,Ut)|0;var gp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(gp>>>26)|0,gp&=67108863,S=Math.imul(it,Re),d=Math.imul(it,xe),d=d+Math.imul(Ze,Re)|0,P=Math.imul(Ze,xe),S=S+Math.imul(Je,Se)|0,d=d+Math.imul(Je,Nt)|0,d=d+Math.imul(dt,Se)|0,P=P+Math.imul(dt,Nt)|0,S=S+Math.imul(De,Mt)|0,d=d+Math.imul(De,Lt)|0,d=d+Math.imul(Ge,Mt)|0,P=P+Math.imul(Ge,Lt)|0,S=S+Math.imul(Ne,Bt)|0,d=d+Math.imul(Ne,Dt)|0,d=d+Math.imul(Be,Bt)|0,P=P+Math.imul(Be,Dt)|0,S=S+Math.imul(fe,Ot)|0,d=d+Math.imul(fe,Ut)|0,d=d+Math.imul(pe,Ot)|0,P=P+Math.imul(pe,Ut)|0,S=S+Math.imul(Q,Ft)|0,d=d+Math.imul(Q,Vt)|0,d=d+Math.imul(Y,Ft)|0,P=P+Math.imul(Y,Vt)|0;var mp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(mp>>>26)|0,mp&=67108863,S=Math.imul(et,Re),d=Math.imul(et,xe),d=d+Math.imul(tt,Re)|0,P=Math.imul(tt,xe),S=S+Math.imul(it,Se)|0,d=d+Math.imul(it,Nt)|0,d=d+Math.imul(Ze,Se)|0,P=P+Math.imul(Ze,Nt)|0,S=S+Math.imul(Je,Mt)|0,d=d+Math.imul(Je,Lt)|0,d=d+Math.imul(dt,Mt)|0,P=P+Math.imul(dt,Lt)|0,S=S+Math.imul(De,Bt)|0,d=d+Math.imul(De,Dt)|0,d=d+Math.imul(Ge,Bt)|0,P=P+Math.imul(Ge,Dt)|0,S=S+Math.imul(Ne,Ot)|0,d=d+Math.imul(Ne,Ut)|0,d=d+Math.imul(Be,Ot)|0,P=P+Math.imul(Be,Ut)|0,S=S+Math.imul(fe,Ft)|0,d=d+Math.imul(fe,Vt)|0,d=d+Math.imul(pe,Ft)|0,P=P+Math.imul(pe,Vt)|0,S=S+Math.imul(Q,$t)|0,d=d+Math.imul(Q,jt)|0,d=d+Math.imul(Y,$t)|0,P=P+Math.imul(Y,jt)|0;var yp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(yp>>>26)|0,yp&=67108863,S=Math.imul(st,Re),d=Math.imul(st,xe),d=d+Math.imul(k,Re)|0,P=Math.imul(k,xe),S=S+Math.imul(et,Se)|0,d=d+Math.imul(et,Nt)|0,d=d+Math.imul(tt,Se)|0,P=P+Math.imul(tt,Nt)|0,S=S+Math.imul(it,Mt)|0,d=d+Math.imul(it,Lt)|0,d=d+Math.imul(Ze,Mt)|0,P=P+Math.imul(Ze,Lt)|0,S=S+Math.imul(Je,Bt)|0,d=d+Math.imul(Je,Dt)|0,d=d+Math.imul(dt,Bt)|0,P=P+Math.imul(dt,Dt)|0,S=S+Math.imul(De,Ot)|0,d=d+Math.imul(De,Ut)|0,d=d+Math.imul(Ge,Ot)|0,P=P+Math.imul(Ge,Ut)|0,S=S+Math.imul(Ne,Ft)|0,d=d+Math.imul(Ne,Vt)|0,d=d+Math.imul(Be,Ft)|0,P=P+Math.imul(Be,Vt)|0,S=S+Math.imul(fe,$t)|0,d=d+Math.imul(fe,jt)|0,d=d+Math.imul(pe,$t)|0,P=P+Math.imul(pe,jt)|0,S=S+Math.imul(Q,zt)|0,d=d+Math.imul(Q,qt)|0,d=d+Math.imul(Y,zt)|0,P=P+Math.imul(Y,qt)|0;var vp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(vp>>>26)|0,vp&=67108863,S=Math.imul(g,Re),d=Math.imul(g,xe),d=d+Math.imul(D,Re)|0,P=Math.imul(D,xe),S=S+Math.imul(st,Se)|0,d=d+Math.imul(st,Nt)|0,d=d+Math.imul(k,Se)|0,P=P+Math.imul(k,Nt)|0,S=S+Math.imul(et,Mt)|0,d=d+Math.imul(et,Lt)|0,d=d+Math.imul(tt,Mt)|0,P=P+Math.imul(tt,Lt)|0,S=S+Math.imul(it,Bt)|0,d=d+Math.imul(it,Dt)|0,d=d+Math.imul(Ze,Bt)|0,P=P+Math.imul(Ze,Dt)|0,S=S+Math.imul(Je,Ot)|0,d=d+Math.imul(Je,Ut)|0,d=d+Math.imul(dt,Ot)|0,P=P+Math.imul(dt,Ut)|0,S=S+Math.imul(De,Ft)|0,d=d+Math.imul(De,Vt)|0,d=d+Math.imul(Ge,Ft)|0,P=P+Math.imul(Ge,Vt)|0,S=S+Math.imul(Ne,$t)|0,d=d+Math.imul(Ne,jt)|0,d=d+Math.imul(Be,$t)|0,P=P+Math.imul(Be,jt)|0,S=S+Math.imul(fe,zt)|0,d=d+Math.imul(fe,qt)|0,d=d+Math.imul(pe,zt)|0,P=P+Math.imul(pe,qt)|0,S=S+Math.imul(Q,Kt)|0,d=d+Math.imul(Q,Wt)|0,d=d+Math.imul(Y,Kt)|0,P=P+Math.imul(Y,Wt)|0;var _p=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(_p>>>26)|0,_p&=67108863,S=Math.imul(z,Re),d=Math.imul(z,xe),d=d+Math.imul(H,Re)|0,P=Math.imul(H,xe),S=S+Math.imul(g,Se)|0,d=d+Math.imul(g,Nt)|0,d=d+Math.imul(D,Se)|0,P=P+Math.imul(D,Nt)|0,S=S+Math.imul(st,Mt)|0,d=d+Math.imul(st,Lt)|0,d=d+Math.imul(k,Mt)|0,P=P+Math.imul(k,Lt)|0,S=S+Math.imul(et,Bt)|0,d=d+Math.imul(et,Dt)|0,d=d+Math.imul(tt,Bt)|0,P=P+Math.imul(tt,Dt)|0,S=S+Math.imul(it,Ot)|0,d=d+Math.imul(it,Ut)|0,d=d+Math.imul(Ze,Ot)|0,P=P+Math.imul(Ze,Ut)|0,S=S+Math.imul(Je,Ft)|0,d=d+Math.imul(Je,Vt)|0,d=d+Math.imul(dt,Ft)|0,P=P+Math.imul(dt,Vt)|0,S=S+Math.imul(De,$t)|0,d=d+Math.imul(De,jt)|0,d=d+Math.imul(Ge,$t)|0,P=P+Math.imul(Ge,jt)|0,S=S+Math.imul(Ne,zt)|0,d=d+Math.imul(Ne,qt)|0,d=d+Math.imul(Be,zt)|0,P=P+Math.imul(Be,qt)|0,S=S+Math.imul(fe,Kt)|0,d=d+Math.imul(fe,Wt)|0,d=d+Math.imul(pe,Kt)|0,P=P+Math.imul(pe,Wt)|0,S=S+Math.imul(Q,Ht)|0,d=d+Math.imul(Q,Gt)|0,d=d+Math.imul(Y,Ht)|0,P=P+Math.imul(Y,Gt)|0;var wp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(wp>>>26)|0,wp&=67108863,S=Math.imul(z,Se),d=Math.imul(z,Nt),d=d+Math.imul(H,Se)|0,P=Math.imul(H,Nt),S=S+Math.imul(g,Mt)|0,d=d+Math.imul(g,Lt)|0,d=d+Math.imul(D,Mt)|0,P=P+Math.imul(D,Lt)|0,S=S+Math.imul(st,Bt)|0,d=d+Math.imul(st,Dt)|0,d=d+Math.imul(k,Bt)|0,P=P+Math.imul(k,Dt)|0,S=S+Math.imul(et,Ot)|0,d=d+Math.imul(et,Ut)|0,d=d+Math.imul(tt,Ot)|0,P=P+Math.imul(tt,Ut)|0,S=S+Math.imul(it,Ft)|0,d=d+Math.imul(it,Vt)|0,d=d+Math.imul(Ze,Ft)|0,P=P+Math.imul(Ze,Vt)|0,S=S+Math.imul(Je,$t)|0,d=d+Math.imul(Je,jt)|0,d=d+Math.imul(dt,$t)|0,P=P+Math.imul(dt,jt)|0,S=S+Math.imul(De,zt)|0,d=d+Math.imul(De,qt)|0,d=d+Math.imul(Ge,zt)|0,P=P+Math.imul(Ge,qt)|0,S=S+Math.imul(Ne,Kt)|0,d=d+Math.imul(Ne,Wt)|0,d=d+Math.imul(Be,Kt)|0,P=P+Math.imul(Be,Wt)|0,S=S+Math.imul(fe,Ht)|0,d=d+Math.imul(fe,Gt)|0,d=d+Math.imul(pe,Ht)|0,P=P+Math.imul(pe,Gt)|0;var Ep=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(Ep>>>26)|0,Ep&=67108863,S=Math.imul(z,Mt),d=Math.imul(z,Lt),d=d+Math.imul(H,Mt)|0,P=Math.imul(H,Lt),S=S+Math.imul(g,Bt)|0,d=d+Math.imul(g,Dt)|0,d=d+Math.imul(D,Bt)|0,P=P+Math.imul(D,Dt)|0,S=S+Math.imul(st,Ot)|0,d=d+Math.imul(st,Ut)|0,d=d+Math.imul(k,Ot)|0,P=P+Math.imul(k,Ut)|0,S=S+Math.imul(et,Ft)|0,d=d+Math.imul(et,Vt)|0,d=d+Math.imul(tt,Ft)|0,P=P+Math.imul(tt,Vt)|0,S=S+Math.imul(it,$t)|0,d=d+Math.imul(it,jt)|0,d=d+Math.imul(Ze,$t)|0,P=P+Math.imul(Ze,jt)|0,S=S+Math.imul(Je,zt)|0,d=d+Math.imul(Je,qt)|0,d=d+Math.imul(dt,zt)|0,P=P+Math.imul(dt,qt)|0,S=S+Math.imul(De,Kt)|0,d=d+Math.imul(De,Wt)|0,d=d+Math.imul(Ge,Kt)|0,P=P+Math.imul(Ge,Wt)|0,S=S+Math.imul(Ne,Ht)|0,d=d+Math.imul(Ne,Gt)|0,d=d+Math.imul(Be,Ht)|0,P=P+Math.imul(Be,Gt)|0;var Sp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(Sp>>>26)|0,Sp&=67108863,S=Math.imul(z,Bt),d=Math.imul(z,Dt),d=d+Math.imul(H,Bt)|0,P=Math.imul(H,Dt),S=S+Math.imul(g,Ot)|0,d=d+Math.imul(g,Ut)|0,d=d+Math.imul(D,Ot)|0,P=P+Math.imul(D,Ut)|0,S=S+Math.imul(st,Ft)|0,d=d+Math.imul(st,Vt)|0,d=d+Math.imul(k,Ft)|0,P=P+Math.imul(k,Vt)|0,S=S+Math.imul(et,$t)|0,d=d+Math.imul(et,jt)|0,d=d+Math.imul(tt,$t)|0,P=P+Math.imul(tt,jt)|0,S=S+Math.imul(it,zt)|0,d=d+Math.imul(it,qt)|0,d=d+Math.imul(Ze,zt)|0,P=P+Math.imul(Ze,qt)|0,S=S+Math.imul(Je,Kt)|0,d=d+Math.imul(Je,Wt)|0,d=d+Math.imul(dt,Kt)|0,P=P+Math.imul(dt,Wt)|0,S=S+Math.imul(De,Ht)|0,d=d+Math.imul(De,Gt)|0,d=d+Math.imul(Ge,Ht)|0,P=P+Math.imul(Ge,Gt)|0;var Ip=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(Ip>>>26)|0,Ip&=67108863,S=Math.imul(z,Ot),d=Math.imul(z,Ut),d=d+Math.imul(H,Ot)|0,P=Math.imul(H,Ut),S=S+Math.imul(g,Ft)|0,d=d+Math.imul(g,Vt)|0,d=d+Math.imul(D,Ft)|0,P=P+Math.imul(D,Vt)|0,S=S+Math.imul(st,$t)|0,d=d+Math.imul(st,jt)|0,d=d+Math.imul(k,$t)|0,P=P+Math.imul(k,jt)|0,S=S+Math.imul(et,zt)|0,d=d+Math.imul(et,qt)|0,d=d+Math.imul(tt,zt)|0,P=P+Math.imul(tt,qt)|0,S=S+Math.imul(it,Kt)|0,d=d+Math.imul(it,Wt)|0,d=d+Math.imul(Ze,Kt)|0,P=P+Math.imul(Ze,Wt)|0,S=S+Math.imul(Je,Ht)|0,d=d+Math.imul(Je,Gt)|0,d=d+Math.imul(dt,Ht)|0,P=P+Math.imul(dt,Gt)|0;var bp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(bp>>>26)|0,bp&=67108863,S=Math.imul(z,Ft),d=Math.imul(z,Vt),d=d+Math.imul(H,Ft)|0,P=Math.imul(H,Vt),S=S+Math.imul(g,$t)|0,d=d+Math.imul(g,jt)|0,d=d+Math.imul(D,$t)|0,P=P+Math.imul(D,jt)|0,S=S+Math.imul(st,zt)|0,d=d+Math.imul(st,qt)|0,d=d+Math.imul(k,zt)|0,P=P+Math.imul(k,qt)|0,S=S+Math.imul(et,Kt)|0,d=d+Math.imul(et,Wt)|0,d=d+Math.imul(tt,Kt)|0,P=P+Math.imul(tt,Wt)|0,S=S+Math.imul(it,Ht)|0,d=d+Math.imul(it,Gt)|0,d=d+Math.imul(Ze,Ht)|0,P=P+Math.imul(Ze,Gt)|0;var xp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(xp>>>26)|0,xp&=67108863,S=Math.imul(z,$t),d=Math.imul(z,jt),d=d+Math.imul(H,$t)|0,P=Math.imul(H,jt),S=S+Math.imul(g,zt)|0,d=d+Math.imul(g,qt)|0,d=d+Math.imul(D,zt)|0,P=P+Math.imul(D,qt)|0,S=S+Math.imul(st,Kt)|0,d=d+Math.imul(st,Wt)|0,d=d+Math.imul(k,Kt)|0,P=P+Math.imul(k,Wt)|0,S=S+Math.imul(et,Ht)|0,d=d+Math.imul(et,Gt)|0,d=d+Math.imul(tt,Ht)|0,P=P+Math.imul(tt,Gt)|0;var Ap=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(Ap>>>26)|0,Ap&=67108863,S=Math.imul(z,zt),d=Math.imul(z,qt),d=d+Math.imul(H,zt)|0,P=Math.imul(H,qt),S=S+Math.imul(g,Kt)|0,d=d+Math.imul(g,Wt)|0,d=d+Math.imul(D,Kt)|0,P=P+Math.imul(D,Wt)|0,S=S+Math.imul(st,Ht)|0,d=d+Math.imul(st,Gt)|0,d=d+Math.imul(k,Ht)|0,P=P+Math.imul(k,Gt)|0;var Tp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(Tp>>>26)|0,Tp&=67108863,S=Math.imul(z,Kt),d=Math.imul(z,Wt),d=d+Math.imul(H,Kt)|0,P=Math.imul(H,Wt),S=S+Math.imul(g,Ht)|0,d=d+Math.imul(g,Gt)|0,d=d+Math.imul(D,Ht)|0,P=P+Math.imul(D,Gt)|0;var kp=(C+S|0)+((d&8191)<<13)|0;C=(P+(d>>>13)|0)+(kp>>>26)|0,kp&=67108863,S=Math.imul(z,Ht),d=Math.imul(z,Gt),d=d+Math.imul(H,Ht)|0,P=Math.imul(H,Gt);var Rp=(C+S|0)+((d&8191)<<13)|0;return C=(P+(d>>>13)|0)+(Rp>>>26)|0,Rp&=67108863,A[0]=hp,A[1]=dp,A[2]=fp,A[3]=pp,A[4]=gp,A[5]=mp,A[6]=yp,A[7]=vp,A[8]=_p,A[9]=wp,A[10]=Ep,A[11]=Sp,A[12]=Ip,A[13]=bp,A[14]=xp,A[15]=Ap,A[16]=Tp,A[17]=kp,A[18]=Rp,C!==0&&(A[19]=C,R.length++),R};Math.imul||(E=w);function m(U,h,y){y.negative=h.negative^U.negative,y.length=U.length+h.length;for(var R=0,B=0,T=0;T<y.length-1;T++){var A=B;B=0;for(var C=R&67108863,S=Math.min(T,h.length-1),d=Math.max(0,T-U.length+1);d<=S;d++){var P=T-d,W=U.words[P]|0,Q=h.words[d]|0,Y=W*Q,ae=Y&67108863;A=A+(Y/67108864|0)|0,ae=ae+C|0,C=ae&67108863,A=A+(ae>>>26)|0,B+=A>>>26,A&=67108863}y.words[T]=C,R=A,A=B}return R!==0?y.words[T]=R:y.length--,y._strip()}function M(U,h,y){return m(U,h,y)}s.prototype.mulTo=function(h,y){var R,B=this.length+h.length;return this.length===10&&h.length===10?R=E(this,h,y):B<63?R=w(this,h,y):B<1024?R=m(this,h,y):R=M(this,h,y),R},s.prototype.mul=function(h){var y=new s(null);return y.words=new Array(this.length+h.length),this.mulTo(h,y)},s.prototype.mulf=function(h){var y=new s(null);return y.words=new Array(this.length+h.length),M(this,h,y)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){var y=h<0;y&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var R=0,B=0;B<this.length;B++){var T=(this.words[B]|0)*h,A=(T&67108863)+(R&67108863);R>>=26,R+=T/67108864|0,R+=A>>>26,this.words[B]=A&67108863}return R!==0&&(this.words[B]=R,this.length++),y?this.ineg():this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var y=b(h);if(y.length===0)return new s(1);for(var R=this,B=0;B<y.length&&y[B]===0;B++,R=R.sqr());if(++B<y.length)for(var T=R.sqr();B<y.length;B++,T=T.sqr())y[B]!==0&&(R=R.mul(T));return R},s.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var y=h%26,R=(h-y)/26,B=67108863>>>26-y<<26-y,T;if(y!==0){var A=0;for(T=0;T<this.length;T++){var C=this.words[T]&B,S=(this.words[T]|0)-C<<y;this.words[T]=S|A,A=C>>>26-y}A&&(this.words[T]=A,this.length++)}if(R!==0){for(T=this.length-1;T>=0;T--)this.words[T+R]=this.words[T];for(T=0;T<R;T++)this.words[T]=0;this.length+=R}return this._strip()},s.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,y,R){r(typeof h=="number"&&h>=0);var B;y?B=(y-y%26)/26:B=0;var T=h%26,A=Math.min((h-T)/26,this.length),C=67108863^67108863>>>T<<T,S=R;if(B-=A,B=Math.max(0,B),S){for(var d=0;d<A;d++)S.words[d]=this.words[d];S.length=A}if(A!==0)if(this.length>A)for(this.length-=A,d=0;d<this.length;d++)this.words[d]=this.words[d+A];else this.words[0]=0,this.length=1;var P=0;for(d=this.length-1;d>=0&&(P!==0||d>=B);d--){var W=this.words[d]|0;this.words[d]=P<<26-T|W>>>T,P=W&C}return S&&P!==0&&(S.words[S.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(h,y,R){return r(this.negative===0),this.iushrn(h,y,R)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var y=h%26,R=(h-y)/26,B=1<<y;if(this.length<=R)return!1;var T=this.words[R];return!!(T&B)},s.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var y=h%26,R=(h-y)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(y!==0&&R++,this.length=Math.min(R,this.length),y!==0){var B=67108863^67108863>>>y<<y;this.words[this.length-1]&=B}return this._strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,y,R){var B=h.length+R,T;this._expand(B);var A,C=0;for(T=0;T<h.length;T++){A=(this.words[T+R]|0)+C;var S=(h.words[T]|0)*y;A-=S&67108863,C=(A>>26)-(S/67108864|0),this.words[T+R]=A&67108863}for(;T<this.length-R;T++)A=(this.words[T+R]|0)+C,C=A>>26,this.words[T+R]=A&67108863;if(C===0)return this._strip();for(r(C===-1),C=0,T=0;T<this.length;T++)A=-(this.words[T]|0)+C,C=A>>26,this.words[T]=A&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(h,y){var R=this.length-h.length,B=this.clone(),T=h,A=T.words[T.length-1]|0,C=this._countBits(A);R=26-C,R!==0&&(T=T.ushln(R),B.iushln(R),A=T.words[T.length-1]|0);var S=B.length-T.length,d;if(y!=="mod"){d=new s(null),d.length=S+1,d.words=new Array(d.length);for(var P=0;P<d.length;P++)d.words[P]=0}var W=B.clone()._ishlnsubmul(T,1,S);W.negative===0&&(B=W,d&&(d.words[S]=1));for(var Q=S-1;Q>=0;Q--){var Y=(B.words[T.length+Q]|0)*67108864+(B.words[T.length+Q-1]|0);for(Y=Math.min(Y/A|0,67108863),B._ishlnsubmul(T,Y,Q);B.negative!==0;)Y--,B.negative=0,B._ishlnsubmul(T,1,Q),B.isZero()||(B.negative^=1);d&&(d.words[Q]=Y)}return d&&d._strip(),B._strip(),y!=="div"&&R!==0&&B.iushrn(R),{div:d||null,mod:B}},s.prototype.divmod=function(h,y,R){if(r(!h.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var B,T,A;return this.negative!==0&&h.negative===0?(A=this.neg().divmod(h,y),y!=="mod"&&(B=A.div.neg()),y!=="div"&&(T=A.mod.neg(),R&&T.negative!==0&&T.iadd(h)),{div:B,mod:T}):this.negative===0&&h.negative!==0?(A=this.divmod(h.neg(),y),y!=="mod"&&(B=A.div.neg()),{div:B,mod:A.mod}):this.negative&h.negative?(A=this.neg().divmod(h.neg(),y),y!=="div"&&(T=A.mod.neg(),R&&T.negative!==0&&T.isub(h)),{div:A.div,mod:T}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?y==="div"?{div:this.divn(h.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modrn(h.words[0]))}:this._wordDiv(h,y)},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var y=this.divmod(h);if(y.mod.isZero())return y.div;var R=y.div.negative!==0?y.mod.isub(h):y.mod,B=h.ushrn(1),T=h.andln(1),A=R.cmp(B);return A<0||T===1&&A===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(h){var y=h<0;y&&(h=-h),r(h<=67108863);for(var R=(1<<26)%h,B=0,T=this.length-1;T>=0;T--)B=(R*B+(this.words[T]|0))%h;return y?-B:B},s.prototype.modn=function(h){return this.modrn(h)},s.prototype.idivn=function(h){var y=h<0;y&&(h=-h),r(h<=67108863);for(var R=0,B=this.length-1;B>=0;B--){var T=(this.words[B]|0)+R*67108864;this.words[B]=T/h|0,R=T%h}return this._strip(),y?this.ineg():this},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var y=this,R=h.clone();y.negative!==0?y=y.umod(h):y=y.clone();for(var B=new s(1),T=new s(0),A=new s(0),C=new s(1),S=0;y.isEven()&&R.isEven();)y.iushrn(1),R.iushrn(1),++S;for(var d=R.clone(),P=y.clone();!y.isZero();){for(var W=0,Q=1;!(y.words[0]&Q)&&W<26;++W,Q<<=1);if(W>0)for(y.iushrn(W);W-- >0;)(B.isOdd()||T.isOdd())&&(B.iadd(d),T.isub(P)),B.iushrn(1),T.iushrn(1);for(var Y=0,ae=1;!(R.words[0]&ae)&&Y<26;++Y,ae<<=1);if(Y>0)for(R.iushrn(Y);Y-- >0;)(A.isOdd()||C.isOdd())&&(A.iadd(d),C.isub(P)),A.iushrn(1),C.iushrn(1);y.cmp(R)>=0?(y.isub(R),B.isub(A),T.isub(C)):(R.isub(y),A.isub(B),C.isub(T))}return{a:A,b:C,gcd:R.iushln(S)}},s.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var y=this,R=h.clone();y.negative!==0?y=y.umod(h):y=y.clone();for(var B=new s(1),T=new s(0),A=R.clone();y.cmpn(1)>0&&R.cmpn(1)>0;){for(var C=0,S=1;!(y.words[0]&S)&&C<26;++C,S<<=1);if(C>0)for(y.iushrn(C);C-- >0;)B.isOdd()&&B.iadd(A),B.iushrn(1);for(var d=0,P=1;!(R.words[0]&P)&&d<26;++d,P<<=1);if(d>0)for(R.iushrn(d);d-- >0;)T.isOdd()&&T.iadd(A),T.iushrn(1);y.cmp(R)>=0?(y.isub(R),B.isub(T)):(R.isub(y),T.isub(B))}var W;return y.cmpn(1)===0?W=B:W=T,W.cmpn(0)<0&&W.iadd(h),W},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var y=this.clone(),R=h.clone();y.negative=0,R.negative=0;for(var B=0;y.isEven()&&R.isEven();B++)y.iushrn(1),R.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;R.isEven();)R.iushrn(1);var T=y.cmp(R);if(T<0){var A=y;y=R,R=A}else if(T===0||R.cmpn(1)===0)break;y.isub(R)}while(!0);return R.iushln(B)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){r(typeof h=="number");var y=h%26,R=(h-y)/26,B=1<<y;if(this.length<=R)return this._expand(R+1),this.words[R]|=B,this;for(var T=B,A=R;T!==0&&A<this.length;A++){var C=this.words[A]|0;C+=T,T=C>>>26,C&=67108863,this.words[A]=C}return T!==0&&(this.words[A]=T,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var y=h<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var R;if(this.length>1)R=1;else{y&&(h=-h),r(h<=67108863,"Number is too big");var B=this.words[0]|0;R=B===h?0:B<h?-1:1}return this.negative!==0?-R|0:R},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var y=this.ucmp(h);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var y=0,R=this.length-1;R>=0;R--){var B=this.words[R]|0,T=h.words[R]|0;if(B!==T){B<T?y=-1:B>T&&(y=1);break}}return y},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new re(h)},s.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var N={k256:null,p224:null,p192:null,p25519:null};function O(U,h){this.name=U,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var h=new s(null);return h.words=new Array(Math.ceil(this.n/13)),h},O.prototype.ireduce=function(h){var y=h,R;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),R=y.bitLength();while(R>this.n);var B=R<this.n?-1:y.ucmp(this.p);return B===0?(y.words[0]=0,y.length=1):B>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},O.prototype.split=function(h,y){h.iushrn(this.n,0,y)},O.prototype.imulK=function(h){return h.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(h,y){for(var R=4194303,B=Math.min(h.length,9),T=0;T<B;T++)y.words[T]=h.words[T];if(y.length=B,h.length<=9){h.words[0]=0,h.length=1;return}var A=h.words[9];for(y.words[y.length++]=A&R,T=10;T<h.length;T++){var C=h.words[T]|0;h.words[T-10]=(C&R)<<4|A>>>22,A=C}A>>>=22,h.words[T-10]=A,A===0&&h.length>10?h.length-=10:h.length-=9},F.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var y=0,R=0;R<h.length;R++){var B=h.words[R]|0;y+=B*977,h.words[R]=y&67108863,y=B*64+(y/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function V(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,O);function J(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,O);function Z(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,O),Z.prototype.imulK=function(h){for(var y=0,R=0;R<h.length;R++){var B=(h.words[R]|0)*19+y,T=B&67108863;B>>>=26,h.words[R]=T,y=B}return y!==0&&(h.words[h.length++]=y),h},s._prime=function(h){if(N[h])return N[h];var y;if(h==="k256")y=new F;else if(h==="p224")y=new V;else if(h==="p192")y=new J;else if(h==="p25519")y=new Z;else throw new Error("Unknown prime "+h);return N[h]=y,y};function re(U){if(typeof U=="string"){var h=s._prime(U);this.m=h.p,this.prime=h}else r(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}re.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},re.prototype._verify2=function(h,y){r((h.negative|y.negative)===0,"red works only with positives"),r(h.red&&h.red===y.red,"red works only with red numbers")},re.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(c(h,h.umod(this.m)._forceRed(this)),h)},re.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},re.prototype.add=function(h,y){this._verify2(h,y);var R=h.add(y);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},re.prototype.iadd=function(h,y){this._verify2(h,y);var R=h.iadd(y);return R.cmp(this.m)>=0&&R.isub(this.m),R},re.prototype.sub=function(h,y){this._verify2(h,y);var R=h.sub(y);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},re.prototype.isub=function(h,y){this._verify2(h,y);var R=h.isub(y);return R.cmpn(0)<0&&R.iadd(this.m),R},re.prototype.shl=function(h,y){return this._verify1(h),this.imod(h.ushln(y))},re.prototype.imul=function(h,y){return this._verify2(h,y),this.imod(h.imul(y))},re.prototype.mul=function(h,y){return this._verify2(h,y),this.imod(h.mul(y))},re.prototype.isqr=function(h){return this.imul(h,h.clone())},re.prototype.sqr=function(h){return this.mul(h,h)},re.prototype.sqrt=function(h){if(h.isZero())return h.clone();var y=this.m.andln(3);if(r(y%2===1),y===3){var R=this.m.add(new s(1)).iushrn(2);return this.pow(h,R)}for(var B=this.m.subn(1),T=0;!B.isZero()&&B.andln(1)===0;)T++,B.iushrn(1);r(!B.isZero());var A=new s(1).toRed(this),C=A.redNeg(),S=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,S).cmp(C)!==0;)d.redIAdd(C);for(var P=this.pow(d,B),W=this.pow(h,B.addn(1).iushrn(1)),Q=this.pow(h,B),Y=T;Q.cmp(A)!==0;){for(var ae=Q,fe=0;ae.cmp(A)!==0;fe++)ae=ae.redSqr();r(fe<Y);var pe=this.pow(P,new s(1).iushln(Y-fe-1));W=W.redMul(pe),P=pe.redSqr(),Q=Q.redMul(P),Y=fe}return W},re.prototype.invm=function(h){var y=h._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},re.prototype.pow=function(h,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return h.clone();var R=4,B=new Array(1<<R);B[0]=new s(1).toRed(this),B[1]=h;for(var T=2;T<B.length;T++)B[T]=this.mul(B[T-1],h);var A=B[0],C=0,S=0,d=y.bitLength()%26;for(d===0&&(d=26),T=y.length-1;T>=0;T--){for(var P=y.words[T],W=d-1;W>=0;W--){var Q=P>>W&1;if(A!==B[0]&&(A=this.sqr(A)),Q===0&&C===0){S=0;continue}C<<=1,C|=Q,S++,!(S!==R&&(T!==0||W!==0))&&(A=this.mul(A,B[C]),S=0,C=0)}d=26}return A},re.prototype.convertTo=function(h){var y=h.umod(this.m);return y===h?y.clone():y},re.prototype.convertFrom=function(h){var y=h.clone();return y.red=null,y},s.mont=function(h){return new _e(h)};function _e(U){re.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(_e,re),_e.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},_e.prototype.convertFrom=function(h){var y=this.imod(h.mul(this.rinv));return y.red=null,y},_e.prototype.imul=function(h,y){if(h.isZero()||y.isZero())return h.words[0]=0,h.length=1,h;var R=h.imul(y),B=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=R.isub(B).iushrn(this.shift),A=T;return T.cmp(this.m)>=0?A=T.isub(this.m):T.cmpn(0)<0&&(A=T.iadd(this.m)),A._forceRed(this)},_e.prototype.mul=function(h,y){if(h.isZero()||y.isZero())return new s(0)._forceRed(this);var R=h.mul(y),B=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=R.isub(B).iushrn(this.shift),A=T;return T.cmp(this.m)>=0?A=T.isub(this.m):T.cmpn(0)<0&&(A=T.iadd(this.m)),A._forceRed(this)},_e.prototype.invm=function(h){var y=this.imod(h._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,Qr)})(L_);var Ak=L_.exports;const lS=Bo(Ak);var X0={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Te,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof l=="string"?u.fill(a,l):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(X0,X0.exports);var Tk=X0.exports,ph=Tk.Buffer;function z8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=ph.from(_)),!ph.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var x=0,I=0,b=0,w=_.length;b!==w&&_[b]===0;)b++,x++;for(var E=(w-b)*u+1>>>0,m=new Uint8Array(E);b!==w;){for(var M=_[b],N=0,O=E-1;(M!==0||N<I)&&O!==-1;O--,N++)M+=256*m[O]>>>0,m[O]=M%o>>>0,M=M/o>>>0;if(M!==0)throw new Error("Non-zero carry");I=N,b++}for(var F=E-I;F!==E&&m[F]===0;)F++;for(var V=a.repeat(x);F<E;++F)V+=t.charAt(m[F]);return V}function f(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return ph.alloc(0);for(var x=0,I=0,b=0;_[x]===a;)I++,x++;for(var w=(_.length-x)*l+1>>>0,E=new Uint8Array(w);_[x];){var m=e[_.charCodeAt(x)];if(m===255)return;for(var M=0,N=w-1;(m!==0||M<b)&&N!==-1;N--,M++)m+=o*E[N]>>>0,E[N]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");b=M,x++}for(var O=w-b;O!==w&&E[O]===0;)O++;var F=ph.allocUnsafe(I+(w-O));F.fill(0,0,I);for(var V=I;O!==w;)F[V++]=E[O++];return F}function v(_){var x=f(_);if(x)return x;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:f,decode:v}}var q8=z8,K8=q8,W8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",H8=K8(W8);const _n=Bo(H8),G8=(t,e,n)=>t&e^~t&n,Q8=(t,e,n)=>t&e^t&n^e&n,Y8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ss=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),os=new Uint32Array(64);class X8 extends pk{constructor(){super(64,32,8,!1),this.A=ss[0]|0,this.B=ss[1]|0,this.C=ss[2]|0,this.D=ss[3]|0,this.E=ss[4]|0,this.F=ss[5]|0,this.G=ss[6]|0,this.H=ss[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)os[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const v=os[f-15],_=os[f-2],x=ni(v,7)^ni(v,18)^v>>>3,I=ni(_,17)^ni(_,19)^_>>>10;os[f]=I+os[f-7]+x+os[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:u,H:c}=this;for(let f=0;f<64;f++){const v=ni(a,6)^ni(a,11)^ni(a,25),_=c+v+G8(a,l,u)+Y8[f]+os[f]|0,I=(ni(r,2)^ni(r,13)^ni(r,22))+Q8(r,i,s)|0;c=u,u=l,l=a,a=o+_|0,o=s,s=i,i=r,r=_+I|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,s,o,a,l,u,c)}roundClean(){os.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const J0=dk(()=>new X8);var yn={},gh=Tk.Buffer;function J8(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=gh.from(_)),!gh.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var x=0,I=0,b=0,w=_.length;b!==w&&_[b]===0;)b++,x++;for(var E=(w-b)*u+1>>>0,m=new Uint8Array(E);b!==w;){for(var M=_[b],N=0,O=E-1;(M!==0||N<I)&&O!==-1;O--,N++)M+=256*m[O]>>>0,m[O]=M%o>>>0,M=M/o>>>0;if(M!==0)throw new Error("Non-zero carry");I=N,b++}for(var F=E-I;F!==E&&m[F]===0;)F++;for(var V=a.repeat(x);F<E;++F)V+=t.charAt(m[F]);return V}function f(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return gh.alloc(0);for(var x=0,I=0,b=0;_[x]===a;)I++,x++;for(var w=(_.length-x)*l+1>>>0,E=new Uint8Array(w);_[x];){var m=e[_.charCodeAt(x)];if(m===255)return;for(var M=0,N=w-1;(m!==0||M<b)&&N!==-1;N--,M++)m+=o*E[N]>>>0,E[N]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");b=M,x++}for(var O=w-b;O!==w&&E[O]===0;)O++;var F=gh.allocUnsafe(I+(w-O));F.fill(0,0,I);for(var V=I;O!==w;)F[V++]=E[O++];return F}function v(_){var x=f(_);if(x)return x;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:f,decode:v}}var Z8=J8,eV=Z8,tV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",nV=eV(tV);function Ni(t,e,n){return e<=t&&t<=n}function np(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function rV(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function iV(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Fd=-1;function B_(t){this.tokens=[].slice.call(t)}B_.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Fd},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var il=-1;function Vg(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Vd="utf-8";function $d(t,e){if(!(this instanceof $d))return new $d(t,e);if(t=t!==void 0?String(t).toLowerCase():Vd,t!==Vd)throw new Error("Encoding not supported. Only utf-8 is supported");e=np(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}$d.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=np(n),this._streaming||(this._decoder=new sV({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new B_(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==il);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===il)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),iV(s)}};function jd(t,e){if(!(this instanceof jd))return new jd(t,e);if(t=t!==void 0?String(t).toLowerCase():Vd,t!==Vd)throw new Error("Encoding not supported. Only utf-8 is supported");e=np(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}jd.prototype={encode:function(e,n){e=e?String(e):"",n=np(n),this._streaming||(this._encoder=new oV(this._options)),this._streaming=!!n.stream;for(var r=[],i=new B_(rV(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==il);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==il;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function sV(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===Fd&&i!==0)return i=0,Vg(e);if(l===Fd)return il;if(i===0){if(Ni(l,0,127))return l;if(Ni(l,194,223))i=1,n=l-192;else if(Ni(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Ni(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return Vg(e);return n=n<<6*i,null}if(!Ni(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),Vg(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function oV(t){t.fatal,this.handler=function(e,n){if(n===Fd)return il;if(Ni(n,0,127))return n;var r,i;Ni(n,128,2047)?(r=1,i=192):Ni(n,2048,65535)?(r=2,i=224):Ni(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const aV=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:$d,TextEncoder:jd},Symbol.toStringTag,{value:"Module"})),lV=ay(aV);var uV=Qr&&Qr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),cV=Qr&&Qr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ti=Qr&&Qr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hV=Qr&&Qr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&uV(e,t,n);return cV(e,t),e},kk=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});var Rk=yn.deserializeUnchecked=Bk=yn.deserialize=Lk=yn.serialize=yn.BinaryReader=yn.BinaryWriter=yn.BorshError=yn.baseDecode=yn.baseEncode=void 0;const ws=kk(Ak),Ck=kk(nV),dV=hV(lV),fV=typeof TextDecoder!="function"?dV.TextDecoder:TextDecoder,pV=new fV("utf-8",{fatal:!0});function gV(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Ck.default.encode(Buffer.from(t))}yn.baseEncode=gV;function mV(t){return Buffer.from(Ck.default.decode(t))}yn.baseDecode=mV;const $g=1024;class Hn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}yn.BorshError=Hn;class Pk{constructor(){this.buf=Buffer.alloc($g),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc($g)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ws.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ws.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ws.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ws.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc($g)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}yn.BinaryWriter=Pk;function ki(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Hn("Reached the end of buffer when deserializing")}throw s}}}class Er{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new ws.default(e,"le")}readU128(){const e=this.readBuffer(16);return new ws.default(e,"le")}readU256(){const e=this.readBuffer(32);return new ws.default(e,"le")}readU512(){const e=this.readBuffer(64);return new ws.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Hn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return pV.decode(n)}catch(r){throw new Hn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Ti([ki],Er.prototype,"readU8",null);Ti([ki],Er.prototype,"readU16",null);Ti([ki],Er.prototype,"readU32",null);Ti([ki],Er.prototype,"readU64",null);Ti([ki],Er.prototype,"readU128",null);Ti([ki],Er.prototype,"readU256",null);Ti([ki],Er.prototype,"readU512",null);Ti([ki],Er.prototype,"readString",null);Ti([ki],Er.prototype,"readFixedArray",null);Ti([ki],Er.prototype,"readArray",null);yn.BinaryReader=Er;function Nk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function eo(t,e,n,r,i){try{if(typeof r=="string")i[`write${Nk(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Hn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Hn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)eo(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{eo(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),eo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{eo(t,e,o,r.key,i),eo(t,e,s,r.value,i)});break}default:throw new Hn(`FieldType ${r} unrecognized`)}else Mk(t,n,i)}catch(s){throw s instanceof Hn&&s.addToFieldPath(e),s}}function Mk(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Hn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{eo(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),eo(t,o,e[o],a,n);break}}}else throw new Hn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function yV(t,e,n=Pk){const r=new n;return Mk(t,e,r),r.toArray()}var Lk=yn.serialize=yV;function to(t,e,n,r){try{if(typeof n=="string")return r[`read${Nk(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(to(t,null,n[0],r));return i}else return r.readArray(()=>to(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?to(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=to(t,e,n.key,r),l=to(t,e,n.value,r);i.set(a,l)}return i}return D_(t,n,r)}catch(i){throw i instanceof Hn&&i.addToFieldPath(e),i}}function D_(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Hn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=to(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Hn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=to(t,s,o,n);return new e({[s]:a})}throw new Hn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function vV(t,e,n,r=Er){const i=new r(n),s=D_(t,e,i);if(i.offset<n.length)throw new Hn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var Bk=yn.deserialize=vV;function _V(t,e,n,r=Er){const i=new r(n);return D_(t,e,i)}Rk=yn.deserializeUnchecked=_V;var K={};Object.defineProperty(K,"__esModule",{value:!0});K.s16=K.s8=K.nu64be=K.u48be=K.u40be=K.u32be=K.u24be=K.u16be=fn=K.nu64=K.u48=K.u40=ve=K.u32=K.u24=Ar=K.u16=He=K.u8=_o=K.offset=K.greedy=K.Constant=K.UTF8=K.CString=K.Blob=K.Boolean=K.BitField=K.BitStructure=K.VariantLayout=K.Union=K.UnionLayoutDiscriminator=K.UnionDiscriminator=K.Structure=K.Sequence=K.DoubleBE=K.Double=K.FloatBE=K.Float=K.NearInt64BE=K.NearInt64=K.NearUInt64BE=K.NearUInt64=K.IntBE=K.Int=K.UIntBE=K.UInt=K.OffsetLayout=K.GreedyCount=K.ExternalLayout=K.bindConstructorLayout=K.nameWithProperty=K.Layout=K.uint8ArrayToBuffer=K.checkUint8Array=void 0;K.constant=K.utf8=K.cstr=bt=K.blob=K.unionLayoutDiscriminator=K.union=Gn=K.seq=K.bits=me=K.struct=K.f64be=K.f64=K.f32be=K.f32=K.ns64be=K.s48be=K.s40be=K.s32be=K.s24be=K.s16be=dr=K.ns64=K.s48=K.s40=K.s32=K.s24=void 0;const O_=Te;function bl(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}K.checkUint8Array=bl;function ze(t){return bl(t),O_.Buffer.from(t.buffer,t.byteOffset,t.length)}K.uint8ArrayToBuffer=ze;class Xe{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}K.Layout=Xe;function U_(t,e){return e.property?t+"["+e.property+"]":t}K.nameWithProperty=U_;function wV(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Xe))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}K.bindConstructorLayout=wV;class ir extends Xe{isCount(){throw new Error("ExternalLayout is abstract")}}K.ExternalLayout=ir;class Dk extends ir{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){bl(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}K.GreedyCount=Dk;class F_ extends ir{constructor(e,n=0,r){if(!(e instanceof Xe))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Br||this.layout instanceof Gr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}K.OffsetLayout=F_;class Br extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ze(e).readUIntLE(n,this.span)}encode(e,n,r=0){return ze(n).writeUIntLE(e,r,this.span),this.span}}K.UInt=Br;class Gr extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ze(e).readUIntBE(n,this.span)}encode(e,n,r=0){return ze(n).writeUIntBE(e,r,this.span),this.span}}K.UIntBE=Gr;class Wo extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ze(e).readIntLE(n,this.span)}encode(e,n,r=0){return ze(n).writeIntLE(e,r,this.span),this.span}}K.Int=Wo;class xl extends Xe{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return ze(e).readIntBE(n,this.span)}encode(e,n,r=0){return ze(n).writeIntBE(e,r,this.span),this.span}}K.IntBE=xl;const Z0=Math.pow(2,32);function rp(t){const e=Math.floor(t/Z0),n=t-e*Z0;return{hi32:e,lo32:n}}function ip(t,e){return t*Z0+e}class Ok extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=ze(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return ip(s,i)}encode(e,n,r=0){const i=rp(e),s=ze(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}K.NearUInt64=Ok;class Uk extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=ze(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return ip(i,s)}encode(e,n,r=0){const i=rp(e),s=ze(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}K.NearUInt64BE=Uk;class Fk extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=ze(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return ip(s,i)}encode(e,n,r=0){const i=rp(e),s=ze(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}K.NearInt64=Fk;class Vk extends Xe{constructor(e){super(8,e)}decode(e,n=0){const r=ze(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return ip(i,s)}encode(e,n,r=0){const i=rp(e),s=ze(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}K.NearInt64BE=Vk;class $k extends Xe{constructor(e){super(4,e)}decode(e,n=0){return ze(e).readFloatLE(n)}encode(e,n,r=0){return ze(n).writeFloatLE(e,r),4}}K.Float=$k;class jk extends Xe{constructor(e){super(4,e)}decode(e,n=0){return ze(e).readFloatBE(n)}encode(e,n,r=0){return ze(n).writeFloatBE(e,r),4}}K.FloatBE=jk;class zk extends Xe{constructor(e){super(8,e)}decode(e,n=0){return ze(e).readDoubleLE(n)}encode(e,n,r=0){return ze(n).writeDoubleLE(e,r),8}}K.Double=zk;class qk extends Xe{constructor(e){super(8,e)}decode(e,n=0){return ze(e).readDoubleBE(n)}encode(e,n,r=0){return ze(n).writeDoubleBE(e,r),8}}K.DoubleBE=qk;class Kk extends Xe{constructor(e,n,r){if(!(e instanceof Xe))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ir&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof ir)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof ir&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof ir&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof ir&&this.count.encode(e.length,n,r),s}}K.Sequence=Kk;class Wk extends Xe{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Xe,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){bl(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}K.Structure=Wk;class V_{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}K.UnionDiscriminator=V_;class zd extends V_{constructor(e,n){if(!(e instanceof ir&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}K.UnionLayoutDiscriminator=zd;class $_ extends Xe{constructor(e,n,r){let i;if(e instanceof Br||e instanceof Gr)i=new zd(new F_(e));else if(e instanceof ir&&e.isCount())i=new zd(e);else if(e instanceof V_)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Xe))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Br||e instanceof Gr)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Br||e instanceof Gr,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new Hk(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}K.Union=$_;class Hk extends Xe{constructor(e,n,r,i){if(!(e instanceof $_))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Xe))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}K.VariantLayout=Hk;function sa(t){return 0>t&&(t+=4294967296),t}class j_ extends Xe{constructor(e,n,r){if(!(e instanceof Br||e instanceof Gr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=sa(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new z_(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new Gk(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}K.BitStructure=j_;class z_{constructor(e,n,r){if(!(e instanceof j_))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=sa(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return sa(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==sa(e&this.valueMask))throw new TypeError(U_("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=sa(e<<this.start);this.container._packedSetValue(sa(n&~this.wordMask)|r)}}K.BitField=z_;let Gk=class extends z_{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};K.Boolean=Gk;let Qk=class extends Xe{constructor(e,n){if(!(e instanceof ir&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ir||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),ze(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof ir&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(U_("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=ze(e);return ze(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof ir&&this.length.encode(i,n,r),i}};K.Blob=Qk;class Yk extends Xe{constructor(e){super(-1,e)}getSpan(e,n=0){bl(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return ze(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=O_.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=ze(n);return i.copy(o,r),o[r+s]=0,s+1}}K.CString=Yk;class Xk extends Xe{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return bl(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return ze(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=O_.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(ze(n),r),s}}K.UTF8=Xk;class Jk extends Xe{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}K.Constant=Jk;K.greedy=(t,e)=>new Dk(t,e);var _o=K.offset=(t,e,n)=>new F_(t,e,n),He=K.u8=t=>new Br(1,t),Ar=K.u16=t=>new Br(2,t);K.u24=t=>new Br(3,t);var ve=K.u32=t=>new Br(4,t);K.u40=t=>new Br(5,t);K.u48=t=>new Br(6,t);var fn=K.nu64=t=>new Ok(t);K.u16be=t=>new Gr(2,t);K.u24be=t=>new Gr(3,t);K.u32be=t=>new Gr(4,t);K.u40be=t=>new Gr(5,t);K.u48be=t=>new Gr(6,t);K.nu64be=t=>new Uk(t);K.s8=t=>new Wo(1,t);K.s16=t=>new Wo(2,t);K.s24=t=>new Wo(3,t);K.s32=t=>new Wo(4,t);K.s40=t=>new Wo(5,t);K.s48=t=>new Wo(6,t);var dr=K.ns64=t=>new Fk(t);K.s16be=t=>new xl(2,t);K.s24be=t=>new xl(3,t);K.s32be=t=>new xl(4,t);K.s40be=t=>new xl(5,t);K.s48be=t=>new xl(6,t);K.ns64be=t=>new Vk(t);K.f32=t=>new $k(t);K.f32be=t=>new jk(t);K.f64=t=>new zk(t);K.f64be=t=>new qk(t);var me=K.struct=(t,e,n)=>new Wk(t,e,n);K.bits=(t,e,n)=>new j_(t,e,n);var Gn=K.seq=(t,e,n)=>new Kk(t,e,n);K.union=(t,e,n)=>new $_(t,e,n);K.unionLayoutDiscriminator=(t,e)=>new zd(t,e);var bt=K.blob=(t,e)=>new Qk(t,e);K.cstr=t=>new Yk(t);K.utf8=(t,e)=>new Xk(t,e);K.constant=(t,e)=>new Jk(t,e);var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});function EV(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var SV=Pc.toBigIntLE=EV;function IV(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Pc.toBigIntBE=IV;function bV(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var xV=Pc.toBufferLE=bV;function AV(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}Pc.toBufferBE=AV;class TV extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function kV(t){return Ls(t)&&typeof t[Symbol.iterator]=="function"}function Ls(t){return typeof t=="object"&&t!=null}function Zr(t){return typeof t=="string"?JSON.stringify(t):""+t}function RV(t){const{done:e,value:n}=t.next();return e?void 0:n}function CV(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Zr(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*uS(t,e,n,r){kV(t)||(t=[t]);for(const i of t){const s=CV(i,e,n,r);s&&(yield s)}}function*q_(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ls(e.schema)&&Ls(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let l=!0;for(const u of e.validator(t,a))l=!1,yield[u,void 0];for(let[u,c,f]of e.entries(t,a)){const v=q_(c,f,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,c],coerce:s,mask:o});for(const _ of v)_[0]?(l=!1,yield[_[0],void 0]):s&&(c=_[1],u===void 0?t=c:t instanceof Map?t.set(u,c):t instanceof Set?t.add(c):Ls(t)&&(t[u]=c))}if(l)for(const u of e.refiner(t,a))l=!1,yield[u,void 0];l&&(yield[void 0,t])}let Ri=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,u)=>{const c=i(l,u);return uS(c,u,this,l)}:this.validator=()=>[],s?this.refiner=(l,u)=>{const c=s(l,u);return uS(c,u,this,l)}:this.refiner=()=>[]}assert(e){return PV(e,this)}create(e){return se(e,this)}is(e){return Zk(e,this)}mask(e){return NV(e,this)}validate(e,n={}){return Nc(e,this,n)}};function PV(t,e){const n=Nc(t,e);if(n[0])throw n[0]}function se(t,e){const n=Nc(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function NV(t,e){const n=Nc(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function Zk(t,e){return!Nc(t,e)[0]}function Nc(t,e,n={}){const r=q_(t,e,n),i=RV(r);return i[0]?[new TV(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ho(t,e){return new Ri({type:t,schema:null,validator:e})}function MV(){return Ho("any",()=>!0)}function le(t){return new Ri({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Zr(e)}})}function bi(){return Ho("boolean",t=>typeof t=="boolean")}function K_(t){return Ho("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+Zr(e))}function yt(t){const e=Zr(t),n=typeof t;return new Ri({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+Zr(r)}})}function LV(){return Ho("never",()=>!1)}function ue(t){return new Ri({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function q(){return Ho("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+Zr(t))}function we(t){return new Ri({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function eR(t,e){return new Ri({type:"record",schema:null,*entries(n){if(Ls(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Ls(n)||"Expected an object, but received: "+Zr(n)}})}function ie(){return Ho("string",t=>typeof t=="string"||"Expected a string, but received: "+Zr(t))}function W_(t){const e=LV();return new Ri({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+Zr(n)}})}function ee(t){const e=Object.keys(t);return new Ri({type:"type",schema:t,*entries(n){if(Ls(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ls(n)||"Expected an object, but received: "+Zr(n)}})}function ur(t){const e=t.map(n=>n.type).join(" | ");return new Ri({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=q_(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Zr(n),...i]}})}function Mc(){return Ho("unknown",()=>!0)}function Lc(t,e,n){return new Ri({...t,coercer:(r,i)=>Zk(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var mh,BV=new Uint8Array(16);function tR(){if(!mh&&(mh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!mh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mh(BV)}const DV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sp(t){return typeof t=="string"&&DV.test(t)}var dn=[];for(var jg=0;jg<256;++jg)dn.push((jg+256).toString(16).substr(1));function op(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(dn[t[e+0]]+dn[t[e+1]]+dn[t[e+2]]+dn[t[e+3]]+"-"+dn[t[e+4]]+dn[t[e+5]]+"-"+dn[t[e+6]]+dn[t[e+7]]+"-"+dn[t[e+8]]+dn[t[e+9]]+"-"+dn[t[e+10]]+dn[t[e+11]]+dn[t[e+12]]+dn[t[e+13]]+dn[t[e+14]]+dn[t[e+15]]).toLowerCase();if(!sp(n))throw TypeError("Stringified UUID is invalid");return n}var cS,zg,qg=0,Kg=0;function OV(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||cS,o=t.clockseq!==void 0?t.clockseq:zg;if(s==null||o==null){var a=t.random||(t.rng||tR)();s==null&&(s=cS=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=zg=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:Kg+1,c=l-qg+(u-Kg)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||l>qg)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qg=l,Kg=u,zg=o,l+=122192928e5;var f=((l&268435455)*1e4+u)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var v=l/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=v&255,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var _=0;_<6;++_)i[r+_]=s[_];return e||op(i)}function nR(t){if(!sp(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function UV(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var FV="6ba7b810-9dad-11d1-80b4-00c04fd430c8",VV="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function rR(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=UV(i)),typeof s=="string"&&(s=nR(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=l[u];return o}return op(l)}try{r.name=t}catch{}return r.DNS=FV,r.URL=VV,r}function $V(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return jV(zV(qV(t),t.length*8))}function jV(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function iR(t){return(t+64>>>9<<4)+14+1}function zV(t,e){t[e>>5]|=128<<e%32,t[iR(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,u=i,c=s;n=Cn(n,r,i,s,t[o],7,-680876936),s=Cn(s,n,r,i,t[o+1],12,-389564586),i=Cn(i,s,n,r,t[o+2],17,606105819),r=Cn(r,i,s,n,t[o+3],22,-1044525330),n=Cn(n,r,i,s,t[o+4],7,-176418897),s=Cn(s,n,r,i,t[o+5],12,1200080426),i=Cn(i,s,n,r,t[o+6],17,-1473231341),r=Cn(r,i,s,n,t[o+7],22,-45705983),n=Cn(n,r,i,s,t[o+8],7,1770035416),s=Cn(s,n,r,i,t[o+9],12,-1958414417),i=Cn(i,s,n,r,t[o+10],17,-42063),r=Cn(r,i,s,n,t[o+11],22,-1990404162),n=Cn(n,r,i,s,t[o+12],7,1804603682),s=Cn(s,n,r,i,t[o+13],12,-40341101),i=Cn(i,s,n,r,t[o+14],17,-1502002290),r=Cn(r,i,s,n,t[o+15],22,1236535329),n=Pn(n,r,i,s,t[o+1],5,-165796510),s=Pn(s,n,r,i,t[o+6],9,-1069501632),i=Pn(i,s,n,r,t[o+11],14,643717713),r=Pn(r,i,s,n,t[o],20,-373897302),n=Pn(n,r,i,s,t[o+5],5,-701558691),s=Pn(s,n,r,i,t[o+10],9,38016083),i=Pn(i,s,n,r,t[o+15],14,-660478335),r=Pn(r,i,s,n,t[o+4],20,-405537848),n=Pn(n,r,i,s,t[o+9],5,568446438),s=Pn(s,n,r,i,t[o+14],9,-1019803690),i=Pn(i,s,n,r,t[o+3],14,-187363961),r=Pn(r,i,s,n,t[o+8],20,1163531501),n=Pn(n,r,i,s,t[o+13],5,-1444681467),s=Pn(s,n,r,i,t[o+2],9,-51403784),i=Pn(i,s,n,r,t[o+7],14,1735328473),r=Pn(r,i,s,n,t[o+12],20,-1926607734),n=Nn(n,r,i,s,t[o+5],4,-378558),s=Nn(s,n,r,i,t[o+8],11,-2022574463),i=Nn(i,s,n,r,t[o+11],16,1839030562),r=Nn(r,i,s,n,t[o+14],23,-35309556),n=Nn(n,r,i,s,t[o+1],4,-1530992060),s=Nn(s,n,r,i,t[o+4],11,1272893353),i=Nn(i,s,n,r,t[o+7],16,-155497632),r=Nn(r,i,s,n,t[o+10],23,-1094730640),n=Nn(n,r,i,s,t[o+13],4,681279174),s=Nn(s,n,r,i,t[o],11,-358537222),i=Nn(i,s,n,r,t[o+3],16,-722521979),r=Nn(r,i,s,n,t[o+6],23,76029189),n=Nn(n,r,i,s,t[o+9],4,-640364487),s=Nn(s,n,r,i,t[o+12],11,-421815835),i=Nn(i,s,n,r,t[o+15],16,530742520),r=Nn(r,i,s,n,t[o+2],23,-995338651),n=Mn(n,r,i,s,t[o],6,-198630844),s=Mn(s,n,r,i,t[o+7],10,1126891415),i=Mn(i,s,n,r,t[o+14],15,-1416354905),r=Mn(r,i,s,n,t[o+5],21,-57434055),n=Mn(n,r,i,s,t[o+12],6,1700485571),s=Mn(s,n,r,i,t[o+3],10,-1894986606),i=Mn(i,s,n,r,t[o+10],15,-1051523),r=Mn(r,i,s,n,t[o+1],21,-2054922799),n=Mn(n,r,i,s,t[o+8],6,1873313359),s=Mn(s,n,r,i,t[o+15],10,-30611744),i=Mn(i,s,n,r,t[o+6],15,-1560198380),r=Mn(r,i,s,n,t[o+13],21,1309151649),n=Mn(n,r,i,s,t[o+4],6,-145523070),s=Mn(s,n,r,i,t[o+11],10,-1120210379),i=Mn(i,s,n,r,t[o+2],15,718787259),r=Mn(r,i,s,n,t[o+9],21,-343485551),n=Es(n,a),r=Es(r,l),i=Es(i,u),s=Es(s,c)}return[n,r,i,s]}function qV(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(iR(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Es(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function KV(t,e){return t<<e|t>>>32-e}function ap(t,e,n,r,i,s){return Es(KV(Es(Es(e,t),Es(r,s)),i),n)}function Cn(t,e,n,r,i,s,o){return ap(e&n|~e&r,t,e,i,s,o)}function Pn(t,e,n,r,i,s,o){return ap(e&r|n&~r,t,e,i,s,o)}function Nn(t,e,n,r,i,s,o){return ap(e^n^r,t,e,i,s,o)}function Mn(t,e,n,r,i,s,o){return ap(n^(e|~r),t,e,i,s,o)}var WV=rR("v3",48,$V);const HV=WV;function GV(t,e,n){t=t||{};var r=t.random||(t.rng||tR)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return op(r)}function QV(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Wg(t,e){return t<<e|t>>>32-e}function YV(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];a[l]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var v=new Uint32Array(80),_=0;_<16;++_)v[_]=a[f][_];for(var x=16;x<80;++x)v[x]=Wg(v[x-3]^v[x-8]^v[x-14]^v[x-16],1);for(var I=n[0],b=n[1],w=n[2],E=n[3],m=n[4],M=0;M<80;++M){var N=Math.floor(M/20),O=Wg(I,5)+QV(N,b,w,E)+m+e[N]+v[M]>>>0;m=E,E=w,w=Wg(b,30)>>>0,b=I,I=O}n[0]=n[0]+I>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+w>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+m>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var XV=rR("v5",80,YV);const JV=XV,ZV="00000000-0000-0000-0000-000000000000";function e9(t){if(!sp(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const t9=Object.freeze(Object.defineProperty({__proto__:null,NIL:ZV,parse:nR,stringify:op,v1:OV,v3:HV,v4:GV,v5:JV,validate:sp,version:e9},Symbol.toStringTag,{value:"Module"})),sR=ay(t9),n9=sR.v4,r9=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return n9()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var i9=r9;const s9=sR.v4,o9=i9,nc=function(t,e){if(!(this instanceof nc))return new nc(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return s9()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var a9=nc;nc.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=o9(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(u)return r(c);throw c}if(!u)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,function(u,c){i._parseResponse(u,c,r)}),s};nc.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const l9=Bo(a9);var oR={},aR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(aR);var lR=aR.exports,Hg={exports:{}},Gg={exports:{}},hS;function Bc(){return hS||(hS=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Gg)),Gg.exports}var dS;function u9(){return dS||(dS=1,function(t){var e=Bc().default;function n(){t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(A,C,S){A[C]=S.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function v(A,C,S){return Object.defineProperty(A,C,{value:S,enumerable:!0,configurable:!0,writable:!0}),A[C]}try{v({},"")}catch{v=function(S,d,P){return S[d]=P}}function _(A,C,S,d){var P=C&&C.prototype instanceof M?C:M,W=Object.create(P.prototype),Q=new B(d||[]);return a(W,"_invoke",{value:U(A,S,Q)}),W}function x(A,C,S){try{return{type:"normal",arg:A.call(C,S)}}catch(d){return{type:"throw",arg:d}}}i.wrap=_;var I="suspendedStart",b="suspendedYield",w="executing",E="completed",m={};function M(){}function N(){}function O(){}var F={};v(F,u,function(){return this});var V=Object.getPrototypeOf,J=V&&V(V(T([])));J&&J!==s&&o.call(J,u)&&(F=J);var Z=O.prototype=M.prototype=Object.create(F);function re(A){["next","throw","return"].forEach(function(C){v(A,C,function(S){return this._invoke(C,S)})})}function _e(A,C){function S(P,W,Q,Y){var ae=x(A[P],A,W);if(ae.type!=="throw"){var fe=ae.arg,pe=fe.value;return pe&&e(pe)=="object"&&o.call(pe,"__await")?C.resolve(pe.__await).then(function(qe){S("next",qe,Q,Y)},function(qe){S("throw",qe,Q,Y)}):C.resolve(pe).then(function(qe){fe.value=qe,Q(fe)},function(qe){return S("throw",qe,Q,Y)})}Y(ae.arg)}var d;a(this,"_invoke",{value:function(W,Q){function Y(){return new C(function(ae,fe){S(W,Q,ae,fe)})}return d=d?d.then(Y,Y):Y()}})}function U(A,C,S){var d=I;return function(P,W){if(d===w)throw new Error("Generator is already running");if(d===E){if(P==="throw")throw W;return{value:r,done:!0}}for(S.method=P,S.arg=W;;){var Q=S.delegate;if(Q){var Y=h(Q,S);if(Y){if(Y===m)continue;return Y}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(d===I)throw d=E,S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);d=w;var ae=x(A,C,S);if(ae.type==="normal"){if(d=S.done?E:b,ae.arg===m)continue;return{value:ae.arg,done:S.done}}ae.type==="throw"&&(d=E,S.method="throw",S.arg=ae.arg)}}}function h(A,C){var S=C.method,d=A.iterator[S];if(d===r)return C.delegate=null,S==="throw"&&A.iterator.return&&(C.method="return",C.arg=r,h(A,C),C.method==="throw")||S!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+S+"' method")),m;var P=x(d,A.iterator,C.arg);if(P.type==="throw")return C.method="throw",C.arg=P.arg,C.delegate=null,m;var W=P.arg;return W?W.done?(C[A.resultName]=W.value,C.next=A.nextLoc,C.method!=="return"&&(C.method="next",C.arg=r),C.delegate=null,m):W:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,m)}function y(A){var C={tryLoc:A[0]};1 in A&&(C.catchLoc=A[1]),2 in A&&(C.finallyLoc=A[2],C.afterLoc=A[3]),this.tryEntries.push(C)}function R(A){var C=A.completion||{};C.type="normal",delete C.arg,A.completion=C}function B(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(y,this),this.reset(!0)}function T(A){if(A||A===""){var C=A[u];if(C)return C.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var S=-1,d=function P(){for(;++S<A.length;)if(o.call(A,S))return P.value=A[S],P.done=!1,P;return P.value=r,P.done=!0,P};return d.next=d}}throw new TypeError(e(A)+" is not iterable")}return N.prototype=O,a(Z,"constructor",{value:O,configurable:!0}),a(O,"constructor",{value:N,configurable:!0}),N.displayName=v(O,f,"GeneratorFunction"),i.isGeneratorFunction=function(A){var C=typeof A=="function"&&A.constructor;return!!C&&(C===N||(C.displayName||C.name)==="GeneratorFunction")},i.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,O):(A.__proto__=O,v(A,f,"GeneratorFunction")),A.prototype=Object.create(Z),A},i.awrap=function(A){return{__await:A}},re(_e.prototype),v(_e.prototype,c,function(){return this}),i.AsyncIterator=_e,i.async=function(A,C,S,d,P){P===void 0&&(P=Promise);var W=new _e(_(A,C,S,d),P);return i.isGeneratorFunction(C)?W:W.next().then(function(Q){return Q.done?Q.value:W.next()})},re(Z),v(Z,f,"Generator"),v(Z,u,function(){return this}),v(Z,"toString",function(){return"[object Generator]"}),i.keys=function(A){var C=Object(A),S=[];for(var d in C)S.push(d);return S.reverse(),function P(){for(;S.length;){var W=S.pop();if(W in C)return P.value=W,P.done=!1,P}return P.done=!0,P}},i.values=T,B.prototype={constructor:B,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(R),!C)for(var S in this)S.charAt(0)==="t"&&o.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=r)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var S=this;function d(fe,pe){return Q.type="throw",Q.arg=C,S.next=fe,pe&&(S.method="next",S.arg=r),!!pe}for(var P=this.tryEntries.length-1;P>=0;--P){var W=this.tryEntries[P],Q=W.completion;if(W.tryLoc==="root")return d("end");if(W.tryLoc<=this.prev){var Y=o.call(W,"catchLoc"),ae=o.call(W,"finallyLoc");if(Y&&ae){if(this.prev<W.catchLoc)return d(W.catchLoc,!0);if(this.prev<W.finallyLoc)return d(W.finallyLoc)}else if(Y){if(this.prev<W.catchLoc)return d(W.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return d(W.finallyLoc)}}}},abrupt:function(C,S){for(var d=this.tryEntries.length-1;d>=0;--d){var P=this.tryEntries[d];if(P.tryLoc<=this.prev&&o.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var W=P;break}}W&&(C==="break"||C==="continue")&&W.tryLoc<=S&&S<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=C,Q.arg=S,W?(this.method="next",this.next=W.finallyLoc,m):this.complete(Q)},complete:function(C,S){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&S&&(this.next=S),m},finish:function(C){for(var S=this.tryEntries.length-1;S>=0;--S){var d=this.tryEntries[S];if(d.finallyLoc===C)return this.complete(d.completion,d.afterLoc),R(d),m}},catch:function(C){for(var S=this.tryEntries.length-1;S>=0;--S){var d=this.tryEntries[S];if(d.tryLoc===C){var P=d.completion;if(P.type==="throw"){var W=P.arg;R(d)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(C,S,d){return this.delegate={iterator:T(C),resultName:S,nextLoc:d},this.method==="next"&&(this.arg=r),m}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Hg)),Hg.exports}var Qg,fS;function c9(){if(fS)return Qg;fS=1;var t=u9()();Qg=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return Qg}var Yg={exports:{}},pS;function h9(){return pS||(pS=1,function(t){function e(r,i,s,o,a,l,u){try{var c=r[l](u),f=c.value}catch(v){s(v);return}c.done?i(f):Promise.resolve(f).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var l=r.apply(i,s);function u(f){e(l,o,a,u,c,"next",f)}function c(f){e(l,o,a,u,c,"throw",f)}u(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Yg)),Yg.exports}var Xg={exports:{}},gS;function uR(){return gS||(gS=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Xg)),Xg.exports}var Jg={exports:{}},Zg={exports:{}},em={exports:{}},mS;function d9(){return mS||(mS=1,function(t){var e=Bc().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(em)),em.exports}var yS;function f9(){return yS||(yS=1,function(t){var e=Bc().default,n=d9();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Zg)),Zg.exports}var vS;function cR(){return vS||(vS=1,function(t){var e=f9();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Jg)),Jg.exports}var tm={exports:{}},nm={exports:{}},_S;function p9(){return _S||(_S=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(nm)),nm.exports}var wS;function hR(){return wS||(wS=1,function(t){var e=p9();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(tm)),tm.exports}var rm={exports:{}},im={exports:{}},ES;function g9(){return ES||(ES=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(im)),im.exports}var SS;function dR(){return SS||(SS=1,function(t){var e=Bc().default,n=g9();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(rm)),rm.exports}var sm={exports:{}},IS;function fR(){return IS||(IS=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(sm)),sm.exports}var om={exports:{}},bS;function pR(){return bS||(bS=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,f,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var _=new i(c,f||l,v),x=n?n+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],_]:l._events[x].push(_):(l._events[x]=_,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var v=0,_=f.length,x=new Array(_);v<_;v++)x[v]=f[v].fn;return x},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,v,_,x){var I=n?n+u:u;if(!this._events[I])return!1;var b=this._events[I],w=arguments.length,E,m;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,v),!0;case 5:return b.fn.call(b.context,c,f,v,_),!0;case 6:return b.fn.call(b.context,c,f,v,_,x),!0}for(m=1,E=new Array(w-1);m<w;m++)E[m-1]=arguments[m];b.fn.apply(b.context,E)}else{var M=b.length,N;for(m=0;m<M;m++)switch(b[m].once&&this.removeListener(u,b[m].fn,void 0,!0),w){case 1:b[m].fn.call(b[m].context);break;case 2:b[m].fn.call(b[m].context,c);break;case 3:b[m].fn.call(b[m].context,c,f);break;case 4:b[m].fn.call(b[m].context,c,f,v);break;default:if(!E)for(N=1,E=new Array(w-1);N<w;N++)E[N-1]=arguments[N];b[m].fn.apply(b[m].context,E)}}return!0},a.prototype.on=function(u,c,f){return s(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return s(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,v){var _=n?n+u:u;if(!this._events[_])return this;if(!c)return o(this,_),this;var x=this._events[_];if(x.fn)x.fn===c&&(!v||x.once)&&(!f||x.context===f)&&o(this,_);else{for(var I=0,b=[],w=x.length;I<w;I++)(x[I].fn!==c||v&&!x[I].once||f&&x[I].context!==f)&&b.push(x[I]);b.length?this._events[_]=b.length===1?b[0]:b:o(this,_)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(om)),om.exports}(function(t){var e=lR;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(c9()),r=e(h9()),i=e(Bc()),s=e(uR()),o=e(cR()),a=e(hR()),l=e(dR()),u=e(fR()),c=pR();function f(I){var b=v();return function(){var E=(0,u.default)(I),m;if(b){var M=(0,u.default)(this).constructor;m=Reflect.construct(E,arguments,M)}else m=E.apply(this,arguments);return(0,l.default)(this,m)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _=function(I,b){var w={};for(var E in I)Object.prototype.hasOwnProperty.call(I,E)&&b.indexOf(E)<0&&(w[E]=I[E]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,E=Object.getOwnPropertySymbols(I);m<E.length;m++)b.indexOf(E[m])<0&&Object.prototype.propertyIsEnumerable.call(I,E[m])&&(w[E[m]]=I[E[m]]);return w},x=function(I){(0,a.default)(w,I);var b=f(w);function w(E){var m,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,w);var F=N.autoconnect,V=F===void 0?!0:F,J=N.reconnect,Z=J===void 0?!0:J,re=N.reconnect_interval,_e=re===void 0?1e3:re,U=N.max_reconnects,h=U===void 0?5:U,y=_(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return m=b.call(this),m.webSocketFactory=E,m.queue={},m.rpc_id=0,m.address=M,m.autoconnect=V,m.ready=!1,m.reconnect=Z,m.reconnect_timer_id=void 0,m.reconnect_interval=_e,m.max_reconnects=h,m.rest_options=y,m.current_reconnects=0,m.generate_request_id=O||function(){return++m.rpc_id},m.autoconnect&&m._connect(m.address,Object.assign({autoconnect:m.autoconnect,reconnect:m.reconnect,reconnect_interval:m.reconnect_interval,max_reconnects:m.max_reconnects},m.rest_options)),m}return(0,o.default)(w,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(m,M,N,O){var F=this;return!O&&(0,i.default)(N)==="object"&&(O=N,N=null),new Promise(function(V,J){if(!F.ready)return J(new Error("socket not ready"));var Z=F.generate_request_id(m,M),re={jsonrpc:"2.0",method:m,params:M||null,id:Z};F.socket.send(JSON.stringify(re),O,function(_e){if(_e)return J(_e);F.queue[Z]={promise:[V,J]},N&&(F.queue[Z].timeout=setTimeout(function(){delete F.queue[Z],J(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var E=(0,r.default)(n.default.mark(function M(N){var O;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,this.call("rpc.login",N);case 2:if(O=V.sent,O){V.next=5;break}throw new Error("authentication failed");case 5:return V.abrupt("return",O);case 6:case"end":return V.stop()}},M,this)}));function m(M){return E.apply(this,arguments)}return m}()},{key:"listMethods",value:function(){var E=(0,r.default)(n.default.mark(function M(){return n.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.call("__listMethods");case 2:return O.abrupt("return",O.sent);case 3:case"end":return O.stop()}},M,this)}));function m(){return E.apply(this,arguments)}return m}()},{key:"notify",value:function(m,M){var N=this;return new Promise(function(O,F){if(!N.ready)return F(new Error("socket not ready"));var V={jsonrpc:"2.0",method:m,params:M||null};N.socket.send(JSON.stringify(V),function(J){if(J)return F(J);O()})})}},{key:"subscribe",value:function(){var E=(0,r.default)(n.default.mark(function M(N){var O;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.on",N);case 3:if(O=V.sent,!(typeof N=="string"&&O[N]!=="ok")){V.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+O[N]);case 6:return V.abrupt("return",O);case 7:case"end":return V.stop()}},M,this)}));function m(M){return E.apply(this,arguments)}return m}()},{key:"unsubscribe",value:function(){var E=(0,r.default)(n.default.mark(function M(N){var O;return n.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return typeof N=="string"&&(N=[N]),V.next=3,this.call("rpc.off",N);case 3:if(O=V.sent,!(typeof N=="string"&&O[N]!=="ok")){V.next=6;break}throw new Error("Failed unsubscribing from an event with: "+O);case 6:return V.abrupt("return",O);case 7:case"end":return V.stop()}},M,this)}));function m(M){return E.apply(this,arguments)}return m}()},{key:"close",value:function(m,M){this.socket.close(m||1e3,M)}},{key:"_connect",value:function(m,M){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(m,M),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(O){var F=O.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&N.listeners(F.notification).length){if(!Object.keys(F.params).length)return N.emit(F.notification);var V=[F.notification];if(F.params.constructor===Object)V.push(F.params);else for(var J=0;J<F.params.length;J++)V.push(F.params[J]);return Promise.resolve().then(function(){N.emit.apply(N,V)})}if(!N.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){N.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&N.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[F.id].timeout&&clearTimeout(N.queue[F.id].timeout),F.error?N.queue[F.id].promise[1](F.error):N.queue[F.id].promise[0](F.result),delete N.queue[F.id]}),this.socket.addEventListener("error",function(O){return N.emit("error",O)}),this.socket.addEventListener("close",function(O){var F=O.code,V=O.reason;N.ready&&setTimeout(function(){return N.emit("close",F,V)},0),N.ready=!1,N.socket=void 0,F!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(m,M)},N.reconnect_interval)))})}}]),w}(c.EventEmitter);t.default=x})(oR);const m9=Bo(oR);var gR={};(function(t){var e=lR;Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var n=e(uR()),r=e(cR()),i=e(hR()),s=e(dR()),o=e(fR()),a=pR();function l(v){var _=u();return function(){var I=(0,o.default)(v),b;if(_){var w=(0,o.default)(this).constructor;b=Reflect.construct(I,arguments,w)}else b=I.apply(this,arguments);return(0,s.default)(this,b)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var c=function(v){(0,i.default)(x,v);var _=l(x);function x(I,b,w){var E;return(0,n.default)(this,x),E=_.call(this),E.socket=new window.WebSocket(I,w),E.socket.onopen=function(){return E.emit("open")},E.socket.onmessage=function(m){return E.emit("message",m.data)},E.socket.onerror=function(m){return E.emit("error",m)},E.socket.onclose=function(m){E.emit("close",m.code,m.reason)},E}return(0,r.default)(x,[{key:"send",value:function(b,w,E){var m=E||w;try{this.socket.send(b),m()}catch(M){m(M)}}},{key:"close",value:function(b,w){this.socket.close(b,w)}},{key:"addEventListener",value:function(b,w,E){this.socket.addEventListener(b,w,E)}}]),x}(a.EventEmitter);function f(v,_){return new c(v,_)}})(gR);const y9=Bo(gR);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function v9(t){const e=C_(t);Sl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:_9,hexToBytes:w9}=m8,uo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=uo;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:_9(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=uo,n=typeof t=="string"?w9(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=uo._parseInt(n.subarray(2)),{d:o,l:a}=uo._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},Mi=BigInt(0),xr=BigInt(1);BigInt(2);const xS=BigInt(3);BigInt(4);function E9(t){const e=v9(t),{Fp:n}=e,r=e.toBytes||((x,I,b)=>{const w=I.toAffine();return Lo(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),i=e.fromBytes||(x=>{const I=x.subarray(1),b=n.fromBytes(I.subarray(0,n.BYTES)),w=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:b,y:w}});function s(x){const{a:I,b}=e,w=n.sqr(x),E=n.mul(w,x);return n.add(n.add(E,n.mul(x,I)),b)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(x){return typeof x=="bigint"&&Mi<x&&x<e.n}function a(x){if(!o(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(x){const{allowedPrivateKeyLengths:I,nByteLength:b,wrapPrivateKey:w,n:E}=e;if(I&&typeof x!="bigint"){if(x instanceof Uint8Array&&(x=Mo(x)),typeof x!="string"||!I.includes(x.length))throw new Error("Invalid key");x=x.padStart(b*2,"0")}let m;try{m=typeof x=="bigint"?x:vo(nn("private key",x,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof x}`)}return w&&(m=pt(m,E)),a(m),m}const u=new Map;function c(x){if(!(x instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(I,b,w){if(this.px=I,this.py=b,this.pz=w,I==null||!n.isValid(I))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(I){const{x:b,y:w}=I||{};if(!I||!n.isValid(b)||!n.isValid(w))throw new Error("invalid affine point");if(I instanceof f)throw new Error("projective point not allowed");const E=m=>n.eql(m,n.ZERO);return E(b)&&E(w)?f.ZERO:new f(b,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const b=n.invertBatch(I.map(w=>w.pz));return I.map((w,E)=>w.toAffine(b[E])).map(f.fromAffine)}static fromHex(I){const b=f.fromAffine(i(nn("pointHex",I)));return b.assertValidity(),b}static fromPrivateKey(I){return f.BASE.multiply(l(I))}_setWindowSize(I){this._WINDOW_SIZE=I,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:I,y:b}=this.toAffine();if(!n.isValid(I)||!n.isValid(b))throw new Error("bad point: x or y not FE");const w=n.sqr(b),E=s(I);if(!n.eql(w,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:I}=this.toAffine();if(n.isOdd)return!n.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){c(I);const{px:b,py:w,pz:E}=this,{px:m,py:M,pz:N}=I,O=n.eql(n.mul(b,N),n.mul(m,E)),F=n.eql(n.mul(w,N),n.mul(M,E));return O&&F}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:I,b}=e,w=n.mul(b,xS),{px:E,py:m,pz:M}=this;let N=n.ZERO,O=n.ZERO,F=n.ZERO,V=n.mul(E,E),J=n.mul(m,m),Z=n.mul(M,M),re=n.mul(E,m);return re=n.add(re,re),F=n.mul(E,M),F=n.add(F,F),N=n.mul(I,F),O=n.mul(w,Z),O=n.add(N,O),N=n.sub(J,O),O=n.add(J,O),O=n.mul(N,O),N=n.mul(re,N),F=n.mul(w,F),Z=n.mul(I,Z),re=n.sub(V,Z),re=n.mul(I,re),re=n.add(re,F),F=n.add(V,V),V=n.add(F,V),V=n.add(V,Z),V=n.mul(V,re),O=n.add(O,V),Z=n.mul(m,M),Z=n.add(Z,Z),V=n.mul(Z,re),N=n.sub(N,V),F=n.mul(Z,J),F=n.add(F,F),F=n.add(F,F),new f(N,O,F)}add(I){c(I);const{px:b,py:w,pz:E}=this,{px:m,py:M,pz:N}=I;let O=n.ZERO,F=n.ZERO,V=n.ZERO;const J=e.a,Z=n.mul(e.b,xS);let re=n.mul(b,m),_e=n.mul(w,M),U=n.mul(E,N),h=n.add(b,w),y=n.add(m,M);h=n.mul(h,y),y=n.add(re,_e),h=n.sub(h,y),y=n.add(b,E);let R=n.add(m,N);return y=n.mul(y,R),R=n.add(re,U),y=n.sub(y,R),R=n.add(w,E),O=n.add(M,N),R=n.mul(R,O),O=n.add(_e,U),R=n.sub(R,O),V=n.mul(J,y),O=n.mul(Z,U),V=n.add(O,V),O=n.sub(_e,V),V=n.add(_e,V),F=n.mul(O,V),_e=n.add(re,re),_e=n.add(_e,re),U=n.mul(J,U),y=n.mul(Z,y),_e=n.add(_e,U),U=n.sub(re,U),U=n.mul(J,U),y=n.add(y,U),re=n.mul(_e,y),F=n.add(F,re),re=n.mul(R,y),O=n.mul(h,O),O=n.sub(O,re),re=n.mul(h,_e),V=n.mul(R,V),V=n.add(V,re),new f(O,F,V)}subtract(I){return this.add(I.negate())}is0(){return this.equals(f.ZERO)}wNAF(I){return _.wNAFCached(this,u,I,b=>{const w=n.invertBatch(b.map(E=>E.pz));return b.map((E,m)=>E.toAffine(w[m])).map(f.fromAffine)})}multiplyUnsafe(I){const b=f.ZERO;if(I===Mi)return b;if(a(I),I===xr)return this;const{endo:w}=e;if(!w)return _.unsafeLadder(this,I);let{k1neg:E,k1:m,k2neg:M,k2:N}=w.splitScalar(I),O=b,F=b,V=this;for(;m>Mi||N>Mi;)m&xr&&(O=O.add(V)),N&xr&&(F=F.add(V)),V=V.double(),m>>=xr,N>>=xr;return E&&(O=O.negate()),M&&(F=F.negate()),F=new f(n.mul(F.px,w.beta),F.py,F.pz),O.add(F)}multiply(I){a(I);let b=I,w,E;const{endo:m}=e;if(m){const{k1neg:M,k1:N,k2neg:O,k2:F}=m.splitScalar(b);let{p:V,f:J}=this.wNAF(N),{p:Z,f:re}=this.wNAF(F);V=_.constTimeNegate(M,V),Z=_.constTimeNegate(O,Z),Z=new f(n.mul(Z.px,m.beta),Z.py,Z.pz),w=V.add(Z),E=J.add(re)}else{const{p:M,f:N}=this.wNAF(b);w=M,E=N}return f.normalizeZ([w,E])[0]}multiplyAndAddUnsafe(I,b,w){const E=f.BASE,m=(N,O)=>O===Mi||O===xr||!N.equals(E)?N.multiplyUnsafe(O):N.multiply(O),M=m(this,b).add(m(I,w));return M.is0()?void 0:M}toAffine(I){const{px:b,py:w,pz:E}=this,m=this.is0();I==null&&(I=m?n.ONE:n.inv(E));const M=n.mul(b,I),N=n.mul(w,I),O=n.mul(E,I);if(m)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:M,y:N}}isTorsionFree(){const{h:I,isTorsionFree:b}=e;if(I===xr)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:b}=e;return I===xr?this:b?b(f,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return this.assertValidity(),r(f,this,I)}toHex(I=!0){return Mo(this.toRawBytes(I))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const v=e.nBitLength,_=bk(f,e.endo?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function S9(t){const e=C_(t);return Sl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function I9(t){const e=S9(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(y){return Mi<y&&y<n.ORDER}function a(y){return pt(y,r)}function l(y){return Q0(y,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:v}=E9({...e,toBytes(y,R,B){const T=R.toAffine(),A=n.toBytes(T.x),C=Lo;return B?C(Uint8Array.from([R.hasEvenY()?2:3]),A):C(Uint8Array.from([4]),A,n.toBytes(T.y))},fromBytes(y){const R=y.length,B=y[0],T=y.subarray(1);if(R===i&&(B===2||B===3)){const A=vo(T);if(!o(A))throw new Error("Point is not on curve");const C=f(A);let S=n.sqrt(C);const d=(S&xr)===xr;return(B&1)===1!==d&&(S=n.neg(S)),{x:A,y:S}}else if(R===s&&B===4){const A=n.fromBytes(T.subarray(0,n.BYTES)),C=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:A,y:C}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),_=y=>Mo(rl(y,e.nByteLength));function x(y){const R=r>>xr;return y>R}function I(y){return x(y)?a(-y):y}const b=(y,R,B)=>vo(y.slice(R,B));class w{constructor(R,B,T){this.r=R,this.s=B,this.recovery=T,this.assertValidity()}static fromCompact(R){const B=e.nByteLength;return R=nn("compactSignature",R,B*2),new w(b(R,0,B),b(R,B,2*B))}static fromDER(R){const{r:B,s:T}=uo.toSig(nn("DER",R));return new w(B,T)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new w(this.r,this.s,R)}recoverPublicKey(R){const{r:B,s:T,recovery:A}=this,C=F(nn("msgHash",R));if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");const S=A===2||A===3?B+e.n:B;if(S>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=A&1?"03":"02",P=u.fromHex(d+_(S)),W=l(S),Q=a(-C*W),Y=a(T*W),ae=u.BASE.multiplyAndAddUnsafe(P,Q,Y);if(!ae)throw new Error("point at infinify");return ae.assertValidity(),ae}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return nl(this.toDERHex())}toDERHex(){return uo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return nl(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const E={isValidPrivateKey(y){try{return c(y),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const y=Ik(e.n);return T8(e.randomBytes(y),e.n)},precompute(y=8,R=u.BASE){return R._setWindowSize(y),R.multiply(BigInt(3)),R}};function m(y,R=!0){return u.fromPrivateKey(y).toRawBytes(R)}function M(y){const R=y instanceof Uint8Array,B=typeof y=="string",T=(R||B)&&y.length;return R?T===i||T===s:B?T===2*i||T===2*s:y instanceof u}function N(y,R,B=!0){if(M(y))throw new Error("first arg must be private key");if(!M(R))throw new Error("second arg must be public key");return u.fromHex(R).multiply(c(y)).toRawBytes(B)}const O=e.bits2int||function(y){const R=vo(y),B=y.length*8-e.nBitLength;return B>0?R>>BigInt(B):R},F=e.bits2int_modN||function(y){return a(O(y))},V=R_(e.nBitLength);function J(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(Mi<=y&&y<V))throw new Error(`bigint expected < 2^${e.nBitLength}`);return rl(y,e.nByteLength)}function Z(y,R,B=re){if(["recovered","canonical"].some(pe=>pe in B))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:A}=e;let{lowS:C,prehash:S,extraEntropy:d}=B;C==null&&(C=!0),y=nn("msgHash",y),S&&(y=nn("prehashed msgHash",T(y)));const P=F(y),W=c(R),Q=[J(W),J(P)];if(d!=null){const pe=d===!0?A(n.BYTES):d;Q.push(nn("extraEntropy",pe))}const Y=Lo(...Q),ae=P;function fe(pe){const qe=O(pe);if(!v(qe))return;const Ne=l(qe),Be=u.BASE.multiply(qe).toAffine(),Ke=a(Be.x);if(Ke===Mi)return;const De=a(Ne*a(ae+Ke*W));if(De===Mi)return;let Ge=(Be.x===Ke?0:2)|Number(Be.y&xr),ei=De;return C&&x(De)&&(ei=I(De),Ge^=1),new w(Ke,ei,Ge)}return{seed:Y,k2sig:fe}}const re={lowS:e.lowS,prehash:!1},_e={lowS:e.lowS,prehash:!1};function U(y,R,B=re){const{seed:T,k2sig:A}=Z(y,R,B),C=e;return _k(C.hash.outputLen,C.nByteLength,C.hmac)(T,A)}u.BASE._setWindowSize(8);function h(y,R,B,T=_e){var Be;const A=y;if(R=nn("msgHash",R),B=nn("publicKey",B),"strict"in T)throw new Error("options.strict was renamed to lowS");const{lowS:C,prehash:S}=T;let d,P;try{if(typeof A=="string"||A instanceof Uint8Array)try{d=w.fromDER(A)}catch(Ke){if(!(Ke instanceof uo.Err))throw Ke;d=w.fromCompact(A)}else if(typeof A=="object"&&typeof A.r=="bigint"&&typeof A.s=="bigint"){const{r:Ke,s:De}=A;d=new w(Ke,De)}else throw new Error("PARSE");P=u.fromHex(B)}catch(Ke){if(Ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&d.hasHighS())return!1;S&&(R=e.hash(R));const{r:W,s:Q}=d,Y=F(R),ae=l(Q),fe=a(Y*ae),pe=a(W*ae),qe=(Be=u.BASE.multiplyAndAddUnsafe(P,fe,pe))==null?void 0:Be.toAffine();return qe?a(qe.x)===W:!1}return{CURVE:e,getPublicKey:m,getSharedSecret:N,sign:U,verify:h,ProjectivePoint:u,Signature:w,utils:E}}class mR extends hk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,NF(e);const r=T_(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ud(this),this.iHash.update(e),this}digestInto(e){Ud(this),ak(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yR=(t,e,n)=>new mR(t,e).update(n).digest();yR.create=(t,e)=>new mR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function b9(t){return{hash:t,hmac:(e,...n)=>yR(t,e,ck(...n)),randomBytes:fk}}function x9(t,e){const n=r=>I9({...t,...b9(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vR=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),AS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),A9=BigInt(1),ey=BigInt(2),TS=(t,e)=>(t+e/ey)/e;function T9(t){const e=vR,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,f=It(c,n,e)*c%e,v=It(f,n,e)*c%e,_=It(v,ey,e)*u%e,x=It(_,i,e)*_%e,I=It(x,s,e)*x%e,b=It(I,a,e)*I%e,w=It(b,l,e)*b%e,E=It(w,a,e)*I%e,m=It(E,n,e)*c%e,M=It(m,o,e)*x%e,N=It(M,r,e)*u%e,O=It(N,ey,e);if(!ty.eql(ty.sqr(O),t))throw new Error("Cannot find square root");return O}const ty=Ek(vR,void 0,void 0,{sqrt:T9}),H_=x9({a:BigInt(0),b:BigInt(7),Fp:ty,n:AS,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=AS,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-A9*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=TS(s*t,e),l=TS(-r*t,e);let u=pt(t-a*n-l*i,e),c=pt(-a*r-l*s,e);const f=u>o,v=c>o;if(f&&(u=e-u),v&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:v,k2:c}}}},J0);BigInt(0);H_.ProjectivePoint;Il.utils.randomPrivateKey;const kS=()=>{const t=Il.utils.randomPrivateKey(),e=ny(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},ny=Il.getPublicKey;function RS(t){try{return Il.ExtendedPoint.fromHex(t),!0}catch{return!1}}const k9=(t,e)=>Il.sign(t,e.slice(0,32)),R9=Il.verify,gn=t=>Te.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Te.Buffer.from(t);class C9{constructor(e){Object.assign(this,e)}encode(){return Te.Buffer.from(Lk(Fh,this))}static decode(e){return Bk(Fh,this,e)}static decodeUnchecked(e){return Rk(Fh,this,e)}}const Fh=new Map;var _R;let wR;const P9=32,di=32;function N9(t){return t._bn!==void 0}let CS=1;wR=Symbol.toStringTag;class Ee extends C9{constructor(e){if(super({}),this._bn=void 0,N9(e))this._bn=e._bn;else{if(typeof e=="string"){const n=_n.decode(e);if(n.length!=di)throw new Error("Invalid public key input");this._bn=new lS(n)}else this._bn=new lS(e);if(this._bn.byteLength()>di)throw new Error("Invalid public key input")}}static unique(){const e=new Ee(CS);return CS+=1,new Ee(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return _n.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Te.Buffer);if(e.length===di)return e;const n=Te.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[wR](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Te.Buffer.concat([e.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),s=J0(i);return new Ee(s)}static createProgramAddressSync(e,n){let r=Te.Buffer.alloc(0);e.forEach(function(s){if(s.length>P9)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,gn(s)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=J0(r);if(RS(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Ee(e);return RS(n.toBytes())}}_R=Ee;Ee.default=new _R("11111111111111111111111111111111");Fh.set(Ee,{kind:"struct",fields:[["_bn","u256"]]});new Ee("BPFLoader1111111111111111111111111111111111");const Da=1280-40-8,ER=127,ry=64;class SR extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(SR.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class IR extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(IR.prototype,"name",{value:"TransactionExpiredTimeoutError"});class eu extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(eu.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class qd{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Oe=(t="publicKey")=>bt(32,t),Ea=(t="string")=>{const e=me([ve("length"),ve("lengthPadding"),bt(_o(ve(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:Te.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>ve().span+ve().span+Te.Buffer.from(s,"utf8").length,i},M9=(t="authorized")=>me([Oe("staker"),Oe("withdrawer")],t),L9=(t="lockup")=>me([dr("unixTimestamp"),dr("epoch"),Oe("custodian")],t),B9=(t="voteInit")=>me([Oe("nodePubkey"),Oe("authorizedVoter"),Oe("authorizedWithdrawer"),He("commission")],t),D9=(t="voteAuthorizeWithSeedArgs")=>me([ve("voteAuthorizationType"),Oe("currentAuthorityDerivedKeyOwnerPubkey"),Ea("currentAuthorityDerivedKeySeed"),Oe("newAuthorized")],t);function bR(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return bR({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Tr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function kr(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Yt(t,e){if(!t)throw new Error(e||"Assertion failed")}class lp{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new lp(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Yt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Yt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Yt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Ee(l)),...r.map(([l])=>new Ee(l)),...i.map(([l])=>new Ee(l)),...s.map(([l])=>new Ee(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new Ee(s),l=e.findIndex(u=>u.equals(a));l>=0&&(Yt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}class $s{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Ee(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:_n.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new qd(this.staticAccountKeys)}static compile(e){const n=lp.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new qd(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:_n.encode(a.data)}));return new $s({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];kr(n,e);const r=this.instructions.map(f=>{const{accounts:v,programIdIndex:_}=f,x=Array.from(_n.decode(f.data));let I=[];kr(I,v.length);let b=[];return kr(b,x.length),{programIdIndex:_,keyIndicesCount:Te.Buffer.from(I),keyIndices:v,dataLength:Te.Buffer.from(b),data:x}});let i=[];kr(i,r.length);let s=Te.Buffer.alloc(Da);Te.Buffer.from(i).copy(s);let o=i.length;r.forEach(f=>{const _=me([He("programIdIndex"),bt(f.keyIndicesCount.length,"keyIndicesCount"),Gn(He("keyIndex"),f.keyIndices.length,"keyIndices"),bt(f.dataLength.length,"dataLength"),Gn(He("userdatum"),f.data.length,"data")]).encode(f,s,o);o+=_}),s=s.slice(0,o);const a=me([bt(1,"numRequiredSignatures"),bt(1,"numReadonlySignedAccounts"),bt(1,"numReadonlyUnsignedAccounts"),bt(n.length,"keyCount"),Gn(Oe("key"),e,"keys"),Oe("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(f=>gn(f.toBytes())),recentBlockhash:_n.decode(this.recentBlockhash)};let u=Te.Buffer.alloc(2048);const c=a.encode(l,u);return s.copy(u,c),u.slice(0,c+s.length)}static from(e){let n=[...e];const r=n.shift();if(r!==(r&ER))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=n.shift(),s=n.shift(),o=Tr(n);let a=[];for(let v=0;v<o;v++){const _=n.slice(0,di);n=n.slice(di),a.push(new Ee(Te.Buffer.from(_)))}const l=n.slice(0,di);n=n.slice(di);const u=Tr(n);let c=[];for(let v=0;v<u;v++){const _=n.shift(),x=Tr(n),I=n.slice(0,x);n=n.slice(x);const b=Tr(n),w=n.slice(0,b),E=_n.encode(Te.Buffer.from(w));n=n.slice(b),c.push({programIdIndex:_,accounts:I,data:E})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:_n.encode(Te.Buffer.from(l)),accountKeys:a,instructions:c};return new $s(f)}}class Kd{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new qd(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=lp.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const c of s){const f=n.extractTableLookup(c);if(f!==void 0){const[v,{writable:_,readonly:x}]=f;r.push(v),i.writable.push(..._),i.readonly.push(...x)}}const[o,a]=n.getMessageComponents(),u=new qd(a,i).compileInstructions(e.instructions);return new Kd({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();kr(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();kr(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();kr(s,this.addressTableLookups.length);const o=me([He("prefix"),me([He("numRequiredSignatures"),He("numReadonlySignedAccounts"),He("numReadonlyUnsignedAccounts")],"header"),bt(e.length,"staticAccountKeysLength"),Gn(Oe(),this.staticAccountKeys.length,"staticAccountKeys"),Oe("recentBlockhash"),bt(r.length,"instructionsLength"),bt(n.length,"serializedInstructions"),bt(s.length,"addressTableLookupsLength"),bt(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Da),l=128,u=o.encode({prefix:l,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(c=>c.toBytes()),recentBlockhash:_n.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const n=new Uint8Array(Da);for(const r of this.compiledInstructions){const i=Array();kr(i,r.accountKeyIndexes.length);const s=Array();kr(s,r.data.length);const o=me([He("programIdIndex"),bt(i.length,"encodedAccountKeyIndexesLength"),Gn(He(),r.accountKeyIndexes.length,"accountKeyIndexes"),bt(s.length,"encodedDataLength"),bt(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Da);for(const r of this.addressTableLookups){const i=Array();kr(i,r.writableIndexes.length);const s=Array();kr(s,r.readonlyIndexes.length);const o=me([Oe("accountKey"),bt(i.length,"encodedWritableIndexesLength"),Gn(He(),r.writableIndexes.length,"writableIndexes"),bt(s.length,"encodedReadonlyIndexesLength"),Gn(He(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=n.shift(),i=r&ER;Yt(r!==i,"Expected versioned message but received legacy message");const s=i;Yt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:n.shift(),numReadonlySignedAccounts:n.shift(),numReadonlyUnsignedAccounts:n.shift()},a=[],l=Tr(n);for(let x=0;x<l;x++)a.push(new Ee(n.splice(0,di)));const u=_n.encode(n.splice(0,di)),c=Tr(n),f=[];for(let x=0;x<c;x++){const I=n.shift(),b=Tr(n),w=n.splice(0,b),E=Tr(n),m=new Uint8Array(n.splice(0,E));f.push({programIdIndex:I,accountKeyIndexes:w,data:m})}const v=Tr(n),_=[];for(let x=0;x<v;x++){const I=new Ee(n.splice(0,di)),b=Tr(n),w=n.splice(0,b),E=Tr(n),m=n.splice(0,E);_.push({accountKey:I,writableIndexes:w,readonlyIndexes:m})}return new Kd({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:_})}}let as=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const O9=Te.Buffer.alloc(ry).fill(0);class $r{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ai{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new $r(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let I=0;I<n.length;I++)if(n[I].programId===void 0)throw new Error(`Transaction instruction index ${I} has undefined program id`);const i=[],s=[];n.forEach(I=>{I.keys.forEach(w=>{s.push({...w})});const b=I.programId.toString();i.includes(b)||i.push(b)}),i.forEach(I=>{s.push({pubkey:new Ee(I),isSigner:!1,isWritable:!1})});const o=[];s.forEach(I=>{const b=I.pubkey.toString(),w=o.findIndex(E=>E.pubkey.toString()===b);w>-1?(o[w].isWritable=o[w].isWritable||I.isWritable,o[w].isSigner=o[w].isSigner||I.isSigner):o.push(I)}),o.sort(function(I,b){if(I.isSigner!==b.isSigner)return I.isSigner?-1:1;if(I.isWritable!==b.isWritable)return I.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return I.pubkey.toBase58().localeCompare(b.pubkey.toBase58(),"en",w)});const a=o.findIndex(I=>I.pubkey.equals(r));if(a>-1){const[I]=o.splice(a,1);I.isSigner=!0,I.isWritable=!0,o.unshift(I)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const I of this.signatures){const b=o.findIndex(w=>w.pubkey.equals(I.publicKey));if(b>-1)o[b].isSigner||(o[b].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${I.publicKey.toString()}`)}let l=0,u=0,c=0;const f=[],v=[];o.forEach(({pubkey:I,isSigner:b,isWritable:w})=>{b?(f.push(I.toString()),l+=1,w||(u+=1)):(v.push(I.toString()),w||(c+=1))});const _=f.concat(v),x=n.map(I=>{const{data:b,programId:w}=I;return{programIdIndex:_.indexOf(w.toString()),accounts:I.keys.map(E=>_.indexOf(E.pubkey.toString())),data:_n.encode(b)}});return x.forEach(I=>{Yt(I.programIdIndex>=0),I.accounts.forEach(b=>Yt(b>=0))}),new $s({header:{numRequiredSignatures:l,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:_,recentBlockhash:e,instructions:x})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=k9(r,i.secretKey);this._addSignature(i.publicKey,gn(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Yt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,n){for(const{signature:r,publicKey:i}of this.signatures)if(r===null){if(n)return!1}else if(!R9(r,e,i.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r&&!this._verifySignatures(i,n))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];kr(r,n.length);const i=r.length+n.length*64+e.length,s=Te.Buffer.alloc(i);return Yt(n.length<256),Te.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Yt(o.length===64,"signature has invalid length"),Te.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Yt(s.length<=Da,`Transaction too large: ${s.length} > ${Da}`),s}get keys(){return Yt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Yt(this.instructions.length===1),this.instructions[0].programId}get data(){return Yt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Tr(n);let i=[];for(let s=0;s<r;s++){const o=n.slice(0,ry);n=n.slice(ry),i.push(_n.encode(Te.Buffer.from(o)))}return ai.populate($s.from(n),i)}static populate(e,n=[]){const r=new ai;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==_n.encode(O9)?null:_n.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new $r({keys:s,programId:e.accountKeys[i.programIdIndex],data:_n.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}const U9=160,F9=64,V9=U9/F9,$9=1e3/V9;new Ee("SysvarC1ock11111111111111111111111111111111");new Ee("SysvarEpochSchedu1e111111111111111111111111");new Ee("Sysvar1nstructions1111111111111111111111111");const am=new Ee("SysvarRecentB1ockHashes11111111111111111111"),PS=new Ee("SysvarRent111111111111111111111111111111111");new Ee("SysvarRewards111111111111111111111111111111");new Ee("SysvarS1otHashes111111111111111111111111111");new Ee("SysvarS1otHistory11111111111111111111111111");new Ee("SysvarStakeHistory1111111111111111111111111");function oa(t){return new Promise(e=>setTimeout(e,t))}function Sr(t,e){const n=t.layout.span>=0?t.layout.span:bR(t,e),r=Te.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const j9=fn("lamportsPerSignature"),xR=me([ve("version"),ve("state"),Oe("authorizedPubkey"),Oe("nonce"),me([j9],"feeCalculator")]),NS=xR.span;class G_{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=xR.decode(gn(e),0);return new G_({authorizedPubkey:new Ee(n.authorizedPubkey),nonce:new Ee(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const z9=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},q9=t=>e=>{const n=bt(t,e),{encode:r,decode:i}=z9(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return SV(Te.Buffer.from(l))},s.encode=(o,a,l)=>{const u=xV(o,t);return r(u,a,l)},s},sl=q9(8),Ir=Object.freeze({Create:{index:0,layout:me([ve("instruction"),dr("lamports"),dr("space"),Oe("programId")])},Assign:{index:1,layout:me([ve("instruction"),Oe("programId")])},Transfer:{index:2,layout:me([ve("instruction"),sl("lamports")])},CreateWithSeed:{index:3,layout:me([ve("instruction"),Oe("base"),Ea("seed"),dr("lamports"),dr("space"),Oe("programId")])},AdvanceNonceAccount:{index:4,layout:me([ve("instruction")])},WithdrawNonceAccount:{index:5,layout:me([ve("instruction"),dr("lamports")])},InitializeNonceAccount:{index:6,layout:me([ve("instruction"),Oe("authorized")])},AuthorizeNonceAccount:{index:7,layout:me([ve("instruction"),Oe("authorized")])},Allocate:{index:8,layout:me([ve("instruction"),dr("space")])},AllocateWithSeed:{index:9,layout:me([ve("instruction"),Oe("base"),Ea("seed"),dr("space"),Oe("programId")])},AssignWithSeed:{index:10,layout:me([ve("instruction"),Oe("base"),Ea("seed"),Oe("programId")])},TransferWithSeed:{index:11,layout:me([ve("instruction"),sl("lamports"),Ea("seed"),Oe("programId")])},UpgradeNonceAccount:{index:12,layout:me([ve("instruction")])}});class rc{constructor(){}static createAccount(e){const n=Ir.Create,r=Sr(n,{lamports:e.lamports,space:e.space,programId:gn(e.programId.toBuffer())});return new $r({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Ir.TransferWithSeed;n=Sr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Ir.Transfer;n=Sr(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new $r({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Ir.AssignWithSeed;n=Sr(i,{base:gn(e.basePubkey.toBuffer()),seed:e.seed,programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ir.Assign;n=Sr(i,{programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $r({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Ir.CreateWithSeed,r=Sr(n,{base:gn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:gn(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new $r({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new ai;"basePubkey"in e&&"seed"in e?n.add(rc.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NS,programId:this.programId})):n.add(rc.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NS,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Ir.InitializeNonceAccount,r=Sr(n,{authorized:gn(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:am,isSigner:!1,isWritable:!1},{pubkey:PS,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new $r(i)}static nonceAdvance(e){const n=Ir.AdvanceNonceAccount,r=Sr(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:am,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new $r(i)}static nonceWithdraw(e){const n=Ir.WithdrawNonceAccount,r=Sr(n,{lamports:e.lamports});return new $r({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:am,isSigner:!1,isWritable:!1},{pubkey:PS,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Ir.AuthorizeNonceAccount,r=Sr(n,{authorized:gn(e.newAuthorizedPubkey.toBuffer())});return new $r({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Ir.AllocateWithSeed;n=Sr(i,{base:gn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:gn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Ir.Allocate;n=Sr(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new $r({keys:r,programId:this.programId,data:n})}}rc.programId=new Ee("11111111111111111111111111111111");new Ee("BPFLoader2111111111111111111111111111111111");function K9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W9=Object.prototype.toString,H9=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function tu(t,e){var n,r,i,s,o,a,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return tu(t.toJSON(),e);if(l=W9.call(t),l==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=tu(t[n],!0)+",";return r>-1&&(i+=tu(t[n],!0)),i+"]"}else if(l==="[object Object]"){for(s=H9(t).sort(),r=s.length,i="",n=0;n<r;)o=s[n],a=tu(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var G9=function(t){var e=tu(t,!1);if(e!==void 0)return""+e},MS=K9(G9);const $l=32;function lm(t){let e=0;for(;t>1;)t/=2,e++;return e}function Q9(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class Y9{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=lm(Q9(e+$l+1))-lm($l)-1,r=this.getSlotsInEpoch(n),i=e-(r-$l);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*$l:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+lm($l)):this.slotsPerEpoch}}class LS extends Error{constructor(e,n){super(e),this.logs=void 0,this.logs=n}}class ge extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var X9=globalThis.fetch;class J9 extends m9{constructor(e,n,r){const i=s=>{const o=y9(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function Z9(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const BS=56;class DS{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=Z9(e$,e),r=e.length-BS;Yt(r>=0,"lookup table is invalid"),Yt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=me([Gn(Oe(),i,"addresses")]).decode(e.slice(BS));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Ee(n.authority[0]):void 0,addresses:s.map(o=>new Ee(o))}}}const e$={index:1,layout:me([ve("typeIndex"),sl("deactivationSlot"),fn("lastExtendedSlot"),He("lastExtendedStartIndex"),He(),Gn(Oe(),_o(He(),-1),"authority")])},t$=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function n$(t){const e=t.match(t$);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const en=Lc(K_(Ee),ie(),t=>new Ee(t)),AR=W_([ie(),yt("base64")]),Q_=Lc(K_(Te.Buffer),AR,t=>Te.Buffer.from(t[0],"base64")),r$=30*1e3;function i$(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function ft(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function TR(t){return ur([ee({jsonrpc:yt("2.0"),id:ie(),result:t}),ee({jsonrpc:yt("2.0"),id:ie(),error:ee({code:Mc(),message:ie(),data:we(MV())})})])}const s$=TR(Mc());function Le(t){return Lc(TR(t),s$,e=>"error"in e?e:{...e,result:se(e.result,t)})}function xt(t){return Le(ee({context:ee({slot:q()}),value:t}))}function up(t){return ee({context:ee({slot:q()}),value:t})}function um(t,e){return t===0?new Kd({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Ee(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:_n.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new $s(e)}const o$=ee({foundation:q(),foundationTerm:q(),initial:q(),taper:q(),terminal:q()}),a$=Le(le(ue(ee({epoch:q(),effectiveSlot:q(),amount:q(),postBalance:q(),commission:we(ue(q()))})))),l$=le(ee({slot:q(),prioritizationFee:q()})),u$=ee({total:q(),validator:q(),foundation:q(),epoch:q()}),c$=ee({epoch:q(),slotIndex:q(),slotsInEpoch:q(),absoluteSlot:q(),blockHeight:we(q()),transactionCount:we(q())}),h$=ee({slotsPerEpoch:q(),leaderScheduleSlotOffset:q(),warmup:bi(),firstNormalEpoch:q(),firstNormalSlot:q()}),d$=eR(ie(),le(q())),Go=ue(ur([ee({}),ie()])),f$=ee({err:Go}),p$=yt("receivedSignature"),g$=ee({"solana-core":ie(),"feature-set":we(q())}),OS=xt(ee({err:ue(ur([ee({}),ie()])),logs:ue(le(ie())),accounts:we(ue(le(ue(ee({executable:bi(),owner:ie(),lamports:q(),data:le(ie()),rentEpoch:we(q())}))))),unitsConsumed:we(q()),returnData:we(ue(ee({programId:ie(),data:W_([ie(),yt("base64")])})))})),m$=xt(ee({byIdentity:eR(ie(),le(q())),range:ee({firstSlot:q(),lastSlot:q()})}));function y$(t,e,n,r,i,s){const o=n||X9;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(c,f)=>{const v=await new Promise((_,x)=>{try{r(c,f,(I,b)=>_([I,b]))}catch(I){x(I)}});return await o(...v)}),new l9(async(c,f)=>{const v={method:"POST",body:c,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},vj)};try{let _=5,x,I=500;for(;l?x=await l(t,v):x=await o(t,v),!(x.status!==429||i===!0||(_-=1,_===0));)console.log(`Server responded with ${x.status} ${x.statusText}.  Retrying after ${I}ms delay...`),await oa(I),I*=2;const b=await x.text();x.ok?f(null,b):f(new Error(`${x.status} ${x.statusText}: ${b}`))}catch(_){_ instanceof Error&&f(_)}},{})}function v$(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function _$(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const w$=Le(o$),E$=Le(u$),S$=Le(l$),I$=Le(c$),b$=Le(h$),x$=Le(d$),A$=Le(q()),T$=xt(ee({total:q(),circulating:q(),nonCirculating:q(),nonCirculatingAccounts:le(en)})),iy=ee({amount:ie(),uiAmount:ue(q()),decimals:q(),uiAmountString:we(ie())}),k$=xt(le(ee({address:en,amount:ie(),uiAmount:ue(q()),decimals:q(),uiAmountString:we(ie())}))),R$=xt(le(ee({pubkey:en,account:ee({executable:bi(),owner:en,lamports:q(),data:Q_,rentEpoch:q()})}))),sy=ee({program:ie(),parsed:Mc(),space:q()}),C$=xt(le(ee({pubkey:en,account:ee({executable:bi(),owner:en,lamports:q(),data:sy,rentEpoch:q()})}))),P$=xt(le(ee({lamports:q(),address:en}))),ic=ee({executable:bi(),owner:en,lamports:q(),data:Q_,rentEpoch:q()}),N$=ee({pubkey:en,account:ic}),M$=Lc(ur([K_(Te.Buffer),sy]),ur([AR,sy]),t=>Array.isArray(t)?se(t,Q_):t),oy=ee({executable:bi(),owner:en,lamports:q(),data:M$,rentEpoch:q()}),L$=ee({pubkey:en,account:oy}),B$=ee({state:ur([yt("active"),yt("inactive"),yt("activating"),yt("deactivating")]),active:q(),inactive:q()}),D$=Le(le(ee({signature:ie(),slot:q(),err:Go,memo:ue(ie()),blockTime:we(ue(q()))}))),O$=Le(le(ee({signature:ie(),slot:q(),err:Go,memo:ue(ie()),blockTime:we(ue(q()))}))),U$=ee({subscription:q(),result:up(ic)}),F$=ee({pubkey:en,account:ic}),V$=ee({subscription:q(),result:up(F$)}),$$=ee({parent:q(),slot:q(),root:q()}),j$=ee({subscription:q(),result:$$}),z$=ur([ee({type:ur([yt("firstShredReceived"),yt("completed"),yt("optimisticConfirmation"),yt("root")]),slot:q(),timestamp:q()}),ee({type:yt("createdBank"),parent:q(),slot:q(),timestamp:q()}),ee({type:yt("frozen"),slot:q(),timestamp:q(),stats:ee({numTransactionEntries:q(),numSuccessfulTransactions:q(),numFailedTransactions:q(),maxTransactionsPerEntry:q()})}),ee({type:yt("dead"),slot:q(),timestamp:q(),err:ie()})]),q$=ee({subscription:q(),result:z$}),K$=ee({subscription:q(),result:up(ur([f$,p$]))}),W$=ee({subscription:q(),result:q()}),H$=ee({pubkey:ie(),gossip:ue(ie()),tpu:ue(ie()),rpc:ue(ie()),version:ue(ie())}),US=ee({votePubkey:ie(),nodePubkey:ie(),activatedStake:q(),epochVoteAccount:bi(),epochCredits:le(W_([q(),q(),q()])),commission:q(),lastVote:q(),rootSlot:ue(q())}),G$=Le(ee({current:le(US),delinquent:le(US)})),Q$=ur([yt("processed"),yt("confirmed"),yt("finalized")]),Y$=ee({slot:q(),confirmations:ue(q()),err:Go,confirmationStatus:we(Q$)}),X$=xt(le(ue(Y$))),J$=Le(q()),kR=ee({accountKey:en,writableIndexes:le(q()),readonlyIndexes:le(q())}),Y_=ee({signatures:le(ie()),message:ee({accountKeys:le(ie()),header:ee({numRequiredSignatures:q(),numReadonlySignedAccounts:q(),numReadonlyUnsignedAccounts:q()}),instructions:le(ee({accounts:le(q()),data:ie(),programIdIndex:q()})),recentBlockhash:ie(),addressTableLookups:we(le(kR))})}),RR=ee({pubkey:en,signer:bi(),writable:bi(),source:we(ur([yt("transaction"),yt("lookupTable")]))}),CR=ee({accountKeys:le(RR),signatures:le(ie())}),PR=ee({parsed:Mc(),program:ie(),programId:en}),NR=ee({accounts:le(en),data:ie(),programId:en}),Z$=ur([NR,PR]),ej=ur([ee({parsed:Mc(),program:ie(),programId:ie()}),ee({accounts:le(ie()),data:ie(),programId:ie()})]),MR=Lc(Z$,ej,t=>"accounts"in t?se(t,NR):se(t,PR)),LR=ee({signatures:le(ie()),message:ee({accountKeys:le(RR),instructions:le(MR),recentBlockhash:ie(),addressTableLookups:we(ue(le(kR)))})}),Wd=ee({accountIndex:q(),mint:ie(),owner:we(ie()),uiTokenAmount:iy}),BR=ee({writable:le(en),readonly:le(en)}),cp=ee({err:Go,fee:q(),innerInstructions:we(ue(le(ee({index:q(),instructions:le(ee({accounts:le(q()),data:ie(),programIdIndex:q()}))})))),preBalances:le(q()),postBalances:le(q()),logMessages:we(ue(le(ie()))),preTokenBalances:we(ue(le(Wd))),postTokenBalances:we(ue(le(Wd))),loadedAddresses:we(BR),computeUnitsConsumed:we(q())}),X_=ee({err:Go,fee:q(),innerInstructions:we(ue(le(ee({index:q(),instructions:le(MR)})))),preBalances:le(q()),postBalances:le(q()),logMessages:we(ue(le(ie()))),preTokenBalances:we(ue(le(Wd))),postTokenBalances:we(ue(le(Wd))),loadedAddresses:we(BR),computeUnitsConsumed:we(q())}),Al=ur([yt(0),yt("legacy")]),Qo=ee({pubkey:ie(),lamports:q(),postBalance:ue(q()),rewardType:ue(ie()),commission:we(ue(q()))}),tj=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),transactions:le(ee({transaction:Y_,meta:ue(cp),version:we(Al)})),rewards:we(le(Qo)),blockTime:ue(q()),blockHeight:ue(q())}))),nj=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),rewards:we(le(Qo)),blockTime:ue(q()),blockHeight:ue(q())}))),rj=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),transactions:le(ee({transaction:CR,meta:ue(cp),version:we(Al)})),rewards:we(le(Qo)),blockTime:ue(q()),blockHeight:ue(q())}))),ij=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),transactions:le(ee({transaction:LR,meta:ue(X_),version:we(Al)})),rewards:we(le(Qo)),blockTime:ue(q()),blockHeight:ue(q())}))),sj=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),transactions:le(ee({transaction:CR,meta:ue(X_),version:we(Al)})),rewards:we(le(Qo)),blockTime:ue(q()),blockHeight:ue(q())}))),oj=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),rewards:we(le(Qo)),blockTime:ue(q()),blockHeight:ue(q())}))),aj=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),transactions:le(ee({transaction:Y_,meta:ue(cp)})),rewards:we(le(Qo)),blockTime:ue(q())}))),FS=Le(ue(ee({blockhash:ie(),previousBlockhash:ie(),parentSlot:q(),signatures:le(ie()),blockTime:ue(q())}))),cm=Le(ue(ee({slot:q(),meta:cp,blockTime:we(ue(q())),transaction:Y_,version:we(Al)}))),yh=Le(ue(ee({slot:q(),transaction:LR,meta:ue(X_),blockTime:we(ue(q())),version:we(Al)}))),lj=xt(ee({blockhash:ie(),feeCalculator:ee({lamportsPerSignature:q()})})),uj=xt(ee({blockhash:ie(),lastValidBlockHeight:q()})),cj=xt(bi()),hj=ee({slot:q(),numTransactions:q(),numSlots:q(),samplePeriodSecs:q()}),dj=Le(le(hj)),fj=xt(ue(ee({feeCalculator:ee({lamportsPerSignature:q()})}))),pj=Le(ie()),gj=Le(ie()),mj=ee({err:Go,logs:le(ie()),signature:ie()}),yj=ee({result:up(mj),subscription:q()}),vj={"solana-client":"js/0.0.0-development"};class _j{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async c=>{const{commitment:f,config:v}=ft(c),_=this._buildArgs([],f,void 0,v),x=MS(_);return u[x]=u[x]??(async()=>{try{const I=await this._rpcRequest("getBlockHeight",_),b=se(I,Le(q()));if("error"in b)throw new ge(b.error,"failed to get block height information");return b.result}finally{delete u[x]}})(),await u[x]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=i$(e),this._rpcWsEndpoint=r||n$(e),this._rpcClient=y$(e,i,s,o,a,l),this._rpcRequest=v$(this._rpcClient),this._rpcBatchRequest=_$(this._rpcClient),this._rpcWebSocket=new J9(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=se(o,xt(q()));if("error"in a)throw new ge(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=se(n,Le(ue(q())));if("error"in r)throw new ge(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=se(e,Le(q()));if("error"in n)throw new ge(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=se(e,A$);if("error"in n)throw new ge(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=se(r,T$);if("error"in i)throw new ge(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=se(i,xt(iy));if("error"in s)throw new ge(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=se(i,xt(iy));if("error"in s)throw new ge(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=ft(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),u=se(l,R$);if("error"in u)throw new ge(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=se(o,C$);if("error"in a)throw new ge(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=se(i,P$);if("error"in s)throw new ge(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=se(i,k$);if("error"in s)throw new ge(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,xt(ue(ic)));if("error"in a)throw new ge(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,xt(ue(oy)));if("error"in a)throw new ge(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=ft(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=se(a,xt(le(ue(oy))));if("error"in l)throw new ge(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=ft(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=se(a,xt(le(ue(ic))));if("error"in l)throw new ge(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=ft(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=se(a,Le(B$));if("error"in l)throw new ge(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=ft(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),l=await this._rpcRequest("getProgramAccounts",a),u=le(N$),c=o.withContext===!0?se(l,xt(u)):se(l,Le(u));if("error"in c)throw new ge(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=se(o,Le(le(L$)));if("error"in a)throw new ge(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=_n.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Yt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,u)=>{try{r=this.onSignature(n,(f,v)=>{r=void 0;const _={context:v,value:f};l({__type:as.PROCESSED,response:_})},e);const c=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,v=>{v==="subscribed"&&f()})});(async()=>{if(await c,s)return;const f=await this.getSignatureStatus(n);if(s||f==null)return;const{context:v,value:_}=f;if(_!=null)if(_!=null&&_.err)u(_.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(_.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(_.confirmationStatus==="processed"||_.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:as.PROCESSED,response:{context:v,value:_}})}})()}catch(c){u(c)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(f=>{const v=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let _=await v();if(!s){for(;_<=r;)if(await oa(1e3),s||(_=await v(),s))return;f({__type:as.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(n);let c;try{const f=await Promise.race([u,l,o]);if(f.__type===as.PROCESSED)c=f.response;else throw new SR(i)}finally{s=!0,a()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(_=>{let x=s,I=null;const b=async()=>{try{const{context:w,value:E}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return I=w.slot,E==null?void 0:E.nonce}catch{return x}};(async()=>{if(x=await b(),!a)for(;;){if(s!==x){_({__type:as.NONCE_INVALID,slotInWhichNonceDidAdvance:I});return}if(await oa(2e3),a||(x=await b(),a))return}})()}),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let v;try{const _=await Promise.race([f,c,l]);if(_.__type===as.PROCESSED)v=_.response;else{let x;for(;;){const I=await this.getSignatureStatus(o);if(I==null)break;if(I.context.slot<(_.slotInWhichNonceDidAdvance??r)){await oa(400);continue}x=I;break}if(x!=null&&x.value){const I=e||"finalized",{confirmationStatus:b}=x.value;switch(I){case"processed":case"recent":if(b!=="processed"&&b!=="confirmed"&&b!=="finalized")throw new eu(o);break;case"confirmed":case"single":case"singleGossip":if(b!=="confirmed"&&b!=="finalized")throw new eu(o);break;case"finalized":case"max":case"root":if(b!=="finalized")throw new eu(o);break;default:}v={context:x.context,value:{err:x.value.err}}}else throw new eu(o)}}finally{a=!0,u()}return v}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:as.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===as.PROCESSED)a=l.response;else throw new IR(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=se(e,Le(le(H$)));if("error"in n)throw new ge(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=se(r,G$);if("error"in i)throw new ge(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=se(s,Le(q()));if("error"in o)throw new ge(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=se(s,Le(ie()));if("error"in o)throw new ge(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=se(i,Le(le(en)));if("error"in s)throw new ge(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Yt(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=se(i,X$);if("error"in s)throw new ge(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=se(s,Le(q()));if("error"in o)throw new ge(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=se(r,w$);if("error"in i)throw new ge(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=ft(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=se(a,a$);if("error"in l)throw new ge(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=se(e,E$);if("error"in n)throw new ge(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=se(s,I$);if("error"in o)throw new ge(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=se(e,b$);if("error"in n)throw new ge(n.error,"failed to get epoch schedule");const r=n.result;return new Y9(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=se(e,x$);if("error"in n)throw new ge(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=se(i,J$);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",n),i=se(r,lj);if("error"in i)throw new ge(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=se(n,dj);if("error"in r)throw new ge(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=se(i,fj);if("error"in s)throw new ge(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=gn(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=se(s,xt(ue(q())));if("error"in o)throw new ge(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=se(i,S$);if("error"in s)throw new ge(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=se(s,uj);if("error"in o)throw new ge(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=se(o,cj);if("error"in a)throw new ge(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=se(e,Le(g$));if("error"in n)throw new ge(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=se(e,Le(ie()));if("error"in n)throw new ge(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,rj);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,nj);if("error"in a)throw a.error;return a.result}default:{const a=se(o,tj);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:u,meta:c,version:f})=>({meta:c,transaction:{...u,message:um(f,u.message)},version:f}))}:null}}}catch(a){throw new ge(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,sj);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,oj);if("error"in a)throw a.error;return a.result}default:{const a=se(o,ij);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ge(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=se(s,m$);if("error"in o)throw new ge(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=se(o,cm);if("error"in a)throw new ge(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:um(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=ft(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=se(o,yh);if("error"in a)throw new ge(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=ft(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const u=se(l,yh);if("error"in u)throw new ge(u.error,"failed to get transactions");return u.result})}async getTransactions(e,n){const{commitment:r,config:i}=ft(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const u=se(l,cm);if("error"in u)throw new ge(u.error,"failed to get transactions");const c=u.result;return c&&{...c,transaction:{...c.transaction,message:um(c.version,c.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,aj);if("error"in s)throw new ge(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:u})=>{const c=new $s(l.message);return{meta:u,transaction:{...l,message:c}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:u})=>({meta:u,transaction:ai.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=se(s,Le(le(q())));if("error"in o)throw new ge(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=se(i,FS);if("error"in s)throw new ge(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,FS);if("error"in s)throw new ge(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,cm);if("error"in s)throw new ge(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new $s(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:ai.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,yh);if("error"in s)throw new ge(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=se(o,yh);if("error"in a)throw new ge(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=se(s,D$);if("error"in o)throw new ge(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=se(s,O$);if("error"in o)throw new ge(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new DS({key:e,state:DS.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=G_.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=se(r,pj);if("error"in i)throw new ge(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await oa(100);const r=Date.now()-this._blockhashInfo.lastFetch>=r$;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await oa($9/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=ft(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=se(s,xt(q()));if("error"in o)throw new ge(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const I=e.serialize(),b=Te.Buffer.from(I).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const w=n||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const E=[b,w],m=await this._rpcRequest("simulateTransaction",E),M=se(m,OS);if("error"in M)throw new Error("failed to simulate transaction: "+M.error.message);return M.result}let i;if(e instanceof ai){let x=e;i=new ai,i.feePayer=x.feePayer,i.instructions=e.instructions,i.nonceInfo=x.nonceInfo,i.signatures=x.signatures}else i=ai.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let x=this._disableBlockhashCaching;for(;;){const I=await this._blockhashWithExpiryBlockHeight(x);if(i.lastValidBlockHeight=I.lastValidBlockHeight,i.recentBlockhash=I.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const b=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(b)&&!this._blockhashInfo.transactionSignatures.includes(b)){this._blockhashInfo.simulatedSignatures.push(b);break}else x=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(r){const x=(Array.isArray(r)?r:o.nonProgramIds()).map(I=>I.toBase58());c.accounts={encoding:"base64",addresses:x}}s&&(c.sigVerify=!0);const f=[u,c],v=await this._rpcRequest("simulateTransaction",f),_=se(v,OS);if("error"in _){let x;if("data"in _.error&&(x=_.error.data.logs,x&&Array.isArray(x))){const I=`
    `,b=I+x.join(I);console.error(_.error.message,b)}throw new LS("failed to simulate transaction: "+_.error.message,x)}return _.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=gn(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=se(a,gj);if("error"in l){let u;throw"data"in l.error&&(u=l.error.data.logs),new LS("failed to send transaction: "+l.error.message,u)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=se(e,U$);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=MS([e.method,n],!0),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Yt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=se(e,V$);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=se(e,yj);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=se(e,j$);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=se(e,q$);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=se(e,K$);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,u)=>{n(l,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=se(e,W$);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Oa{constructor(e){this._keypair=void 0,this._keypair=e??kS()}static generate(){return new Oa(kS())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),s=ny(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Oa({publicKey:r,secretKey:e})}static fromSeed(e){const n=ny(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new Oa({publicKey:n,secretKey:r})}get publicKey(){return new Ee(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:me([ve("instruction"),sl("recentSlot"),He("bumpSeed")])},FreezeLookupTable:{index:1,layout:me([ve("instruction")])},ExtendLookupTable:{index:2,layout:me([ve("instruction"),sl(),Gn(Oe(),_o(ve(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:me([ve("instruction")])},CloseLookupTable:{index:4,layout:me([ve("instruction")])}});new Ee("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:me([He("instruction"),ve("units"),ve("additionalFee")])},RequestHeapFrame:{index:1,layout:me([He("instruction"),ve("bytes")])},SetComputeUnitLimit:{index:2,layout:me([He("instruction"),ve("units")])},SetComputeUnitPrice:{index:3,layout:me([He("instruction"),sl("microLamports")])}});new Ee("ComputeBudget111111111111111111111111111111");me([He("numSignatures"),He("padding"),Ar("signatureOffset"),Ar("signatureInstructionIndex"),Ar("publicKeyOffset"),Ar("publicKeyInstructionIndex"),Ar("messageDataOffset"),Ar("messageDataSize"),Ar("messageInstructionIndex")]);new Ee("Ed25519SigVerify111111111111111111111111111");H_.utils.isValidPrivateKey;H_.getPublicKey;me([He("numSignatures"),Ar("signatureOffset"),He("signatureInstructionIndex"),Ar("ethAddressOffset"),He("ethAddressInstructionIndex"),Ar("messageDataOffset"),Ar("messageDataSize"),He("messageInstructionIndex"),bt(20,"ethAddress"),bt(64,"signature"),He("recoveryId")]);new Ee("KeccakSecp256k11111111111111111111111111111");var DR;new Ee("StakeConfig11111111111111111111111111111111");class OR{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}DR=OR;OR.default=new DR(0,0,Ee.default);Object.freeze({Initialize:{index:0,layout:me([ve("instruction"),M9(),L9()])},Authorize:{index:1,layout:me([ve("instruction"),Oe("newAuthorized"),ve("stakeAuthorizationType")])},Delegate:{index:2,layout:me([ve("instruction")])},Split:{index:3,layout:me([ve("instruction"),dr("lamports")])},Withdraw:{index:4,layout:me([ve("instruction"),dr("lamports")])},Deactivate:{index:5,layout:me([ve("instruction")])},Merge:{index:7,layout:me([ve("instruction")])},AuthorizeWithSeed:{index:8,layout:me([ve("instruction"),Oe("newAuthorized"),ve("stakeAuthorizationType"),Ea("authoritySeed"),Oe("authorityOwner")])}});new Ee("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:me([ve("instruction"),B9()])},Authorize:{index:1,layout:me([ve("instruction"),Oe("newAuthorized"),ve("voteAuthorizationType")])},Withdraw:{index:3,layout:me([ve("instruction"),dr("lamports")])},AuthorizeWithSeed:{index:10,layout:me([ve("instruction"),D9()])}});new Ee("Vote111111111111111111111111111111111111111");new Ee("Va1idator1nfo111111111111111111111111111111");ee({name:ie(),website:we(ie()),details:we(ie()),keybaseUsername:we(ie())});new Ee("Vote111111111111111111111111111111111111111");me([Oe("nodePubkey"),Oe("authorizedWithdrawer"),He("commission"),fn(),Gn(me([fn("slot"),ve("confirmationCount")]),_o(ve(),-8),"votes"),He("rootSlotValid"),fn("rootSlot"),fn(),Gn(me([fn("epoch"),Oe("authorizedVoter")]),_o(ve(),-8),"authorizedVoters"),me([Gn(me([Oe("authorizedPubkey"),fn("epochOfLastAuthorizedSwitch"),fn("targetEpoch")]),32,"buf"),fn("idx"),He("isEmpty")],"priorVoters"),fn(),Gn(me([fn("epoch"),fn("credits"),fn("prevCredits")]),_o(ve(),-8),"epochCredits"),me([fn("slot"),fn("timestamp")],"lastTimestamp")]);const hm=1e9;function wj(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function c(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var x=0,I=0,b=0,w=_.length;b!==w&&_[b]===0;)b++,x++;for(var E=(w-b)*u+1>>>0,m=new Uint8Array(E);b!==w;){for(var M=_[b],N=0,O=E-1;(M!==0||N<I)&&O!==-1;O--,N++)M+=256*m[O]>>>0,m[O]=M%o>>>0,M=M/o>>>0;if(M!==0)throw new Error("Non-zero carry");I=N,b++}for(var F=E-I;F!==E&&m[F]===0;)F++;for(var V=a.repeat(x);F<E;++F)V+=t.charAt(m[F]);return V}function f(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var x=0,I=0,b=0;_[x]===a;)I++,x++;for(var w=(_.length-x)*l+1>>>0,E=new Uint8Array(w);_[x];){var m=e[_.charCodeAt(x)];if(m===255)return;for(var M=0,N=w-1;(m!==0||M<b)&&N!==-1;N--,M++)m+=o*E[N]>>>0,E[N]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");b=M,x++}for(var O=w-b;O!==w&&E[O]===0;)O++;for(var F=new Uint8Array(I+(w-O)),V=I;O!==w;)F[V++]=E[O++];return F}function v(_){var x=f(_);if(x)return x;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:f,decode:v}}var Ej=wj;const Sj=Ej,Ij="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bj=Sj(Ij);const VS=Bo(bj);window.Buffer=Te.Buffer;const ea=new _j("https://api.devnet.solana.com"),xj={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},UR=Ks(xj),ta=qo(UR),dm=Xf(UR),Aj=t=>{const{url:e}=ux(),n=dl(),[r,i]=X.useState(!1),[s,o]=X.useState(null);X.useEffect(()=>{IF({Ripple:x_})},[]);const[a,l]=X.useState(t.rate);X.useEffect(()=>{t.state.walletAddress},[t.state.walletAddress]),X.useEffect(()=>{$("#card_price").text(a)},[$("#card_sol").text()]);const u=En(ta,"Course",e);(async()=>{const b=await ci(u);if(b.exists()){$("#card_title").text(tr(b.data().title)),$("#card_des").text(b.data().des),$("#card_sub").text(tr(b.data().sub)),$("#card_level").text(tr(b.data().eduLvl)),$("#card_lang").text(tr(b.data().lang)),$("#card_sol").text(b.data().sol),$("#card_uploadTime").text(new Date(b.data().uploadTime.seconds*1e3).toLocaleString()),b.data().mode==="both"?$("#card_mode").text("Video and notes"):b.data().mode==="video"?$("#card_mode").text("Video"):$("#card_mode").text("Notes");const w=()=>{let F="";for(let V in b.data().tag)F+=`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${b.data().tag[V]}</span>`;$("#card_tag").html(F)};w(),$("#card_tag").html(w),s||o(b.data().userUID);const E=En(ta,"Users",b.data().userUID);(async()=>{const F=await ci(E);F.exists()?(ka(document.getElementById("card_tutor")),$("#card_tutor").text(F.data().displayName)):console.log("No such document for Users with UID of",F.data().userUID)})();const M=wi(dm,e+"/thumbnail.jpg");yo(M).then(F=>{$("#card_img").attr("src",F)});const N=En(ta,"Users",t.state.user.uid);(async()=>{const F=await ci(N);F.exists()?(F.data().wishlist&&(F.data().wishlist.indexOf(e)>=0?$("#b_wishlist").text("- REMOVE FROM WISHLIST"):$("#b_wishlist").text("+ ADD TO WISHLIST")),F.data().enrolled&&(F.data().enrolled.indexOf(e)>=0?($("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)):$("#b_enroll").text("ENROLL NOW"))):console.log("No such document for User with UID",t.state.user.uid)})()}else console.log("No such document for Course with link",e)})(),(()=>{const b=I2(Kf(ta,"Users"),b2("enrolled","array-contains",e));(async()=>{const E=await m_(b);$("#card_enroll").text(E.docs.length)})()})();const v=()=>{const b=En(ta,"Users",t.state.user.uid);(async()=>{$("#b_wishlist").text()==="+ ADD TO WISHLIST"?(await vu(b,{wishlist:qE(e)}),$("#b_wishlist").text("- REMOVE FROM WISHLIST"),alert("Added to wishlist!")):(await vu(b,{wishlist:aU(e)}),$("#b_wishlist").text("+ ADD TO WISHLIST"),alert("Removed from wishlist!"))})()},_=async(b,w,E)=>{if(console.log("sendSol"),!w&&!E){console.log("Wallet address of recipent or amount to transfer not found!");return}const m=Oa.fromSecretKey(VS.decode("5jfYsRoTwHAqpC1k8cB4iFd8zE7d1sduQoWYhBaUDSw9ydMMYerpMWfDCno5Bs7eatbokHE3KTRNZnDtzomGVsuf")),M=Oa.fromSecretKey(VS.decode("2EhyfeJPRDYCdQFvZwc5ZUiMRASqhPt17N8a55WoZnnZ8B6d6G5ih87g4q8Li6wreZGcUEXWAoG9nxRTMbpenEXm"));console.log("checkpoint1"),(async()=>{let F=await ea.getBalance(m.publicKey),V=await ea.getBalance(M.publicKey);console.log(`Sender Balance: ${F/hm} SOL`),console.log(`Receiver Balance: ${V/hm} SOL`),console.log("checkpoint2")})(),(async()=>{await ea.getBalance(m.publicKey),await ea.getBalance(M.publicKey);let F=new ai().add(rc.transfer({fromPubkey:m.publicKey,toPubkey:M.publicKey,lamports:.02*hm}));console.log("checkpoint3"),F.feePayer=m.publicKey,console.log("checkpoint4"),console.log(ea,F,m,M);let V=await ea.sendTransaction(F,[m,M]);console.log(V)})()},x=()=>{n("../profile/"+s)},I=()=>{if(t.state.role==="special needy / refugee / disabilities"){console.log("Enrolling");const b=En(ta,"Users",t.state.user.uid);(async()=>{await vu(b,{enrolled:qE(e)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)})(),alert("Enrolled with special discount #FreeHelpEdu")}else _(t.state.walletAddress,"NraaJwoeNHCu5Wu1iRm1cfvx7NLKgySnTv76dU5T7oH",.02)};return X.useEffect(()=>{if(r){const b=wi(dm,e+"/video.mp4");yo(b).then(E=>{$("#media_area").html($("#media_area").html()+`<h1>Video</h1><video width="100%" height="100%" controls><source src="${E}" type="video/mp4">Your browser does not support the video tag.</video>`)});const w=wi(dm,e+"/notes.pdf");yo(w).then(E=>{$("#media_area").html($("#media_area").html()+'<h1>Notes</h1><object data="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20210101201653/PDF.pdf" width="100%" height="800"></object>')})}},[r]),L.jsxs(L.Fragment,{children:[L.jsx("h1",{className:"mb-2",children:"Course"}),L.jsxs("p",{className:"mb-6 text-base text-neutral-500 dark:text-neutral-300",children:["ID: ",e]}),L.jsxs("div",{className:"flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 max-w-6xl md:flex-row",children:[L.jsx("img",{className:"w-1/2 rounded-t-lg object-cover md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course thumbnail",id:"card_img"}),L.jsxs("div",{className:"flex flex-col justify-start max-w-3xl p-6",children:[L.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:"card_title"}),L.jsxs("p",{className:"mb-4 text-sm text-warning-600 dark:text-warning-400",children:["* ",L.jsx("span",{id:"card_mode"})," included."]}),L.jsx("p",{className:"mb-2 text-base text-neutral-600 dark:text-neutral-200",id:"card_des"}),L.jsx("div",{className:"mb-4 gap-4",id:"card_tag"}),L.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-xs mb-4",children:[L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:L.jsx("b",{children:"Subject"})}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_sub"}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:L.jsx("b",{children:"Tutor"})}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 underline text-primary transition duration-150 ease-in-out hover:text-primary-600 focus:text-primary-600 active:text-primary-700 dark:text-primary-400 dark:hover:text-primary-500 dark:focus:text-primary-500 dark:active:text-primary-600 cursor-pointer",onClick:x,id:"card_tutor"}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:L.jsx("b",{children:"Level"})}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_level"}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:L.jsx("b",{children:"Language"})}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_lang"}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:L.jsx("b",{children:"Price"})}),L.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[L.jsx("span",{id:"card_sol",children:"0.00"})," SOL / ",L.jsx("span",{id:"card_price",children:L.jsx(R2,{sol:$("#card_sol").text()})}),' USD"']}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:L.jsx("b",{children:"Enrollment"})}),L.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_enroll",children:"0"})]}),L.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-300 mb-4",children:["Uploaded on ",L.jsx("span",{id:"card_uploadTime"})]}),L.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[L.jsx("button",{type:"button",onClick:I,className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] disabled:opacity-70","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_enroll",children:"ENROLL NOW"}),L.jsx("button",{onClick:v,type:"button",className:"inline-block rounded bg-primary-100 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-primary-accent-100 focus:bg-primary-accent-100 focus:outline-none focus:ring-0 active:bg-primary-accent-200","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_wishlist",children:"+ ADD TO WISHLIST"})]})]})]}),L.jsx("br",{}),L.jsx("div",{id:"media_area"})]})},Tj=t=>e=>{const n=dl();return L.jsx(t,{...e,navigate:n})},kj={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},FR=Ks(kj),Rj=qo(FR),fm=Xf(FR);class Cj extends X.Component{constructor(n){super(n);nt(this,"select",n=>{$(".button_choice").attr("class","button_choice"),$(`#b_${n}`).attr("class","button_choice text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"),this.setState({choice:n}),n==="both"?($("#div_video").css("display","inherit"),$("#div_notes").css("display","inherit")):($(".div_upload").css("display","none"),$(`#div_${n}`).css("display","inherit"))});nt(this,"handleKeyPress",n=>{n.preventDefault(),n.key=="Enter"&&this.uploadConfirm()});nt(this,"handleTagKeyPress",n=>{n.key=="Enter"&&(this.setState({tag:this.state.tag.add($("#t_tag").val())}),$("#t_tag").val(""))});nt(this,"removeTag",n=>{this.state.tag.delete(n),this.setState({tag:this.state.tag})});nt(this,"changeSOL",()=>{this.setState({sol:$("#t_sol").val()})});nt(this,"uploadConfirm",async()=>{const{navigate:n}=this.props;if($("#t_title").val()!==""&&$("#t_des").val()!==""&&$("#c_level").val()!==""&&$("#t_sub").val()!==""&&$("#t_lang").val()!==""&&$("#t_sol").val()!=="")if($("#div_tag").html()!=="")if(this.state.choice)if(this.state.thumbnailUpload&&(this.state.choice==="video"&&this.state.videoUpload||this.state.choice==="notes"&&this.state.notesUpload||this.state.choice==="both"&&this.state.videoUpload&&this.state.notesUpload)){if(confirm(`Make sure all information are correct. You cannot edit any part anymore after material is uploaded.

Do not reload the page before uploading process is not done.`)){$("#main").css("opacity",.5),$("#main").css("pointerEvents","none"),$("#main").attr("disabled",!0);const r=await iU(Kf(Rj,"Course"),{title:$("#t_title").val(),des:$("#t_des").val().split(`
`),eduLvl:$("#c_level").val(),sub:$("#t_sub").val(),lang:$("#t_lang").val(),sol:parseFloat($("#t_sol").val()),tag:[...this.state.tag],userUID:this.state.user.uid,mode:this.state.choice,uploadTime:oU(),view:0});console.log("Document written with ID: ",r.id);let i=wi(fm,`${r.id}/thumbnail.jpg`);await Fl(i,this.state.thumbnailUpload).then(()=>{console.log("Uploaded thumbnail file!")});let s=wi(fm,`${r.id}/video.mp4`),o=wi(fm,`${r.id}/notes.pdf`);switch(this.state.choice){case"video":await Fl(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")});break;case"notes":await Fl(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break;case"both":await Fl(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")}),await Fl(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break}$("#main").css("opacity",1),$("#main").css("pointerEvents","inherit"),$("#main").attr("disabled",!1),await alert("Upload success!"),n("/freeflow-edu/")}}else alert("Please upload required image / video / notes.");else alert("Please select either to upload video / notes / both.");else alert("Please add some tags! ");else alert("Please fill in all information required.")});this.state={user:n.state.user,credential:n.state.credential,choice:null,tag:new Set,thumbnailUpload:null,videoUpload:null,notesUpload:null,sol:1}}render(){console.log(this.state);const n=this.state.tag.size===0?[]:[...this.state.tag].map((r,i)=>L.jsxs("span",{id:"tag_"+r,children:[r,L.jsx("button",{onClick:()=>this.removeTag(r),children:"x"})]},r));return L.jsxs("section",{id:"main",children:[L.jsx("h1",{children:"Upload"}),L.jsxs("div",{className:"div_general",children:[L.jsxs("label",{children:[" Course Title:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_tile",id:"t_title",placeholder:"Trigonometry",required:!0})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Course Description:",L.jsx("textarea",{name:"t_des",id:"t_des",placeholder:"Write something here...",required:!0})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Level:",L.jsxs("select",{name:"",id:"c_level",required:!0,children:[L.jsx("option",{value:"",children:"-- Please select --"}),L.jsx("option",{value:"primary",children:"Primary School"}),L.jsx("option",{value:"secondary",children:"Secondary School"}),L.jsx("option",{value:"undergraduate",children:"Undergraduate"}),L.jsx("option",{value:"postgraduate",children:"Postgraduate"}),L.jsx("option",{value:"workplace",children:"Workplace"})]})]}),L.jsxs("label",{children:[" Subject:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_sub",id:"t_sub",placeholder:"Mathematics",required:!0})]}),L.jsxs("label",{children:[" Language:",L.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_lang",id:"t_lang",placeholder:"English",required:!0})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Sell for $:",L.jsx("input",{onKeyUp:this.handleKeyPress,onChange:this.changeSOL,type:"number",name:"t_sol",id:"t_sol",placeholder:"0.00",required:!0})," Solana",L.jsx("br",{}),this.state.sol," SOL = ",L.jsx(R2,{sol:this.state.sol})," USD"]}),L.jsx("br",{}),L.jsxs("label",{children:[" Tag:",L.jsx("input",{onKeyUp:this.handleTagKeyPress,type:"text",name:"t_tag",id:"t_tag",placeholder:"Write some keywords here..."})]}),L.jsx("div",{id:"div_tag",children:n}),L.jsx("br",{}),L.jsxs("label",{children:[" Author:",L.jsx("input",{type:"text",name:"t_author_uid",id:"t_author_uid",value:this.state.user.email,disabled:!0})]}),L.jsx("br",{}),L.jsxs("label",{children:[" Thumbnail:",L.jsx("input",{type:"file",onChange:r=>this.setState({thumbnailUpload:r.target.files[0]}),name:"vid",id:"f_thumbnail",accept:".jpg"})]})]}),L.jsx("br",{}),L.jsx("hr",{}),L.jsx("br",{}),L.jsxs("div",{children:[L.jsx("button",{className:"button_choice",id:"b_video",onClick:()=>this.select("video"),children:"Video"}),L.jsx("button",{className:"button_choice",id:"b_notes",onClick:()=>this.select("notes"),children:"Notes"}),L.jsx("button",{className:"button_choice",id:"b_both",onClick:()=>this.select("both"),children:"Both"})]}),L.jsxs("div",{id:"div_video",className:"div_upload",style:{display:"none"},children:[L.jsx("h1",{children:"Video"}),L.jsxs("label",{children:["Upload Video:",L.jsx("input",{type:"file",onChange:r=>this.setState({videoUpload:r.target.files[0]}),name:"vid",id:"f_video",accept:".mp4"})]}),L.jsx("br",{})]}),L.jsxs("div",{id:"div_notes",className:"div_upload",style:{display:"none"},children:[L.jsx("h1",{children:"Notes"}),L.jsxs("label",{children:["Upload Notes:",L.jsx("input",{type:"file",onChange:r=>this.setState({notesUpload:r.target.files[0]}),name:"vid",id:"f_notes",accept:".pdf"})]}),L.jsx("br",{})]}),L.jsx("br",{}),L.jsx("hr",{}),L.jsx("br",{}),L.jsx("button",{onClick:this.uploadConfirm,children:"Upload"})]})}}const Pj=Tj(Cj);class $S extends X.Component{constructor(n){super(n);nt(this,"auth",po());nt(this,"logout",()=>{zL(this.auth).then(n=>{this.setState({user:null}),this.props.updateUserState(null)}).catch(n=>{console.log(n)}),localStorage.clear()});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return console.log(this.state),this.state?L.jsxs(L.Fragment,{children:[L.jsx("h3",{children:"Are you sure you want to sign out? "}),L.jsx("p",{children:"This action is undone and you will be required to login again."}),L.jsx("button",{onClick:this.logout,children:"Sign out"}),L.jsx("br",{}),L.jsx(xo,{to:"/freeflow-edu/",children:"Back Home"})]}):L.jsx(hu,{to:"/freeflow-edu/"})}}const jS=({setUser:t})=>L.jsxs(L.Fragment,{children:[L.jsx("h1",{children:"404: Page Not Found"}),L.jsx("p",{children:"The specified file was not found on this website. Please check the URL for mistakes and try again."}),L.jsx(xo,{to:"/freeflow-edu/",children:"Back Home"})]});const Nj={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},Mj=Ks(Nj),pm=qo(Mj);class Lj extends X.Component{constructor(n){super(n);nt(this,"auth",po());nt(this,"updateUserState",n=>{this.setState({user:n})});nt(this,"updateRoleState",n=>{this.setState({role:n})});nt(this,"checkIfWalletIsConnected",async()=>{var n;if((n=window==null?void 0:window.solana)!=null&&n.isPhantom){console.log("Phantom wallet found!");const r=await window.solana.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString(),walletResponse:r});const i=En(pm,"Users",this.state.user.uid);return await vu(i,{walletAddress:r.publicKey.toString()}).then(()=>{}),!0}else return console.log("Solana object not found! Get a Phantom Wallet 👻"),!1});nt(this,"connectWallet",async()=>{const{solana:n}=window;if(n){const r=await n.connect().catch(()=>{alert("Fail to connect Wallet. Have you login to your Phantom wallet?")});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString(),walletResponse:r});const i=En(pm,"Users",this.state.user.uid);await vu(i,{walletAddress:r.publicKey.toString()}).then(()=>{})}else alert("You do not have a Phantom wallet. Please install it from your web browser extension store.")});nt(this,"disconnectWallet",async()=>{solana&&(await solana.disconnect(),console.log("Disconnected with Public Key:",this.state.walletAddress),alert("Wallet address"+this.state.walletAddress+" is disconnected from your FreeFlow Edu account now."),this.setState({walletAddress:null}),En(pm,"Users",this.state.user.uid))});nt(this,"renderNotConnectedContainer",()=>L.jsxs("button",{className:"cta-button connect-wallet-button",onClick:this.state.walletAddress?this.disconnectWallet:this.connectWallet,children:[L.jsx("img",{src:"https://3632261023-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MVOiF6Zqit57q_hxJYp%2Ficon%2FU7kNZ4ygz4QW1rUwOuTT%2FWhite%20Ghost_docs_nu.svg?alt=media&token=447b91f6-db6d-4791-902d-35d75c19c3d1",alt:"Phantom",width:"64px"}),this.state.walletAddress?"Disconnect from Wallet "+this.state.walletAddress:"Connect to Wallet"]}));this.state={user:JSON.parse(localStorage.getItem("user")),walletAddress:null,role:null,walletResponse:null}}componentDidMount(){this.state.user!==null&&JSON.parse(localStorage.getItem("user"))&&this.setState({user:JSON.parse(localStorage.getItem("user"))}),this.checkIfWalletIsConnected()}render(){return this.state.user||JSON.parse(localStorage.getItem("user"))?L.jsx(E1,{children:L.jsx(_1,{children:L.jsxs(zn,{exact:!0,path:"/freeflow-edu/",element:L.jsx(dU,{state:this.state,renderNotConnectedContainer:this.renderNotConnectedContainer,updateRoleState:this.updateRoleState}),children:[L.jsx(zn,{index:!0,active:!0,element:L.jsx(L5,{state:this.state})}),L.jsx(zn,{path:"profile/:id",element:L.jsx(D5,{state:this.state})}),L.jsx(zn,{path:"sign-out",element:L.jsx($S,{state:this.state,updateUserState:this.updateUserState})}),L.jsx(zn,{path:"register",element:L.jsx(KE,{state:this.state,updateUserState:this.updateUserState})}),L.jsx(zn,{path:"course/:url",element:L.jsx(Aj,{state:this.state})}),L.jsx(zn,{path:"upload",element:L.jsx(Pj,{state:this.state})}),L.jsx(zn,{path:"first-time-user",element:L.jsx(EU,{state:this.state})}),L.jsx(zn,{path:"*",element:L.jsx(jS,{})})]})})}):(console.log("Session has expired. Login again."),L.jsx(E1,{children:L.jsx(_1,{children:L.jsxs(zn,{exact:!0,path:"/freeflow-edu/",element:L.jsx(lU,{}),children:[L.jsx(zn,{index:!0,active:!0,element:L.jsx(pU,{state:this.state,updateUserState:this.updateUserState})}),L.jsx(zn,{path:"register",element:L.jsx(KE,{state:this.state,updateUserState:this.updateUserState})}),L.jsx(zn,{path:"sign-out",element:L.jsx($S,{})}),L.jsx(zn,{path:"*",element:L.jsx(jS,{})})]})})}))}}gm.createRoot(document.getElementById("root")).render(L.jsx(JS.StrictMode,{children:L.jsx(Lj,{})}));
