var oT=Object.defineProperty;var aT=(t,e,n)=>e in t?oT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var at=(t,e,n)=>(aT(t,typeof e!="symbol"?e+"":e,n),n);function lT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ob={exports:{}},Hf={},Bb={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=Symbol.for("react.element"),cT=Symbol.for("react.portal"),uT=Symbol.for("react.fragment"),hT=Symbol.for("react.strict_mode"),dT=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),pT=Symbol.for("react.context"),gT=Symbol.for("react.forward_ref"),mT=Symbol.for("react.suspense"),yT=Symbol.for("react.memo"),vT=Symbol.for("react.lazy"),Mw=Symbol.iterator;function _T(t){return t===null||typeof t!="object"?null:(t=Mw&&t[Mw]||t["@@iterator"],typeof t=="function"?t:null)}var jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ub=Object.assign,Fb={};function Bl(t,e,n){this.props=t,this.context=e,this.refs=Fb,this.updater=n||jb}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vb(){}Vb.prototype=Bl.prototype;function b1(t,e,n){this.props=t,this.context=e,this.refs=Fb,this.updater=n||jb}var E1=b1.prototype=new Vb;E1.constructor=b1;Ub(E1,Bl.prototype);E1.isPureReactComponent=!0;var Lw=Array.isArray,$b=Object.prototype.hasOwnProperty,S1={current:null},zb={key:!0,ref:!0,__self:!0,__source:!0};function Hb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$b.call(e,r)&&!zb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hu,type:t,key:s,ref:o,props:i,_owner:S1.current}}function wT(t,e){return{$$typeof:Hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hu}function xT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dw=/\/+/g;function N0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xT(""+t.key):e.toString(36)}function ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hu:case cT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+N0(o,0):r,Lw(i)?(n="",t!=null&&(n=t.replace(Dw,"$&/")+"/"),ld(i,e,n,"",function(c){return c})):i!=null&&(I1(i)&&(i=wT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+N0(s,a);o+=ld(s,e,n,l,i)}else if(l=_T(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+N0(s,a++),o+=ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eh(t,e,n){if(t==null)return t;var r=[],i=0;return ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},cd={transition:null},ET={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:cd,ReactCurrentOwner:S1};Fe.Children={map:Eh,forEach:function(t,e,n){Eh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eh(t,function(){e++}),e},toArray:function(t){return Eh(t,function(e){return e})||[]},only:function(t){if(!I1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Bl;Fe.Fragment=uT;Fe.Profiler=dT;Fe.PureComponent=b1;Fe.StrictMode=hT;Fe.Suspense=mT;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ET;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ub({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=S1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$b.call(e,l)&&!zb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Hu,type:t.type,key:i,ref:s,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:pT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fT,_context:t},t.Consumer=t};Fe.createElement=Hb;Fe.createFactory=function(t){var e=Hb.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:gT,render:t}};Fe.isValidElement=I1;Fe.lazy=function(t){return{$$typeof:vT,_payload:{_status:-1,_result:t},_init:bT}};Fe.memo=function(t,e){return{$$typeof:yT,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=cd.transition;cd.transition={};try{t()}finally{cd.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return rr.current.useCallback(t,e)};Fe.useContext=function(t){return rr.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return rr.current.useEffect(t,e)};Fe.useId=function(){return rr.current.useId()};Fe.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return rr.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};Fe.useRef=function(t){return rr.current.useRef(t)};Fe.useState=function(t){return rr.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return rr.current.useTransition()};Fe.version="18.2.0";Bb.exports=Fe;var ee=Bb.exports;const qb=ia(ee),ST=lT({__proto__:null,default:qb},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=ee,AT=Symbol.for("react.element"),kT=Symbol.for("react.fragment"),TT=Object.prototype.hasOwnProperty,CT=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RT={key:!0,ref:!0,__self:!0,__source:!0};function Wb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TT.call(e,r)&&!RT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AT,type:t,key:s,ref:o,props:i,_owner:CT.current}}Hf.Fragment=kT;Hf.jsx=Wb;Hf.jsxs=Wb;Ob.exports=Hf;var u=Ob.exports,Sm={},Kb={exports:{}},kr={},Gb={exports:{}},Zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,k){var M=C.length;C.push(k);e:for(;0<M;){var I=M-1>>>1,p=C[I];if(0<i(p,k))C[I]=k,C[M]=p,M=I;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var k=C[0],M=C.pop();if(M!==k){C[0]=M;e:for(var I=0,p=C.length,L=p>>>1;I<L;){var W=2*(I+1)-1,Y=C[W],X=W+1,oe=C[X];if(0>i(Y,M))X<p&&0>i(oe,Y)?(C[I]=oe,C[X]=M,I=X):(C[I]=Y,C[W]=M,I=W);else if(X<p&&0>i(oe,M))C[I]=oe,C[X]=M,I=X;else break e}}return k}function i(C,k){var M=C.sortIndex-k.sortIndex;return M!==0?M:C.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,v=3,w=!1,S=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=C)r(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function P(C){if(b=!1,y(C),!S)if(n(l)!==null)S=!0,T(N);else{var k=n(c);k!==null&&D(P,k.startTime-C)}}function N(C,k){S=!1,b&&(b=!1,x(F),F=-1),w=!0;var M=v;try{for(y(k),f=n(l);f!==null&&(!(f.expirationTime>k)||C&&!Z());){var I=f.callback;if(typeof I=="function"){f.callback=null,v=f.priorityLevel;var p=I(f.expirationTime<=k);k=t.unstable_now(),typeof p=="function"?f.callback=p:f===n(l)&&r(l),y(k)}else r(l);f=n(l)}if(f!==null)var L=!0;else{var W=n(c);W!==null&&D(P,W.startTime-k),L=!1}return L}finally{f=null,v=M,w=!1}}var O=!1,U=null,F=-1,G=5,Q=-1;function Z(){return!(t.unstable_now()-Q<G)}function ue(){if(U!==null){var C=t.unstable_now();Q=C;var k=!0;try{k=U(!0,C)}finally{k?j():(O=!1,U=null)}}else O=!1}var j;if(typeof E=="function")j=function(){E(ue)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,_=d.port2;d.port1.onmessage=ue,j=function(){_.postMessage(null)}}else j=function(){A(ue,0)};function T(C){U=C,O||(O=!0,j())}function D(C,k){F=A(function(){C(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,T(N))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(v){case 1:case 2:case 3:var k=3;break;default:k=v}var M=v;v=k;try{return C()}finally{v=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,k){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=v;v=C;try{return k()}finally{v=M}},t.unstable_scheduleCallback=function(C,k,M){var I=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?I+M:I):M=I,C){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=M+p,C={id:h++,callback:k,priorityLevel:C,startTime:M,expirationTime:p,sortIndex:-1},M>I?(C.sortIndex=M,e(c,C),n(l)===null&&C===n(c)&&(b?(x(F),F=-1):b=!0,D(P,M-I))):(C.sortIndex=p,e(l,C),S||w||(S=!0,T(N))),C},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(C){var k=v;return function(){var M=v;v=k;try{return C.apply(this,arguments)}finally{v=M}}}})(Zb);Gb.exports=Zb;var PT=Gb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=ee,br=PT;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yb=new Set,iu={};function sa(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(iu[t]=e,t=0;t<e.length;t++)Yb.add(e[t])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Im=Object.prototype.hasOwnProperty,NT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ow={},Bw={};function MT(t){return Im.call(Bw,t)?!0:Im.call(Ow,t)?!1:NT.test(t)?Bw[t]=!0:(Ow[t]=!0,!1)}function LT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DT(t,e,n,r){if(e===null||typeof e>"u"||LT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var A1=/[\-:]([a-z])/g;function k1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(A1,k1);Rn[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(A1,k1);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(A1,k1);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function T1(t,e,n,r){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DT(e,n,i,r)&&(n=null),r||i===null?MT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=Qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sh=Symbol.for("react.element"),Ca=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),C1=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Jb=Symbol.for("react.context"),R1=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),P1=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),eE=Symbol.for("react.offscreen"),jw=Symbol.iterator;function oc(t){return t===null||typeof t!="object"?null:(t=jw&&t[jw]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,M0;function Sc(t){if(M0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M0=e&&e[1]||""}return`
`+M0+t}var L0=!1;function D0(t,e){if(!t||L0)return"";L0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{L0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sc(t):""}function OT(t){switch(t.tag){case 5:return Sc(t.type);case 16:return Sc("Lazy");case 13:return Sc("Suspense");case 19:return Sc("SuspenseList");case 0:case 2:case 15:return t=D0(t.type,!1),t;case 11:return t=D0(t.type.render,!1),t;case 1:return t=D0(t.type,!0),t;default:return""}}function Cm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Ca:return"Portal";case Am:return"Profiler";case C1:return"StrictMode";case km:return"Suspense";case Tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jb:return(t.displayName||"Context")+".Consumer";case Xb:return(t._context.displayName||"Context")+".Provider";case R1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P1:return e=t.displayName||null,e!==null?e:Cm(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return Cm(t(e))}catch{}}return null}function BT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cm(e);case 8:return e===C1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jT(t){var e=tE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ih(t){t._valueTracker||(t._valueTracker=jT(t))}function nE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rm(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rE(t,e){e=e.checked,e!=null&&T1(t,"checked",e,!1)}function Pm(t,e){rE(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nm(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nm(t,e,n){(e!=="number"||Md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ic=Array.isArray;function qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(Ic(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function iE(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $w(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ah,oE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ah=Ah||document.createElement("div"),Ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function su(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UT=["Webkit","ms","Moz","O"];Object.keys(jc).forEach(function(t){UT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jc[e]=jc[t]})});function aE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jc.hasOwnProperty(t)&&jc[t]?(""+e).trim():e+"px"}function lE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FT=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(t,e){if(e){if(FT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Om(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function N1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jm=null,Wa=null,Ka=null;function zw(t){if(t=Ku(t)){if(typeof jm!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Zf(e),jm(t.stateNode,t.type,e))}}function cE(t){Wa?Ka?Ka.push(t):Ka=[t]:Wa=t}function uE(){if(Wa){var t=Wa,e=Ka;if(Ka=Wa=null,zw(t),e)for(t=0;t<e.length;t++)zw(e[t])}}function hE(t,e){return t(e)}function dE(){}var O0=!1;function fE(t,e,n){if(O0)return t(e,n);O0=!0;try{return hE(t,e,n)}finally{O0=!1,(Wa!==null||Ka!==null)&&(dE(),uE())}}function ou(t,e){var n=t.stateNode;if(n===null)return null;var r=Zf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Um=!1;if(ts)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){Um=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{Um=!1}function VT(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Uc=!1,Ld=null,Dd=!1,Fm=null,$T={onError:function(t){Uc=!0,Ld=t}};function zT(t,e,n,r,i,s,o,a,l){Uc=!1,Ld=null,VT.apply($T,arguments)}function HT(t,e,n,r,i,s,o,a,l){if(zT.apply(this,arguments),Uc){if(Uc){var c=Ld;Uc=!1,Ld=null}else throw Error(re(198));Dd||(Dd=!0,Fm=c)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hw(t){if(oa(t)!==t)throw Error(re(188))}function qT(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hw(i),t;if(s===r)return Hw(i),e;s=s.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function gE(t){return t=qT(t),t!==null?mE(t):null}function mE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mE(t);if(e!==null)return e;t=t.sibling}return null}var yE=br.unstable_scheduleCallback,qw=br.unstable_cancelCallback,WT=br.unstable_shouldYield,KT=br.unstable_requestPaint,Lt=br.unstable_now,GT=br.unstable_getCurrentPriorityLevel,M1=br.unstable_ImmediatePriority,vE=br.unstable_UserBlockingPriority,Od=br.unstable_NormalPriority,ZT=br.unstable_LowPriority,_E=br.unstable_IdlePriority,qf=null,Si=null;function QT(t){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(qf,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:JT,YT=Math.log,XT=Math.LN2;function JT(t){return t>>>=0,t===0?32:31-(YT(t)/XT|0)|0}var kh=64,Th=4194304;function Ac(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ac(a):(s&=o,s!==0&&(r=Ac(s)))}else o=n&~i,o!==0?r=Ac(o):s!==0&&(r=Ac(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ti(e),i=1<<n,r|=t[n],e&=~i;return r}function eC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ti(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=eC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wE(){var t=kh;return kh<<=1,!(kh&4194240)&&(kh=64),t}function B0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=n}function nC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ti(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function L1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ti(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nt=0;function xE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bE,D1,EE,SE,IE,$m=!1,Ch=[],Bs=null,js=null,Us=null,au=new Map,lu=new Map,Is=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ww(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(e.pointerId)}}function lc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ku(e),e!==null&&D1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iC(t,e,n,r,i){switch(e){case"focusin":return Bs=lc(Bs,t,e,n,r,i),!0;case"dragenter":return js=lc(js,t,e,n,r,i),!0;case"mouseover":return Us=lc(Us,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return au.set(s,lc(au.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lu.set(s,lc(lu.get(s)||null,t,e,n,r,i)),!0}return!1}function AE(t){var e=So(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=pE(n),e!==null){t.blockedOn=e,IE(t.priority,function(){EE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bm=r,n.target.dispatchEvent(r),Bm=null}else return e=Ku(n),e!==null&&D1(e),t.blockedOn=n,!1;e.shift()}return!0}function Kw(t,e,n){ud(t)&&n.delete(e)}function sC(){$m=!1,Bs!==null&&ud(Bs)&&(Bs=null),js!==null&&ud(js)&&(js=null),Us!==null&&ud(Us)&&(Us=null),au.forEach(Kw),lu.forEach(Kw)}function cc(t,e){t.blockedOn===e&&(t.blockedOn=null,$m||($m=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,sC)))}function cu(t){function e(i){return cc(i,t)}if(0<Ch.length){cc(Ch[0],t);for(var n=1;n<Ch.length;n++){var r=Ch[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bs!==null&&cc(Bs,t),js!==null&&cc(js,t),Us!==null&&cc(Us,t),au.forEach(e),lu.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)AE(n),n.blockedOn===null&&Is.shift()}var Ga=us.ReactCurrentBatchConfig,jd=!0;function oC(t,e,n,r){var i=nt,s=Ga.transition;Ga.transition=null;try{nt=1,O1(t,e,n,r)}finally{nt=i,Ga.transition=s}}function aC(t,e,n,r){var i=nt,s=Ga.transition;Ga.transition=null;try{nt=4,O1(t,e,n,r)}finally{nt=i,Ga.transition=s}}function O1(t,e,n,r){if(jd){var i=zm(t,e,n,r);if(i===null)K0(t,e,r,Ud,n),Ww(t,r);else if(iC(i,t,e,n,r))r.stopPropagation();else if(Ww(t,r),e&4&&-1<rC.indexOf(t)){for(;i!==null;){var s=Ku(i);if(s!==null&&bE(s),s=zm(t,e,n,r),s===null&&K0(t,e,r,Ud,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else K0(t,e,r,null,n)}}var Ud=null;function zm(t,e,n,r){if(Ud=null,t=N1(r),t=So(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ud=t,null}function kE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GT()){case M1:return 1;case vE:return 4;case Od:case ZT:return 16;case _E:return 536870912;default:return 16}default:return 16}}var Ps=null,B1=null,hd=null;function TE(){if(hd)return hd;var t,e=B1,n=e.length,r,i="value"in Ps?Ps.value:Ps.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hd=i.slice(t,1<r?1-r:void 0)}function dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rh(){return!0}function Gw(){return!1}function Tr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rh:Gw,this.isPropagationStopped=Gw,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),e}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j1=Tr(jl),Wu=Et({},jl,{view:0,detail:0}),lC=Tr(Wu),j0,U0,uc,Wf=Et({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uc&&(uc&&t.type==="mousemove"?(j0=t.screenX-uc.screenX,U0=t.screenY-uc.screenY):U0=j0=0,uc=t),j0)},movementY:function(t){return"movementY"in t?t.movementY:U0}}),Zw=Tr(Wf),cC=Et({},Wf,{dataTransfer:0}),uC=Tr(cC),hC=Et({},Wu,{relatedTarget:0}),F0=Tr(hC),dC=Et({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),fC=Tr(dC),pC=Et({},jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gC=Tr(pC),mC=Et({},jl,{data:0}),Qw=Tr(mC),yC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_C[t])?!!e[t]:!1}function U1(){return wC}var xC=Et({},Wu,{key:function(t){if(t.key){var e=yC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U1,charCode:function(t){return t.type==="keypress"?dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bC=Tr(xC),EC=Et({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yw=Tr(EC),SC=Et({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U1}),IC=Tr(SC),AC=Et({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=Tr(AC),TC=Et({},Wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CC=Tr(TC),RC=[9,13,27,32],F1=ts&&"CompositionEvent"in window,Fc=null;ts&&"documentMode"in document&&(Fc=document.documentMode);var PC=ts&&"TextEvent"in window&&!Fc,CE=ts&&(!F1||Fc&&8<Fc&&11>=Fc),Xw=String.fromCharCode(32),Jw=!1;function RE(t,e){switch(t){case"keyup":return RC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function NC(t,e){switch(t){case"compositionend":return PE(e);case"keypress":return e.which!==32?null:(Jw=!0,Xw);case"textInput":return t=e.data,t===Xw&&Jw?null:t;default:return null}}function MC(t,e){if(Pa)return t==="compositionend"||!F1&&RE(t,e)?(t=TE(),hd=B1=Ps=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CE&&e.locale!=="ko"?null:e.data;default:return null}}var LC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LC[t.type]:e==="textarea"}function NE(t,e,n,r){cE(r),e=Fd(e,"onChange"),0<e.length&&(n=new j1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vc=null,uu=null;function DC(t){zE(t,0)}function Kf(t){var e=La(t);if(nE(e))return t}function OC(t,e){if(t==="change")return e}var ME=!1;if(ts){var V0;if(ts){var $0="oninput"in document;if(!$0){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),$0=typeof tx.oninput=="function"}V0=$0}else V0=!1;ME=V0&&(!document.documentMode||9<document.documentMode)}function nx(){Vc&&(Vc.detachEvent("onpropertychange",LE),uu=Vc=null)}function LE(t){if(t.propertyName==="value"&&Kf(uu)){var e=[];NE(e,uu,t,N1(t)),fE(DC,e)}}function BC(t,e,n){t==="focusin"?(nx(),Vc=e,uu=n,Vc.attachEvent("onpropertychange",LE)):t==="focusout"&&nx()}function jC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kf(uu)}function UC(t,e){if(t==="click")return Kf(e)}function FC(t,e){if(t==="input"||t==="change")return Kf(e)}function VC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ai=typeof Object.is=="function"?Object.is:VC;function hu(t,e){if(ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Im.call(e,i)||!ai(t[i],e[i]))return!1}return!0}function rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ix(t,e){var n=rx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rx(n)}}function DE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OE(){for(var t=window,e=Md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Md(t.document)}return e}function V1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $C(t){var e=OE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DE(n.ownerDocument.documentElement,n)){if(r!==null&&V1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ix(n,s);var o=ix(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zC=ts&&"documentMode"in document&&11>=document.documentMode,Na=null,Hm=null,$c=null,qm=!1;function sx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qm||Na==null||Na!==Md(r)||(r=Na,"selectionStart"in r&&V1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$c&&hu($c,r)||($c=r,r=Fd(Hm,"onSelect"),0<r.length&&(e=new j1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function Ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ma={animationend:Ph("Animation","AnimationEnd"),animationiteration:Ph("Animation","AnimationIteration"),animationstart:Ph("Animation","AnimationStart"),transitionend:Ph("Transition","TransitionEnd")},z0={},BE={};ts&&(BE=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Gf(t){if(z0[t])return z0[t];if(!Ma[t])return t;var e=Ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BE)return z0[t]=e[n];return t}var jE=Gf("animationend"),UE=Gf("animationiteration"),FE=Gf("animationstart"),VE=Gf("transitionend"),$E=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){$E.set(t,e),sa(e,[t])}for(var H0=0;H0<ox.length;H0++){var q0=ox[H0],HC=q0.toLowerCase(),qC=q0[0].toUpperCase()+q0.slice(1);io(HC,"on"+qC)}io(jE,"onAnimationEnd");io(UE,"onAnimationIteration");io(FE,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(VE,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function ax(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HT(r,e,void 0,t),t.currentTarget=null}function zE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ax(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ax(i,a,c),s=l}}}if(Dd)throw t=Fm,Dd=!1,Fm=null,t}function ut(t,e){var n=e[Qm];n===void 0&&(n=e[Qm]=new Set);var r=t+"__bubble";n.has(r)||(HE(e,t,2,!1),n.add(r))}function W0(t,e,n){var r=0;e&&(r|=4),HE(n,t,r,e)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function du(t){if(!t[Nh]){t[Nh]=!0,Yb.forEach(function(n){n!=="selectionchange"&&(WC.has(n)||W0(n,!1,t),W0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nh]||(e[Nh]=!0,W0("selectionchange",!1,e))}}function HE(t,e,n,r){switch(kE(e)){case 1:var i=oC;break;case 4:i=aC;break;default:i=O1}n=i.bind(null,e,n,t),i=void 0,!Um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function K0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=So(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fE(function(){var c=s,h=N1(n),f=[];e:{var v=$E.get(t);if(v!==void 0){var w=j1,S=t;switch(t){case"keypress":if(dd(n)===0)break e;case"keydown":case"keyup":w=bC;break;case"focusin":S="focus",w=F0;break;case"focusout":S="blur",w=F0;break;case"beforeblur":case"afterblur":w=F0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=uC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=IC;break;case jE:case UE:case FE:w=fC;break;case VE:w=kC;break;case"scroll":w=lC;break;case"wheel":w=CC;break;case"copy":case"cut":case"paste":w=gC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Yw}var b=(e&4)!==0,A=!b&&t==="scroll",x=b?v!==null?v+"Capture":null:v;b=[];for(var E=c,y;E!==null;){y=E;var P=y.stateNode;if(y.tag===5&&P!==null&&(y=P,x!==null&&(P=ou(E,x),P!=null&&b.push(fu(E,P,y)))),A)break;E=E.return}0<b.length&&(v=new w(v,S,null,n,h),f.push({event:v,listeners:b}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",v&&n!==Bm&&(S=n.relatedTarget||n.fromElement)&&(So(S)||S[ns]))break e;if((w||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,w?(S=n.relatedTarget||n.toElement,w=c,S=S?So(S):null,S!==null&&(A=oa(S),S!==A||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=c),w!==S)){if(b=Zw,P="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(b=Yw,P="onPointerLeave",x="onPointerEnter",E="pointer"),A=w==null?v:La(w),y=S==null?v:La(S),v=new b(P,E+"leave",w,n,h),v.target=A,v.relatedTarget=y,P=null,So(h)===c&&(b=new b(x,E+"enter",S,n,h),b.target=y,b.relatedTarget=A,P=b),A=P,w&&S)t:{for(b=w,x=S,E=0,y=b;y;y=wa(y))E++;for(y=0,P=x;P;P=wa(P))y++;for(;0<E-y;)b=wa(b),E--;for(;0<y-E;)x=wa(x),y--;for(;E--;){if(b===x||x!==null&&b===x.alternate)break t;b=wa(b),x=wa(x)}b=null}else b=null;w!==null&&lx(f,v,w,b,!1),S!==null&&A!==null&&lx(f,A,S,b,!0)}}e:{if(v=c?La(c):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var N=OC;else if(ex(v))if(ME)N=FC;else{N=jC;var O=BC}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=UC);if(N&&(N=N(t,c))){NE(f,N,n,h);break e}O&&O(t,v,c),t==="focusout"&&(O=v._wrapperState)&&O.controlled&&v.type==="number"&&Nm(v,"number",v.value)}switch(O=c?La(c):window,t){case"focusin":(ex(O)||O.contentEditable==="true")&&(Na=O,Hm=c,$c=null);break;case"focusout":$c=Hm=Na=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,sx(f,n,h);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":sx(f,n,h)}var U;if(F1)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Pa?RE(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(CE&&n.locale!=="ko"&&(Pa||F!=="onCompositionStart"?F==="onCompositionEnd"&&Pa&&(U=TE()):(Ps=h,B1="value"in Ps?Ps.value:Ps.textContent,Pa=!0)),O=Fd(c,F),0<O.length&&(F=new Qw(F,t,null,n,h),f.push({event:F,listeners:O}),U?F.data=U:(U=PE(n),U!==null&&(F.data=U)))),(U=PC?NC(t,n):MC(t,n))&&(c=Fd(c,"onBeforeInput"),0<c.length&&(h=new Qw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=U))}zE(f,e)})}function fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ou(t,n),s!=null&&r.unshift(fu(t,s,i)),s=ou(t,e),s!=null&&r.push(fu(t,s,i))),t=t.return}return r}function wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lx(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ou(n,s),l!=null&&o.unshift(fu(n,l,a))):i||(l=ou(n,s),l!=null&&o.push(fu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var KC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function cx(t){return(typeof t=="string"?t:""+t).replace(KC,`
`).replace(GC,"")}function Mh(t,e,n){if(e=cx(e),cx(t)!==e&&n)throw Error(re(425))}function Vd(){}var Wm=null,Km=null;function Gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,ZC=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,QC=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(t){return ux.resolve(null).then(t).catch(YC)}:Zm;function YC(t){setTimeout(function(){throw t})}function G0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cu(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ul=Math.random().toString(36).slice(2),mi="__reactFiber$"+Ul,pu="__reactProps$"+Ul,ns="__reactContainer$"+Ul,Qm="__reactEvents$"+Ul,XC="__reactListeners$"+Ul,JC="__reactHandles$"+Ul;function So(t){var e=t[mi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ns]||n[mi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hx(t);t!==null;){if(n=t[mi])return n;t=hx(t)}return e}t=n,n=t.parentNode}return null}function Ku(t){return t=t[mi]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Zf(t){return t[pu]||null}var Ym=[],Da=-1;function so(t){return{current:t}}function ft(t){0>Da||(t.current=Ym[Da],Ym[Da]=null,Da--)}function lt(t,e){Da++,Ym[Da]=t.current,t.current=e}var Ys={},Hn=so(Ys),cr=so(!1),$o=Ys;function ll(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ur(t){return t=t.childContextTypes,t!=null}function $d(){ft(cr),ft(Hn)}function dx(t,e,n){if(Hn.current!==Ys)throw Error(re(168));lt(Hn,e),lt(cr,n)}function qE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,BT(t)||"Unknown",i));return Et({},n,r)}function zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,$o=Hn.current,lt(Hn,t),lt(cr,cr.current),!0}function fx(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=qE(t,e,$o),r.__reactInternalMemoizedMergedChildContext=t,ft(cr),ft(Hn),lt(Hn,t)):ft(cr),lt(cr,n)}var zi=null,Qf=!1,Z0=!1;function WE(t){zi===null?zi=[t]:zi.push(t)}function eR(t){Qf=!0,WE(t)}function oo(){if(!Z0&&zi!==null){Z0=!0;var t=0,e=nt;try{var n=zi;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zi=null,Qf=!1}catch(i){throw zi!==null&&(zi=zi.slice(t+1)),yE(M1,oo),i}finally{nt=e,Z0=!1}}return null}var Oa=[],Ba=0,Hd=null,qd=0,Br=[],jr=0,zo=null,Wi=1,Ki="";function yo(t,e){Oa[Ba++]=qd,Oa[Ba++]=Hd,Hd=t,qd=e}function KE(t,e,n){Br[jr++]=Wi,Br[jr++]=Ki,Br[jr++]=zo,zo=t;var r=Wi;t=Ki;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var s=32-ti(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wi=1<<32-ti(e)+i|n<<i|r,Ki=s+t}else Wi=1<<s|n<<i|r,Ki=t}function $1(t){t.return!==null&&(yo(t,1),KE(t,1,0))}function z1(t){for(;t===Hd;)Hd=Oa[--Ba],Oa[Ba]=null,qd=Oa[--Ba],Oa[Ba]=null;for(;t===zo;)zo=Br[--jr],Br[jr]=null,Ki=Br[--jr],Br[jr]=null,Wi=Br[--jr],Br[jr]=null}var wr=null,yr=null,yt=!1,Jr=null;function GE(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function px(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,yr=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zo!==null?{id:Wi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,yr=null,!0):!1;default:return!1}}function Xm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jm(t){if(yt){var e=yr;if(e){var n=e;if(!px(t,e)){if(Xm(t))throw Error(re(418));e=Fs(n.nextSibling);var r=wr;e&&px(t,e)?GE(r,n):(t.flags=t.flags&-4097|2,yt=!1,wr=t)}}else{if(Xm(t))throw Error(re(418));t.flags=t.flags&-4097|2,yt=!1,wr=t}}}function gx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function Lh(t){if(t!==wr)return!1;if(!yt)return gx(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gm(t.type,t.memoizedProps)),e&&(e=yr)){if(Xm(t))throw ZE(),Error(re(418));for(;e;)GE(t,e),e=Fs(e.nextSibling)}if(gx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yr=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yr=null}}else yr=wr?Fs(t.stateNode.nextSibling):null;return!0}function ZE(){for(var t=yr;t;)t=Fs(t.nextSibling)}function cl(){yr=wr=null,yt=!1}function H1(t){Jr===null?Jr=[t]:Jr.push(t)}var tR=us.ReactCurrentBatchConfig;function Yr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Wd=so(null),Kd=null,ja=null,q1=null;function W1(){q1=ja=Kd=null}function K1(t){var e=Wd.current;ft(Wd),t._currentValue=e}function ey(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Za(t,e){Kd=t,q1=ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Hr(t){var e=t._currentValue;if(q1!==t)if(t={context:t,memoizedValue:e,next:null},ja===null){if(Kd===null)throw Error(re(308));ja=t,Kd.dependencies={lanes:0,firstContext:t}}else ja=ja.next=t;return e}var Io=null;function G1(t){Io===null?Io=[t]:Io.push(t)}function QE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,G1(e)):(n.next=i.next,i.next=n),e.interleaved=n,rs(t,r)}function rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ss=!1;function Z1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rs(t,n)}return i=r.interleaved,i===null?(e.next=e,G1(r)):(e.next=i.next,i.next=e),r.interleaved=e,rs(t,n)}function fd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,L1(t,n)}}function mx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gd(t,e,n,r){var i=t.updateQueue;Ss=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var v=a.lane,w=a.eventTime;if((r&v)===v){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,b=a;switch(v=e,w=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){f=S.call(w,f,v);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,v=typeof S=="function"?S.call(w,f,v):S,v==null)break e;f=Et({},f,v);break e;case 2:Ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else w={eventTime:w,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=w,l=f):h=h.next=w,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qo|=o,t.lanes=o,t.memoizedState=f}}function yx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var XE=new Qb.Component().refs;function ty(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yf={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=zs(t),s=Xi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vs(t,s,i),e!==null&&(ni(e,t,i,r),fd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=zs(t),s=Xi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vs(t,s,i),e!==null&&(ni(e,t,i,r),fd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jn(),r=zs(t),i=Xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vs(t,i,r),e!==null&&(ni(e,t,r,n),fd(e,t,r))}};function vx(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hu(n,r)||!hu(i,s):!0}function JE(t,e,n){var r=!1,i=Ys,s=e.contextType;return typeof s=="object"&&s!==null?s=Hr(s):(i=ur(e)?$o:Hn.current,r=e.contextTypes,s=(r=r!=null)?ll(t,i):Ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _x(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yf.enqueueReplaceState(e,e.state,null)}function ny(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=XE,Z1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hr(s):(s=ur(e)?$o:Hn.current,i.context=ll(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ty(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yf.enqueueReplaceState(i,i.state,null),Gd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===XE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Dh(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wx(t){var e=t._init;return e(t._payload)}function e3(t){function e(x,E){if(t){var y=x.deletions;y===null?(x.deletions=[E],x.flags|=16):y.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=Hs(x,E),x.index=0,x.sibling=null,x}function s(x,E,y){return x.index=y,t?(y=x.alternate,y!==null?(y=y.index,y<E?(x.flags|=2,E):y):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,E,y,P){return E===null||E.tag!==6?(E=ng(y,x.mode,P),E.return=x,E):(E=i(E,y),E.return=x,E)}function l(x,E,y,P){var N=y.type;return N===Ra?h(x,E,y.props.children,P,y.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Es&&wx(N)===E.type)?(P=i(E,y.props),P.ref=hc(x,E,y),P.return=x,P):(P=_d(y.type,y.key,y.props,null,x.mode,P),P.ref=hc(x,E,y),P.return=x,P)}function c(x,E,y,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=rg(y,x.mode,P),E.return=x,E):(E=i(E,y.children||[]),E.return=x,E)}function h(x,E,y,P,N){return E===null||E.tag!==7?(E=Mo(y,x.mode,P,N),E.return=x,E):(E=i(E,y),E.return=x,E)}function f(x,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ng(""+E,x.mode,y),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sh:return y=_d(E.type,E.key,E.props,null,x.mode,y),y.ref=hc(x,null,E),y.return=x,y;case Ca:return E=rg(E,x.mode,y),E.return=x,E;case Es:var P=E._init;return f(x,P(E._payload),y)}if(Ic(E)||oc(E))return E=Mo(E,x.mode,y,null),E.return=x,E;Dh(x,E)}return null}function v(x,E,y,P){var N=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:a(x,E,""+y,P);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sh:return y.key===N?l(x,E,y,P):null;case Ca:return y.key===N?c(x,E,y,P):null;case Es:return N=y._init,v(x,E,N(y._payload),P)}if(Ic(y)||oc(y))return N!==null?null:h(x,E,y,P,null);Dh(x,y)}return null}function w(x,E,y,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(y)||null,a(E,x,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Sh:return x=x.get(P.key===null?y:P.key)||null,l(E,x,P,N);case Ca:return x=x.get(P.key===null?y:P.key)||null,c(E,x,P,N);case Es:var O=P._init;return w(x,E,y,O(P._payload),N)}if(Ic(P)||oc(P))return x=x.get(y)||null,h(E,x,P,N,null);Dh(E,P)}return null}function S(x,E,y,P){for(var N=null,O=null,U=E,F=E=0,G=null;U!==null&&F<y.length;F++){U.index>F?(G=U,U=null):G=U.sibling;var Q=v(x,U,y[F],P);if(Q===null){U===null&&(U=G);break}t&&U&&Q.alternate===null&&e(x,U),E=s(Q,E,F),O===null?N=Q:O.sibling=Q,O=Q,U=G}if(F===y.length)return n(x,U),yt&&yo(x,F),N;if(U===null){for(;F<y.length;F++)U=f(x,y[F],P),U!==null&&(E=s(U,E,F),O===null?N=U:O.sibling=U,O=U);return yt&&yo(x,F),N}for(U=r(x,U);F<y.length;F++)G=w(U,x,F,y[F],P),G!==null&&(t&&G.alternate!==null&&U.delete(G.key===null?F:G.key),E=s(G,E,F),O===null?N=G:O.sibling=G,O=G);return t&&U.forEach(function(Z){return e(x,Z)}),yt&&yo(x,F),N}function b(x,E,y,P){var N=oc(y);if(typeof N!="function")throw Error(re(150));if(y=N.call(y),y==null)throw Error(re(151));for(var O=N=null,U=E,F=E=0,G=null,Q=y.next();U!==null&&!Q.done;F++,Q=y.next()){U.index>F?(G=U,U=null):G=U.sibling;var Z=v(x,U,Q.value,P);if(Z===null){U===null&&(U=G);break}t&&U&&Z.alternate===null&&e(x,U),E=s(Z,E,F),O===null?N=Z:O.sibling=Z,O=Z,U=G}if(Q.done)return n(x,U),yt&&yo(x,F),N;if(U===null){for(;!Q.done;F++,Q=y.next())Q=f(x,Q.value,P),Q!==null&&(E=s(Q,E,F),O===null?N=Q:O.sibling=Q,O=Q);return yt&&yo(x,F),N}for(U=r(x,U);!Q.done;F++,Q=y.next())Q=w(U,x,F,Q.value,P),Q!==null&&(t&&Q.alternate!==null&&U.delete(Q.key===null?F:Q.key),E=s(Q,E,F),O===null?N=Q:O.sibling=Q,O=Q);return t&&U.forEach(function(ue){return e(x,ue)}),yt&&yo(x,F),N}function A(x,E,y,P){if(typeof y=="object"&&y!==null&&y.type===Ra&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Sh:e:{for(var N=y.key,O=E;O!==null;){if(O.key===N){if(N=y.type,N===Ra){if(O.tag===7){n(x,O.sibling),E=i(O,y.props.children),E.return=x,x=E;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Es&&wx(N)===O.type){n(x,O.sibling),E=i(O,y.props),E.ref=hc(x,O,y),E.return=x,x=E;break e}n(x,O);break}else e(x,O);O=O.sibling}y.type===Ra?(E=Mo(y.props.children,x.mode,P,y.key),E.return=x,x=E):(P=_d(y.type,y.key,y.props,null,x.mode,P),P.ref=hc(x,E,y),P.return=x,x=P)}return o(x);case Ca:e:{for(O=y.key;E!==null;){if(E.key===O)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){n(x,E.sibling),E=i(E,y.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=rg(y,x.mode,P),E.return=x,x=E}return o(x);case Es:return O=y._init,A(x,E,O(y._payload),P)}if(Ic(y))return S(x,E,y,P);if(oc(y))return b(x,E,y,P);Dh(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(n(x,E.sibling),E=i(E,y),E.return=x,x=E):(n(x,E),E=ng(y,x.mode,P),E.return=x,x=E),o(x)):n(x,E)}return A}var ul=e3(!0),t3=e3(!1),Gu={},Ii=so(Gu),gu=so(Gu),mu=so(Gu);function Ao(t){if(t===Gu)throw Error(re(174));return t}function Q1(t,e){switch(lt(mu,e),lt(gu,t),lt(Ii,Gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lm(e,t)}ft(Ii),lt(Ii,e)}function hl(){ft(Ii),ft(gu),ft(mu)}function n3(t){Ao(mu.current);var e=Ao(Ii.current),n=Lm(e,t.type);e!==n&&(lt(gu,t),lt(Ii,n))}function Y1(t){gu.current===t&&(ft(Ii),ft(gu))}var vt=so(0);function Zd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Q0=[];function X1(){for(var t=0;t<Q0.length;t++)Q0[t]._workInProgressVersionPrimary=null;Q0.length=0}var pd=us.ReactCurrentDispatcher,Y0=us.ReactCurrentBatchConfig,Ho=0,xt=null,on=null,hn=null,Qd=!1,zc=!1,yu=0,nR=0;function Pn(){throw Error(re(321))}function J1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ai(t[n],e[n]))return!1;return!0}function ev(t,e,n,r,i,s){if(Ho=s,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pd.current=t===null||t.memoizedState===null?oR:aR,t=n(r,i),zc){s=0;do{if(zc=!1,yu=0,25<=s)throw Error(re(301));s+=1,hn=on=null,e.updateQueue=null,pd.current=lR,t=n(r,i)}while(zc)}if(pd.current=Yd,e=on!==null&&on.next!==null,Ho=0,hn=on=xt=null,Qd=!1,e)throw Error(re(300));return t}function tv(){var t=yu!==0;return yu=0,t}function gi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?xt.memoizedState=hn=t:hn=hn.next=t,hn}function qr(){if(on===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=hn===null?xt.memoizedState:hn.next;if(e!==null)hn=e,on=t;else{if(t===null)throw Error(re(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?xt.memoizedState=hn=t:hn=hn.next=t}return hn}function vu(t,e){return typeof e=="function"?e(t):e}function X0(t){var e=qr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=on,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ho&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,xt.lanes|=h,qo|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ai(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xt.lanes|=s,qo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function J0(t){var e=qr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ai(s,e.memoizedState)||(lr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function r3(){}function i3(t,e){var n=xt,r=qr(),i=e(),s=!ai(r.memoizedState,i);if(s&&(r.memoizedState=i,lr=!0),r=r.queue,nv(a3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,_u(9,o3.bind(null,n,r,i,e),void 0,null),pn===null)throw Error(re(349));Ho&30||s3(n,e,i)}return i}function s3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function o3(t,e,n,r){e.value=n,e.getSnapshot=r,l3(e)&&c3(t)}function a3(t,e,n){return n(function(){l3(e)&&c3(t)})}function l3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ai(t,n)}catch{return!0}}function c3(t){var e=rs(t,1);e!==null&&ni(e,t,1,-1)}function xx(t){var e=gi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:t},e.queue=t,t=t.dispatch=sR.bind(null,xt,t),[e.memoizedState,t]}function _u(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function u3(){return qr().memoizedState}function gd(t,e,n,r){var i=gi();xt.flags|=t,i.memoizedState=_u(1|e,n,void 0,r===void 0?null:r)}function Xf(t,e,n,r){var i=qr();r=r===void 0?null:r;var s=void 0;if(on!==null){var o=on.memoizedState;if(s=o.destroy,r!==null&&J1(r,o.deps)){i.memoizedState=_u(e,n,s,r);return}}xt.flags|=t,i.memoizedState=_u(1|e,n,s,r)}function bx(t,e){return gd(8390656,8,t,e)}function nv(t,e){return Xf(2048,8,t,e)}function h3(t,e){return Xf(4,2,t,e)}function d3(t,e){return Xf(4,4,t,e)}function f3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p3(t,e,n){return n=n!=null?n.concat([t]):null,Xf(4,4,f3.bind(null,e,t),n)}function rv(){}function g3(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function m3(t,e){var n=qr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&J1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y3(t,e,n){return Ho&21?(ai(n,e)||(n=wE(),xt.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function rR(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Y0.transition;Y0.transition={};try{t(!1),e()}finally{nt=n,Y0.transition=r}}function v3(){return qr().memoizedState}function iR(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_3(t))w3(e,n);else if(n=QE(t,e,n,r),n!==null){var i=Jn();ni(n,t,r,i),x3(n,e,r)}}function sR(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_3(t))w3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ai(a,o)){var l=e.interleaved;l===null?(i.next=i,G1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=QE(t,e,i,r),n!==null&&(i=Jn(),ni(n,t,r,i),x3(n,e,r))}}function _3(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function w3(t,e){zc=Qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,L1(t,n)}}var Yd={readContext:Hr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},oR={readContext:Hr,useCallback:function(t,e){return gi().memoizedState=[t,e===void 0?null:e],t},useContext:Hr,useEffect:bx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,f3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=gi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iR.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var e=gi();return t={current:t},e.memoizedState=t},useState:xx,useDebugValue:rv,useDeferredValue:function(t){return gi().memoizedState=t},useTransition:function(){var t=xx(!1),e=t[0];return t=rR.bind(null,t[1]),gi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xt,i=gi();if(yt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),pn===null)throw Error(re(349));Ho&30||s3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,bx(a3.bind(null,r,s,t),[t]),r.flags|=2048,_u(9,o3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gi(),e=pn.identifierPrefix;if(yt){var n=Ki,r=Wi;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aR={readContext:Hr,useCallback:g3,useContext:Hr,useEffect:nv,useImperativeHandle:p3,useInsertionEffect:h3,useLayoutEffect:d3,useMemo:m3,useReducer:X0,useRef:u3,useState:function(){return X0(vu)},useDebugValue:rv,useDeferredValue:function(t){var e=qr();return y3(e,on.memoizedState,t)},useTransition:function(){var t=X0(vu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:r3,useSyncExternalStore:i3,useId:v3,unstable_isNewReconciler:!1},lR={readContext:Hr,useCallback:g3,useContext:Hr,useEffect:nv,useImperativeHandle:p3,useInsertionEffect:h3,useLayoutEffect:d3,useMemo:m3,useReducer:J0,useRef:u3,useState:function(){return J0(vu)},useDebugValue:rv,useDeferredValue:function(t){var e=qr();return on===null?e.memoizedState=t:y3(e,on.memoizedState,t)},useTransition:function(){var t=J0(vu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:r3,useSyncExternalStore:i3,useId:v3,unstable_isNewReconciler:!1};function dl(t,e){try{var n="",r=e;do n+=OT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function eg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ry(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cR=typeof WeakMap=="function"?WeakMap:Map;function b3(t,e,n){n=Xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jd||(Jd=!0,fy=r),ry(t,e)},n}function E3(t,e,n){n=Xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ry(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ry(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ex(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ER.bind(null,t,e,n),e.then(t,t))}function Sx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ix(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xi(-1,1),e.tag=2,Vs(n,e,1))),n.lanes|=1),t)}var uR=us.ReactCurrentOwner,lr=!1;function Gn(t,e,n,r){e.child=t===null?t3(e,null,n,r):ul(e,t.child,n,r)}function Ax(t,e,n,r,i){n=n.render;var s=e.ref;return Za(e,i),r=ev(t,e,n,r,s,i),n=tv(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,is(t,e,i)):(yt&&n&&$1(e),e.flags|=1,Gn(t,e,r,i),e.child)}function kx(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,S3(t,e,s,r,i)):(t=_d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(o,r)&&t.ref===e.ref)return is(t,e,i)}return e.flags|=1,t=Hs(s,r),t.ref=e.ref,t.return=e,e.child=t}function S3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hu(s,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,is(t,e,i)}return iy(t,e,n,r,i)}function I3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Fa,gr),gr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Fa,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt(Fa,gr),gr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt(Fa,gr),gr|=r;return Gn(t,e,i,n),e.child}function A3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function iy(t,e,n,r,i){var s=ur(n)?$o:Hn.current;return s=ll(e,s),Za(e,i),n=ev(t,e,n,r,s,i),r=tv(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,is(t,e,i)):(yt&&r&&$1(e),e.flags|=1,Gn(t,e,n,i),e.child)}function Tx(t,e,n,r,i){if(ur(n)){var s=!0;zd(e)}else s=!1;if(Za(e,i),e.stateNode===null)md(t,e),JE(e,n,r),ny(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hr(c):(c=ur(n)?$o:Hn.current,c=ll(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_x(e,o,r,c),Ss=!1;var v=e.memoizedState;o.state=v,Gd(e,r,o,i),l=e.memoizedState,a!==r||v!==l||cr.current||Ss?(typeof h=="function"&&(ty(e,n,h,r),l=e.memoizedState),(a=Ss||vx(e,n,a,r,v,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yr(e.type,a),o.props=c,f=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hr(l):(l=ur(n)?$o:Hn.current,l=ll(e,l));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||v!==l)&&_x(e,o,r,l),Ss=!1,v=e.memoizedState,o.state=v,Gd(e,r,o,i);var S=e.memoizedState;a!==f||v!==S||cr.current||Ss?(typeof w=="function"&&(ty(e,n,w,r),S=e.memoizedState),(c=Ss||vx(e,n,c,r,v,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return sy(t,e,n,r,s,i)}function sy(t,e,n,r,i,s){A3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fx(e,n,!1),is(t,e,s);r=e.stateNode,uR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ul(e,t.child,null,s),e.child=ul(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&fx(e,n,!0),e.child}function k3(t){var e=t.stateNode;e.pendingContext?dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dx(t,e.context,!1),Q1(t,e.containerInfo)}function Cx(t,e,n,r,i){return cl(),H1(i),e.flags|=256,Gn(t,e,n,r),e.child}var oy={dehydrated:null,treeContext:null,retryLane:0};function ay(t){return{baseLanes:t,cachePool:null,transitions:null}}function T3(t,e,n){var r=e.pendingProps,i=vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(vt,i&1),t===null)return Jm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tp(o,r,0,null),t=Mo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ay(n),e.memoizedState=oy,t):iv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hs(a,s):(s=Mo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ay(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=oy,r}return s=t.child,t=s.sibling,r=Hs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iv(t,e){return e=tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oh(t,e,n,r){return r!==null&&H1(r),ul(e,t.child,null,n),t=iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=eg(Error(re(422))),Oh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=tp({mode:"visible",children:r.children},i,0,null),s=Mo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ul(e,t.child,null,o),e.child.memoizedState=ay(o),e.memoizedState=oy,s);if(!(e.mode&1))return Oh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(re(419)),r=eg(s,r,void 0),Oh(t,e,o,r)}if(a=(o&t.childLanes)!==0,lr||a){if(r=pn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rs(t,i),ni(r,t,i,-1))}return uv(),r=eg(Error(re(421))),Oh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yr=Fs(i.nextSibling),wr=e,yt=!0,Jr=null,t!==null&&(Br[jr++]=Wi,Br[jr++]=Ki,Br[jr++]=zo,Wi=t.id,Ki=t.overflow,zo=e),e=iv(e,r.children),e.flags|=4096,e)}function Rx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ey(t.return,e,n)}function tg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function C3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rx(t,n,e);else if(t.tag===19)Rx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tg(e,!0,n,null,s);break;case"together":tg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dR(t,e,n){switch(e.tag){case 3:k3(e),cl();break;case 5:n3(e);break;case 1:ur(e.type)&&zd(e);break;case 4:Q1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(Wd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?T3(t,e,n):(lt(vt,vt.current&1),t=is(t,e,n),t!==null?t.sibling:null);lt(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return C3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,I3(t,e,n)}return is(t,e,n)}var R3,ly,P3,N3;R3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ly=function(){};P3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ao(Ii.current);var s=null;switch(n){case"input":i=Rm(t,i),r=Rm(t,r),s=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),s=[];break;case"textarea":i=Mm(t,i),r=Mm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vd)}Dm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(iu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(iu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ut("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};N3=function(t,e,n,r){n!==r&&(e.flags|=4)};function dc(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fR(t,e,n){var r=e.pendingProps;switch(z1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return ur(e.type)&&$d(),Nn(e),null;case 3:return r=e.stateNode,hl(),ft(cr),ft(Hn),X1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(my(Jr),Jr=null))),ly(t,e),Nn(e),null;case 5:Y1(e);var i=Ao(mu.current);if(n=e.type,t!==null&&e.stateNode!=null)P3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return Nn(e),null}if(t=Ao(Ii.current),Lh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mi]=e,r[pu]=s,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(i=0;i<kc.length;i++)ut(kc[i],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":Uw(r,s),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ut("invalid",r);break;case"textarea":Vw(r,s),ut("invalid",r)}Dm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Mh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Mh(r.textContent,a,t),i=["children",""+a]):iu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":Ih(r),Fw(r,s,!0);break;case"textarea":Ih(r),$w(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mi]=e,t[pu]=r,R3(t,e,!1,!1),e.stateNode=t;e:{switch(o=Om(n,r),n){case"dialog":ut("cancel",t),ut("close",t),i=r;break;case"iframe":case"object":case"embed":ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<kc.length;i++)ut(kc[i],t);i=r;break;case"source":ut("error",t),i=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=r;break;case"details":ut("toggle",t),i=r;break;case"input":Uw(t,r),i=Rm(t,r),ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ut("invalid",t);break;case"textarea":Vw(t,r),i=Mm(t,r),ut("invalid",t);break;default:i=r}Dm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?lE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&su(t,l):typeof l=="number"&&su(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(iu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ut("scroll",t):l!=null&&T1(t,s,l,o))}switch(n){case"input":Ih(t),Fw(t,r,!1);break;case"textarea":Ih(t),$w(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qa(t,!!r.multiple,s,!1):r.defaultValue!=null&&qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)N3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=Ao(mu.current),Ao(Ii.current),Lh(e)){if(r=e.stateNode,n=e.memoizedProps,r[mi]=e,(s=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:Mh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mi]=e,e.stateNode=r}return Nn(e),null;case 13:if(ft(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&yr!==null&&e.mode&1&&!(e.flags&128))ZE(),cl(),e.flags|=98560,s=!1;else if(s=Lh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[mi]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),s=!1}else Jr!==null&&(my(Jr),Jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?ln===0&&(ln=3):uv())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return hl(),ly(t,e),t===null&&du(e.stateNode.containerInfo),Nn(e),null;case 10:return K1(e.type._context),Nn(e),null;case 17:return ur(e.type)&&$d(),Nn(e),null;case 19:if(ft(vt),s=e.memoizedState,s===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dc(s,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zd(t),o!==null){for(e.flags|=128,dc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(vt,vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Lt()>fl&&(e.flags|=128,r=!0,dc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yt)return Nn(e),null}else 2*Lt()-s.renderingStartTime>fl&&n!==1073741824&&(e.flags|=128,r=!0,dc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Lt(),e.sibling=null,n=vt.current,lt(vt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function pR(t,e){switch(z1(e),e.tag){case 1:return ur(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hl(),ft(cr),ft(Hn),X1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y1(e),null;case 13:if(ft(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(vt),null;case 4:return hl(),null;case 10:return K1(e.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var Bh=!1,Fn=!1,gR=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function cy(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var Px=!1;function mR(t,e){if(Wm=jd,t=OE(),V1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,v=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)v=f,f=w;for(;;){if(f===t)break t;if(v===n&&++c===i&&(a=o),v===s&&++h===r&&(l=o),(w=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Km={focusedElem:t,selectionRange:n},jd=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,A=S.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:Yr(e.type,b),A);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(P){Tt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return S=Px,Px=!1,S}function Hc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&cy(e,n,s)}i=i.next}while(i!==r)}}function Jf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M3(t){var e=t.alternate;e!==null&&(t.alternate=null,M3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mi],delete e[pu],delete e[Qm],delete e[XC],delete e[JC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L3(t){return t.tag===5||t.tag===3||t.tag===4}function Nx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vd));else if(r!==4&&(t=t.child,t!==null))for(hy(t,e,n),t=t.sibling;t!==null;)hy(t,e,n),t=t.sibling}function dy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dy(t,e,n),t=t.sibling;t!==null;)dy(t,e,n),t=t.sibling}var wn=null,Xr=!1;function fs(t,e,n){for(n=n.child;n!==null;)D3(t,e,n),n=n.sibling}function D3(t,e,n){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(qf,n)}catch{}switch(n.tag){case 5:Fn||Ua(n,e);case 6:var r=wn,i=Xr;wn=null,fs(t,e,n),wn=r,Xr=i,wn!==null&&(Xr?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(Xr?(t=wn,n=n.stateNode,t.nodeType===8?G0(t.parentNode,n):t.nodeType===1&&G0(t,n),cu(t)):G0(wn,n.stateNode));break;case 4:r=wn,i=Xr,wn=n.stateNode.containerInfo,Xr=!0,fs(t,e,n),wn=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cy(n,e,o),i=i.next}while(i!==r)}fs(t,e,n);break;case 1:if(!Fn&&(Ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}fs(t,e,n);break;case 21:fs(t,e,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,fs(t,e,n),Fn=r):fs(t,e,n);break;default:fs(t,e,n)}}function Mx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gR),e.forEach(function(r){var i=IR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wn=a.stateNode,Xr=!1;break e;case 3:wn=a.stateNode.containerInfo,Xr=!0;break e;case 4:wn=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(wn===null)throw Error(re(160));D3(s,o,i),wn=null,Xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)O3(e,t),e=e.sibling}function O3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kr(e,t),di(t),r&4){try{Hc(3,t,t.return),Jf(3,t)}catch(b){Tt(t,t.return,b)}try{Hc(5,t,t.return)}catch(b){Tt(t,t.return,b)}}break;case 1:Kr(e,t),di(t),r&512&&n!==null&&Ua(n,n.return);break;case 5:if(Kr(e,t),di(t),r&512&&n!==null&&Ua(n,n.return),t.flags&32){var i=t.stateNode;try{su(i,"")}catch(b){Tt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rE(i,s),Om(a,o);var c=Om(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?lE(i,f):h==="dangerouslySetInnerHTML"?oE(i,f):h==="children"?su(i,f):T1(i,h,f,c)}switch(a){case"input":Pm(i,s);break;case"textarea":iE(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?qa(i,!!s.multiple,w,!1):v!==!!s.multiple&&(s.defaultValue!=null?qa(i,!!s.multiple,s.defaultValue,!0):qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[pu]=s}catch(b){Tt(t,t.return,b)}}break;case 6:if(Kr(e,t),di(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){Tt(t,t.return,b)}}break;case 3:if(Kr(e,t),di(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(b){Tt(t,t.return,b)}break;case 4:Kr(e,t),di(t);break;case 13:Kr(e,t),di(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(av=Lt())),r&4&&Mx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Fn=(c=Fn)||h,Kr(e,t),Fn=c):Kr(e,t),di(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(de=t,h=t.child;h!==null;){for(f=de=h;de!==null;){switch(v=de,w=v.child,v.tag){case 0:case 11:case 14:case 15:Hc(4,v,v.return);break;case 1:Ua(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(b){Tt(r,n,b)}}break;case 5:Ua(v,v.return);break;case 22:if(v.memoizedState!==null){Dx(f);continue}}w!==null?(w.return=v,de=w):Dx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aE("display",o))}catch(b){Tt(t,t.return,b)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Tt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kr(e,t),di(t),r&4&&Mx(t);break;case 21:break;default:Kr(e,t),di(t)}}function di(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(L3(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(su(i,""),r.flags&=-33);var s=Nx(t);dy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nx(t);hy(t,a,o);break;default:throw Error(re(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yR(t,e,n){de=t,B3(t)}function B3(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fn;a=Bh;var c=Fn;if(Bh=o,(Fn=l)&&!c)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?Ox(i):l!==null?(l.return=o,de=l):Ox(i);for(;s!==null;)de=s,B3(s),s=s.sibling;de=i,Bh=a,Fn=c}Lx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):Lx(t)}}function Lx(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||Jf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yx(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&cu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Fn||e.flags&512&&uy(e)}catch(v){Tt(e,e.return,v)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Dx(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Ox(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jf(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tt(e,i,l)}}var s=e.return;try{uy(e)}catch(l){Tt(e,s,l)}break;case 5:var o=e.return;try{uy(e)}catch(l){Tt(e,o,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var vR=Math.ceil,Xd=us.ReactCurrentDispatcher,sv=us.ReactCurrentOwner,$r=us.ReactCurrentBatchConfig,Ke=0,pn=null,tn=null,kn=0,gr=0,Fa=so(0),ln=0,wu=null,qo=0,ep=0,ov=0,qc=null,sr=null,av=0,fl=1/0,$i=null,Jd=!1,fy=null,$s=null,jh=!1,Ns=null,ef=0,Wc=0,py=null,yd=-1,vd=0;function Jn(){return Ke&6?Lt():yd!==-1?yd:yd=Lt()}function zs(t){return t.mode&1?Ke&2&&kn!==0?kn&-kn:tR.transition!==null?(vd===0&&(vd=wE()),vd):(t=nt,t!==0||(t=window.event,t=t===void 0?16:kE(t.type)),t):1}function ni(t,e,n,r){if(50<Wc)throw Wc=0,py=null,Error(re(185));qu(t,n,r),(!(Ke&2)||t!==pn)&&(t===pn&&(!(Ke&2)&&(ep|=n),ln===4&&As(t,kn)),hr(t,r),n===1&&Ke===0&&!(e.mode&1)&&(fl=Lt()+500,Qf&&oo()))}function hr(t,e){var n=t.callbackNode;tC(t,e);var r=Bd(t,t===pn?kn:0);if(r===0)n!==null&&qw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qw(n),e===1)t.tag===0?eR(Bx.bind(null,t)):WE(Bx.bind(null,t)),QC(function(){!(Ke&6)&&oo()}),n=null;else{switch(xE(r)){case 1:n=M1;break;case 4:n=vE;break;case 16:n=Od;break;case 536870912:n=_E;break;default:n=Od}n=q3(n,j3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j3(t,e){if(yd=-1,vd=0,Ke&6)throw Error(re(327));var n=t.callbackNode;if(Qa()&&t.callbackNode!==n)return null;var r=Bd(t,t===pn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tf(t,r);else{e=r;var i=Ke;Ke|=2;var s=F3();(pn!==t||kn!==e)&&($i=null,fl=Lt()+500,No(t,e));do try{xR();break}catch(a){U3(t,a)}while(1);W1(),Xd.current=s,Ke=i,tn!==null?e=0:(pn=null,kn=0,e=ln)}if(e!==0){if(e===2&&(i=Vm(t),i!==0&&(r=i,e=gy(t,i))),e===1)throw n=wu,No(t,0),As(t,r),hr(t,Lt()),n;if(e===6)As(t,r);else{if(i=t.current.alternate,!(r&30)&&!_R(i)&&(e=tf(t,r),e===2&&(s=Vm(t),s!==0&&(r=s,e=gy(t,s))),e===1))throw n=wu,No(t,0),As(t,r),hr(t,Lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:vo(t,sr,$i);break;case 3:if(As(t,r),(r&130023424)===r&&(e=av+500-Lt(),10<e)){if(Bd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zm(vo.bind(null,t,sr,$i),e);break}vo(t,sr,$i);break;case 4:if(As(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ti(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vR(r/1960))-r,10<r){t.timeoutHandle=Zm(vo.bind(null,t,sr,$i),r);break}vo(t,sr,$i);break;case 5:vo(t,sr,$i);break;default:throw Error(re(329))}}}return hr(t,Lt()),t.callbackNode===n?j3.bind(null,t):null}function gy(t,e){var n=qc;return t.current.memoizedState.isDehydrated&&(No(t,e).flags|=256),t=tf(t,e),t!==2&&(e=sr,sr=n,e!==null&&my(e)),t}function my(t){sr===null?sr=t:sr.push.apply(sr,t)}function _R(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ai(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~ov,e&=~ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ti(e),r=1<<n;t[n]=-1,e&=~r}}function Bx(t){if(Ke&6)throw Error(re(327));Qa();var e=Bd(t,0);if(!(e&1))return hr(t,Lt()),null;var n=tf(t,e);if(t.tag!==0&&n===2){var r=Vm(t);r!==0&&(e=r,n=gy(t,r))}if(n===1)throw n=wu,No(t,0),As(t,e),hr(t,Lt()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vo(t,sr,$i),hr(t,Lt()),null}function lv(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(fl=Lt()+500,Qf&&oo())}}function Wo(t){Ns!==null&&Ns.tag===0&&!(Ke&6)&&Qa();var e=Ke;Ke|=1;var n=$r.transition,r=nt;try{if($r.transition=null,nt=1,t)return t()}finally{nt=r,$r.transition=n,Ke=e,!(Ke&6)&&oo()}}function cv(){gr=Fa.current,ft(Fa)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZC(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(z1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$d();break;case 3:hl(),ft(cr),ft(Hn),X1();break;case 5:Y1(r);break;case 4:hl();break;case 13:ft(vt);break;case 19:ft(vt);break;case 10:K1(r.type._context);break;case 22:case 23:cv()}n=n.return}if(pn=t,tn=t=Hs(t.current,null),kn=gr=e,ln=0,wu=null,ov=ep=qo=0,sr=qc=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Io=null}return t}function U3(t,e){do{var n=tn;try{if(W1(),pd.current=Yd,Qd){for(var r=xt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qd=!1}if(Ho=0,hn=on=xt=null,zc=!1,yu=0,sv.current=null,n===null||n.return===null){ln=1,wu=e,tn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Sx(o);if(w!==null){w.flags&=-257,Ix(w,o,a,s,e),w.mode&1&&Ex(s,c,e),e=w,l=c;var S=e.updateQueue;if(S===null){var b=new Set;b.add(l),e.updateQueue=b}else S.add(l);break e}else{if(!(e&1)){Ex(s,c,e),uv();break e}l=Error(re(426))}}else if(yt&&a.mode&1){var A=Sx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ix(A,o,a,s,e),H1(dl(l,a));break e}}s=l=dl(l,a),ln!==4&&(ln=2),qc===null?qc=[s]:qc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=b3(s,l,e);mx(s,x);break e;case 1:a=l;var E=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($s===null||!$s.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=E3(s,a,e);mx(s,P);break e}}s=s.return}while(s!==null)}$3(n)}catch(N){e=N,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(1)}function F3(){var t=Xd.current;return Xd.current=Yd,t===null?Yd:t}function uv(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||!(qo&268435455)&&!(ep&268435455)||As(pn,kn)}function tf(t,e){var n=Ke;Ke|=2;var r=F3();(pn!==t||kn!==e)&&($i=null,No(t,e));do try{wR();break}catch(i){U3(t,i)}while(1);if(W1(),Ke=n,Xd.current=r,tn!==null)throw Error(re(261));return pn=null,kn=0,ln}function wR(){for(;tn!==null;)V3(tn)}function xR(){for(;tn!==null&&!WT();)V3(tn)}function V3(t){var e=H3(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?$3(t):tn=e,sv.current=null}function $3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pR(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,tn=null;return}}else if(n=fR(n,e,gr),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);ln===0&&(ln=5)}function vo(t,e,n){var r=nt,i=$r.transition;try{$r.transition=null,nt=1,bR(t,e,n,r)}finally{$r.transition=i,nt=r}return null}function bR(t,e,n,r){do Qa();while(Ns!==null);if(Ke&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nC(t,s),t===pn&&(tn=pn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jh||(jh=!0,q3(Od,function(){return Qa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$r.transition,$r.transition=null;var o=nt;nt=1;var a=Ke;Ke|=4,sv.current=null,mR(t,n),O3(n,t),$C(Km),jd=!!Wm,Km=Wm=null,t.current=n,yR(n),KT(),Ke=a,nt=o,$r.transition=s}else t.current=n;if(jh&&(jh=!1,Ns=t,ef=i),s=t.pendingLanes,s===0&&($s=null),QT(n.stateNode),hr(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jd)throw Jd=!1,t=fy,fy=null,t;return ef&1&&t.tag!==0&&Qa(),s=t.pendingLanes,s&1?t===py?Wc++:(Wc=0,py=t):Wc=0,oo(),null}function Qa(){if(Ns!==null){var t=xE(ef),e=$r.transition,n=nt;try{if($r.transition=null,nt=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,ef=0,Ke&6)throw Error(re(331));var i=Ke;for(Ke|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var h=de;switch(h.tag){case 0:case 11:case 15:Hc(8,h,s)}var f=h.child;if(f!==null)f.return=h,de=f;else for(;de!==null;){h=de;var v=h.sibling,w=h.return;if(M3(h),h===c){de=null;break}if(v!==null){v.return=w,de=v;break}de=w}}}var S=s.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var A=b.sibling;b.sibling=null,b=A}while(b!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,de=x;break e}de=s.return}}var E=t.current;for(de=E;de!==null;){o=de;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,de=y;else e:for(o=E;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jf(9,a)}}catch(N){Tt(a,a.return,N)}if(a===o){de=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,de=P;break e}de=a.return}}if(Ke=i,oo(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(qf,t)}catch{}r=!0}return r}finally{nt=n,$r.transition=e}}return!1}function jx(t,e,n){e=dl(n,e),e=b3(t,e,1),t=Vs(t,e,1),e=Jn(),t!==null&&(qu(t,1,e),hr(t,e))}function Tt(t,e,n){if(t.tag===3)jx(t,t,n);else for(;e!==null;){if(e.tag===3){jx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=dl(n,t),t=E3(e,t,1),e=Vs(e,t,1),t=Jn(),e!==null&&(qu(e,1,t),hr(e,t));break}}e=e.return}}function ER(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(kn&n)===n&&(ln===4||ln===3&&(kn&130023424)===kn&&500>Lt()-av?No(t,0):ov|=n),hr(t,e)}function z3(t,e){e===0&&(t.mode&1?(e=Th,Th<<=1,!(Th&130023424)&&(Th=4194304)):e=1);var n=Jn();t=rs(t,e),t!==null&&(qu(t,e,n),hr(t,n))}function SR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z3(t,n)}function IR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),z3(t,n)}var H3;H3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,dR(t,e,n);lr=!!(t.flags&131072)}else lr=!1,yt&&e.flags&1048576&&KE(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;md(t,e),t=e.pendingProps;var i=ll(e,Hn.current);Za(e,n),i=ev(null,e,r,t,i,n);var s=tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(r)?(s=!0,zd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z1(e),i.updater=Yf,e.stateNode=i,i._reactInternals=e,ny(e,r,t,n),e=sy(null,e,r,!0,s,n)):(e.tag=0,yt&&s&&$1(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(md(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kR(r),t=Yr(r,t),i){case 0:e=iy(null,e,r,t,n);break e;case 1:e=Tx(null,e,r,t,n);break e;case 11:e=Ax(null,e,r,t,n);break e;case 14:e=kx(null,e,r,Yr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),iy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),Tx(t,e,r,i,n);case 3:e:{if(k3(e),t===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YE(t,e),Gd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dl(Error(re(423)),e),e=Cx(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(re(424)),e),e=Cx(t,e,r,n,i);break e}else for(yr=Fs(e.stateNode.containerInfo.firstChild),wr=e,yt=!0,Jr=null,n=t3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cl(),r===i){e=is(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return n3(e),t===null&&Jm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gm(r,i)?o=null:s!==null&&Gm(r,s)&&(e.flags|=32),A3(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&Jm(e),null;case 13:return T3(t,e,n);case 4:return Q1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ul(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),Ax(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt(Wd,r._currentValue),r._currentValue=o,s!==null)if(ai(s.value,o)){if(s.children===i.children&&!cr.current){e=is(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ey(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ey(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Za(e,n),i=Hr(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=Yr(r,e.pendingProps),i=Yr(r.type,i),kx(t,e,r,i,n);case 15:return S3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),md(t,e),e.tag=1,ur(r)?(t=!0,zd(e)):t=!1,Za(e,n),JE(e,r,i),ny(e,r,i,n),sy(null,e,r,!0,t,n);case 19:return C3(t,e,n);case 22:return I3(t,e,n)}throw Error(re(156,e.tag))};function q3(t,e){return yE(t,e)}function AR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,n,r){return new AR(t,e,n,r)}function hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kR(t){if(typeof t=="function")return hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===R1)return 11;if(t===P1)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=Vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")hv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Mo(n.children,i,s,e);case C1:o=8,i|=8;break;case Am:return t=Vr(12,n,e,i|2),t.elementType=Am,t.lanes=s,t;case km:return t=Vr(13,n,e,i),t.elementType=km,t.lanes=s,t;case Tm:return t=Vr(19,n,e,i),t.elementType=Tm,t.lanes=s,t;case eE:return tp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xb:o=10;break e;case Jb:o=9;break e;case R1:o=11;break e;case P1:o=14;break e;case Es:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Vr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Mo(t,e,n,r){return t=Vr(7,t,r,e),t.lanes=n,t}function tp(t,e,n,r){return t=Vr(22,t,r,e),t.elementType=eE,t.lanes=n,t.stateNode={isHidden:!1},t}function ng(t,e,n){return t=Vr(6,t,null,e),t.lanes=n,t}function rg(t,e,n){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=B0(0),this.expirationTimes=B0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dv(t,e,n,r,i,s,o,a,l){return t=new TR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z1(s),t}function CR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ca,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function W3(t){if(!t)return Ys;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(ur(n))return qE(t,n,e)}return e}function K3(t,e,n,r,i,s,o,a,l){return t=dv(n,r,!0,t,i,s,o,a,l),t.context=W3(null),n=t.current,r=Jn(),i=zs(n),s=Xi(r,i),s.callback=e??null,Vs(n,s,i),t.current.lanes=i,qu(t,i,r),hr(t,r),t}function np(t,e,n,r){var i=e.current,s=Jn(),o=zs(i);return n=W3(n),e.context===null?e.context=n:e.pendingContext=n,e=Xi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vs(i,e,o),t!==null&&(ni(t,i,o,s),fd(t,i,o)),o}function nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ux(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fv(t,e){Ux(t,e),(t=t.alternate)&&Ux(t,e)}function RR(){return null}var G3=typeof reportError=="function"?reportError:function(t){console.error(t)};function pv(t){this._internalRoot=t}rp.prototype.render=pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));np(t,e,null,null)};rp.prototype.unmount=pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){np(null,t,null,null)}),e[ns]=null}};function rp(t){this._internalRoot=t}rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=SE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&AE(t)}};function gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fx(){}function PR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=nf(o);s.call(c)}}var o=K3(e,r,t,0,null,!1,!1,"",Fx);return t._reactRootContainer=o,t[ns]=o.current,du(t.nodeType===8?t.parentNode:t),Wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=nf(l);a.call(c)}}var l=dv(t,0,!1,null,null,!1,!1,"",Fx);return t._reactRootContainer=l,t[ns]=l.current,du(t.nodeType===8?t.parentNode:t),Wo(function(){np(e,l,n,r)}),l}function sp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=nf(o);a.call(l)}}np(e,o,t,i)}else o=PR(n,e,t,i,r);return nf(o)}bE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ac(e.pendingLanes);n!==0&&(L1(e,n|1),hr(e,Lt()),!(Ke&6)&&(fl=Lt()+500,oo()))}break;case 13:Wo(function(){var r=rs(t,1);if(r!==null){var i=Jn();ni(r,t,1,i)}}),fv(t,1)}};D1=function(t){if(t.tag===13){var e=rs(t,134217728);if(e!==null){var n=Jn();ni(e,t,134217728,n)}fv(t,134217728)}};EE=function(t){if(t.tag===13){var e=zs(t),n=rs(t,e);if(n!==null){var r=Jn();ni(n,t,e,r)}fv(t,e)}};SE=function(){return nt};IE=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};jm=function(t,e,n){switch(e){case"input":if(Pm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zf(r);if(!i)throw Error(re(90));nE(r),Pm(r,i)}}}break;case"textarea":iE(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};hE=lv;dE=Wo;var NR={usingClientEntryPoint:!1,Events:[Ku,La,Zf,cE,uE,lv]},fc={findFiberByHostInstance:So,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},MR={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gE(t),t===null?null:t.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||RR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{qf=Uh.inject(MR),Si=Uh}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NR;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gv(e))throw Error(re(200));return CR(t,e,null,n)};kr.createRoot=function(t,e){if(!gv(t))throw Error(re(299));var n=!1,r="",i=G3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dv(t,1,!1,null,null,n,!1,r,i),t[ns]=e.current,du(t.nodeType===8?t.parentNode:t),new pv(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=gE(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return Wo(t)};kr.hydrate=function(t,e,n){if(!ip(e))throw Error(re(200));return sp(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!gv(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=G3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=K3(e,null,t,1,n??null,i,!1,s,o),t[ns]=e.current,du(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rp(e)};kr.render=function(t,e,n){if(!ip(e))throw Error(re(200));return sp(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!ip(t))throw Error(re(40));return t._reactRootContainer?(Wo(function(){sp(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};kr.unstable_batchedUpdates=lv;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ip(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return sp(t,e,n,!1,r)};kr.version="18.2.0-next-9e3b772b8-20220608";function Z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z3)}catch(t){console.error(t)}}Z3(),Kb.exports=kr;var LR=Kb.exports,Ya,Vx=LR;Ya=Sm.createRoot=Vx.createRoot,Sm.hydrateRoot=Vx.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}var Ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ms||(Ms={}));const $x="popstate";function DR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return yy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rf(i)}return BR(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OR(){return Math.random().toString(36).substr(2,8)}function zx(t,e){return{usr:t.state,key:t.key,idx:e}}function yy(t,e,n,r){return n===void 0&&(n=null),xu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fl(e):e,{state:n,key:e&&e.key||r||OR()})}function rf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ms.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(xu({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ms.Pop;let A=h(),x=A==null?null:A-c;c=A,l&&l({action:a,location:b.location,delta:x})}function v(A,x){a=Ms.Push;let E=yy(b.location,A,x);n&&n(E,A),c=h()+1;let y=zx(E,c),P=b.createHref(E);try{o.pushState(y,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(P)}s&&l&&l({action:a,location:b.location,delta:1})}function w(A,x){a=Ms.Replace;let E=yy(b.location,A,x);n&&n(E,A),c=h();let y=zx(E,c),P=b.createHref(E);o.replaceState(y,"",P),s&&l&&l({action:a,location:b.location,delta:0})}function S(A){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof A=="string"?A:rf(A);return bt(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let b={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($x,f),l=A,()=>{i.removeEventListener($x,f),l=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let x=S(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:w,go(A){return o.go(A)}};return b}var Hx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hx||(Hx={}));function jR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fl(e):e,i=bu(r.pathname||"/",n);if(i==null)return null;let s=Q3(t);UR(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=GR(s[a],QR(i));return o}function Q3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qs([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Q3(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:WR(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Y3(s.path))i(s,o,l)}),e}function Y3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Y3(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FR=/^:\w+$/,VR=3,$R=2,zR=1,HR=10,qR=-2,qx=t=>t==="*";function WR(t,e){let n=t.split("/"),r=n.length;return n.some(qx)&&(r+=qR),e&&(r+=$R),n.filter(i=>!qx(i)).reduce((i,s)=>i+(FR.test(s)?VR:s===""?zR:HR),r)}function KR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GR(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=vy({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!h)return null;Object.assign(r,h.params);let f=a.route;s.push({params:r,pathname:qs([i,h.pathname]),pathnameBase:e8(qs([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=qs([i,h.pathnameBase]))}return s}function vy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{if(h==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}return c[h]=YR(a[f]||"",h),c},{}),pathname:s,pathnameBase:o,pattern:t}}function ZR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function QR(t){try{return decodeURI(t)}catch(e){return mv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function YR(t,e){try{return decodeURIComponent(t)}catch(n){return mv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function bu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fl(t):t;return{pathname:n?n.startsWith("/")?n:JR(n,e):e,search:t8(r),hash:n8(i)}}function JR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fl(t):(i=xu({},t),bt(!i.pathname||!i.pathname.includes("?"),ig("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),ig("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),ig("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),f-=1;i.pathname=v.join("/")}a=f>=0?e[f]:"/"}let l=XR(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),e8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const X3=["post","put","patch","delete"];new Set(X3);const i8=["get",...X3];new Set(i8);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}const op=ee.createContext(null),J3=ee.createContext(null),aa=ee.createContext(null),ap=ee.createContext(null),Bi=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),e4=ee.createContext(null);function s8(t,e){let{relative:n}=e===void 0?{}:e;Vl()||bt(!1);let{basename:r,navigator:i}=ee.useContext(aa),{hash:s,pathname:o,search:a}=lp(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:qs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Vl(){return ee.useContext(ap)!=null}function $l(){return Vl()||bt(!1),ee.useContext(ap).location}function t4(t){ee.useContext(aa).static||ee.useLayoutEffect(t)}function zl(){let{isDataRoute:t}=ee.useContext(Bi);return t?w8():o8()}function o8(){Vl()||bt(!1);let t=ee.useContext(op),{basename:e,navigator:n}=ee.useContext(aa),{matches:r}=ee.useContext(Bi),{pathname:i}=$l(),s=JSON.stringify(yv(r).map(l=>l.pathnameBase)),o=ee.useRef(!1);return t4(()=>{o.current=!0}),ee.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=vv(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qs([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}const a8=ee.createContext(null);function l8(t){let e=ee.useContext(Bi).outlet;return e&&ee.createElement(a8.Provider,{value:t},e)}function n4(){let{matches:t}=ee.useContext(Bi),e=t[t.length-1];return e?e.params:{}}function lp(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=ee.useContext(Bi),{pathname:i}=$l(),s=JSON.stringify(yv(r).map(o=>o.pathnameBase));return ee.useMemo(()=>vv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function c8(t,e){return u8(t,e)}function u8(t,e,n){Vl()||bt(!1);let{navigator:r}=ee.useContext(aa),{matches:i}=ee.useContext(Bi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=$l(),c;if(e){var h;let b=typeof e=="string"?Fl(e):e;a==="/"||(h=b.pathname)!=null&&h.startsWith(a)||bt(!1),c=b}else c=l;let f=c.pathname||"/",v=a==="/"?f:f.slice(a.length)||"/",w=jR(t,{pathname:v}),S=g8(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:qs([a,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?a:qs([a,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n);return e&&S?ee.createElement(ap.Provider,{value:{location:sf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ms.Pop}},S):S}function h8(){let t=_8(),e=r8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:i},n):null,s)}const d8=ee.createElement(h8,null);class f8 extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?ee.createElement(Bi.Provider,{value:this.props.routeContext},ee.createElement(e4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p8(t){let{routeContext:e,match:n,children:r}=t,i=ee.useContext(op);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(Bi.Provider,{value:e},r)}function g8(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||bt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let h=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||d8);let v=e.concat(s.slice(0,c+1)),w=()=>{let S;return h?S=f:l.route.Component?S=ee.createElement(l.route.Component,null):l.route.element?S=l.route.element:S=a,ee.createElement(p8,{match:l,routeContext:{outlet:a,matches:v,isDataRoute:n!=null},children:S})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?ee.createElement(f8,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var r4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r4||{}),of=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(of||{});function m8(t){let e=ee.useContext(op);return e||bt(!1),e}function y8(t){let e=ee.useContext(J3);return e||bt(!1),e}function v8(t){let e=ee.useContext(Bi);return e||bt(!1),e}function i4(t){let e=v8(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function _8(){var t;let e=ee.useContext(e4),n=y8(of.UseRouteError),r=i4(of.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function w8(){let{router:t}=m8(r4.UseNavigateStable),e=i4(of.UseNavigateStable),n=ee.useRef(!1);return t4(()=>{n.current=!0}),ee.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sf({fromRouteId:e},s)))},[t,e])}function _v(t){let{to:e,replace:n,state:r,relative:i}=t;Vl()||bt(!1);let{matches:s}=ee.useContext(Bi),{pathname:o}=$l(),a=zl(),l=vv(e,yv(s).map(h=>h.pathnameBase),o,i==="path"),c=JSON.stringify(l);return ee.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function s4(t){return l8(t.context)}function jn(t){bt(!1)}function x8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ms.Pop,navigator:s,static:o=!1}=t;Vl()&&bt(!1);let a=e.replace(/^\/*/,"/"),l=ee.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Fl(r));let{pathname:c="/",search:h="",hash:f="",state:v=null,key:w="default"}=r,S=ee.useMemo(()=>{let b=bu(c,a);return b==null?null:{location:{pathname:b,search:h,hash:f,state:v,key:w},navigationType:i}},[a,c,h,f,v,w,i]);return S==null?null:ee.createElement(aa.Provider,{value:l},ee.createElement(ap.Provider,{children:n,value:S}))}function Wx(t){let{children:e,location:n}=t;return c8(_y(e),n)}new Promise(()=>{});function _y(t,e){e===void 0&&(e=[]);let n=[];return ee.Children.forEach(t,(r,i)=>{if(!ee.isValidElement(r))return;let s=[...e,i];if(r.type===ee.Fragment){n.push.apply(n,_y(r.props.children,s));return}r.type!==jn&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_y(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function o4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function b8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E8(t,e){return t.button===0&&(!e||e==="_self")&&!b8(t)}const S8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],I8=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],A8=ee.createContext({isTransitioning:!1}),k8="startTransition",Kx=ST[k8];function Gx(t){let{basename:e,children:n,future:r,window:i}=t,s=ee.useRef();s.current==null&&(s.current=DR({window:i,v5Compat:!0}));let o=s.current,[a,l]=ee.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=ee.useCallback(f=>{c&&Kx?Kx(()=>l(f)):l(f)},[l,c]);return ee.useLayoutEffect(()=>o.listen(h),[o,h]),ee.createElement(x8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const T8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xs=ee.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:f}=e,v=o4(e,S8),{basename:w}=ee.useContext(aa),S,b=!1;if(typeof c=="string"&&C8.test(c)&&(S=c,T8))try{let y=new URL(window.location.href),P=c.startsWith("//")?new URL(y.protocol+c):new URL(c),N=bu(P.pathname,w);P.origin===y.origin&&N!=null?c=N+P.search+P.hash:b=!0}catch{}let A=s8(c,{relative:i}),x=P8(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:f});function E(y){r&&r(y),y.defaultPrevented||x(y)}return ee.createElement("a",af({},v,{href:S||A,onClick:b||s?r:E,ref:n,target:l}))}),wo=ee.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:h}=e,f=o4(e,I8),v=lp(l,{relative:f.relative}),w=$l(),S=ee.useContext(J3),{navigator:b}=ee.useContext(aa),A=S!=null&&N8(v)&&c===!0,x=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,E=w.pathname,y=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(E=E.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase());let P=E===x||!o&&E.startsWith(x)&&E.charAt(x.length)==="/",N=y!=null&&(y===x||!o&&y.startsWith(x)&&y.charAt(x.length)==="/"),O={isActive:P,isPending:N,isTransitioning:A},U=P?r:void 0,F;typeof s=="function"?F=s(O):F=[s,P?"active":null,N?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(O):a;return ee.createElement(Xs,af({},f,{"aria-current":U,className:F,ref:n,style:G,to:l,unstable_viewTransition:c}),typeof h=="function"?h(O):h)});var wy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wy||(wy={}));var Zx;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zx||(Zx={}));function R8(t){let e=ee.useContext(op);return e||bt(!1),e}function P8(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=zl(),c=$l(),h=lp(t,{relative:o});return ee.useCallback(f=>{if(E8(f,n)){f.preventDefault();let v=r!==void 0?r:rf(c)===rf(h);l(t,{replace:v,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function N8(t,e){e===void 0&&(e={});let n=ee.useContext(A8);n==null&&bt(!1);let{basename:r}=R8(wy.useViewTransitionState),i=lp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=bu(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=bu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vy(i.pathname,o)!=null||vy(i.pathname,s)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},l4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let v=(a&15)<<2|c>>6,w=c&63;l||(w=64,o||(v=64)),r.push(n[h],n[f],n[v],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new L8;const v=s<<2|a>>4;if(r.push(v),c!==64){const w=a<<4&240|c>>2;if(r.push(w),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D8=function(t){const e=a4(t);return l4.encodeByteArray(e,!0)},lf=function(t){return D8(t).replace(/\./g,"")},c4=function(t){try{return l4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=()=>O8().__FIREBASE_DEFAULTS__,j8=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&c4(t[1]);return e&&JSON.parse(e)},cp=()=>{try{return B8()||j8()||U8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u4=t=>{var e,n;return(n=(e=cp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},h4=t=>{const e=u4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},d4=()=>{var t;return(t=cp())===null||t===void 0?void 0:t.config},f4=t=>{var e;return(e=cp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[lf(JSON.stringify(n)),lf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function $8(){var t;const e=(t=cp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q8(){const t=qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function W8(){try{return typeof indexedDB=="object"}catch{return!1}}function K8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G8,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Z8(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ji(i,a,r)}}function Z8(t,e){return t.replace(Q8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q8=/\{\$([^}]+)}/g;function Y8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Qx(s)&&Qx(o)){if(!cf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function X8(t,e){const n=new J8(t,e);return n.subscribe.bind(n)}class J8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sg),i.error===void 0&&(i.error=sg),i.complete===void 0&&(i.complete=sg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rP(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nP(t){return t===_o?void 0:t}function rP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const sP={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},oP=Ve.INFO,aP={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},lP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wv{constructor(e){this.name=e,this._logLevel=oP,this._logHandler=lP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const cP=(t,e)=>e.some(n=>t instanceof n);let Yx,Xx;function uP(){return Yx||(Yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hP(){return Xx||(Xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g4=new WeakMap,xy=new WeakMap,m4=new WeakMap,og=new WeakMap,xv=new WeakMap;function dP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&g4.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function fP(t){if(xy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});xy.set(t,e)}let by={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pP(t){by=t(by)}function gP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ag(this),e,...n);return m4.set(r,e.sort?e.sort():[e]),Ws(r)}:hP().includes(t)?function(...e){return t.apply(ag(this),e),Ws(g4.get(this))}:function(...e){return Ws(t.apply(ag(this),e))}}function mP(t){return typeof t=="function"?gP(t):(t instanceof IDBTransaction&&fP(t),cP(t,uP())?new Proxy(t,by):t)}function Ws(t){if(t instanceof IDBRequest)return dP(t);if(og.has(t))return og.get(t);const e=mP(t);return e!==t&&(og.set(t,e),xv.set(e,t)),e}const ag=t=>xv.get(t);function yP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const vP=["get","getKey","getAll","getAllKeys","count"],_P=["put","add","delete","clear"],lg=new Map;function Jx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_P.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return lg.set(e,s),s}pP(t=>({...t,get:(e,n,r)=>Jx(e,n)||t.get(e,n,r),has:(e,n)=>!!Jx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",e2="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new wv("@firebase/app"),bP="@firebase/app-compat",EP="@firebase/analytics-compat",SP="@firebase/analytics",IP="@firebase/app-check-compat",AP="@firebase/app-check",kP="@firebase/auth",TP="@firebase/auth-compat",CP="@firebase/database",RP="@firebase/database-compat",PP="@firebase/functions",NP="@firebase/functions-compat",MP="@firebase/installations",LP="@firebase/installations-compat",DP="@firebase/messaging",OP="@firebase/messaging-compat",BP="@firebase/performance",jP="@firebase/performance-compat",UP="@firebase/remote-config",FP="@firebase/remote-config-compat",VP="@firebase/storage",$P="@firebase/storage-compat",zP="@firebase/firestore",HP="@firebase/firestore-compat",qP="firebase",WP="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="[DEFAULT]",KP={[Ey]:"fire-core",[bP]:"fire-core-compat",[SP]:"fire-analytics",[EP]:"fire-analytics-compat",[AP]:"fire-app-check",[IP]:"fire-app-check-compat",[kP]:"fire-auth",[TP]:"fire-auth-compat",[CP]:"fire-rtdb",[RP]:"fire-rtdb-compat",[PP]:"fire-fn",[NP]:"fire-fn-compat",[MP]:"fire-iid",[LP]:"fire-iid-compat",[DP]:"fire-fcm",[OP]:"fire-fcm-compat",[BP]:"fire-perf",[jP]:"fire-perf-compat",[UP]:"fire-rc",[FP]:"fire-rc-compat",[VP]:"fire-gcs",[$P]:"fire-gcs-compat",[zP]:"fire-fst",[HP]:"fire-fst-compat","fire-js":"fire-js",[qP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,Iy=new Map;function GP(t,e){try{t.container.addComponent(e)}catch(n){Ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(Iy.has(e))return Ko.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of uf.values())GP(n,t);return!0}function up(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ks=new Zu("app","Firebase",ZP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=WP;function ao(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=d4()),!n)throw Ks.create("no-options");const s=uf.get(i);if(s){if(cf(n,s.options)&&cf(r,s.config))return s;throw Ks.create("duplicate-app",{appName:i})}const o=new iP(i);for(const l of Iy.values())o.addComponent(l);const a=new QP(n,r,o);return uf.set(i,a),a}function bv(t=Sy){const e=uf.get(t);if(!e&&t===Sy&&d4())return ao();if(!e)throw Ks.create("no-app",{appName:t});return e}function Ai(t,e,n){var r;let i=(r=KP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ko.warn(a.join(" "));return}Go(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="firebase-heartbeat-database",XP=1,Eu="firebase-heartbeat-store";let cg=null;function y4(){return cg||(cg=yP(YP,XP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Eu)}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),cg}async function JP(t){try{return await(await y4()).transaction(Eu).objectStore(Eu).get(v4(t))}catch(e){if(e instanceof ji)Ko.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ko.warn(n.message)}}}async function t2(t,e){try{const r=(await y4()).transaction(Eu,"readwrite");await r.objectStore(Eu).put(e,v4(t)),await r.done}catch(n){if(n instanceof ji)Ko.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ko.warn(r.message)}}}function v4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=1024,tN=30*24*60*60*1e3;class nN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=tN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n2(),{heartbeatsToSend:n,unsentEntries:r}=rN(this._heartbeatsCache.heartbeats),i=lf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function n2(){return new Date().toISOString().substring(0,10)}function rN(t,e=eN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),r2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),r2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W8()?K8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await JP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return t2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return t2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function r2(t){return lf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){Go(new Js("platform-logger",e=>new wP(e),"PRIVATE")),Go(new Js("heartbeat",e=>new nN(e),"PRIVATE")),Ai(Ey,e2,t),Ai(Ey,e2,"esm2017"),Ai("fire-js","")}sN("");var oN="firebase",aN="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(oN,aN,"app");function Ev(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i2(t){return t!==void 0&&t.enterprise!==void 0}class lN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function _4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cN=_4,w4=new Zu("auth","Firebase",_4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new wv("@firebase/auth");function uN(t,...e){hf.logLevel<=Ve.WARN&&hf.warn(`Auth (${la}): ${t}`,...e)}function wd(t,...e){hf.logLevel<=Ve.ERROR&&hf.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw Sv(t,...e)}function ki(t,...e){return Sv(t,...e)}function x4(t,e,n){const r=Object.assign(Object.assign({},cN()),{[e]:n});return new Zu("auth","Firebase",r).create(e,{appName:t.name})}function hN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wr(t,"argument-error"),x4(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w4.create(t,...e)}function Ee(t,e,...n){if(!t)throw Sv(e,...n)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function ss(t,e){t||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dN(){return s2()==="http:"||s2()==="https:"}function s2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dN()||z8()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=V8()||H8()}get(){return fN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Yu(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lo(t,e,n,r,i={}){return E4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Qu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),b4.fetch()(S4(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function E4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gN),e);try{const i=new yN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw x4(t,h,c);Wr(t,h)}}catch(i){if(i instanceof ji)throw i;Wr(t,"network-request-failed",{message:String(i)})}}async function Xu(t,e,n,r,i={}){const s=await lo(t,e,n,r,i);return"mfaPendingCredential"in s&&Wr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function S4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Iv(t.config,i):`${t.config.apiScheme}://${i}`}class yN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),mN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ki(t,e,r);return i.customData._tokenResponse=n,i}async function vN(t,e){return lo(t,"GET","/v2/recaptchaConfig",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function wN(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xN(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=Av(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Kc(ug(i.auth_time)),issuedAtTime:Kc(ug(i.iat)),expirationTime:Kc(ug(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ug(t){return Number(t)*1e3}function Av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=c4(n);return i?JSON.parse(i):(wd("Failed to decode base64 JWT payload"),null)}catch(i){return wd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bN(t){const e=Av(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&EN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pl(t,wN(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kN(s.providerUserInfo):[],a=AN(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new I4(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function IN(t){const e=Ct(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kN(t){return t.map(e=>{var{providerId:n}=e,r=Ev(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e){const n=await E4(t,{},async()=>{const r=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=S4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b4.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Su;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new I4(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xN(this,e)}reload(){return IN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pl(this,_N(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:P,isAnonymous:N,providerData:O,stsTokenManager:U}=n;Ee(y&&U,e,"internal-error");const F=Su.fromJSON(this.name,U);Ee(typeof y=="string",e,"internal-error"),ps(f,e.name),ps(v,e.name),Ee(typeof P=="boolean",e,"internal-error"),Ee(typeof N=="boolean",e,"internal-error"),ps(w,e.name),ps(S,e.name),ps(b,e.name),ps(A,e.name),ps(x,e.name),ps(E,e.name);const G=new Lo({uid:y,auth:e,email:v,emailVerified:P,displayName:f,isAnonymous:N,photoURL:S,phoneNumber:w,tenantId:b,stsTokenManager:F,createdAt:x,lastLoginAt:E});return O&&Array.isArray(O)&&(G.providerData=O.map(Q=>Object.assign({},Q))),A&&(G._redirectEventId=A),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new Su;i.updateFromServerResponse(n);const s=new Lo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await df(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Map;function Zi(t){ss(t instanceof Function,"Expected a class definition");let e=o2.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A4.type="NONE";const a2=A4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xa(Zi(a2),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Zi(a2);const o=xd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=Lo._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Xa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Xa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P4(e))return"Blackberry";if(N4(e))return"Webos";if(kv(e))return"Safari";if((e.includes("chrome/")||T4(e))&&!e.includes("edge/"))return"Chrome";if(R4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function k4(t=qn()){return/firefox\//i.test(t)}function kv(t=qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T4(t=qn()){return/crios\//i.test(t)}function C4(t=qn()){return/iemobile/i.test(t)}function R4(t=qn()){return/android/i.test(t)}function P4(t=qn()){return/blackberry/i.test(t)}function N4(t=qn()){return/webos/i.test(t)}function hp(t=qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CN(t=qn()){var e;return hp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RN(){return q8()&&document.documentMode===10}function M4(t=qn()){return hp(t)||R4(t)||N4(t)||P4(t)||/windows phone/i.test(t)||C4(t)}function PN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e=[]){let n;switch(t){case"Browser":n=l2(qn());break;case"Worker":n=`${l2(qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=6;class DN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c2(this),this.idTokenSubscription=new c2(this),this.beforeStateQueue=new NN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ct(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MN(this),n=new DN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return Ct(t)}let c2=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=X8(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function D4(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ki("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",BN().appendChild(r)})}function jN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const UN="https://www.google.com/recaptcha/enterprise.js?render=",FN="recaptcha-enterprise",VN="NO_RECAPTCHA";class $N{constructor(e){this.type=FN,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{vN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new lN(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;i2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(VN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&i2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}D4(UN+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ff(t,e,n,r=!1){const i=new $N(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t,e){const n=up(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cf(s,e??{}))return i;Wr(i,"already-initialized")}return n.initialize({options:e})}function HN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qN(t,e,n){const r=hs(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=O4(e),{host:o,port:a}=WN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||KN()}function O4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WN(t){const e=O4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:u2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:u2(o)}}}function u2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function GN(t,e){return lo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t,e){return Xu(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function QN(t,e){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Tv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Iu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Iu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ff(e,r,"signInWithPassword");return hg(e,i)}else return hg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ff(e,r,"signInWithPassword");return hg(e,s)}else return Promise.reject(i)});case"emailLink":return ZN(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return GN(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return QN(e,{idToken:n,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e){return Xu(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="http://localhost";class Zo extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ev(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:YN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JN(t){const e=Tc(Cc(t)).link,n=e?Tc(Cc(e)).deep_link_id:null,r=Tc(Cc(t)).deep_link_id;return(r?Tc(Cc(r)).link:null)||r||n||e||t}class Cv{constructor(e){var n,r,i,s,o,a;const l=Tc(Cc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=XN((i=l.mode)!==null&&i!==void 0?i:null);Ee(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=JN(e);try{return new Cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return Iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cv.parseLink(n);return Ee(r,"argument-error"),Iu._fromEmailAndCode(e,r.code,r.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Ju{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zo._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Ju{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Ju{constructor(){super("twitter.com")}static credential(e,n){return Zo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(t,e){return Xu(t,"POST","/v1/accounts:signUp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Lo._fromIdTokenResponse(e,r,i),o=h2(r);return new os({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=h2(r);return new os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function h2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t){var e;const n=hs(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new os({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await bd(n,{returnSecureToken:!0}),i=await os._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends ji{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pf(e,n,r,i)}}function B4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(t,s,e,r):s})}async function t7(t,e,n=!1){const r=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await pl(t,B4(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=Av(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),os._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e,n=!1){const r="signIn",i=await B4(t,r,e),s=await os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function r7(t,e){return j4(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i7(t,e,n){var r;const i=hs(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await ff(i,s,"signUpPassword");o=bd(i,c)}else o=bd(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const h=await ff(i,s,"signUpPassword");return bd(i,h)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&U4(t),c}),l=await os._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function s7(t,e,n){return r7(Ct(t),Hl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U4(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e){return lo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await pl(r,o7(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function a7(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function l7(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function c7(t){return Ct(t).signOut()}const gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(){const t=qn();return kv(t)||hp(t)}const h7=1e3,d7=10;class $4 extends V4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=u7()&&PN(),this.fallbackToPolling=M4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$4.type="LOCAL";const f7=$4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4 extends V4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z4.type="SESSION";const H4=z4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await p7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Pv("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const v=f;if(v.data.eventId===c)switch(v.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function m7(t){Ti().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function y7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _7(){return q4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="firebaseLocalStorageDb",w7=1,mf="firebaseLocalStorage",K4="fbase_key";class eh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fp(t,e){return t.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function x7(){const t=indexedDB.deleteDatabase(W4);return new eh(t).toPromise()}function ky(){const t=indexedDB.open(W4,w7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mf,{keyPath:K4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mf)?e(r):(r.close(),await x7(),e(await ky()))})})}async function d2(t,e,n){const r=fp(t,!0).put({[K4]:e,value:n});return new eh(r).toPromise()}async function b7(t,e){const n=fp(t,!1).get(e),r=await new eh(n).toPromise();return r===void 0?null:r.value}function f2(t,e){const n=fp(t,!0).delete(e);return new eh(n).toPromise()}const E7=800,S7=3;class G4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>S7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dp._getInstance(_7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await y7(),!this.activeServiceWorker)return;this.sender=new g7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await d2(e,gf,"1"),await f2(e,gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fp(i,!1).getAll();return new eh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G4.type="LOCAL";const I7=G4;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t,e){return e?Zi(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function A7(t){return j4(t.auth,new Nv(t),t.bypassAuthState)}function k7(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),n7(n,new Nv(t),t.bypassAuthState)}async function T7(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),t7(n,new Nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A7;case"linkViaPopup":case"linkViaRedirect":return T7;case"reauthViaPopup":case"reauthViaRedirect":return k7;default:Wr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=new Yu(2e3,1e4);async function Y4(t,e,n){const r=hs(t);hN(t,e,Rv);const i=Z4(r,n);return new ko(r,"signInViaPopup",e,i).executeNotNull()}class ko extends Q4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C7.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="pendingRedirect",Ed=new Map;class P7 extends Q4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const r=await N7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N7(t,e){const n=D7(e),r=L7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function M7(t,e){Ed.set(t._key(),e)}function L7(t){return Zi(t._redirectPersistence)}function D7(t){return xd(R7,t.config.apiKey,t.name)}async function O7(t,e,n=!1){const r=hs(t),i=Z4(r,e),o=await new P7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=10*60*1e3;class j7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B7&&this.cachedEventUids.clear(),this.cachedEventUids.has(p2(e))}saveEventToCache(e){this.cachedEventUids.add(p2(e)),this.lastProcessedEventTime=Date.now()}}function p2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$7=/^https?/;async function z7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F7(t);for(const n of e)try{if(H7(n))return}catch{}Wr(t,"unauthorized-domain")}function H7(t){const e=Ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$7.test(n))return!1;if(V7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=new Yu(3e4,6e4);function g2(){const t=Ti().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W7(t){return new Promise((e,n)=>{var r,i,s;function o(){g2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g2(),n(ki(t,"network-request-failed"))},timeout:q7.get()})}if(!((i=(r=Ti().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ti().gapi)===null||s===void 0)&&s.load)o();else{const a=jN("iframefcb");return Ti()[a]=()=>{gapi.load?o():n(ki(t,"network-request-failed"))},D4(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function K7(t){return Sd=Sd||W7(t),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=new Yu(5e3,15e3),Z7="__/auth/iframe",Q7="emulator/auth/iframe",Y7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J7(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iv(e,Q7):`https://${t.config.authDomain}/${Z7}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=X7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qu(r).slice(1)}`}async function eM(t){const e=await K7(t),n=Ti().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:J7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ki(t,"network-request-failed"),a=Ti().setTimeout(()=>{s(o)},G7.get());function l(){Ti().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nM=500,rM=600,iM="_blank",sM="http://localhost";class m2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oM(t,e,n,r=nM,i=rM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=qn().toLowerCase();n&&(a=T4(c)?iM:n),k4(c)&&(e=e||sM,l.scrollbars="yes");const h=Object.entries(l).reduce((v,[w,S])=>`${v}${w}=${S},`,"");if(CN(c)&&a!=="_self")return aM(e||"",a),new m2(null);const f=window.open(e||"",a,h);Ee(f,t,"popup-blocked");try{f.focus()}catch{}return new m2(f)}function aM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="__/auth/handler",cM="emulator/auth/handler",uM=encodeURIComponent("fac");async function y2(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof Rv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Y8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof Ju){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${uM}=${encodeURIComponent(l)}`:"";return`${hM(t)}?${Qu(a).slice(1)}${c}`}function hM({config:t}){return t.emulator?Iv(t,cM):`https://${t.authDomain}/${lM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="webStorageSupport";class dM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H4,this._completeRedirectFn=O7,this._overrideRedirectResult=M7}async _openPopup(e,n,r,i){var s;ss((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await y2(e,n,r,Ay(),i);return oM(e,o,Pv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await y2(e,n,r,Ay(),i);return m7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ss(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eM(e),r=new j7(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[dg];o!==void 0&&n(!!o),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M4()||kv()||hp()}}const fM=dM;var v2="@firebase/auth",_2="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function mM(t){Go(new Js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L4(t)},c=new ON(r,i,s,l);return HN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Js("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new pM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(v2,_2,gM(t)),Ai(v2,_2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=5*60,vM=f4("authIdTokenMaxAge")||yM;let w2=null;const _M=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vM)return;const i=n==null?void 0:n.token;w2!==i&&(w2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Do(t=bv()){const e=up(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zN(t,{popupRedirectResolver:fM,persistence:[I7,f7,H4]}),r=f4("authTokenSyncURL");if(r){const s=_M(r);l7(n,s,()=>s(n.currentUser)),a7(n,o=>s(o))}const i=u4("auth");return i&&qN(n,`http://${i}`),n}mM("Browser");var wM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,Mv=Mv||{},Ae=wM||self;function pp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function th(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function xM(t){return Object.prototype.hasOwnProperty.call(t,fg)&&t[fg]||(t[fg]=++bM)}var fg="closure_uid_"+(1e9*Math.random()>>>0),bM=0;function EM(t,e,n){return t.call.apply(t.bind,arguments)}function SM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $n(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$n=EM:$n=SM,$n.apply(null,arguments)}function Vh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function co(){this.s=this.s,this.o=this.o}var IM=0;co.prototype.s=!1;co.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IM!=0)&&xM(this)};co.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const J4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function x2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var AM=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ae.addEventListener("test",()=>{},e),Ae.removeEventListener("test",()=>{},e)}catch{}return t}();function Au(t){return/^[\s\xa0]*$/.test(t)}function gp(){var t=Ae.navigator;return t&&(t=t.userAgent)?t:""}function yi(t){return gp().indexOf(t)!=-1}function Dv(t){return Dv[" "](t),t}Dv[" "]=function(){};function kM(t,e){var n=_9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TM=yi("Opera"),gl=yi("Trident")||yi("MSIE"),e6=yi("Edge"),Ty=e6||gl,t6=yi("Gecko")&&!(gp().toLowerCase().indexOf("webkit")!=-1&&!yi("Edge"))&&!(yi("Trident")||yi("MSIE"))&&!yi("Edge"),CM=gp().toLowerCase().indexOf("webkit")!=-1&&!yi("Edge");function n6(){var t=Ae.document;return t?t.documentMode:void 0}var Cy;e:{var pg="",gg=function(){var t=gp();if(t6)return/rv:([^\);]+)(\)|;)/.exec(t);if(e6)return/Edge\/([\d\.]+)/.exec(t);if(gl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(CM)return/WebKit\/(\S+)/.exec(t);if(TM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(gg&&(pg=gg?gg[1]:""),gl){var mg=n6();if(mg!=null&&mg>parseFloat(pg)){Cy=String(mg);break e}}Cy=pg}var Ry;if(Ae.document&&gl){var b2=n6();Ry=b2||parseInt(Cy,10)||void 0}else Ry=void 0;var RM=Ry;function ku(t,e){if(zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(t6){e:{try{Dv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ku.$.h.call(this)}}mn(ku,zn);var PM={2:"touch",3:"pen",4:"mouse"};ku.prototype.h=function(){ku.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nh="closure_listenable_"+(1e6*Math.random()|0),NM=0;function MM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++NM,this.fa=this.ia=!1}function mp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ov(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function LM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function r6(t){const e={};for(const n in t)e[n]=t[n];return e}const E2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function i6(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<E2.length;s++)n=E2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yp(t){this.src=t,this.g={},this.h=0}yp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ny(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new MM(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Py(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=J4(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ny(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bv="closure_lm_"+(1e6*Math.random()|0),yg={};function s6(t,e,n,r,i){if(r&&r.once)return a6(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)s6(t,e[s],n,r,i);return null}return n=Fv(n),t&&t[nh]?t.O(e,n,th(r)?!!r.capture:!!r,i):o6(t,e,n,!1,r,i)}function o6(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=th(i)?!!i.capture:!!i,a=Uv(t);if(a||(t[Bv]=a=new yp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=DM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)AM||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(c6(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function DM(){function t(n){return e.call(t.src,t.listener,n)}const e=OM;return t}function a6(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)a6(t,e[s],n,r,i);return null}return n=Fv(n),t&&t[nh]?t.P(e,n,th(r)?!!r.capture:!!r,i):o6(t,e,n,!0,r,i)}function l6(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)l6(t,e[s],n,r,i);else r=th(r)?!!r.capture:!!r,n=Fv(n),t&&t[nh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ny(s,n,r,i),-1<n&&(mp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ny(e,n,r,i)),(n=-1<t?e[t]:null)&&jv(n))}function jv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[nh])Py(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(c6(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uv(e))?(Py(n,t),n.h==0&&(n.src=null,e[Bv]=null)):mp(t)}}}function c6(t){return t in yg?yg[t]:yg[t]="on"+t}function OM(t,e){if(t.fa)t=!0;else{e=new ku(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jv(t),t=n.call(r,e)}return t}function Uv(t){return t=t[Bv],t instanceof yp?t:null}var vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fv(t){return typeof t=="function"?t:(t[vg]||(t[vg]=function(e){return t.handleEvent(e)}),t[vg])}function gn(){co.call(this),this.i=new yp(this),this.S=this,this.J=null}mn(gn,co);gn.prototype[nh]=!0;gn.prototype.removeEventListener=function(t,e,n,r){l6(this,t,e,n,r)};function Tn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zn(e,t);else if(e instanceof zn)e.target=e.target||t;else{var i=e;e=new zn(r,t),i6(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=$h(o,r,!0,e)&&i}if(o=e.g=t,i=$h(o,r,!0,e)&&i,i=$h(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=$h(o,r,!1,e)&&i}gn.prototype.N=function(){if(gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mp(n[r]);delete t.g[e],t.h--}}this.J=null};gn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $h(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Py(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Vv=Ae.JSON.stringify;class BM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function jM(){var t=$v;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UM{constructor(){this.h=this.g=null}add(e,n){const r=u6.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var u6=new BM(()=>new FM,t=>t.reset());class FM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VM(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $M(t){Ae.setTimeout(()=>{throw t},0)}let Tu,Cu=!1,$v=new UM,h6=()=>{const t=Ae.Promise.resolve(void 0);Tu=()=>{t.then(zM)}};var zM=()=>{for(var t;t=jM();){try{t.h.call(t.g)}catch(n){$M(n)}var e=u6;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cu=!1};function vp(t,e){gn.call(this),this.h=t||1,this.g=e||Ae,this.j=$n(this.qb,this),this.l=Date.now()}mn(vp,gn);ae=vp.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(zv(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){vp.$.N.call(this),zv(this),delete this.g};function Hv(t,e,n){if(typeof t=="function")n&&(t=$n(t,n));else if(t&&typeof t.handleEvent=="function")t=$n(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function d6(t){t.g=Hv(()=>{t.g=null,t.i&&(t.i=!1,d6(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HM extends co{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:d6(this)}N(){super.N(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ru(t){co.call(this),this.h=t,this.g={}}mn(Ru,co);var S2=[];function f6(t,e,n,r){Array.isArray(n)||(n&&(S2[0]=n.toString()),n=S2);for(var i=0;i<n.length;i++){var s=s6(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function p6(t){Ov(t.g,function(e,n){this.g.hasOwnProperty(n)&&jv(e)},t),t.g={}}Ru.prototype.N=function(){Ru.$.N.call(this),p6(this)};Ru.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _p(){this.g=!0}_p.prototype.Ea=function(){this.g=!1};function qM(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");o=2<=f.length&&f[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function WM(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Va(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GM(t,n)+(r?" "+r:"")})}function KM(t,e){t.info(function(){return"TIMEOUT: "+e})}_p.prototype.info=function(){};function GM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Vv(n)}catch{return e}}var ua={},I2=null;function wp(){return I2=I2||new gn}ua.Ta="serverreachability";function g6(t){zn.call(this,ua.Ta,t)}mn(g6,zn);function Pu(t){const e=wp();Tn(e,new g6(e))}ua.STAT_EVENT="statevent";function m6(t,e){zn.call(this,ua.STAT_EVENT,t),this.stat=e}mn(m6,zn);function Qn(t){const e=wp();Tn(e,new m6(e,t))}ua.Ua="timingevent";function y6(t,e){zn.call(this,ua.Ua,t),this.size=e}mn(y6,zn);function rh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){t()},e)}var xp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},v6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qv(){}qv.prototype.h=null;function A2(t){return t.h||(t.h=t.i())}function _6(){}var ih={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wv(){zn.call(this,"d")}mn(Wv,zn);function Kv(){zn.call(this,"c")}mn(Kv,zn);var My;function bp(){}mn(bp,qv);bp.prototype.g=function(){return new XMLHttpRequest};bp.prototype.i=function(){return{}};My=new bp;function sh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ru(this),this.P=ZM,t=Ty?125:void 0,this.V=new vp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new w6}function w6(){this.i=null,this.g="",this.h=!1}var ZM=45e3,Ly={},yf={};ae=sh.prototype;ae.setTimeout=function(t){this.P=t};function Dy(t,e,n){t.L=1,t.v=Sp(as(e)),t.s=n,t.S=!0,x6(t,null)}function x6(t,e){t.G=Date.now(),oh(t),t.A=as(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),C6(n.i,"t",r),t.C=0,n=t.l.J,t.h=new w6,t.g=Q6(t.l,n?e:null,!t.s),0<t.O&&(t.M=new HM($n(t.Pa,t,t.g),t.O)),f6(t.U,t.g,"readystatechange",t.nb),e=t.I?r6(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Pu(),qM(t.j,t.u,t.A,t.m,t.W,t.s)}ae.nb=function(t){t=t.target;const e=this.M;e&&_i(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const h=_i(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>h)&&(h!=3||Ty||this.g&&(this.h.h||this.g.ja()||R2(this.g)))){this.J||h!=4||e==7||(e==8||0>=f?Pu(3):Pu(2)),Ep(this);var n=this.g.da();this.ca=n;t:if(b6(this)){var r=R2(this.g);t="";var i=r.length,s=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){To(this),Gc(this);var o="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,WM(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Au(a)){var c=a;break t}}c=null}if(n=c)Va(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oy(this,n);else{this.i=!1,this.o=3,Qn(12),To(this),Gc(this);break e}}this.S?(E6(this,h,o),Ty&&this.i&&h==3&&(f6(this.U,this.V,"tick",this.mb),this.V.start())):(Va(this.j,this.m,o,null),Oy(this,o)),h==4&&To(this),this.i&&!this.J&&(h==4?W6(this.l,this):(this.i=!1,oh(this)))}else m9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Qn(12)):(this.o=0,Qn(13)),To(this),Gc(this)}}}catch{}finally{}};function b6(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function E6(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=QM(t,n),i==yf){e==4&&(t.o=4,Qn(14),r=!1),Va(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ly){t.o=4,Qn(15),Va(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Va(t.j,t.m,i,null),Oy(t,i);b6(t)&&i!=yf&&i!=Ly&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jv(e),e.M=!0,Qn(11))):(Va(t.j,t.m,n,"[Invalid Chunked Response]"),To(t),Gc(t))}ae.mb=function(){if(this.g){var t=_i(this.g),e=this.g.ja();this.C<e.length&&(Ep(this),E6(this,t,e),this.i&&t!=4&&oh(this))}};function QM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?yf:(n=Number(e.substring(n,r)),isNaN(n)?Ly:(r+=1,r+n>e.length?yf:(e=e.slice(r,r+n),t.C=r+n,e)))}ae.cancel=function(){this.J=!0,To(this)};function oh(t){t.Y=Date.now()+t.P,S6(t,t.P)}function S6(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=rh($n(t.lb,t),e)}function Ep(t){t.B&&(Ae.clearTimeout(t.B),t.B=null)}ae.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(KM(this.j,this.A),this.L!=2&&(Pu(),Qn(17)),To(this),this.o=2,Gc(this)):S6(this,this.Y-t)};function Gc(t){t.l.H==0||t.J||W6(t.l,t)}function To(t){Ep(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,zv(t.V),p6(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Oy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||By(n.i,t))){if(!t.K&&By(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wf(n),Tp(n);else break e;Xv(n),Qn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=rh($n(n.ib,n),6e3));if(1>=N6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Co(n,11)}else if((t.K||n.g==t)&&wf(n),!Au(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const v=c[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const w=t.g;if(w){const S=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Gv(s,s.h),s.h=null))}if(r.F){const b=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(r.Da=b,ht(r.I,r.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Z6(r,r.J?r.pa:null,r.Y),o.K){M6(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ep(a),oh(a)),r.g=o}else H6(r);0<n.j.length&&Cp(n)}else c[0]!="stop"&&c[0]!="close"||Co(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Co(n,7):Yv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Pu(4)}catch{}}function YM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(pp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function XM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function I6(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(pp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=XM(t),r=YM(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var A6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Oo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Oo){this.h=t.h,vf(this,t.j),this.s=t.s,this.g=t.g,_f(this,t.m),this.l=t.l;var e=t.i,n=new Nu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),k2(this,n),this.o=t.o}else t&&(e=String(t).match(A6))?(this.h=!1,vf(this,e[1]||"",!0),this.s=Rc(e[2]||""),this.g=Rc(e[3]||"",!0),_f(this,e[4]),this.l=Rc(e[5]||"",!0),k2(this,e[6]||"",!0),this.o=Rc(e[7]||"")):(this.h=!1,this.i=new Nu(null,this.h))}Oo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pc(e,T2,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pc(e,T2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pc(n,n.charAt(0)=="/"?n9:t9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pc(n,i9)),t.join("")};function as(t){return new Oo(t)}function vf(t,e,n){t.j=n?Rc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _f(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function k2(t,e,n){e instanceof Nu?(t.i=e,s9(t.i,t.h)):(n||(e=Pc(e,r9)),t.i=new Nu(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function Sp(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Rc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,e9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function e9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var T2=/[#\/\?@]/g,t9=/[#\?:]/g,n9=/[#\?]/g,r9=/[#\?@]/g,i9=/#/g;function Nu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function uo(t){t.g||(t.g=new Map,t.h=0,t.i&&JM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=Nu.prototype;ae.add=function(t,e){uo(this),this.i=null,t=ql(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function k6(t,e){uo(t),e=ql(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function T6(t,e){return uo(t),e=ql(t,e),t.g.has(e)}ae.forEach=function(t,e){uo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){uo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ae.Z=function(t){uo(this);let e=[];if(typeof t=="string")T6(this,t)&&(e=e.concat(this.g.get(ql(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return uo(this),this.i=null,t=ql(this,t),T6(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function C6(t,e,n){k6(t,e),0<n.length&&(t.i=null,t.g.set(ql(t,e),Lv(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ql(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function s9(t,e){e&&!t.j&&(uo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(k6(this,r),C6(this,i,n))},t)),t.j=e}var o9=class{constructor(e,n){this.g=e,this.map=n}};function R6(t){this.l=t||a9,Ae.PerformanceNavigationTiming?(t=Ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ae.g&&Ae.g.Ka&&Ae.g.Ka()&&Ae.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var a9=10;function P6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function N6(t){return t.h?1:t.g?t.g.size:0}function By(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gv(t,e){t.g?t.g.add(e):t.h=e}function M6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}R6.prototype.cancel=function(){if(this.i=L6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function L6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lv(t.i)}var l9=class{stringify(e){return Ae.JSON.stringify(e,void 0)}parse(e){return Ae.JSON.parse(e,void 0)}};function c9(){this.g=new l9}function u9(t,e,n){const r=n||"";try{I6(t,function(i,s){let o=i;th(i)&&(o=Vv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function h9(t,e){const n=new _p;if(Ae.Image){const r=new Image;r.onload=Vh(zh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vh(zh,n,r,"TestLoadImage: error",!1,e),r.onabort=Vh(zh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vh(zh,n,r,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function zh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ip(t){this.l=t.ec||null,this.j=t.ob||!1}mn(Ip,qv);Ip.prototype.g=function(){return new Ap(this.l,this.j)};Ip.prototype.i=function(t){return function(){return t}}({});function Ap(t,e){gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Zv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(Ap,gn);var Zv=0;ae=Ap.prototype;ae.open=function(t,e){if(this.readyState!=Zv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Mu(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ah(this)),this.readyState=Zv};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Mu(this)),this.g&&(this.readyState=3,Mu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function D6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ah(this):Mu(this),this.readyState==3&&D6(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,ah(this))};ae.Ya=function(t){this.g&&(this.response=t,ah(this))};ae.ka=function(){this.g&&ah(this)};function ah(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Mu(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Mu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ap.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var d9=Ae.JSON.parse;function Rt(t){gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=O6,this.L=this.M=!1}mn(Rt,gn);var O6="",f9=/^https?$/i,p9=["POST","PUT"];ae=Rt.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():My.g(),this.C=this.u?A2(this.u):A2(My),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){C2(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ae.FormData&&t instanceof Ae.FormData,!(0<=J4(p9,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U6(this),0<this.B&&((this.L=g9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=Hv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){C2(this,s)}};function g9(t){return gl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof Mv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function C2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,B6(t),kp(t)}function B6(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),kp(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kp(this,!0)),Rt.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?j6(this):this.kb())};ae.kb=function(){j6(this)};function j6(t){if(t.h&&typeof Mv<"u"&&(!t.C[1]||_i(t)!=4||t.da()!=2)){if(t.v&&_i(t)==4)Hv(t.La,0,t);else if(Tn(t,"readystatechange"),_i(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(A6)[1]||null;!i&&Ae.self&&Ae.self.location&&(i=Ae.self.location.protocol.slice(0,-1)),r=!f9.test(i?i.toLowerCase():"")}n=r}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var s=2<_i(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",B6(t)}}finally{kp(t)}}}}function kp(t,e){if(t.g){U6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function U6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ae.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function _i(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),d9(e)}};function R2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case O6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function m9(t){const e={};t=(t.g&&2<=_i(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Au(t[r]))continue;var n=VM(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}LM(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function F6(t){let e="";return Ov(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Qv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=F6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ht(t,e,n))}function pc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function V6(t){this.Ga=0,this.j=[],this.l=new _p,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pc("baseRetryDelayMs",5e3,t),this.hb=pc("retryDelaySeedMs",1e4,t),this.eb=pc("forwardChannelMaxRetries",2,t),this.xa=pc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new R6(t&&t.concurrentRequestLimit),this.Ja=new c9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=V6.prototype;ae.ra=8;ae.H=1;function Yv(t){if($6(t),t.H==3){var e=t.W++,n=as(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),lh(t,n),e=new sh(t,t.l,e),e.L=2,e.v=Sp(as(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon)try{n=Ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=Q6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oh(e)}G6(t)}function Tp(t){t.g&&(Jv(t),t.g.cancel(),t.g=null)}function $6(t){Tp(t),t.u&&(Ae.clearTimeout(t.u),t.u=null),wf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ae.clearTimeout(t.m),t.m=null)}function Cp(t){if(!P6(t.i)&&!t.m){t.m=!0;var e=t.Na;Tu||h6(),Cu||(Tu(),Cu=!0),$v.add(e,t),t.C=0}}function y9(t,e){return N6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=rh($n(t.Na,t,e),K6(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=r6(s),i6(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=z6(this,i,e),n=as(this.I),ht(n,"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),lh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(F6(s)))+"&"+e:this.o&&Qv(n,this.o,s)),Gv(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,Dy(i,n,null)):Dy(i,n,e),this.H=2}}else this.H==3&&(t?P2(this,t):this.j.length==0||P6(this.i)||P2(this))};function P2(t,e){var n;e?n=e.m:n=t.W++;const r=as(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),lh(t,r),t.o&&t.s&&Qv(r,t.o,t.s),n=new sh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=z6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gv(t.i,n),Dy(n,r,e)}function lh(t,e){t.na&&Ov(t.na,function(n,r){ht(e,r,n)}),t.h&&I6({},function(n,r){ht(e,r,n)})}function z6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$n(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const h=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{u9(h,o,"req"+c+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function H6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Tu||h6(),Cu||(Tu(),Cu=!0),$v.add(e,t),t.A=0}}function Xv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=rh($n(t.Ma,t),K6(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,q6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=rh($n(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qn(10),Tp(this),q6(this))};function Jv(t){t.B!=null&&(Ae.clearTimeout(t.B),t.B=null)}function q6(t){t.g=new sh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=as(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),lh(t,e),t.o&&t.s&&Qv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Sp(as(e)),n.s=null,n.S=!0,x6(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,Tp(this),Xv(this),Qn(19))};function wf(t){t.v!=null&&(Ae.clearTimeout(t.v),t.v=null)}function W6(t,e){var n=null;if(t.g==e){wf(t),Jv(t),t.g=null;var r=2}else if(By(t.i,e))n=e.F,M6(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=wp(),Tn(r,new y6(r,n)),Cp(t)}else H6(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&y9(t,e)||r==2&&Xv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Co(t,5);break;case 4:Co(t,10);break;case 3:Co(t,6);break;default:Co(t,2)}}}function K6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Co(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=$n(t.pb,t);n||(n=new Oo("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||vf(n,"https"),Sp(n)),h9(n.toString(),r)}else Qn(2);t.H=0,t.h&&t.h.za(e),G6(t),$6(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qn(2)):(this.l.info("Failed to ping google.com"),Qn(1))};function G6(t){if(t.H=0,t.ma=[],t.h){const e=L6(t.i);(e.length!=0||t.j.length!=0)&&(x2(t.ma,e),x2(t.ma,t.j),t.i.i.length=0,Lv(t.j),t.j.length=0),t.h.ya()}}function Z6(t,e,n){var r=n instanceof Oo?as(n):new Oo(n);if(r.g!="")e&&(r.g=e+"."+r.g),_f(r,r.m);else{var i=Ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Oo(null);r&&vf(s,r),e&&(s.g=e),i&&_f(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ht(r,n,e),ht(r,"VER",t.ra),lh(t,r),r}function Q6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Rt(new Ip({ob:!0})):new Rt(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function Y6(){}ae=Y6.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function xf(){if(gl&&!(10<=Number(RM)))throw Error("Environmental error: no available transport.")}xf.prototype.g=function(t,e){return new Er(t,e)};function Er(t,e){gn.call(this),this.g=new V6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Au(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Au(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wl(this)}mn(Er,gn);Er.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Z6(t,null,t.Y),Cp(t)};Er.prototype.close=function(){Yv(this.g)};Er.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Vv(t),t=n);e.j.push(new o9(e.fb++,t)),e.H==3&&Cp(e)};Er.prototype.N=function(){this.g.h=null,delete this.j,Yv(this.g),delete this.g,Er.$.N.call(this)};function X6(t){Wv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mn(X6,Wv);function J6(){Kv.call(this),this.status=1}mn(J6,Kv);function Wl(t){this.g=t}mn(Wl,Y6);Wl.prototype.Ba=function(){Tn(this.g,"a")};Wl.prototype.Aa=function(t){Tn(this.g,new X6(t))};Wl.prototype.za=function(t){Tn(this.g,new J6)};Wl.prototype.ya=function(){Tn(this.g,"b")};function v9(){this.blockSize=-1}function li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mn(li,v9);li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function _g(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}li.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)_g(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){_g(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){_g(this,r),i=0;break}}this.h=i,this.i+=e};li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var _9={};function e_(t){return-128<=t&&128>t?kM(t,function(e){return new rt([e|0],0>e?-1:0)}):new rt([t|0],0>t?-1:0)}function wi(t){if(isNaN(t)||!isFinite(t))return el;if(0>t)return Sn(wi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jy;return new rt(e,0)}function eS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Sn(eS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wi(Math.pow(e,8)),r=el,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=wi(Math.pow(e,s)),r=r.R(s).add(wi(o))):(r=r.R(n),r=r.add(wi(o)))}return r}var jy=4294967296,el=e_(0),Uy=e_(1),N2=e_(16777216);ae=rt.prototype;ae.ea=function(){if(Fr(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jy+r)*e,e*=jy}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Qi(this))return"0";if(Fr(this))return"-"+Sn(this).toString(t);for(var e=wi(Math.pow(t,6)),n=this,r="";;){var i=Ef(n,e).g;n=bf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Qi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Qi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Fr(t){return t.h==-1}ae.X=function(t){return t=bf(this,t),Fr(t)?-1:Qi(t)?0:1};function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rt(n,~t.h).add(Uy)}ae.abs=function(){return Fr(this)?Sn(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new rt(n,n[n.length-1]&-2147483648?-1:0)};function bf(t,e){return t.add(Sn(e))}ae.R=function(t){if(Qi(this)||Qi(t))return el;if(Fr(this))return Fr(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(Fr(t))return Sn(this.R(Sn(t)));if(0>this.X(N2)&&0>t.X(N2))return wi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Hh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Hh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Hh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Hh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rt(n,0)};function Hh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function gc(t,e){this.g=t,this.h=e}function Ef(t,e){if(Qi(e))throw Error("division by zero");if(Qi(t))return new gc(el,el);if(Fr(t))return e=Ef(Sn(t),e),new gc(Sn(e.g),Sn(e.h));if(Fr(e))return e=Ef(t,Sn(e)),new gc(Sn(e.g),e.h);if(30<t.g.length){if(Fr(t)||Fr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Uy,r=e;0>=r.X(t);)n=M2(n),r=M2(r);var i=xa(n,1),s=xa(r,1);for(r=xa(r,2),n=xa(n,2);!Qi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=xa(r,1),n=xa(n,1)}return e=bf(t,i.R(e)),new gc(i,e)}for(i=el;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=wi(n),o=s.R(e);Fr(o)||0<o.X(t);)n-=r,s=wi(n),o=s.R(e);Qi(s)&&(s=Uy),i=i.add(s),t=bf(t,o)}return new gc(i,t)}ae.gb=function(t){return Ef(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rt(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rt(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rt(n,this.h^t.h)};function M2(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rt(n,t.h)}function xa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new rt(i,t.h)}xf.prototype.createWebChannel=xf.prototype.g;Er.prototype.send=Er.prototype.u;Er.prototype.open=Er.prototype.m;Er.prototype.close=Er.prototype.close;xp.NO_ERROR=0;xp.TIMEOUT=8;xp.HTTP_ERROR=6;v6.COMPLETE="complete";_6.EventType=ih;ih.OPEN="a";ih.CLOSE="b";ih.ERROR="c";ih.MESSAGE="d";gn.prototype.listen=gn.prototype.O;Rt.prototype.listenOnce=Rt.prototype.P;Rt.prototype.getLastError=Rt.prototype.Sa;Rt.prototype.getLastErrorCode=Rt.prototype.Ia;Rt.prototype.getStatus=Rt.prototype.da;Rt.prototype.getResponseJson=Rt.prototype.Wa;Rt.prototype.getResponseText=Rt.prototype.ja;Rt.prototype.send=Rt.prototype.ha;Rt.prototype.setWithCredentials=Rt.prototype.Oa;li.prototype.digest=li.prototype.l;li.prototype.reset=li.prototype.reset;li.prototype.update=li.prototype.j;rt.prototype.add=rt.prototype.add;rt.prototype.multiply=rt.prototype.R;rt.prototype.modulo=rt.prototype.gb;rt.prototype.compare=rt.prototype.X;rt.prototype.toNumber=rt.prototype.ea;rt.prototype.toString=rt.prototype.toString;rt.prototype.getBits=rt.prototype.D;rt.fromNumber=wi;rt.fromString=eS;var w9=function(){return new xf},x9=function(){return wp()},wg=xp,b9=v6,E9=ua,L2={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qh=_6,S9=Rt,I9=li,tl=rt;const D2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new wv("@firebase/firestore");function mc(){return Qo.logLevel}function pe(t,...e){if(Qo.logLevel<=Ve.DEBUG){const n=e.map(t_);Qo.debug(`Firestore (${Kl}): ${t}`,...n)}}function ls(t,...e){if(Qo.logLevel<=Ve.ERROR){const n=e.map(t_);Qo.error(`Firestore (${Kl}): ${t}`,...n)}}function ml(t,...e){if(Qo.logLevel<=Ve.WARN){const n=e.map(t_);Qo.warn(`Firestore (${Kl}): ${t}`,...n)}}function t_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw ls(e),new Error(e)}function pt(t,e){t||Se()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class k9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T9{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string"),new tS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new Un(e)}}class C9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new C9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string"),this.R=n.token,new P9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=M9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function yl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new cn(0,0))}static max(){return new Ce(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class dt extends Lu{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const L9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends Lu{construct(e,n,r){return new An(e,n,r)}static isValidIdentifier(e){return L9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new An(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(n)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}function D9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new cn(n+1,0):new cn(n,r));return new eo(i,ve.empty(),e)}function O9(t){return new eo(t.readTime,t.key,-1)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(Ce.min(),ve.empty(),-1)}static max(){return new eo(Ce.max(),ve.empty(),-1)}}function B9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==j9)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function uh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}n_.ae=-1;function Rp(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function F9(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=s??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B2(this.data.getIterator())}getIteratorFrom(e){return new B2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class B2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new vr([])}unionWith(e){let n=new Cn(An.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iS("Invalid base64 string: "+s):s}}(e);return new Wn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const V9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(pt(!!t),typeof t=="string"){let e=0;const n=V9.exec(t);if(pt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yo(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i_(t){const e=t.mapValue.fields.__previous_value__;return r_(e)?i_(e):e}function Du(t){const e=to(t.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ou{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r_(t)?4:z9(t)?9007199254740991:10:Se()}function Ni(t,e){if(t===e)return!0;const n=Xo(t);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Du(t).isEqual(Du(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=to(i.timestampValue),a=to(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Yo(i.bytesValue).isEqual(Yo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return en(i.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return en(i.integerValue)===en(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=en(i.doubleValue),a=en(s.doubleValue);return o===a?Sf(o)===Sf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(O2(o)!==O2(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ni(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function Bu(t,e){return(t.values||[]).find(n=>Ni(n,e))!==void 0}function vl(t,e){if(t===e)return 0;const n=Xo(t),r=Xo(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=en(s.integerValue||s.doubleValue),l=en(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return j2(t.timestampValue,e.timestampValue);case 4:return j2(Du(t),Du(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Yo(s),l=Yo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ye(a[c],l[c]);if(h!==0)return h}return Ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ye(en(s.latitude),en(o.latitude));return a!==0?a:Ye(en(s.longitude),en(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=vl(a[c],l[c]);if(h)return h}return Ye(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Kh.mapValue&&o===Kh.mapValue)return 0;if(s===Kh.mapValue)return 1;if(o===Kh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const v=Ye(l[f],h[f]);if(v!==0)return v;const w=vl(a[l[f]],c[h[f]]);if(w!==0)return w}return Ye(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Se()}}function j2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=to(t),r=to(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function _l(t){return Fy(t)}function Fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Fy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Fy(n.fields[o])}`;return i+"}"}(t.mapValue):Se()}function U2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vy(t){return!!t&&"integerValue"in t}function s_(t){return!!t&&"arrayValue"in t}function F2(t){return!!t&&"nullValue"in t}function V2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Id(t){return!!t&&"mapValue"in t}function Zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=An.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ha(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new or(Zc(this.value))}}function sS(t){const e=[];return ha(t.fields,(n,r)=>{const i=new An([n]);if(Id(r)){const s=sS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Vn(e,0,Ce.min(),Ce.min(),Ce.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new Vn(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new Vn(e,2,n,Ce.min(),Ce.min(),or.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,Ce.min(),Ce.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.position=e,this.inclusive=n}}function $2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=vl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n="asc"){this.field=e,this.dir=n}}function H9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{}class nn extends oS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W9(e,n,r):n==="array-contains"?new Z9(e,r):n==="in"?new Q9(e,r):n==="not-in"?new Y9(e,r):n==="array-contains-any"?new X9(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K9(e,r):new G9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&Xo(this.value)===Xo(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends oS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ci(e,n)}matches(e){return aS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function aS(t){return t.op==="and"}function lS(t){return q9(t)&&aS(t)}function q9(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function $y(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(lS(t))return t.filters.map(e=>$y(e)).join(",");{const e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function cS(t,e){return t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.field.isEqual(i.field)&&Ni(r.value,i.value)}(t,e):t instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cS(o,i.filters[a]),!0):!1}(t,e):void Se()}function uS(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"}(t):"Filter"}class W9 extends nn{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class K9 extends nn{constructor(e,n){super(e,"in",n),this.keys=hS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G9 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=hS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class Z9 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s_(n)&&Bu(n.arrayValue,this.value)}}class Q9 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class Y9 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bu(this.value.arrayValue,n)}}class X9 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function H2(t,e=null,n=[],r=[],i=null,s=null,o=null){return new J9(t,e,n,r,i,s,o)}function o_(t){const e=Ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_l(r)).join(",")),e.le=n}return e.le}function a_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z2(t.startAt,e.startAt)&&z2(t.endAt,e.endAt)}function zy(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function eL(t,e,n,r,i,s,o,a){return new hh(t,e,n,r,i,s,o,a)}function l_(t){return new hh(t)}function q2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dS(t){return t.collectionGroup!==null}function Qc(t){const e=Ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Cn(An.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Af(s,r))}),n.has(An.keyField().canonicalString())||e.he.push(new Af(An.keyField(),r))}return e.he}function Ci(t){const e=Ne(t);return e.Pe||(e.Pe=tL(e,Qc(t))),e.Pe}function tL(t,e){if(t.limitType==="F")return H2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Af(i.field,s)});const n=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;return H2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hy(t,e){const n=t.filters.concat([e]);return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qy(t,e,n){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pp(t,e){return a_(Ci(t),Ci(e))&&t.limitType===e.limitType}function fS(t){return`${o_(Ci(t))}|lt:${t.limitType}`}function Ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uS(i)).join(", ")}]`),Rp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_l(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_l(i)).join(",")),`Target(${r})`}(Ci(t))}; limitType=${t.limitType})`}function Np(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Qc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=$2(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Qc(r),i)||r.endAt&&!function(o,a,l){const c=$2(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Qc(r),i))}(t,e)}function nL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pS(t){return(e,n)=>{let r=!1;for(const i of Qc(t)){const s=rL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function rL(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?vl(l,c):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new St(ve.comparator);function cs(){return iL}const gS=new St(ve.comparator);function Nc(...t){let e=gS;for(const n of t)e=e.insert(n.key,n);return e}function mS(t){let e=gS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ro(){return Yc()}function yS(){return Yc()}function Yc(){return new Gl(t=>t.toString(),(t,e)=>t.isEqual(e))}const sL=new St(ve.comparator),oL=new Cn(ve.comparator);function Ue(...t){let e=oL;for(const n of t)e=e.add(n);return e}const aL=new Cn(Ye);function lL(){return aL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function _S(t){return{integerValue:""+t}}function cL(t,e){return F9(e)?_S(e):vS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this._=void 0}}function uL(t,e,n){return t instanceof ju?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&r_(s)&&(s=i_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof wl?xS(t,e):t instanceof xl?bS(t,e):function(i,s){const o=wS(i,s),a=W2(o)+W2(i.Te);return Vy(o)&&Vy(i.Te)?_S(a):vS(i.serializer,a)}(t,e)}function hL(t,e,n){return t instanceof wl?xS(t,e):t instanceof xl?bS(t,e):n}function wS(t,e){return t instanceof kf?function(r){return Vy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ju extends Mp{}class wl extends Mp{constructor(e){super(),this.elements=e}}function xS(t,e){const n=ES(e);for(const r of t.elements)n.some(i=>Ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class xl extends Mp{constructor(e){super(),this.elements=e}}function bS(t,e){let n=ES(e);for(const r of t.elements)n=n.filter(i=>!Ni(i,r));return{arrayValue:{values:n}}}class kf extends Mp{constructor(e,n){super(),this.serializer=e,this.Te=n}}function W2(t){return en(t.integerValue||t.doubleValue)}function ES(t){return s_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.field=e,this.transform=n}}function dL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wl&&i instanceof wl||r instanceof xl&&i instanceof xl?yl(r.elements,i.elements,Ni):r instanceof kf&&i instanceof kf?Ni(r.Te,i.Te):r instanceof ju&&i instanceof ju}(t.transform,e.transform)}class fL{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lp{}function SS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AS(t.key,ri.none()):new dh(t.key,t.data,ri.none());{const n=t.data,r=or.empty();let i=new Cn(An.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ho(t.key,r,new vr(i.toArray()),ri.none())}}function pL(t,e,n){t instanceof dh?function(i,s,o){const a=i.value.clone(),l=G2(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ho?function(i,s,o){if(!Ad(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G2(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(IS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xc(t,e,n,r){return t instanceof dh?function(s,o,a,l){if(!Ad(s.precondition,o))return a;const c=s.value.clone(),h=Z2(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ho?function(s,o,a,l){if(!Ad(s.precondition,o))return a;const c=Z2(s.fieldTransforms,l,o),h=o.data;return h.setAll(IS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ad(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wS(r.transform,i||null);s!=null&&(n===null&&(n=or.empty()),n.set(r.field,s))}return n||null}function K2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yl(r,i,(s,o)=>dL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dh extends Lp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ho extends Lp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G2(t,e,n){const r=new Map;pt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hL(o,a,n[i]))}return r}function Z2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,uL(s,o,e))}return r}class AS extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mL extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&pL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=SS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,r)=>K2(n,r))&&yl(this.baseMutations,e.baseMutations,(n,r)=>K2(n,r))}}class u_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pt(e.mutations.length===r.length);let i=function(){return sL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new u_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,ze;function wL(t){switch(t){default:return Se();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function kS(t){if(t===void 0)return ls("GRPC error has no .code"),J.UNKNOWN;switch(t){case Xt.OK:return J.OK;case Xt.CANCELLED:return J.CANCELLED;case Xt.UNKNOWN:return J.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return J.INTERNAL;case Xt.UNAVAILABLE:return J.UNAVAILABLE;case Xt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Xt.NOT_FOUND:return J.NOT_FOUND;case Xt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Xt.ABORTED:return J.ABORTED;case Xt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Xt.DATA_LOSS:return J.DATA_LOSS;default:return Se()}}(ze=Xt||(Xt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new tl([4294967295,4294967295],0);function Q2(t){const e=xL().encode(t),n=new I9;return n.update(e),new Uint8Array(n.digest())}function Y2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tl([n,r],0),new tl([i,s],0)]}class h_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mc(`Invalid padding: ${n}`);if(r<0)throw new Mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=tl.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(tl.fromNumber(r)));return i.compare(bL)===1&&(i=new tl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=Q2(e),[r,i]=Y2(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new h_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Q2(e),[r,i]=Y2(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dp(Ce.min(),i,new St(Ye),cs(),Ue())}}class fh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fh(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class TS{constructor(e,n){this.targetId=e,this.ge=n}}class CS{constructor(e,n,r=Wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X2{constructor(){this.pe=0,this.ye=e5(),this.we=Wn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),r=Ue();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new fh(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=e5()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class EL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cs(),this.Ke=J2(),this.$e=new St(Ye)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const s=i.target;if(zy(s))if(r===0){const o=new ve(s.path);this.Ge(n,o,Vn.newNoDocument(o,Ce.min()))}else pt(r===1);else{const o=this.Xe(n);if(o!==r){const a=this.et(e),l=a?this.tt(a,e,o):1;if(l!==0){this.Je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,c)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Yo(r).toUint8Array()}catch(l){if(l instanceof iS)return ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new h_(o,i,s)}catch(l){return ml(l instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.rt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,s,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Ze(o);if(a){if(s.current&&zy(a.target)){const l=new ve(a.target.path);this.Qe.get(l)!==null||this.ot(o,l)||this.Ge(o,l,Vn.newNoDocument(l,e))}s.Ce&&(n.set(o,s.Fe()),s.Me())}});let r=Ue();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ze(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Dp(e,n,this.$e,this.Qe,r);return this.Qe=cs(),this.Ke=J2(),this.$e=new St(Ye),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new X2,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new Cn(Ye),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new X2),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function J2(){return new St(ve.comparator)}function e5(){return new St(ve.comparator)}const SL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),IL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AL=(()=>({and:"AND",or:"OR"}))();class kL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wy(t,e){return t.useProto3Json||Rp(e)?e:{value:e}}function Tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TL(t,e){return Tf(t,e.toTimestamp())}function Ri(t){return pt(!!t),Ce.fromTimestamp(function(n){const r=to(n);return new cn(r.seconds,r.nanos)}(t))}function d_(t,e){return function(r){return new dt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function PS(t){const e=dt.fromString(t);return pt(DS(e)),e}function Ky(t,e){return d_(t.databaseId,e.path)}function xg(t,e){const n=PS(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(NS(n))}function Gy(t,e){return d_(t.databaseId,e)}function CL(t){const e=PS(t);return e.length===4?dt.emptyPath():NS(e)}function Zy(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NS(t){return pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function t5(t,e,n){return{name:Ky(t,e),fields:n.value.mapValue.fields}}function RL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(pt(h===void 0||typeof h=="string"),Wn.fromBase64String(h||"")):(pt(h===void 0||h instanceof Uint8Array),Wn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?J.UNKNOWN:kS(c.code);return new fe(h,c.message||"")}(o);n=new CS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xg(t,r.document.name),s=Ri(r.document.updateTime),o=r.document.createTime?Ri(r.document.createTime):Ce.min(),a=new or({mapValue:{fields:r.document.fields}}),l=Vn.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new kd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xg(t,r.document),s=r.readTime?Ri(r.readTime):Ce.min(),o=Vn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xg(t,r.document),s=r.removedTargetIds||[];n=new kd([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _L(i,s),a=r.targetId;n=new TS(a,o)}}return n}function PL(t,e){let n;if(e instanceof dh)n={update:t5(t,e.key,e.value)};else if(e instanceof AS)n={delete:Ky(t,e.key)};else if(e instanceof ho)n={update:t5(t,e.key,e.data),updateMask:FL(e.fieldMask)};else{if(!(e instanceof mL))return Se();n={verify:Ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ju)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kf)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function NL(t,e){return t&&t.length>0?(pt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ri(i.updateTime):Ri(s);return o.isEqual(Ce.min())&&(o=Ri(s)),new fL(o,i.transformResults||[])}(n,e))):[]}function ML(t,e){return{documents:[Gy(t,e.path)]}}function LL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Gy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return LS(ci.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:Sa(f.field),direction:BL(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Wy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function DL(t){let e=CL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const v=MS(f);return v instanceof ci&&lS(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(v=>function(S){return new Af(Ia(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(f){let v;return v=typeof f=="object"?f.value:f,Rp(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(f){const v=!!f.before,w=f.values||[];return new If(w,v)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const v=!f.before,w=f.values||[];return new If(w,v)}(n.endAt)),eL(e,i,o,s,a,"F",l,c)}function OL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ia(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ia(n.unaryFilter.field);return nn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ia(n.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ia(n.unaryFilter.field);return nn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(r=>MS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function BL(t){return SL[t]}function jL(t){return IL[t]}function UL(t){return AL[t]}function Sa(t){return{fieldPath:t.canonicalString()}}function Ia(t){return An.fromServerFormat(t.fieldPath)}function LS(t){return t instanceof nn?function(n){if(n.op==="=="){if(V2(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(F2(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V2(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(F2(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:jL(n.op),value:n.value}}}(t):t instanceof ci?function(n){const r=n.getFilters().map(i=>LS(i));return r.length===1?r[0]:{compositeFilter:{op:UL(n.op),filters:r}}}(t):Se()}function FL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r,i,s=Ce.min(),o=Ce.min(),a=Wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.ct=e}}function $L(t){const e=DL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this._n=new HL}addToCollectionParentIndex(e,n){return this._n.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(eo.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class HL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Cn(dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cn(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new bl(0)}static Bn(){return new bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.changes=new Gl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xc(r.mutation,i,vr.empty(),cn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=Ro();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cs();const o=Yc(),a=function(){return Yc()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ho)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Xc(h.mutation,c,h.mutation.getFieldMask(),cn.now())):o.set(c.key,vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new WL(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yc();let i=new St((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||vr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=yS();h.forEach(v=>{if(!s.has(v)){const w=SS(n.get(v),r.get(v));w!==null&&f.set(v,w),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ne.resolve(Ro());let a=-1,l=s;return o.next(c=>ne.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?ne.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ue())).next(h=>({batchId:a,changes:mS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nc();return this.indexManager.getCollectionParents(e,s).next(a=>ne.forEach(a,l=>{const c=function(f,v){return new hh(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,v)=>{o=o.insert(f,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Vn.newInvalidDocument(h)))});let a=Nc();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Xc(h.mutation,c,vr.empty(),cn.now()),Np(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ri(i.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:$L(i.bundledQuery),readTime:Ri(i.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.overlays=new St(ve.comparator),this.hr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ro();return ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=Ro(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new St((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Ro(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ro(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return ne.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vL(n,r));let s=this.hr.get(n);s===void 0&&(s=Ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.Pr=new Cn(un.Ir),this.Tr=new Cn(un.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new un(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new un(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ve(new dt([])),r=new un(n,e),i=new un(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ve(new dt([])),r=new un(n,e),i=new un(n,e+1);let s=Ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new un(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ve.comparator(e.key,n.key)||Ye(e.pr,n.pr)}static Er(e,n){return Ye(e.pr,n.pr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Cn(un.Ir)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(o)}lookupMutationBatch(e,n){return ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(Ye);return n.forEach(i=>{const s=new un(i,0),o=new un(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new un(new ve(s),0);let a=new Cn(Ye);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),ne.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ne.forEach(n.mutations,i=>{const s=new un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new un(n,0),i=this.wr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.vr=e,this.docs=function(){return new St(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=cs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cs();const o=n.path,a=new ve(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||B9(O9(h),r)<=0||(i.has(h.key)||Np(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Fr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XL(this)}getSize(e){return ne.resolve(this.size)}}class XL extends qL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.persistence=e,this.Mr=new Gl(n=>o_(n),a_),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new f_,this.targetCount=0,this.Br=bl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ne.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.qn(n),ne.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.Lr={},this.overlays={},this.kr=new n_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new JL(this),this.indexManager=new zL,this.remoteDocumentCache=function(i){return new YL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new VL(n),this.$r=new GL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new QL(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new tD(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class tD extends U9{constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.zr=new f_,this.jr=null}static Hr(e){return new p_(e)}get Jr(){if(this.jr)return this.jr;throw Se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Jr,r=>{const i=ve.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ne.or([()=>ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ue(),i=Ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new nD;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(mc()<=Ve.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ne.resolve()):(mc()<=Ve.DEBUG&&pe("QueryEngine","Query:",Ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(mc()<=Ve.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ne.resolve())}ji(e,n){if(q2(n))return ne.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qy(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,qy(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return q2(n)||i.isEqual(Ce.min())?ne.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?ne.resolve(null):(mc()<=Ve.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ea(n)),this.es(e,o,n,D9(i,-1)).next(a=>a))})}Zi(e,n){let r=new Cn(pS(e));return n.forEach((i,s)=>{Np(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return mc()<=Ve.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ea(n)),this.zi.getDocumentsMatchingQuery(e,n,eo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new St(Ye),this.rs=new Gl(s=>o_(s),a_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function sD(t,e,n,r){return new iD(t,e,n,r)}async function OS(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ue();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function oD(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,v=f.keys();let w=ne.resolve();return v.forEach(S=>{w=w.next(()=>h.getEntry(l,S)).next(b=>{const A=c.docVersions.get(S);pt(A!==null),b.version.compareTo(A)<0&&(f.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),h.addEntry(b)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BS(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function aD(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,f)=>{const v=i.get(f);if(!v)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,f)));let w=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(Wn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(f,w),function(b,A,x){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(v,w,h)&&a.push(n.Qr.updateTargetData(s,w))});let l=cs(),c=Ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(lD(s,o,e.documentUpdates).next(h=>{l=h.cs,c=h.ls})),!r.isEqual(Ce.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function lD(t,e,n){let r=Ue(),i=Ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cs();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function cD(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uD(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ls(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Qy(t,e,n){const r=Ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!uh(o))throw o;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function n5(t,e,n){const r=Ne(t);let i=Ce.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=Ne(l),v=f.rs.get(h);return v!==void 0?ne.resolve(f.ns.get(v)):f.Qr.getTargetData(c,h)}(r,o,Ci(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ce.min(),n?s:Ue())).next(a=>(hD(r,nL(e),a),{documents:a,hs:s})))}function hD(t,e,n){let r=t.ss.get(e)||Ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class r5{constructor(){this.activeTargetIds=lL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dD{constructor(){this.no=new r5,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new r5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function bg(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class mD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=bg(),l=this.bo(n,r);pe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(h=>(pe("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ml("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=pD[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=bg();return new Promise((o,a)=>{const l=new S9;l.setWithCredentials(!0),l.listenOnce(b9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wg.NO_ERROR:const h=l.getResponseJson();pe(Mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case wg.TIMEOUT:pe(Mn,`RPC '${e}' ${s} timed out`),a(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case wg.HTTP_ERROR:const f=l.getStatus();if(pe(Mn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const w=v==null?void 0:v.error;if(w&&w.status&&w.message){const S=function(A){const x=A.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(x)>=0?x:J.UNKNOWN}(w.status);a(new fe(S,w.message))}else a(new fe(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{pe(Mn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);pe(Mn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=bg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w9(),a=x9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");pe(Mn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);let v=!1,w=!1;const S=new gD({lo:A=>{w?pe(Mn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(pe(Mn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),v=!0),pe(Mn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},ho:()=>f.close()}),b=(A,x,E)=>{A.listen(x,y=>{try{E(y)}catch(P){setTimeout(()=>{throw P},0)}})};return b(f,qh.EventType.OPEN,()=>{w||pe(Mn,`RPC '${e}' stream ${i} transport opened.`)}),b(f,qh.EventType.CLOSE,()=>{w||(w=!0,pe(Mn,`RPC '${e}' stream ${i} transport closed`),S.Vo())}),b(f,qh.EventType.ERROR,A=>{w||(w=!0,ml(Mn,`RPC '${e}' stream ${i} transport errored:`,A),S.Vo(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),b(f,qh.EventType.MESSAGE,A=>{var x;if(!w){const E=A.data[0];pt(!!E);const y=E,P=y.error||((x=y[0])===null||x===void 0?void 0:x.error);if(P){pe(Mn,`RPC '${e}' stream ${i} received error:`,P);const N=P.status;let O=function(G){const Q=Xt[G];if(Q!==void 0)return kS(Q)}(N),U=P.message;O===void 0&&(O=J.INTERNAL,U="Unknown error status: "+N+" with message "+P.message),w=!0,S.Vo(new fe(O,U)),f.close()}else pe(Mn,`RPC '${e}' stream ${i} received:`,E),S.mo(E)}}),b(a,E9.STAT_EVENT,A=>{A.stat===L2.PROXY?pe(Mn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===L2.NOPROXY&&pe(Mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ro()},0),S}}function Eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){return new kL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new jS(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yD extends US{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=RL(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?Ri(o.readTime):Ce.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Zy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zy(l)?{documents:ML(s,l)}:{query:LL(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RS(s,o.resumeToken);const c=Wy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Tf(s,o.snapshotVersion.toTimestamp());const c=Wy(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=OL(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Zy(this.serializer),n.removeTarget=e,this.t_(n)}}class vD extends US{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=NL(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.T_(r,n)}return pt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Zy(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PL(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(J.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(J.UNKNOWN,s.toString())})}terminate(){this.A_=!0}}class wD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ls(n),this.g_=!1):pe("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{da(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.v_.add(4),await ph(c),c.x_.set("Unknown"),c.v_.delete(4),await Bp(c)}(this))})}),this.x_=new wD(r,i)}}async function Bp(t){if(da(t))for(const e of t.F_)await e(!0)}async function ph(t){for(const e of t.F_)await e(!1)}function FS(t,e){const n=Ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),v_(n)?y_(n):Zl(n).Jo()&&m_(n,e))}function VS(t,e){const n=Ne(t),r=Zl(n);n.C_.delete(e),r.Jo()&&$S(n,e),n.C_.size===0&&(r.Jo()?r.Xo():da(n)&&n.x_.set("Unknown"))}function m_(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).c_(e)}function $S(t,e){t.O_.Ne(e),Zl(t).l_(e)}function y_(t){t.O_=new EL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.x_.p_()}function v_(t){return da(t)&&!Zl(t).Ho()&&t.C_.size>0}function da(t){return Ne(t).v_.size===0}function zS(t){t.O_=void 0}async function bD(t){t.C_.forEach((e,n)=>{m_(t,e)})}async function ED(t,e){zS(t),v_(t)?(t.x_.S_(e),y_(t)):t.x_.set("Unknown")}async function SD(t,e,n){if(t.x_.set("Online"),e instanceof CS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cf(t,r)}else if(e instanceof kd?t.O_.Ue(e):e instanceof TS?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(Ce.min()))try{const r=await BS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.C_.get(c);h&&s.C_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.C_.get(l);if(!h)return;s.C_.set(l,h.withResumeToken(Wn.EMPTY_BYTE_STRING,h.snapshotVersion)),$S(s,l);const f=new Ls(h.target,l,c,h.sequenceNumber);m_(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await Cf(t,r)}}async function Cf(t,e,n){if(!uh(e))throw e;t.v_.add(1),await ph(t),t.x_.set("Offline"),n||(n=()=>BS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Bp(t)})}function HS(t,e){return e().catch(n=>Cf(t,n,e))}async function jp(t){const e=Ne(t),n=no(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;ID(e);)try{const i=await cD(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,AD(e,i)}catch(i){await Cf(e,i)}qS(e)&&WS(e)}function ID(t){return da(t)&&t.D_.length<10}function AD(t,e){t.D_.push(e);const n=no(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function qS(t){return da(t)&&!no(t).Ho()&&t.D_.length>0}function WS(t){no(t).start()}async function kD(t){no(t).d_()}async function TD(t){const e=no(t);for(const n of t.D_)e.I_(n.mutations)}async function CD(t,e,n){const r=t.D_.shift(),i=u_.from(r,e,n);await HS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jp(t)}async function RD(t,e){e&&no(t).P_&&await async function(r,i){if(function(o){return wL(o)&&o!==J.ABORTED}(i.code)){const s=r.D_.shift();no(r).Zo(),await HS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jp(r)}}(t,e),qS(t)&&WS(t)}async function s5(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=da(n);n.v_.add(3),await ph(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Bp(n)}async function PD(t,e){const n=Ne(t);e?(n.v_.delete(2),await Bp(n)):e||(n.v_.add(2),await ph(n),n.x_.set("Unknown"))}function Zl(t){return t.N_||(t.N_=function(n,r,i){const s=Ne(n);return s.R_(),new yD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:bD.bind(null,t),To:ED.bind(null,t),u_:SD.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),v_(t)?y_(t):t.x_.set("Unknown")):(await t.N_.stop(),zS(t))})),t.N_}function no(t){return t.B_||(t.B_=function(n,r,i){const s=Ne(n);return s.R_(),new vD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:kD.bind(null,t),To:RD.bind(null,t),E_:TD.bind(null,t),T_:CD.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await jp(t)):(await t.B_.stop(),t.D_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new __(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w_(t,e){if(ls("AsyncQueue",`${e}: ${t}`),uh(t))return new fe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Nc(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.L_=new St(ve.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Se():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class El{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new El(e,n,nl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.q_=void 0,this.listeners=[]}}class MD{constructor(){this.queries=new Gl(e=>fS(e),Pp),this.onlineState="Unknown",this.Q_=new Set}}async function KS(t,e){const n=Ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ND),i)try{s.q_=await n.onListen(r)}catch(o){const a=w_(o,`Initialization of query '${Ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.K_(n.onlineState),s.q_&&e.U_(s.q_)&&x_(n)}async function GS(t,e){const n=Ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function LD(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.U_(i)&&(r=!0);o.q_=i}}r&&x_(n)}function DD(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function x_(t){t.Q_.forEach(e=>{e.next()})}class ZS{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.key=e}}class YS{constructor(e){this.key=e}}class OD{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Ue(),this.mutatedKeys=Ue(),this.aa=pS(e),this.ua=new nl(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new o5,i=n?n.ua:this.ua;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const v=i.get(h),w=Np(this.query,f)?f:null,S=!!v&&this.mutatedKeys.has(v.key),b=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;v&&w?v.data.isEqual(w.data)?S!==b&&(r.track({type:3,doc:w}),A=!0):this.Pa(v,w)||(r.track({type:2,doc:w}),A=!0,(l&&this.aa(w,l)>0||c&&this.aa(w,c)<0)&&(a=!0)):!v&&w?(r.track({type:0,doc:w}),A=!0):v&&!w&&(r.track({type:1,doc:v}),A=!0,(l||c)&&(a=!0)),A&&(w?(o=o.add(w),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ua:o,ha:r,Xi:a,mutatedKeys:s}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const s=e.ha.k_();s.sort((c,h)=>function(v,w){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return S(v)-S(w)}(c.type,h.type)||this.aa(c.doc,h.doc)),this.Ia(r);const o=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,s.length!==0||l?{snapshot:new El(this.query,e.ua,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new o5,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Ue(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new YS(r))}),this._a.forEach(r=>{e.has(r)||n.push(new QS(r))}),n}Aa(e){this.sa=e.hs,this._a=Ue();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return El.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class BD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jD{constructor(e){this.key=e,this.Va=!1}}class UD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ma={},this.fa=new Gl(a=>fS(a),Pp),this.ga=new Map,this.pa=new Set,this.ya=new St(ve.comparator),this.wa=new Map,this.Sa=new f_,this.ba={},this.Da=new Map,this.Ca=bl.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function FD(t,e){const n=QD(t);let r,i;const s=n.fa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ra();else{const o=await uD(n.localStore,Ci(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await VD(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&FS(n.remoteStore,o)}return i}async function VD(t,e,n,r,i){t.Fa=(f,v,w)=>async function(b,A,x,E){let y=A.view.la(x);y.Xi&&(y=await n5(b.localStore,A.query,!1).then(({documents:O})=>A.view.la(O,y)));const P=E&&E.targetChanges.get(A.targetId),N=A.view.applyChanges(y,b.isPrimaryClient,P);return l5(b,A.targetId,N.Ea),N.snapshot}(t,f,v,w);const s=await n5(t.localStore,e,!0),o=new OD(e,s.hs),a=o.la(s.documents),l=fh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);l5(t,n,c.Ea);const h=new BD(e,n,o);return t.fa.set(e,h),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),c.snapshot}async function $D(t,e){const n=Ne(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(s=>!Pp(s,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Qy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),VS(n.remoteStore,r.targetId),Yy(n,r.targetId)}).catch(ch)):(Yy(n,r.targetId),await Qy(n.localStore,r.targetId,!0))}async function zD(t,e,n){const r=YD(t);try{const i=await function(o,a){const l=Ne(o),c=cn.now(),h=a.reduce((w,S)=>w.add(S.key),Ue());let f,v;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=cs(),b=Ue();return l.os.getEntries(w,h).next(A=>{S=A,S.forEach((x,E)=>{E.isValidDocument()||(b=b.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,S)).next(A=>{f=A;const x=[];for(const E of a){const y=gL(E,f.get(E.key).overlayedDocument);y!=null&&x.push(new ho(E.key,y,sS(y.value.mapValue),ri.exists(!0)))}return l.mutationQueue.addMutationBatch(w,c,x,a)}).next(A=>{v=A;const x=A.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(w,A.batchId,x)})}).then(()=>({batchId:v.batchId,changes:mS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.ba[o.currentUser.toKey()];c||(c=new St(Ye)),c=c.insert(a,l),o.ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await gh(r,i.changes),await jp(r.remoteStore)}catch(i){const s=w_(i,"Failed to persist write");n.reject(s)}}async function XS(t,e){const n=Ne(t);try{const r=await aD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.wa.get(s);o&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Va=!0:i.modifiedDocuments.size>0?pt(o.Va):i.removedDocuments.size>0&&(pt(o.Va),o.Va=!1))}),await gh(n,r,e)}catch(r){await ch(r)}}function a5(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((s,o)=>{const a=o.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const v of f.listeners)v.K_(a)&&(c=!0)}),c&&x_(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HD(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),s=i&&i.key;if(s){let o=new St(ve.comparator);o=o.insert(s,Vn.newNoDocument(s,Ce.min()));const a=Ue().add(s),l=new Dp(Ce.min(),new Map,new St(Ye),o,a);await XS(r,l),r.ya=r.ya.remove(s),r.wa.delete(e),b_(r)}else await Qy(r.localStore,e,!1).then(()=>Yy(r,e,n)).catch(ch)}async function qD(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await oD(n.localStore,e);eI(n,r,null),JS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gh(n,i)}catch(i){await ch(i)}}async function WD(t,e,n){const r=Ne(t);try{const i=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(pt(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);eI(r,e,n),JS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gh(r,i)}catch(i){await ch(i)}}function JS(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function eI(t,e,n){const r=Ne(t);let i=r.ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function Yy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||tI(t,r)})}function tI(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(VS(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),b_(t))}function l5(t,e,n){for(const r of n)r instanceof QS?(t.Sa.addReference(r.key,e),KD(t,r)):r instanceof YS?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||tI(t,r.key)):Se()}function KD(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.pa.add(r),b_(t))}function b_(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new ve(dt.fromString(e)),r=t.Ca.next();t.wa.set(r,new jD(n)),t.ya=t.ya.insert(n,r),FS(t.remoteStore,new Ls(Ci(l_(n.path)),r,"TargetPurposeLimboResolution",n_.ae))}}async function gh(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{o.push(r.Fa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const h=g_.Ki(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.ma.u_(i),await async function(l,c){const h=Ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ne.forEach(c,v=>ne.forEach(v.qi,w=>h.persistence.referenceDelegate.addReference(f,v.targetId,w)).next(()=>ne.forEach(v.Qi,w=>h.persistence.referenceDelegate.removeReference(f,v.targetId,w)))))}catch(f){if(!uh(f))throw f;pe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const v=f.targetId;if(!f.fromCache){const w=h.ns.get(v),S=w.snapshotVersion,b=w.withLastLimboFreeSnapshotVersion(S);h.ns=h.ns.insert(v,b)}}}(r.localStore,s))}async function GD(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await OS(n.localStore,e);n.currentUser=e,function(s,o){s.Da.forEach(a=>{a.forEach(l=>{l.reject(new fe(J.CANCELLED,o))})}),s.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gh(n,r.us)}}function ZD(t,e){const n=Ne(t),r=n.wa.get(e);if(r&&r.Va)return Ue().add(r.key);{let i=Ue();const s=n.ga.get(e);if(!s)return i;for(const o of s){const a=n.fa.get(o);i=i.unionWith(a.view.ca)}return i}}function QD(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HD.bind(null,e),e.ma.u_=LD.bind(null,e.eventManager),e.ma.Ma=DD.bind(null,e.eventManager),e}function YD(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WD.bind(null,e),e}class c5{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Op(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sD(this.persistence,new rD,e.initialUser,this.serializer)}createPersistence(e){return new eD(p_.Hr,this.serializer)}createSharedClientState(e){return new dD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GD.bind(null,this.syncEngine),await PD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MD}()}createDatastore(e){const n=Op(e.databaseInfo.databaseId),r=function(s){return new mD(s)}(e.databaseInfo);return function(s,o,a,l){return new _D(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new xD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>a5(this.syncEngine,n,0),function(){return i5.C()?new i5:new fD}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const f=new UD(i,s,o,a,l,c);return h&&(f.va=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ne(n);pe("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await ph(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=nS.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{pe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(pe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=w_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sg(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await OS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u5(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tO(t);pe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>s5(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>s5(e.remoteStore,s)),t._onlineComponents=e}function eO(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function tO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!eO(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Sg(t,new c5)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await Sg(t,new c5);return t._offlineComponents}async function rI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await u5(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await u5(t,new XD))),t._onlineComponents}function nO(t){return rI(t).then(e=>e.syncEngine)}async function iI(t){const e=await rI(t),n=e.eventManager;return n.onListen=FD.bind(null,e.syncEngine),n.onUnlisten=$D.bind(null,e.syncEngine),n}function rO(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new nI({next:v=>{o.enqueueAndForget(()=>GS(s,f));const w=v.docs.has(a);!w&&v.fromCache?c.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&l&&l.source==="server"?c.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(v)},error:v=>c.reject(v)}),f=new ZS(l_(a.path),h,{includeMetadataChanges:!0,Y_:!0});return KS(s,f)}(await iI(t),t.asyncQueue,e,n,r)),r.promise}function iO(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new nI({next:v=>{o.enqueueAndForget(()=>GS(s,f)),v.fromCache&&l.source==="server"?c.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(v)},error:v=>c.reject(v)}),f=new ZS(a,h,{includeMetadataChanges:!0,Y_:!0});return KS(s,f)}(await iI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sO(t,e,n,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d5(t){if(!ve.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f5(t){if(ve.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(t);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p5({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p5(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A9;switch(r.type){case"firstParty":return new R9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h5.get(n);r&&(pe("ComponentProvider","Removing Datastore"),h5.delete(n),r.terminate())}(this),Promise.resolve()}}function oO(t,e,n,r={}){var i;const s=(t=Mi(t,Fp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Un.MOCK_USER;else{a=p4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Un(c)}t._authCredentials=new k9(new tS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ql(this.firestore,e,this._query)}}class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Gs extends Ql{constructor(e,n,r){super(e,n,l_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new ve(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Vp(t,e,...n){if(t=Ct(t),oI("collection","path",e),t instanceof Fp){const r=dt.fromString(e,...n);return f5(r),new Gs(t,null,r)}{if(!(t instanceof er||t instanceof Gs))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return f5(r),new Gs(t.firestore,null,r)}}function dn(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=nS.V()),oI("doc","path",e),t instanceof Fp){const r=dt.fromString(e,...n);return d5(r),new er(t,null,new ve(r))}{if(!(t instanceof er||t instanceof Gs))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return d5(r),new er(t.firestore,t instanceof Gs?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new jS(this,"async_queue_retry"),this.su=()=>{const n=Eg();n&&pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Eg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=Eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Ji;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!uh(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ls("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=__.createAndSchedule(this,e,n,r,s=>this.uu(s));return this.eu.push(i),i}ou(){this.tu&&Se()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}class Yl extends Fp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aI(this),this._firestoreClient.terminate()}}function fa(t,e){const n=typeof t=="object"?t:bv(),r=typeof t=="string"?t:e||"(default)",i=up(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=h4("firestore");s&&oO(i,...s)}return i}function E_(t){return t._firestoreClient||aI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aI(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new $9(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new JD(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(Wn.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sl(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^__.*__$/;class cO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new dh(e,this.data,n,this.fieldTransforms)}}class lI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class zp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Iu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Rf(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(cI(this.Tu)&&lO.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class uO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Op(e)}yu(e,n,r,i=!1){return new zp({Tu:e,methodName:n,pu:r,path:An.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hp(t){const e=t._freezeSettings(),n=Op(t._databaseId);return new uO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uI(t,e,n,r,i,s={}){const o=t.yu(s.merge||s.mergeFields?2:0,e,n,i);A_("Data must be an object, but it was:",o,r);const a=dI(r,o);let l,c;if(s.merge)l=new vr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const v=Xy(e,f,n);if(!o.contains(v))throw new fe(J.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);pI(h,v)||h.push(v)}l=new vr(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new cO(new or(a),l,c)}class qp extends Xl{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qp}}function hI(t,e,n){return new zp({Tu:3,pu:e.settings.pu,methodName:t._methodName,Au:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class I_ extends Xl{_toFieldTransform(e){return new c_(e.path,new ju)}isEqual(e){return e instanceof I_}}class hO extends Xl{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=hI(this,e,!0),r=this.wu.map(s=>pa(s,n)),i=new wl(r);return new c_(e.path,i)}isEqual(e){return this===e}}class dO extends Xl{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=hI(this,e,!0),r=this.wu.map(s=>pa(s,n)),i=new xl(r);return new c_(e.path,i)}isEqual(e){return this===e}}function fO(t,e,n,r){const i=t.yu(1,e,n);A_("Data must be an object, but it was:",i,r);const s=[],o=or.empty();ha(r,(l,c)=>{const h=k_(e,l,n);c=Ct(c);const f=i.Vu(h);if(c instanceof qp)s.push(h);else{const v=pa(c,f);v!=null&&(s.push(h),o.set(h,v))}});const a=new vr(s);return new lI(o,a,i.fieldTransforms)}function pO(t,e,n,r,i,s){const o=t.yu(1,e,n),a=[Xy(e,r,n)],l=[i];if(s.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(Xy(e,s[v])),l.push(s[v+1]);const c=[],h=or.empty();for(let v=a.length-1;v>=0;--v)if(!pI(c,a[v])){const w=a[v];let S=l[v];S=Ct(S);const b=o.Vu(w);if(S instanceof qp)c.push(w);else{const A=pa(S,b);A!=null&&(c.push(w),h.set(w,A))}}const f=new vr(c);return new lI(h,f,o.fieldTransforms)}function gO(t,e,n,r=!1){return pa(n,t.yu(r?4:3,e))}function pa(t,e){if(fI(t=Ct(t)))return A_("Unsupported field value:",e,t),dI(t,e);if(t instanceof Xl)return function(r,i){if(!cI(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=pa(a,i.mu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=cn.fromDate(r);return{timestampValue:Tf(i.serializer,s)}}if(r instanceof cn){const s=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,s)}}if(r instanceof S_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sl)return{bytesValue:RS(i.serializer,r._byteString)};if(r instanceof er){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.fu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:d_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${Up(r)}`)}(t,e)}function dI(t,e){const n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,(r,i)=>{const s=pa(i,e.du(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cn||t instanceof S_||t instanceof Sl||t instanceof er||t instanceof Xl)}function A_(t,e,n){if(!fI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Up(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function Xy(t,e,n){if((e=Ct(e))instanceof $p)return e._internalPath;if(typeof e=="string")return k_(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const mO=new RegExp("[~\\*/\\[\\]]");function k_(t,e,n){if(e.search(mO)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $p(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new fe(J.INVALID_ARGUMENT,a+t+l)}function pI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yO extends gI{data(){return super.data()}}function T_(t,e){return typeof e=="string"?k_(t,e):e instanceof $p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C_{}class _O extends C_{}function mI(t,e,...n){let r=[];e instanceof C_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof R_).length,a=s.filter(l=>l instanceof Wp).length;if(o>1||o>0&&a>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wp extends _O{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wp(e,n,r)}_apply(e){const n=this._parse(e);return vI(e._query,n),new Ql(e.firestore,e.converter,Hy(e._query,n))}_parse(e){const n=Hp(e.firestore);return function(s,o,a,l,c,h,f){let v;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){m5(f,h);const w=[];for(const S of f)w.push(g5(l,s,S));v={arrayValue:{values:w}}}else v=g5(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||m5(f,h),v=gO(a,o,f,h==="in"||h==="not-in");return nn.create(c,h,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yI(t,e,n){const r=e,i=T_("where",t);return Wp._create(i,r,n)}class R_ extends C_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)vI(o,l),o=Hy(o,l)}(e._query,n),new Ql(e.firestore,e.converter,Hy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g5(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(e)&&n.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ve.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U2(t,new ve(r))}if(n instanceof er)return U2(t,n._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Up(n)}.`)}function m5(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wO{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new S_(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const n=to(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);pt(DS(r));const i=new Ou(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||ls(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wI extends gI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Td extends wI{data(e={}){return super.data(e)}}class xO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Td(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Lc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:bO(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){t=Mi(t,er);const e=Mi(t.firestore,Yl);return rO(E_(e),t._key).then(n=>IO(e,t,n))}class xI extends wO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function P_(t){t=Mi(t,Ql);const e=Mi(t.firestore,Yl),n=E_(e),r=new xI(e);return vO(t._query),iO(n,t._query).then(i=>new xO(e,r,t,i))}function EO(t,e,n){t=Mi(t,er);const r=Mi(t.firestore,Yl),i=_I(t.converter,e,n);return N_(r,[uI(Hp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ri.none())])}function $a(t,e,n,...r){t=Mi(t,er);const i=Mi(t.firestore,Yl),s=Hp(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof $p?pO(s,"updateDoc",t._key,e,n,r):fO(s,"updateDoc",t._key,e),N_(i,[o.toMutation(t._key,ri.exists(!0))])}function SO(t,e){const n=Mi(t.firestore,Yl),r=dn(t),i=_I(t.converter,e);return N_(n,[uI(Hp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}function N_(t,e){return function(r,i){const s=new Ji;return r.asyncQueue.enqueueAndForget(async()=>zD(await nO(r),i,s)),s.promise}(E_(t),e)}function IO(t,e,n){const r=n.docs.get(e._key),i=new xI(t);return new wI(t,i,e._key,r,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}function AO(){return new I_("serverTimestamp")}function Ig(...t){return new hO("arrayUnion",t)}function kO(...t){return new dO("arrayRemove",t)}(function(e,n=!0){(function(i){Kl=i})(la),Go(new Js("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Yl(new T9(r.getProvider("auth-internal")),new N9(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ai(D2,"4.3.0",e),Ai(D2,"4.3.0","esm2017")})();const Ag=(()=>{const t={};let e=1;return{set(n,r,i){typeof n[r]>"u"&&(n[r]={key:r,id:e},e++),t[n[r].id]=i},get(n,r){if(!n||typeof n[r]>"u")return null;const i=n[r];return i.key===r?t[i.id]:null},delete(n,r){if(typeof n[r]>"u")return;const i=n[r];i.key===r&&(delete t[i.id],delete n[r])}}})(),Yi={setData(t,e,n){Ag.set(t,e,n)},getData(t,e){return Ag.get(t,e)},removeData(t,e){Ag.delete(t,e)}},TO=1e6,CO=1e3,Jy="transitionend",RO=t=>t==null?`${t}`:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),bI=t=>{do t+=Math.floor(Math.random()*TO);while(document.getElementById(t));return t},EI=t=>{let e=t.getAttribute("data-te-target");if(!e||e==="#"){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&n!=="#"?n.trim():null}return e},SI=t=>{const e=EI(t);return e&&document.querySelector(e)?e:null},Uu=t=>{const e=EI(t);return e?document.querySelector(e):null},PO=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return!r&&!i?0:(e=e.split(",")[0],n=n.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(n))*CO)},NO=t=>{t.dispatchEvent(new Event(Jy))},Fu=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),Il=t=>Fu(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,Al=(t,e,n)=>{Object.keys(n).forEach(r=>{const i=n[r],s=e[r],o=s&&Fu(s)?"element":RO(s);if(!new RegExp(i).test(o))throw new Error(`${t.toUpperCase()}: Option "${r}" provided type "${o}" but expected type "${i}".`)})},Kp=t=>{if(!t||t.getClientRects().length===0)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return getComputedStyle(t).getPropertyValue("visibility")==="visible"||e.display!=="none"&&n.display!=="none"&&e.visibility!=="hidden"}return!1},rl=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",II=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?II(t.parentNode):null},Pf=()=>function(){},MO=t=>{t.offsetHeight},AI=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-te-no-jquery")?t:null},kg=[],LO=t=>{document.readyState==="loading"?(kg.length||document.addEventListener("DOMContentLoaded",()=>{kg.forEach(e=>e())}),kg.push(t)):t()},Li=()=>document.documentElement.dir==="rtl",kI=t=>document.createElement(t),y5=t=>{typeof t=="function"&&t()},DO=(t,e,n=!0)=>{if(!n){y5(t);return}const r=5,i=PO(e)+r;let s=!1;const o=({target:a})=>{a===e&&(s=!0,e.removeEventListener(Jy,o),y5(t))};e.addEventListener(Jy,o),setTimeout(()=>{s||NO(e)},i)},OO=(t,e,n,r)=>{let i=t.indexOf(e);if(i===-1)return t[!n&&r?t.length-1:0];const s=t.length;return i+=n?1:-1,r&&(i=(i+s)%s),t[Math.max(0,Math.min(i,s-1))]},BO=/[^.]*(?=\..*)\.|.*/,jO=/\..*/,UO=/::\d+$/,Tg={};let v5=1;const FO={mouseenter:"mouseover",mouseleave:"mouseout"},VO=/^(mouseenter|mouseleave)/i,TI=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CI(t,e){return e&&`${e}::${v5++}`||t.uidEvent||v5++}function RI(t){const e=CI(t);return t.uidEvent=e,Tg[e]=Tg[e]||{},Tg[e]}function $O(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&Pe.off(t,r.type,e),e.apply(t,[r])}}function zO(t,e,n){return function r(i){const s=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(let a=s.length;a--;"")if(s[a]===o)return i.delegateTarget=o,r.oneOff&&Pe.off(t,i.type,n),n.apply(o,[i]);return null}}function PI(t,e,n=null){const r=Object.keys(t);for(let i=0,s=r.length;i<s;i++){const o=t[r[i]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function NI(t,e,n){const r=typeof e=="string",i=r?n:e;let s=MI(t);return TI.has(s)||(s=t),[r,i,s]}function _5(t,e,n,r,i){if(typeof e!="string"||!t)return;if(n||(n=r,r=null),VO.test(e)){const w=S=>function(b){if(!b.relatedTarget||b.relatedTarget!==b.delegateTarget&&!b.delegateTarget.contains(b.relatedTarget))return S.call(this,b)};r?r=w(r):n=w(n)}const[s,o,a]=NI(e,n,r),l=RI(t),c=l[a]||(l[a]={}),h=PI(c,o,s?n:null);if(h){h.oneOff=h.oneOff&&i;return}const f=CI(o,e.replace(BO,"")),v=s?zO(t,n,r):$O(t,n);v.delegationSelector=s?n:null,v.originalHandler=o,v.oneOff=i,v.uidEvent=f,c[f]=v,t.addEventListener(a,v,s)}function e1(t,e,n,r,i){const s=PI(e[n],r,i);s&&(t.removeEventListener(n,s,!!i),delete e[n][s.uidEvent])}function HO(t,e,n,r){const i=e[n]||{};Object.keys(i).forEach(s=>{if(s.includes(r)){const o=i[s];e1(t,e,n,o.originalHandler,o.delegationSelector)}})}function MI(t){return t=t.replace(jO,""),FO[t]||t}const Pe={on(t,e,n,r){_5(t,e,n,r,!1)},one(t,e,n,r){_5(t,e,n,r,!0)},off(t,e,n,r){if(typeof e!="string"||!t)return;const[i,s,o]=NI(e,n,r),a=o!==e,l=RI(t),c=e.startsWith(".");if(typeof s<"u"){if(!l||!l[o])return;e1(t,l,o,s,i?n:null);return}c&&Object.keys(l).forEach(f=>{HO(t,l,f,e.slice(1))});const h=l[o]||{};Object.keys(h).forEach(f=>{const v=f.replace(UO,"");if(!a||e.includes(v)){const w=h[f];e1(t,l,o,w.originalHandler,w.delegationSelector)}})},trigger(t,e,n){if(typeof e!="string"||!t)return null;const r=AI(),i=MI(e),s=e!==i,o=TI.has(i);let a,l=!0,c=!0,h=!1,f=null;return s&&r&&(a=r.Event(e,n),r(t).trigger(a),l=!a.isPropagationStopped(),c=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented()),o?(f=document.createEvent("HTMLEvents"),f.initEvent(i,l,!0)):f=new CustomEvent(e,{bubbles:l,cancelable:!0}),typeof n<"u"&&Object.keys(n).forEach(v=>{Object.defineProperty(f,v,{get(){return n[v]}})}),h&&f.preventDefault(),c&&t.dispatchEvent(f),f.defaultPrevented&&typeof a<"u"&&a.preventDefault(),f}},qO="5.1.3";class M_{constructor(e){e=Il(e),e&&(this._element=e,Yi.setData(this._element,this.constructor.DATA_KEY,this))}dispose(){Yi.removeData(this._element,this.constructor.DATA_KEY),Pe.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(e=>{this[e]=null})}_queueCallback(e,n,r=!0){DO(e,n,r)}static getInstance(e){return Yi.getData(Il(e),this.DATA_KEY)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}static get VERSION(){return qO}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`te.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}var tr="top",Sr="bottom",Ir="right",nr="left",mh="auto",Jl=[tr,Sr,Ir,nr],Jo="start",kl="end",LI="clippingParents",L_="viewport",Aa="popper",DI="reference",t1=Jl.reduce(function(t,e){return t.concat([e+"-"+Jo,e+"-"+kl])},[]),D_=[].concat(Jl,[mh]).reduce(function(t,e){return t.concat([e,e+"-"+Jo,e+"-"+kl])},[]),OI="beforeRead",BI="read",jI="afterRead",UI="beforeMain",FI="main",VI="afterMain",$I="beforeWrite",zI="write",HI="afterWrite",Nf=[OI,BI,jI,UI,FI,VI,$I,zI,HI];function Di(t){return t?(t.nodeName||"").toLowerCase():null}function Ar(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ea(t){var e=Ar(t).Element;return t instanceof e||t instanceof Element}function xr(t){var e=Ar(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function O_(t){if(typeof ShadowRoot>"u")return!1;var e=Ar(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function WO(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!xr(s)||!Di(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function KO(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!xr(i)||!Di(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const B_={name:"applyStyles",enabled:!0,phase:"write",fn:WO,effect:KO,requires:["computeStyles"]};function ii(t){return t.split("-")[0]}var Bo=Math.max,Mf=Math.min,Tl=Math.round;function n1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function qI(){return!/^((?!chrome|android).)*safari/i.test(n1())}function Cl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&xr(t)&&(i=t.offsetWidth>0&&Tl(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Tl(r.height)/t.offsetHeight||1);var o=ea(t)?Ar(t):window,a=o.visualViewport,l=!qI()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,h=(r.top+(l&&a?a.offsetTop:0))/s,f=r.width/i,v=r.height/s;return{width:f,height:v,top:h,right:c+f,bottom:h+v,left:c,x:c,y:h}}function j_(t){var e=Cl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function WI(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&O_(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ui(t){return Ar(t).getComputedStyle(t)}function GO(t){return["table","td","th"].indexOf(Di(t))>=0}function fo(t){return((ea(t)?t.ownerDocument:t.document)||window.document).documentElement}function Gp(t){return Di(t)==="html"?t:t.assignedSlot||t.parentNode||(O_(t)?t.host:null)||fo(t)}function w5(t){return!xr(t)||ui(t).position==="fixed"?null:t.offsetParent}function ZO(t){var e=/firefox/i.test(n1()),n=/Trident/i.test(n1());if(n&&xr(t)){var r=ui(t);if(r.position==="fixed")return null}var i=Gp(t);for(O_(i)&&(i=i.host);xr(i)&&["html","body"].indexOf(Di(i))<0;){var s=ui(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function yh(t){for(var e=Ar(t),n=w5(t);n&&GO(n)&&ui(n).position==="static";)n=w5(n);return n&&(Di(n)==="html"||Di(n)==="body"&&ui(n).position==="static")?e:n||ZO(t)||e}function U_(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jc(t,e,n){return Bo(t,Mf(e,n))}function QO(t,e,n){var r=Jc(t,e,n);return r>n?n:r}function KI(){return{top:0,right:0,bottom:0,left:0}}function GI(t){return Object.assign({},KI(),t)}function ZI(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var YO=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,GI(typeof t!="number"?t:ZI(t,Jl))};function XO(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ii(n.placement),l=U_(a),c=[nr,Ir].indexOf(a)>=0,h=c?"height":"width";if(!(!s||!o)){var f=YO(i.padding,n),v=j_(s),w=l==="y"?tr:nr,S=l==="y"?Sr:Ir,b=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],A=o[l]-n.rects.reference[l],x=yh(s),E=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,y=b/2-A/2,P=f[w],N=E-v[h]-f[S],O=E/2-v[h]/2+y,U=Jc(P,O,N),F=l;n.modifiersData[r]=(e={},e[F]=U,e.centerOffset=U-O,e)}}function JO(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;if(i!=null&&!(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i))){if({}.NODE_ENV!=="production"&&(xr(i)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),!WI(e.elements.popper,i)){({}).NODE_ENV!=="production"&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}e.elements.arrow=i}}const QI={name:"arrow",enabled:!0,phase:"main",fn:XO,effect:JO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rl(t){return t.split("-")[1]}var eB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tB(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Tl(n*i)/i||0,y:Tl(r*i)/i||0}}function x5(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,f=t.isFixed,v=o.x,w=v===void 0?0:v,S=o.y,b=S===void 0?0:S,A=typeof h=="function"?h({x:w,y:b}):{x:w,y:b};w=A.x,b=A.y;var x=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),y=nr,P=tr,N=window;if(c){var O=yh(n),U="clientHeight",F="clientWidth";if(O===Ar(n)&&(O=fo(n),ui(O).position!=="static"&&a==="absolute"&&(U="scrollHeight",F="scrollWidth")),O=O,i===tr||(i===nr||i===Ir)&&s===kl){P=Sr;var G=f&&O===N&&N.visualViewport?N.visualViewport.height:O[U];b-=G-r.height,b*=l?1:-1}if(i===nr||(i===tr||i===Sr)&&s===kl){y=Ir;var Q=f&&O===N&&N.visualViewport?N.visualViewport.width:O[F];w-=Q-r.width,w*=l?1:-1}}var Z=Object.assign({position:a},c&&eB),ue=h===!0?tB({x:w,y:b},Ar(n)):{x:w,y:b};if(w=ue.x,b=ue.y,l){var j;return Object.assign({},Z,(j={},j[P]=E?"0":"",j[y]=x?"0":"",j.transform=(N.devicePixelRatio||1)<=1?"translate("+w+"px, "+b+"px)":"translate3d("+w+"px, "+b+"px, 0)",j))}return Object.assign({},Z,(e={},e[P]=E?b+"px":"",e[y]=x?w+"px":"",e.transform="",e))}function nB(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a;if({}.NODE_ENV!=="production"){var c=ui(e.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some(function(f){return c.indexOf(f)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var h={placement:ii(e.placement),variation:Rl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,x5(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,x5(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const F_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nB,data:{}};var Zh={passive:!0};function rB(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Ar(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",n.update,Zh)}),a&&l.addEventListener("resize",n.update,Zh),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",n.update,Zh)}),a&&l.removeEventListener("resize",n.update,Zh)}}const V_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rB,data:{}};var iB={left:"right",right:"left",bottom:"top",top:"bottom"};function Cd(t){return t.replace(/left|right|bottom|top/g,function(e){return iB[e]})}var sB={start:"end",end:"start"};function b5(t){return t.replace(/start|end/g,function(e){return sB[e]})}function $_(t){var e=Ar(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function z_(t){return Cl(fo(t)).left+$_(t).scrollLeft}function oB(t,e){var n=Ar(t),r=fo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=qI();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+z_(t),y:l}}function aB(t){var e,n=fo(t),r=$_(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Bo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Bo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+z_(t),l=-r.scrollTop;return ui(i||n).direction==="rtl"&&(a+=Bo(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function H_(t){var e=ui(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function YI(t){return["html","body","#document"].indexOf(Di(t))>=0?t.ownerDocument.body:xr(t)&&H_(t)?t:YI(Gp(t))}function eu(t,e){var n;e===void 0&&(e=[]);var r=YI(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ar(r),o=i?[s].concat(s.visualViewport||[],H_(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(eu(Gp(o)))}function r1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function lB(t,e){var n=Cl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function E5(t,e,n){return e===L_?r1(oB(t,n)):ea(e)?lB(e,n):r1(aB(fo(t)))}function cB(t){var e=eu(Gp(t)),n=["absolute","fixed"].indexOf(ui(t).position)>=0,r=n&&xr(t)?yh(t):t;return ea(r)?e.filter(function(i){return ea(i)&&WI(i,r)&&Di(i)!=="body"}):[]}function uB(t,e,n,r){var i=e==="clippingParents"?cB(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var h=E5(t,c,r);return l.top=Bo(h.top,l.top),l.right=Mf(h.right,l.right),l.bottom=Mf(h.bottom,l.bottom),l.left=Bo(h.left,l.left),l},E5(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function XI(t){var e=t.reference,n=t.element,r=t.placement,i=r?ii(r):null,s=r?Rl(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case tr:l={x:o,y:e.y-n.height};break;case Sr:l={x:o,y:e.y+e.height};break;case Ir:l={x:e.x+e.width,y:a};break;case nr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?U_(i):null;if(c!=null){var h=c==="y"?"height":"width";switch(s){case Jo:l[c]=l[c]-(e[h]/2-n[h]/2);break;case kl:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function Pl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?LI:a,c=n.rootBoundary,h=c===void 0?L_:c,f=n.elementContext,v=f===void 0?Aa:f,w=n.altBoundary,S=w===void 0?!1:w,b=n.padding,A=b===void 0?0:b,x=GI(typeof A!="number"?A:ZI(A,Jl)),E=v===Aa?DI:Aa,y=t.rects.popper,P=t.elements[S?E:v],N=uB(ea(P)?P:P.contextElement||fo(t.elements.popper),l,h,o),O=Cl(t.elements.reference),U=XI({reference:O,element:y,strategy:"absolute",placement:i}),F=r1(Object.assign({},y,U)),G=v===Aa?F:O,Q={top:N.top-G.top+x.top,bottom:G.bottom-N.bottom+x.bottom,left:N.left-G.left+x.left,right:G.right-N.right+x.right},Z=t.modifiersData.offset;if(v===Aa&&Z){var ue=Z[i];Object.keys(Q).forEach(function(j){var d=[Ir,Sr].indexOf(j)>=0?1:-1,_=[tr,Sr].indexOf(j)>=0?"y":"x";Q[j]+=ue[_]*d})}return Q}function hB(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?D_:l,h=Rl(r),f=h?a?t1:t1.filter(function(S){return Rl(S)===h}):Jl,v=f.filter(function(S){return c.indexOf(S)>=0});v.length===0&&(v=f,{}.NODE_ENV!=="production"&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var w=v.reduce(function(S,b){return S[b]=Pl(t,{placement:b,boundary:i,rootBoundary:s,padding:o})[ii(b)],S},{});return Object.keys(w).sort(function(S,b){return w[S]-w[b]})}function dB(t){if(ii(t)===mh)return[];var e=Cd(t);return[b5(t),e,b5(e)]}function fB(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,h=n.boundary,f=n.rootBoundary,v=n.altBoundary,w=n.flipVariations,S=w===void 0?!0:w,b=n.allowedAutoPlacements,A=e.options.placement,x=ii(A),E=x===A,y=l||(E||!S?[Cd(A)]:dB(A)),P=[A].concat(y).reduce(function(W,Y){return W.concat(ii(Y)===mh?hB(e,{placement:Y,boundary:h,rootBoundary:f,padding:c,flipVariations:S,allowedAutoPlacements:b}):Y)},[]),N=e.rects.reference,O=e.rects.popper,U=new Map,F=!0,G=P[0],Q=0;Q<P.length;Q++){var Z=P[Q],ue=ii(Z),j=Rl(Z)===Jo,d=[tr,Sr].indexOf(ue)>=0,_=d?"width":"height",T=Pl(e,{placement:Z,boundary:h,rootBoundary:f,altBoundary:v,padding:c}),D=d?j?Ir:nr:j?Sr:tr;N[_]>O[_]&&(D=Cd(D));var C=Cd(D),k=[];if(s&&k.push(T[ue]<=0),a&&k.push(T[D]<=0,T[C]<=0),k.every(function(W){return W})){G=Z,F=!1;break}U.set(Z,k)}if(F)for(var M=S?3:1,I=function(W){var Y=P.find(function(X){var oe=U.get(X);if(oe)return oe.slice(0,W).every(function(he){return he})});if(Y)return G=Y,"break"},p=M;p>0;p--){var L=I(p);if(L==="break")break}e.placement!==G&&(e.modifiersData[r]._skip=!0,e.placement=G,e.reset=!0)}}const JI={name:"flip",enabled:!0,phase:"main",fn:fB,requiresIfExists:["offset"],data:{_skip:!1}};function S5(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function I5(t){return[tr,Ir,Sr,nr].some(function(e){return t[e]>=0})}function pB(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Pl(e,{elementContext:"reference"}),a=Pl(e,{altBoundary:!0}),l=S5(o,r),c=S5(a,i,s),h=I5(l),f=I5(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":f})}const eA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pB};function gB(t,e,n){var r=ii(t),i=[nr,tr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[nr,Ir].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function mB(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=D_.reduce(function(h,f){return h[f]=gB(f,e.rects,s),h},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const tA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mB};function yB(t){var e=t.state,n=t.name;e.modifiersData[n]=XI({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const q_={name:"popperOffsets",enabled:!0,phase:"read",fn:yB,data:{}};function vB(t){return t==="x"?"y":"x"}function _B(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,f=n.padding,v=n.tether,w=v===void 0?!0:v,S=n.tetherOffset,b=S===void 0?0:S,A=Pl(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:h}),x=ii(e.placement),E=Rl(e.placement),y=!E,P=U_(x),N=vB(P),O=e.modifiersData.popperOffsets,U=e.rects.reference,F=e.rects.popper,G=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,Q=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),Z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ue={x:0,y:0};if(O){if(s){var j,d=P==="y"?tr:nr,_=P==="y"?Sr:Ir,T=P==="y"?"height":"width",D=O[P],C=D+A[d],k=D-A[_],M=w?-F[T]/2:0,I=E===Jo?U[T]:F[T],p=E===Jo?-F[T]:-U[T],L=e.elements.arrow,W=w&&L?j_(L):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:KI(),X=Y[d],oe=Y[_],he=Jc(0,U[T],W[T]),ge=y?U[T]/2-M-he-X-Q.mainAxis:I-he-X-Q.mainAxis,qe=y?-U[T]/2+M+he+oe+Q.mainAxis:p+he+oe+Q.mainAxis,ke=e.elements.arrow&&yh(e.elements.arrow),Me=ke?P==="y"?ke.clientTop||0:ke.clientLeft||0:0,$e=(j=Z==null?void 0:Z[P])!=null?j:0,De=D+ge-$e-Me,Ge=D+qe-$e,fr=Jc(w?Mf(C,De):C,D,w?Bo(k,Ge):k);O[P]=fr,ue[P]=fr-D}if(a){var Je,ot=P==="x"?tr:nr,ds=P==="x"?Sr:Ir,We=O[N],Ze=N==="y"?"height":"width",sn=We+A[ot],et=We-A[ds],tt=[tr,nr].indexOf(x)!==-1,yn=(Je=Z==null?void 0:Z[N])!=null?Je:0,st=tt?sn:We-U[Ze]-F[Ze]-yn+Q.altAxis,R=tt?We+U[Ze]+F[Ze]-yn-Q.altAxis:et,g=w&&tt?QO(st,We,R):Jc(w?st:sn,We,w?R:et);O[N]=g,ue[N]=g-We}e.modifiersData[r]=ue}}const nA={name:"preventOverflow",enabled:!0,phase:"main",fn:_B,requiresIfExists:["offset"]};function wB(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function xB(t){return t===Ar(t)||!xr(t)?$_(t):wB(t)}function bB(t){var e=t.getBoundingClientRect(),n=Tl(e.width)/t.offsetWidth||1,r=Tl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function EB(t,e,n){n===void 0&&(n=!1);var r=xr(e),i=xr(e)&&bB(e),s=fo(e),o=Cl(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Di(e)!=="body"||H_(s))&&(a=xB(e)),xr(e)?(l=Cl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=z_(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function SB(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function IB(t){var e=SB(t);return Nf.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function AB(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function gs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(i,s){return i.replace(/%s/,s)},t)}var po='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',kB='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',A5=["name","enabled","phase","fn","effect","requires","options"];function TB(t){t.forEach(function(e){[].concat(Object.keys(e),A5).filter(function(n,r,i){return i.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof e.name!="string"&&console.error(gs(po,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(gs(po,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":Nf.indexOf(e.phase)<0&&console.error(gs(po,e.name,'"phase"',"either "+Nf.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(gs(po,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(gs(po,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(gs(po,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(gs(po,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+A5.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach(function(r){t.find(function(i){return i.name===r})==null&&console.error(gs(kB,String(e.name),r,r))})})})}function CB(t,e){var n=new Set;return t.filter(function(r){var i=e(r);if(!n.has(i))return n.add(i),!0})}function RB(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var k5="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",PB="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",T5={placement:"bottom",modifiers:[],strategy:"absolute"};function C5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Zp(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?T5:i;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},T5,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},h=[],f=!1,v={state:c,setOptions:function(b){var A=typeof b=="function"?b(c.options):b;S(),c.options=Object.assign({},s,c.options,A),c.scrollParents={reference:ea(o)?eu(o):o.contextElement?eu(o.contextElement):[],popper:eu(a)};var x=IB(RB([].concat(r,c.options.modifiers)));if(c.orderedModifiers=x.filter(function(G){return G.enabled}),{}.NODE_ENV!=="production"){var E=CB([].concat(x,c.options.modifiers),function(G){var Q=G.name;return Q});if(TB(E),ii(c.options.placement)===mh){var y=c.orderedModifiers.find(function(G){var Q=G.name;return Q==="flip"});y||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var P=ui(a),N=P.marginTop,O=P.marginRight,U=P.marginBottom,F=P.marginLeft;[N,O,U,F].some(function(G){return parseFloat(G)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return w(),v.update()},forceUpdate:function(){if(!f){var b=c.elements,A=b.reference,x=b.popper;if(!C5(A,x)){({}).NODE_ENV!=="production"&&console.error(k5);return}c.rects={reference:EB(A,yh(x),c.options.strategy==="fixed"),popper:j_(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(G){return c.modifiersData[G.name]=Object.assign({},G.data)});for(var E=0,y=0;y<c.orderedModifiers.length;y++){if({}.NODE_ENV!=="production"&&(E+=1,E>100)){console.error(PB);break}if(c.reset===!0){c.reset=!1,y=-1;continue}var P=c.orderedModifiers[y],N=P.fn,O=P.options,U=O===void 0?{}:O,F=P.name;typeof N=="function"&&(c=N({state:c,options:U,name:F,instance:v})||c)}}},update:AB(function(){return new Promise(function(b){v.forceUpdate(),b(c)})}),destroy:function(){S(),f=!0}};if(!C5(o,a))return{}.NODE_ENV!=="production"&&console.error(k5),v;v.setOptions(l).then(function(b){!f&&l.onFirstUpdate&&l.onFirstUpdate(b)});function w(){c.orderedModifiers.forEach(function(b){var A=b.name,x=b.options,E=x===void 0?{}:x,y=b.effect;if(typeof y=="function"){var P=y({state:c,name:A,instance:v,options:E}),N=function(){};h.push(P||N)}})}function S(){h.forEach(function(b){return b()}),h=[]}return v}}var NB=Zp(),MB=[V_,q_,F_,B_],LB=Zp({defaultModifiers:MB}),DB=[V_,q_,F_,B_,tA,JI,nA,QI,eA],W_=Zp({defaultModifiers:DB});const rA=Object.freeze(Object.defineProperty({__proto__:null,afterMain:VI,afterRead:jI,afterWrite:HI,applyStyles:B_,arrow:QI,auto:mh,basePlacements:Jl,beforeMain:UI,beforeRead:OI,beforeWrite:$I,bottom:Sr,clippingParents:LI,computeStyles:F_,createPopper:W_,createPopperBase:NB,createPopperLite:LB,detectOverflow:Pl,end:kl,eventListeners:V_,flip:JI,hide:eA,left:nr,main:FI,modifierPhases:Nf,offset:tA,placements:D_,popper:Aa,popperGenerator:Zp,popperOffsets:q_,preventOverflow:nA,read:BI,reference:DI,right:Ir,start:Jo,top:tr,variationPlacements:t1,viewport:L_,write:zI},Symbol.toStringTag,{value:"Module"}));function Cg(t){return t==="true"?!0:t==="false"?!1:t===Number(t).toString()?Number(t):t===""||t==="null"?null:t}function Rg(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const He={setDataAttribute(t,e,n){t.setAttribute(`data-te-${Rg(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-te-${Rg(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter(n=>n.startsWith("te")).forEach(n=>{if(n.startsWith("teClass"))return;let r=n.replace(/^te/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Cg(t.dataset[n])}),e},getDataClassAttributes(t){if(!t)return{};const e={...t.dataset};return Object.keys(e).filter(n=>n.startsWith("teClass")).forEach(n=>{let r=n.replace(/^teClass/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=Cg(e[n])}),e},getDataAttribute(t,e){return Cg(t.getAttribute(`data-te-${Rg(e)}`))},offset(t){const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position(t){return{top:t.offsetTop,left:t.offsetLeft}},style(t,e){Object.assign(t.style,e)},toggleClass(t,e){t&&Pg(e).forEach(n=>{t.classList.contains(n)?t.classList.remove(n):t.classList.add(n)})},addClass(t,e){Pg(e).forEach(n=>!t.classList.contains(n)&&t.classList.add(n))},addStyle(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]})},removeClass(t,e){Pg(e).forEach(n=>t.classList.contains(n)&&t.classList.remove(n))},hasClass(t,e){return t.classList.contains(e)},maxOffset(t){const e=t.getBoundingClientRect();return{top:e.top+Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY),left:e.left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft,window.scrollX)}}};function Pg(t){return typeof t=="string"?t.split(" "):Array.isArray(t)?t:!1}const OB=3,Mt={closest(t,e){return t.closest(e)},matches(t,e){return t.matches(e)},find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(n=>n.matches(e))},parents(t,e){const n=[];let r=t.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&r.nodeType!==OB;)this.matches(r,e)&&n.push(r),r=r.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(", ");return this.find(e,t).filter(n=>!rl(n)&&Kp(n))}},Ng="dropdown",BB="te.dropdown",ga=`.${BB}`,K_=".data-api",Rd="Escape",R5="Space",P5="Tab",i1="ArrowUp",Pd="ArrowDown",jB=2,UB=new RegExp(`${i1}|${Pd}|${Rd}`),FB=`hide${ga}`,VB=`hidden${ga}`,$B=`show${ga}`,zB=`shown${ga}`,HB=`click${ga}${K_}`,N5=`keydown${ga}${K_}`,qB=`keyup${ga}${K_}`,ms="show",WB="dropup",KB="dropend",GB="dropstart",ZB="[data-te-navbar-ref]",Qh="[data-te-dropdown-toggle-ref]",Mg="[data-te-dropdown-menu-ref]",QB="[data-te-navbar-nav-ref]",YB="[data-te-dropdown-menu-ref] [data-te-dropdown-item-ref]:not(.disabled):not(:disabled)",XB=Li()?"top-end":"top-start",JB=Li()?"top-start":"top-end",ej=Li()?"bottom-end":"bottom-start",tj=Li()?"bottom-start":"bottom-end",nj=Li()?"left-start":"right-start",rj=Li()?"right-start":"left-start",ij=[{opacity:"0"},{opacity:"1"}],sj=[{opacity:"1"},{opacity:"0"}],Yh={duration:550,iterations:1,easing:"ease",fill:"both"},oj={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0,dropdownAnimation:"on"},aj={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)",dropdownAnimation:"string"};class Zr extends M_{constructor(e,n){super(e),this._popper=null,this._config=this._getConfig(n),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._fadeOutAnimate=null;const r=window.matchMedia("(prefers-reduced-motion: reduce)").matches;this._animationCanPlay=this._config.dropdownAnimation==="on"&&!r,this._didInit=!1,this._init()}static get Default(){return oj}static get DefaultType(){return aj}static get NAME(){return Ng}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rl(this._element)||this._isShown(this._menu))return;const e={relatedTarget:this._element};if(Pe.trigger(this._element,$B,e).defaultPrevented)return;const n=Zr.getParentFromElement(this._element);this._inNavbar?He.setDataAttribute(this._menu,"popper","none"):this._createPopper(n),"ontouchstart"in document.documentElement&&!n.closest(QB)&&[].concat(...document.body.children).forEach(r=>Pe.on(r,"mouseover",Pf)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.setAttribute(`data-te-dropdown-${ms}`,""),this._animationCanPlay&&this._menu.animate(ij,Yh),this._element.setAttribute(`data-te-dropdown-${ms}`,""),setTimeout(()=>{Pe.trigger(this._element,zB,e)},this._animationCanPlay?Yh.duration:0)}hide(){if(rl(this._element)||!this._isShown(this._menu))return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_init(){this._didInit||(Pe.on(document,N5,Qh,Zr.dataApiKeydownHandler),Pe.on(document,N5,Mg,Zr.dataApiKeydownHandler),Pe.on(document,HB,Zr.clearMenus),Pe.on(document,qB,Zr.clearMenus),this._didInit=!0)}_completeHide(e){this._fadeOutAnimate&&this._fadeOutAnimate.playState==="running"||Pe.trigger(this._element,FB,e).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(n=>Pe.off(n,"mouseover",Pf)),this._animationCanPlay&&(this._fadeOutAnimate=this._menu.animate(sj,Yh)),setTimeout(()=>{this._popper&&this._popper.destroy(),this._menu.removeAttribute(`data-te-dropdown-${ms}`),this._element.removeAttribute(`data-te-dropdown-${ms}`),this._element.setAttribute("aria-expanded","false"),He.removeDataAttribute(this._menu,"popper"),Pe.trigger(this._element,VB,e)},this._animationCanPlay?Yh.duration:0))}_getConfig(e){if(e={...this.constructor.Default,...He.getDataAttributes(this._element),...e},Al(Ng,e,this.constructor.DefaultType),typeof e.reference=="object"&&!Fu(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Ng.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(e){if(typeof rA>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;this._config.reference==="parent"?n=e:Fu(this._config.reference)?n=Il(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const r=this._getPopperConfig(),i=r.modifiers.find(s=>s.name==="applyStyles"&&s.enabled===!1);this._popper=W_(n,this._menu,r),i&&He.setDataAttribute(this._menu,"popper","static")}_isShown(e=this._element){return e.dataset[`teDropdown${ms.charAt(0).toUpperCase()+ms.slice(1)}`]===""}_getMenuElement(){return Mt.next(this._element,Mg)[0]}_getPlacement(){const e=this._element.parentNode;if(e.dataset.teDropdownPosition===KB)return nj;if(e.dataset.teDropdownPosition===GB)return rj;const n=e.dataset.teDropdownAlignment==="end";return e.dataset.teDropdownPosition===WB?n?JB:XB:n?tj:ej}_detectNavbar(){return this._element.closest(ZB)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...typeof this._config.popperConfig=="function"?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:n}){const r=Mt.find(YB,this._menu).filter(Kp);r.length&&OO(r,n,e===Pd,!r.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const n=Zr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}static clearMenus(e){if(e&&(e.button===jB||e.type==="keyup"&&e.key!==P5))return;const n=Mt.find(Qh);for(let r=0,i=n.length;r<i;r++){const s=Zr.getInstance(n[r]);if(!s||s._config.autoClose===!1||!s._isShown())continue;const o={relatedTarget:s._element};if(e){const a=e.composedPath(),l=a.includes(s._menu);if(a.includes(s._element)||s._config.autoClose==="inside"&&!l||s._config.autoClose==="outside"&&l||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===P5||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;e.type==="click"&&(o.clickEvent=e)}s._completeHide(o)}}static getParentFromElement(e){return Uu(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===R5||e.key!==Rd&&(e.key!==Pd&&e.key!==i1||e.target.closest(Mg)):!UB.test(e.key))return;const n=this.dataset[`teDropdown${ms.charAt(0).toUpperCase()+ms.slice(1)}`]==="";if(!n&&e.key===Rd||(e.preventDefault(),e.stopPropagation(),rl(this)))return;const r=this.matches(Qh)?this:Mt.prev(this,Qh)[0],i=Zr.getOrCreateInstance(r);if(e.key===Rd){i.hide();return}if(e.key===i1||e.key===Pd){n||i.show(),i._selectMenuItem(e);return}(!n||e.key===R5)&&Zr.clearMenus()}}const Lg="collapse",iA="te.collapse",Qp=`.${iA}`,M5={toggle:!0,parent:null},lj={toggle:"boolean",parent:"(null|element)"},cj=`show${Qp}`,uj=`shown${Qp}`,hj=`hide${Qp}`,dj=`hidden${Qp}`,Dg="data-te-collapse-show",L5="data-te-collapse-collapsed",Xh="data-te-collapse-collapsing",fj="data-te-collapse-horizontal",za="data-te-collapse-item",D5=`:scope [${za}] [${za}]`,pj="width",gj="height",mj="[data-te-collapse-item][data-te-collapse-show], [data-te-collapse-item][data-te-collapse-collapsing]",O5="[data-te-collapse-init]",yj={visible:"!visible",hidden:"hidden",baseTransition:"overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none",collapsing:"h-0 transition-[height] overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none",collapsingHorizontal:"w-0 h-auto transition-[width] overflow-hidden duration-[350ms] ease-[cubic-bezier(0.25,0.1,0.25,1.0)] motion-reduce:transition-none"},vj={visible:"string",hidden:"string",baseTransition:"string",collapsing:"string",collapsingHorizontal:"string"};class tu extends M_{constructor(e,n,r){super(e),this._isTransitioning=!1,this._config=this._getConfig(n),this._classes=this._getClasses(r),this._triggerArray=[];const i=Mt.find(O5);for(let s=0,o=i.length;s<o;s++){const a=i[s],l=SI(a),c=Mt.find(l).filter(h=>h===this._element);l!==null&&c.length&&(this._selector=l,this._triggerArray.push(a))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return M5}static get NAME(){return Lg}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[],n;if(this._config.parent){const l=Mt.find(D5,this._config.parent);e=Mt.find(mj,this._config.parent).filter(c=>!l.includes(c))}const r=Mt.findOne(this._selector);if(e.length){const l=e.find(c=>r!==c);if(n=l?tu.getInstance(l):null,n&&n._isTransitioning)return}if(Pe.trigger(this._element,cj).defaultPrevented)return;e.forEach(l=>{r!==l&&tu.getOrCreateInstance(l,{toggle:!1}).hide(),n||Yi.setData(l,iA,null)});const i=this._getDimension(),s=i==="height"?this._classes.collapsing:this._classes.collapsingHorizontal;He.removeClass(this._element,this._classes.visible),He.removeClass(this._element,this._classes.hidden),He.addClass(this._element,s),this._element.removeAttribute(za),this._element.setAttribute(Xh,""),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,He.removeClass(this._element,this._classes.hidden),He.removeClass(this._element,s),He.addClass(this._element,this._classes.visible),this._element.removeAttribute(Xh),this._element.setAttribute(za,""),this._element.setAttribute(Dg,""),this._element.style[i]="",Pe.trigger(this._element,uj)},a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||Pe.trigger(this._element,hj).defaultPrevented)return;const e=this._getDimension(),n=e==="height"?this._classes.collapsing:this._classes.collapsingHorizontal;this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,MO(this._element),He.addClass(this._element,n),He.removeClass(this._element,this._classes.visible),He.removeClass(this._element,this._classes.hidden),this._element.setAttribute(Xh,""),this._element.removeAttribute(za),this._element.removeAttribute(Dg);const r=this._triggerArray.length;for(let s=0;s<r;s++){const o=this._triggerArray[s],a=Uu(o);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,He.removeClass(this._element,n),He.addClass(this._element,this._classes.visible),He.addClass(this._element,this._classes.hidden),this._element.removeAttribute(Xh),this._element.setAttribute(za,""),Pe.trigger(this._element,dj)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.hasAttribute(Dg)}_getConfig(e){return e={...M5,...He.getDataAttributes(this._element),...e},e.toggle=!!e.toggle,e.parent=Il(e.parent),Al(Lg,e,lj),e}_getClasses(e){const n=He.getDataClassAttributes(this._element);return e={...yj,...n,...e},Al(Lg,e,vj),e}_getDimension(){return this._element.hasAttribute(fj)?pj:gj}_initializeChildren(){if(!this._config.parent)return;const e=Mt.find(D5,this._config.parent);Mt.find(O5,this._config.parent).filter(n=>!e.includes(n)).forEach(n=>{const r=Uu(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))})}_addAriaAndCollapsedClass(e,n){e.length&&e.forEach(r=>{n?r.removeAttribute(L5):r.setAttribute(`${L5}`,""),r.setAttribute("aria-expanded",n)})}static jQueryInterface(e){return this.each(function(){const n={};typeof e=="string"&&/show|hide/.test(e)&&(n.toggle=!1);const r=tu.getOrCreateInstance(this,n);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}const _j=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wj=/^aria-[\w-]*$/i,xj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,bj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ej=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return _j.has(n)?!!(xj.test(t.nodeValue)||bj.test(t.nodeValue)):!0;const r=e.filter(i=>i instanceof RegExp);for(let i=0,s=r.length;i<s;i++)if(r[i].test(n))return!0;return!1},Sj={"*":["class","dir","id","lang","role",wj],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function B5(t,e,n){if(!t.length)return t;if(n&&typeof n=="function")return n(t);const r=new window.DOMParser().parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(let s=0,o=i.length;s<o;s++){const a=i[s],l=a.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){a.remove();continue}const c=[].concat(...a.attributes),h=[].concat(e["*"]||[],e[l]||[]);c.forEach(f=>{Ej(f,h)||a.removeAttribute(f.nodeName)})}return r.body.innerHTML}const j5="tooltip",Ij="te.tooltip",fi=`.${Ij}`,Aj="te-tooltip",kj=new Set(["sanitize","allowList","sanitizeFn"]),Tj={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Cj={AUTO:"auto",TOP:"top",RIGHT:Li()?"left":"right",BOTTOM:"bottom",LEFT:Li()?"right":"left"},Rj={animation:!0,template:'<div class="opacity-0 transition-opacity duration-300 ease-in-out absolute z-[1080] block m-0 text-sm not-italic font-normal text-left no-underline underline-offset-auto normal-case leading-6 tracking-normal break-normal whitespace-normal" role="tooltip"><div data-te-tooltip-inner-ref class="tooltip-inner max-w-[200px] text-sm py-1.5 px-4 text-white text-center bg-[#6d6d6d] rounded"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:Sj,popperConfig:{hide:!0}},Pj={HIDE:`hide${fi}`,HIDDEN:`hidden${fi}`,SHOW:`show${fi}`,SHOWN:`shown${fi}`,INSERTED:`inserted${fi}`,CLICK:`click${fi}`,FOCUSIN:`focusin${fi}`,FOCUSOUT:`focusout${fi}`,MOUSEENTER:`mouseenter${fi}`,MOUSELEAVE:`mouseleave${fi}`},Nj="fade",Mj="modal",Og="show",yc="show",Bg="out",U5=".tooltip-inner",F5=`.${Mj}`,V5="hide.te.modal",vc="hover",jg="focus",Lj="click",Dj="manual";class ec extends M_{constructor(e,n){if(typeof rA>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(n),this.tip=null,this._setListeners()}static get Default(){return Rj}static get NAME(){return j5}static get Event(){return Pj}static get DefaultType(){return Tj}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled)if(e){const n=this._initializeOnDelegatedTarget(e);n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(this.getTipElement().classList.contains(Og)){this._leave(null,this);return}this._enter(null,this)}}dispose(){clearTimeout(this._timeout),Pe.off(this._element.closest(F5),V5,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this.isWithContent()&&this._isEnabled))return;const e=Pe.trigger(this._element,this.constructor.Event.SHOW),n=II(this._element),r=n===null?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(e.defaultPrevented||!r)return;this.constructor.NAME==="tooltip"&&this.tip&&this.getTitle()!==this.tip.querySelector(U5).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),s=bI(this.constructor.NAME);i.setAttribute("id",s),this._element.setAttribute("aria-describedby",s),this._config.animation&&setTimeout(()=>{this.tip.classList.add("opacity-100"),this.tip.classList.remove("opacity-0")},100);const o=typeof this._config.placement=="function"?this._config.placement.call(this,i,this._element):this._config.placement,a=this._getAttachment(o);this._addAttachmentClass(a);const{container:l}=this._config;if(Yi.setData(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(i),Pe.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=W_(this._element,i,this._getPopperConfig(a)),i.getAttribute("id").includes("tooltip"))switch(o){case"bottom":i.classList.add("py-[0.4rem]");break;case"left":i.classList.add("px-[0.4rem]");break;case"right":i.classList.add("px-[0.4rem]");break;default:i.classList.add("py-[0.4rem]");break}const c=this._resolvePossibleFunction(this._config.customClass);c&&i.classList.add(...c.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(v=>{Pe.on(v,"mouseover",Pf)});const h=()=>{const v=this._hoverState;this._hoverState=null,Pe.trigger(this._element,this.constructor.Event.SHOWN),v===Bg&&this._leave(null,this)},f=this.tip.classList.contains("transition-opacity");this._queueCallback(h,this.tip,f)}hide(){if(!this._popper)return;const e=this.getTipElement(),n=()=>{this._isWithActiveTrigger()||(this._hoverState!==yc&&e.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),Pe.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())};if(Pe.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;e.classList.add("opacity-0"),e.classList.remove("opacity-100"),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(i=>Pe.off(i,"mouseover",Pf)),this._activeTrigger[Lj]=!1,this._activeTrigger[jg]=!1,this._activeTrigger[vc]=!1;const r=this.tip.classList.contains("opacity-0");this._queueCallback(n,this.tip,r),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return!!this.getTitle()}getTipElement(){if(this.tip)return this.tip;const e=document.createElement("div");e.innerHTML=this._config.template;const n=e.children[0];return this.setContent(n),n.classList.remove(Nj,Og),this.tip=n,this.tip}setContent(e){this._sanitizeAndSetContent(e,this.getTitle(),U5)}_sanitizeAndSetContent(e,n,r){const i=Mt.findOne(r,e);if(!n&&i){i.remove();return}this.setElementContent(i,n)}setElementContent(e,n){if(e!==null){if(Fu(n)){n=Il(n),this._config.html?n.parentNode!==e&&(e.innerHTML="",e.append(n)):e.textContent=n.textContent;return}this._config.html?(this._config.sanitize&&(n=B5(n,this._config.allowList,this._config.sanitizeFn)),e.innerHTML=n):e.textContent=n}}getTitle(){const e=this._element.getAttribute("data-te-original-title")||this._config.title;return this._resolvePossibleFunction(e)}updateAttachment(e){return e==="right"?"end":e==="left"?"start":e}_initializeOnDelegatedTarget(e,n){return n||this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(n=>Number.parseInt(n,10)):typeof e=="function"?n=>e(n,this._element):e}_resolvePossibleFunction(e){return typeof e=="function"?e.call(this._element):e}_getPopperConfig(e){const n={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:r=>this._handlePopperPlacementChange(r)}],onFirstUpdate:r=>{r.options.placement!==r.placement&&this._handlePopperPlacementChange(r)}};return{...n,...typeof this._config.popperConfig=="function"?this._config.popperConfig(n):this._config.popperConfig}}_addAttachmentClass(e){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(e)}`)}_getAttachment(e){return Cj[e.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(e=>{if(e==="click")Pe.on(this._element,this.constructor.Event.CLICK,this._config.selector,n=>this.toggle(n));else if(e!==Dj){const n=e===vc?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,r=e===vc?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;Pe.on(this._element,n,this._config.selector,i=>this._enter(i)),Pe.on(this._element,r,this._config.selector,i=>this._leave(i))}}),this._hideModalHandler=()=>{this._element&&this.hide()},Pe.on(this._element.closest(F5),V5,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._element.getAttribute("title"),n=typeof this._element.getAttribute("data-te-original-title");(e||n!=="string")&&(this._element.setAttribute("data-te-original-title",e||""),e&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",e),this._element.setAttribute("title",""))}_enter(e,n){if(n=this._initializeOnDelegatedTarget(e,n),e&&(n._activeTrigger[e.type==="focusin"?jg:vc]=!0),n.getTipElement().classList.contains(Og)||n._hoverState===yc){n._hoverState=yc;return}if(clearTimeout(n._timeout),n._hoverState=yc,!n._config.delay||!n._config.delay.show){n.show();return}n._timeout=setTimeout(()=>{n._hoverState===yc&&n.show()},n._config.delay.show)}_leave(e,n){if(n=this._initializeOnDelegatedTarget(e,n),e&&(n._activeTrigger[e.type==="focusout"?jg:vc]=n._element.contains(e.relatedTarget)),!n._isWithActiveTrigger()){if(clearTimeout(n._timeout),n._hoverState=Bg,!n._config.delay||!n._config.delay.hide){n.hide();return}n._timeout=setTimeout(()=>{n._hoverState===Bg&&n.hide()},n._config.delay.hide)}}_isWithActiveTrigger(){for(const e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1}_getConfig(e){const n=He.getDataAttributes(this._element);return Object.keys(n).forEach(r=>{kj.has(r)&&delete n[r]}),e={...this.constructor.Default,...n,...typeof e=="object"&&e?e:{}},e.container=e.container===!1?document.body:Il(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),Al(j5,e,this.constructor.DefaultType),e.sanitize&&(e.template=B5(e.template,e.allowList,e.sanitizeFn)),e}_getDelegateConfig(){const e={};for(const n in this._config)this.constructor.Default[n]!==this._config[n]&&(e[n]=this._config[n]);return e}_cleanTipClass(){const e=this.getTipElement(),n=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),r=e.getAttribute("class").match(n);r!==null&&r.length>0&&r.map(i=>i.trim()).forEach(i=>e.classList.remove(i))}_getBasicClassPrefix(){return Aj}_handlePopperPlacementChange(e){const{state:n}=e;n&&(this.tip=n.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(n.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each(function(){const n=ec.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}({...ec.Default});({...ec.DefaultType});(()=>{var t={454:(r,i,s)=>{s.d(i,{Z:()=>l});var o=s(645),a=s.n(o)()(function(c){return c[1]});a.push([r.id,"INPUT:-webkit-autofill,SELECT:-webkit-autofill,TEXTAREA:-webkit-autofill{animation-name:onautofillstart}INPUT:not(:-webkit-autofill),SELECT:not(:-webkit-autofill),TEXTAREA:not(:-webkit-autofill){animation-name:onautofillcancel}@keyframes onautofillstart{}@keyframes onautofillcancel{}",""]);const l=a},645:r=>{r.exports=function(i){var s=[];return s.toString=function(){return this.map(function(o){var a=i(o);return o[2]?"@media ".concat(o[2]," {").concat(a,"}"):a}).join("")},s.i=function(o,a,l){typeof o=="string"&&(o=[[null,o,""]]);var c={};if(l)for(var h=0;h<this.length;h++){var f=this[h][0];f!=null&&(c[f]=!0)}for(var v=0;v<o.length;v++){var w=[].concat(o[v]);l&&c[w[0]]||(a&&(w[2]?w[2]="".concat(a," and ").concat(w[2]):w[2]=a),s.push(w))}},s}},810:()=>{(function(){if(typeof window<"u")try{var r=new window.CustomEvent("test",{cancelable:!0});if(r.preventDefault(),r.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch{var i=function(s,o){var a,l;return(o=o||{}).bubbles=!!o.bubbles,o.cancelable=!!o.cancelable,(a=document.createEvent("CustomEvent")).initCustomEvent(s,o.bubbles,o.cancelable,o.detail),l=a.preventDefault,a.preventDefault=function(){l.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch{this.defaultPrevented=!0}},a};i.prototype=window.Event.prototype,window.CustomEvent=i}})()},379:(r,i,s)=>{var o,a=function(){var y={};return function(P){if(y[P]===void 0){var N=document.querySelector(P);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}y[P]=N}return y[P]}}(),l=[];function c(y){for(var P=-1,N=0;N<l.length;N++)if(l[N].identifier===y){P=N;break}return P}function h(y,P){for(var N={},O=[],U=0;U<y.length;U++){var F=y[U],G=P.base?F[0]+P.base:F[0],Q=N[G]||0,Z="".concat(G," ").concat(Q);N[G]=Q+1;var ue=c(Z),j={css:F[1],media:F[2],sourceMap:F[3]};ue!==-1?(l[ue].references++,l[ue].updater(j)):l.push({identifier:Z,updater:E(j,P),references:1}),O.push(Z)}return O}function f(y){var P=document.createElement("style"),N=y.attributes||{};if(N.nonce===void 0){var O=s.nc;O&&(N.nonce=O)}if(Object.keys(N).forEach(function(F){P.setAttribute(F,N[F])}),typeof y.insert=="function")y.insert(P);else{var U=a(y.insert||"head");if(!U)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");U.appendChild(P)}return P}var v,w=(v=[],function(y,P){return v[y]=P,v.filter(Boolean).join(`
`)});function S(y,P,N,O){var U=N?"":O.media?"@media ".concat(O.media," {").concat(O.css,"}"):O.css;if(y.styleSheet)y.styleSheet.cssText=w(P,U);else{var F=document.createTextNode(U),G=y.childNodes;G[P]&&y.removeChild(G[P]),G.length?y.insertBefore(F,G[P]):y.appendChild(F)}}function b(y,P,N){var O=N.css,U=N.media,F=N.sourceMap;if(U?y.setAttribute("media",U):y.removeAttribute("media"),F&&typeof btoa<"u"&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(F))))," */")),y.styleSheet)y.styleSheet.cssText=O;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(O))}}var A=null,x=0;function E(y,P){var N,O,U;if(P.singleton){var F=x++;N=A||(A=f(P)),O=S.bind(null,N,F,!1),U=S.bind(null,N,F,!0)}else N=f(P),O=b.bind(null,N,P),U=function(){(function(G){if(G.parentNode===null)return!1;G.parentNode.removeChild(G)})(N)};return O(y),function(G){if(G){if(G.css===y.css&&G.media===y.media&&G.sourceMap===y.sourceMap)return;O(y=G)}else U()}}r.exports=function(y,P){(P=P||{}).singleton||typeof P.singleton=="boolean"||(P.singleton=(o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o));var N=h(y=y||[],P);return function(O){if(O=O||[],Object.prototype.toString.call(O)==="[object Array]"){for(var U=0;U<N.length;U++){var F=c(N[U]);l[F].references--}for(var G=h(O,P),Q=0;Q<N.length;Q++){var Z=c(N[Q]);l[Z].references===0&&(l[Z].updater(),l.splice(Z,1))}N=G}}}}},e={};function n(r){var i=e[r];if(i!==void 0)return i.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return n.d(i,{a:i}),i},n.d=(r,i)=>{for(var s in i)n.o(i,s)&&!n.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:i[s]})},n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),(()=>{var r=n(379),i=n.n(r),s=n(454);function o(l){if(!l.hasAttribute("autocompleted")){l.setAttribute("autocompleted","");var c=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null});l.dispatchEvent(c)||(l.value="")}}function a(l){l.hasAttribute("autocompleted")&&(l.removeAttribute("autocompleted"),l.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}i()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,n(810),document.addEventListener("animationstart",function(l){l.animationName==="onautofillstart"?o(l.target):a(l.target)},!0),document.addEventListener("input",function(l){l.inputType!=="insertReplacementText"&&"data"in l?a(l.target):o(l.target)},!0)})()})();const Ug="ripple",Jh="te.ripple",Oj="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",Bj=["[data-te-ripple-init]"],Fg=[0,0,0],jj=[{name:"primary",gradientColor:"#3B71CA"},{name:"secondary",gradientColor:"#9FA6B2"},{name:"success",gradientColor:"#14A44D"},{name:"danger",gradientColor:"#DC4C64"},{name:"warning",gradientColor:"#E4A11B"},{name:"info",gradientColor:"#54B4D3"},{name:"light",gradientColor:"#fbfbfb"},{name:"dark",gradientColor:"#262626"}],$5=.5,Uj={rippleCentered:!1,rippleColor:"",rippleColorDark:"",rippleDuration:"500ms",rippleRadius:0,rippleUnbound:!1},Fj={rippleCentered:"boolean",rippleColor:"string",rippleColorDark:"string",rippleDuration:"string",rippleRadius:"number",rippleUnbound:"boolean"},Vj={ripple:"relative overflow-hidden inline-block align-bottom",rippleWave:"rounded-[50%] opacity-50 pointer-events-none absolute touch-none scale-0 transition-[transform,_opacity] ease-[cubic-bezier(0,0,0.15,1),_cubic-bezier(0,0,0.15,1)] z-[999]",unbound:"overflow-visible"},$j={ripple:"string",rippleWave:"string",unbound:"string"};class Yp{constructor(e,n,r){this._element=e,this._options=this._getConfig(n),this._classes=this._getClasses(r),this._element&&(Yi.setData(e,Jh,this),He.addClass(this._element,this._classes.ripple)),this._clickHandler=this._createRipple.bind(this),this._rippleTimer=null,this._isMinWidthSet=!1,this._initialClasses=null,this.init()}static get NAME(){return Ug}init(){this._addClickEvent(this._element)}dispose(){Yi.removeData(this._element,Jh),Pe.off(this._element,"click",this._clickHandler),this._element=null,this._options=null}_autoInit(e){Bj.forEach(n=>{Mt.closest(e.target,n)&&(this._element=Mt.closest(e.target,n))}),this._element.style.minWidth||(He.style(this._element,{"min-width":getComputedStyle(this._element).width}),this._isMinWidthSet=!0),this._options=this._getConfig(),this._classes=this._getClasses(),this._initialClasses=[...this._element.classList],He.addClass(this._element,this._classes.ripple),this._createRipple(e)}_addClickEvent(e){Pe.on(e,"mousedown",this._clickHandler)}_createRipple(e){this._element.className.indexOf(this._classes.ripple)<0&&He.addClass(this._element,this._classes.ripple);const{layerX:n,layerY:r}=e,i=e.offsetX||n,s=e.offsetY||r,o=this._element.offsetHeight,a=this._element.offsetWidth,l=this._durationToMsNumber(this._options.rippleDuration),c={offsetX:this._options.rippleCentered?o/2:i,offsetY:this._options.rippleCentered?a/2:s,height:o,width:a},h=this._getDiameter(c),f=this._options.rippleRadius||h/2,v={delay:l*$5,duration:l-l*$5},w={left:this._options.rippleCentered?`${a/2-f}px`:`${i-f}px`,top:this._options.rippleCentered?`${o/2-f}px`:`${s-f}px`,height:`${this._options.rippleRadius*2||h}px`,width:`${this._options.rippleRadius*2||h}px`,transitionDelay:`0s, ${v.delay}ms`,transitionDuration:`${l}ms, ${v.duration}ms`},S=kI("div");this._createHTMLRipple({wrapper:this._element,ripple:S,styles:w}),this._removeHTMLRipple({ripple:S,duration:l})}_createHTMLRipple({wrapper:e,ripple:n,styles:r}){Object.keys(r).forEach(i=>n.style[i]=r[i]),He.addClass(n,this._classes.rippleWave),n.setAttribute("data-te-ripple-ref",""),this._addColor(n,e),this._toggleUnbound(e),this._appendRipple(n,e)}_removeHTMLRipple({ripple:e,duration:n}){this._rippleTimer&&(clearTimeout(this._rippleTimer),this._rippleTimer=null),e&&setTimeout(()=>{e.classList.add("!opacity-0")},10),this._rippleTimer=setTimeout(()=>{if(e&&(e.remove(),this._element)){Mt.find("[data-te-ripple-ref]",this._element).forEach(i=>{i.remove()}),this._isMinWidthSet&&(He.style(this._element,{"min-width":""}),this._isMinWidthSet=!1);const r=this._initialClasses?this._addedNewRippleClasses(this._classes.ripple,this._initialClasses):this._classes.ripple.split(" ");He.removeClass(this._element,r)}},n)}_addedNewRippleClasses(e,n){return e.split(" ").filter(r=>n.findIndex(i=>r===i)===-1)}_durationToMsNumber(e){return Number(e.replace("ms","").replace("s","000"))}_getConfig(e={}){const n=He.getDataAttributes(this._element);return e={...Uj,...n,...e},Al(Ug,e,Fj),e}_getClasses(e={}){const n=He.getDataClassAttributes(this._element);return e={...Vj,...n,...e},Al(Ug,e,$j),e}_getDiameter({offsetX:e,offsetY:n,height:r,width:i}){const s=n<=r/2,o=e<=i/2,a=(v,w)=>Math.sqrt(v**2+w**2),l=n===r/2&&e===i/2,c={first:s===!0&&o===!1,second:s===!0&&o===!0,third:s===!1&&o===!0,fourth:s===!1&&o===!1},h={topLeft:a(e,n),topRight:a(i-e,n),bottomLeft:a(e,r-n),bottomRight:a(i-e,r-n)};let f=0;return l||c.fourth?f=h.topLeft:c.third?f=h.topRight:c.second?f=h.bottomRight:c.first&&(f=h.bottomLeft),f*2}_appendRipple(e,n){n.appendChild(e),setTimeout(()=>{He.addClass(e,"opacity-0 scale-100")},50)}_toggleUnbound(e){this._options.rippleUnbound===!0?He.addClass(e,this._classes.unbound):He.removeClass(e,this._classes.unbound)}_addColor(e){let n=this._options.rippleColor||"rgb(0,0,0)";(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(n=this._options.rippleColorDark||this._options.rippleColor);const r=jj.find(o=>o.name===n.toLowerCase()),i=r?this._colorToRGB(r.gradientColor).join(","):this._colorToRGB(n).join(","),s=Oj.split("{{color}}").join(`${i}`);e.style.backgroundImage=`radial-gradient(circle, ${s})`}_colorToRGB(e){function n(s){return s.length<7&&(s=`#${s[1]}${s[1]}${s[2]}${s[2]}${s[3]}${s[3]}`),[parseInt(s.substr(1,2),16),parseInt(s.substr(3,2),16),parseInt(s.substr(5,2),16)]}function r(s){const o=document.body.appendChild(document.createElement("fictum")),a="rgb(1, 2, 3)";return o.style.color=a,o.style.color!==a||(o.style.color=s,o.style.color===a||o.style.color==="")?Fg:(s=getComputedStyle(o).color,document.body.removeChild(o),s)}function i(s){return s=s.match(/[.\d]+/g).map(o=>+Number(o)),s.length=3,s}return e.toLowerCase()==="transparent"?Fg:e[0]==="#"?n(e):(e.indexOf("rgb")===-1&&(e=r(e)),e.indexOf("rgb")===0?i(e):Fg)}static autoInitial(e){return function(n){e._autoInit(n)}}static jQueryInterface(e){return this.each(function(){return Yi.getData(this,Jh)?null:new Yp(this,e)})}static getInstance(e){return Yi.getData(e,Jh)}static getOrCreateInstance(e,n={}){return this.getInstance(e)||new this(e,typeof n=="object"?n:null)}}Li();Li();bI("chips-input-");const ys={plugins:{legend:{labels:{color:"rgb(102,102,102)"}}}},zj={line:{options:{...ys,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.0)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bar:{options:{...ys,backgroundColor:"rgb(59, 112, 202)",borderWidth:0,responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!0,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},pie:{options:{...ys,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},doughnut:{options:{...ys,elements:{arc:{backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},polarArea:{options:{...ys,elements:{arc:{backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0}}},radar:{options:{...ys,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgb(59, 112, 202)"}},responsive:!0,legend:{display:!0}}},scatter:{options:{...ys,elements:{line:{backgroundColor:"rgba(59, 112, 202, 0.5)",borderColor:"rgb(59, 112, 202)",borderWidth:2,tension:0},point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},tooltips:{intersect:!1,mode:"index"},datasets:{borderColor:"red"},scales:{x:{stacked:!0,grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{stacked:!1,grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}},bubble:{options:{...ys,elements:{point:{borderColor:"rgb(59, 112, 202)",backgroundColor:"rgba(59, 112, 202, 0.5)"}},responsive:!0,legend:{display:!0},scales:{x:{grid:{display:!1},ticks:{fontColor:"rgba(0,0,0, 0.5)"}},y:{grid:{borderDash:[2],drawBorder:!1,zeroLineColor:"rgba(0,0,0,0)",zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{fontColor:"rgba(0,0,0, 0.5)"}}}}}};var Xp=function(t){this.element=t,this.handlers={}},sA={isEmpty:{configurable:!0}};Xp.prototype.bind=function(t,e){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)};Xp.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return e&&r!==e?!0:(n.element.removeEventListener(t,r,!1),!1)})};Xp.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};sA.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return t.handlers[e].length===0})};Object.defineProperties(Xp.prototype,sA);typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),typeof navigator<"u"&&navigator.msMaxTouchPoints,typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent);kI("div");const Hj=t=>{LO(()=>{const e=AI();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}})},qj=(t,e)=>{Pe.on(document,`click.te.${t.NAME}`,e,function(n){n.preventDefault(),t.getOrCreateInstance(this).toggle()})},Wj=(t,e)=>{Pe.on(document,`click.te.${t.NAME}.data-api`,e,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!rl(this)&&t.getOrCreateInstance(this).show()})},Kj=(t,e)=>{Pe.on(document,`click.te.${t.NAME}.data-api`,e,function(n){const r=Uu(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),rl(this))return;Pe.one(r,t.EVENT_HIDDEN,()=>{Kp(this)&&this.focus()});const i=Mt.findOne(t.OPEN_SELECTOR);i&&i!==r&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},Gj=(t,e)=>{Pe.on(document,`click.te.${t.NAME}`,e,n=>{n.preventDefault();const r=n.target.closest(e);t.getOrCreateInstance(r).toggle()})},Zj=(t,e)=>{Pe.on(document,`click.te.${t.NAME}`,e,function(n){const r=Uu(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),Pe.one(r,t.EVENT_SHOW,s=>{s.defaultPrevented||Pe.one(r,t.EVENT_HIDDEN,()=>{Kp(this)&&this.focus()})});const i=Mt.findOne(`[${t.OPEN_SELECTOR}="true"]`);i&&t.getInstance(i).hide(),t.getOrCreateInstance(r).toggle(this)})},Qj=(t,e)=>{Pe.one(document,"mousedown",e,t.autoInitial(new t))},Yj=(t,e)=>{Pe.on(document,`click.te.${t.NAME}.data-api`,e,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();const r=SI(this);Mt.find(r).forEach(i=>{t.getOrCreateInstance(i,{toggle:!1}).toggle()})})},Xj=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},Jj=(t,e)=>{[].slice.call(document.querySelectorAll(e)).map(function(n){return new t(n)})},eU=(t,e)=>{Mt.find(e).forEach(n=>{new t(n)}),Pe.on(document,`click.te.${t.NAME}.data-api`,`${e} img:not([data-te-lightbox-disabled])`,t.toggle())},tU=(t,e)=>{const n=s=>s[0]==="{"&&s[s.length-1]==="}"||s[0]==="["&&s[s.length-1]==="]",r=s=>typeof s!="string"?s:n(s)?JSON.parse(s.replace(/'/g,'"')):s,i=s=>{const o={};return Object.keys(s).forEach(a=>{if(a.match(/dataset.*/)){const l=a.slice(7,8).toLowerCase().concat(a.slice(8));o[l]=r(s[a])}}),o};Mt.find(e).forEach(s=>{if(He.getDataAttribute(s,"chart")!=="bubble"&&He.getDataAttribute(s,"chart")!=="scatter"){const o=He.getDataAttributes(s),a={data:{datasets:[i(o)]}};return o.chart&&(a.type=o.chart),o.labels&&(a.data.labels=JSON.parse(o.labels.replace(/'/g,'"'))),new t(s,{...a,...zj[a.type]})}return null})};class nU{constructor(){this.inits=[]}get initialized(){return this.inits}isInited(e){return this.inits.includes(e)}add(e){this.isInited(e)||this.inits.push(e)}}const s1=new nU,Dc={alert:{name:"Alert",selector:"[data-te-alert-init]",isToggler:!1},animation:{name:"Animate",selector:"[data-te-animation-init]",isToggler:!1},carousel:{name:"Carousel",selector:"[data-te-carousel-init]",isToggler:!1},chips:{name:"ChipsInput",selector:"[data-te-chips-input-init]",isToggler:!1},chip:{name:"Chip",selector:"[data-te-chip-init]",isToggler:!1,onInit:"init"},datepicker:{name:"Datepicker",selector:"[data-te-datepicker-init]",isToggler:!1},datetimepicker:{name:"Datetimepicker",selector:"[data-te-date-timepicker-init]",isToggler:!1},input:{name:"Input",selector:"[data-te-input-wrapper-init]",isToggler:!1},perfectScrollbar:{name:"PerfectScrollbar",selector:"[data-te-perfect-scrollbar-init]",isToggler:!1},rating:{name:"Rating",selector:"[data-te-rating-init]",isToggler:!1},scrollspy:{name:"ScrollSpy",selector:"[data-te-spy='scroll']",isToggler:!1},select:{name:"Select",selector:"[data-te-select-init]",isToggler:!1},sidenav:{name:"Sidenav",selector:"[data-te-sidenav-init]",isToggler:!1},stepper:{name:"Stepper",selector:"[data-te-stepper-init]",isToggler:!1},timepicker:{name:"Timepicker",selector:"[data-te-timepicker-init]",isToggler:!1},toast:{name:"Toast",selector:"[data-te-toast-init]",isToggler:!1},datatable:{name:"Datatable",selector:"[data-te-datatable-init]"},popconfirm:{name:"Popconfirm",selector:"[data-te-toggle='popconfirm']"},validation:{name:"Validation",selector:"[data-te-validation-init]"},smoothScroll:{name:"SmoothScroll",selector:"a[data-te-smooth-scroll-init]"},lazyLoad:{name:"LazyLoad",selector:"[data-te-lazy-load-init]"},clipboard:{name:"Clipboard",selector:"[data-te-clipboard-init]"},infiniteScroll:{name:"InfiniteScroll",selector:"[data-te-infinite-scroll-init]"},loadingManagement:{name:"LoadingManagement",selector:"[data-te-loading-management-init]"},sticky:{name:"Sticky",selector:"[data-te-sticky-init]"},chart:{name:"Chart",selector:"[data-te-chart]",isToggler:!1,advanced:tU},button:{name:"Button",selector:"[data-te-toggle='button']",isToggler:!0,callback:Gj},collapse:{name:"Collapse",selector:"[data-te-collapse-init]",isToggler:!0,callback:Yj},dropdown:{name:"Dropdown",selector:"[data-te-dropdown-toggle-ref]",isToggler:!0,callback:qj},modal:{name:"Modal",selector:"[data-te-toggle='modal']",isToggler:!0,callback:Zj},ripple:{name:"Ripple",selector:"[data-te-ripple-init]",isToggler:!0,callback:Qj},offcanvas:{name:"Offcanvas",selector:"[data-te-offcanvas-toggle]",isToggler:!0,callback:Kj},tab:{name:"Tab",selector:"[data-te-toggle='tab'], [data-te-toggle='pill'], [data-te-toggle='list']",isToggler:!0,callback:Wj},tooltip:{name:"Tooltip",selector:"[data-te-toggle='tooltip']",isToggler:!1,callback:Xj},popover:{name:"Popover",selector:"[data-te-toggle='popover']",isToggler:!0,callback:Jj},lightbox:{name:"Lightbox",selector:"[data-te-lightbox-init]",isToggler:!0,callback:eU},touch:{name:"Touch",selector:"[data-te-touch-init]"}},rU=t=>Dc[t.NAME]||null,iU=(t,e)=>{if(!t||!e.allowReinits&&s1.isInited(t.NAME))return;s1.add(t.NAME);const n=rU(t),r=(n==null?void 0:n.isToggler)||!1;if(Hj(t),n!=null&&n.advanced){n==null||n.advanced(t,n==null?void 0:n.selector);return}if(r){n==null||n.callback(t,n==null?void 0:n.selector);return}Mt.find(n==null?void 0:n.selector).forEach(i=>{let s=t.getInstance(i);s||(s=new t(i),n!=null&&n.onInit&&s[n.onInit]())})},sU=(t,e)=>{t.forEach(n=>iU(n,e))},oU={allowReinits:!1,checkOtherImports:!1},Jp=(t,e={})=>{e={...oU,...e};const n=Object.keys(Dc).map(r=>{if(document.querySelector(Dc[r].selector)){const i=t[Dc[r].name];return!i&&!s1.isInited(r)&&e.checkOtherImports&&console.warn(`Please import ${Dc[r].name} from "tw-elements" package and add it to a object parameter inside "initTE" function`),i}});sU(n,e)},aU=()=>u.jsxs(u.Fragment,{children:[u.jsxs("nav",{className:"navbar",children:[u.jsx(wo,{to:"/freeflow-edu/",className:({isActive:t})=>t?"link active":"link",children:"Login"}),u.jsx(wo,{to:"/freeflow-edu/register",className:({isActive:t})=>t?"link active":"link",children:"Register"})]}),u.jsx(s4,{})]}),il=t=>!(t!==void 0&&t!=null&&t.length>0),Zn=t=>t.charAt(0).toUpperCase()+t.slice(1),lU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},cU=ao(lU),uU=fa(cU),hU=t=>{ee.useEffect(()=>{Jp({Collapse:tu,Dropdown:Zr,Tooltip:ec})},[]);const e=dn(uU,"Users",t.state.user.uid);return(async()=>{try{const r=await xi(e);r.data().role==="teacher"?$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M576 48H224c-8.8 0-16 7.2-16 16v41.3c-14.8-6-31-9.3-48-9.3V64c0-35.3 28.7-64 64-64H576c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H544 520 392 368 336.8c-8.3-18-19.8-34.2-33.7-48H368V328c0-30.9 25.1-56 56-56h64c30.9 0 56 25.1 56 56v40h32c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16zM496 368V328c0-4.4-3.6-8-8-8H424c-4.4 0-8 3.6-8 8v40h80zM208 224a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM64 224a96 96 0 1 1 192 0A96 96 0 1 1 64 224zM50.7 464H269.3c-9.5-36.8-42.9-64-82.6-64H133.3c-39.8 0-73.2 27.2-82.6 64zM0 485.3C0 411.7 59.7 352 133.3 352h53.3C260.3 352 320 411.7 320 485.3c0 14.7-11.9 26.7-26.7 26.7H26.7C11.9 512 0 500.1 0 485.3z"></path></svg>'):r.data().role==="student"?$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M320 80c2.5 0 5 .4 7.4 1.3l218 78.7-218 78.7c-2.4 .9-4.9 1.3-7.4 1.3s-5-.4-7.4-1.3L184.9 192.6l140.8-52.8c8.3-3.1 12.5-12.3 9.4-20.6s-12.3-12.5-20.6-9.4L154.9 169.6c-5.2 2-10.3 4.2-15.3 6.6L94.7 160l218-78.7c2.4-.9 4.9-1.3 7.4-1.3zM15.8 182.6l77.4 27.9c-27.2 28.7-43.7 66.7-45.1 107.7c-.1 .6-.1 1.2-.1 1.8c0 28.4-10.8 57.8-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7c-3.2-14-7.5-28.3-13.4-41.5c1.9-37 19.2-70.9 46.7-94.2l169.5 61.2c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32s-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6zm480.8 80l-46.5 16.8 12.7 120.5c-4.8 3.5-12.8 8-24.6 12.6C410 423.6 368 432 320 432s-90-8.4-118.3-19.4c-11.8-4.6-19.8-9.2-24.6-12.6l12.7-120.5-46.5-16.8L128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6zM467.4 396a.7 .7 0 1 0 -1.2-.7 .7 .7 0 1 0 1.2 .7zm-294.8 0a.7 .7 0 1 0 1.2-.6 .7 .7 0 1 0 -1.2 .6z"></path></svg>'):r.data().role==="special needy / refugee / disabilities"?$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9l0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 6-.4 12-1.1 17.9c-14.6-7.3-30.4-12.7-47-15.8c0-.7 0-1.4 0-2.1v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2l-.1 .1-.1 .1-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7l8.7-8c5.3 16.1 12.8 31.2 22.2 44.9l-.6 .6c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM432 224a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm47.9 63c-4.3-3.7-10.6-4-15.1-.6l-96 72c-4.1 3.1-5.8 8.5-4.2 13.4s6.2 8.2 11.4 8.2h35.6l-30.1 54.2c-2.8 5-1.7 11.1 2.6 14.9s10.6 4 15.1 .6l96-72c4.1-3.1 5.8-8.5 4.2-13.4s-6.2-8.2-11.4-8.2H452.4l30.1-54.2c2.8-5 1.7-11.1-2.6-14.9z"></path></svg>'):$("#t_role").html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 640 512" style="fill: rgba(225, 225, 225, 1);transform: ;msFilter:;"><path d="M267.6 3c-7.2-4-16-4-23.2 0L17.6 128.1C6.7 134.1 0 145.5 0 157.9C0 176.8 15.2 192 34.1 192H477.9c18.8 0 34.1-15.2 34.1-34.1c0-12.4-6.7-23.8-17.6-29.8L267.6 3zM256 51.4L423.8 144H88.2L256 51.4zM112 224H64V384H56c-13.3 0-24 10.7-24 24s10.7 24 24 24H456c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8V224H400V384H336V224H288V384H224V224H176V384H112V224zM0 488c0 13.3 10.7 24 24 24H488c13.3 0 24-10.7 24-24s-10.7-24-24-24H24c-13.3 0-24 10.7-24 24z"></path></svg>'),$("#dropdownMenuButton2").attr("data-te-original-title",t.state.user.displayName+" "+t.state.user.email+" "+Zn(r.data().role)),$("#dropdownMenuButton2").attr("aria-label",t.state.user.displayName+" "+t.state.user.email+" "+Zn(r.data().role)),r.data().role==="teacher"&&$("#uploadLink").attr("style","display: inherit"),(!t.state.role||t.state.role!==r.data().role)&&t.updateRoleState(r.data().role)}catch(r){console.log("Error reading document of collection Users: ",r)}})(),console.log(t.state.walletAddress),u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:"flex-no-wrap relative flex w-full items-center justify-between bg-transparent dark:bg-transparent lg:flex-wrap lg:justify-start mb-4",children:u.jsxs("div",{className:"flex w-full flex-wrap items-center justify-between px-3",children:[u.jsx("button",{className:"block border-0 bg-transparent px-2 text-neutral-500 hover:no-underline hover:shadow-none focus:no-underline focus:shadow-none focus:outline-none focus:ring-0 dark:text-neutral-200 lg:hidden",type:"button","data-te-collapse-init":!0,"data-te-target":"#navbarSupportedContent1","aria-controls":"navbarSupportedContent1","aria-expanded":"false","aria-label":"Toggle navigation",children:u.jsx("span",{className:"[&>svg]:w-7",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-7 w-7",children:u.jsx("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})})}),u.jsx("div",{className:"!visible hidden flex-grow basis-[100%] items-center lg:!flex lg:basis-auto",id:"navbarSupportedContent1","data-te-collapse-item":!0,children:u.jsxs("ul",{className:"list-style-none mr-auto flex flex-col pl-0 lg:flex-row","data-te-navbar-nav-ref":!0,children:[u.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:u.jsx(wo,{to:"/freeflow-edu/",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Home"})}),u.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:u.jsx(wo,{to:"/freeflow-edu/profile/"+t.state.user.uid,className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Profile"})}),u.jsx("li",{style:{display:"none"},className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,id:"uploadLink",children:u.jsx(wo,{to:"/freeflow-edu/upload",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Upload"})}),u.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:u.jsx(wo,{to:"/freeflow-edu/subscription",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Subscription"})}),u.jsx("li",{className:"mb-4 lg:mb-0 lg:pr-2","data-te-nav-item-ref":!0,children:u.jsx(wo,{to:"/freeflow-edu/sign-out",className:({isActive:r})=>r?"link active text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400":"link text-neutral-500 transition duration-200 hover:text-neutral-700 hover:ease-in-out focus:text-neutral-700 disabled:text-black/30 motion-reduce:transition-none dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300 lg:px-2 [&.active]:text-primary/90 dark:[&.active]:text-primary-400",children:"Sign Out"})})]})}),u.jsxs("div",{className:"relative flex items-center justify-center",children:[u.jsx("div",{className:"button relative ms-4 me-4 rounded bg-[#84948C] px-6 pt-3 pb-3.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-[#6A7770] hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-[#515B55] focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-[] active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",to:"/freeflow-edu/profile/"+t.state.user.uid,children:u.jsxs(Xs,{className:"hidden-arrow flex items-center whitespace-nowrap transition duration-150 ease-in-out motion-reduce:transition-none flex items-center justify-center",id:"dropdownMenuButton2",role:"button","data-te-toggle":"tooltip",title:t.state.user.displayName+`
`+t.state.user.email,to:"/freeflow-edu/profile/"+t.state.user.uid,children:[u.jsx("img",{src:t.state.user.photoURL,className:"rounded-full",style:{height:"25px",width:"25px"},alt:"Profile Img",loading:"lazy"}),u.jsx("p",{className:"ms-2",id:"t_role"})]})}),u.jsx("div",{className:"relative",children:t.renderNotConnectedContainer()})]})]})}),u.jsx(s4,{})]})},dU="https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd",oA=t=>{const[e,n]=ee.useState(0);return ee.useEffect(()=>{(async()=>{(await fetch(dU)).json().then(s=>{n(s.solana.usd)})})()},[]),(e*t.sol).toFixed(6)};class fU extends ee.Component{constructor(n){super(n);at(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bLogin())});at(this,"bLogin",()=>{if($("#t_email").val()!=""&&$("#t_password").val()!=""){const i=Do();var n=$("#t_email").val(),r=$("#t_password").val();s7(i,n,r).then(s=>{const o=s.user;this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),o=="auth/invalid-login-credentials"?alert("Wrong Email or Password."):o=="auth/invalid-email"?alert("Invalid Email."):alert(o)})}else alert("Please fill in all the information required.")});at(this,"signUpGoogle",()=>{const n=Do(),r=new Ur;r.addScope("https://www.googleapis.com/auth/userinfo.email"),Y4(n,r).then(i=>{Ur.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})})});at(this,"guest",()=>{const n=Do();e7(n).then(r=>{console.log(r.user);const i=r.user;F4(n.currentUser,{displayName:"Guest"}).then(s=>{console.log(s)}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a})}),this.setState({user:i}),this.props.updateUserState(i),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("displayName","Guest"),localStorage.setItem("email",i.email))}).catch(r=>{const i=r.code,s=r.message;console.log({errorCode:i,errorMessage:s})})});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return u.jsx(u.Fragment,{children:u.jsx("div",{className:"min-h-screen mt-4 bg-gray-100 text-gray-900 flex justify-center",children:u.jsxs("div",{className:"max-w-screen-xl m-0 sm:m-10 bg-white shadow sm:rounded-lg flex justify-center flex-1",children:[u.jsx("div",{className:"lg:w-1/2 xl:w-5/12 p-6 sm:p-12",children:u.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[u.jsxs("h1",{className:"text-2xl xl:text-3xl font-bold flex items-center mb-2 pb-2",children:[u.jsxs("svg",{className:"inline-block rounded-lg border-[1px] border-gray-400 me-6",height:"50",width:"50",xmlns:"http://www.w3.org/2000/svg",style:{backgroundColor:"#E7E7E7",clipRule:"evenodd",fillRule:"evenodd",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1042.54 1042.54",children:[u.jsx("g",{children:u.jsx("path",{d:"M 565.5,200.5 C 566.833,201.167 566.833,201.167 565.5,200.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 562.5,202.5 C 563.833,203.167 563.833,203.167 562.5,202.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 514.5,340.5 C 513.5,340.5 512.5,340.5 511.5,340.5C 499.5,340.5 487.5,340.5 475.5,340.5C 475.5,295.5 475.5,250.5 475.5,205.5C 503.5,205.5 531.5,205.5 559.5,205.5C 559.833,201.5 560.167,201.5 560.5,205.5C 562.527,205.338 564.527,205.505 566.5,206C 564.535,217.246 563.868,228.746 564.5,240.5C 547.833,240.5 531.167,240.5 514.5,240.5C 514.5,249.167 514.5,257.833 514.5,266.5C 529.34,266.409 544.34,266.409 559.5,266.5C 559.5,277.833 559.5,289.167 559.5,300.5C 544.34,300.591 529.34,300.591 514.5,300.5C 514.5,313.833 514.5,327.167 514.5,340.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 515.5,241.5 C 516.833,242.167 516.833,242.167 515.5,241.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 562.5,241.5 C 563.833,242.167 563.833,242.167 562.5,241.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 517.5,242.5 C 518.833,243.167 518.833,243.167 517.5,242.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 560.5,242.5 C 561.833,243.167 561.833,243.167 560.5,242.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 516.5,244.5 C 517.833,245.167 517.833,245.167 516.5,244.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 561.5,244.5 C 562.833,245.167 562.833,245.167 561.5,244.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 564.5,243.5 C 565.525,243.897 565.692,244.563 565,245.5C 564.536,244.906 564.369,244.239 564.5,243.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 471.5,336.5 C 472.833,337.167 472.833,337.167 471.5,336.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 517.5,336.5 C 518.833,337.167 518.833,337.167 517.5,336.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 511.5,340.5 C 512.5,340.5 513.5,340.5 514.5,340.5C 514.043,342.557 513.043,342.557 511.5,340.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 518.5,340.5 C 519.525,340.897 519.692,341.563 519,342.5C 518.536,341.906 518.369,341.239 518.5,340.5 Z",fill:"#e5e5e5",style:{fill:"#e5e5e5",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 296.5,360.5 C 296.897,359.475 297.563,359.308 298.5,360C 297.906,360.464 297.239,360.631 296.5,360.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 388.5,359.5 C 389.833,360.167 389.833,360.167 388.5,359.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 644.5,359.5 C 645.833,360.167 645.833,360.167 644.5,359.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 301.5,360.5 C 302.833,361.167 302.833,361.167 301.5,360.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 640.5,360.5 C 641.833,361.167 641.833,361.167 640.5,360.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 742.5,360.5 C 743.833,361.167 743.833,361.167 742.5,360.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 386.5,362.5 C 387.833,363.167 387.833,363.167 386.5,362.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 298.5,364.5 C 298.5,365.5 298.5,366.5 298.5,367.5C 296.443,365.957 296.443,364.957 298.5,364.5 Z",fill:"#e6e6e6",style:{fill:"#e6e6e6",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 298.5,364.5 C 329.174,364.167 359.841,364.5 390.5,365.5C 389.521,377.116 389.188,388.782 389.5,400.5C 372.5,400.5 355.5,400.5 338.5,400.5C 338.5,409.5 338.5,418.5 338.5,427.5C 353.833,427.5 369.167,427.5 384.5,427.5C 384.5,439.167 384.5,450.833 384.5,462.5C 369.167,462.5 353.833,462.5 338.5,462.5C 338.5,476.167 338.5,489.833 338.5,503.5C 325.167,503.5 311.833,503.5 298.5,503.5C 298.5,458.167 298.5,412.833 298.5,367.5C 298.5,366.5 298.5,365.5 298.5,364.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 639.5,364.5 C 640.833,365.167 640.833,365.167 639.5,364.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,448.5 C 732.648,449.089 730.815,449.756 729,450.5C 713.911,449.509 698.745,449.176 683.5,449.5C 683.5,456.5 683.5,463.5 683.5,470.5C 702.833,470.5 722.167,470.5 741.5,470.5C 741.5,481.5 741.5,492.5 741.5,503.5C 709.167,503.5 676.833,503.5 644.5,503.5C 644.5,457.167 644.5,410.833 644.5,364.5C 676.167,364.5 707.833,364.5 739.5,364.5C 739.5,375.5 739.5,386.5 739.5,397.5C 720.833,397.5 702.167,397.5 683.5,397.5C 683.5,404.167 683.5,410.833 683.5,417.5C 700.167,417.5 716.833,417.5 733.5,417.5C 733.192,427.915 733.525,438.249 734.5,448.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 339.5,401.5 C 340.833,402.167 340.833,402.167 339.5,401.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 341.5,402.5 C 342.833,403.167 342.833,403.167 341.5,402.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 388.5,402.5 C 389.833,403.167 389.833,403.167 388.5,402.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 385.5,403.5 C 386.833,404.167 386.833,404.167 385.5,403.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 340.5,404.5 C 341.833,405.167 341.833,405.167 340.5,404.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,404.5 C 390.833,405.167 390.833,405.167 389.5,404.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,405.5 C 388.833,406.167 388.833,406.167 389.5,405.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,416.5 C 733.833,415.167 733.833,415.167 734.5,416.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,416.5 C 735.833,417.167 735.833,417.167 734.5,416.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 386.5,424.5 C 387.833,425.167 387.833,425.167 386.5,424.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,426.5 C 388.833,425.167 388.833,425.167 389.5,426.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,426.5 C 390.833,427.167 390.833,427.167 389.5,426.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 388.5,428.5 C 389.833,429.167 389.833,429.167 388.5,428.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,448.5 C 735.833,449.167 735.833,449.167 734.5,448.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 387.5,455.5 C 388.833,456.167 388.833,456.167 387.5,455.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 385.5,456.5 C 386.833,457.167 386.833,457.167 385.5,456.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 390.5,456.5 C 391.833,457.167 391.833,457.167 390.5,456.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 390.5,460.5 C 391.833,461.167 391.833,461.167 390.5,460.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 741.5,465.5 C 740.833,464.167 740.833,464.167 741.5,465.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 684.5,465.5 C 685.833,466.167 685.833,466.167 684.5,465.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 741.5,465.5 C 742.833,466.167 742.833,466.167 741.5,465.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 737.5,466.5 C 738.833,467.167 738.833,467.167 737.5,466.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 740.5,467.5 C 741.833,468.167 741.833,468.167 740.5,467.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 575.5,628.5 C 568.084,635.674 560.417,641.674 552.5,646.5C 527.524,657.13 502.857,657.13 478.5,646.5C 462.25,637.238 451.083,624.572 445,608.5C 444.5,607.333 443.667,606.5 442.5,606C 442.957,605.586 443.291,605.086 443.5,604.5C 442.5,602.5 441.5,600.5 440.5,598.5C 440.709,597.914 441.043,597.414 441.5,597C 440.14,592.637 439.306,588.137 439,583.5C 438.5,559.836 438.333,536.169 438.5,512.5C 489.833,512.5 541.167,512.5 592.5,512.5C 592.937,539.533 592.437,566.533 591,593.5C 587.735,606.639 582.569,618.306 575.5,628.5 Z M 546.5,606.5 C 537.981,614.791 527.648,618.791 515.5,618.5C 503.308,618.778 492.974,614.778 484.5,606.5C 476.388,598.619 471.888,589.285 471,578.5C 470.5,568.172 470.334,557.839 470.5,547.5C 500.5,547.5 530.5,547.5 560.5,547.5C 560.898,560.219 560.398,572.886 559,585.5C 558.801,587.402 557.967,588.902 556.5,590C 557.299,591.749 556.632,593.082 554.5,594C 554.081,599.285 551.414,603.452 546.5,606.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 431.5,513.5 C 432.833,514.167 432.833,514.167 431.5,513.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 598.5,513.5 C 599.833,514.167 599.833,514.167 598.5,513.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 431.5,517.5 C 432.833,518.167 432.833,518.167 431.5,517.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 436.5,517.5 C 437.833,518.167 437.833,518.167 436.5,517.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 593.5,517.5 C 594.833,518.167 594.833,518.167 593.5,517.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 598.5,517.5 C 599.833,518.167 599.833,518.167 598.5,517.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 434.5,518.5 C 435.833,519.167 435.833,519.167 434.5,518.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 595.5,518.5 C 596.833,519.167 596.833,519.167 595.5,518.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 597.5,586.5 C 596.761,586.631 596.094,586.464 595.5,586C 596.437,585.308 597.103,585.475 597.5,586.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 597.5,586.5 C 598.833,587.167 598.833,587.167 597.5,586.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 593.5,587.5 C 594.833,588.167 594.833,588.167 593.5,587.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 596.5,588.5 C 597.833,589.167 597.833,589.167 596.5,588.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 594.5,589.5 C 595.833,590.167 595.833,590.167 594.5,589.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 590.5,603.5 C 591.833,604.167 591.833,604.167 590.5,603.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 442.5,609.5 C 441.833,608.167 441.833,608.167 442.5,609.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 442.5,609.5 C 443.239,609.369 443.906,609.536 444.5,610C 443.563,610.692 442.897,610.525 442.5,609.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 590.5,608.5 C 591.525,608.897 591.692,609.563 591,610.5C 590.536,609.906 590.369,609.239 590.5,608.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 586.5,613.5 C 587.833,614.167 587.833,614.167 586.5,613.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 588.5,615.5 C 588.897,614.475 589.563,614.308 590.5,615C 589.906,615.464 589.239,615.631 588.5,615.5 Z",fill:"#e5e5e5",style:{fill:"#e5e5e5",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 447.5,624.5 C 448.077,623.227 448.743,623.227 449.5,624.5C 449.03,625.463 448.363,625.463 447.5,624.5 Z",fill:"#e7e7e7",style:{fill:"#e7e7e7",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 581.5,623.5 C 584.001,623.511 584.168,624.178 582,625.5C 581.536,624.906 581.369,624.239 581.5,623.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 447.5,626.5 C 448.833,627.167 448.833,627.167 447.5,626.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 582.5,626.5 C 583.833,627.167 583.833,627.167 582.5,626.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 454.5,628.5 C 455.833,629.167 455.833,629.167 454.5,628.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 575.5,628.5 C 576.833,629.167 576.833,629.167 575.5,628.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 448.5,629.5 C 449.833,630.167 449.833,630.167 448.5,629.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 581.5,629.5 C 582.833,630.167 582.833,630.167 581.5,629.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 458.5,634.5 C 459.833,635.167 459.833,635.167 458.5,634.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 571.5,634.5 C 572.833,635.167 572.833,635.167 571.5,634.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 456.5,637.5 C 457.833,638.167 457.833,638.167 456.5,637.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 573.5,637.5 C 574.833,638.167 574.833,638.167 573.5,637.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 472.5,645.5 C 473.833,646.167 473.833,646.167 472.5,645.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 557.5,645.5 C 558.833,646.167 558.833,646.167 557.5,645.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 478.5,646.5 C 478.103,647.525 477.437,647.692 476.5,647C 477.094,646.536 477.761,646.369 478.5,646.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 552.5,646.5 C 553.239,646.369 553.906,646.536 554.5,647C 553.563,647.692 552.897,647.525 552.5,646.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 485.5,651.5 C 486.833,652.167 486.833,652.167 485.5,651.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 544.5,651.5 C 545.833,652.167 545.833,652.167 544.5,651.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 483.5,653.5 C 484.833,654.167 484.833,654.167 483.5,653.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 493.5,653.5 C 494.833,654.167 494.833,654.167 493.5,653.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 536.5,653.5 C 537.833,654.167 537.833,654.167 536.5,653.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 547.5,654.5 C 546.833,653.167 546.833,653.167 547.5,654.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 479.5,654.5 C 480.833,655.167 480.833,655.167 479.5,654.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 483.5,654.5 C 482.833,655.167 482.833,655.167 483.5,654.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 547.5,654.5 C 548.833,655.167 548.833,655.167 547.5,654.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 550.5,654.5 C 551.833,655.167 551.833,655.167 550.5,654.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})})]}),u.jsx("span",{children:"FreeFlow-Edu"})]}),u.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Sculpting Futures, Unleasing Knowledge: FreeFlow Edu, Where Learning Knows No Bounds!"}),u.jsx("h3",{className:"text-xl xl:text-2xl font-bold",children:"Login"}),u.jsxs("div",{className:"w-full flex-1 mt-8",children:[u.jsx("div",{className:"flex flex-col items-center",children:u.jsxs("button",{onClick:this.signUpGoogle,className:"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-indigo-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline",children:[u.jsx("div",{className:"bg-white p-2 rounded-full",children:u.jsxs("svg",{className:"w-4",viewBox:"0 0 533.5 544.3",children:[u.jsx("path",{d:"M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z",fill:"#4285f4"}),u.jsx("path",{d:"M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z",fill:"#34a853"}),u.jsx("path",{d:"M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z",fill:"#fbbc04"}),u.jsx("path",{d:"M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z",fill:"#ea4335"})]})}),u.jsx("span",{className:"ml-4",children:" Login with G+"})]})}),u.jsx("div",{className:"my-12 border-b text-center",children:u.jsx("div",{className:"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2",children:" Or login with e-mail"})}),u.jsxs("div",{className:"mx-auto max-w-xs",children:[u.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white",type:"email",placeholder:"Email",id:"t_email"}),u.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Password",id:"t_password"}),u.jsxs("label",{className:"w-full py-4 mb-2",children:[u.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"  Remember me"]}),u.jsxs("button",{onClick:this.bLogin,className:"mt-5 mb-4 tracking-wide font-semibold bg-indigo-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:[u.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),u.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),u.jsx("path",{d:"M20 8v6M23 11h-6"})]}),u.jsx("span",{className:"ml-3",children:"Login"})]}),u.jsx(Xs,{className:"mb-2 mt-2 block",to:"register",children:"Haven't registered?"}),u.jsx(Xs,{onClick:this.guest,children:"Login as Guest"})]})]})]})}),u.jsx("div",{className:"flex-1 bg-indigo-100 text-center hidden lg:flex",children:u.jsx("div",{className:"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat",style:{backgroundImage:"url('https://storage.googleapis.com/devitary-image-host.appspot.com/15848031292911696601-undraw_designer_life_w96d.svg')"}})})]})})})}}class z5 extends ee.Component{constructor(n){super(n);at(this,"handleKeyPress",n=>{n.key=="Enter"&&(console.log("enter"),this.bRegister())});at(this,"bRegister",()=>{if($("#t_email").val()!=""&&$("#t_username").val()!=""&&$("#t_password").val()!=""&&$("#t_confirm_password").val()!=""&&$("#t_otp").val()!="")if($("#t_password").val()==$("#t_confirm_password").val())if(document.getElementById("c_privacy").checked){const i=Do();var n=$("#t_email").val(),r=$("#t_password").val();i7(i,n,r).then(s=>{const o=s.user,a=$("#t_username").val();F4(i.currentUser,{displayName:a}).then(l=>{}).catch(l=>{const c=l.code,h=l.message;console.log({errorCode:c,errorMessage:h})}),this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",a),localStorage.setItem("email",o.email))}).catch(s=>{const o=s.code,a=s.message;console.log({errorCode:o,errorMessage:a}),s.code==="auth/email-already-in-use"?alert("Email is already in use.","warning"):s.code==="auth/weak-password"?alert("Weak password.","warning"):alert(s.code+": "+s.messagee,"danger")})}else alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.");else alert("Password not match.");else alert("Please fill in all the information required.")});at(this,"signUpGoogle",()=>{const n=Do(),r=new Ur;r.addScope("https://www.googleapis.com/auth/userinfo.email"),document.getElementById("c_privacy").checked?Y4(n,r).then(i=>{Ur.credentialFromResult(i).accessToken;const o=i.user;i.user.email,this.setState({user:o}),this.props.updateUserState(o),document.getElementById("c_rmb_me").checked&&(localStorage.setItem("user",JSON.stringify(o)),localStorage.setItem("displayName",o.displayName),localStorage.setItem("email",o.email))}).catch(i=>{const s=i.code,o=i.message;console.log({errorCode:s,errorMessage:o})}):alert("Please agree to the Privacy Policy, and Terms and Conditions of FreeFlow Edu app.")});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return this.state.user?(console.log("loged in"),u.jsx(_v,{to:"/freeflow-edu/"})):(console.log(this.state.user),u.jsx(u.Fragment,{children:u.jsx("div",{className:"min-h-screen mt-4 bg-gray-100 text-gray-900 flex justify-center",children:u.jsxs("div",{className:"max-w-screen-xl m-0 sm:m-10 bg-white shadow sm:rounded-lg flex justify-center flex-1",children:[u.jsx("div",{className:"lg:w-1/2 xl:w-5/12 p-6 sm:p-12",children:u.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[u.jsxs("h1",{className:"text-2xl xl:text-3xl font-bold flex items-center mb-2 pb-2",children:[u.jsxs("svg",{className:"inline-block rounded-lg border-[1px] border-gray-400 me-6",height:"50",width:"50",xmlns:"http://www.w3.org/2000/svg",style:{backgroundColor:"#E7E7E7",clipRule:"evenodd",fillRule:"evenodd",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 1042.54 1042.54",children:[u.jsx("g",{children:u.jsx("path",{d:"M 565.5,200.5 C 566.833,201.167 566.833,201.167 565.5,200.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 562.5,202.5 C 563.833,203.167 563.833,203.167 562.5,202.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 514.5,340.5 C 513.5,340.5 512.5,340.5 511.5,340.5C 499.5,340.5 487.5,340.5 475.5,340.5C 475.5,295.5 475.5,250.5 475.5,205.5C 503.5,205.5 531.5,205.5 559.5,205.5C 559.833,201.5 560.167,201.5 560.5,205.5C 562.527,205.338 564.527,205.505 566.5,206C 564.535,217.246 563.868,228.746 564.5,240.5C 547.833,240.5 531.167,240.5 514.5,240.5C 514.5,249.167 514.5,257.833 514.5,266.5C 529.34,266.409 544.34,266.409 559.5,266.5C 559.5,277.833 559.5,289.167 559.5,300.5C 544.34,300.591 529.34,300.591 514.5,300.5C 514.5,313.833 514.5,327.167 514.5,340.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 515.5,241.5 C 516.833,242.167 516.833,242.167 515.5,241.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 562.5,241.5 C 563.833,242.167 563.833,242.167 562.5,241.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 517.5,242.5 C 518.833,243.167 518.833,243.167 517.5,242.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 560.5,242.5 C 561.833,243.167 561.833,243.167 560.5,242.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 516.5,244.5 C 517.833,245.167 517.833,245.167 516.5,244.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 561.5,244.5 C 562.833,245.167 562.833,245.167 561.5,244.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 564.5,243.5 C 565.525,243.897 565.692,244.563 565,245.5C 564.536,244.906 564.369,244.239 564.5,243.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 471.5,336.5 C 472.833,337.167 472.833,337.167 471.5,336.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 517.5,336.5 C 518.833,337.167 518.833,337.167 517.5,336.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 511.5,340.5 C 512.5,340.5 513.5,340.5 514.5,340.5C 514.043,342.557 513.043,342.557 511.5,340.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 518.5,340.5 C 519.525,340.897 519.692,341.563 519,342.5C 518.536,341.906 518.369,341.239 518.5,340.5 Z",fill:"#e5e5e5",style:{fill:"#e5e5e5",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 296.5,360.5 C 296.897,359.475 297.563,359.308 298.5,360C 297.906,360.464 297.239,360.631 296.5,360.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 388.5,359.5 C 389.833,360.167 389.833,360.167 388.5,359.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 644.5,359.5 C 645.833,360.167 645.833,360.167 644.5,359.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 301.5,360.5 C 302.833,361.167 302.833,361.167 301.5,360.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 640.5,360.5 C 641.833,361.167 641.833,361.167 640.5,360.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 742.5,360.5 C 743.833,361.167 743.833,361.167 742.5,360.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 386.5,362.5 C 387.833,363.167 387.833,363.167 386.5,362.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 298.5,364.5 C 298.5,365.5 298.5,366.5 298.5,367.5C 296.443,365.957 296.443,364.957 298.5,364.5 Z",fill:"#e6e6e6",style:{fill:"#e6e6e6",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 298.5,364.5 C 329.174,364.167 359.841,364.5 390.5,365.5C 389.521,377.116 389.188,388.782 389.5,400.5C 372.5,400.5 355.5,400.5 338.5,400.5C 338.5,409.5 338.5,418.5 338.5,427.5C 353.833,427.5 369.167,427.5 384.5,427.5C 384.5,439.167 384.5,450.833 384.5,462.5C 369.167,462.5 353.833,462.5 338.5,462.5C 338.5,476.167 338.5,489.833 338.5,503.5C 325.167,503.5 311.833,503.5 298.5,503.5C 298.5,458.167 298.5,412.833 298.5,367.5C 298.5,366.5 298.5,365.5 298.5,364.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 639.5,364.5 C 640.833,365.167 640.833,365.167 639.5,364.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,448.5 C 732.648,449.089 730.815,449.756 729,450.5C 713.911,449.509 698.745,449.176 683.5,449.5C 683.5,456.5 683.5,463.5 683.5,470.5C 702.833,470.5 722.167,470.5 741.5,470.5C 741.5,481.5 741.5,492.5 741.5,503.5C 709.167,503.5 676.833,503.5 644.5,503.5C 644.5,457.167 644.5,410.833 644.5,364.5C 676.167,364.5 707.833,364.5 739.5,364.5C 739.5,375.5 739.5,386.5 739.5,397.5C 720.833,397.5 702.167,397.5 683.5,397.5C 683.5,404.167 683.5,410.833 683.5,417.5C 700.167,417.5 716.833,417.5 733.5,417.5C 733.192,427.915 733.525,438.249 734.5,448.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 339.5,401.5 C 340.833,402.167 340.833,402.167 339.5,401.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 341.5,402.5 C 342.833,403.167 342.833,403.167 341.5,402.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 388.5,402.5 C 389.833,403.167 389.833,403.167 388.5,402.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 385.5,403.5 C 386.833,404.167 386.833,404.167 385.5,403.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 340.5,404.5 C 341.833,405.167 341.833,405.167 340.5,404.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,404.5 C 390.833,405.167 390.833,405.167 389.5,404.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,405.5 C 388.833,406.167 388.833,406.167 389.5,405.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,416.5 C 733.833,415.167 733.833,415.167 734.5,416.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,416.5 C 735.833,417.167 735.833,417.167 734.5,416.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 386.5,424.5 C 387.833,425.167 387.833,425.167 386.5,424.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,426.5 C 388.833,425.167 388.833,425.167 389.5,426.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 389.5,426.5 C 390.833,427.167 390.833,427.167 389.5,426.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 388.5,428.5 C 389.833,429.167 389.833,429.167 388.5,428.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 734.5,448.5 C 735.833,449.167 735.833,449.167 734.5,448.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 387.5,455.5 C 388.833,456.167 388.833,456.167 387.5,455.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 385.5,456.5 C 386.833,457.167 386.833,457.167 385.5,456.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 390.5,456.5 C 391.833,457.167 391.833,457.167 390.5,456.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 390.5,460.5 C 391.833,461.167 391.833,461.167 390.5,460.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 741.5,465.5 C 740.833,464.167 740.833,464.167 741.5,465.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 684.5,465.5 C 685.833,466.167 685.833,466.167 684.5,465.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 741.5,465.5 C 742.833,466.167 742.833,466.167 741.5,465.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 737.5,466.5 C 738.833,467.167 738.833,467.167 737.5,466.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 740.5,467.5 C 741.833,468.167 741.833,468.167 740.5,467.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 575.5,628.5 C 568.084,635.674 560.417,641.674 552.5,646.5C 527.524,657.13 502.857,657.13 478.5,646.5C 462.25,637.238 451.083,624.572 445,608.5C 444.5,607.333 443.667,606.5 442.5,606C 442.957,605.586 443.291,605.086 443.5,604.5C 442.5,602.5 441.5,600.5 440.5,598.5C 440.709,597.914 441.043,597.414 441.5,597C 440.14,592.637 439.306,588.137 439,583.5C 438.5,559.836 438.333,536.169 438.5,512.5C 489.833,512.5 541.167,512.5 592.5,512.5C 592.937,539.533 592.437,566.533 591,593.5C 587.735,606.639 582.569,618.306 575.5,628.5 Z M 546.5,606.5 C 537.981,614.791 527.648,618.791 515.5,618.5C 503.308,618.778 492.974,614.778 484.5,606.5C 476.388,598.619 471.888,589.285 471,578.5C 470.5,568.172 470.334,557.839 470.5,547.5C 500.5,547.5 530.5,547.5 560.5,547.5C 560.898,560.219 560.398,572.886 559,585.5C 558.801,587.402 557.967,588.902 556.5,590C 557.299,591.749 556.632,593.082 554.5,594C 554.081,599.285 551.414,603.452 546.5,606.5 Z",fill:"#2f2f2f",style:{fill:"#2f2f2f",fillRule:"evenodd",opacity:1}})}),u.jsx("g",{children:u.jsx("path",{d:"M 431.5,513.5 C 432.833,514.167 432.833,514.167 431.5,513.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 598.5,513.5 C 599.833,514.167 599.833,514.167 598.5,513.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 431.5,517.5 C 432.833,518.167 432.833,518.167 431.5,517.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 436.5,517.5 C 437.833,518.167 437.833,518.167 436.5,517.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 593.5,517.5 C 594.833,518.167 594.833,518.167 593.5,517.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 598.5,517.5 C 599.833,518.167 599.833,518.167 598.5,517.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 434.5,518.5 C 435.833,519.167 435.833,519.167 434.5,518.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 595.5,518.5 C 596.833,519.167 596.833,519.167 595.5,518.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 597.5,586.5 C 596.761,586.631 596.094,586.464 595.5,586C 596.437,585.308 597.103,585.475 597.5,586.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 597.5,586.5 C 598.833,587.167 598.833,587.167 597.5,586.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 593.5,587.5 C 594.833,588.167 594.833,588.167 593.5,587.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 596.5,588.5 C 597.833,589.167 597.833,589.167 596.5,588.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 594.5,589.5 C 595.833,590.167 595.833,590.167 594.5,589.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 590.5,603.5 C 591.833,604.167 591.833,604.167 590.5,603.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 442.5,609.5 C 441.833,608.167 441.833,608.167 442.5,609.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 442.5,609.5 C 443.239,609.369 443.906,609.536 444.5,610C 443.563,610.692 442.897,610.525 442.5,609.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 590.5,608.5 C 591.525,608.897 591.692,609.563 591,610.5C 590.536,609.906 590.369,609.239 590.5,608.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 586.5,613.5 C 587.833,614.167 587.833,614.167 586.5,613.5 Z",fill:"#ebeceb",style:{fill:"#ebeceb",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 588.5,615.5 C 588.897,614.475 589.563,614.308 590.5,615C 589.906,615.464 589.239,615.631 588.5,615.5 Z",fill:"#e5e5e5",style:{fill:"#e5e5e5",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 447.5,624.5 C 448.077,623.227 448.743,623.227 449.5,624.5C 449.03,625.463 448.363,625.463 447.5,624.5 Z",fill:"#e7e7e7",style:{fill:"#e7e7e7",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 581.5,623.5 C 584.001,623.511 584.168,624.178 582,625.5C 581.536,624.906 581.369,624.239 581.5,623.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 447.5,626.5 C 448.833,627.167 448.833,627.167 447.5,626.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 582.5,626.5 C 583.833,627.167 583.833,627.167 582.5,626.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 454.5,628.5 C 455.833,629.167 455.833,629.167 454.5,628.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 575.5,628.5 C 576.833,629.167 576.833,629.167 575.5,628.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 448.5,629.5 C 449.833,630.167 449.833,630.167 448.5,629.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 581.5,629.5 C 582.833,630.167 582.833,630.167 581.5,629.5 Z",fill:"#e1e2e1",style:{fill:"#e1e2e1",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 458.5,634.5 C 459.833,635.167 459.833,635.167 458.5,634.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 571.5,634.5 C 572.833,635.167 572.833,635.167 571.5,634.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 456.5,637.5 C 457.833,638.167 457.833,638.167 456.5,637.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 573.5,637.5 C 574.833,638.167 574.833,638.167 573.5,637.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 472.5,645.5 C 473.833,646.167 473.833,646.167 472.5,645.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 557.5,645.5 C 558.833,646.167 558.833,646.167 557.5,645.5 Z",fill:"#e0e1e0",style:{fill:"#e0e1e0",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 478.5,646.5 C 478.103,647.525 477.437,647.692 476.5,647C 477.094,646.536 477.761,646.369 478.5,646.5 Z",fill:"#e4e4e4",style:{fill:"#e4e4e4",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 552.5,646.5 C 553.239,646.369 553.906,646.536 554.5,647C 553.563,647.692 552.897,647.525 552.5,646.5 Z",fill:"#e8e8e8",style:{fill:"#e8e8e8",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 485.5,651.5 C 486.833,652.167 486.833,652.167 485.5,651.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 544.5,651.5 C 545.833,652.167 545.833,652.167 544.5,651.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 483.5,653.5 C 484.833,654.167 484.833,654.167 483.5,653.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 493.5,653.5 C 494.833,654.167 494.833,654.167 493.5,653.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 536.5,653.5 C 537.833,654.167 537.833,654.167 536.5,653.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 547.5,654.5 C 546.833,653.167 546.833,653.167 547.5,654.5 Z",fill:"#e2e3e2",style:{fill:"#e2e3e2",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 479.5,654.5 C 480.833,655.167 480.833,655.167 479.5,654.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})}),u.jsx("g",{children:u.jsx("path",{d:"M 483.5,654.5 C 482.833,655.167 482.833,655.167 483.5,654.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 547.5,654.5 C 548.833,655.167 548.833,655.167 547.5,654.5 Z",fill:"#ecedec",style:{fill:"#ecedec",fillRule:"evenodd",opacity:"0.01"}})}),u.jsx("g",{children:u.jsx("path",{d:"M 550.5,654.5 C 551.833,655.167 551.833,655.167 550.5,654.5 Z",fill:"#eaebea",style:{fill:"#eaebea",fillRule:"evenodd",opacity:0}})})]}),u.jsx("span",{children:"FreeFlow-Edu"})]}),u.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Sculpting Futures, Unleasing Knowledge: FreeFlow Edu, Where Learning Knows No Bounds!"}),u.jsx("h3",{className:"text-xl xl:text-2xl font-bold",children:"Register"}),u.jsxs("div",{className:"w-full flex-1 mt-8",children:[u.jsx("div",{className:"flex flex-col items-center ",children:u.jsxs("button",{onClick:this.signUpGoogle,className:"w-full max-w-xs font-bold shadow-sm rounded-lg py-3 bg-green-100 text-gray-800 flex items-center justify-center transition-all duration-300 ease-in-out focus:outline-none hover:shadow focus:shadow-sm focus:shadow-outline",children:[u.jsx("div",{className:"bg-white p-2 rounded-full",children:u.jsxs("svg",{className:"w-4",viewBox:"0 0 533.5 544.3",children:[u.jsx("path",{d:"M533.5 278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1 33.8-25.7 63.7-54.4 82.7v68h87.7c51.5-47.4 81.1-117.4 81.1-200.2z",fill:"#4285f4"}),u.jsx("path",{d:"M272.1 544.3c73.4 0 135.3-24.1 180.4-65.7l-87.7-68c-24.4 16.6-55.9 26-92.6 26-71 0-131.2-47.9-152.8-112.3H28.9v70.1c46.2 91.9 140.3 149.9 243.2 149.9z",fill:"#34a853"}),u.jsx("path",{d:"M119.3 324.3c-11.4-33.8-11.4-70.4 0-104.2V150H28.9c-38.6 76.9-38.6 167.5 0 244.4l90.4-70.1z",fill:"#fbbc04"}),u.jsx("path",{d:"M272.1 107.7c38.8-.6 76.3 14 104.4 40.8l77.7-77.7C405 24.6 339.7-.8 272.1 0 169.2 0 75.1 58 28.9 150l90.4 70.1c21.5-64.5 81.8-112.4 152.8-112.4z",fill:"#ea4335"})]})}),u.jsx("span",{className:"ml-4",children:" Sign up with G+"})]})}),u.jsx("div",{className:"my-12 border-b text-center",children:u.jsx("div",{className:"leading-none px-2 inline-block text-sm text-gray-600 tracking-wide font-medium bg-white transform translate-y-1/2",children:" Or sign up with e-mail"})}),u.jsxs("div",{className:"mx-auto max-w-xs",children:[u.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"email",placeholder:"Email",id:"t_email"}),u.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"username",placeholder:"Username",id:"t_username"}),u.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Password",id:"t_password"}),u.jsx("input",{onKeyUp:this.handleKeyPress,className:"w-full px-8 py-4 mb-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"password",placeholder:"Confirm Password",id:"t_confirm_password"}),u.jsxs("label",{className:"w-full py-2 inline-block",children:[u.jsx("input",{onKeyUp:this.handleKeyPress,type:"checkbox",id:"c_privacy"}),"  I agree to the ",u.jsx("a",{href:"privacy_policy.html",target:"_blank",children:"Privacy Policy"}),", and ",u.jsx("a",{href:"terms_and_conditions.html",target:"_blank",children:"Terms and Conditions"})," of FreeFlow Edu app."]}),u.jsx("br",{}),u.jsxs("label",{className:"w-full py-2 inline-block",children:[u.jsx("input",{type:"checkbox",name:"",id:"c_rmb_me"}),"  Remember me"]}),u.jsxs("button",{onClick:this.bRegister,className:"mt-5 mb-4 tracking-wide font-semibold bg-green-500 text-gray-100 w-full py-4 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",children:[u.jsxs("svg",{className:"w-6 h-6 -ml-2",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),u.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),u.jsx("path",{d:"M20 8v6M23 11h-6"})]}),u.jsx("span",{className:"ml-3 ",children:"Register"})]}),u.jsx(Xs,{className:"mb-2 mt-3 block",to:"../",children:"Already login?"})]})]})]})}),u.jsx("div",{className:"flex-1 bg-green-100 text-center hidden lg:flex",children:u.jsx("div",{className:"m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat",style:{backgroundImage:"url('https://drive.google.com/uc?export=view&id=1KZ_Ub_2lZ0dHbKV0fAIhxVhiQA183RCz')"}})})]})})}))}}/*! countries-list v3.0.6 by Annexare | MIT */var Lf={AD:{name:"Andorra",native:"Andorra",phone:[376],continent:"EU",capital:"Andorra la Vella",currency:["EUR"],languages:["ca"]},AE:{name:"United Arab Emirates",native:"دولة الإمارات العربية المتحدة",phone:[971],continent:"AS",capital:"Abu Dhabi",currency:["AED"],languages:["ar"]},AF:{name:"Afghanistan",native:"افغانستان",phone:[93],continent:"AS",capital:"Kabul",currency:["AFN"],languages:["ps","uz","tk"]},AG:{name:"Antigua and Barbuda",native:"Antigua and Barbuda",phone:[1268],continent:"NA",capital:"Saint John's",currency:["XCD"],languages:["en"]},AI:{name:"Anguilla",native:"Anguilla",phone:[1264],continent:"NA",capital:"The Valley",currency:["XCD"],languages:["en"]},AL:{name:"Albania",native:"Shqipëria",phone:[355],continent:"EU",capital:"Tirana",currency:["ALL"],languages:["sq"]},AM:{name:"Armenia",native:"Հայաստան",phone:[374],continent:"AS",capital:"Yerevan",currency:["AMD"],languages:["hy","ru"]},AO:{name:"Angola",native:"Angola",phone:[244],continent:"AF",capital:"Luanda",currency:["AOA"],languages:["pt"]},AQ:{name:"Antarctica",native:"Antarctica",phone:[672],continent:"AN",capital:"",currency:[],languages:[]},AR:{name:"Argentina",native:"Argentina",phone:[54],continent:"SA",capital:"Buenos Aires",currency:["ARS"],languages:["es","gn"]},AS:{name:"American Samoa",native:"American Samoa",phone:[1684],continent:"OC",capital:"Pago Pago",currency:["USD"],languages:["en","sm"]},AT:{name:"Austria",native:"Österreich",phone:[43],continent:"EU",capital:"Vienna",currency:["EUR"],languages:["de"]},AU:{name:"Australia",native:"Australia",phone:[61],continent:"OC",capital:"Canberra",currency:["AUD"],languages:["en"]},AW:{name:"Aruba",native:"Aruba",phone:[297],continent:"NA",capital:"Oranjestad",currency:["AWG"],languages:["nl","pa"]},AX:{name:"Aland",native:"Åland",phone:[358],continent:"EU",capital:"Mariehamn",currency:["EUR"],languages:["sv"]},AZ:{name:"Azerbaijan",native:"Azərbaycan",phone:[994],continent:"AS",continents:["AS","EU"],capital:"Baku",currency:["AZN"],languages:["az"]},BA:{name:"Bosnia and Herzegovina",native:"Bosna i Hercegovina",phone:[387],continent:"EU",capital:"Sarajevo",currency:["BAM"],languages:["bs","hr","sr"]},BB:{name:"Barbados",native:"Barbados",phone:[1246],continent:"NA",capital:"Bridgetown",currency:["BBD"],languages:["en"]},BD:{name:"Bangladesh",native:"Bangladesh",phone:[880],continent:"AS",capital:"Dhaka",currency:["BDT"],languages:["bn"]},BE:{name:"Belgium",native:"België",phone:[32],continent:"EU",capital:"Brussels",currency:["EUR"],languages:["nl","fr","de"]},BF:{name:"Burkina Faso",native:"Burkina Faso",phone:[226],continent:"AF",capital:"Ouagadougou",currency:["XOF"],languages:["fr","ff"]},BG:{name:"Bulgaria",native:"България",phone:[359],continent:"EU",capital:"Sofia",currency:["BGN"],languages:["bg"]},BH:{name:"Bahrain",native:"‏البحرين",phone:[973],continent:"AS",capital:"Manama",currency:["BHD"],languages:["ar"]},BI:{name:"Burundi",native:"Burundi",phone:[257],continent:"AF",capital:"Bujumbura",currency:["BIF"],languages:["fr","rn"]},BJ:{name:"Benin",native:"Bénin",phone:[229],continent:"AF",capital:"Porto-Novo",currency:["XOF"],languages:["fr"]},BL:{name:"Saint Barthelemy",native:"Saint-Barthélemy",phone:[590],continent:"NA",capital:"Gustavia",currency:["EUR"],languages:["fr"]},BM:{name:"Bermuda",native:"Bermuda",phone:[1441],continent:"NA",capital:"Hamilton",currency:["BMD"],languages:["en"]},BN:{name:"Brunei",native:"Negara Brunei Darussalam",phone:[673],continent:"AS",capital:"Bandar Seri Begawan",currency:["BND"],languages:["ms"]},BO:{name:"Bolivia",native:"Bolivia",phone:[591],continent:"SA",capital:"Sucre",currency:["BOB","BOV"],languages:["es","ay","qu"]},BQ:{name:"Bonaire",native:"Bonaire",phone:[5997],continent:"NA",capital:"Kralendijk",currency:["USD"],languages:["nl"]},BR:{name:"Brazil",native:"Brasil",phone:[55],continent:"SA",capital:"Brasília",currency:["BRL"],languages:["pt"]},BS:{name:"Bahamas",native:"Bahamas",phone:[1242],continent:"NA",capital:"Nassau",currency:["BSD"],languages:["en"]},BT:{name:"Bhutan",native:"ʼbrug-yul",phone:[975],continent:"AS",capital:"Thimphu",currency:["BTN","INR"],languages:["dz"]},BV:{name:"Bouvet Island",native:"Bouvetøya",phone:[47],continent:"AN",capital:"",currency:["NOK"],languages:["no","nb","nn"]},BW:{name:"Botswana",native:"Botswana",phone:[267],continent:"AF",capital:"Gaborone",currency:["BWP"],languages:["en","tn"]},BY:{name:"Belarus",native:"Белару́сь",phone:[375],continent:"EU",capital:"Minsk",currency:["BYN"],languages:["be","ru"]},BZ:{name:"Belize",native:"Belize",phone:[501],continent:"NA",capital:"Belmopan",currency:["BZD"],languages:["en","es"]},CA:{name:"Canada",native:"Canada",phone:[1],continent:"NA",capital:"Ottawa",currency:["CAD"],languages:["en","fr"]},CC:{name:"Cocos (Keeling) Islands",native:"Cocos (Keeling) Islands",phone:[61],continent:"AS",capital:"West Island",currency:["AUD"],languages:["en"]},CD:{name:"Democratic Republic of the Congo",native:"République démocratique du Congo",phone:[243],continent:"AF",capital:"Kinshasa",currency:["CDF"],languages:["fr","ln","kg","sw","lu"]},CF:{name:"Central African Republic",native:"Ködörösêse tî Bêafrîka",phone:[236],continent:"AF",capital:"Bangui",currency:["XAF"],languages:["fr","sg"]},CG:{name:"Republic of the Congo",native:"République du Congo",phone:[242],continent:"AF",capital:"Brazzaville",currency:["XAF"],languages:["fr","ln"]},CH:{name:"Switzerland",native:"Schweiz",phone:[41],continent:"EU",capital:"Bern",currency:["CHE","CHF","CHW"],languages:["de","fr","it"]},CI:{name:"Ivory Coast",native:"Côte d'Ivoire",phone:[225],continent:"AF",capital:"Yamoussoukro",currency:["XOF"],languages:["fr"]},CK:{name:"Cook Islands",native:"Cook Islands",phone:[682],continent:"OC",capital:"Avarua",currency:["NZD"],languages:["en"]},CL:{name:"Chile",native:"Chile",phone:[56],continent:"SA",capital:"Santiago",currency:["CLF","CLP"],languages:["es"]},CM:{name:"Cameroon",native:"Cameroon",phone:[237],continent:"AF",capital:"Yaoundé",currency:["XAF"],languages:["en","fr"]},CN:{name:"China",native:"中国",phone:[86],continent:"AS",capital:"Beijing",currency:["CNY"],languages:["zh"]},CO:{name:"Colombia",native:"Colombia",phone:[57],continent:"SA",capital:"Bogotá",currency:["COP"],languages:["es"]},CR:{name:"Costa Rica",native:"Costa Rica",phone:[506],continent:"NA",capital:"San José",currency:["CRC"],languages:["es"]},CU:{name:"Cuba",native:"Cuba",phone:[53],continent:"NA",capital:"Havana",currency:["CUC","CUP"],languages:["es"]},CV:{name:"Cape Verde",native:"Cabo Verde",phone:[238],continent:"AF",capital:"Praia",currency:["CVE"],languages:["pt"]},CW:{name:"Curacao",native:"Curaçao",phone:[5999],continent:"NA",capital:"Willemstad",currency:["ANG"],languages:["nl","pa","en"]},CX:{name:"Christmas Island",native:"Christmas Island",phone:[61],continent:"AS",capital:"Flying Fish Cove",currency:["AUD"],languages:["en"]},CY:{name:"Cyprus",native:"Κύπρος",phone:[357],continent:"EU",capital:"Nicosia",currency:["EUR"],languages:["el","tr","hy"]},CZ:{name:"Czech Republic",native:"Česká republika",phone:[420],continent:"EU",capital:"Prague",currency:["CZK"],languages:["cs"]},DE:{name:"Germany",native:"Deutschland",phone:[49],continent:"EU",capital:"Berlin",currency:["EUR"],languages:["de"]},DJ:{name:"Djibouti",native:"Djibouti",phone:[253],continent:"AF",capital:"Djibouti",currency:["DJF"],languages:["fr","ar"]},DK:{name:"Denmark",native:"Danmark",phone:[45],continent:"EU",continents:["EU","NA"],capital:"Copenhagen",currency:["DKK"],languages:["da"]},DM:{name:"Dominica",native:"Dominica",phone:[1767],continent:"NA",capital:"Roseau",currency:["XCD"],languages:["en"]},DO:{name:"Dominican Republic",native:"República Dominicana",phone:[1809,1829,1849],continent:"NA",capital:"Santo Domingo",currency:["DOP"],languages:["es"]},DZ:{name:"Algeria",native:"الجزائر",phone:[213],continent:"AF",capital:"Algiers",currency:["DZD"],languages:["ar"]},EC:{name:"Ecuador",native:"Ecuador",phone:[593],continent:"SA",capital:"Quito",currency:["USD"],languages:["es"]},EE:{name:"Estonia",native:"Eesti",phone:[372],continent:"EU",capital:"Tallinn",currency:["EUR"],languages:["et"]},EG:{name:"Egypt",native:"مصر‎",phone:[20],continent:"AF",continents:["AF","AS"],capital:"Cairo",currency:["EGP"],languages:["ar"]},EH:{name:"Western Sahara",native:"الصحراء الغربية",phone:[212],continent:"AF",capital:"El Aaiún",currency:["MAD","DZD","MRU"],languages:["es"]},ER:{name:"Eritrea",native:"ኤርትራ",phone:[291],continent:"AF",capital:"Asmara",currency:["ERN"],languages:["ti","ar","en"]},ES:{name:"Spain",native:"España",phone:[34],continent:"EU",capital:"Madrid",currency:["EUR"],languages:["es","eu","ca","gl","oc"]},ET:{name:"Ethiopia",native:"ኢትዮጵያ",phone:[251],continent:"AF",capital:"Addis Ababa",currency:["ETB"],languages:["am"]},FI:{name:"Finland",native:"Suomi",phone:[358],continent:"EU",capital:"Helsinki",currency:["EUR"],languages:["fi","sv"]},FJ:{name:"Fiji",native:"Fiji",phone:[679],continent:"OC",capital:"Suva",currency:["FJD"],languages:["en","fj","hi","ur"]},FK:{name:"Falkland Islands",native:"Falkland Islands",phone:[500],continent:"SA",capital:"Stanley",currency:["FKP"],languages:["en"]},FM:{name:"Micronesia",native:"Micronesia",phone:[691],continent:"OC",capital:"Palikir",currency:["USD"],languages:["en"]},FO:{name:"Faroe Islands",native:"Føroyar",phone:[298],continent:"EU",capital:"Tórshavn",currency:["DKK"],languages:["fo"]},FR:{name:"France",native:"France",phone:[33],continent:"EU",capital:"Paris",currency:["EUR"],languages:["fr"]},GA:{name:"Gabon",native:"Gabon",phone:[241],continent:"AF",capital:"Libreville",currency:["XAF"],languages:["fr"]},GB:{name:"United Kingdom",native:"United Kingdom",phone:[44],continent:"EU",capital:"London",currency:["GBP"],languages:["en"]},GD:{name:"Grenada",native:"Grenada",phone:[1473],continent:"NA",capital:"St. George's",currency:["XCD"],languages:["en"]},GE:{name:"Georgia",native:"საქართველო",phone:[995],continent:"AS",continents:["AS","EU"],capital:"Tbilisi",currency:["GEL"],languages:["ka"]},GF:{name:"French Guiana",native:"Guyane française",phone:[594],continent:"SA",capital:"Cayenne",currency:["EUR"],languages:["fr"]},GG:{name:"Guernsey",native:"Guernsey",phone:[44],continent:"EU",capital:"St. Peter Port",currency:["GBP"],languages:["en","fr"]},GH:{name:"Ghana",native:"Ghana",phone:[233],continent:"AF",capital:"Accra",currency:["GHS"],languages:["en"]},GI:{name:"Gibraltar",native:"Gibraltar",phone:[350],continent:"EU",capital:"Gibraltar",currency:["GIP"],languages:["en"]},GL:{name:"Greenland",native:"Kalaallit Nunaat",phone:[299],continent:"NA",capital:"Nuuk",currency:["DKK"],languages:["kl"]},GM:{name:"Gambia",native:"Gambia",phone:[220],continent:"AF",capital:"Banjul",currency:["GMD"],languages:["en"]},GN:{name:"Guinea",native:"Guinée",phone:[224],continent:"AF",capital:"Conakry",currency:["GNF"],languages:["fr","ff"]},GP:{name:"Guadeloupe",native:"Guadeloupe",phone:[590],continent:"NA",capital:"Basse-Terre",currency:["EUR"],languages:["fr"]},GQ:{name:"Equatorial Guinea",native:"Guinea Ecuatorial",phone:[240],continent:"AF",capital:"Malabo",currency:["XAF"],languages:["es","fr"]},GR:{name:"Greece",native:"Ελλάδα",phone:[30],continent:"EU",capital:"Athens",currency:["EUR"],languages:["el"]},GS:{name:"South Georgia and the South Sandwich Islands",native:"South Georgia",phone:[500],continent:"AN",capital:"King Edward Point",currency:["GBP"],languages:["en"]},GT:{name:"Guatemala",native:"Guatemala",phone:[502],continent:"NA",capital:"Guatemala City",currency:["GTQ"],languages:["es"]},GU:{name:"Guam",native:"Guam",phone:[1671],continent:"OC",capital:"Hagåtña",currency:["USD"],languages:["en","ch","es"]},GW:{name:"Guinea-Bissau",native:"Guiné-Bissau",phone:[245],continent:"AF",capital:"Bissau",currency:["XOF"],languages:["pt"]},GY:{name:"Guyana",native:"Guyana",phone:[592],continent:"SA",capital:"Georgetown",currency:["GYD"],languages:["en"]},HK:{name:"Hong Kong",native:"香港",phone:[852],continent:"AS",capital:"City of Victoria",currency:["HKD"],languages:["zh","en"]},HM:{name:"Heard Island and McDonald Islands",native:"Heard Island and McDonald Islands",phone:[61],continent:"AN",capital:"",currency:["AUD"],languages:["en"]},HN:{name:"Honduras",native:"Honduras",phone:[504],continent:"NA",capital:"Tegucigalpa",currency:["HNL"],languages:["es"]},HR:{name:"Croatia",native:"Hrvatska",phone:[385],continent:"EU",capital:"Zagreb",currency:["EUR"],languages:["hr"]},HT:{name:"Haiti",native:"Haïti",phone:[509],continent:"NA",capital:"Port-au-Prince",currency:["HTG","USD"],languages:["fr","ht"]},HU:{name:"Hungary",native:"Magyarország",phone:[36],continent:"EU",capital:"Budapest",currency:["HUF"],languages:["hu"]},ID:{name:"Indonesia",native:"Indonesia",phone:[62],continent:"AS",capital:"Jakarta",currency:["IDR"],languages:["id"]},IE:{name:"Ireland",native:"Éire",phone:[353],continent:"EU",capital:"Dublin",currency:["EUR"],languages:["ga","en"]},IL:{name:"Israel",native:"יִשְׂרָאֵל",phone:[972],continent:"AS",capital:"Jerusalem",currency:["ILS"],languages:["he","ar"]},IM:{name:"Isle of Man",native:"Isle of Man",phone:[44],continent:"EU",capital:"Douglas",currency:["GBP"],languages:["en","gv"]},IN:{name:"India",native:"भारत",phone:[91],continent:"AS",capital:"New Delhi",currency:["INR"],languages:["hi","en"]},IO:{name:"British Indian Ocean Territory",native:"British Indian Ocean Territory",phone:[246],continent:"AS",capital:"Diego Garcia",currency:["USD"],languages:["en"]},IQ:{name:"Iraq",native:"العراق",phone:[964],continent:"AS",capital:"Baghdad",currency:["IQD"],languages:["ar","ku"]},IR:{name:"Iran",native:"ایران",phone:[98],continent:"AS",capital:"Tehran",currency:["IRR"],languages:["fa"]},IS:{name:"Iceland",native:"Ísland",phone:[354],continent:"EU",capital:"Reykjavik",currency:["ISK"],languages:["is"]},IT:{name:"Italy",native:"Italia",phone:[39],continent:"EU",capital:"Rome",currency:["EUR"],languages:["it"]},JE:{name:"Jersey",native:"Jersey",phone:[44],continent:"EU",capital:"Saint Helier",currency:["GBP"],languages:["en","fr"]},JM:{name:"Jamaica",native:"Jamaica",phone:[1876],continent:"NA",capital:"Kingston",currency:["JMD"],languages:["en"]},JO:{name:"Jordan",native:"الأردن",phone:[962],continent:"AS",capital:"Amman",currency:["JOD"],languages:["ar"]},JP:{name:"Japan",native:"日本",phone:[81],continent:"AS",capital:"Tokyo",currency:["JPY"],languages:["ja"]},KE:{name:"Kenya",native:"Kenya",phone:[254],continent:"AF",capital:"Nairobi",currency:["KES"],languages:["en","sw"]},KG:{name:"Kyrgyzstan",native:"Кыргызстан",phone:[996],continent:"AS",capital:"Bishkek",currency:["KGS"],languages:["ky","ru"]},KH:{name:"Cambodia",native:"Kâmpŭchéa",phone:[855],continent:"AS",capital:"Phnom Penh",currency:["KHR"],languages:["km"]},KI:{name:"Kiribati",native:"Kiribati",phone:[686],continent:"OC",capital:"South Tarawa",currency:["AUD"],languages:["en"]},KM:{name:"Comoros",native:"Komori",phone:[269],continent:"AF",capital:"Moroni",currency:["KMF"],languages:["ar","fr"]},KN:{name:"Saint Kitts and Nevis",native:"Saint Kitts and Nevis",phone:[1869],continent:"NA",capital:"Basseterre",currency:["XCD"],languages:["en"]},KP:{name:"North Korea",native:"북한",phone:[850],continent:"AS",capital:"Pyongyang",currency:["KPW"],languages:["ko"]},KR:{name:"South Korea",native:"대한민국",phone:[82],continent:"AS",capital:"Seoul",currency:["KRW"],languages:["ko"]},KW:{name:"Kuwait",native:"الكويت",phone:[965],continent:"AS",capital:"Kuwait City",currency:["KWD"],languages:["ar"]},KY:{name:"Cayman Islands",native:"Cayman Islands",phone:[1345],continent:"NA",capital:"George Town",currency:["KYD"],languages:["en"]},KZ:{name:"Kazakhstan",native:"Қазақстан",phone:[76,77],continent:"AS",continents:["AS","EU"],capital:"Astana",currency:["KZT"],languages:["kk","ru"]},LA:{name:"Laos",native:"ສປປລາວ",phone:[856],continent:"AS",capital:"Vientiane",currency:["LAK"],languages:["lo"]},LB:{name:"Lebanon",native:"لبنان",phone:[961],continent:"AS",capital:"Beirut",currency:["LBP"],languages:["ar","fr"]},LC:{name:"Saint Lucia",native:"Saint Lucia",phone:[1758],continent:"NA",capital:"Castries",currency:["XCD"],languages:["en"]},LI:{name:"Liechtenstein",native:"Liechtenstein",phone:[423],continent:"EU",capital:"Vaduz",currency:["CHF"],languages:["de"]},LK:{name:"Sri Lanka",native:"śrī laṃkāva",phone:[94],continent:"AS",capital:"Colombo",currency:["LKR"],languages:["si","ta"]},LR:{name:"Liberia",native:"Liberia",phone:[231],continent:"AF",capital:"Monrovia",currency:["LRD"],languages:["en"]},LS:{name:"Lesotho",native:"Lesotho",phone:[266],continent:"AF",capital:"Maseru",currency:["LSL","ZAR"],languages:["en","st"]},LT:{name:"Lithuania",native:"Lietuva",phone:[370],continent:"EU",capital:"Vilnius",currency:["EUR"],languages:["lt"]},LU:{name:"Luxembourg",native:"Luxembourg",phone:[352],continent:"EU",capital:"Luxembourg",currency:["EUR"],languages:["fr","de","lb"]},LV:{name:"Latvia",native:"Latvija",phone:[371],continent:"EU",capital:"Riga",currency:["EUR"],languages:["lv"]},LY:{name:"Libya",native:"‏ليبيا",phone:[218],continent:"AF",capital:"Tripoli",currency:["LYD"],languages:["ar"]},MA:{name:"Morocco",native:"المغرب",phone:[212],continent:"AF",capital:"Rabat",currency:["MAD"],languages:["ar"]},MC:{name:"Monaco",native:"Monaco",phone:[377],continent:"EU",capital:"Monaco",currency:["EUR"],languages:["fr"]},MD:{name:"Moldova",native:"Moldova",phone:[373],continent:"EU",capital:"Chișinău",currency:["MDL"],languages:["ro"]},ME:{name:"Montenegro",native:"Црна Гора",phone:[382],continent:"EU",capital:"Podgorica",currency:["EUR"],languages:["sr","bs","sq","hr"]},MF:{name:"Saint Martin",native:"Saint-Martin",phone:[590],continent:"NA",capital:"Marigot",currency:["EUR"],languages:["en","fr","nl"]},MG:{name:"Madagascar",native:"Madagasikara",phone:[261],continent:"AF",capital:"Antananarivo",currency:["MGA"],languages:["fr","mg"]},MH:{name:"Marshall Islands",native:"M̧ajeļ",phone:[692],continent:"OC",capital:"Majuro",currency:["USD"],languages:["en","mh"]},MK:{name:"North Macedonia",native:"Северна Македонија",phone:[389],continent:"EU",capital:"Skopje",currency:["MKD"],languages:["mk"]},ML:{name:"Mali",native:"Mali",phone:[223],continent:"AF",capital:"Bamako",currency:["XOF"],languages:["fr"]},MM:{name:"Myanmar (Burma)",native:"မြန်မာ",phone:[95],continent:"AS",capital:"Naypyidaw",currency:["MMK"],languages:["my"]},MN:{name:"Mongolia",native:"Монгол улс",phone:[976],continent:"AS",capital:"Ulan Bator",currency:["MNT"],languages:["mn"]},MO:{name:"Macao",native:"澳門",phone:[853],continent:"AS",capital:"",currency:["MOP"],languages:["zh","pt"]},MP:{name:"Northern Mariana Islands",native:"Northern Mariana Islands",phone:[1670],continent:"OC",capital:"Saipan",currency:["USD"],languages:["en","ch"]},MQ:{name:"Martinique",native:"Martinique",phone:[596],continent:"NA",capital:"Fort-de-France",currency:["EUR"],languages:["fr"]},MR:{name:"Mauritania",native:"موريتانيا",phone:[222],continent:"AF",capital:"Nouakchott",currency:["MRU"],languages:["ar"]},MS:{name:"Montserrat",native:"Montserrat",phone:[1664],continent:"NA",capital:"Plymouth",currency:["XCD"],languages:["en"]},MT:{name:"Malta",native:"Malta",phone:[356],continent:"EU",capital:"Valletta",currency:["EUR"],languages:["mt","en"]},MU:{name:"Mauritius",native:"Maurice",phone:[230],continent:"AF",capital:"Port Louis",currency:["MUR"],languages:["en"]},MV:{name:"Maldives",native:"Maldives",phone:[960],continent:"AS",capital:"Malé",currency:["MVR"],languages:["dv"]},MW:{name:"Malawi",native:"Malawi",phone:[265],continent:"AF",capital:"Lilongwe",currency:["MWK"],languages:["en","ny"]},MX:{name:"Mexico",native:"México",phone:[52],continent:"NA",capital:"Mexico City",currency:["MXN"],languages:["es"]},MY:{name:"Malaysia",native:"Malaysia",phone:[60],continent:"AS",capital:"Kuala Lumpur",currency:["MYR"],languages:["ms"]},MZ:{name:"Mozambique",native:"Moçambique",phone:[258],continent:"AF",capital:"Maputo",currency:["MZN"],languages:["pt"]},NA:{name:"Namibia",native:"Namibia",phone:[264],continent:"AF",capital:"Windhoek",currency:["NAD","ZAR"],languages:["en","af"]},NC:{name:"New Caledonia",native:"Nouvelle-Calédonie",phone:[687],continent:"OC",capital:"Nouméa",currency:["XPF"],languages:["fr"]},NE:{name:"Niger",native:"Niger",phone:[227],continent:"AF",capital:"Niamey",currency:["XOF"],languages:["fr"]},NF:{name:"Norfolk Island",native:"Norfolk Island",phone:[672],continent:"OC",capital:"Kingston",currency:["AUD"],languages:["en"]},NG:{name:"Nigeria",native:"Nigeria",phone:[234],continent:"AF",capital:"Abuja",currency:["NGN"],languages:["en"]},NI:{name:"Nicaragua",native:"Nicaragua",phone:[505],continent:"NA",capital:"Managua",currency:["NIO"],languages:["es"]},NL:{name:"Netherlands",native:"Nederland",phone:[31],continent:"EU",capital:"Amsterdam",currency:["EUR"],languages:["nl"]},NO:{name:"Norway",native:"Norge",phone:[47],continent:"EU",capital:"Oslo",currency:["NOK"],languages:["no","nb","nn"]},NP:{name:"Nepal",native:"नेपाल",phone:[977],continent:"AS",capital:"Kathmandu",currency:["NPR"],languages:["ne"]},NR:{name:"Nauru",native:"Nauru",phone:[674],continent:"OC",capital:"Yaren",currency:["AUD"],languages:["en","na"]},NU:{name:"Niue",native:"Niuē",phone:[683],continent:"OC",capital:"Alofi",currency:["NZD"],languages:["en"]},NZ:{name:"New Zealand",native:"New Zealand",phone:[64],continent:"OC",capital:"Wellington",currency:["NZD"],languages:["en","mi"]},OM:{name:"Oman",native:"عمان",phone:[968],continent:"AS",capital:"Muscat",currency:["OMR"],languages:["ar"]},PA:{name:"Panama",native:"Panamá",phone:[507],continent:"NA",capital:"Panama City",currency:["PAB","USD"],languages:["es"]},PE:{name:"Peru",native:"Perú",phone:[51],continent:"SA",capital:"Lima",currency:["PEN"],languages:["es"]},PF:{name:"French Polynesia",native:"Polynésie française",phone:[689],continent:"OC",capital:"Papeetē",currency:["XPF"],languages:["fr"]},PG:{name:"Papua New Guinea",native:"Papua Niugini",phone:[675],continent:"OC",capital:"Port Moresby",currency:["PGK"],languages:["en"]},PH:{name:"Philippines",native:"Pilipinas",phone:[63],continent:"AS",capital:"Manila",currency:["PHP"],languages:["en"]},PK:{name:"Pakistan",native:"Pakistan",phone:[92],continent:"AS",capital:"Islamabad",currency:["PKR"],languages:["en","ur"]},PL:{name:"Poland",native:"Polska",phone:[48],continent:"EU",capital:"Warsaw",currency:["PLN"],languages:["pl"]},PM:{name:"Saint Pierre and Miquelon",native:"Saint-Pierre-et-Miquelon",phone:[508],continent:"NA",capital:"Saint-Pierre",currency:["EUR"],languages:["fr"]},PN:{name:"Pitcairn Islands",native:"Pitcairn Islands",phone:[64],continent:"OC",capital:"Adamstown",currency:["NZD"],languages:["en"]},PR:{name:"Puerto Rico",native:"Puerto Rico",phone:[1787,1939],continent:"NA",capital:"San Juan",currency:["USD"],languages:["es","en"]},PS:{name:"Palestine",native:"فلسطين",phone:[970],continent:"AS",capital:"Ramallah",currency:["ILS"],languages:["ar"]},PT:{name:"Portugal",native:"Portugal",phone:[351],continent:"EU",capital:"Lisbon",currency:["EUR"],languages:["pt"]},PW:{name:"Palau",native:"Palau",phone:[680],continent:"OC",capital:"Ngerulmud",currency:["USD"],languages:["en"]},PY:{name:"Paraguay",native:"Paraguay",phone:[595],continent:"SA",capital:"Asunción",currency:["PYG"],languages:["es","gn"]},QA:{name:"Qatar",native:"قطر",phone:[974],continent:"AS",capital:"Doha",currency:["QAR"],languages:["ar"]},RE:{name:"Reunion",native:"La Réunion",phone:[262],continent:"AF",capital:"Saint-Denis",currency:["EUR"],languages:["fr"]},RO:{name:"Romania",native:"România",phone:[40],continent:"EU",capital:"Bucharest",currency:["RON"],languages:["ro"]},RS:{name:"Serbia",native:"Србија",phone:[381],continent:"EU",capital:"Belgrade",currency:["RSD"],languages:["sr"]},RU:{name:"Russia",native:"Россия",phone:[7],continent:"AS",continents:["AS","EU"],capital:"Moscow",currency:["RUB"],languages:["ru"]},RW:{name:"Rwanda",native:"Rwanda",phone:[250],continent:"AF",capital:"Kigali",currency:["RWF"],languages:["rw","en","fr"]},SA:{name:"Saudi Arabia",native:"العربية السعودية",phone:[966],continent:"AS",capital:"Riyadh",currency:["SAR"],languages:["ar"]},SB:{name:"Solomon Islands",native:"Solomon Islands",phone:[677],continent:"OC",capital:"Honiara",currency:["SBD"],languages:["en"]},SC:{name:"Seychelles",native:"Seychelles",phone:[248],continent:"AF",capital:"Victoria",currency:["SCR"],languages:["fr","en"]},SD:{name:"Sudan",native:"السودان",phone:[249],continent:"AF",capital:"Khartoum",currency:["SDG"],languages:["ar","en"]},SE:{name:"Sweden",native:"Sverige",phone:[46],continent:"EU",capital:"Stockholm",currency:["SEK"],languages:["sv"]},SG:{name:"Singapore",native:"Singapore",phone:[65],continent:"AS",capital:"Singapore",currency:["SGD"],languages:["en","ms","ta","zh"]},SH:{name:"Saint Helena",native:"Saint Helena",phone:[290],continent:"AF",capital:"Jamestown",currency:["SHP"],languages:["en"]},SI:{name:"Slovenia",native:"Slovenija",phone:[386],continent:"EU",capital:"Ljubljana",currency:["EUR"],languages:["sl"]},SJ:{name:"Svalbard and Jan Mayen",native:"Svalbard og Jan Mayen",phone:[4779],continent:"EU",capital:"Longyearbyen",currency:["NOK"],languages:["no"]},SK:{name:"Slovakia",native:"Slovensko",phone:[421],continent:"EU",capital:"Bratislava",currency:["EUR"],languages:["sk"]},SL:{name:"Sierra Leone",native:"Sierra Leone",phone:[232],continent:"AF",capital:"Freetown",currency:["SLL"],languages:["en"]},SM:{name:"San Marino",native:"San Marino",phone:[378],continent:"EU",capital:"City of San Marino",currency:["EUR"],languages:["it"]},SN:{name:"Senegal",native:"Sénégal",phone:[221],continent:"AF",capital:"Dakar",currency:["XOF"],languages:["fr"]},SO:{name:"Somalia",native:"Soomaaliya",phone:[252],continent:"AF",capital:"Mogadishu",currency:["SOS"],languages:["so","ar"]},SR:{name:"Suriname",native:"Suriname",phone:[597],continent:"SA",capital:"Paramaribo",currency:["SRD"],languages:["nl"]},SS:{name:"South Sudan",native:"South Sudan",phone:[211],continent:"AF",capital:"Juba",currency:["SSP"],languages:["en"]},ST:{name:"Sao Tome and Principe",native:"São Tomé e Príncipe",phone:[239],continent:"AF",capital:"São Tomé",currency:["STN"],languages:["pt"]},SV:{name:"El Salvador",native:"El Salvador",phone:[503],continent:"NA",capital:"San Salvador",currency:["SVC","USD"],languages:["es"]},SX:{name:"Sint Maarten",native:"Sint Maarten",phone:[1721],continent:"NA",capital:"Philipsburg",currency:["ANG"],languages:["nl","en"]},SY:{name:"Syria",native:"سوريا",phone:[963],continent:"AS",capital:"Damascus",currency:["SYP"],languages:["ar"]},SZ:{name:"Eswatini",native:"Eswatini",phone:[268],continent:"AF",capital:"Lobamba",currency:["SZL"],languages:["en","ss"]},TC:{name:"Turks and Caicos Islands",native:"Turks and Caicos Islands",phone:[1649],continent:"NA",capital:"Cockburn Town",currency:["USD"],languages:["en"]},TD:{name:"Chad",native:"Tchad",phone:[235],continent:"AF",capital:"N'Djamena",currency:["XAF"],languages:["fr","ar"]},TF:{name:"French Southern Territories",native:"Territoire des Terres australes et antarctiques fr",phone:[262],continent:"AN",capital:"Port-aux-Français",currency:["EUR"],languages:["fr"]},TG:{name:"Togo",native:"Togo",phone:[228],continent:"AF",capital:"Lomé",currency:["XOF"],languages:["fr"]},TH:{name:"Thailand",native:"ประเทศไทย",phone:[66],continent:"AS",capital:"Bangkok",currency:["THB"],languages:["th"]},TJ:{name:"Tajikistan",native:"Тоҷикистон",phone:[992],continent:"AS",capital:"Dushanbe",currency:["TJS"],languages:["tg","ru"]},TK:{name:"Tokelau",native:"Tokelau",phone:[690],continent:"OC",capital:"Fakaofo",currency:["NZD"],languages:["en"]},TL:{name:"East Timor",native:"Timor-Leste",phone:[670],continent:"OC",capital:"Dili",currency:["USD"],languages:["pt"]},TM:{name:"Turkmenistan",native:"Türkmenistan",phone:[993],continent:"AS",capital:"Ashgabat",currency:["TMT"],languages:["tk","ru"]},TN:{name:"Tunisia",native:"تونس",phone:[216],continent:"AF",capital:"Tunis",currency:["TND"],languages:["ar"]},TO:{name:"Tonga",native:"Tonga",phone:[676],continent:"OC",capital:"Nuku'alofa",currency:["TOP"],languages:["en","to"]},TR:{name:"Turkey",native:"Türkiye",phone:[90],continent:"AS",continents:["AS","EU"],capital:"Ankara",currency:["TRY"],languages:["tr"]},TT:{name:"Trinidad and Tobago",native:"Trinidad and Tobago",phone:[1868],continent:"NA",capital:"Port of Spain",currency:["TTD"],languages:["en"]},TV:{name:"Tuvalu",native:"Tuvalu",phone:[688],continent:"OC",capital:"Funafuti",currency:["AUD"],languages:["en"]},TW:{name:"Taiwan",native:"臺灣",phone:[886],continent:"AS",capital:"Taipei",currency:["TWD"],languages:["zh"]},TZ:{name:"Tanzania",native:"Tanzania",phone:[255],continent:"AF",capital:"Dodoma",currency:["TZS"],languages:["sw","en"]},UA:{name:"Ukraine",native:"Україна",phone:[380],continent:"EU",capital:"Kyiv",currency:["UAH"],languages:["uk"]},UG:{name:"Uganda",native:"Uganda",phone:[256],continent:"AF",capital:"Kampala",currency:["UGX"],languages:["en","sw"]},UM:{name:"U.S. Minor Outlying Islands",native:"United States Minor Outlying Islands",phone:[1],continent:"OC",capital:"",currency:["USD"],languages:["en"]},US:{name:"United States",native:"United States",phone:[1],continent:"NA",capital:"Washington D.C.",currency:["USD","USN","USS"],languages:["en"]},UY:{name:"Uruguay",native:"Uruguay",phone:[598],continent:"SA",capital:"Montevideo",currency:["UYI","UYU"],languages:["es"]},UZ:{name:"Uzbekistan",native:"O'zbekiston",phone:[998],continent:"AS",capital:"Tashkent",currency:["UZS"],languages:["uz","ru"]},VA:{name:"Vatican City",native:"Vaticano",phone:[379],continent:"EU",capital:"Vatican City",currency:["EUR"],languages:["it","la"]},VC:{name:"Saint Vincent and the Grenadines",native:"Saint Vincent and the Grenadines",phone:[1784],continent:"NA",capital:"Kingstown",currency:["XCD"],languages:["en"]},VE:{name:"Venezuela",native:"Venezuela",phone:[58],continent:"SA",capital:"Caracas",currency:["VES"],languages:["es"]},VG:{name:"British Virgin Islands",native:"British Virgin Islands",phone:[1284],continent:"NA",capital:"Road Town",currency:["USD"],languages:["en"]},VI:{name:"U.S. Virgin Islands",native:"United States Virgin Islands",phone:[1340],continent:"NA",capital:"Charlotte Amalie",currency:["USD"],languages:["en"]},VN:{name:"Vietnam",native:"Việt Nam",phone:[84],continent:"AS",capital:"Hanoi",currency:["VND"],languages:["vi"]},VU:{name:"Vanuatu",native:"Vanuatu",phone:[678],continent:"OC",capital:"Port Vila",currency:["VUV"],languages:["bi","en","fr"]},WF:{name:"Wallis and Futuna",native:"Wallis et Futuna",phone:[681],continent:"OC",capital:"Mata-Utu",currency:["XPF"],languages:["fr"]},WS:{name:"Samoa",native:"Samoa",phone:[685],continent:"OC",capital:"Apia",currency:["WST"],languages:["sm","en"]},XK:{name:"Kosovo",native:"Republika e Kosovës",phone:[377,381,383,386],continent:"EU",capital:"Pristina",currency:["EUR"],languages:["sq","sr"]},YE:{name:"Yemen",native:"اليَمَن",phone:[967],continent:"AS",capital:"Sana'a",currency:["YER"],languages:["ar"]},YT:{name:"Mayotte",native:"Mayotte",phone:[262],continent:"AF",capital:"Mamoudzou",currency:["EUR"],languages:["fr"]},ZA:{name:"South Africa",native:"South Africa",phone:[27],continent:"AF",capital:"Pretoria",currency:["ZAR"],languages:["af","en","nr","st","ss","tn","ts","ve","xh","zu"]},ZM:{name:"Zambia",native:"Zambia",phone:[260],continent:"AF",capital:"Lusaka",currency:["ZMW"],languages:["en"]},ZW:{name:"Zimbabwe",native:"Zimbabwe",phone:[263],continent:"AF",capital:"Harare",currency:["USD","ZAR","BWP","GBP","AUD","CNY","INR","JPY"],languages:["en","sn","nd"]}},pU={AD:"AND",AE:"ARE",AF:"AFG",AG:"ATG",AI:"AIA",AL:"ALB",AM:"ARM",AO:"AGO",AQ:"ATA",AR:"ARG",AS:"ASM",AT:"AUT",AU:"AUS",AW:"ABW",AX:"ALA",AZ:"AZE",BA:"BIH",BB:"BRB",BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BH:"BHR",BI:"BDI",BJ:"BEN",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BQ:"BES",BR:"BRA",BS:"BHS",BT:"BTN",BV:"BVT",BW:"BWA",BY:"BLR",BZ:"BLZ",CA:"CAN",CC:"CCK",CD:"COD",CF:"CAF",CG:"COG",CH:"CHE",CI:"CIV",CK:"COK",CL:"CHL",CM:"CMR",CN:"CHN",CO:"COL",CR:"CRI",CU:"CUB",CV:"CPV",CW:"CUW",CX:"CXR",CY:"CYP",CZ:"CZE",DE:"DEU",DJ:"DJI",DK:"DNK",DM:"DMA",DO:"DOM",DZ:"DZA",EC:"ECU",EE:"EST",EG:"EGY",EH:"ESH",ER:"ERI",ES:"ESP",ET:"ETH",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",FR:"FRA",GA:"GAB",GB:"GBR",GD:"GRD",GE:"GEO",GF:"GUF",GG:"GGY",GH:"GHA",GI:"GIB",GL:"GRL",GM:"GMB",GN:"GIN",GP:"GLP",GQ:"GNQ",GR:"GRC",GS:"SGS",GT:"GTM",GU:"GUM",GW:"GNB",GY:"GUY",HK:"HKG",HM:"HMD",HN:"HND",HR:"HRV",HT:"HTI",HU:"HUN",ID:"IDN",IE:"IRL",IL:"ISR",IM:"IMN",IN:"IND",IO:"IOT",IQ:"IRQ",IR:"IRN",IS:"ISL",IT:"ITA",JE:"JEY",JM:"JAM",JO:"JOR",JP:"JPN",KE:"KEN",KG:"KGZ",KH:"KHM",KI:"KIR",KM:"COM",KN:"KNA",KP:"PRK",KR:"KOR",KW:"KWT",KY:"CYM",KZ:"KAZ",LA:"LAO",LB:"LBN",LC:"LCA",LI:"LIE",LK:"LKA",LR:"LBR",LS:"LSO",LT:"LTU",LU:"LUX",LV:"LVA",LY:"LBY",MA:"MAR",MC:"MCO",MD:"MDA",ME:"MNE",MF:"MAF",MG:"MDG",MH:"MHL",MK:"MKD",ML:"MLI",MM:"MMR",MN:"MNG",MO:"MAC",MP:"MNP",MQ:"MTQ",MR:"MRT",MS:"MSR",MT:"MLT",MU:"MUS",MV:"MDV",MW:"MWI",MX:"MEX",MY:"MYS",MZ:"MOZ",NA:"NAM",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NI:"NIC",NL:"NLD",NO:"NOR",NP:"NPL",NR:"NRU",NU:"NIU",NZ:"NZL",OM:"OMN",PA:"PAN",PE:"PER",PF:"PYF",PG:"PNG",PH:"PHL",PK:"PAK",PL:"POL",PM:"SPM",PN:"PCN",PR:"PRI",PS:"PSE",PT:"PRT",PW:"PLW",PY:"PRY",QA:"QAT",RE:"REU",RO:"ROU",RS:"SRB",RU:"RUS",RW:"RWA",SA:"SAU",SB:"SLB",SC:"SYC",SD:"SDN",SE:"SWE",SG:"SGP",SH:"SHN",SI:"SVN",SJ:"SJM",SK:"SVK",SL:"SLE",SM:"SMR",SN:"SEN",SO:"SOM",SR:"SUR",SS:"SSD",ST:"STP",SV:"SLV",SX:"SXM",SY:"SYR",SZ:"SWZ",TC:"TCA",TD:"TCD",TF:"ATF",TG:"TGO",TH:"THA",TJ:"TJK",TK:"TKL",TL:"TLS",TM:"TKM",TN:"TUN",TO:"TON",TR:"TUR",TT:"TTO",TV:"TUV",TW:"TWN",TZ:"TZA",UA:"UKR",UG:"UGA",UM:"UMI",US:"USA",UY:"URY",UZ:"UZB",VA:"VAT",VC:"VCT",VE:"VEN",VG:"VGB",VI:"VIR",VN:"VNM",VU:"VUT",WF:"WLF",WS:"WSM",XK:"XKX",YE:"YEM",YT:"MYT",ZA:"ZAF",ZM:"ZMB",ZW:"ZWE"},gU=t=>({...Lf[t],iso2:t,iso3:pU[t]}),mU=()=>Object.keys(Lf).map(t=>gU(t));mU();const yU={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},vU=ao(yU),_U=fa(vU);class wU extends ee.Component{constructor(n){super(n);at(this,"handleKeyPress",n=>{n.key=="Enter"&&console.log("enter")});at(this,"updateState",(n,r)=>{this.setState({[n]:r,currentQuestion:this.state.currentQuestion+1})});at(this,"uploadData",async()=>{try{const n=await EO(dn(_U,"Users",this.state.user.uid),{role:this.state.role,recommendBy:this.state.recommendBy,eduLvl:this.state.eduLvl,country:this.state.country,displayName:this.state.user.displayName,email:this.state.user.email,photoURL:this.state.user.photoURL})}catch(n){console.log("Error adding document of first-time login user: ",n)}});console.log(n.state.user),this.state={user:n.state.user,currentQuestion:1,role:null,recommendBy:null,eduLvl:null,country:null};let r=["-- Please Select --"];for(let i in Lf)r.push(Lf[i].name);r.sort(),this.data=[{id:1,answering:"role",question:"I am a ...",options:["student","teacher","special needy / refugee / disabilities","public"]},{id:2,answering:"recommendBy",question:"Who recommend me to this platform?",options:["friends","family","school","social media","others"]},{id:3,answering:"eduLvl",question:"I am currently in ...",options:["primary school","secondary school","high school","undergraduate","postgraduate","workplace"]},{id:4,answering:"country",question:"I am from ...",options:r}]}render(){console.log(this.state);const n=il(this.data)?[]:this.data.map((r,i)=>{const s=il(r.options)?[]:r.options.map((o,a)=>r.options.length<10?u.jsx("button",{className:"w-[80vw] xl:text-3xl text-xl inline-block rounded-lg border-2 border-neutral-300 px-6 pb-[6px] pt-2 font-medium leading-normal text-neutral-800 transition duration-150 ease-in-out hover:border-neutral-800 hover:bg-neutral-500 hover:bg-opacity-30 hover:text-neutral-800 focus:border-neutral-800 focus:text-neutral-800 focus:outline-none focus:ring-0 active:border-neutral-900 active:bg-neutral-500 active:text-neutral-900 dark:border-neutral-900 dark:text-neutral-900 dark:hover:border-neutral-900 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10 dark:hover:text-neutral-900 dark:focus:border-neutral-900 dark:focus:text-neutral-900 dark:active:border-neutral-900 dark:active:text-neutral-900 max-w-screen-xl text-3xl h-[10vh] max-h-screen-md my-12",onClick:()=>this.updateState(r.answering,o),value:o,children:o},o):u.jsx("option",{value:o,children:o},o));return u.jsxs("div",{className:"relative h-[70vh] w-full",style:{display:r.id===this.state.currentQuestion?"inherit":"none"},children:[u.jsx("h1",{className:"justify-center flex text-4xl font-bold",children:r.question}),r.options.length<10?u.jsx("div",{className:"h-full flex items-center justify-center grid grid-rows-6",children:s}):u.jsx("div",{className:"h-full w-full flex items-center justify-center grid grid-rows-6",children:u.jsx("select",{id:"s_country",onChange:()=>$("#s_country").val()!=="-- Please Select --"?this.updateState("country",$("#s_country").val()):alert("Please select your origin."),children:s})})]},r.id)});return this.state.currentQuestion>4?(console.log("End of survey"),this.uploadData(),u.jsx(_v,{to:"/freeflow-edu/"})):u.jsx(u.Fragment,{children:n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebasestorage.googleapis.com",lA="storageBucket",xU=2*60*1e3,bU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends ji{constructor(e,n,r=0){super(Vg(e),`Firebase Storage: ${n} (${Vg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function Vg(t){return"storage/"+t}function G_(){const t="An unknown error occurred, please check the error payload for server response.";return new Nt(Pt.UNKNOWN,t)}function EU(t){return new Nt(Pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function SU(t){return new Nt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nt(Pt.UNAUTHENTICATED,t)}function AU(){return new Nt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kU(t){return new Nt(Pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function TU(){return new Nt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function CU(){return new Nt(Pt.CANCELED,"User canceled the upload/download.")}function RU(t){return new Nt(Pt.INVALID_URL,"Invalid URL '"+t+"'.")}function PU(t){return new Nt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function NU(){return new Nt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lA+"' property when initializing the app?")}function MU(){return new Nt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LU(){return new Nt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DU(t){return new Nt(Pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function o1(t){return new Nt(Pt.INVALID_ARGUMENT,t)}function cA(){return new Nt(Pt.APP_DELETED,"The Firebase app was deleted.")}function OU(t){return new Nt(Pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(t,e){return new Nt(Pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _c(t){throw new Nt(Pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_r.makeFromUrl(e,n)}catch{return new _r(e,"")}if(r.path==="")return r;throw PU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",w=new RegExp(`^https?://${f}/${h}/b/${i}/o${v}`,"i"),S={bucket:1,path:3},b=n===aA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",x=new RegExp(`^https?://${b}/${i}/${A}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:w,indices:S,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<y.length;P++){const N=y[P],O=N.regex.exec(e);if(O){const U=O[N.indices.bucket];let F=O[N.indices.path];F||(F=""),r=new _r(U,F),N.postModify(r);break}}if(r==null)throw RU(e);return r}}class BU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...A){c||(c=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,t(w,l())},A)}function v(){s&&clearTimeout(s)}function w(A,...x){if(c){v();return}if(A){v(),h.call(null,A,...x);return}if(l()||o){v(),h.call(null,A,...x);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,f(y)}let S=!1;function b(A){S||(S=!0,v(),!c&&(i!==null?(A||(a=2),clearTimeout(i),f(0)):A||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function UU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){return t!==void 0}function VU(t){return typeof t=="object"&&!Array.isArray(t)}function Z_(t){return typeof t=="string"||t instanceof String}function H5(t){return Q_()&&t instanceof Blob}function Q_(){return typeof Blob<"u"&&!$8()}function q5(t,e,n,r){if(r<e)throw o1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw o1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jo||(jo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n,r,i,s,o,a,l,c,h,f,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ed(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===jo.NO_ERROR,l=s.getStatus();if(!a||$U(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===jo.ABORT;r(!1,new ed(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new ed(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());FU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=G_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?cA():CU();o(l)}else{const l=TU();o(l)}};this.canceled_?n(!1,new ed(!1,null,!0)):this.backoffId_=jU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ed{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function GU(t,e,n,r,i,s,o=!0){const a=uA(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return WU(c,e),HU(c,n),qU(c,s),KU(c,r),new zU(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QU(...t){const e=ZU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Q_())return new Blob(t);throw new Nt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){if(typeof atob>"u")throw DU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $g{constructor(e,n){this.data=e,this.contentType=n||null}}function JU(t,e){switch(t){case bi.RAW:return new $g(hA(e));case bi.BASE64:case bi.BASE64URL:return new $g(dA(t,e));case bi.DATA_URL:return new $g(tF(e),nF(e))}throw G_()}function hA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eF(t){let e;try{e=decodeURIComponent(t)}catch{throw nu(bi.DATA_URL,"Malformed data URL.")}return hA(e)}function dA(t,e){switch(t){case bi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw nu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw nu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=XU(e)}catch(i){throw i.message.includes("polyfill")?i:nu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class fA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nu(bi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tF(t){const e=new fA(t);return e.base64?dA(bi.BASE64,e.rest):eF(e.rest)}function nF(t){return new fA(t).contentType}function rF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){let r=0,i="";H5(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(H5(this.data_)){const r=this.data_,i=YU(r,e,n);return i===null?null:new Rs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Rs(r,!0)}}static getBlob(...e){if(Q_()){const n=e.map(r=>r instanceof Rs?r.data_:r);return new Rs(QU.apply(null,n))}else{const n=e.map(o=>Z_(o)?JU(bi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Rs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){let e;try{e=JSON.parse(t)}catch{return null}return VU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function gA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t,e){return e}class Kn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||oF}}let td=null;function aF(t){return!Z_(t)||t.length<2?t:gA(t)}function mA(){if(td)return td;const t=[];t.push(new Kn("bucket")),t.push(new Kn("generation")),t.push(new Kn("metageneration")),t.push(new Kn("name","fullPath",!0));function e(s,o){return aF(o)}const n=new Kn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Kn("size");return i.xform=r,t.push(i),t.push(new Kn("timeCreated")),t.push(new Kn("updated")),t.push(new Kn("md5Hash",null,!0)),t.push(new Kn("cacheControl",null,!0)),t.push(new Kn("contentDisposition",null,!0)),t.push(new Kn("contentEncoding",null,!0)),t.push(new Kn("contentLanguage",null,!0)),t.push(new Kn("contentType",null,!0)),t.push(new Kn("metadata","customMetadata",!0)),td=t,td}function lF(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new _r(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function cF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return lF(r,t),r}function yA(t,e,n){const r=pA(e);return r===null?null:cF(t,r,n)}function uF(t,e,n,r){const i=pA(e);if(i===null||!Z_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,f=t.fullPath,v="/b/"+o(h)+"/o/"+o(f),w=Y_(v,n,r),S=uA({alt:"media",token:c});return w+S})[0]}function hF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class vA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){if(!t)throw G_()}function dF(t,e){function n(r,i){const s=yA(t,i,e);return _A(s!==null),s}return n}function fF(t,e){function n(r,i){const s=yA(t,i,e);return _A(s!==null),uF(s,i,t.host,t._protocol)}return n}function wA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=AU():i=IU():n.getStatus()===402?i=SU(t.bucket):n.getStatus()===403?i=kU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pF(t){const e=wA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=EU(t.path)),s.serverResponse=i.serverResponse,s}return n}function gF(t,e,n){const r=e.fullServerUrl(),i=Y_(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new vA(i,s,fF(t,n),o);return a.errorHandler=pF(e),a}function mF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mF(null,e)),r}function vF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let P=0;P<2;P++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=yF(e,r,i),h=hF(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,v=`\r
--`+l+"--",w=Rs.getBlob(f,r,v);if(w===null)throw MU();const S={name:c.fullPath},b=Y_(s,t.host,t._protocol),A="POST",x=t.maxUploadRetryTime,E=new vA(b,A,dF(t,n),x);return E.urlParams=S,E.headers=o,E.body=w.uploadData(),E.errorHandler=wA(e),E}class _F{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw _c("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _c("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _c("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _c("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _c("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wF extends _F{initXhr(){this.xhr_.responseType="text"}}function xA(){return new wF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this._service=e,n instanceof _r?this._location=n:this._location=_r.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ta(e,n)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gA(this._location.path)}get storage(){return this._service}get parent(){const e=iF(this._location.path);if(e===null)return null;const n=new _r(this._location.bucket,e);return new ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw OU(e)}}function xF(t,e,n){t._throwIfRoot("uploadBytes");const r=vF(t.storage,t._location,mA(),new Rs(e,!0),n);return t.storage.makeRequestWithTokens(r,xA).then(i=>({metadata:i,ref:t}))}function bF(t){t._throwIfRoot("getDownloadURL");const e=gF(t.storage,t._location,mA());return t.storage.makeRequestWithTokens(e,xA).then(n=>{if(n===null)throw LU();return n})}function EF(t,e){const n=sF(t._location.path,e),r=new _r(t._location.bucket,n);return new ta(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){return/^[A-Za-z]+:\/\//.test(t)}function IF(t,e){return new ta(t,e)}function bA(t,e){if(t instanceof X_){const n=t;if(n._bucket==null)throw NU();const r=new ta(n,n._bucket);return e!=null?bA(r,e):r}else return e!==void 0?EF(t,e):t}function AF(t,e){if(e&&SF(e)){if(t instanceof X_)return IF(t,e);throw o1("To use ref(service, url), the first argument must be a Storage instance.")}else return bA(t,e)}function W5(t,e){const n=e==null?void 0:e[lA];return n==null?null:_r.makeFromBucketSpec(n,t)}function kF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:p4(i,t.app.options.projectId))}class X_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=aA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xU,this._maxUploadRetryTime=bU,this._requests=new Set,i!=null?this._bucket=_r.makeFromBucketSpec(i,this._host):this._bucket=W5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,e):this._bucket=W5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new BU(cA());{const o=GU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const K5="@firebase/storage",G5="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="storage";function wc(t,e,n){return t=Ct(t),xF(t,e,n)}function Uo(t){return t=Ct(t),bF(t)}function Pi(t,e){return t=Ct(t),AF(t,e)}function e0(t=bv(),e){t=Ct(t);const r=up(t,EA).getImmediate({identifier:e}),i=h4("storage");return i&&TF(r,...i),r}function TF(t,e,n,r={}){kF(t,e,n,r)}function CF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new X_(n,r,i,e,la)}function RF(){Go(new Js(EA,CF,"PUBLIC").setMultipleInstances(!0)),Ai(K5,G5,""),Ai(K5,G5,"esm2017")}RF();const PF={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},SA=ao(PF),zg=fa(SA),NF=e0(SA),MF=t=>{const[e,n]=ee.useState(t.state.user);ee.useState(t.state.credential);const[r,i]=ee.useState(null),s=zl();if(e){const o=dn(zg,"Users",e.uid);(()=>{xi(o).then(h=>{h.exists()?console.log("registered"):e.metadata.creationTime===e.metadata.lastSignInTime?(console.log("first-time user"),s("/freeflow-edu/first-time-user")):console.log("registered")}).catch(h=>{console.log("Error getting document of collection Users: ",h)})})();const l=()=>il(r)?[]:r.map((h,f)=>{const v=w=>(console.log(w),s("course/"+w));return u.jsx("main",{className:"my-8",children:u.jsx("div",{className:"w-full h-96 md:mx-4 rounded-md overflow-hidden bg-cover bg-center md:w-1/2",style:{backgroundImage:"url('https://images.unsplash.com/photo-1547949003-9792a18a2601?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80')"},alt:"Course Thumbnail",id:h+"_card_thumbnail",children:u.jsx("div",{className:"bg-gray-900 bg-opacity-70 flex items-center h-full dark:bg-opacity-50",children:u.jsxs("div",{className:"px-10 max-w-xl",children:[u.jsxs("p",{className:"mb-4 text-sm text-yellow-500 dark:text-neutral-500 dark:text-yellow-500",children:[u.jsx("span",{id:h+"_eduLvl"})," ",u.jsx("span",{id:h+"_sub"})]}),u.jsx("h2",{className:"text-2xl text-white font-semibold",id:h+"_title"}),u.jsx("p",{className:"mt-2 mb-3 text-gray-300 text-sm [text-shadow:_0_1px_0_rgb(0_0_0_/_30%)]",id:h+"_des"}),u.jsx("div",{className:"gap-4",id:h+"_tag"}),u.jsxs("button",{className:"flex items-center mt-4 text-white bg-transparent text-sm uppercase font-medium rounded hover:underline focus:outline-none",onClick:()=>v(h),children:[u.jsx("span",{children:"View Course"}),u.jsx("svg",{className:"h-5 w-5 mx-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})},f)})});ee.useEffect(()=>{Ya(document.getElementById("div_recommended")).render(u.jsx(l,{}));for(let f in r){const v=dn(zg,"Course",r[f]);xi(v).then(w=>{$("#"+w.id+"_title").text(w.data().title),$("#"+w.id+"_des").text(w.data().des),$("#"+w.id+"_eduLvl").text(Zn(w.data().eduLvl)),$("#"+w.id+"_sub").text(Zn(w.data().sub)),(b=>{Uo(Pi(NF,b+"/thumbnail.jpg")).then(A=>{$(`#${r[f]}_card_thumbnail`).css("backgroundImage",`url(${A})`)})})(r[f]);for(let b in w.data().tag)$("#"+w.id+"_tag").html($("#"+w.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${w.data().tag[b]}</span>`)}).catch(w=>{console.error("No such document Course for id",r[f],w)})}},[r]),(async()=>{const h=await P_(Vp(zg,"Course"));r||i(h.docs.map(f=>f.id))})()}return u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"text-3xl bold py-5",children:"Recommended Course"}),u.jsx("div",{id:"div_recommended"})]})},LF={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},IA=ao(LF),xc=fa(IA),Hg=e0(IA),DF=t=>{const{id:e}=n4(),n=zl(),[r,i]=ee.useState(null),[s,o]=ee.useState(null),[a,l]=ee.useState(null),[c,h]=ee.useState(null),f=dn(xc,"Users",e),v=async()=>{const S=await xi(f);S.exists()?($("#t_img_profile").attr("src",S.data().photoURL),$("#t_name_profile").text(S.data().displayName),$("#t_role_profile").text(Zn(S.data().role)),e===t.state.user.uid&&(S.data().wishlist&&(s||o(S.data().wishlist)),S.data().enrolled&&(r||i(S.data().enrolled))),c||h(S.data().role)):console.log("No such document for users with uid",t.state.user.uid)};if(console.log("profile id",e),v(),t.state.user.uid===e){const S=()=>il(r)?[]:r.map((A,x)=>{const E=y=>n("../course/"+y);return u.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[u.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:A+"_enrolled_card_thumbnail"}),u.jsxs("div",{className:"flex flex-col justify-start p-6",children:[u.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:A+"_enrolled_title"}),u.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:A+"_enrolled_des"}),u.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[u.jsx("span",{id:A+"_enrolled_eduLvl"})," ",u.jsx("span",{id:A+"_enrolled_sub"})]}),u.jsx("div",{className:"gap-4",id:A+"_enrolled_tag"}),u.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>E(A),children:"View Course"})]})]},x)});ee.useEffect(()=>{Ya(document.getElementById("div_enrolled")).render(u.jsx(S,{}));for(let x in r){const E=dn(xc,"Course",r[x]);xi(E).then(y=>{$("#"+y.id+"_enrolled_title").text(y.data().title),$("#"+y.id+"_enrolled_des").text(y.data().des),$("#"+y.id+"_enrolled_eduLvl").text(Zn(y.data().eduLvl)),$("#"+y.id+"_enrolled_sub").text(Zn(y.data().sub)),(N=>{Uo(Pi(Hg,N+"/thumbnail.jpg")).then(O=>{$(`#${r[x]}_enrolled_card_thumbnail`).attr("src",O)})})(r[x]);for(let N in y.data().tag)$("#"+y.id+"_enrolled_tag").html($("#"+y.id+"_enrolled_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${y.data().tag[N]}</span>`)}).catch(y=>{console.error("No such document Course for id",s[x],y)})}},[r]);const b=()=>il(r)?[]:s.map((A,x)=>{const E=y=>n("../course/"+y);return u.jsxs("div",{className:"mb-4 flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 md:max-w-xl md:flex-row",children:[u.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:A+"_card_thumbnail"}),u.jsxs("div",{className:"flex flex-col justify-start p-6",children:[u.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:A+"_title"}),u.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:A+"_des"}),u.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[u.jsx("span",{id:A+"_eduLvl"})," ",u.jsx("span",{id:A+"_sub"})]}),u.jsx("div",{className:"gap-4",id:A+"_tag"}),u.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>E(A),children:"View Course"})]})]},x)});ee.useEffect(()=>{Ya(document.getElementById("div_wishlist")).render(u.jsx(b,{}));for(let x in s){const E=dn(xc,"Course",s[x]);xi(E).then(y=>{$("#"+y.id+"_title").text(y.data().title),$("#"+y.id+"_des").text(y.data().des),$("#"+y.id+"_eduLvl").text(Zn(y.data().eduLvl)),$("#"+y.id+"_sub").text(Zn(y.data().sub)),(N=>{Uo(Pi(Hg,N+"/thumbnail.jpg")).then(O=>{$(`#${s[x]}_card_thumbnail`).attr("src",O)})})(s[x]);for(let N in y.data().tag)$("#"+y.id+"_tag").html($("#"+y.id+"_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${y.data().tag[N]}</span>`)}).catch(y=>{console.error("No such document Course for id",s[x],y)})}},[s])}const w=()=>il(a)?[]:a.map((S,b)=>{const A=x=>n("../course/"+x);return u.jsx("main",{className:"my-8",children:u.jsxs("div",{className:"w-full h-96 md:mx-4 rounded-md overflow-hidden bg-cover bg-center md:w-1/2",style:{backgroundImage:"url()"},alt:"Course Thumbnail",id:S+"_card_thumbnail",children:[u.jsx("img",{className:"h-96 w-full md:w-1/3 lg:w-1/3 xl:w-1/3 2xs:w-1/3 rounded-t-lg object-cover md:h-auto md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course Thumbnail",id:S+"_lesson_card_thumbnail"}),u.jsxs("div",{className:"flex flex-col justify-start p-6",children:[u.jsx("h5",{className:"mb-2 text-xl font-medium text-neutral-800 dark:text-neutral-50",id:S+"_lesson_title"}),u.jsx("p",{className:"mb-4 text-base text-neutral-600 dark:text-neutral-200",id:S+"_lesson_des"}),u.jsxs("p",{className:"mb-4 text-sm text-neutral-400 dark:text-neutral-300",children:[u.jsx("span",{id:S+"_lesson_eduLvl"})," ",u.jsx("span",{id:S+"_lesson_sub"})]}),u.jsx("div",{className:"gap-4",id:S+"_lesson_tag"}),u.jsx("button",{type:"button",className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] mt-2 mb-2",onClick:()=>A(S),children:"View Course"})]})]},b)})});return ee.useEffect(()=>{Ya(document.getElementById("div_teacher")).render(u.jsxs(u.Fragment,{children:[c==="teacher"&&u.jsx("h3",{className:"text-3xl bold py-5",children:"Lessons"}),u.jsx(w,{})]}));for(let b in a){const A=dn(xc,"Course",a[b]);xi(A).then(x=>{$("#"+x.id+"_lesson_title").text(x.data().title),$("#"+x.id+"_lesson_des").text(x.data().des),$("#"+x.id+"_lesson_eduLvl").text(Zn(x.data().eduLvl)),$("#"+x.id+"_lesson_sub").text(Zn(x.data().sub)),(y=>{Uo(Pi(Hg,y+"/thumbnail.jpg")).then(P=>{$(`#${a[b]}_lesson_card_thumbnail`).attr("src",P)})})(a[b]);for(let y in x.data().tag)$("#"+x.id+"_lesson_tag").html($("#"+x.id+"_lesson_tag").html()+`<span class="me-2 inline-block whitespace-nowrap rounded-[0.27rem] bg-info-100 px-[0.65em] pb-[0.25em] pt-[0.35em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600">${x.data().tag[y]}</span>`)}).catch(x=>{console.error("No such document Course for id",a[b],x)})}},[a]),ee.useEffect(()=>{if(c==="teacher"){const S=mI(Vp(xc,"Course"),yI("userUID","==",e));(async()=>{const A=await P_(S);l(A.docs.map(x=>x.id))})()}},[c]),u.jsxs(u.Fragment,{children:[u.jsx("img",{src:"",alt:"Profile Image",id:"t_img_profile"}),u.jsxs("h3",{children:["Name: ",u.jsx("span",{id:"t_name_profile"})]}),u.jsx("h3",{id:"t_role_profile"}),t.state.user.uid===e&&u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"text-3xl bold py-5",children:"Enrolled Course"}),u.jsx("div",{id:"div_enrolled"}),u.jsx("h3",{className:"text-3xl bold py-5",children:"Wishlist"}),u.jsx("div",{id:"div_wishlist"})]}),u.jsx("div",{id:"div_teacher"})]})};var Te={},t0={};t0.byteLength=jF;t0.toByteArray=FF;t0.fromByteArray=zF;var vi=[],Nr=[],OF=typeof Uint8Array<"u"?Uint8Array:Array,qg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ba=0,BF=qg.length;ba<BF;++ba)vi[ba]=qg[ba],Nr[qg.charCodeAt(ba)]=ba;Nr["-".charCodeAt(0)]=62;Nr["_".charCodeAt(0)]=63;function AA(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function jF(t){var e=AA(t),n=e[0],r=e[1];return(n+r)*3/4-r}function UF(t,e,n){return(e+n)*3/4-n}function FF(t){var e,n=AA(t),r=n[0],i=n[1],s=new OF(UF(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Nr[t.charCodeAt(l)]<<18|Nr[t.charCodeAt(l+1)]<<12|Nr[t.charCodeAt(l+2)]<<6|Nr[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Nr[t.charCodeAt(l)]<<2|Nr[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Nr[t.charCodeAt(l)]<<10|Nr[t.charCodeAt(l+1)]<<4|Nr[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function VF(t){return vi[t>>18&63]+vi[t>>12&63]+vi[t>>6&63]+vi[t&63]}function $F(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(VF(r));return i.join("")}function zF(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push($F(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(vi[e>>2]+vi[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(vi[e>>10]+vi[e>>4&63]+vi[e<<2&63]+"=")),i.join("")}var J_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */J_.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,h=-7,f=n?i-1:0,v=n?-1:1,w=t[e+f];for(f+=v,s=w&(1<<-h)-1,w>>=-h,h+=a;h>0;s=s*256+t[e+f],f+=v,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=o*256+t[e+f],f+=v,h-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(w?-1:1)*o*Math.pow(2,s-r)};J_.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,h=(1<<c)-1,f=h>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:s-1,S=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=v/l:e+=v*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=h?(a=0,o=h):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+w]=a&255,w+=S,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+w]=o&255,w+=S,o/=256,c-=8);t[n+w-S]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=t0,n=J_,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const R=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(R,g),R.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(R){if(R>i)throw new RangeError('The value "'+R+'" is invalid for option "size"');const g=new Uint8Array(R);return Object.setPrototypeOf(g,a.prototype),g}function a(R,g,m){if(typeof R=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(R)}return l(R,g,m)}a.poolSize=8192;function l(R,g,m){if(typeof R=="string")return v(R,g);if(ArrayBuffer.isView(R))return S(R);if(R==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(sn(R,ArrayBuffer)||R&&sn(R.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sn(R,SharedArrayBuffer)||R&&sn(R.buffer,SharedArrayBuffer)))return b(R,g,m);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const B=R.valueOf&&R.valueOf();if(B!=null&&B!==R)return a.from(B,g,m);const V=A(R);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return a.from(R[Symbol.toPrimitive]("string"),g,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}a.from=function(R,g,m){return l(R,g,m)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function h(R,g,m){return c(R),R<=0?o(R):g!==void 0?typeof m=="string"?o(R).fill(g,m):o(R).fill(g):o(R)}a.alloc=function(R,g,m){return h(R,g,m)};function f(R){return c(R),o(R<0?0:x(R)|0)}a.allocUnsafe=function(R){return f(R)},a.allocUnsafeSlow=function(R){return f(R)};function v(R,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const m=y(R,g)|0;let B=o(m);const V=B.write(R,g);return V!==m&&(B=B.slice(0,V)),B}function w(R){const g=R.length<0?0:x(R.length)|0,m=o(g);for(let B=0;B<g;B+=1)m[B]=R[B]&255;return m}function S(R){if(sn(R,Uint8Array)){const g=new Uint8Array(R);return b(g.buffer,g.byteOffset,g.byteLength)}return w(R)}function b(R,g,m){if(g<0||R.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(R.byteLength<g+(m||0))throw new RangeError('"length" is outside of buffer bounds');let B;return g===void 0&&m===void 0?B=new Uint8Array(R):m===void 0?B=new Uint8Array(R,g):B=new Uint8Array(R,g,m),Object.setPrototypeOf(B,a.prototype),B}function A(R){if(a.isBuffer(R)){const g=x(R.length)|0,m=o(g);return m.length===0||R.copy(m,0,0,g),m}if(R.length!==void 0)return typeof R.length!="number"||et(R.length)?o(0):w(R);if(R.type==="Buffer"&&Array.isArray(R.data))return w(R.data)}function x(R){if(R>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return R|0}function E(R){return+R!=R&&(R=0),a.alloc(+R)}a.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==a.prototype},a.compare=function(g,m){if(sn(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),sn(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(g)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===m)return 0;let B=g.length,V=m.length;for(let z=0,K=Math.min(B,V);z<K;++z)if(g[z]!==m[z]){B=g[z],V=m[z];break}return B<V?-1:V<B?1:0},a.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(g,m){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return a.alloc(0);let B;if(m===void 0)for(m=0,B=0;B<g.length;++B)m+=g[B].length;const V=a.allocUnsafe(m);let z=0;for(B=0;B<g.length;++B){let K=g[B];if(sn(K,Uint8Array))z+K.length>V.length?(a.isBuffer(K)||(K=a.from(K)),K.copy(V,z)):Uint8Array.prototype.set.call(V,K,z);else if(a.isBuffer(K))K.copy(V,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=K.length}return V};function y(R,g){if(a.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||sn(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);const m=R.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&m===0)return 0;let V=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Je(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return We(R).length;default:if(V)return B?-1:Je(R).length;g=(""+g).toLowerCase(),V=!0}}a.byteLength=y;function P(R,g,m){let B=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,g>>>=0,m<=g))return"";for(R||(R="utf8");;)switch(R){case"hex":return k(this,g,m);case"utf8":case"utf-8":return d(this,g,m);case"ascii":return D(this,g,m);case"latin1":case"binary":return C(this,g,m);case"base64":return j(this,g,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,g,m);default:if(B)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),B=!0}}a.prototype._isBuffer=!0;function N(R,g,m){const B=R[g];R[g]=R[m],R[m]=B}a.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<g;m+=2)N(this,m,m+1);return this},a.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<g;m+=4)N(this,m,m+3),N(this,m+1,m+2);return this},a.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<g;m+=8)N(this,m,m+7),N(this,m+1,m+6),N(this,m+2,m+5),N(this,m+3,m+4);return this},a.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?d(this,0,g):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(g){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:a.compare(this,g)===0},a.prototype.inspect=function(){let g="";const m=t.INSPECT_MAX_BYTES;return g=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(g+=" ... "),"<Buffer "+g+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(g,m,B,V,z){if(sn(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(m===void 0&&(m=0),B===void 0&&(B=g?g.length:0),V===void 0&&(V=0),z===void 0&&(z=this.length),m<0||B>g.length||V<0||z>this.length)throw new RangeError("out of range index");if(V>=z&&m>=B)return 0;if(V>=z)return-1;if(m>=B)return 1;if(m>>>=0,B>>>=0,V>>>=0,z>>>=0,this===g)return 0;let K=z-V,Le=B-m;const Re=Math.min(K,Le),Ie=this.slice(V,z),ct=g.slice(m,B);for(let be=0;be<Re;++be)if(Ie[be]!==ct[be]){K=Ie[be],Le=ct[be];break}return K<Le?-1:Le<K?1:0};function O(R,g,m,B,V){if(R.length===0)return-1;if(typeof m=="string"?(B=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,et(m)&&(m=V?0:R.length-1),m<0&&(m=R.length+m),m>=R.length){if(V)return-1;m=R.length-1}else if(m<0)if(V)m=0;else return-1;if(typeof g=="string"&&(g=a.from(g,B)),a.isBuffer(g))return g.length===0?-1:U(R,g,m,B,V);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(R,g,m):Uint8Array.prototype.lastIndexOf.call(R,g,m):U(R,[g],m,B,V);throw new TypeError("val must be string, number or Buffer")}function U(R,g,m,B,V){let z=1,K=R.length,Le=g.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(R.length<2||g.length<2)return-1;z=2,K/=2,Le/=2,m/=2}function Re(ct,be){return z===1?ct[be]:ct.readUInt16BE(be*z)}let Ie;if(V){let ct=-1;for(Ie=m;Ie<K;Ie++)if(Re(R,Ie)===Re(g,ct===-1?0:Ie-ct)){if(ct===-1&&(ct=Ie),Ie-ct+1===Le)return ct*z}else ct!==-1&&(Ie-=Ie-ct),ct=-1}else for(m+Le>K&&(m=K-Le),Ie=m;Ie>=0;Ie--){let ct=!0;for(let be=0;be<Le;be++)if(Re(R,Ie+be)!==Re(g,be)){ct=!1;break}if(ct)return Ie}return-1}a.prototype.includes=function(g,m,B){return this.indexOf(g,m,B)!==-1},a.prototype.indexOf=function(g,m,B){return O(this,g,m,B,!0)},a.prototype.lastIndexOf=function(g,m,B){return O(this,g,m,B,!1)};function F(R,g,m,B){m=Number(m)||0;const V=R.length-m;B?(B=Number(B),B>V&&(B=V)):B=V;const z=g.length;B>z/2&&(B=z/2);let K;for(K=0;K<B;++K){const Le=parseInt(g.substr(K*2,2),16);if(et(Le))return K;R[m+K]=Le}return K}function G(R,g,m,B){return Ze(Je(g,R.length-m),R,m,B)}function Q(R,g,m,B){return Ze(ot(g),R,m,B)}function Z(R,g,m,B){return Ze(We(g),R,m,B)}function ue(R,g,m,B){return Ze(ds(g,R.length-m),R,m,B)}a.prototype.write=function(g,m,B,V){if(m===void 0)V="utf8",B=this.length,m=0;else if(B===void 0&&typeof m=="string")V=m,B=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(B)?(B=B>>>0,V===void 0&&(V="utf8")):(V=B,B=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-m;if((B===void 0||B>z)&&(B=z),g.length>0&&(B<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let K=!1;for(;;)switch(V){case"hex":return F(this,g,m,B);case"utf8":case"utf-8":return G(this,g,m,B);case"ascii":case"latin1":case"binary":return Q(this,g,m,B);case"base64":return Z(this,g,m,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,g,m,B);default:if(K)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),K=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(R,g,m){return g===0&&m===R.length?e.fromByteArray(R):e.fromByteArray(R.slice(g,m))}function d(R,g,m){m=Math.min(R.length,m);const B=[];let V=g;for(;V<m;){const z=R[V];let K=null,Le=z>239?4:z>223?3:z>191?2:1;if(V+Le<=m){let Re,Ie,ct,be;switch(Le){case 1:z<128&&(K=z);break;case 2:Re=R[V+1],(Re&192)===128&&(be=(z&31)<<6|Re&63,be>127&&(K=be));break;case 3:Re=R[V+1],Ie=R[V+2],(Re&192)===128&&(Ie&192)===128&&(be=(z&15)<<12|(Re&63)<<6|Ie&63,be>2047&&(be<55296||be>57343)&&(K=be));break;case 4:Re=R[V+1],Ie=R[V+2],ct=R[V+3],(Re&192)===128&&(Ie&192)===128&&(ct&192)===128&&(be=(z&15)<<18|(Re&63)<<12|(Ie&63)<<6|ct&63,be>65535&&be<1114112&&(K=be))}}K===null?(K=65533,Le=1):K>65535&&(K-=65536,B.push(K>>>10&1023|55296),K=56320|K&1023),B.push(K),V+=Le}return T(B)}const _=4096;function T(R){const g=R.length;if(g<=_)return String.fromCharCode.apply(String,R);let m="",B=0;for(;B<g;)m+=String.fromCharCode.apply(String,R.slice(B,B+=_));return m}function D(R,g,m){let B="";m=Math.min(R.length,m);for(let V=g;V<m;++V)B+=String.fromCharCode(R[V]&127);return B}function C(R,g,m){let B="";m=Math.min(R.length,m);for(let V=g;V<m;++V)B+=String.fromCharCode(R[V]);return B}function k(R,g,m){const B=R.length;(!g||g<0)&&(g=0),(!m||m<0||m>B)&&(m=B);let V="";for(let z=g;z<m;++z)V+=tt[R[z]];return V}function M(R,g,m){const B=R.slice(g,m);let V="";for(let z=0;z<B.length-1;z+=2)V+=String.fromCharCode(B[z]+B[z+1]*256);return V}a.prototype.slice=function(g,m){const B=this.length;g=~~g,m=m===void 0?B:~~m,g<0?(g+=B,g<0&&(g=0)):g>B&&(g=B),m<0?(m+=B,m<0&&(m=0)):m>B&&(m=B),m<g&&(m=g);const V=this.subarray(g,m);return Object.setPrototypeOf(V,a.prototype),V};function I(R,g,m){if(R%1!==0||R<0)throw new RangeError("offset is not uint");if(R+g>m)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(g,m,B){g=g>>>0,m=m>>>0,B||I(g,m,this.length);let V=this[g],z=1,K=0;for(;++K<m&&(z*=256);)V+=this[g+K]*z;return V},a.prototype.readUintBE=a.prototype.readUIntBE=function(g,m,B){g=g>>>0,m=m>>>0,B||I(g,m,this.length);let V=this[g+--m],z=1;for(;m>0&&(z*=256);)V+=this[g+--m]*z;return V},a.prototype.readUint8=a.prototype.readUInt8=function(g,m){return g=g>>>0,m||I(g,1,this.length),this[g]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(g,m){return g=g>>>0,m||I(g,2,this.length),this[g]|this[g+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(g,m){return g=g>>>0,m||I(g,2,this.length),this[g]<<8|this[g+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(g,m){return g=g>>>0,m||I(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(g,m){return g=g>>>0,m||I(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},a.prototype.readBigUInt64LE=yn(function(g){g=g>>>0,$e(g,"offset");const m=this[g],B=this[g+7];(m===void 0||B===void 0)&&De(g,this.length-8);const V=m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,z=this[++g]+this[++g]*2**8+this[++g]*2**16+B*2**24;return BigInt(V)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=yn(function(g){g=g>>>0,$e(g,"offset");const m=this[g],B=this[g+7];(m===void 0||B===void 0)&&De(g,this.length-8);const V=m*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],z=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+B;return(BigInt(V)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(g,m,B){g=g>>>0,m=m>>>0,B||I(g,m,this.length);let V=this[g],z=1,K=0;for(;++K<m&&(z*=256);)V+=this[g+K]*z;return z*=128,V>=z&&(V-=Math.pow(2,8*m)),V},a.prototype.readIntBE=function(g,m,B){g=g>>>0,m=m>>>0,B||I(g,m,this.length);let V=m,z=1,K=this[g+--V];for(;V>0&&(z*=256);)K+=this[g+--V]*z;return z*=128,K>=z&&(K-=Math.pow(2,8*m)),K},a.prototype.readInt8=function(g,m){return g=g>>>0,m||I(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},a.prototype.readInt16LE=function(g,m){g=g>>>0,m||I(g,2,this.length);const B=this[g]|this[g+1]<<8;return B&32768?B|4294901760:B},a.prototype.readInt16BE=function(g,m){g=g>>>0,m||I(g,2,this.length);const B=this[g+1]|this[g]<<8;return B&32768?B|4294901760:B},a.prototype.readInt32LE=function(g,m){return g=g>>>0,m||I(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},a.prototype.readInt32BE=function(g,m){return g=g>>>0,m||I(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},a.prototype.readBigInt64LE=yn(function(g){g=g>>>0,$e(g,"offset");const m=this[g],B=this[g+7];(m===void 0||B===void 0)&&De(g,this.length-8);const V=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(B<<24);return(BigInt(V)<<BigInt(32))+BigInt(m+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),a.prototype.readBigInt64BE=yn(function(g){g=g>>>0,$e(g,"offset");const m=this[g],B=this[g+7];(m===void 0||B===void 0)&&De(g,this.length-8);const V=(m<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(V)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+B)}),a.prototype.readFloatLE=function(g,m){return g=g>>>0,m||I(g,4,this.length),n.read(this,g,!0,23,4)},a.prototype.readFloatBE=function(g,m){return g=g>>>0,m||I(g,4,this.length),n.read(this,g,!1,23,4)},a.prototype.readDoubleLE=function(g,m){return g=g>>>0,m||I(g,8,this.length),n.read(this,g,!0,52,8)},a.prototype.readDoubleBE=function(g,m){return g=g>>>0,m||I(g,8,this.length),n.read(this,g,!1,52,8)};function p(R,g,m,B,V,z){if(!a.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>V||g<z)throw new RangeError('"value" argument is out of bounds');if(m+B>R.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(g,m,B,V){if(g=+g,m=m>>>0,B=B>>>0,!V){const Le=Math.pow(2,8*B)-1;p(this,g,m,B,Le,0)}let z=1,K=0;for(this[m]=g&255;++K<B&&(z*=256);)this[m+K]=g/z&255;return m+B},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(g,m,B,V){if(g=+g,m=m>>>0,B=B>>>0,!V){const Le=Math.pow(2,8*B)-1;p(this,g,m,B,Le,0)}let z=B-1,K=1;for(this[m+z]=g&255;--z>=0&&(K*=256);)this[m+z]=g/K&255;return m+B},a.prototype.writeUint8=a.prototype.writeUInt8=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,1,255,0),this[m]=g&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,2,65535,0),this[m]=g&255,this[m+1]=g>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,2,65535,0),this[m]=g>>>8,this[m+1]=g&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,4,4294967295,0),this[m+3]=g>>>24,this[m+2]=g>>>16,this[m+1]=g>>>8,this[m]=g&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,4,4294967295,0),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4};function L(R,g,m,B,V){Me(g,B,V,R,m,7);let z=Number(g&BigInt(4294967295));R[m++]=z,z=z>>8,R[m++]=z,z=z>>8,R[m++]=z,z=z>>8,R[m++]=z;let K=Number(g>>BigInt(32)&BigInt(4294967295));return R[m++]=K,K=K>>8,R[m++]=K,K=K>>8,R[m++]=K,K=K>>8,R[m++]=K,m}function W(R,g,m,B,V){Me(g,B,V,R,m,7);let z=Number(g&BigInt(4294967295));R[m+7]=z,z=z>>8,R[m+6]=z,z=z>>8,R[m+5]=z,z=z>>8,R[m+4]=z;let K=Number(g>>BigInt(32)&BigInt(4294967295));return R[m+3]=K,K=K>>8,R[m+2]=K,K=K>>8,R[m+1]=K,K=K>>8,R[m]=K,m+8}a.prototype.writeBigUInt64LE=yn(function(g,m=0){return L(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=yn(function(g,m=0){return W(this,g,m,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(g,m,B,V){if(g=+g,m=m>>>0,!V){const Re=Math.pow(2,8*B-1);p(this,g,m,B,Re-1,-Re)}let z=0,K=1,Le=0;for(this[m]=g&255;++z<B&&(K*=256);)g<0&&Le===0&&this[m+z-1]!==0&&(Le=1),this[m+z]=(g/K>>0)-Le&255;return m+B},a.prototype.writeIntBE=function(g,m,B,V){if(g=+g,m=m>>>0,!V){const Re=Math.pow(2,8*B-1);p(this,g,m,B,Re-1,-Re)}let z=B-1,K=1,Le=0;for(this[m+z]=g&255;--z>=0&&(K*=256);)g<0&&Le===0&&this[m+z+1]!==0&&(Le=1),this[m+z]=(g/K>>0)-Le&255;return m+B},a.prototype.writeInt8=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,1,127,-128),g<0&&(g=255+g+1),this[m]=g&255,m+1},a.prototype.writeInt16LE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,2,32767,-32768),this[m]=g&255,this[m+1]=g>>>8,m+2},a.prototype.writeInt16BE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,2,32767,-32768),this[m]=g>>>8,this[m+1]=g&255,m+2},a.prototype.writeInt32LE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,4,2147483647,-2147483648),this[m]=g&255,this[m+1]=g>>>8,this[m+2]=g>>>16,this[m+3]=g>>>24,m+4},a.prototype.writeInt32BE=function(g,m,B){return g=+g,m=m>>>0,B||p(this,g,m,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[m]=g>>>24,this[m+1]=g>>>16,this[m+2]=g>>>8,this[m+3]=g&255,m+4},a.prototype.writeBigInt64LE=yn(function(g,m=0){return L(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=yn(function(g,m=0){return W(this,g,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y(R,g,m,B,V,z){if(m+B>R.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function X(R,g,m,B,V){return g=+g,m=m>>>0,V||Y(R,g,m,4),n.write(R,g,m,B,23,4),m+4}a.prototype.writeFloatLE=function(g,m,B){return X(this,g,m,!0,B)},a.prototype.writeFloatBE=function(g,m,B){return X(this,g,m,!1,B)};function oe(R,g,m,B,V){return g=+g,m=m>>>0,V||Y(R,g,m,8),n.write(R,g,m,B,52,8),m+8}a.prototype.writeDoubleLE=function(g,m,B){return oe(this,g,m,!0,B)},a.prototype.writeDoubleBE=function(g,m,B){return oe(this,g,m,!1,B)},a.prototype.copy=function(g,m,B,V){if(!a.isBuffer(g))throw new TypeError("argument should be a Buffer");if(B||(B=0),!V&&V!==0&&(V=this.length),m>=g.length&&(m=g.length),m||(m=0),V>0&&V<B&&(V=B),V===B||g.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),g.length-m<V-B&&(V=g.length-m+B);const z=V-B;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,B,V):Uint8Array.prototype.set.call(g,this.subarray(B,V),m),z},a.prototype.fill=function(g,m,B,V){if(typeof g=="string"){if(typeof m=="string"?(V=m,m=0,B=this.length):typeof B=="string"&&(V=B,B=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!a.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(g.length===1){const K=g.charCodeAt(0);(V==="utf8"&&K<128||V==="latin1")&&(g=K)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(m<0||this.length<m||this.length<B)throw new RangeError("Out of range index");if(B<=m)return this;m=m>>>0,B=B===void 0?this.length:B>>>0,g||(g=0);let z;if(typeof g=="number")for(z=m;z<B;++z)this[z]=g;else{const K=a.isBuffer(g)?g:a.from(g,V),Le=K.length;if(Le===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(z=0;z<B-m;++z)this[z+m]=K[z%Le]}return this};const he={};function ge(R,g,m){he[R]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${R}]`,this.stack,delete this.name}get code(){return R}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${R}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(R){return R?`${R} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(R,g){return`The "${R}" argument must be of type number. Received type ${typeof g}`},TypeError),ge("ERR_OUT_OF_RANGE",function(R,g,m){let B=`The value of "${R}" is out of range.`,V=m;return Number.isInteger(m)&&Math.abs(m)>2**32?V=qe(String(m)):typeof m=="bigint"&&(V=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(V=qe(V)),V+="n"),B+=` It must be ${g}. Received ${V}`,B},RangeError);function qe(R){let g="",m=R.length;const B=R[0]==="-"?1:0;for(;m>=B+4;m-=3)g=`_${R.slice(m-3,m)}${g}`;return`${R.slice(0,m)}${g}`}function ke(R,g,m){$e(g,"offset"),(R[g]===void 0||R[g+m]===void 0)&&De(g,R.length-(m+1))}function Me(R,g,m,B,V,z){if(R>m||R<g){const K=typeof g=="bigint"?"n":"";let Le;throw z>3?g===0||g===BigInt(0)?Le=`>= 0${K} and < 2${K} ** ${(z+1)*8}${K}`:Le=`>= -(2${K} ** ${(z+1)*8-1}${K}) and < 2 ** ${(z+1)*8-1}${K}`:Le=`>= ${g}${K} and <= ${m}${K}`,new he.ERR_OUT_OF_RANGE("value",Le,R)}ke(B,V,z)}function $e(R,g){if(typeof R!="number")throw new he.ERR_INVALID_ARG_TYPE(g,"number",R)}function De(R,g,m){throw Math.floor(R)!==R?($e(R,m),new he.ERR_OUT_OF_RANGE(m||"offset","an integer",R)):g<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${g}`,R)}const Ge=/[^+/0-9A-Za-z-_]/g;function fr(R){if(R=R.split("=")[0],R=R.trim().replace(Ge,""),R.length<2)return"";for(;R.length%4!==0;)R=R+"=";return R}function Je(R,g){g=g||1/0;let m;const B=R.length;let V=null;const z=[];for(let K=0;K<B;++K){if(m=R.charCodeAt(K),m>55295&&m<57344){if(!V){if(m>56319){(g-=3)>-1&&z.push(239,191,189);continue}else if(K+1===B){(g-=3)>-1&&z.push(239,191,189);continue}V=m;continue}if(m<56320){(g-=3)>-1&&z.push(239,191,189),V=m;continue}m=(V-55296<<10|m-56320)+65536}else V&&(g-=3)>-1&&z.push(239,191,189);if(V=null,m<128){if((g-=1)<0)break;z.push(m)}else if(m<2048){if((g-=2)<0)break;z.push(m>>6|192,m&63|128)}else if(m<65536){if((g-=3)<0)break;z.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((g-=4)<0)break;z.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return z}function ot(R){const g=[];for(let m=0;m<R.length;++m)g.push(R.charCodeAt(m)&255);return g}function ds(R,g){let m,B,V;const z=[];for(let K=0;K<R.length&&!((g-=2)<0);++K)m=R.charCodeAt(K),B=m>>8,V=m%256,z.push(V),z.push(B);return z}function We(R){return e.toByteArray(fr(R))}function Ze(R,g,m,B){let V;for(V=0;V<B&&!(V+m>=g.length||V>=R.length);++V)g[V+m]=R[V];return V}function sn(R,g){return R instanceof g||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===g.name}function et(R){return R!==R}const tt=function(){const R="0123456789abcdef",g=new Array(256);for(let m=0;m<16;++m){const B=m*16;for(let V=0;V<16;++V)g[B+V]=R[m]+R[V]}return g}();function yn(R){return typeof BigInt>"u"?st:R}function st(){throw new Error("BigInt not supported")}})(Te);function Z5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function kA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function HF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Z5(t.outputLen),Z5(t.blockLen)}function Df(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qF(t,e){kA(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TA=t=>t instanceof Uint8Array,Kg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),pi=(t,e)=>t<<32-e|t>>>e,WF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!WF)throw new Error("Non little-endian hardware is not supported");function CA(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ew(t){if(typeof t=="string"&&(t=CA(t)),!TA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function RA(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!TA(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class PA{clone(){return this._cloneInto()}}function NA(t){const e=r=>t().update(ew(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function MA(t=32){if(Wg&&typeof Wg.getRandomValues=="function")return Wg.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function KF(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class LA extends PA{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Kg(this.buffer)}update(e){Df(this);const{view:n,buffer:r,blockLen:i}=this;e=ew(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=Kg(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Df(this),qF(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;KF(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Kg(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const nd=BigInt(2**32-1),a1=BigInt(32);function DA(t,e=!1){return e?{h:Number(t&nd),l:Number(t>>a1&nd)}:{h:Number(t>>a1&nd)|0,l:Number(t&nd)|0}}function GF(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=DA(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const ZF=(t,e)=>BigInt(t>>>0)<<a1|BigInt(e>>>0),QF=(t,e,n)=>t>>>n,YF=(t,e,n)=>t<<32-n|e>>>n,XF=(t,e,n)=>t>>>n|e<<32-n,JF=(t,e,n)=>t<<32-n|e>>>n,eV=(t,e,n)=>t<<64-n|e>>>n-32,tV=(t,e,n)=>t>>>n-32|e<<64-n,nV=(t,e)=>e,rV=(t,e)=>t,iV=(t,e,n)=>t<<n|e>>>32-n,sV=(t,e,n)=>e<<n|t>>>32-n,oV=(t,e,n)=>e<<n-32|t>>>64-n,aV=(t,e,n)=>t<<n-32|e>>>64-n;function lV(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const cV=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),uV=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,hV=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),dV=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,fV=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),pV=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,gV={fromBig:DA,split:GF,toBig:ZF,shrSH:QF,shrSL:YF,rotrSH:XF,rotrSL:JF,rotrBH:eV,rotrBL:tV,rotr32H:nV,rotr32L:rV,rotlSH:iV,rotlSL:sV,rotlBH:oV,rotlBL:aV,add:lV,add3L:cV,add3H:uV,add4L:hV,add4H:dV,add5H:pV,add5L:fV},Oe=gV,[mV,yV]=(()=>Oe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),vs=new Uint32Array(80),_s=new Uint32Array(80);class vV extends LA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:h,Fh:f,Fl:v,Gh:w,Gl:S,Hh:b,Hl:A}=this;return[e,n,r,i,s,o,a,l,c,h,f,v,w,S,b,A]}set(e,n,r,i,s,o,a,l,c,h,f,v,w,S,b,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=h|0,this.Fh=f|0,this.Fl=v|0,this.Gh=w|0,this.Gl=S|0,this.Hh=b|0,this.Hl=A|0}process(e,n){for(let y=0;y<16;y++,n+=4)vs[y]=e.getUint32(n),_s[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const P=vs[y-15]|0,N=_s[y-15]|0,O=Oe.rotrSH(P,N,1)^Oe.rotrSH(P,N,8)^Oe.shrSH(P,N,7),U=Oe.rotrSL(P,N,1)^Oe.rotrSL(P,N,8)^Oe.shrSL(P,N,7),F=vs[y-2]|0,G=_s[y-2]|0,Q=Oe.rotrSH(F,G,19)^Oe.rotrBH(F,G,61)^Oe.shrSH(F,G,6),Z=Oe.rotrSL(F,G,19)^Oe.rotrBL(F,G,61)^Oe.shrSL(F,G,6),ue=Oe.add4L(U,Z,_s[y-7],_s[y-16]),j=Oe.add4H(ue,O,Q,vs[y-7],vs[y-16]);vs[y]=j|0,_s[y]=ue|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:h,Eh:f,El:v,Fh:w,Fl:S,Gh:b,Gl:A,Hh:x,Hl:E}=this;for(let y=0;y<80;y++){const P=Oe.rotrSH(f,v,14)^Oe.rotrSH(f,v,18)^Oe.rotrBH(f,v,41),N=Oe.rotrSL(f,v,14)^Oe.rotrSL(f,v,18)^Oe.rotrBL(f,v,41),O=f&w^~f&b,U=v&S^~v&A,F=Oe.add5L(E,N,U,yV[y],_s[y]),G=Oe.add5H(F,x,P,O,mV[y],vs[y]),Q=F|0,Z=Oe.rotrSH(r,i,28)^Oe.rotrBH(r,i,34)^Oe.rotrBH(r,i,39),ue=Oe.rotrSL(r,i,28)^Oe.rotrBL(r,i,34)^Oe.rotrBL(r,i,39),j=r&s^r&a^s&a,d=i&o^i&l^o&l;x=b|0,E=A|0,b=w|0,A=S|0,w=f|0,S=v|0,{h:f,l:v}=Oe.add(c|0,h|0,G|0,Q|0),c=a|0,h=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const _=Oe.add3L(Q,ue,d);r=Oe.add3H(_,G,Z,j),i=_|0}({h:r,l:i}=Oe.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Oe.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Oe.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:h}=Oe.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:f,l:v}=Oe.add(this.Eh|0,this.El|0,f|0,v|0),{h:w,l:S}=Oe.add(this.Fh|0,this.Fl|0,w|0,S|0),{h:b,l:A}=Oe.add(this.Gh|0,this.Gl|0,b|0,A|0),{h:x,l:E}=Oe.add(this.Hh|0,this.Hl|0,x|0,E|0),this.set(r,i,s,o,a,l,c,h,f,v,w,S,b,A,x,E)}roundClean(){vs.fill(0),_s.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const OA=NA(()=>new vV);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BA=BigInt(0),n0=BigInt(1),_V=BigInt(2),r0=t=>t instanceof Uint8Array,wV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function na(t){if(!r0(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=wV[t[n]];return e}function jA(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function tw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Nl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Fo(t){return tw(na(t))}function sl(t){if(!r0(t))throw new Error("Uint8Array expected");return tw(na(Uint8Array.from(t).reverse()))}function Ml(t,e){return Nl(t.toString(16).padStart(e*2,"0"))}function Vu(t,e){return Ml(t,e).reverse()}function xV(t){return Nl(jA(t))}function an(t,e,n){let r;if(typeof e=="string")try{r=Nl(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(r0(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function ra(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!r0(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function bV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function EV(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function SV(t){let e;for(e=0;t>BA;t>>=n0,e+=1);return e}function IV(t,e){return t>>BigInt(e)&n0}const AV=(t,e,n)=>t|(n?n0:BA)<<BigInt(e),nw=t=>(_V<<BigInt(t-1))-n0,Gg=t=>new Uint8Array(t),Q5=t=>Uint8Array.from(t);function UA(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Gg(t),i=Gg(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),l=(f=Gg())=>{i=a(Q5([0]),f),r=a(),f.length!==0&&(i=a(Q5([1]),f),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const v=[];for(;f<e;){r=a();const w=r.slice();v.push(w),f+=r.length}return ra(...v)};return(f,v)=>{o(),l(f);let w;for(;!(w=v(c()));)l();return o(),w}}const kV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tc(t,e,n={}){const r=(i,s,o)=>{const a=kV[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const TV=Object.freeze(Object.defineProperty({__proto__:null,bitGet:IV,bitLen:SV,bitMask:nw,bitSet:AV,bytesToHex:na,bytesToNumberBE:Fo,bytesToNumberLE:sl,concatBytes:ra,createHmacDrbg:UA,ensureBytes:an,equalBytes:bV,hexToBytes:Nl,hexToNumber:tw,numberToBytesBE:Ml,numberToBytesLE:Vu,numberToHexUnpadded:jA,numberToVarBytesBE:xV,utf8ToBytes:EV,validateObject:tc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fn=BigInt(0),wt=BigInt(1),xo=BigInt(2),CV=BigInt(3),l1=BigInt(4),Y5=BigInt(5),X5=BigInt(8);BigInt(9);BigInt(16);function mt(t,e){const n=t%e;return n>=fn?n:e+n}function RV(t,e,n){if(n<=fn||e<fn)throw new Error("Expected power/modulo > 0");if(n===wt)return fn;let r=wt;for(;e>fn;)e&wt&&(r=r*t%n),t=t*t%n,e>>=wt;return r}function It(t,e,n){let r=t;for(;e-- >fn;)r*=r,r%=n;return r}function c1(t,e){if(t===fn||e<=fn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=mt(t,e),r=e,i=fn,s=wt;for(;n!==fn;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==wt)throw new Error("invert: does not exist");return mt(i,e)}function PV(t){const e=(t-wt)/xo;let n,r,i;for(n=t-wt,r=0;n%xo===fn;n/=xo,r++);for(i=xo;i<t&&RV(i,e,t)!==t-wt;i++);if(r===1){const o=(t+wt)/l1;return function(l,c){const h=l.pow(c,o);if(!l.eql(l.sqr(h),c))throw new Error("Cannot find square root");return h}}const s=(n+wt)/xo;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,h=a.pow(a.mul(a.ONE,i),n),f=a.pow(l,s),v=a.pow(l,n);for(;!a.eql(v,a.ONE);){if(a.eql(v,a.ZERO))return a.ZERO;let w=1;for(let b=a.sqr(v);w<c&&!a.eql(b,a.ONE);w++)b=a.sqr(b);const S=a.pow(h,wt<<BigInt(c-w-1));h=a.sqr(S),f=a.mul(f,S),v=a.mul(v,h),c=w}return f}}function NV(t){if(t%l1===CV){const e=(t+wt)/l1;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%X5===Y5){const e=(t-Y5)/X5;return function(r,i){const s=r.mul(i,xo),o=r.pow(s,e),a=r.mul(i,o),l=r.mul(r.mul(a,xo),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return PV(t)}const MV=(t,e)=>(mt(t,e)&wt)===wt,LV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function DV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=LV.reduce((r,i)=>(r[i]="function",r),e);return tc(t,n)}function OV(t,e,n){if(n<fn)throw new Error("Expected power > 0");if(n===fn)return t.ONE;if(n===wt)return e;let r=t.ONE,i=e;for(;n>fn;)n&wt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=wt;return r}function BV(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function FA(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function VA(t,e,n=!1,r={}){if(t<=fn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=FA(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=NV(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:nw(i),ZERO:fn,ONE:wt,create:l=>mt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return fn<=l&&l<t},is0:l=>l===fn,isOdd:l=>(l&wt)===wt,neg:l=>mt(-l,t),eql:(l,c)=>l===c,sqr:l=>mt(l*l,t),add:(l,c)=>mt(l+c,t),sub:(l,c)=>mt(l-c,t),mul:(l,c)=>mt(l*c,t),pow:(l,c)=>OV(a,l,c),div:(l,c)=>mt(l*c1(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>c1(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>BV(a,l),cmov:(l,c,h)=>h?c:l,toBytes:l=>n?Vu(l,s):Ml(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?sl(l):Fo(l)}});return Object.freeze(a)}function jV(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n}function $A(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function zA(t){const e=$A(t);return e+Math.ceil(e/2)}function UV(t,e,n=!1){const r=t.length,i=$A(e),s=zA(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?Fo(t):sl(t),a=mt(o,e-wt)+wt;return n?Vu(a,i):Ml(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const FV=BigInt(0),Zg=BigInt(1);function HA(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>FV;)s&Zg&&(o=o.add(a)),a=a.double(),s>>=Zg;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),l=[];let c=i,h=c;for(let f=0;f<o;f++){h=c,l.push(h);for(let v=1;v<a;v++)h=h.add(c),l.push(h);c=h.double()}return l},wNAF(i,s,o){const{windows:a,windowSize:l}=r(i);let c=t.ZERO,h=t.BASE;const f=BigInt(2**i-1),v=2**i,w=BigInt(i);for(let S=0;S<a;S++){const b=S*l;let A=Number(o&f);o>>=w,A>l&&(A-=v,o+=Zg);const x=b,E=b+Math.abs(A)-1,y=S%2!==0,P=A<0;A===0?h=h.add(n(y,s[x])):c=c.add(n(P,s[E]))}return{p:c,f:h}},wNAFCached(i,s,o,a){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,a(c))),this.wNAF(l,c,o)}}}function rw(t){return DV(t.Fp),tc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...FA(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gr=BigInt(0),pr=BigInt(1),rd=BigInt(2),VV=BigInt(8),$V={zip215:!0};function zV(t){const e=rw(t);return tc(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function iw(t){const e=zV(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=rd<<BigInt(a*8)-pr,h=n.create,f=e.uvRatio||((C,k)=>{try{return{isValid:!0,value:n.sqrt(C*n.inv(k))}}catch{return{isValid:!1,value:Gr}}}),v=e.adjustScalarBytes||(C=>C),w=e.domain||((C,k,M)=>{if(k.length||M)throw new Error("Contexts/pre-hash are not supported");return C}),S=C=>typeof C=="bigint"&&Gr<C,b=(C,k)=>S(C)&&S(k)&&C<k,A=C=>C===Gr||b(C,c);function x(C,k){if(b(C,k))return C;throw new Error(`Expected valid scalar < ${k}, got ${typeof C} ${C}`)}function E(C){return C===Gr?C:x(C,r)}const y=new Map;function P(C){if(!(C instanceof N))throw new Error("ExtendedPoint expected")}class N{constructor(k,M,I,p){if(this.ex=k,this.ey=M,this.ez=I,this.et=p,!A(k))throw new Error("x required");if(!A(M))throw new Error("y required");if(!A(I))throw new Error("z required");if(!A(p))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof N)throw new Error("extended point not allowed");const{x:M,y:I}=k||{};if(!A(M)||!A(I))throw new Error("invalid affine point");return new N(M,I,pr,h(M*I))}static normalizeZ(k){const M=n.invertBatch(k.map(I=>I.ez));return k.map((I,p)=>I.toAffine(M[p])).map(N.fromAffine)}_setWindowSize(k){this._WINDOW_SIZE=k,y.delete(this)}assertValidity(){const{a:k,d:M}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:I,ey:p,ez:L,et:W}=this,Y=h(I*I),X=h(p*p),oe=h(L*L),he=h(oe*oe),ge=h(Y*k),qe=h(oe*h(ge+X)),ke=h(he+h(M*h(Y*X)));if(qe!==ke)throw new Error("bad point: equation left != right (1)");const Me=h(I*p),$e=h(L*W);if(Me!==$e)throw new Error("bad point: equation left != right (2)")}equals(k){P(k);const{ex:M,ey:I,ez:p}=this,{ex:L,ey:W,ez:Y}=k,X=h(M*Y),oe=h(L*p),he=h(I*Y),ge=h(W*p);return X===oe&&he===ge}is0(){return this.equals(N.ZERO)}negate(){return new N(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:k}=e,{ex:M,ey:I,ez:p}=this,L=h(M*M),W=h(I*I),Y=h(rd*h(p*p)),X=h(k*L),oe=M+I,he=h(h(oe*oe)-L-W),ge=X+W,qe=ge-Y,ke=X-W,Me=h(he*qe),$e=h(ge*ke),De=h(he*ke),Ge=h(qe*ge);return new N(Me,$e,Ge,De)}add(k){P(k);const{a:M,d:I}=e,{ex:p,ey:L,ez:W,et:Y}=this,{ex:X,ey:oe,ez:he,et:ge}=k;if(M===BigInt(-1)){const sn=h((L-p)*(oe+X)),et=h((L+p)*(oe-X)),tt=h(et-sn);if(tt===Gr)return this.double();const yn=h(W*rd*ge),st=h(Y*rd*he),R=st+yn,g=et+sn,m=st-yn,B=h(R*tt),V=h(g*m),z=h(R*m),K=h(tt*g);return new N(B,V,K,z)}const qe=h(p*X),ke=h(L*oe),Me=h(Y*I*ge),$e=h(W*he),De=h((p+L)*(X+oe)-qe-ke),Ge=$e-Me,fr=$e+Me,Je=h(ke-M*qe),ot=h(De*Ge),ds=h(fr*Je),We=h(De*Je),Ze=h(Ge*fr);return new N(ot,ds,Ze,We)}subtract(k){return this.add(k.negate())}wNAF(k){return F.wNAFCached(this,y,k,N.normalizeZ)}multiply(k){const{p:M,f:I}=this.wNAF(x(k,r));return N.normalizeZ([M,I])[0]}multiplyUnsafe(k){let M=E(k);return M===Gr?U:this.equals(U)||M===pr?this:this.equals(O)?this.wNAF(M).p:F.unsafeLadder(this,M)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return F.unsafeLadder(this,r).is0()}toAffine(k){const{ex:M,ey:I,ez:p}=this,L=this.is0();k==null&&(k=L?VV:n.inv(p));const W=h(M*k),Y=h(I*k),X=h(p*k);if(L)return{x:Gr,y:pr};if(X!==pr)throw new Error("invZ was invalid");return{x:W,y:Y}}clearCofactor(){const{h:k}=e;return k===pr?this:this.multiplyUnsafe(k)}static fromHex(k,M=!1){const{d:I,a:p}=e,L=n.BYTES;k=an("pointHex",k,L);const W=k.slice(),Y=k[L-1];W[L-1]=Y&-129;const X=sl(W);X===Gr||(M?x(X,c):x(X,n.ORDER));const oe=h(X*X),he=h(oe-pr),ge=h(I*oe-p);let{isValid:qe,value:ke}=f(he,ge);if(!qe)throw new Error("Point.fromHex: invalid y coordinate");const Me=(ke&pr)===pr,$e=(Y&128)!==0;if(!M&&ke===Gr&&$e)throw new Error("Point.fromHex: x=0 and x_0=1");return $e!==Me&&(ke=h(-ke)),N.fromAffine({x:ke,y:X})}static fromPrivateKey(k){return Z(k).point}toRawBytes(){const{x:k,y:M}=this.toAffine(),I=Vu(M,n.BYTES);return I[I.length-1]|=k&pr?128:0,I}toHex(){return na(this.toRawBytes())}}N.BASE=new N(e.Gx,e.Gy,pr,h(e.Gx*e.Gy)),N.ZERO=new N(Gr,pr,pr,Gr);const{BASE:O,ZERO:U}=N,F=HA(N,a*8);function G(C){return mt(C,r)}function Q(C){return G(sl(C))}function Z(C){const k=a;C=an("private key",C,k);const M=an("hashed private key",s(C),2*k),I=v(M.slice(0,k)),p=M.slice(k,2*k),L=Q(I),W=O.multiply(L),Y=W.toRawBytes();return{head:I,prefix:p,scalar:L,point:W,pointBytes:Y}}function ue(C){return Z(C).pointBytes}function j(C=new Uint8Array,...k){const M=ra(...k);return Q(s(w(M,an("context",C),!!i)))}function d(C,k,M={}){C=an("message",C),i&&(C=i(C));const{prefix:I,scalar:p,pointBytes:L}=Z(k),W=j(M.context,I,C),Y=O.multiply(W).toRawBytes(),X=j(M.context,Y,L,C),oe=G(W+X*p);E(oe);const he=ra(Y,Vu(oe,n.BYTES));return an("result",he,a*2)}const _=$V;function T(C,k,M,I=_){const{context:p,zip215:L}=I,W=n.BYTES;C=an("signature",C,2*W),k=an("message",k),i&&(k=i(k));const Y=sl(C.slice(W,2*W));let X,oe,he;try{X=N.fromHex(M,L),oe=N.fromHex(C.slice(0,W),L),he=O.multiplyUnsafe(Y)}catch{return!1}if(!L&&X.isSmallOrder())return!1;const ge=j(p,oe.toRawBytes(),X.toRawBytes(),k);return oe.add(X.multiplyUnsafe(ge)).subtract(he).clearCofactor().equals(N.ZERO)}return O._setWindowSize(8),{CURVE:e,getPublicKey:ue,sign:d,verify:T,ExtendedPoint:N,utils:{getExtendedPublicKey:Z,randomPrivateKey:()=>o(n.BYTES),precompute(C=8,k=N.BASE){return k._setWindowSize(C),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sw=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),J5=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const HV=BigInt(1),u1=BigInt(2),qV=BigInt(5),eb=BigInt(10),WV=BigInt(20),KV=BigInt(40),tb=BigInt(80);function GV(t){const e=sw,r=t*t%e*t%e,i=It(r,u1,e)*r%e,s=It(i,HV,e)*t%e,o=It(s,qV,e)*s%e,a=It(o,eb,e)*o%e,l=It(a,WV,e)*a%e,c=It(l,KV,e)*l%e,h=It(c,tb,e)*c%e,f=It(h,tb,e)*c%e,v=It(f,eb,e)*o%e;return{pow_p_5_8:It(v,u1,e)*t%e,b2:r}}function ZV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function QV(t,e){const n=sw,r=mt(e*e*e,n),i=mt(r*r*e,n),s=GV(t*i).pow_p_5_8;let o=mt(t*r*s,n);const a=mt(e*o*o,n),l=o,c=mt(o*J5,n),h=a===t,f=a===mt(-t,n),v=a===mt(-t*J5,n);return h&&(o=l),(f||v)&&(o=c),MV(o,n)&&(o=mt(-o,n)),{isValid:h||f,value:o}}const es=VA(sw,void 0,!0),ow={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:es,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:OA,randomBytes:MA,adjustScalarBytes:ZV,uvRatio:QV},nc=iw(ow);function qA(t,e,n){if(e.length>255)throw new Error("Context is too big");return RA(CA("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,e.length]),e,t)}({...ow});({...ow});const YV=(es.ORDER+BigInt(3))/BigInt(8);es.pow(u1,YV);es.sqrt(es.neg(es.ONE));(es.ORDER-BigInt(5))/BigInt(8);BigInt(486662);jV(es,es.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var aw={exports:{}};const XV={},JV=Object.freeze(Object.defineProperty({__proto__:null,default:XV},Symbol.toStringTag,{value:"Module"})),e$=x1(JV);aw.exports;(function(t){(function(e,n){function r(j,d){if(!j)throw new Error(d||"Assertion failed")}function i(j,d){j.super_=d;var _=function(){};_.prototype=d.prototype,j.prototype=new _,j.prototype.constructor=j}function s(j,d,_){if(s.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&((d==="le"||d==="be")&&(_=d,d=10),this._init(j||0,d||10,_||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=e$.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,_){return d.cmp(_)>0?d:_},s.min=function(d,_){return d.cmp(_)<0?d:_},s.prototype._init=function(d,_,T){if(typeof d=="number")return this._initNumber(d,_,T);if(typeof d=="object")return this._initArray(d,_,T);_==="hex"&&(_=16),r(_===(_|0)&&_>=2&&_<=36),d=d.toString().replace(/\s+/g,"");var D=0;d[0]==="-"&&(D++,this.negative=1),D<d.length&&(_===16?this._parseHex(d,D,T):(this._parseBase(d,_,D),T==="le"&&this._initArray(this.toArray(),_,T)))},s.prototype._initNumber=function(d,_,T){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),_,T)},s.prototype._initArray=function(d,_,T){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var C,k,M=0;if(T==="be")for(D=d.length-1,C=0;D>=0;D-=3)k=d[D]|d[D-1]<<8|d[D-2]<<16,this.words[C]|=k<<M&67108863,this.words[C+1]=k>>>26-M&67108863,M+=24,M>=26&&(M-=26,C++);else if(T==="le")for(D=0,C=0;D<d.length;D+=3)k=d[D]|d[D+1]<<8|d[D+2]<<16,this.words[C]|=k<<M&67108863,this.words[C+1]=k>>>26-M&67108863,M+=24,M>=26&&(M-=26,C++);return this._strip()};function a(j,d){var _=j.charCodeAt(d);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;r(!1,"Invalid character in "+j)}function l(j,d,_){var T=a(j,_);return _-1>=d&&(T|=a(j,_-1)<<4),T}s.prototype._parseHex=function(d,_,T){this.length=Math.ceil((d.length-_)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var C=0,k=0,M;if(T==="be")for(D=d.length-1;D>=_;D-=2)M=l(d,_,D)<<C,this.words[k]|=M&67108863,C>=18?(C-=18,k+=1,this.words[k]|=M>>>26):C+=8;else{var I=d.length-_;for(D=I%2===0?_+1:_;D<d.length;D+=2)M=l(d,_,D)<<C,this.words[k]|=M&67108863,C>=18?(C-=18,k+=1,this.words[k]|=M>>>26):C+=8}this._strip()};function c(j,d,_,T){for(var D=0,C=0,k=Math.min(j.length,_),M=d;M<k;M++){var I=j.charCodeAt(M)-48;D*=T,I>=49?C=I-49+10:I>=17?C=I-17+10:C=I,r(I>=0&&C<T,"Invalid character"),D+=C}return D}s.prototype._parseBase=function(d,_,T){this.words=[0],this.length=1;for(var D=0,C=1;C<=67108863;C*=_)D++;D--,C=C/_|0;for(var k=d.length-T,M=k%D,I=Math.min(k,k-M)+T,p=0,L=T;L<I;L+=D)p=c(d,L,L+D,_),this.imuln(C),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(M!==0){var W=1;for(p=c(d,L,d.length,_),L=0;L<M;L++)W*=_;this.imuln(W),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var _=0;_<this.length;_++)d.words[_]=this.words[_];d.length=this.length,d.negative=this.negative,d.red=this.red};function h(j,d){j.words=d.words,j.length=d.length,j.negative=d.negative,j.red=d.red}if(s.prototype._move=function(d){h(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,_){d=d||10,_=_|0||1;var T;if(d===16||d==="hex"){T="";for(var D=0,C=0,k=0;k<this.length;k++){var M=this.words[k],I=((M<<D|C)&16777215).toString(16);C=M>>>24-D&16777215,D+=2,D>=26&&(D-=26,k--),C!==0||k!==this.length-1?T=v[6-I.length]+I+T:T=I+T}for(C!==0&&(T=C.toString(16)+T);T.length%_!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(d===(d|0)&&d>=2&&d<=36){var p=w[d],L=S[d];T="";var W=this.clone();for(W.negative=0;!W.isZero();){var Y=W.modrn(L).toString(d);W=W.idivn(L),W.isZero()?T=Y+T:T=v[p-Y.length]+Y+T}for(this.isZero()&&(T="0"+T);T.length%_!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,_){return this.toArrayLike(o,d,_)}),s.prototype.toArray=function(d,_){return this.toArrayLike(Array,d,_)};var b=function(d,_){return d.allocUnsafe?d.allocUnsafe(_):new d(_)};s.prototype.toArrayLike=function(d,_,T){this._strip();var D=this.byteLength(),C=T||Math.max(1,D);r(D<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var k=b(d,C),M=_==="le"?"LE":"BE";return this["_toArrayLike"+M](k,D),k},s.prototype._toArrayLikeLE=function(d,_){for(var T=0,D=0,C=0,k=0;C<this.length;C++){var M=this.words[C]<<k|D;d[T++]=M&255,T<d.length&&(d[T++]=M>>8&255),T<d.length&&(d[T++]=M>>16&255),k===6?(T<d.length&&(d[T++]=M>>24&255),D=0,k=0):(D=M>>>24,k+=2)}if(T<d.length)for(d[T++]=D;T<d.length;)d[T++]=0},s.prototype._toArrayLikeBE=function(d,_){for(var T=d.length-1,D=0,C=0,k=0;C<this.length;C++){var M=this.words[C]<<k|D;d[T--]=M&255,T>=0&&(d[T--]=M>>8&255),T>=0&&(d[T--]=M>>16&255),k===6?(T>=0&&(d[T--]=M>>24&255),D=0,k=0):(D=M>>>24,k+=2)}if(T>=0)for(d[T--]=D;T>=0;)d[T--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var _=d,T=0;return _>=4096&&(T+=13,_>>>=13),_>=64&&(T+=7,_>>>=7),_>=8&&(T+=4,_>>>=4),_>=2&&(T+=2,_>>>=2),T+_},s.prototype._zeroBits=function(d){if(d===0)return 26;var _=d,T=0;return _&8191||(T+=13,_>>>=13),_&127||(T+=7,_>>>=7),_&15||(T+=4,_>>>=4),_&3||(T+=2,_>>>=2),_&1||T++,T},s.prototype.bitLength=function(){var d=this.words[this.length-1],_=this._countBits(d);return(this.length-1)*26+_};function A(j){for(var d=new Array(j.bitLength()),_=0;_<d.length;_++){var T=_/26|0,D=_%26;d[_]=j.words[T]>>>D&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,_=0;_<this.length;_++){var T=this._zeroBits(this.words[_]);if(d+=T,T!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var _=0;_<d.length;_++)this.words[_]=this.words[_]|d.words[_];return this._strip()},s.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var _;this.length>d.length?_=d:_=this;for(var T=0;T<_.length;T++)this.words[T]=this.words[T]&d.words[T];return this.length=_.length,this._strip()},s.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var _,T;this.length>d.length?(_=this,T=d):(_=d,T=this);for(var D=0;D<T.length;D++)this.words[D]=_.words[D]^T.words[D];if(this!==_)for(;D<_.length;D++)this.words[D]=_.words[D];return this.length=_.length,this._strip()},s.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var _=Math.ceil(d/26)|0,T=d%26;this._expand(_),T>0&&_--;for(var D=0;D<_;D++)this.words[D]=~this.words[D]&67108863;return T>0&&(this.words[D]=~this.words[D]&67108863>>26-T),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,_){r(typeof d=="number"&&d>=0);var T=d/26|0,D=d%26;return this._expand(T+1),_?this.words[T]=this.words[T]|1<<D:this.words[T]=this.words[T]&~(1<<D),this._strip()},s.prototype.iadd=function(d){var _;if(this.negative!==0&&d.negative===0)return this.negative=0,_=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,_=this.isub(d),d.negative=1,_._normSign();var T,D;this.length>d.length?(T=this,D=d):(T=d,D=this);for(var C=0,k=0;k<D.length;k++)_=(T.words[k]|0)+(D.words[k]|0)+C,this.words[k]=_&67108863,C=_>>>26;for(;C!==0&&k<T.length;k++)_=(T.words[k]|0)+C,this.words[k]=_&67108863,C=_>>>26;if(this.length=T.length,C!==0)this.words[this.length]=C,this.length++;else if(T!==this)for(;k<T.length;k++)this.words[k]=T.words[k];return this},s.prototype.add=function(d){var _;return d.negative!==0&&this.negative===0?(d.negative=0,_=this.sub(d),d.negative^=1,_):d.negative===0&&this.negative!==0?(this.negative=0,_=d.sub(this),this.negative=1,_):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var _=this.iadd(d);return d.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var T=this.cmp(d);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var D,C;T>0?(D=this,C=d):(D=d,C=this);for(var k=0,M=0;M<C.length;M++)_=(D.words[M]|0)-(C.words[M]|0)+k,k=_>>26,this.words[M]=_&67108863;for(;k!==0&&M<D.length;M++)_=(D.words[M]|0)+k,k=_>>26,this.words[M]=_&67108863;if(k===0&&M<D.length&&D!==this)for(;M<D.length;M++)this.words[M]=D.words[M];return this.length=Math.max(this.length,M),D!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function x(j,d,_){_.negative=d.negative^j.negative;var T=j.length+d.length|0;_.length=T,T=T-1|0;var D=j.words[0]|0,C=d.words[0]|0,k=D*C,M=k&67108863,I=k/67108864|0;_.words[0]=M;for(var p=1;p<T;p++){for(var L=I>>>26,W=I&67108863,Y=Math.min(p,d.length-1),X=Math.max(0,p-j.length+1);X<=Y;X++){var oe=p-X|0;D=j.words[oe]|0,C=d.words[X]|0,k=D*C+W,L+=k/67108864|0,W=k&67108863}_.words[p]=W|0,I=L|0}return I!==0?_.words[p]=I|0:_.length--,_._strip()}var E=function(d,_,T){var D=d.words,C=_.words,k=T.words,M=0,I,p,L,W=D[0]|0,Y=W&8191,X=W>>>13,oe=D[1]|0,he=oe&8191,ge=oe>>>13,qe=D[2]|0,ke=qe&8191,Me=qe>>>13,$e=D[3]|0,De=$e&8191,Ge=$e>>>13,fr=D[4]|0,Je=fr&8191,ot=fr>>>13,ds=D[5]|0,We=ds&8191,Ze=ds>>>13,sn=D[6]|0,et=sn&8191,tt=sn>>>13,yn=D[7]|0,st=yn&8191,R=yn>>>13,g=D[8]|0,m=g&8191,B=g>>>13,V=D[9]|0,z=V&8191,K=V>>>13,Le=C[0]|0,Re=Le&8191,Ie=Le>>>13,ct=C[1]|0,be=ct&8191,Dt=ct>>>13,Iw=C[2]|0,Ot=Iw&8191,Bt=Iw>>>13,Aw=C[3]|0,jt=Aw&8191,Ut=Aw>>>13,kw=C[4]|0,Ft=kw&8191,Vt=kw>>>13,Tw=C[5]|0,$t=Tw&8191,zt=Tw>>>13,Cw=C[6]|0,Ht=Cw&8191,qt=Cw>>>13,Rw=C[7]|0,Wt=Rw&8191,Kt=Rw>>>13,Pw=C[8]|0,Gt=Pw&8191,Zt=Pw>>>13,Nw=C[9]|0,Qt=Nw&8191,Yt=Nw>>>13;T.negative=d.negative^_.negative,T.length=19,I=Math.imul(Y,Re),p=Math.imul(Y,Ie),p=p+Math.imul(X,Re)|0,L=Math.imul(X,Ie);var f0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(f0>>>26)|0,f0&=67108863,I=Math.imul(he,Re),p=Math.imul(he,Ie),p=p+Math.imul(ge,Re)|0,L=Math.imul(ge,Ie),I=I+Math.imul(Y,be)|0,p=p+Math.imul(Y,Dt)|0,p=p+Math.imul(X,be)|0,L=L+Math.imul(X,Dt)|0;var p0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(p0>>>26)|0,p0&=67108863,I=Math.imul(ke,Re),p=Math.imul(ke,Ie),p=p+Math.imul(Me,Re)|0,L=Math.imul(Me,Ie),I=I+Math.imul(he,be)|0,p=p+Math.imul(he,Dt)|0,p=p+Math.imul(ge,be)|0,L=L+Math.imul(ge,Dt)|0,I=I+Math.imul(Y,Ot)|0,p=p+Math.imul(Y,Bt)|0,p=p+Math.imul(X,Ot)|0,L=L+Math.imul(X,Bt)|0;var g0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(g0>>>26)|0,g0&=67108863,I=Math.imul(De,Re),p=Math.imul(De,Ie),p=p+Math.imul(Ge,Re)|0,L=Math.imul(Ge,Ie),I=I+Math.imul(ke,be)|0,p=p+Math.imul(ke,Dt)|0,p=p+Math.imul(Me,be)|0,L=L+Math.imul(Me,Dt)|0,I=I+Math.imul(he,Ot)|0,p=p+Math.imul(he,Bt)|0,p=p+Math.imul(ge,Ot)|0,L=L+Math.imul(ge,Bt)|0,I=I+Math.imul(Y,jt)|0,p=p+Math.imul(Y,Ut)|0,p=p+Math.imul(X,jt)|0,L=L+Math.imul(X,Ut)|0;var m0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(m0>>>26)|0,m0&=67108863,I=Math.imul(Je,Re),p=Math.imul(Je,Ie),p=p+Math.imul(ot,Re)|0,L=Math.imul(ot,Ie),I=I+Math.imul(De,be)|0,p=p+Math.imul(De,Dt)|0,p=p+Math.imul(Ge,be)|0,L=L+Math.imul(Ge,Dt)|0,I=I+Math.imul(ke,Ot)|0,p=p+Math.imul(ke,Bt)|0,p=p+Math.imul(Me,Ot)|0,L=L+Math.imul(Me,Bt)|0,I=I+Math.imul(he,jt)|0,p=p+Math.imul(he,Ut)|0,p=p+Math.imul(ge,jt)|0,L=L+Math.imul(ge,Ut)|0,I=I+Math.imul(Y,Ft)|0,p=p+Math.imul(Y,Vt)|0,p=p+Math.imul(X,Ft)|0,L=L+Math.imul(X,Vt)|0;var y0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(y0>>>26)|0,y0&=67108863,I=Math.imul(We,Re),p=Math.imul(We,Ie),p=p+Math.imul(Ze,Re)|0,L=Math.imul(Ze,Ie),I=I+Math.imul(Je,be)|0,p=p+Math.imul(Je,Dt)|0,p=p+Math.imul(ot,be)|0,L=L+Math.imul(ot,Dt)|0,I=I+Math.imul(De,Ot)|0,p=p+Math.imul(De,Bt)|0,p=p+Math.imul(Ge,Ot)|0,L=L+Math.imul(Ge,Bt)|0,I=I+Math.imul(ke,jt)|0,p=p+Math.imul(ke,Ut)|0,p=p+Math.imul(Me,jt)|0,L=L+Math.imul(Me,Ut)|0,I=I+Math.imul(he,Ft)|0,p=p+Math.imul(he,Vt)|0,p=p+Math.imul(ge,Ft)|0,L=L+Math.imul(ge,Vt)|0,I=I+Math.imul(Y,$t)|0,p=p+Math.imul(Y,zt)|0,p=p+Math.imul(X,$t)|0,L=L+Math.imul(X,zt)|0;var v0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(v0>>>26)|0,v0&=67108863,I=Math.imul(et,Re),p=Math.imul(et,Ie),p=p+Math.imul(tt,Re)|0,L=Math.imul(tt,Ie),I=I+Math.imul(We,be)|0,p=p+Math.imul(We,Dt)|0,p=p+Math.imul(Ze,be)|0,L=L+Math.imul(Ze,Dt)|0,I=I+Math.imul(Je,Ot)|0,p=p+Math.imul(Je,Bt)|0,p=p+Math.imul(ot,Ot)|0,L=L+Math.imul(ot,Bt)|0,I=I+Math.imul(De,jt)|0,p=p+Math.imul(De,Ut)|0,p=p+Math.imul(Ge,jt)|0,L=L+Math.imul(Ge,Ut)|0,I=I+Math.imul(ke,Ft)|0,p=p+Math.imul(ke,Vt)|0,p=p+Math.imul(Me,Ft)|0,L=L+Math.imul(Me,Vt)|0,I=I+Math.imul(he,$t)|0,p=p+Math.imul(he,zt)|0,p=p+Math.imul(ge,$t)|0,L=L+Math.imul(ge,zt)|0,I=I+Math.imul(Y,Ht)|0,p=p+Math.imul(Y,qt)|0,p=p+Math.imul(X,Ht)|0,L=L+Math.imul(X,qt)|0;var _0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(_0>>>26)|0,_0&=67108863,I=Math.imul(st,Re),p=Math.imul(st,Ie),p=p+Math.imul(R,Re)|0,L=Math.imul(R,Ie),I=I+Math.imul(et,be)|0,p=p+Math.imul(et,Dt)|0,p=p+Math.imul(tt,be)|0,L=L+Math.imul(tt,Dt)|0,I=I+Math.imul(We,Ot)|0,p=p+Math.imul(We,Bt)|0,p=p+Math.imul(Ze,Ot)|0,L=L+Math.imul(Ze,Bt)|0,I=I+Math.imul(Je,jt)|0,p=p+Math.imul(Je,Ut)|0,p=p+Math.imul(ot,jt)|0,L=L+Math.imul(ot,Ut)|0,I=I+Math.imul(De,Ft)|0,p=p+Math.imul(De,Vt)|0,p=p+Math.imul(Ge,Ft)|0,L=L+Math.imul(Ge,Vt)|0,I=I+Math.imul(ke,$t)|0,p=p+Math.imul(ke,zt)|0,p=p+Math.imul(Me,$t)|0,L=L+Math.imul(Me,zt)|0,I=I+Math.imul(he,Ht)|0,p=p+Math.imul(he,qt)|0,p=p+Math.imul(ge,Ht)|0,L=L+Math.imul(ge,qt)|0,I=I+Math.imul(Y,Wt)|0,p=p+Math.imul(Y,Kt)|0,p=p+Math.imul(X,Wt)|0,L=L+Math.imul(X,Kt)|0;var w0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(w0>>>26)|0,w0&=67108863,I=Math.imul(m,Re),p=Math.imul(m,Ie),p=p+Math.imul(B,Re)|0,L=Math.imul(B,Ie),I=I+Math.imul(st,be)|0,p=p+Math.imul(st,Dt)|0,p=p+Math.imul(R,be)|0,L=L+Math.imul(R,Dt)|0,I=I+Math.imul(et,Ot)|0,p=p+Math.imul(et,Bt)|0,p=p+Math.imul(tt,Ot)|0,L=L+Math.imul(tt,Bt)|0,I=I+Math.imul(We,jt)|0,p=p+Math.imul(We,Ut)|0,p=p+Math.imul(Ze,jt)|0,L=L+Math.imul(Ze,Ut)|0,I=I+Math.imul(Je,Ft)|0,p=p+Math.imul(Je,Vt)|0,p=p+Math.imul(ot,Ft)|0,L=L+Math.imul(ot,Vt)|0,I=I+Math.imul(De,$t)|0,p=p+Math.imul(De,zt)|0,p=p+Math.imul(Ge,$t)|0,L=L+Math.imul(Ge,zt)|0,I=I+Math.imul(ke,Ht)|0,p=p+Math.imul(ke,qt)|0,p=p+Math.imul(Me,Ht)|0,L=L+Math.imul(Me,qt)|0,I=I+Math.imul(he,Wt)|0,p=p+Math.imul(he,Kt)|0,p=p+Math.imul(ge,Wt)|0,L=L+Math.imul(ge,Kt)|0,I=I+Math.imul(Y,Gt)|0,p=p+Math.imul(Y,Zt)|0,p=p+Math.imul(X,Gt)|0,L=L+Math.imul(X,Zt)|0;var x0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(x0>>>26)|0,x0&=67108863,I=Math.imul(z,Re),p=Math.imul(z,Ie),p=p+Math.imul(K,Re)|0,L=Math.imul(K,Ie),I=I+Math.imul(m,be)|0,p=p+Math.imul(m,Dt)|0,p=p+Math.imul(B,be)|0,L=L+Math.imul(B,Dt)|0,I=I+Math.imul(st,Ot)|0,p=p+Math.imul(st,Bt)|0,p=p+Math.imul(R,Ot)|0,L=L+Math.imul(R,Bt)|0,I=I+Math.imul(et,jt)|0,p=p+Math.imul(et,Ut)|0,p=p+Math.imul(tt,jt)|0,L=L+Math.imul(tt,Ut)|0,I=I+Math.imul(We,Ft)|0,p=p+Math.imul(We,Vt)|0,p=p+Math.imul(Ze,Ft)|0,L=L+Math.imul(Ze,Vt)|0,I=I+Math.imul(Je,$t)|0,p=p+Math.imul(Je,zt)|0,p=p+Math.imul(ot,$t)|0,L=L+Math.imul(ot,zt)|0,I=I+Math.imul(De,Ht)|0,p=p+Math.imul(De,qt)|0,p=p+Math.imul(Ge,Ht)|0,L=L+Math.imul(Ge,qt)|0,I=I+Math.imul(ke,Wt)|0,p=p+Math.imul(ke,Kt)|0,p=p+Math.imul(Me,Wt)|0,L=L+Math.imul(Me,Kt)|0,I=I+Math.imul(he,Gt)|0,p=p+Math.imul(he,Zt)|0,p=p+Math.imul(ge,Gt)|0,L=L+Math.imul(ge,Zt)|0,I=I+Math.imul(Y,Qt)|0,p=p+Math.imul(Y,Yt)|0,p=p+Math.imul(X,Qt)|0,L=L+Math.imul(X,Yt)|0;var b0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(b0>>>26)|0,b0&=67108863,I=Math.imul(z,be),p=Math.imul(z,Dt),p=p+Math.imul(K,be)|0,L=Math.imul(K,Dt),I=I+Math.imul(m,Ot)|0,p=p+Math.imul(m,Bt)|0,p=p+Math.imul(B,Ot)|0,L=L+Math.imul(B,Bt)|0,I=I+Math.imul(st,jt)|0,p=p+Math.imul(st,Ut)|0,p=p+Math.imul(R,jt)|0,L=L+Math.imul(R,Ut)|0,I=I+Math.imul(et,Ft)|0,p=p+Math.imul(et,Vt)|0,p=p+Math.imul(tt,Ft)|0,L=L+Math.imul(tt,Vt)|0,I=I+Math.imul(We,$t)|0,p=p+Math.imul(We,zt)|0,p=p+Math.imul(Ze,$t)|0,L=L+Math.imul(Ze,zt)|0,I=I+Math.imul(Je,Ht)|0,p=p+Math.imul(Je,qt)|0,p=p+Math.imul(ot,Ht)|0,L=L+Math.imul(ot,qt)|0,I=I+Math.imul(De,Wt)|0,p=p+Math.imul(De,Kt)|0,p=p+Math.imul(Ge,Wt)|0,L=L+Math.imul(Ge,Kt)|0,I=I+Math.imul(ke,Gt)|0,p=p+Math.imul(ke,Zt)|0,p=p+Math.imul(Me,Gt)|0,L=L+Math.imul(Me,Zt)|0,I=I+Math.imul(he,Qt)|0,p=p+Math.imul(he,Yt)|0,p=p+Math.imul(ge,Qt)|0,L=L+Math.imul(ge,Yt)|0;var E0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(E0>>>26)|0,E0&=67108863,I=Math.imul(z,Ot),p=Math.imul(z,Bt),p=p+Math.imul(K,Ot)|0,L=Math.imul(K,Bt),I=I+Math.imul(m,jt)|0,p=p+Math.imul(m,Ut)|0,p=p+Math.imul(B,jt)|0,L=L+Math.imul(B,Ut)|0,I=I+Math.imul(st,Ft)|0,p=p+Math.imul(st,Vt)|0,p=p+Math.imul(R,Ft)|0,L=L+Math.imul(R,Vt)|0,I=I+Math.imul(et,$t)|0,p=p+Math.imul(et,zt)|0,p=p+Math.imul(tt,$t)|0,L=L+Math.imul(tt,zt)|0,I=I+Math.imul(We,Ht)|0,p=p+Math.imul(We,qt)|0,p=p+Math.imul(Ze,Ht)|0,L=L+Math.imul(Ze,qt)|0,I=I+Math.imul(Je,Wt)|0,p=p+Math.imul(Je,Kt)|0,p=p+Math.imul(ot,Wt)|0,L=L+Math.imul(ot,Kt)|0,I=I+Math.imul(De,Gt)|0,p=p+Math.imul(De,Zt)|0,p=p+Math.imul(Ge,Gt)|0,L=L+Math.imul(Ge,Zt)|0,I=I+Math.imul(ke,Qt)|0,p=p+Math.imul(ke,Yt)|0,p=p+Math.imul(Me,Qt)|0,L=L+Math.imul(Me,Yt)|0;var S0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(S0>>>26)|0,S0&=67108863,I=Math.imul(z,jt),p=Math.imul(z,Ut),p=p+Math.imul(K,jt)|0,L=Math.imul(K,Ut),I=I+Math.imul(m,Ft)|0,p=p+Math.imul(m,Vt)|0,p=p+Math.imul(B,Ft)|0,L=L+Math.imul(B,Vt)|0,I=I+Math.imul(st,$t)|0,p=p+Math.imul(st,zt)|0,p=p+Math.imul(R,$t)|0,L=L+Math.imul(R,zt)|0,I=I+Math.imul(et,Ht)|0,p=p+Math.imul(et,qt)|0,p=p+Math.imul(tt,Ht)|0,L=L+Math.imul(tt,qt)|0,I=I+Math.imul(We,Wt)|0,p=p+Math.imul(We,Kt)|0,p=p+Math.imul(Ze,Wt)|0,L=L+Math.imul(Ze,Kt)|0,I=I+Math.imul(Je,Gt)|0,p=p+Math.imul(Je,Zt)|0,p=p+Math.imul(ot,Gt)|0,L=L+Math.imul(ot,Zt)|0,I=I+Math.imul(De,Qt)|0,p=p+Math.imul(De,Yt)|0,p=p+Math.imul(Ge,Qt)|0,L=L+Math.imul(Ge,Yt)|0;var I0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(I0>>>26)|0,I0&=67108863,I=Math.imul(z,Ft),p=Math.imul(z,Vt),p=p+Math.imul(K,Ft)|0,L=Math.imul(K,Vt),I=I+Math.imul(m,$t)|0,p=p+Math.imul(m,zt)|0,p=p+Math.imul(B,$t)|0,L=L+Math.imul(B,zt)|0,I=I+Math.imul(st,Ht)|0,p=p+Math.imul(st,qt)|0,p=p+Math.imul(R,Ht)|0,L=L+Math.imul(R,qt)|0,I=I+Math.imul(et,Wt)|0,p=p+Math.imul(et,Kt)|0,p=p+Math.imul(tt,Wt)|0,L=L+Math.imul(tt,Kt)|0,I=I+Math.imul(We,Gt)|0,p=p+Math.imul(We,Zt)|0,p=p+Math.imul(Ze,Gt)|0,L=L+Math.imul(Ze,Zt)|0,I=I+Math.imul(Je,Qt)|0,p=p+Math.imul(Je,Yt)|0,p=p+Math.imul(ot,Qt)|0,L=L+Math.imul(ot,Yt)|0;var A0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(A0>>>26)|0,A0&=67108863,I=Math.imul(z,$t),p=Math.imul(z,zt),p=p+Math.imul(K,$t)|0,L=Math.imul(K,zt),I=I+Math.imul(m,Ht)|0,p=p+Math.imul(m,qt)|0,p=p+Math.imul(B,Ht)|0,L=L+Math.imul(B,qt)|0,I=I+Math.imul(st,Wt)|0,p=p+Math.imul(st,Kt)|0,p=p+Math.imul(R,Wt)|0,L=L+Math.imul(R,Kt)|0,I=I+Math.imul(et,Gt)|0,p=p+Math.imul(et,Zt)|0,p=p+Math.imul(tt,Gt)|0,L=L+Math.imul(tt,Zt)|0,I=I+Math.imul(We,Qt)|0,p=p+Math.imul(We,Yt)|0,p=p+Math.imul(Ze,Qt)|0,L=L+Math.imul(Ze,Yt)|0;var k0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(k0>>>26)|0,k0&=67108863,I=Math.imul(z,Ht),p=Math.imul(z,qt),p=p+Math.imul(K,Ht)|0,L=Math.imul(K,qt),I=I+Math.imul(m,Wt)|0,p=p+Math.imul(m,Kt)|0,p=p+Math.imul(B,Wt)|0,L=L+Math.imul(B,Kt)|0,I=I+Math.imul(st,Gt)|0,p=p+Math.imul(st,Zt)|0,p=p+Math.imul(R,Gt)|0,L=L+Math.imul(R,Zt)|0,I=I+Math.imul(et,Qt)|0,p=p+Math.imul(et,Yt)|0,p=p+Math.imul(tt,Qt)|0,L=L+Math.imul(tt,Yt)|0;var T0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(T0>>>26)|0,T0&=67108863,I=Math.imul(z,Wt),p=Math.imul(z,Kt),p=p+Math.imul(K,Wt)|0,L=Math.imul(K,Kt),I=I+Math.imul(m,Gt)|0,p=p+Math.imul(m,Zt)|0,p=p+Math.imul(B,Gt)|0,L=L+Math.imul(B,Zt)|0,I=I+Math.imul(st,Qt)|0,p=p+Math.imul(st,Yt)|0,p=p+Math.imul(R,Qt)|0,L=L+Math.imul(R,Yt)|0;var C0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(C0>>>26)|0,C0&=67108863,I=Math.imul(z,Gt),p=Math.imul(z,Zt),p=p+Math.imul(K,Gt)|0,L=Math.imul(K,Zt),I=I+Math.imul(m,Qt)|0,p=p+Math.imul(m,Yt)|0,p=p+Math.imul(B,Qt)|0,L=L+Math.imul(B,Yt)|0;var R0=(M+I|0)+((p&8191)<<13)|0;M=(L+(p>>>13)|0)+(R0>>>26)|0,R0&=67108863,I=Math.imul(z,Qt),p=Math.imul(z,Yt),p=p+Math.imul(K,Qt)|0,L=Math.imul(K,Yt);var P0=(M+I|0)+((p&8191)<<13)|0;return M=(L+(p>>>13)|0)+(P0>>>26)|0,P0&=67108863,k[0]=f0,k[1]=p0,k[2]=g0,k[3]=m0,k[4]=y0,k[5]=v0,k[6]=_0,k[7]=w0,k[8]=x0,k[9]=b0,k[10]=E0,k[11]=S0,k[12]=I0,k[13]=A0,k[14]=k0,k[15]=T0,k[16]=C0,k[17]=R0,k[18]=P0,M!==0&&(k[19]=M,T.length++),T};Math.imul||(E=x);function y(j,d,_){_.negative=d.negative^j.negative,_.length=j.length+d.length;for(var T=0,D=0,C=0;C<_.length-1;C++){var k=D;D=0;for(var M=T&67108863,I=Math.min(C,d.length-1),p=Math.max(0,C-j.length+1);p<=I;p++){var L=C-p,W=j.words[L]|0,Y=d.words[p]|0,X=W*Y,oe=X&67108863;k=k+(X/67108864|0)|0,oe=oe+M|0,M=oe&67108863,k=k+(oe>>>26)|0,D+=k>>>26,k&=67108863}_.words[C]=M,T=k,k=D}return T!==0?_.words[C]=T:_.length--,_._strip()}function P(j,d,_){return y(j,d,_)}s.prototype.mulTo=function(d,_){var T,D=this.length+d.length;return this.length===10&&d.length===10?T=E(this,d,_):D<63?T=x(this,d,_):D<1024?T=y(this,d,_):T=P(this,d,_),T},s.prototype.mul=function(d){var _=new s(null);return _.words=new Array(this.length+d.length),this.mulTo(d,_)},s.prototype.mulf=function(d){var _=new s(null);return _.words=new Array(this.length+d.length),P(this,d,_)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var _=d<0;_&&(d=-d),r(typeof d=="number"),r(d<67108864);for(var T=0,D=0;D<this.length;D++){var C=(this.words[D]|0)*d,k=(C&67108863)+(T&67108863);T>>=26,T+=C/67108864|0,T+=k>>>26,this.words[D]=k&67108863}return T!==0&&(this.words[D]=T,this.length++),_?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var _=A(d);if(_.length===0)return new s(1);for(var T=this,D=0;D<_.length&&_[D]===0;D++,T=T.sqr());if(++D<_.length)for(var C=T.sqr();D<_.length;D++,C=C.sqr())_[D]!==0&&(T=T.mul(C));return T},s.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var _=d%26,T=(d-_)/26,D=67108863>>>26-_<<26-_,C;if(_!==0){var k=0;for(C=0;C<this.length;C++){var M=this.words[C]&D,I=(this.words[C]|0)-M<<_;this.words[C]=I|k,k=M>>>26-_}k&&(this.words[C]=k,this.length++)}if(T!==0){for(C=this.length-1;C>=0;C--)this.words[C+T]=this.words[C];for(C=0;C<T;C++)this.words[C]=0;this.length+=T}return this._strip()},s.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,_,T){r(typeof d=="number"&&d>=0);var D;_?D=(_-_%26)/26:D=0;var C=d%26,k=Math.min((d-C)/26,this.length),M=67108863^67108863>>>C<<C,I=T;if(D-=k,D=Math.max(0,D),I){for(var p=0;p<k;p++)I.words[p]=this.words[p];I.length=k}if(k!==0)if(this.length>k)for(this.length-=k,p=0;p<this.length;p++)this.words[p]=this.words[p+k];else this.words[0]=0,this.length=1;var L=0;for(p=this.length-1;p>=0&&(L!==0||p>=D);p--){var W=this.words[p]|0;this.words[p]=L<<26-C|W>>>C,L=W&M}return I&&L!==0&&(I.words[I.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,_,T){return r(this.negative===0),this.iushrn(d,_,T)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var _=d%26,T=(d-_)/26,D=1<<_;if(this.length<=T)return!1;var C=this.words[T];return!!(C&D)},s.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var _=d%26,T=(d-_)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(_!==0&&T++,this.length=Math.min(T,this.length),_!==0){var D=67108863^67108863>>>_<<_;this.words[this.length-1]&=D}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},s.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,_,T){var D=d.length+T,C;this._expand(D);var k,M=0;for(C=0;C<d.length;C++){k=(this.words[C+T]|0)+M;var I=(d.words[C]|0)*_;k-=I&67108863,M=(k>>26)-(I/67108864|0),this.words[C+T]=k&67108863}for(;C<this.length-T;C++)k=(this.words[C+T]|0)+M,M=k>>26,this.words[C+T]=k&67108863;if(M===0)return this._strip();for(r(M===-1),M=0,C=0;C<this.length;C++)k=-(this.words[C]|0)+M,M=k>>26,this.words[C]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,_){var T=this.length-d.length,D=this.clone(),C=d,k=C.words[C.length-1]|0,M=this._countBits(k);T=26-M,T!==0&&(C=C.ushln(T),D.iushln(T),k=C.words[C.length-1]|0);var I=D.length-C.length,p;if(_!=="mod"){p=new s(null),p.length=I+1,p.words=new Array(p.length);for(var L=0;L<p.length;L++)p.words[L]=0}var W=D.clone()._ishlnsubmul(C,1,I);W.negative===0&&(D=W,p&&(p.words[I]=1));for(var Y=I-1;Y>=0;Y--){var X=(D.words[C.length+Y]|0)*67108864+(D.words[C.length+Y-1]|0);for(X=Math.min(X/k|0,67108863),D._ishlnsubmul(C,X,Y);D.negative!==0;)X--,D.negative=0,D._ishlnsubmul(C,1,Y),D.isZero()||(D.negative^=1);p&&(p.words[Y]=X)}return p&&p._strip(),D._strip(),_!=="div"&&T!==0&&D.iushrn(T),{div:p||null,mod:D}},s.prototype.divmod=function(d,_,T){if(r(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var D,C,k;return this.negative!==0&&d.negative===0?(k=this.neg().divmod(d,_),_!=="mod"&&(D=k.div.neg()),_!=="div"&&(C=k.mod.neg(),T&&C.negative!==0&&C.iadd(d)),{div:D,mod:C}):this.negative===0&&d.negative!==0?(k=this.divmod(d.neg(),_),_!=="mod"&&(D=k.div.neg()),{div:D,mod:k.mod}):this.negative&d.negative?(k=this.neg().divmod(d.neg(),_),_!=="div"&&(C=k.mod.neg(),T&&C.negative!==0&&C.isub(d)),{div:k.div,mod:C}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?_==="div"?{div:this.divn(d.words[0]),mod:null}:_==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,_)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var _=this.divmod(d);if(_.mod.isZero())return _.div;var T=_.div.negative!==0?_.mod.isub(d):_.mod,D=d.ushrn(1),C=d.andln(1),k=T.cmp(D);return k<0||C===1&&k===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},s.prototype.modrn=function(d){var _=d<0;_&&(d=-d),r(d<=67108863);for(var T=(1<<26)%d,D=0,C=this.length-1;C>=0;C--)D=(T*D+(this.words[C]|0))%d;return _?-D:D},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var _=d<0;_&&(d=-d),r(d<=67108863);for(var T=0,D=this.length-1;D>=0;D--){var C=(this.words[D]|0)+T*67108864;this.words[D]=C/d|0,T=C%d}return this._strip(),_?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var _=this,T=d.clone();_.negative!==0?_=_.umod(d):_=_.clone();for(var D=new s(1),C=new s(0),k=new s(0),M=new s(1),I=0;_.isEven()&&T.isEven();)_.iushrn(1),T.iushrn(1),++I;for(var p=T.clone(),L=_.clone();!_.isZero();){for(var W=0,Y=1;!(_.words[0]&Y)&&W<26;++W,Y<<=1);if(W>0)for(_.iushrn(W);W-- >0;)(D.isOdd()||C.isOdd())&&(D.iadd(p),C.isub(L)),D.iushrn(1),C.iushrn(1);for(var X=0,oe=1;!(T.words[0]&oe)&&X<26;++X,oe<<=1);if(X>0)for(T.iushrn(X);X-- >0;)(k.isOdd()||M.isOdd())&&(k.iadd(p),M.isub(L)),k.iushrn(1),M.iushrn(1);_.cmp(T)>=0?(_.isub(T),D.isub(k),C.isub(M)):(T.isub(_),k.isub(D),M.isub(C))}return{a:k,b:M,gcd:T.iushln(I)}},s.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var _=this,T=d.clone();_.negative!==0?_=_.umod(d):_=_.clone();for(var D=new s(1),C=new s(0),k=T.clone();_.cmpn(1)>0&&T.cmpn(1)>0;){for(var M=0,I=1;!(_.words[0]&I)&&M<26;++M,I<<=1);if(M>0)for(_.iushrn(M);M-- >0;)D.isOdd()&&D.iadd(k),D.iushrn(1);for(var p=0,L=1;!(T.words[0]&L)&&p<26;++p,L<<=1);if(p>0)for(T.iushrn(p);p-- >0;)C.isOdd()&&C.iadd(k),C.iushrn(1);_.cmp(T)>=0?(_.isub(T),D.isub(C)):(T.isub(_),C.isub(D))}var W;return _.cmpn(1)===0?W=D:W=C,W.cmpn(0)<0&&W.iadd(d),W},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var _=this.clone(),T=d.clone();_.negative=0,T.negative=0;for(var D=0;_.isEven()&&T.isEven();D++)_.iushrn(1),T.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;T.isEven();)T.iushrn(1);var C=_.cmp(T);if(C<0){var k=_;_=T,T=k}else if(C===0||T.cmpn(1)===0)break;_.isub(T)}while(!0);return T.iushln(D)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){r(typeof d=="number");var _=d%26,T=(d-_)/26,D=1<<_;if(this.length<=T)return this._expand(T+1),this.words[T]|=D,this;for(var C=D,k=T;C!==0&&k<this.length;k++){var M=this.words[k]|0;M+=C,C=M>>>26,M&=67108863,this.words[k]=M}return C!==0&&(this.words[k]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var _=d<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var T;if(this.length>1)T=1;else{_&&(d=-d),r(d<=67108863,"Number is too big");var D=this.words[0]|0;T=D===d?0:D<d?-1:1}return this.negative!==0?-T|0:T},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var _=this.ucmp(d);return this.negative!==0?-_|0:_},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var _=0,T=this.length-1;T>=0;T--){var D=this.words[T]|0,C=d.words[T]|0;if(D!==C){D<C?_=-1:D>C&&(_=1);break}}return _},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new Z(d)},s.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var N={k256:null,p224:null,p192:null,p25519:null};function O(j,d){this.name=j,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},O.prototype.ireduce=function(d){var _=d,T;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),T=_.bitLength();while(T>this.n);var D=T<this.n?-1:_.ucmp(this.p);return D===0?(_.words[0]=0,_.length=1):D>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},O.prototype.split=function(d,_){d.iushrn(this.n,0,_)},O.prototype.imulK=function(d){return d.imul(this.k)};function U(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(U,O),U.prototype.split=function(d,_){for(var T=4194303,D=Math.min(d.length,9),C=0;C<D;C++)_.words[C]=d.words[C];if(_.length=D,d.length<=9){d.words[0]=0,d.length=1;return}var k=d.words[9];for(_.words[_.length++]=k&T,C=10;C<d.length;C++){var M=d.words[C]|0;d.words[C-10]=(M&T)<<4|k>>>22,k=M}k>>>=22,d.words[C-10]=k,k===0&&d.length>10?d.length-=10:d.length-=9},U.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var _=0,T=0;T<d.length;T++){var D=d.words[T]|0;_+=D*977,d.words[T]=_&67108863,_=D*64+(_/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function F(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,O);function G(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,O);function Q(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Q,O),Q.prototype.imulK=function(d){for(var _=0,T=0;T<d.length;T++){var D=(d.words[T]|0)*19+_,C=D&67108863;D>>>=26,d.words[T]=C,_=D}return _!==0&&(d.words[d.length++]=_),d},s._prime=function(d){if(N[d])return N[d];var _;if(d==="k256")_=new U;else if(d==="p224")_=new F;else if(d==="p192")_=new G;else if(d==="p25519")_=new Q;else throw new Error("Unknown prime "+d);return N[d]=_,_};function Z(j){if(typeof j=="string"){var d=s._prime(j);this.m=d.p,this.prime=d}else r(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}Z.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},Z.prototype._verify2=function(d,_){r((d.negative|_.negative)===0,"red works only with positives"),r(d.red&&d.red===_.red,"red works only with red numbers")},Z.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(h(d,d.umod(this.m)._forceRed(this)),d)},Z.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},Z.prototype.add=function(d,_){this._verify2(d,_);var T=d.add(_);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},Z.prototype.iadd=function(d,_){this._verify2(d,_);var T=d.iadd(_);return T.cmp(this.m)>=0&&T.isub(this.m),T},Z.prototype.sub=function(d,_){this._verify2(d,_);var T=d.sub(_);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},Z.prototype.isub=function(d,_){this._verify2(d,_);var T=d.isub(_);return T.cmpn(0)<0&&T.iadd(this.m),T},Z.prototype.shl=function(d,_){return this._verify1(d),this.imod(d.ushln(_))},Z.prototype.imul=function(d,_){return this._verify2(d,_),this.imod(d.imul(_))},Z.prototype.mul=function(d,_){return this._verify2(d,_),this.imod(d.mul(_))},Z.prototype.isqr=function(d){return this.imul(d,d.clone())},Z.prototype.sqr=function(d){return this.mul(d,d)},Z.prototype.sqrt=function(d){if(d.isZero())return d.clone();var _=this.m.andln(3);if(r(_%2===1),_===3){var T=this.m.add(new s(1)).iushrn(2);return this.pow(d,T)}for(var D=this.m.subn(1),C=0;!D.isZero()&&D.andln(1)===0;)C++,D.iushrn(1);r(!D.isZero());var k=new s(1).toRed(this),M=k.redNeg(),I=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new s(2*p*p).toRed(this);this.pow(p,I).cmp(M)!==0;)p.redIAdd(M);for(var L=this.pow(p,D),W=this.pow(d,D.addn(1).iushrn(1)),Y=this.pow(d,D),X=C;Y.cmp(k)!==0;){for(var oe=Y,he=0;oe.cmp(k)!==0;he++)oe=oe.redSqr();r(he<X);var ge=this.pow(L,new s(1).iushln(X-he-1));W=W.redMul(ge),L=ge.redSqr(),Y=Y.redMul(L),X=he}return W},Z.prototype.invm=function(d){var _=d._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},Z.prototype.pow=function(d,_){if(_.isZero())return new s(1).toRed(this);if(_.cmpn(1)===0)return d.clone();var T=4,D=new Array(1<<T);D[0]=new s(1).toRed(this),D[1]=d;for(var C=2;C<D.length;C++)D[C]=this.mul(D[C-1],d);var k=D[0],M=0,I=0,p=_.bitLength()%26;for(p===0&&(p=26),C=_.length-1;C>=0;C--){for(var L=_.words[C],W=p-1;W>=0;W--){var Y=L>>W&1;if(k!==D[0]&&(k=this.sqr(k)),Y===0&&M===0){I=0;continue}M<<=1,M|=Y,I++,!(I!==T&&(C!==0||W!==0))&&(k=this.mul(k,D[M]),I=0,M=0)}p=26}return k},Z.prototype.convertTo=function(d){var _=d.umod(this.m);return _===d?_.clone():_},Z.prototype.convertFrom=function(d){var _=d.clone();return _.red=null,_},s.mont=function(d){return new ue(d)};function ue(j){Z.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ue,Z),ue.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},ue.prototype.convertFrom=function(d){var _=this.imod(d.mul(this.rinv));return _.red=null,_},ue.prototype.imul=function(d,_){if(d.isZero()||_.isZero())return d.words[0]=0,d.length=1,d;var T=d.imul(_),D=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(D).iushrn(this.shift),k=C;return C.cmp(this.m)>=0?k=C.isub(this.m):C.cmpn(0)<0&&(k=C.iadd(this.m)),k._forceRed(this)},ue.prototype.mul=function(d,_){if(d.isZero()||_.isZero())return new s(0)._forceRed(this);var T=d.mul(_),D=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(D).iushrn(this.shift),k=C;return C.cmp(this.m)>=0?k=C.isub(this.m):C.cmpn(0)<0&&(k=C.iadd(this.m)),k._forceRed(this)},ue.prototype.invm=function(d){var _=this.imod(d._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(t,oi)})(aw);var WA=aw.exports;const nb=ia(WA);var h1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Te,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(h1,h1.exports);var KA=h1.exports,id=KA.Buffer;function t$(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=id.from(w)),!id.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var S=0,b=0,A=0,x=w.length;A!==x&&w[A]===0;)A++,S++;for(var E=(x-A)*c+1>>>0,y=new Uint8Array(E);A!==x;){for(var P=w[A],N=0,O=E-1;(P!==0||N<b)&&O!==-1;O--,N++)P+=256*y[O]>>>0,y[O]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");b=N,A++}for(var U=E-b;U!==E&&y[U]===0;)U++;for(var F=a.repeat(S);U<E;++U)F+=t.charAt(y[U]);return F}function f(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return id.alloc(0);for(var S=0,b=0,A=0;w[S]===a;)b++,S++;for(var x=(w.length-S)*l+1>>>0,E=new Uint8Array(x);w[S];){var y=e[w.charCodeAt(S)];if(y===255)return;for(var P=0,N=x-1;(y!==0||P<A)&&N!==-1;N--,P++)y+=o*E[N]>>>0,E[N]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");A=P,S++}for(var O=x-A;O!==x&&E[O]===0;)O++;var U=id.allocUnsafe(b+(x-O));U.fill(0,0,b);for(var F=b;O!==x;)U[F++]=E[O++];return U}function v(w){var S=f(w);if(S)return S;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:v}}var n$=t$,r$=n$,i$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s$=r$(i$);const In=ia(s$),o$=(t,e,n)=>t&e^~t&n,a$=(t,e,n)=>t&e^t&n^e&n,l$=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ws=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xs=new Uint32Array(64);class c$ extends LA{constructor(){super(64,32,8,!1),this.A=ws[0]|0,this.B=ws[1]|0,this.C=ws[2]|0,this.D=ws[3]|0,this.E=ws[4]|0,this.F=ws[5]|0,this.G=ws[6]|0,this.H=ws[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)xs[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const v=xs[f-15],w=xs[f-2],S=pi(v,7)^pi(v,18)^v>>>3,b=pi(w,17)^pi(w,19)^w>>>10;xs[f]=b+xs[f-7]+S+xs[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:h}=this;for(let f=0;f<64;f++){const v=pi(a,6)^pi(a,11)^pi(a,25),w=h+v+o$(a,l,c)+l$[f]+xs[f]|0,b=(pi(r,2)^pi(r,13)^pi(r,22))+a$(r,i,s)|0;h=c,c=l,l=a,a=o+w|0,o=s,s=i,i=r,r=w+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(r,i,s,o,a,l,c,h)}roundClean(){xs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const d1=NA(()=>new c$);var En={},sd=KA.Buffer;function u$(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(w){if((Array.isArray(w)||w instanceof Uint8Array)&&(w=sd.from(w)),!sd.isBuffer(w))throw new TypeError("Expected Buffer");if(w.length===0)return"";for(var S=0,b=0,A=0,x=w.length;A!==x&&w[A]===0;)A++,S++;for(var E=(x-A)*c+1>>>0,y=new Uint8Array(E);A!==x;){for(var P=w[A],N=0,O=E-1;(P!==0||N<b)&&O!==-1;O--,N++)P+=256*y[O]>>>0,y[O]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");b=N,A++}for(var U=E-b;U!==E&&y[U]===0;)U++;for(var F=a.repeat(S);U<E;++U)F+=t.charAt(y[U]);return F}function f(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return sd.alloc(0);for(var S=0,b=0,A=0;w[S]===a;)b++,S++;for(var x=(w.length-S)*l+1>>>0,E=new Uint8Array(x);w[S];){var y=e[w.charCodeAt(S)];if(y===255)return;for(var P=0,N=x-1;(y!==0||P<A)&&N!==-1;N--,P++)y+=o*E[N]>>>0,E[N]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");A=P,S++}for(var O=x-A;O!==x&&E[O]===0;)O++;var U=sd.allocUnsafe(b+(x-O));U.fill(0,0,b);for(var F=b;O!==x;)U[F++]=E[O++];return U}function v(w){var S=f(w);if(S)return S;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:v}}var h$=u$,d$=h$,f$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",p$=d$(f$);function Hi(t,e,n){return e<=t&&t<=n}function i0(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function g$(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function m$(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Of=-1;function lw(t){this.tokens=[].slice.call(t)}lw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Of},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Ll=-1;function Qg(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Bf="utf-8";function jf(t,e){if(!(this instanceof jf))return new jf(t,e);if(t=t!==void 0?String(t).toLowerCase():Bf,t!==Bf)throw new Error("Encoding not supported. Only utf-8 is supported");e=i0(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}jf.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=i0(n),this._streaming||(this._decoder=new y$({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new lw(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Ll);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Ll)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),m$(s)}};function Uf(t,e){if(!(this instanceof Uf))return new Uf(t,e);if(t=t!==void 0?String(t).toLowerCase():Bf,t!==Bf)throw new Error("Encoding not supported. Only utf-8 is supported");e=i0(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Uf.prototype={encode:function(e,n){e=e?String(e):"",n=i0(n),this._streaming||(this._encoder=new v$(this._options)),this._streaming=!!n.stream;for(var r=[],i=new lw(g$(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Ll);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Ll;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function y$(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===Of&&i!==0)return i=0,Qg(e);if(l===Of)return Ll;if(i===0){if(Hi(l,0,127))return l;if(Hi(l,194,223))i=1,n=l-192;else if(Hi(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Hi(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return Qg(e);return n=n<<6*i,null}if(!Hi(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),Qg(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function v$(t){t.fatal,this.handler=function(e,n){if(n===Of)return Ll;if(Hi(n,0,127))return n;var r,i;Hi(n,128,2047)?(r=1,i=192):Hi(n,2048,65535)?(r=2,i=224):Hi(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const _$=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:jf,TextEncoder:Uf},Symbol.toStringTag,{value:"Module"})),w$=x1(_$);var x$=oi&&oi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),b$=oi&&oi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ui=oi&&oi.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},E$=oi&&oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&x$(e,t,n);return b$(e,t),e},GA=oi&&oi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});var ZA=En.deserializeUnchecked=tk=En.deserialize=ek=En.serialize=En.BinaryReader=En.BinaryWriter=En.BorshError=En.baseDecode=En.baseEncode=void 0;const Ds=GA(WA),QA=GA(p$),S$=E$(w$),I$=typeof TextDecoder!="function"?S$.TextDecoder:TextDecoder,A$=new I$("utf-8",{fatal:!0});function k$(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),QA.default.encode(Buffer.from(t))}En.baseEncode=k$;function T$(t){return Buffer.from(QA.default.decode(t))}En.baseDecode=T$;const Yg=1024;class Yn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}En.BorshError=Yn;class YA{constructor(){this.buf=Buffer.alloc(Yg),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Yg)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ds.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ds.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ds.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ds.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Yg)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}En.BinaryWriter=YA;function Fi(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Yn("Reached the end of buffer when deserializing")}throw s}}}class Cr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Ds.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Ds.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Ds.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Ds.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Yn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return A$.decode(n)}catch(r){throw new Yn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Ui([Fi],Cr.prototype,"readU8",null);Ui([Fi],Cr.prototype,"readU16",null);Ui([Fi],Cr.prototype,"readU32",null);Ui([Fi],Cr.prototype,"readU64",null);Ui([Fi],Cr.prototype,"readU128",null);Ui([Fi],Cr.prototype,"readU256",null);Ui([Fi],Cr.prototype,"readU512",null);Ui([Fi],Cr.prototype,"readString",null);Ui([Fi],Cr.prototype,"readFixedArray",null);Ui([Fi],Cr.prototype,"readArray",null);En.BinaryReader=Cr;function XA(t){return t.charAt(0).toUpperCase()+t.slice(1)}function bo(t,e,n,r,i){try{if(typeof r=="string")i[`write${XA(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Yn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Yn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)bo(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{bo(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),bo(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{bo(t,e,o,r.key,i),bo(t,e,s,r.value,i)});break}default:throw new Yn(`FieldType ${r} unrecognized`)}else JA(t,n,i)}catch(s){throw s instanceof Yn&&s.addToFieldPath(e),s}}function JA(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Yn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{bo(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),bo(t,o,e[o],a,n);break}}}else throw new Yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function C$(t,e,n=YA){const r=new n;return JA(t,e,r),r.toArray()}var ek=En.serialize=C$;function Eo(t,e,n,r){try{if(typeof n=="string")return r[`read${XA(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Eo(t,null,n[0],r));return i}else return r.readArray(()=>Eo(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Eo(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Eo(t,e,n.key,r),l=Eo(t,e,n.value,r);i.set(a,l)}return i}return cw(t,n,r)}catch(i){throw i instanceof Yn&&i.addToFieldPath(e),i}}function cw(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Yn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Eo(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Yn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Eo(t,s,o,n);return new e({[s]:a})}throw new Yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function R$(t,e,n,r=Cr){const i=new r(n),s=cw(t,e,i);if(i.offset<n.length)throw new Yn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var tk=En.deserialize=R$;function P$(t,e,n,r=Cr){const i=new r(n);return cw(t,e,i)}ZA=En.deserializeUnchecked=P$;var q={};Object.defineProperty(q,"__esModule",{value:!0});q.s16=q.s8=q.nu64be=q.u48be=q.u40be=q.u32be=q.u24be=q.u16be=_n=q.nu64=q.u48=q.u40=_e=q.u32=q.u24=Lr=q.u16=Xe=q.u8=Vo=q.offset=q.greedy=q.Constant=q.UTF8=q.CString=q.Blob=q.Boolean=q.BitField=q.BitStructure=q.VariantLayout=q.Union=q.UnionLayoutDiscriminator=q.UnionDiscriminator=q.Structure=q.Sequence=q.DoubleBE=q.Double=q.FloatBE=q.Float=q.NearInt64BE=q.NearInt64=q.NearUInt64BE=q.NearUInt64=q.IntBE=q.Int=q.UIntBE=q.UInt=q.OffsetLayout=q.GreedyCount=q.ExternalLayout=q.bindConstructorLayout=q.nameWithProperty=q.Layout=q.uint8ArrayToBuffer=q.checkUint8Array=void 0;q.constant=q.utf8=q.cstr=At=q.blob=q.unionLayoutDiscriminator=q.union=Xn=q.seq=q.bits=ye=q.struct=q.f64be=q.f64=q.f32be=q.f32=q.ns64be=q.s48be=q.s40be=q.s32be=q.s24be=q.s16be=mr=q.ns64=q.s48=q.s40=q.s32=q.s24=void 0;const uw=Te;function rc(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}q.checkUint8Array=rc;function Qe(t){return rc(t),uw.Buffer.from(t.buffer,t.byteOffset,t.length)}q.uint8ArrayToBuffer=Qe;class it{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}q.Layout=it;function hw(t,e){return e.property?t+"["+e.property+"]":t}q.nameWithProperty=hw;function N$(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof it))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}q.bindConstructorLayout=N$;class ar extends it{isCount(){throw new Error("ExternalLayout is abstract")}}q.ExternalLayout=ar;class nk extends ar{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){rc(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}q.GreedyCount=nk;class dw extends ar{constructor(e,n=0,r){if(!(e instanceof it))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof zr||this.layout instanceof si}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}q.OffsetLayout=dw;class zr extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Qe(n).writeUIntLE(e,r,this.span),this.span}}q.UInt=zr;class si extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Qe(n).writeUIntBE(e,r,this.span),this.span}}q.UIntBE=si;class ma extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readIntLE(n,this.span)}encode(e,n,r=0){return Qe(n).writeIntLE(e,r,this.span),this.span}}q.Int=ma;class ic extends it{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Qe(e).readIntBE(n,this.span)}encode(e,n,r=0){return Qe(n).writeIntBE(e,r,this.span),this.span}}q.IntBE=ic;const f1=Math.pow(2,32);function s0(t){const e=Math.floor(t/f1),n=t-e*f1;return{hi32:e,lo32:n}}function o0(t,e){return t*f1+e}class rk extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return o0(s,i)}encode(e,n,r=0){const i=s0(e),s=Qe(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}q.NearUInt64=rk;class ik extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return o0(i,s)}encode(e,n,r=0){const i=s0(e),s=Qe(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearUInt64BE=ik;class sk extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return o0(s,i)}encode(e,n,r=0){const i=s0(e),s=Qe(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}q.NearInt64=sk;class ok extends it{constructor(e){super(8,e)}decode(e,n=0){const r=Qe(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return o0(i,s)}encode(e,n,r=0){const i=s0(e),s=Qe(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}q.NearInt64BE=ok;class ak extends it{constructor(e){super(4,e)}decode(e,n=0){return Qe(e).readFloatLE(n)}encode(e,n,r=0){return Qe(n).writeFloatLE(e,r),4}}q.Float=ak;class lk extends it{constructor(e){super(4,e)}decode(e,n=0){return Qe(e).readFloatBE(n)}encode(e,n,r=0){return Qe(n).writeFloatBE(e,r),4}}q.FloatBE=lk;class ck extends it{constructor(e){super(8,e)}decode(e,n=0){return Qe(e).readDoubleLE(n)}encode(e,n,r=0){return Qe(n).writeDoubleLE(e,r),8}}q.Double=ck;class uk extends it{constructor(e){super(8,e)}decode(e,n=0){return Qe(e).readDoubleBE(n)}encode(e,n,r=0){return Qe(n).writeDoubleBE(e,r),8}}q.DoubleBE=uk;class hk extends it{constructor(e,n,r){if(!(e instanceof it))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ar&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof ar)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof ar&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof ar&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof ar&&this.count.encode(e.length,n,r),s}}q.Sequence=hk;class dk extends it{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof it,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){rc(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}q.Structure=dk;class fw{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}q.UnionDiscriminator=fw;class Ff extends fw{constructor(e,n){if(!(e instanceof ar&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}q.UnionLayoutDiscriminator=Ff;class pw extends it{constructor(e,n,r){let i;if(e instanceof zr||e instanceof si)i=new Ff(new dw(e));else if(e instanceof ar&&e.isCount())i=new Ff(e);else if(e instanceof fw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof it))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof zr||e instanceof si)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof zr||e instanceof si,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new fk(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}q.Union=pw;class fk extends it{constructor(e,n,r,i){if(!(e instanceof pw))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof it))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}q.VariantLayout=fk;function ka(t){return 0>t&&(t+=4294967296),t}class gw extends it{constructor(e,n,r){if(!(e instanceof zr||e instanceof si))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=ka(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new mw(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new pk(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}q.BitStructure=gw;class mw{constructor(e,n,r){if(!(e instanceof gw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=ka(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return ka(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==ka(e&this.valueMask))throw new TypeError(hw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=ka(e<<this.start);this.container._packedSetValue(ka(n&~this.wordMask)|r)}}q.BitField=mw;let pk=class extends mw{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};q.Boolean=pk;let gk=class extends it{constructor(e,n){if(!(e instanceof ar&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ar||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Qe(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof ar&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(hw("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Qe(e);return Qe(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof ar&&this.length.encode(i,n,r),i}};q.Blob=gk;class mk extends it{constructor(e){super(-1,e)}getSpan(e,n=0){rc(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Qe(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=uw.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Qe(n);return i.copy(o,r),o[r+s]=0,s+1}}q.CString=mk;class yk extends it{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return rc(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Qe(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=uw.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Qe(n),r),s}}q.UTF8=yk;class vk extends it{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}q.Constant=vk;q.greedy=(t,e)=>new nk(t,e);var Vo=q.offset=(t,e,n)=>new dw(t,e,n),Xe=q.u8=t=>new zr(1,t),Lr=q.u16=t=>new zr(2,t);q.u24=t=>new zr(3,t);var _e=q.u32=t=>new zr(4,t);q.u40=t=>new zr(5,t);q.u48=t=>new zr(6,t);var _n=q.nu64=t=>new rk(t);q.u16be=t=>new si(2,t);q.u24be=t=>new si(3,t);q.u32be=t=>new si(4,t);q.u40be=t=>new si(5,t);q.u48be=t=>new si(6,t);q.nu64be=t=>new ik(t);q.s8=t=>new ma(1,t);q.s16=t=>new ma(2,t);q.s24=t=>new ma(3,t);q.s32=t=>new ma(4,t);q.s40=t=>new ma(5,t);q.s48=t=>new ma(6,t);var mr=q.ns64=t=>new sk(t);q.s16be=t=>new ic(2,t);q.s24be=t=>new ic(3,t);q.s32be=t=>new ic(4,t);q.s40be=t=>new ic(5,t);q.s48be=t=>new ic(6,t);q.ns64be=t=>new ok(t);q.f32=t=>new ak(t);q.f32be=t=>new lk(t);q.f64=t=>new ck(t);q.f64be=t=>new uk(t);var ye=q.struct=(t,e,n)=>new dk(t,e,n);q.bits=(t,e,n)=>new gw(t,e,n);var Xn=q.seq=(t,e,n)=>new hk(t,e,n);q.union=(t,e,n)=>new pw(t,e,n);q.unionLayoutDiscriminator=(t,e)=>new Ff(t,e);var At=q.blob=(t,e)=>new gk(t,e);q.cstr=t=>new mk(t);q.utf8=(t,e)=>new yk(t,e);q.constant=(t,e)=>new vk(t,e);var vh={};Object.defineProperty(vh,"__esModule",{value:!0});function M$(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return n.length===0?BigInt(0):BigInt(`0x${n}`)}}var L$=vh.toBigIntLE=M$;function D$(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}vh.toBigIntBE=D$;function O$(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var B$=vh.toBufferLE=O$;function j$(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(e*2,"0").slice(0,e*2),"hex")}}vh.toBufferBE=j$;class U$ extends TypeError{constructor(e,n){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var l;return(l=r)!=null?l:r=[e,...n()]}}}function F$(t){return Zs(t)&&typeof t[Symbol.iterator]=="function"}function Zs(t){return typeof t=="object"&&t!=null}function hi(t){return typeof t=="string"?JSON.stringify(t):""+t}function V$(t){const{done:e,value:n}=t.next();return e?void 0:n}function $$(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+hi(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*rb(t,e,n,r){F$(t)||(t=[t]);for(const i of t){const s=$$(i,e,n,r);s&&(yield s)}}function*yw(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Zs(e.schema)&&Zs(t)&&!Array.isArray(t)))for(const c in t)e.schema[c]===void 0&&delete t[c];let l=!0;for(const c of e.validator(t,a))l=!1,yield[c,void 0];for(let[c,h,f]of e.entries(t,a)){const v=yw(h,f,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,h],coerce:s,mask:o});for(const w of v)w[0]?(l=!1,yield[w[0],void 0]):s&&(h=w[1],c===void 0?t=h:t instanceof Map?t.set(c,h):t instanceof Set?t.add(h):Zs(t)&&(t[c]=h))}if(l)for(const c of e.refiner(t,a))l=!1,yield[c,void 0];l&&(yield[void 0,t])}let Vi=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const h=i(l,c);return rb(h,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const h=s(l,c);return rb(h,c,this,l)}:this.refiner=()=>[]}assert(e){return z$(e,this)}create(e){return se(e,this)}is(e){return _k(e,this)}mask(e){return H$(e,this)}validate(e,n={}){return _h(e,this,n)}};function z$(t,e){const n=_h(t,e);if(n[0])throw n[0]}function se(t,e){const n=_h(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function H$(t,e){const n=_h(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function _k(t,e){return!_h(t,e)[0]}function _h(t,e,n={}){const r=yw(t,e,n),i=V$(r);return i[0]?[new U$(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ya(t,e){return new Vi({type:t,schema:null,validator:e})}function q$(){return ya("any",()=>!0)}function le(t){return new Vi({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+hi(e)}})}function Oi(){return ya("boolean",t=>typeof t=="boolean")}function vw(t){return ya("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+hi(e))}function _t(t){const e=hi(t),n=typeof t;return new Vi({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+hi(r)}})}function W$(){return ya("never",()=>!1)}function ce(t){return new Vi({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function H(){return ya("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+hi(t))}function xe(t){return new Vi({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function wk(t,e){return new Vi({type:"record",schema:null,*entries(n){if(Zs(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Zs(n)||"Expected an object, but received: "+hi(n)}})}function ie(){return ya("string",t=>typeof t=="string"||"Expected a string, but received: "+hi(t))}function _w(t){const e=W$();return new Vi({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||"Expected an array, but received: "+hi(n)}})}function te(t){const e=Object.keys(t);return new Vi({type:"type",schema:t,*entries(n){if(Zs(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Zs(n)||"Expected an object, but received: "+hi(n)}})}function dr(t){const e=t.map(n=>n.type).join(" | ");return new Vi({type:"union",schema:null,validator(n,r){const i=[];for(const s of t){const[...o]=yw(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+hi(n),...i]}})}function wh(){return ya("unknown",()=>!0)}function xh(t,e,n){return new Vi({...t,coercer:(r,i)=>_k(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var od,K$=new Uint8Array(16);function xk(){if(!od&&(od=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!od))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return od(K$)}const G$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function a0(t){return typeof t=="string"&&G$.test(t)}var vn=[];for(var Xg=0;Xg<256;++Xg)vn.push((Xg+256).toString(16).substr(1));function l0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(vn[t[e+0]]+vn[t[e+1]]+vn[t[e+2]]+vn[t[e+3]]+"-"+vn[t[e+4]]+vn[t[e+5]]+"-"+vn[t[e+6]]+vn[t[e+7]]+"-"+vn[t[e+8]]+vn[t[e+9]]+"-"+vn[t[e+10]]+vn[t[e+11]]+vn[t[e+12]]+vn[t[e+13]]+vn[t[e+14]]+vn[t[e+15]]).toLowerCase();if(!a0(n))throw TypeError("Stringified UUID is invalid");return n}var ib,Jg,em=0,tm=0;function Z$(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||ib,o=t.clockseq!==void 0?t.clockseq:Jg;if(s==null||o==null){var a=t.random||(t.rng||xk)();s==null&&(s=ib=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Jg=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:tm+1,h=l-em+(c-tm)/1e4;if(h<0&&t.clockseq===void 0&&(o=o+1&16383),(h<0||l>em)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");em=l,tm=c,Jg=o,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var v=l/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=v&255,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var w=0;w<6;++w)i[r+w]=s[w];return e||l0(i)}function bk(t){if(!a0(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function Q$(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var Y$="6ba7b810-9dad-11d1-80b4-00c04fd430c8",X$="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ek(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=Q$(i)),typeof s=="string"&&(s=bk(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return l0(l)}try{r.name=t}catch{}return r.DNS=Y$,r.URL=X$,r}function J$(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return ez(tz(nz(t),t.length*8))}function ez(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Sk(t){return(t+64>>>9<<4)+14+1}function tz(t,e){t[e>>5]|=128<<e%32,t[Sk(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,h=s;n=Ln(n,r,i,s,t[o],7,-680876936),s=Ln(s,n,r,i,t[o+1],12,-389564586),i=Ln(i,s,n,r,t[o+2],17,606105819),r=Ln(r,i,s,n,t[o+3],22,-1044525330),n=Ln(n,r,i,s,t[o+4],7,-176418897),s=Ln(s,n,r,i,t[o+5],12,1200080426),i=Ln(i,s,n,r,t[o+6],17,-1473231341),r=Ln(r,i,s,n,t[o+7],22,-45705983),n=Ln(n,r,i,s,t[o+8],7,1770035416),s=Ln(s,n,r,i,t[o+9],12,-1958414417),i=Ln(i,s,n,r,t[o+10],17,-42063),r=Ln(r,i,s,n,t[o+11],22,-1990404162),n=Ln(n,r,i,s,t[o+12],7,1804603682),s=Ln(s,n,r,i,t[o+13],12,-40341101),i=Ln(i,s,n,r,t[o+14],17,-1502002290),r=Ln(r,i,s,n,t[o+15],22,1236535329),n=Dn(n,r,i,s,t[o+1],5,-165796510),s=Dn(s,n,r,i,t[o+6],9,-1069501632),i=Dn(i,s,n,r,t[o+11],14,643717713),r=Dn(r,i,s,n,t[o],20,-373897302),n=Dn(n,r,i,s,t[o+5],5,-701558691),s=Dn(s,n,r,i,t[o+10],9,38016083),i=Dn(i,s,n,r,t[o+15],14,-660478335),r=Dn(r,i,s,n,t[o+4],20,-405537848),n=Dn(n,r,i,s,t[o+9],5,568446438),s=Dn(s,n,r,i,t[o+14],9,-1019803690),i=Dn(i,s,n,r,t[o+3],14,-187363961),r=Dn(r,i,s,n,t[o+8],20,1163531501),n=Dn(n,r,i,s,t[o+13],5,-1444681467),s=Dn(s,n,r,i,t[o+2],9,-51403784),i=Dn(i,s,n,r,t[o+7],14,1735328473),r=Dn(r,i,s,n,t[o+12],20,-1926607734),n=On(n,r,i,s,t[o+5],4,-378558),s=On(s,n,r,i,t[o+8],11,-2022574463),i=On(i,s,n,r,t[o+11],16,1839030562),r=On(r,i,s,n,t[o+14],23,-35309556),n=On(n,r,i,s,t[o+1],4,-1530992060),s=On(s,n,r,i,t[o+4],11,1272893353),i=On(i,s,n,r,t[o+7],16,-155497632),r=On(r,i,s,n,t[o+10],23,-1094730640),n=On(n,r,i,s,t[o+13],4,681279174),s=On(s,n,r,i,t[o],11,-358537222),i=On(i,s,n,r,t[o+3],16,-722521979),r=On(r,i,s,n,t[o+6],23,76029189),n=On(n,r,i,s,t[o+9],4,-640364487),s=On(s,n,r,i,t[o+12],11,-421815835),i=On(i,s,n,r,t[o+15],16,530742520),r=On(r,i,s,n,t[o+2],23,-995338651),n=Bn(n,r,i,s,t[o],6,-198630844),s=Bn(s,n,r,i,t[o+7],10,1126891415),i=Bn(i,s,n,r,t[o+14],15,-1416354905),r=Bn(r,i,s,n,t[o+5],21,-57434055),n=Bn(n,r,i,s,t[o+12],6,1700485571),s=Bn(s,n,r,i,t[o+3],10,-1894986606),i=Bn(i,s,n,r,t[o+10],15,-1051523),r=Bn(r,i,s,n,t[o+1],21,-2054922799),n=Bn(n,r,i,s,t[o+8],6,1873313359),s=Bn(s,n,r,i,t[o+15],10,-30611744),i=Bn(i,s,n,r,t[o+6],15,-1560198380),r=Bn(r,i,s,n,t[o+13],21,1309151649),n=Bn(n,r,i,s,t[o+4],6,-145523070),s=Bn(s,n,r,i,t[o+11],10,-1120210379),i=Bn(i,s,n,r,t[o+2],15,718787259),r=Bn(r,i,s,n,t[o+9],21,-343485551),n=Os(n,a),r=Os(r,l),i=Os(i,c),s=Os(s,h)}return[n,r,i,s]}function nz(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Sk(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Os(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function rz(t,e){return t<<e|t>>>32-e}function c0(t,e,n,r,i,s){return Os(rz(Os(Os(e,t),Os(r,s)),i),n)}function Ln(t,e,n,r,i,s,o){return c0(e&n|~e&r,t,e,i,s,o)}function Dn(t,e,n,r,i,s,o){return c0(e&r|n&~r,t,e,i,s,o)}function On(t,e,n,r,i,s,o){return c0(e^n^r,t,e,i,s,o)}function Bn(t,e,n,r,i,s,o){return c0(n^(e|~r),t,e,i,s,o)}var iz=Ek("v3",48,J$);const sz=iz;function oz(t,e,n){t=t||{};var r=t.random||(t.rng||xk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return l0(r)}function az(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function nm(t,e){return t<<e|t>>>32-e}function lz(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),h=0;h<16;++h)c[h]=t[l*64+h*4]<<24|t[l*64+h*4+1]<<16|t[l*64+h*4+2]<<8|t[l*64+h*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var v=new Uint32Array(80),w=0;w<16;++w)v[w]=a[f][w];for(var S=16;S<80;++S)v[S]=nm(v[S-3]^v[S-8]^v[S-14]^v[S-16],1);for(var b=n[0],A=n[1],x=n[2],E=n[3],y=n[4],P=0;P<80;++P){var N=Math.floor(P/20),O=nm(b,5)+az(N,A,x,E)+y+e[N]+v[P]>>>0;y=E,E=x,x=nm(A,30)>>>0,A=b,b=O}n[0]=n[0]+b>>>0,n[1]=n[1]+A>>>0,n[2]=n[2]+x>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var cz=Ek("v5",80,lz);const uz=cz,hz="00000000-0000-0000-0000-000000000000";function dz(t){if(!a0(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const fz=Object.freeze(Object.defineProperty({__proto__:null,NIL:hz,parse:bk,stringify:l0,v1:Z$,v3:sz,v4:oz,v5:uz,validate:a0,version:dz},Symbol.toStringTag,{value:"Module"})),Ik=x1(fz),pz=Ik.v4,gz=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return pz()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var mz=gz;const yz=Ik.v4,vz=mz,$u=function(t,e){if(!(this instanceof $u))return new $u(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return yz()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var _z=$u;$u.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=vz(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(h){if(c)return r(h);throw h}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,h){i._parseResponse(c,h,r)}),s};$u.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const wz=ia(_z);var Ak={},kk={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(kk);var Tk=kk.exports,rm={exports:{}},im={exports:{}},sb;function bh(){return sb||(sb=1,function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(im)),im.exports}var ob;function xz(){return ob||(ob=1,function(t){var e=bh().default;function n(){t.exports=n=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var r,i={},s=Object.prototype,o=s.hasOwnProperty,a=Object.defineProperty||function(k,M,I){k[M]=I.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",h=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function v(k,M,I){return Object.defineProperty(k,M,{value:I,enumerable:!0,configurable:!0,writable:!0}),k[M]}try{v({},"")}catch{v=function(I,p,L){return I[p]=L}}function w(k,M,I,p){var L=M&&M.prototype instanceof P?M:P,W=Object.create(L.prototype),Y=new D(p||[]);return a(W,"_invoke",{value:j(k,I,Y)}),W}function S(k,M,I){try{return{type:"normal",arg:k.call(M,I)}}catch(p){return{type:"throw",arg:p}}}i.wrap=w;var b="suspendedStart",A="suspendedYield",x="executing",E="completed",y={};function P(){}function N(){}function O(){}var U={};v(U,c,function(){return this});var F=Object.getPrototypeOf,G=F&&F(F(C([])));G&&G!==s&&o.call(G,c)&&(U=G);var Q=O.prototype=P.prototype=Object.create(U);function Z(k){["next","throw","return"].forEach(function(M){v(k,M,function(I){return this._invoke(M,I)})})}function ue(k,M){function I(L,W,Y,X){var oe=S(k[L],k,W);if(oe.type!=="throw"){var he=oe.arg,ge=he.value;return ge&&e(ge)=="object"&&o.call(ge,"__await")?M.resolve(ge.__await).then(function(qe){I("next",qe,Y,X)},function(qe){I("throw",qe,Y,X)}):M.resolve(ge).then(function(qe){he.value=qe,Y(he)},function(qe){return I("throw",qe,Y,X)})}X(oe.arg)}var p;a(this,"_invoke",{value:function(W,Y){function X(){return new M(function(oe,he){I(W,Y,oe,he)})}return p=p?p.then(X,X):X()}})}function j(k,M,I){var p=b;return function(L,W){if(p===x)throw new Error("Generator is already running");if(p===E){if(L==="throw")throw W;return{value:r,done:!0}}for(I.method=L,I.arg=W;;){var Y=I.delegate;if(Y){var X=d(Y,I);if(X){if(X===y)continue;return X}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(p===b)throw p=E,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);p=x;var oe=S(k,M,I);if(oe.type==="normal"){if(p=I.done?E:A,oe.arg===y)continue;return{value:oe.arg,done:I.done}}oe.type==="throw"&&(p=E,I.method="throw",I.arg=oe.arg)}}}function d(k,M){var I=M.method,p=k.iterator[I];if(p===r)return M.delegate=null,I==="throw"&&k.iterator.return&&(M.method="return",M.arg=r,d(k,M),M.method==="throw")||I!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+I+"' method")),y;var L=S(p,k.iterator,M.arg);if(L.type==="throw")return M.method="throw",M.arg=L.arg,M.delegate=null,y;var W=L.arg;return W?W.done?(M[k.resultName]=W.value,M.next=k.nextLoc,M.method!=="return"&&(M.method="next",M.arg=r),M.delegate=null,y):W:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,y)}function _(k){var M={tryLoc:k[0]};1 in k&&(M.catchLoc=k[1]),2 in k&&(M.finallyLoc=k[2],M.afterLoc=k[3]),this.tryEntries.push(M)}function T(k){var M=k.completion||{};M.type="normal",delete M.arg,k.completion=M}function D(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(_,this),this.reset(!0)}function C(k){if(k||k===""){var M=k[c];if(M)return M.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var I=-1,p=function L(){for(;++I<k.length;)if(o.call(k,I))return L.value=k[I],L.done=!1,L;return L.value=r,L.done=!0,L};return p.next=p}}throw new TypeError(e(k)+" is not iterable")}return N.prototype=O,a(Q,"constructor",{value:O,configurable:!0}),a(O,"constructor",{value:N,configurable:!0}),N.displayName=v(O,f,"GeneratorFunction"),i.isGeneratorFunction=function(k){var M=typeof k=="function"&&k.constructor;return!!M&&(M===N||(M.displayName||M.name)==="GeneratorFunction")},i.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,O):(k.__proto__=O,v(k,f,"GeneratorFunction")),k.prototype=Object.create(Q),k},i.awrap=function(k){return{__await:k}},Z(ue.prototype),v(ue.prototype,h,function(){return this}),i.AsyncIterator=ue,i.async=function(k,M,I,p,L){L===void 0&&(L=Promise);var W=new ue(w(k,M,I,p),L);return i.isGeneratorFunction(M)?W:W.next().then(function(Y){return Y.done?Y.value:W.next()})},Z(Q),v(Q,f,"Generator"),v(Q,c,function(){return this}),v(Q,"toString",function(){return"[object Generator]"}),i.keys=function(k){var M=Object(k),I=[];for(var p in M)I.push(p);return I.reverse(),function L(){for(;I.length;){var W=I.pop();if(W in M)return L.value=W,L.done=!1,L}return L.done=!0,L}},i.values=C,D.prototype={constructor:D,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!M)for(var I in this)I.charAt(0)==="t"&&o.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=r)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var I=this;function p(he,ge){return Y.type="throw",Y.arg=M,I.next=he,ge&&(I.method="next",I.arg=r),!!ge}for(var L=this.tryEntries.length-1;L>=0;--L){var W=this.tryEntries[L],Y=W.completion;if(W.tryLoc==="root")return p("end");if(W.tryLoc<=this.prev){var X=o.call(W,"catchLoc"),oe=o.call(W,"finallyLoc");if(X&&oe){if(this.prev<W.catchLoc)return p(W.catchLoc,!0);if(this.prev<W.finallyLoc)return p(W.finallyLoc)}else if(X){if(this.prev<W.catchLoc)return p(W.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return p(W.finallyLoc)}}}},abrupt:function(M,I){for(var p=this.tryEntries.length-1;p>=0;--p){var L=this.tryEntries[p];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var W=L;break}}W&&(M==="break"||M==="continue")&&W.tryLoc<=I&&I<=W.finallyLoc&&(W=null);var Y=W?W.completion:{};return Y.type=M,Y.arg=I,W?(this.method="next",this.next=W.finallyLoc,y):this.complete(Y)},complete:function(M,I){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&I&&(this.next=I),y},finish:function(M){for(var I=this.tryEntries.length-1;I>=0;--I){var p=this.tryEntries[I];if(p.finallyLoc===M)return this.complete(p.completion,p.afterLoc),T(p),y}},catch:function(M){for(var I=this.tryEntries.length-1;I>=0;--I){var p=this.tryEntries[I];if(p.tryLoc===M){var L=p.completion;if(L.type==="throw"){var W=L.arg;T(p)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(M,I,p){return this.delegate={iterator:C(M),resultName:I,nextLoc:p},this.method==="next"&&(this.arg=r),y}},i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(rm)),rm.exports}var sm,ab;function bz(){if(ab)return sm;ab=1;var t=xz()();sm=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return sm}var om={exports:{}},lb;function Ez(){return lb||(lb=1,function(t){function e(r,i,s,o,a,l,c){try{var h=r[l](c),f=h.value}catch(v){s(v);return}h.done?i(f):Promise.resolve(f).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var l=r.apply(i,s);function c(f){e(l,o,a,c,h,"next",f)}function h(f){e(l,o,a,c,h,"throw",f)}c(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(om)),om.exports}var am={exports:{}},cb;function Ck(){return cb||(cb=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(am)),am.exports}var lm={exports:{}},cm={exports:{}},um={exports:{}},ub;function Sz(){return ub||(ub=1,function(t){var e=bh().default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(um)),um.exports}var hb;function Iz(){return hb||(hb=1,function(t){var e=bh().default,n=Sz();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(cm)),cm.exports}var db;function Rk(){return db||(db=1,function(t){var e=Iz();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(lm)),lm.exports}var hm={exports:{}},dm={exports:{}},fb;function Az(){return fb||(fb=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(dm)),dm.exports}var pb;function Pk(){return pb||(pb=1,function(t){var e=Az();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(hm)),hm.exports}var fm={exports:{}},pm={exports:{}},gb;function kz(){return gb||(gb=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(pm)),pm.exports}var mb;function Nk(){return mb||(mb=1,function(t){var e=bh().default,n=kz();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(fm)),fm.exports}var gm={exports:{}},yb;function Mk(){return yb||(yb=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(gm)),gm.exports}var mm={exports:{}},vb;function Lk(){return vb||(vb=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,f||l,v),S=n?n+c:c;return l._events[S]?l._events[S].fn?l._events[S]=[l._events[S],w]:l._events[S].push(w):(l._events[S]=w,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=n?n+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var v=0,w=f.length,S=new Array(w);v<w;v++)S[v]=f[v].fn;return S},a.prototype.listenerCount=function(c){var h=n?n+c:c,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,h,f,v,w,S){var b=n?n+c:c;if(!this._events[b])return!1;var A=this._events[b],x=arguments.length,E,y;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),x){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,f),!0;case 4:return A.fn.call(A.context,h,f,v),!0;case 5:return A.fn.call(A.context,h,f,v,w),!0;case 6:return A.fn.call(A.context,h,f,v,w,S),!0}for(y=1,E=new Array(x-1);y<x;y++)E[y-1]=arguments[y];A.fn.apply(A.context,E)}else{var P=A.length,N;for(y=0;y<P;y++)switch(A[y].once&&this.removeListener(c,A[y].fn,void 0,!0),x){case 1:A[y].fn.call(A[y].context);break;case 2:A[y].fn.call(A[y].context,h);break;case 3:A[y].fn.call(A[y].context,h,f);break;case 4:A[y].fn.call(A[y].context,h,f,v);break;default:if(!E)for(N=1,E=new Array(x-1);N<x;N++)E[N-1]=arguments[N];A[y].fn.apply(A[y].context,E)}}return!0},a.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},a.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},a.prototype.removeListener=function(c,h,f,v){var w=n?n+c:c;if(!this._events[w])return this;if(!h)return o(this,w),this;var S=this._events[w];if(S.fn)S.fn===h&&(!v||S.once)&&(!f||S.context===f)&&o(this,w);else{for(var b=0,A=[],x=S.length;b<x;b++)(S[b].fn!==h||v&&!S[b].once||f&&S[b].context!==f)&&A.push(S[b]);A.length?this._events[w]=A.length===1?A[0]:A:o(this,w)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a}(mm)),mm.exports}(function(t){var e=Tk;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(bz()),r=e(Ez()),i=e(bh()),s=e(Ck()),o=e(Rk()),a=e(Pk()),l=e(Nk()),c=e(Mk()),h=Lk();function f(b){var A=v();return function(){var E=(0,c.default)(b),y;if(A){var P=(0,c.default)(this).constructor;y=Reflect.construct(E,arguments,P)}else y=E.apply(this,arguments);return(0,l.default)(this,y)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var w=function(b,A){var x={};for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&A.indexOf(E)<0&&(x[E]=b[E]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,E=Object.getOwnPropertySymbols(b);y<E.length;y++)A.indexOf(E[y])<0&&Object.prototype.propertyIsEnumerable.call(b,E[y])&&(x[E[y]]=b[E[y]]);return x},S=function(b){(0,a.default)(x,b);var A=f(x);function x(E){var y,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,x);var U=N.autoconnect,F=U===void 0?!0:U,G=N.reconnect,Q=G===void 0?!0:G,Z=N.reconnect_interval,ue=Z===void 0?1e3:Z,j=N.max_reconnects,d=j===void 0?5:j,_=w(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return y=A.call(this),y.webSocketFactory=E,y.queue={},y.rpc_id=0,y.address=P,y.autoconnect=F,y.ready=!1,y.reconnect=Q,y.reconnect_timer_id=void 0,y.reconnect_interval=ue,y.max_reconnects=d,y.rest_options=_,y.current_reconnects=0,y.generate_request_id=O||function(){return++y.rpc_id},y.autoconnect&&y._connect(y.address,Object.assign({autoconnect:y.autoconnect,reconnect:y.reconnect,reconnect_interval:y.reconnect_interval,max_reconnects:y.max_reconnects},y.rest_options)),y}return(0,o.default)(x,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(y,P,N,O){var U=this;return!O&&(0,i.default)(N)==="object"&&(O=N,N=null),new Promise(function(F,G){if(!U.ready)return G(new Error("socket not ready"));var Q=U.generate_request_id(y,P),Z={jsonrpc:"2.0",method:y,params:P||null,id:Q};U.socket.send(JSON.stringify(Z),O,function(ue){if(ue)return G(ue);U.queue[Q]={promise:[F,G]},N&&(U.queue[Q].timeout=setTimeout(function(){delete U.queue[Q],G(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var E=(0,r.default)(n.default.mark(function P(N){var O;return n.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,this.call("rpc.login",N);case 2:if(O=F.sent,O){F.next=5;break}throw new Error("authentication failed");case 5:return F.abrupt("return",O);case 6:case"end":return F.stop()}},P,this)}));function y(P){return E.apply(this,arguments)}return y}()},{key:"listMethods",value:function(){var E=(0,r.default)(n.default.mark(function P(){return n.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this.call("__listMethods");case 2:return O.abrupt("return",O.sent);case 3:case"end":return O.stop()}},P,this)}));function y(){return E.apply(this,arguments)}return y}()},{key:"notify",value:function(y,P){var N=this;return new Promise(function(O,U){if(!N.ready)return U(new Error("socket not ready"));var F={jsonrpc:"2.0",method:y,params:P||null};N.socket.send(JSON.stringify(F),function(G){if(G)return U(G);O()})})}},{key:"subscribe",value:function(){var E=(0,r.default)(n.default.mark(function P(N){var O;return n.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return typeof N=="string"&&(N=[N]),F.next=3,this.call("rpc.on",N);case 3:if(O=F.sent,!(typeof N=="string"&&O[N]!=="ok")){F.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+O[N]);case 6:return F.abrupt("return",O);case 7:case"end":return F.stop()}},P,this)}));function y(P){return E.apply(this,arguments)}return y}()},{key:"unsubscribe",value:function(){var E=(0,r.default)(n.default.mark(function P(N){var O;return n.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return typeof N=="string"&&(N=[N]),F.next=3,this.call("rpc.off",N);case 3:if(O=F.sent,!(typeof N=="string"&&O[N]!=="ok")){F.next=6;break}throw new Error("Failed unsubscribing from an event with: "+O);case 6:return F.abrupt("return",O);case 7:case"end":return F.stop()}},P,this)}));function y(P){return E.apply(this,arguments)}return y}()},{key:"close",value:function(y,P){this.socket.close(y||1e3,P)}},{key:"_connect",value:function(y,P){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(y,P),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(O){var U=O.data;U instanceof ArrayBuffer&&(U=Buffer.from(U).toString());try{U=JSON.parse(U)}catch{return}if(U.notification&&N.listeners(U.notification).length){if(!Object.keys(U.params).length)return N.emit(U.notification);var F=[U.notification];if(U.params.constructor===Object)F.push(U.params);else for(var G=0;G<U.params.length;G++)F.push(U.params[G]);return Promise.resolve().then(function(){N.emit.apply(N,F)})}if(!N.queue[U.id])return U.method&&U.params?Promise.resolve().then(function(){N.emit(U.method,U.params)}):void 0;"error"in U=="result"in U&&N.queue[U.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[U.id].timeout&&clearTimeout(N.queue[U.id].timeout),U.error?N.queue[U.id].promise[1](U.error):N.queue[U.id].promise[0](U.result),delete N.queue[U.id]}),this.socket.addEventListener("error",function(O){return N.emit("error",O)}),this.socket.addEventListener("close",function(O){var U=O.code,F=O.reason;N.ready&&setTimeout(function(){return N.emit("close",U,F)},0),N.ready=!1,N.socket=void 0,U!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(y,P)},N.reconnect_interval)))})}}]),x}(h.EventEmitter);t.default=S})(Ak);const Tz=ia(Ak);var Dk={};(function(t){var e=Tk;Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var n=e(Ck()),r=e(Rk()),i=e(Pk()),s=e(Nk()),o=e(Mk()),a=Lk();function l(v){var w=c();return function(){var b=(0,o.default)(v),A;if(w){var x=(0,o.default)(this).constructor;A=Reflect.construct(b,arguments,x)}else A=b.apply(this,arguments);return(0,s.default)(this,A)}}function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h=function(v){(0,i.default)(S,v);var w=l(S);function S(b,A,x){var E;return(0,n.default)(this,S),E=w.call(this),E.socket=new window.WebSocket(b,x),E.socket.onopen=function(){return E.emit("open")},E.socket.onmessage=function(y){return E.emit("message",y.data)},E.socket.onerror=function(y){return E.emit("error",y)},E.socket.onclose=function(y){E.emit("close",y.code,y.reason)},E}return(0,r.default)(S,[{key:"send",value:function(A,x,E){var y=E||x;try{this.socket.send(A),y()}catch(P){y(P)}}},{key:"close",value:function(A,x){this.socket.close(A,x)}},{key:"addEventListener",value:function(A,x,E){this.socket.addEventListener(A,x,E)}}]),S}(a.EventEmitter);function f(v,w){return new h(v,w)}})(Dk);const Cz=ia(Dk);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Rz(t){const e=rw(t);tc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Pz,hexToBytes:Nz}=TV,Po={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Po;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Pz(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Po,n=typeof t=="string"?Nz(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Po._parseInt(n.subarray(2)),{d:o,l:a}=Po._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const h=c.toString(16);return h.length&1?`0${h}`:h},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},qi=BigInt(0),Mr=BigInt(1);BigInt(2);const _b=BigInt(3);BigInt(4);function Mz(t){const e=Rz(t),{Fp:n}=e,r=e.toBytes||((S,b,A)=>{const x=b.toAffine();return ra(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),i=e.fromBytes||(S=>{const b=S.subarray(1),A=n.fromBytes(b.subarray(0,n.BYTES)),x=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:A,y:x}});function s(S){const{a:b,b:A}=e,x=n.sqr(S),E=n.mul(x,S);return n.add(n.add(E,n.mul(S,b)),A)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(S){return typeof S=="bigint"&&qi<S&&S<e.n}function a(S){if(!o(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(S){const{allowedPrivateKeyLengths:b,nByteLength:A,wrapPrivateKey:x,n:E}=e;if(b&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=na(S)),typeof S!="string"||!b.includes(S.length))throw new Error("Invalid key");S=S.padStart(A*2,"0")}let y;try{y=typeof S=="bigint"?S:Fo(an("private key",S,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof S}`)}return x&&(y=mt(y,E)),a(y),y}const c=new Map;function h(S){if(!(S instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(b,A,x){if(this.px=b,this.py=A,this.pz=x,b==null||!n.isValid(b))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required")}static fromAffine(b){const{x:A,y:x}=b||{};if(!b||!n.isValid(A)||!n.isValid(x))throw new Error("invalid affine point");if(b instanceof f)throw new Error("projective point not allowed");const E=y=>n.eql(y,n.ZERO);return E(A)&&E(x)?f.ZERO:new f(A,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const A=n.invertBatch(b.map(x=>x.pz));return b.map((x,E)=>x.toAffine(A[E])).map(f.fromAffine)}static fromHex(b){const A=f.fromAffine(i(an("pointHex",b)));return A.assertValidity(),A}static fromPrivateKey(b){return f.BASE.multiply(l(b))}_setWindowSize(b){this._WINDOW_SIZE=b,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y:A}=this.toAffine();if(!n.isValid(b)||!n.isValid(A))throw new Error("bad point: x or y not FE");const x=n.sqr(A),E=s(b);if(!n.eql(x,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){h(b);const{px:A,py:x,pz:E}=this,{px:y,py:P,pz:N}=b,O=n.eql(n.mul(A,N),n.mul(y,E)),U=n.eql(n.mul(x,N),n.mul(P,E));return O&&U}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:A}=e,x=n.mul(A,_b),{px:E,py:y,pz:P}=this;let N=n.ZERO,O=n.ZERO,U=n.ZERO,F=n.mul(E,E),G=n.mul(y,y),Q=n.mul(P,P),Z=n.mul(E,y);return Z=n.add(Z,Z),U=n.mul(E,P),U=n.add(U,U),N=n.mul(b,U),O=n.mul(x,Q),O=n.add(N,O),N=n.sub(G,O),O=n.add(G,O),O=n.mul(N,O),N=n.mul(Z,N),U=n.mul(x,U),Q=n.mul(b,Q),Z=n.sub(F,Q),Z=n.mul(b,Z),Z=n.add(Z,U),U=n.add(F,F),F=n.add(U,F),F=n.add(F,Q),F=n.mul(F,Z),O=n.add(O,F),Q=n.mul(y,P),Q=n.add(Q,Q),F=n.mul(Q,Z),N=n.sub(N,F),U=n.mul(Q,G),U=n.add(U,U),U=n.add(U,U),new f(N,O,U)}add(b){h(b);const{px:A,py:x,pz:E}=this,{px:y,py:P,pz:N}=b;let O=n.ZERO,U=n.ZERO,F=n.ZERO;const G=e.a,Q=n.mul(e.b,_b);let Z=n.mul(A,y),ue=n.mul(x,P),j=n.mul(E,N),d=n.add(A,x),_=n.add(y,P);d=n.mul(d,_),_=n.add(Z,ue),d=n.sub(d,_),_=n.add(A,E);let T=n.add(y,N);return _=n.mul(_,T),T=n.add(Z,j),_=n.sub(_,T),T=n.add(x,E),O=n.add(P,N),T=n.mul(T,O),O=n.add(ue,j),T=n.sub(T,O),F=n.mul(G,_),O=n.mul(Q,j),F=n.add(O,F),O=n.sub(ue,F),F=n.add(ue,F),U=n.mul(O,F),ue=n.add(Z,Z),ue=n.add(ue,Z),j=n.mul(G,j),_=n.mul(Q,_),ue=n.add(ue,j),j=n.sub(Z,j),j=n.mul(G,j),_=n.add(_,j),Z=n.mul(ue,_),U=n.add(U,Z),Z=n.mul(T,_),O=n.mul(d,O),O=n.sub(O,Z),Z=n.mul(d,ue),F=n.mul(T,F),F=n.add(F,Z),new f(O,U,F)}subtract(b){return this.add(b.negate())}is0(){return this.equals(f.ZERO)}wNAF(b){return w.wNAFCached(this,c,b,A=>{const x=n.invertBatch(A.map(E=>E.pz));return A.map((E,y)=>E.toAffine(x[y])).map(f.fromAffine)})}multiplyUnsafe(b){const A=f.ZERO;if(b===qi)return A;if(a(b),b===Mr)return this;const{endo:x}=e;if(!x)return w.unsafeLadder(this,b);let{k1neg:E,k1:y,k2neg:P,k2:N}=x.splitScalar(b),O=A,U=A,F=this;for(;y>qi||N>qi;)y&Mr&&(O=O.add(F)),N&Mr&&(U=U.add(F)),F=F.double(),y>>=Mr,N>>=Mr;return E&&(O=O.negate()),P&&(U=U.negate()),U=new f(n.mul(U.px,x.beta),U.py,U.pz),O.add(U)}multiply(b){a(b);let A=b,x,E;const{endo:y}=e;if(y){const{k1neg:P,k1:N,k2neg:O,k2:U}=y.splitScalar(A);let{p:F,f:G}=this.wNAF(N),{p:Q,f:Z}=this.wNAF(U);F=w.constTimeNegate(P,F),Q=w.constTimeNegate(O,Q),Q=new f(n.mul(Q.px,y.beta),Q.py,Q.pz),x=F.add(Q),E=G.add(Z)}else{const{p:P,f:N}=this.wNAF(A);x=P,E=N}return f.normalizeZ([x,E])[0]}multiplyAndAddUnsafe(b,A,x){const E=f.BASE,y=(N,O)=>O===qi||O===Mr||!N.equals(E)?N.multiplyUnsafe(O):N.multiply(O),P=y(this,A).add(y(b,x));return P.is0()?void 0:P}toAffine(b){const{px:A,py:x,pz:E}=this,y=this.is0();b==null&&(b=y?n.ONE:n.inv(E));const P=n.mul(A,b),N=n.mul(x,b),O=n.mul(E,b);if(y)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:P,y:N}}isTorsionFree(){const{h:b,isTorsionFree:A}=e;if(b===Mr)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:A}=e;return b===Mr?this:A?A(f,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),r(f,this,b)}toHex(b=!0){return na(this.toRawBytes(b))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const v=e.nBitLength,w=HA(f,e.endo?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function Lz(t){const e=rw(t);return tc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Dz(t){const e=Lz(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(_){return qi<_&&_<n.ORDER}function a(_){return mt(_,r)}function l(_){return c1(_,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:v}=Mz({...e,toBytes(_,T,D){const C=T.toAffine(),k=n.toBytes(C.x),M=ra;return D?M(Uint8Array.from([T.hasEvenY()?2:3]),k):M(Uint8Array.from([4]),k,n.toBytes(C.y))},fromBytes(_){const T=_.length,D=_[0],C=_.subarray(1);if(T===i&&(D===2||D===3)){const k=Fo(C);if(!o(k))throw new Error("Point is not on curve");const M=f(k);let I=n.sqrt(M);const p=(I&Mr)===Mr;return(D&1)===1!==p&&(I=n.neg(I)),{x:k,y:I}}else if(T===s&&D===4){const k=n.fromBytes(C.subarray(0,n.BYTES)),M=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:k,y:M}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=_=>na(Ml(_,e.nByteLength));function S(_){const T=r>>Mr;return _>T}function b(_){return S(_)?a(-_):_}const A=(_,T,D)=>Fo(_.slice(T,D));class x{constructor(T,D,C){this.r=T,this.s=D,this.recovery=C,this.assertValidity()}static fromCompact(T){const D=e.nByteLength;return T=an("compactSignature",T,D*2),new x(A(T,0,D),A(T,D,2*D))}static fromDER(T){const{r:D,s:C}=Po.toSig(an("DER",T));return new x(D,C)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new x(this.r,this.s,T)}recoverPublicKey(T){const{r:D,s:C,recovery:k}=this,M=U(an("msgHash",T));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const I=k===2||k===3?D+e.n:D;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const p=k&1?"03":"02",L=c.fromHex(p+w(I)),W=l(I),Y=a(-M*W),X=a(C*W),oe=c.BASE.multiplyAndAddUnsafe(L,Y,X);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Nl(this.toDERHex())}toDERHex(){return Po.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nl(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const E={isValidPrivateKey(_){try{return h(_),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const _=zA(e.n);return UV(e.randomBytes(_),e.n)},precompute(_=8,T=c.BASE){return T._setWindowSize(_),T.multiply(BigInt(3)),T}};function y(_,T=!0){return c.fromPrivateKey(_).toRawBytes(T)}function P(_){const T=_ instanceof Uint8Array,D=typeof _=="string",C=(T||D)&&_.length;return T?C===i||C===s:D?C===2*i||C===2*s:_ instanceof c}function N(_,T,D=!0){if(P(_))throw new Error("first arg must be private key");if(!P(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(h(_)).toRawBytes(D)}const O=e.bits2int||function(_){const T=Fo(_),D=_.length*8-e.nBitLength;return D>0?T>>BigInt(D):T},U=e.bits2int_modN||function(_){return a(O(_))},F=nw(e.nBitLength);function G(_){if(typeof _!="bigint")throw new Error("bigint expected");if(!(qi<=_&&_<F))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ml(_,e.nByteLength)}function Q(_,T,D=Z){if(["recovered","canonical"].some(ge=>ge in D))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:k}=e;let{lowS:M,prehash:I,extraEntropy:p}=D;M==null&&(M=!0),_=an("msgHash",_),I&&(_=an("prehashed msgHash",C(_)));const L=U(_),W=h(T),Y=[G(W),G(L)];if(p!=null){const ge=p===!0?k(n.BYTES):p;Y.push(an("extraEntropy",ge))}const X=ra(...Y),oe=L;function he(ge){const qe=O(ge);if(!v(qe))return;const ke=l(qe),Me=c.BASE.multiply(qe).toAffine(),$e=a(Me.x);if($e===qi)return;const De=a(ke*a(oe+$e*W));if(De===qi)return;let Ge=(Me.x===$e?0:2)|Number(Me.y&Mr),fr=De;return M&&S(De)&&(fr=b(De),Ge^=1),new x($e,fr,Ge)}return{seed:X,k2sig:he}}const Z={lowS:e.lowS,prehash:!1},ue={lowS:e.lowS,prehash:!1};function j(_,T,D=Z){const{seed:C,k2sig:k}=Q(_,T,D),M=e;return UA(M.hash.outputLen,M.nByteLength,M.hmac)(C,k)}c.BASE._setWindowSize(8);function d(_,T,D,C=ue){var Me;const k=_;if(T=an("msgHash",T),D=an("publicKey",D),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:M,prehash:I}=C;let p,L;try{if(typeof k=="string"||k instanceof Uint8Array)try{p=x.fromDER(k)}catch($e){if(!($e instanceof Po.Err))throw $e;p=x.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){const{r:$e,s:De}=k;p=new x($e,De)}else throw new Error("PARSE");L=c.fromHex(D)}catch($e){if($e.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&p.hasHighS())return!1;I&&(T=e.hash(T));const{r:W,s:Y}=p,X=U(T),oe=l(Y),he=a(X*oe),ge=a(W*oe),qe=(Me=c.BASE.multiplyAndAddUnsafe(L,he,ge))==null?void 0:Me.toAffine();return qe?a(qe.x)===W:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:N,sign:j,verify:d,ProjectivePoint:c,Signature:x,utils:E}}class Ok extends PA{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,HF(e);const r=ew(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Df(this),this.iHash.update(e),this}digestInto(e){Df(this),kA(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Bk=(t,e,n)=>new Ok(t,e).update(n).digest();Bk.create=(t,e)=>new Ok(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Oz(t){return{hash:t,hmac:(e,...n)=>Bk(t,e,RA(...n)),randomBytes:MA}}function Bz(t,e){const n=r=>Dz({...t,...Oz(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jz=BigInt(1),p1=BigInt(2),xb=(t,e)=>(t+e/p1)/e;function Uz(t){const e=jk,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,h=c*c*t%e,f=It(h,n,e)*h%e,v=It(f,n,e)*h%e,w=It(v,p1,e)*c%e,S=It(w,i,e)*w%e,b=It(S,s,e)*S%e,A=It(b,a,e)*b%e,x=It(A,l,e)*A%e,E=It(x,a,e)*b%e,y=It(E,n,e)*h%e,P=It(y,o,e)*S%e,N=It(P,r,e)*c%e,O=It(N,p1,e);if(!g1.eql(g1.sqr(O),t))throw new Error("Cannot find square root");return O}const g1=VA(jk,void 0,void 0,{sqrt:Uz}),ww=Bz({a:BigInt(0),b:BigInt(7),Fp:g1,n:wb,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=wb,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-jz*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=xb(s*t,e),l=xb(-r*t,e);let c=mt(t-a*n-l*i,e),h=mt(-a*r-l*s,e);const f=c>o,v=h>o;if(f&&(c=e-c),v&&(h=e-h),c>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:v,k2:h}}}},d1);BigInt(0);ww.ProjectivePoint;nc.utils.randomPrivateKey;const bb=()=>{const t=nc.utils.randomPrivateKey(),e=m1(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},m1=nc.getPublicKey;function Eb(t){try{return nc.ExtendedPoint.fromHex(t),!0}catch{return!1}}const Fz=(t,e)=>nc.sign(t,e.slice(0,32)),Vz=nc.verify,xn=t=>Te.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Te.Buffer.from(t);class $z{constructor(e){Object.assign(this,e)}encode(){return Te.Buffer.from(ek(Nd,this))}static decode(e){return tk(Nd,this,e)}static decodeUnchecked(e){return ZA(Nd,this,e)}}const Nd=new Map;var Uk;let Fk;const zz=32,Ei=32;function Hz(t){return t._bn!==void 0}let Sb=1;Fk=Symbol.toStringTag;class we extends $z{constructor(e){if(super({}),this._bn=void 0,Hz(e))this._bn=e._bn;else{if(typeof e=="string"){const n=In.decode(e);if(n.length!=Ei)throw new Error("Invalid public key input");this._bn=new nb(n)}else this._bn=new nb(e);if(this._bn.byteLength()>Ei)throw new Error("Invalid public key input")}}static unique(){const e=new we(Sb);return Sb+=1,new we(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return In.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Te.Buffer);if(e.length===Ei)return e;const n=Te.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Fk](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Te.Buffer.concat([e.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),s=d1(i);return new we(s)}static createProgramAddressSync(e,n){let r=Te.Buffer.alloc(0);e.forEach(function(s){if(s.length>zz)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,xn(s)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=d1(r);if(Eb(i))throw new Error("Invalid seeds, address must fall off the curve");return new we(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new we(e);return Eb(n.toBytes())}}Uk=we;we.default=new Uk("11111111111111111111111111111111");Nd.set(we,{kind:"struct",fields:[["_bn","u256"]]});new we("BPFLoader1111111111111111111111111111111111");const ol=1280-40-8,Vk=127,y1=64;class $k extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty($k.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class zk extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(zk.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Oc extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Oc.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Vf{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const je=(t="publicKey")=>At(32,t),Ha=(t="string")=>{const e=ye([_e("length"),_e("lengthPadding"),At(Vo(_e(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:Te.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>_e().span+_e().span+Te.Buffer.from(s,"utf8").length,i},qz=(t="authorized")=>ye([je("staker"),je("withdrawer")],t),Wz=(t="lockup")=>ye([mr("unixTimestamp"),mr("epoch"),je("custodian")],t),Kz=(t="voteInit")=>ye([je("nodePubkey"),je("authorizedVoter"),je("authorizedWithdrawer"),Xe("commission")],t),Gz=(t="voteAuthorizeWithSeedArgs")=>ye([_e("voteAuthorizationType"),je("currentAuthorityDerivedKeyOwnerPubkey"),Ha("currentAuthorityDerivedKeySeed"),je("newAuthorized")],t);function Hk(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return Hk({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function Dr(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Or(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Jt(t,e){if(!t)throw new Error(e||"Assertion failed")}class u0{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new u0(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Jt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Jt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Jt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new we(l)),...r.map(([l])=>new we(l)),...i.map(([l])=>new we(l)),...s.map(([l])=>new we(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new we(s),l=e.findIndex(c=>c.equals(a));l>=0&&(Jt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}class ro{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new we(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:In.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Vf(this.staticAccountKeys)}static compile(e){const n=u0.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new Vf(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:In.encode(a.data)}));return new ro({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Or(n,e);const r=this.instructions.map(f=>{const{accounts:v,programIdIndex:w}=f,S=Array.from(In.decode(f.data));let b=[];Or(b,v.length);let A=[];return Or(A,S.length),{programIdIndex:w,keyIndicesCount:Te.Buffer.from(b),keyIndices:v,dataLength:Te.Buffer.from(A),data:S}});let i=[];Or(i,r.length);let s=Te.Buffer.alloc(ol);Te.Buffer.from(i).copy(s);let o=i.length;r.forEach(f=>{const w=ye([Xe("programIdIndex"),At(f.keyIndicesCount.length,"keyIndicesCount"),Xn(Xe("keyIndex"),f.keyIndices.length,"keyIndices"),At(f.dataLength.length,"dataLength"),Xn(Xe("userdatum"),f.data.length,"data")]).encode(f,s,o);o+=w}),s=s.slice(0,o);const a=ye([At(1,"numRequiredSignatures"),At(1,"numReadonlySignedAccounts"),At(1,"numReadonlyUnsignedAccounts"),At(n.length,"keyCount"),Xn(je("key"),e,"keys"),je("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(f=>xn(f.toBytes())),recentBlockhash:In.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const h=a.encode(l,c);return s.copy(c,h),c.slice(0,h+s.length)}static from(e){let n=[...e];const r=n.shift();if(r!==(r&Vk))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=n.shift(),s=n.shift(),o=Dr(n);let a=[];for(let v=0;v<o;v++){const w=n.slice(0,Ei);n=n.slice(Ei),a.push(new we(Te.Buffer.from(w)))}const l=n.slice(0,Ei);n=n.slice(Ei);const c=Dr(n);let h=[];for(let v=0;v<c;v++){const w=n.shift(),S=Dr(n),b=n.slice(0,S);n=n.slice(S);const A=Dr(n),x=n.slice(0,A),E=In.encode(Te.Buffer.from(x));n=n.slice(A),h.push({programIdIndex:w,accounts:b,data:E})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:In.encode(Te.Buffer.from(l)),accountKeys:a,instructions:h};return new ro(f)}}class $f{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Vf(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=u0.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const h of s){const f=n.extractTableLookup(h);if(f!==void 0){const[v,{writable:w,readonly:S}]=f;r.push(v),i.writable.push(...w),i.readonly.push(...S)}}const[o,a]=n.getMessageComponents(),c=new Vf(a,i).compileInstructions(e.instructions);return new $f({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Or(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Or(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Or(s,this.addressTableLookups.length);const o=ye([Xe("prefix"),ye([Xe("numRequiredSignatures"),Xe("numReadonlySignedAccounts"),Xe("numReadonlyUnsignedAccounts")],"header"),At(e.length,"staticAccountKeysLength"),Xn(je(),this.staticAccountKeys.length,"staticAccountKeys"),je("recentBlockhash"),At(r.length,"instructionsLength"),At(n.length,"serializedInstructions"),At(s.length,"addressTableLookupsLength"),At(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(ol),l=128,c=o.encode({prefix:l,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(h=>h.toBytes()),recentBlockhash:In.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(ol);for(const r of this.compiledInstructions){const i=Array();Or(i,r.accountKeyIndexes.length);const s=Array();Or(s,r.data.length);const o=ye([Xe("programIdIndex"),At(i.length,"encodedAccountKeyIndexesLength"),Xn(Xe(),r.accountKeyIndexes.length,"accountKeyIndexes"),At(s.length,"encodedDataLength"),At(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(ol);for(const r of this.addressTableLookups){const i=Array();Or(i,r.writableIndexes.length);const s=Array();Or(s,r.readonlyIndexes.length);const o=ye([je("accountKey"),At(i.length,"encodedWritableIndexesLength"),Xn(Xe(),r.writableIndexes.length,"writableIndexes"),At(s.length,"encodedReadonlyIndexesLength"),Xn(Xe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=n.shift(),i=r&Vk;Jt(r!==i,"Expected versioned message but received legacy message");const s=i;Jt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:n.shift(),numReadonlySignedAccounts:n.shift(),numReadonlyUnsignedAccounts:n.shift()},a=[],l=Dr(n);for(let S=0;S<l;S++)a.push(new we(n.splice(0,Ei)));const c=In.encode(n.splice(0,Ei)),h=Dr(n),f=[];for(let S=0;S<h;S++){const b=n.shift(),A=Dr(n),x=n.splice(0,A),E=Dr(n),y=new Uint8Array(n.splice(0,E));f.push({programIdIndex:b,accountKeyIndexes:x,data:y})}const v=Dr(n),w=[];for(let S=0;S<v;S++){const b=new we(n.splice(0,Ei)),A=Dr(n),x=n.splice(0,A),E=Dr(n),y=n.splice(0,E);w.push({accountKey:b,writableIndexes:x,readonlyIndexes:y})}return new $f({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:f,addressTableLookups:w})}}let bs=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Zz=Te.Buffer.alloc(y1).fill(0);class Qr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ei{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Qr(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<n.length;b++)if(n[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);const i=[],s=[];n.forEach(b=>{b.keys.forEach(x=>{s.push({...x})});const A=b.programId.toString();i.includes(A)||i.push(A)}),i.forEach(b=>{s.push({pubkey:new we(b),isSigner:!1,isWritable:!1})});const o=[];s.forEach(b=>{const A=b.pubkey.toString(),x=o.findIndex(E=>E.pubkey.toString()===A);x>-1?(o[x].isWritable=o[x].isWritable||b.isWritable,o[x].isSigner=o[x].isSigner||b.isSigner):o.push(b)}),o.sort(function(b,A){if(b.isSigner!==A.isSigner)return b.isSigner?-1:1;if(b.isWritable!==A.isWritable)return b.isWritable?-1:1;const x={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return b.pubkey.toBase58().localeCompare(A.pubkey.toBase58(),"en",x)});const a=o.findIndex(b=>b.pubkey.equals(r));if(a>-1){const[b]=o.splice(a,1);b.isSigner=!0,b.isWritable=!0,o.unshift(b)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const b of this.signatures){const A=o.findIndex(x=>x.pubkey.equals(b.publicKey));if(A>-1)o[A].isSigner||(o[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let l=0,c=0,h=0;const f=[],v=[];o.forEach(({pubkey:b,isSigner:A,isWritable:x})=>{A?(f.push(b.toString()),l+=1,x||(c+=1)):(v.push(b.toString()),x||(h+=1))});const w=f.concat(v),S=n.map(b=>{const{data:A,programId:x}=b;return{programIdIndex:w.indexOf(x.toString()),accounts:b.keys.map(E=>w.indexOf(E.pubkey.toString())),data:In.encode(A)}});return S.forEach(b=>{Jt(b.programIdIndex>=0),b.accounts.forEach(A=>Jt(A>=0))}),new ro({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:h},accountKeys:w,recentBlockhash:e,instructions:S})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=Fz(r,i.secretKey);this._addSignature(i.publicKey,xn(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Jt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,n){for(const{signature:r,publicKey:i}of this.signatures)if(r===null){if(n)return!1}else if(!Vz(r,e,i.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r&&!this._verifySignatures(i,n))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Or(r,n.length);const i=r.length+n.length*64+e.length,s=Te.Buffer.alloc(i);return Jt(n.length<256),Te.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Jt(o.length===64,"signature has invalid length"),Te.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Jt(s.length<=ol,`Transaction too large: ${s.length} > ${ol}`),s}get keys(){return Jt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Jt(this.instructions.length===1),this.instructions[0].programId}get data(){return Jt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Dr(n);let i=[];for(let s=0;s<r;s++){const o=n.slice(0,y1);n=n.slice(y1),i.push(In.encode(Te.Buffer.from(o)))}return ei.populate(ro.from(n),i)}static populate(e,n=[]){const r=new ei;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==In.encode(Zz)?null:In.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Qr({keys:s,programId:e.accountKeys[i.programIdIndex],data:In.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}const Qz=160,Yz=64,Xz=Qz/Yz,Jz=1e3/Xz;new we("SysvarC1ock11111111111111111111111111111111");new we("SysvarEpochSchedu1e111111111111111111111111");new we("Sysvar1nstructions1111111111111111111111111");const ym=new we("SysvarRecentB1ockHashes11111111111111111111"),Ib=new we("SysvarRent111111111111111111111111111111111");new we("SysvarRewards111111111111111111111111111111");new we("SysvarS1otHashes111111111111111111111111111");new we("SysvarS1otHistory11111111111111111111111111");new we("SysvarStakeHistory1111111111111111111111111");function Ta(t){return new Promise(e=>setTimeout(e,t))}function Rr(t,e){const n=t.layout.span>=0?t.layout.span:Hk(t,e),r=Te.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const eH=_n("lamportsPerSignature"),qk=ye([_e("version"),_e("state"),je("authorizedPubkey"),je("nonce"),ye([eH],"feeCalculator")]),Ab=qk.span;class xw{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=qk.decode(xn(e),0);return new xw({authorizedPubkey:new we(n.authorizedPubkey),nonce:new we(n.nonce).toString(),feeCalculator:n.feeCalculator})}}const tH=t=>{const e=t.decode.bind(t),n=t.encode.bind(t);return{decode:e,encode:n}},nH=t=>e=>{const n=At(t,e),{encode:r,decode:i}=tH(n),s=n;return s.decode=(o,a)=>{const l=i(o,a);return L$(Te.Buffer.from(l))},s.encode=(o,a,l)=>{const c=B$(o,t);return r(c,a,l)},s},Dl=nH(8),Pr=Object.freeze({Create:{index:0,layout:ye([_e("instruction"),mr("lamports"),mr("space"),je("programId")])},Assign:{index:1,layout:ye([_e("instruction"),je("programId")])},Transfer:{index:2,layout:ye([_e("instruction"),Dl("lamports")])},CreateWithSeed:{index:3,layout:ye([_e("instruction"),je("base"),Ha("seed"),mr("lamports"),mr("space"),je("programId")])},AdvanceNonceAccount:{index:4,layout:ye([_e("instruction")])},WithdrawNonceAccount:{index:5,layout:ye([_e("instruction"),mr("lamports")])},InitializeNonceAccount:{index:6,layout:ye([_e("instruction"),je("authorized")])},AuthorizeNonceAccount:{index:7,layout:ye([_e("instruction"),je("authorized")])},Allocate:{index:8,layout:ye([_e("instruction"),mr("space")])},AllocateWithSeed:{index:9,layout:ye([_e("instruction"),je("base"),Ha("seed"),mr("space"),je("programId")])},AssignWithSeed:{index:10,layout:ye([_e("instruction"),je("base"),Ha("seed"),je("programId")])},TransferWithSeed:{index:11,layout:ye([_e("instruction"),Dl("lamports"),Ha("seed"),je("programId")])},UpgradeNonceAccount:{index:12,layout:ye([_e("instruction")])}});class Ol{constructor(){}static createAccount(e){const n=Pr.Create,r=Rr(n,{lamports:e.lamports,space:e.space,programId:xn(e.programId.toBuffer())});return new Qr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Pr.TransferWithSeed;n=Rr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Pr.Transfer;n=Rr(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Qr({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Pr.AssignWithSeed;n=Rr(i,{base:xn(e.basePubkey.toBuffer()),seed:e.seed,programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Pr.Assign;n=Rr(i,{programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qr({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Pr.CreateWithSeed,r=Rr(n,{base:xn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:xn(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Qr({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new ei;"basePubkey"in e&&"seed"in e?n.add(Ol.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Ab,programId:this.programId})):n.add(Ol.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Ab,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Pr.InitializeNonceAccount,r=Rr(n,{authorized:xn(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ym,isSigner:!1,isWritable:!1},{pubkey:Ib,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Qr(i)}static nonceAdvance(e){const n=Pr.AdvanceNonceAccount,r=Rr(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ym,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Qr(i)}static nonceWithdraw(e){const n=Pr.WithdrawNonceAccount,r=Rr(n,{lamports:e.lamports});return new Qr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ym,isSigner:!1,isWritable:!1},{pubkey:Ib,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Pr.AuthorizeNonceAccount,r=Rr(n,{authorized:xn(e.newAuthorizedPubkey.toBuffer())});return new Qr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Pr.AllocateWithSeed;n=Rr(i,{base:xn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:xn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Pr.Allocate;n=Rr(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qr({keys:r,programId:this.programId,data:n})}}Ol.programId=new we("11111111111111111111111111111111");new we("BPFLoader2111111111111111111111111111111111");function rH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iH=Object.prototype.toString,sH=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function Bc(t,e){var n,r,i,s,o,a,l;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return Bc(t.toJSON(),e);if(l=iH.call(t),l==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=Bc(t[n],!0)+",";return r>-1&&(i+=Bc(t[n],!0)),i+"]"}else if(l==="[object Object]"){for(s=sH(t).sort(),r=s.length,i="",n=0;n<r;)o=s[n],a=Bc(t[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var oH=function(t){var e=Bc(t,!1);if(e!==void 0)return""+e},kb=rH(oH);const bc=32;function vm(t){let e=0;for(;t>1;)t/=2,e++;return e}function aH(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class lH{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=vm(aH(e+bc+1))-vm(bc)-1,r=this.getSlotsInEpoch(n),i=e-(r-bc);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*bc:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+vm(bc)):this.slotsPerEpoch}}class Tb extends Error{constructor(e,n){super(e),this.logs=void 0,this.logs=n}}class me extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var cH=globalThis.fetch;class uH extends Tz{constructor(e,n,r){const i=s=>{const o=Cz(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function hH(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const Cb=56;class Rb{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=hH(dH,e),r=e.length-Cb;Jt(r>=0,"lookup table is invalid"),Jt(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=ye([Xn(je(),i,"addresses")]).decode(e.slice(Cb));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new we(n.authority[0]):void 0,addresses:s.map(o=>new we(o))}}}const dH={index:1,layout:ye([_e("typeIndex"),Dl("deactivationSlot"),_n("lastExtendedSlot"),Xe("lastExtendedStartIndex"),Xe(),Xn(je(),Vo(Xe(),-1),"authority")])},fH=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function pH(t){const e=t.match(fH);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),l=a==null?"":`:${a+1}`;return`${o}//${r}${l}${s}`}const rn=xh(vw(we),ie(),t=>new we(t)),Wk=_w([ie(),_t("base64")]),bw=xh(vw(Te.Buffer),Wk,t=>Te.Buffer.from(t[0],"base64")),gH=30*1e3;function mH(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function gt(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function Kk(t){return dr([te({jsonrpc:_t("2.0"),id:ie(),result:t}),te({jsonrpc:_t("2.0"),id:ie(),error:te({code:wh(),message:ie(),data:xe(q$())})})])}const yH=Kk(wh());function Be(t){return xh(Kk(t),yH,e=>"error"in e?e:{...e,result:se(e.result,t)})}function kt(t){return Be(te({context:te({slot:H()}),value:t}))}function h0(t){return te({context:te({slot:H()}),value:t})}function _m(t,e){return t===0?new $f({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new we(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:In.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ro(e)}const vH=te({foundation:H(),foundationTerm:H(),initial:H(),taper:H(),terminal:H()}),_H=Be(le(ce(te({epoch:H(),effectiveSlot:H(),amount:H(),postBalance:H(),commission:xe(ce(H()))})))),wH=le(te({slot:H(),prioritizationFee:H()})),xH=te({total:H(),validator:H(),foundation:H(),epoch:H()}),bH=te({epoch:H(),slotIndex:H(),slotsInEpoch:H(),absoluteSlot:H(),blockHeight:xe(H()),transactionCount:xe(H())}),EH=te({slotsPerEpoch:H(),leaderScheduleSlotOffset:H(),warmup:Oi(),firstNormalEpoch:H(),firstNormalSlot:H()}),SH=wk(ie(),le(H())),va=ce(dr([te({}),ie()])),IH=te({err:va}),AH=_t("receivedSignature"),kH=te({"solana-core":ie(),"feature-set":xe(H())}),Pb=kt(te({err:ce(dr([te({}),ie()])),logs:ce(le(ie())),accounts:xe(ce(le(ce(te({executable:Oi(),owner:ie(),lamports:H(),data:le(ie()),rentEpoch:xe(H())}))))),unitsConsumed:xe(H()),returnData:xe(ce(te({programId:ie(),data:_w([ie(),_t("base64")])})))})),TH=kt(te({byIdentity:wk(ie(),le(H())),range:te({firstSlot:H(),lastSlot:H()})}));function CH(t,e,n,r,i,s){const o=n||cH;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let l;return r&&(l=async(h,f)=>{const v=await new Promise((w,S)=>{try{r(h,f,(b,A)=>w([b,A]))}catch(b){S(b)}});return await o(...v)}),new wz(async(h,f)=>{const v={method:"POST",body:h,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Rq)};try{let w=5,S,b=500;for(;l?S=await l(t,v):S=await o(t,v),!(S.status!==429||i===!0||(w-=1,w===0));)console.log(`Server responded with ${S.status} ${S.statusText}.  Retrying after ${b}ms delay...`),await Ta(b),b*=2;const A=await S.text();S.ok?f(null,A):f(new Error(`${S.status} ${S.statusText}: ${A}`))}catch(w){w instanceof Error&&f(w)}},{})}function RH(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function PH(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const NH=Be(vH),MH=Be(xH),LH=Be(wH),DH=Be(bH),OH=Be(EH),BH=Be(SH),jH=Be(H()),UH=kt(te({total:H(),circulating:H(),nonCirculating:H(),nonCirculatingAccounts:le(rn)})),v1=te({amount:ie(),uiAmount:ce(H()),decimals:H(),uiAmountString:xe(ie())}),FH=kt(le(te({address:rn,amount:ie(),uiAmount:ce(H()),decimals:H(),uiAmountString:xe(ie())}))),VH=kt(le(te({pubkey:rn,account:te({executable:Oi(),owner:rn,lamports:H(),data:bw,rentEpoch:H()})}))),_1=te({program:ie(),parsed:wh(),space:H()}),$H=kt(le(te({pubkey:rn,account:te({executable:Oi(),owner:rn,lamports:H(),data:_1,rentEpoch:H()})}))),zH=kt(le(te({lamports:H(),address:rn}))),zu=te({executable:Oi(),owner:rn,lamports:H(),data:bw,rentEpoch:H()}),HH=te({pubkey:rn,account:zu}),qH=xh(dr([vw(Te.Buffer),_1]),dr([Wk,_1]),t=>Array.isArray(t)?se(t,bw):t),w1=te({executable:Oi(),owner:rn,lamports:H(),data:qH,rentEpoch:H()}),WH=te({pubkey:rn,account:w1}),KH=te({state:dr([_t("active"),_t("inactive"),_t("activating"),_t("deactivating")]),active:H(),inactive:H()}),GH=Be(le(te({signature:ie(),slot:H(),err:va,memo:ce(ie()),blockTime:xe(ce(H()))}))),ZH=Be(le(te({signature:ie(),slot:H(),err:va,memo:ce(ie()),blockTime:xe(ce(H()))}))),QH=te({subscription:H(),result:h0(zu)}),YH=te({pubkey:rn,account:zu}),XH=te({subscription:H(),result:h0(YH)}),JH=te({parent:H(),slot:H(),root:H()}),eq=te({subscription:H(),result:JH}),tq=dr([te({type:dr([_t("firstShredReceived"),_t("completed"),_t("optimisticConfirmation"),_t("root")]),slot:H(),timestamp:H()}),te({type:_t("createdBank"),parent:H(),slot:H(),timestamp:H()}),te({type:_t("frozen"),slot:H(),timestamp:H(),stats:te({numTransactionEntries:H(),numSuccessfulTransactions:H(),numFailedTransactions:H(),maxTransactionsPerEntry:H()})}),te({type:_t("dead"),slot:H(),timestamp:H(),err:ie()})]),nq=te({subscription:H(),result:tq}),rq=te({subscription:H(),result:h0(dr([IH,AH]))}),iq=te({subscription:H(),result:H()}),sq=te({pubkey:ie(),gossip:ce(ie()),tpu:ce(ie()),rpc:ce(ie()),version:ce(ie())}),Nb=te({votePubkey:ie(),nodePubkey:ie(),activatedStake:H(),epochVoteAccount:Oi(),epochCredits:le(_w([H(),H(),H()])),commission:H(),lastVote:H(),rootSlot:ce(H())}),oq=Be(te({current:le(Nb),delinquent:le(Nb)})),aq=dr([_t("processed"),_t("confirmed"),_t("finalized")]),lq=te({slot:H(),confirmations:ce(H()),err:va,confirmationStatus:xe(aq)}),cq=kt(le(ce(lq))),uq=Be(H()),Gk=te({accountKey:rn,writableIndexes:le(H()),readonlyIndexes:le(H())}),Ew=te({signatures:le(ie()),message:te({accountKeys:le(ie()),header:te({numRequiredSignatures:H(),numReadonlySignedAccounts:H(),numReadonlyUnsignedAccounts:H()}),instructions:le(te({accounts:le(H()),data:ie(),programIdIndex:H()})),recentBlockhash:ie(),addressTableLookups:xe(le(Gk))})}),Zk=te({pubkey:rn,signer:Oi(),writable:Oi(),source:xe(dr([_t("transaction"),_t("lookupTable")]))}),Qk=te({accountKeys:le(Zk),signatures:le(ie())}),Yk=te({parsed:wh(),program:ie(),programId:rn}),Xk=te({accounts:le(rn),data:ie(),programId:rn}),hq=dr([Xk,Yk]),dq=dr([te({parsed:wh(),program:ie(),programId:ie()}),te({accounts:le(ie()),data:ie(),programId:ie()})]),Jk=xh(hq,dq,t=>"accounts"in t?se(t,Xk):se(t,Yk)),eT=te({signatures:le(ie()),message:te({accountKeys:le(Zk),instructions:le(Jk),recentBlockhash:ie(),addressTableLookups:xe(ce(le(Gk)))})}),zf=te({accountIndex:H(),mint:ie(),owner:xe(ie()),uiTokenAmount:v1}),tT=te({writable:le(rn),readonly:le(rn)}),d0=te({err:va,fee:H(),innerInstructions:xe(ce(le(te({index:H(),instructions:le(te({accounts:le(H()),data:ie(),programIdIndex:H()}))})))),preBalances:le(H()),postBalances:le(H()),logMessages:xe(ce(le(ie()))),preTokenBalances:xe(ce(le(zf))),postTokenBalances:xe(ce(le(zf))),loadedAddresses:xe(tT),computeUnitsConsumed:xe(H())}),Sw=te({err:va,fee:H(),innerInstructions:xe(ce(le(te({index:H(),instructions:le(Jk)})))),preBalances:le(H()),postBalances:le(H()),logMessages:xe(ce(le(ie()))),preTokenBalances:xe(ce(le(zf))),postTokenBalances:xe(ce(le(zf))),loadedAddresses:xe(tT),computeUnitsConsumed:xe(H())}),sc=dr([_t(0),_t("legacy")]),_a=te({pubkey:ie(),lamports:H(),postBalance:ce(H()),rewardType:ce(ie()),commission:xe(ce(H()))}),fq=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:Ew,meta:ce(d0),version:xe(sc)})),rewards:xe(le(_a)),blockTime:ce(H()),blockHeight:ce(H())}))),pq=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:xe(le(_a)),blockTime:ce(H()),blockHeight:ce(H())}))),gq=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:Qk,meta:ce(d0),version:xe(sc)})),rewards:xe(le(_a)),blockTime:ce(H()),blockHeight:ce(H())}))),mq=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:eT,meta:ce(Sw),version:xe(sc)})),rewards:xe(le(_a)),blockTime:ce(H()),blockHeight:ce(H())}))),yq=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:Qk,meta:ce(Sw),version:xe(sc)})),rewards:xe(le(_a)),blockTime:ce(H()),blockHeight:ce(H())}))),vq=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),rewards:xe(le(_a)),blockTime:ce(H()),blockHeight:ce(H())}))),_q=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),transactions:le(te({transaction:Ew,meta:ce(d0)})),rewards:xe(le(_a)),blockTime:ce(H())}))),Mb=Be(ce(te({blockhash:ie(),previousBlockhash:ie(),parentSlot:H(),signatures:le(ie()),blockTime:ce(H())}))),wm=Be(ce(te({slot:H(),meta:d0,blockTime:xe(ce(H())),transaction:Ew,version:xe(sc)}))),ad=Be(ce(te({slot:H(),transaction:eT,meta:ce(Sw),blockTime:xe(ce(H())),version:xe(sc)}))),wq=kt(te({blockhash:ie(),feeCalculator:te({lamportsPerSignature:H()})})),xq=kt(te({blockhash:ie(),lastValidBlockHeight:H()})),bq=kt(Oi()),Eq=te({slot:H(),numTransactions:H(),numSlots:H(),samplePeriodSecs:H()}),Sq=Be(le(Eq)),Iq=kt(ce(te({feeCalculator:te({lamportsPerSignature:H()})}))),Aq=Be(ie()),kq=Be(ie()),Tq=te({err:va,logs:le(ie()),signature:ie()}),Cq=te({result:h0(Tq),subscription:H()}),Rq={"solana-client":"js/0.0.0-development"};class Pq{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const c={};return async h=>{const{commitment:f,config:v}=gt(h),w=this._buildArgs([],f,void 0,v),S=kb(w);return c[S]=c[S]??(async()=>{try{const b=await this._rpcRequest("getBlockHeight",w),A=se(b,Be(H()));if("error"in A)throw new me(A.error,"failed to get block height information");return A.result}finally{delete c[S]}})(),await c[S]}})();let r,i,s,o,a,l;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,l=n.httpAgent),this._rpcEndpoint=mH(e),this._rpcWsEndpoint=r||pH(e),this._rpcClient=CH(e,i,s,o,a,l),this._rpcRequest=RH(this._rpcClient),this._rpcBatchRequest=PH(this._rpcClient),this._rpcWebSocket=new uH(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=se(o,kt(H()));if("error"in a)throw new me(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=se(n,Be(ce(H())));if("error"in r)throw new me(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=se(e,Be(H()));if("error"in n)throw new me(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=se(e,jH);if("error"in n)throw new me(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=se(r,UH);if("error"in i)throw new me(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=se(i,kt(v1));if("error"in s)throw new me(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=se(i,kt(v1));if("error"in s)throw new me(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=gt(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),l=await this._rpcRequest("getTokenAccountsByOwner",a),c=se(l,VH);if("error"in c)throw new me(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=se(o,$H);if("error"in a)throw new me(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=se(i,zH);if("error"in s)throw new me(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=se(i,FH);if("error"in s)throw new me(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,kt(ce(zu)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=se(o,kt(ce(w1)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=gt(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),l=se(a,kt(le(ce(w1))));if("error"in l)throw new me(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=gt(n),s=e.map(c=>c.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),l=se(a,kt(le(ce(zu))));if("error"in l)throw new me(l.error,`failed to get info for accounts ${s}`);return l.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=gt(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),l=se(a,Be(KH));if("error"in l)throw new me(l.error,`failed to get Stake Activation ${e.toBase58()}`);return l.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=gt(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),l=await this._rpcRequest("getProgramAccounts",a),c=le(HH),h=o.withContext===!0?se(l,kt(c)):se(l,Be(c));if("error"in h)throw new me(h.error,`failed to get accounts owned by program ${e.toBase58()}`);return h.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=se(o,Be(le(WH)));if("error"in a)throw new me(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=In.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Jt(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((l,c)=>{try{r=this.onSignature(n,(f,v)=>{r=void 0;const w={context:v,value:f};l({__type:bs.PROCESSED,response:w})},e);const h=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,v=>{v==="subscribed"&&f()})});(async()=>{if(await h,s)return;const f=await this.getSignatureStatus(n);if(s||f==null)return;const{context:v,value:w}=f;if(w!=null)if(w!=null&&w.err)c(w.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(w.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(w.confirmationStatus==="processed"||w.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,l({__type:bs.PROCESSED,response:{context:v,value:w}})}})()}catch(h){c(h)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(f=>{const v=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let w=await v();if(!s){for(;w<=r;)if(await Ta(1e3),s||(w=await v(),s))return;f({__type:bs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),c=this.getCancellationPromise(n);let h;try{const f=await Promise.race([c,l,o]);if(f.__type===bs.PROCESSED)h=f.response;else throw new $k(i)}finally{s=!0,a()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const l=new Promise(w=>{let S=s,b=null;const A=async()=>{try{const{context:x,value:E}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return b=x.slot,E==null?void 0:E.nonce}catch{return S}};(async()=>{if(S=await A(),!a)for(;;){if(s!==S){w({__type:bs.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await Ta(2e3),a||(S=await A(),a))return}})()}),{abortConfirmation:c,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let v;try{const w=await Promise.race([f,h,l]);if(w.__type===bs.PROCESSED)v=w.response;else{let S;for(;;){const b=await this.getSignatureStatus(o);if(b==null)break;if(b.context.slot<(w.slotInWhichNonceDidAdvance??r)){await Ta(400);continue}S=b;break}if(S!=null&&S.value){const b=e||"finalized",{confirmationStatus:A}=S.value;switch(b){case"processed":case"recent":if(A!=="processed"&&A!=="confirmed"&&A!=="finalized")throw new Oc(o);break;case"confirmed":case"single":case"singleGossip":if(A!=="confirmed"&&A!=="finalized")throw new Oc(o);break;case"finalized":case"max":case"root":if(A!=="finalized")throw new Oc(o);break;default:}v={context:S.context,value:{err:S.value.err}}}else throw new Oc(o)}}finally{a=!0,c()}return v}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(l=>{let c=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{c=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>l({__type:bs.TIMED_OUT,timeoutMs:c}),c)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const l=await Promise.race([o,i]);if(l.__type===bs.PROCESSED)a=l.response;else throw new zk(n,l.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=se(e,Be(le(sq)));if("error"in n)throw new me(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=se(r,oq);if("error"in i)throw new me(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=se(s,Be(H()));if("error"in o)throw new me(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=se(s,Be(ie()));if("error"in o)throw new me(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=se(i,Be(le(rn)));if("error"in s)throw new me(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);Jt(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=se(i,cq);if("error"in s)throw new me(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=se(s,Be(H()));if("error"in o)throw new me(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=se(r,NH);if("error"in i)throw new me(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=gt(r),o=this._buildArgs([e.map(c=>c.toBase58())],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),l=se(a,_H);if("error"in l)throw new me(l.error,"failed to get inflation reward");return l.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=se(e,MH);if("error"in n)throw new me(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=se(s,DH);if("error"in o)throw new me(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=se(e,OH);if("error"in n)throw new me(n.error,"failed to get epoch schedule");const r=n.result;return new lH(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=se(e,BH);if("error"in n)throw new me(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=se(i,uq);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",n),i=se(r,wq);if("error"in i)throw new me(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=se(n,Sq);if("error"in r)throw new me(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=se(i,Iq);if("error"in s)throw new me(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=xn(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=se(s,kt(ce(H())));if("error"in o)throw new me(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const n=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=se(i,LH);if("error"in s)throw new me(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=se(s,xq);if("error"in o)throw new me(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=se(o,bq);if("error"in a)throw new me(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=se(e,Be(kH));if("error"in n)throw new me(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=se(e,Be(ie()));if("error"in n)throw new me(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,gq);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,pq);if("error"in a)throw a.error;return a.result}default:{const a=se(o,fq);if("error"in a)throw a.error;const{result:l}=a;return l?{...l,transactions:l.transactions.map(({transaction:c,meta:h,version:f})=>({meta:h,transaction:{...c,message:_m(f,c.message)},version:f}))}:null}}}catch(a){throw new me(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=se(o,yq);if("error"in a)throw a.error;return a.result}case"none":{const a=se(o,vq);if("error"in a)throw a.error;return a.result}default:{const a=se(o,mq);if("error"in a)throw a.error;return a.result}}}catch(a){throw new me(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...l}=e;r=a,n=l}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=se(s,TH);if("error"in o)throw new me(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=se(o,wm);if("error"in a)throw new me(a.error,"failed to get transaction");const l=a.result;return l&&{...l,transaction:{...l.transaction,message:_m(l.version,l.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=gt(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=se(o,ad);if("error"in a)throw new me(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=gt(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=se(l,ad);if("error"in c)throw new me(c.error,"failed to get transactions");return c.result})}async getTransactions(e,n){const{commitment:r,config:i}=gt(n),s=e.map(l=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([l],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(l=>{const c=se(l,wm);if("error"in c)throw new me(c.error,"failed to get transactions");const h=c.result;return h&&{...h,transaction:{...h.transaction,message:_m(h.version,h.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,_q);if("error"in s)throw new me(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:l,meta:c})=>{const h=new ro(l.message);return{meta:c,transaction:{...l,message:h}}})};return{...a,transactions:a.transactions.map(({transaction:l,meta:c})=>({meta:c,transaction:ei.populate(l.message,l.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=se(s,Be(le(H())));if("error"in o)throw new me(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=se(i,Mb);if("error"in s)throw new me(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=se(i,Mb);if("error"in s)throw new me(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,wm);if("error"in s)throw new me(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ro(o.transaction.message),l=o.transaction.signatures;return{...o,transaction:ei.populate(a,l)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=se(i,ad);if("error"in s)throw new me(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=se(o,ad);if("error"in a)throw new me(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const l=await this.getConfirmedBlockSignatures(n,"finalized");l.signatures.length>0&&(i.until=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const l=await this.getConfirmedBlockSignatures(r);l.signatures.length>0&&(i.before=l.signatures[l.signatures.length-1].toString())}catch(l){if(l instanceof Error&&l.message.includes("skipped"))continue;throw l}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(l=>l.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=se(s,GH);if("error"in o)throw new me(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=se(s,ZH);if("error"in o)throw new me(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new Rb({key:e,state:Rb.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=xw.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=se(r,Aq);if("error"in i)throw new me(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Ta(100);const r=Date.now()-this._blockhashInfo.lastFetch>=gH;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Ta(Jz/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=gt(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=se(s,kt(H()));if("error"in o)throw new me(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const b=e.serialize(),A=Te.Buffer.from(b).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const x=n||{};x.encoding="base64","commitment"in x||(x.commitment=this.commitment);const E=[A,x],y=await this._rpcRequest("simulateTransaction",E),P=se(y,Pb);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof ei){let S=e;i=new ei,i.feePayer=S.feePayer,i.instructions=e.instructions,i.nonceInfo=S.nonceInfo,i.signatures=S.signatures}else i=ei.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let S=this._disableBlockhashCaching;for(;;){const b=await this._blockhashWithExpiryBlockHeight(S);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const A=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(A)&&!this._blockhashInfo.transactionSignatures.includes(A)){this._blockhashInfo.simulatedSignatures.push(A);break}else S=!0}}const o=i._compile(),a=o.serialize(),c=i._serialize(a).toString("base64"),h={encoding:"base64",commitment:this.commitment};if(r){const S=(Array.isArray(r)?r:o.nonProgramIds()).map(b=>b.toBase58());h.accounts={encoding:"base64",addresses:S}}s&&(h.sigVerify=!0);const f=[c,h],v=await this._rpcRequest("simulateTransaction",f),w=se(v,Pb);if("error"in w){let S;if("data"in w.error&&(S=w.error.data.logs,S&&Array.isArray(S))){const b=`
    `,A=b+S.join(b);console.error(w.error.message,A)}throw new Tb("failed to simulate transaction: "+w.error.message,S)}return w.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const l=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(l))o=!0;else{this._blockhashInfo.transactionSignatures.push(l);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=xn(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),l=se(a,kq);if("error"in l){let c;throw"data"in l.error&&(c=l.error.data.logs),new Tb("failed to send transaction: "+l.error.message,c)}return l.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=se(e,QH);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=kb([e.method,n],!0),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Jt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=se(e,XH);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=se(e,Cq);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=se(e,eq);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=se(e,nq);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=se(e,rq);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(l,c)=>{n(l,c);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=se(e,iq);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class ru{constructor(e){this._keypair=void 0,this._keypair=e??bb()}static generate(){return new ru(bb())}static fromSecretKey(e,n){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!n||!n.skipValidation){const i=e.slice(0,32),s=m1(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new ru({publicKey:r,secretKey:e})}static fromSeed(e){const n=m1(e),r=new Uint8Array(64);return r.set(e),r.set(n,32),new ru({publicKey:n,secretKey:r})}get publicKey(){return new we(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:ye([_e("instruction"),Dl("recentSlot"),Xe("bumpSeed")])},FreezeLookupTable:{index:1,layout:ye([_e("instruction")])},ExtendLookupTable:{index:2,layout:ye([_e("instruction"),Dl(),Xn(je(),Vo(_e(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ye([_e("instruction")])},CloseLookupTable:{index:4,layout:ye([_e("instruction")])}});new we("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:ye([Xe("instruction"),_e("units"),_e("additionalFee")])},RequestHeapFrame:{index:1,layout:ye([Xe("instruction"),_e("bytes")])},SetComputeUnitLimit:{index:2,layout:ye([Xe("instruction"),_e("units")])},SetComputeUnitPrice:{index:3,layout:ye([Xe("instruction"),Dl("microLamports")])}});new we("ComputeBudget111111111111111111111111111111");ye([Xe("numSignatures"),Xe("padding"),Lr("signatureOffset"),Lr("signatureInstructionIndex"),Lr("publicKeyOffset"),Lr("publicKeyInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),Lr("messageInstructionIndex")]);new we("Ed25519SigVerify111111111111111111111111111");ww.utils.isValidPrivateKey;ww.getPublicKey;ye([Xe("numSignatures"),Lr("signatureOffset"),Xe("signatureInstructionIndex"),Lr("ethAddressOffset"),Xe("ethAddressInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),Xe("messageInstructionIndex"),At(20,"ethAddress"),At(64,"signature"),Xe("recoveryId")]);new we("KeccakSecp256k11111111111111111111111111111");var nT;new we("StakeConfig11111111111111111111111111111111");class rT{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}nT=rT;rT.default=new nT(0,0,we.default);Object.freeze({Initialize:{index:0,layout:ye([_e("instruction"),qz(),Wz()])},Authorize:{index:1,layout:ye([_e("instruction"),je("newAuthorized"),_e("stakeAuthorizationType")])},Delegate:{index:2,layout:ye([_e("instruction")])},Split:{index:3,layout:ye([_e("instruction"),mr("lamports")])},Withdraw:{index:4,layout:ye([_e("instruction"),mr("lamports")])},Deactivate:{index:5,layout:ye([_e("instruction")])},Merge:{index:7,layout:ye([_e("instruction")])},AuthorizeWithSeed:{index:8,layout:ye([_e("instruction"),je("newAuthorized"),_e("stakeAuthorizationType"),Ha("authoritySeed"),je("authorityOwner")])}});new we("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:ye([_e("instruction"),Kz()])},Authorize:{index:1,layout:ye([_e("instruction"),je("newAuthorized"),_e("voteAuthorizationType")])},Withdraw:{index:3,layout:ye([_e("instruction"),mr("lamports")])},AuthorizeWithSeed:{index:10,layout:ye([_e("instruction"),Gz()])}});new we("Vote111111111111111111111111111111111111111");new we("Va1idator1nfo111111111111111111111111111111");te({name:ie(),website:xe(ie()),details:xe(ie()),keybaseUsername:xe(ie())});new we("Vote111111111111111111111111111111111111111");ye([je("nodePubkey"),je("authorizedWithdrawer"),Xe("commission"),_n(),Xn(ye([_n("slot"),_e("confirmationCount")]),Vo(_e(),-8),"votes"),Xe("rootSlotValid"),_n("rootSlot"),_n(),Xn(ye([_n("epoch"),je("authorizedVoter")]),Vo(_e(),-8),"authorizedVoters"),ye([Xn(ye([je("authorizedPubkey"),_n("epochOfLastAuthorizedSwitch"),_n("targetEpoch")]),32,"buf"),_n("idx"),Xe("isEmpty")],"priorVoters"),_n(),Xn(ye([_n("epoch"),_n("credits"),_n("prevCredits")]),Vo(_e(),-8),"epochCredits"),ye([_n("slot"),_n("timestamp")],"lastTimestamp")]);const Ec=1e9;function Nq(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var S=0,b=0,A=0,x=w.length;A!==x&&w[A]===0;)A++,S++;for(var E=(x-A)*c+1>>>0,y=new Uint8Array(E);A!==x;){for(var P=w[A],N=0,O=E-1;(P!==0||N<b)&&O!==-1;O--,N++)P+=256*y[O]>>>0,y[O]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");b=N,A++}for(var U=E-b;U!==E&&y[U]===0;)U++;for(var F=a.repeat(S);U<E;++U)F+=t.charAt(y[U]);return F}function f(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;for(var S=0,b=0,A=0;w[S]===a;)b++,S++;for(var x=(w.length-S)*l+1>>>0,E=new Uint8Array(x);w[S];){var y=e[w.charCodeAt(S)];if(y===255)return;for(var P=0,N=x-1;(y!==0||P<A)&&N!==-1;N--,P++)y+=o*E[N]>>>0,E[N]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");A=P,S++}for(var O=x-A;O!==x&&E[O]===0;)O++;for(var U=new Uint8Array(b+(x-O)),F=b;O!==x;)U[F++]=E[O++];return U}function v(w){var S=f(w);if(S)return S;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:v}}var Mq=Nq;const Lq=Mq,Dq="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Oq=Lq(Dq);const Bq=ia(Oq);window.Buffer=Te.Buffer;const go=new Pq("https://api.devnet.solana.com"),jq={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},iT=ao(jq),mo=fa(iT),xm=e0(iT),Uq=t=>{const{url:e}=n4(),n=zl(),[r,i]=ee.useState(!1),[s,o]=ee.useState(null),[a,l]=ee.useState(null),[c,h]=ee.useState(null);console.log(t.state.walletResponse),ee.useEffect(()=>{Jp({Ripple:Yp})},[]);const[f,v]=ee.useState(t.rate);ee.useEffect(()=>{t.state.walletAddress},[t.state.walletAddress]),ee.useEffect(()=>{$("#card_price").text(f)},[$("#card_sol").text()]);const w=dn(mo,"Course",e);(async()=>{const P=await xi(w);if(P.exists()){$("#card_title").text(Zn(P.data().title)),$("#card_des").text(P.data().des),$("#card_sub").text(Zn(P.data().sub)),$("#card_level").text(Zn(P.data().eduLvl)),$("#card_lang").text(Zn(P.data().lang)),$("#card_sol").text((P.data().sol*1.05).toFixed(2)),l(P.data().sol),$("#card_uploadTime").text(new Date(P.data().uploadTime.seconds*1e3).toLocaleString()),P.data().mode==="both"?$("#card_mode").text("Video and notes"):P.data().mode==="video"?$("#card_mode").text("Video"):$("#card_mode").text("Notes");const N=()=>{let Z="";for(let ue in P.data().tag)Z+=`<span class="me-1 mb-1 inline-block whitespace-nowrap rounded-[0.27rem] text-secondary-50 bg-info-100 px-[1em] pb-[0.5em] pt-[0.6em] text-center align-baseline text-[0.75em] font-bold leading-none bg-secondary-600 text-xs">${P.data().tag[ue]}</span>`;$("#card_tag").html(Z)};N(),$("#card_tag").html(N),s||o(P.data().userUID);const O=dn(mo,"Users",P.data().userUID);(async()=>{const Z=await xi(O);Z.exists()?(Ya(document.getElementById("card_tutor")),$("#card_tutor").text(Z.data().displayName),h(Z.data().walletAddress)):console.log("No such document for Users with UID of",Z.data().userUID)})();const F=Pi(xm,e+"/thumbnail.jpg");Uo(F).then(Z=>{$("#card_img").attr("src",Z)});const G=dn(mo,"Users",t.state.user.uid);(async()=>{const Z=await xi(G);Z.exists()?(Z.data().wishlist&&(Z.data().wishlist.indexOf(e)>=0?$("#b_wishlist").text("- REMOVE FROM WISHLIST"):$("#b_wishlist").text("+ ADD TO WISHLIST")),Z.data().enrolled&&(Z.data().enrolled.indexOf(e)>=0?($("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)):P.data().userUID===t.state.user.uid&&$("#b_enroll").text("TEACHER"))):console.log("No such document for User with UID",t.state.user.uid)})(),P.data().userUID===t.state.user.uid&&($("#b_enroll").text("TEACHER"),$("#b_enroll").attr("disabled",!0),i(!0))}else console.log("No such document for Course with link",e)})(),(()=>{const P=mI(Vp(mo,"Users"),yI("enrolled","array-contains",e));(async()=>{const O=await P_(P);$("#card_enroll").text(O.docs.length)})()})();const A=()=>{const P=dn(mo,"Users",t.state.user.uid);(async()=>{$("#b_wishlist").text()==="+ ADD TO WISHLIST"?(await $a(P,{wishlist:Ig(e)}),$("#b_wishlist").text("- REMOVE FROM WISHLIST"),alert("Added to wishlist!")):(await $a(P,{wishlist:kO(e)}),$("#b_wishlist").text("+ ADD TO WISHLIST"),alert("Removed from wishlist!"))})()},x=async(P,N,O)=>{if(console.log("sendSol"),!N&&!O){console.log("Wallet address of recipent or amount to transfer not found!");return}const U=ru.fromSecretKey(Bq.decode("2EhyfeJPRDYCdQFvZwc5ZUiMRASqhPt17N8a55WoZnnZ8B6d6G5ih87g4q8Li6wreZGcUEXWAoG9nxRTMbpenEXm")),F=new we(N);(async()=>{let Z=await go.getBalance(U.publicKey),ue=await go.getBalance(F);console.log(`Sender Balance: ${Z/Ec} SOL`),console.log(`Receiver Balance: ${ue/Ec} SOL`)})(),(async()=>{if(await go.getBalance(U.publicKey)/Ec>(a*1.05).toFixed(2)){let ue=new ei().add(Ol.transfer({fromPubkey:U.publicKey,toPubkey:F,lamports:O*Ec}));ue.recentBlockhash=(await go.getRecentBlockhash()).blockhash,ue.feePayer=U.publicKey,ue.partialSign(U);let j=await go.sendTransaction(ue,[U]);console.log("Transaction hash to teacher:",j,O);let d=new ei().add(Ol.transfer({fromPubkey:U.publicKey,toPubkey:"5VHWzF3jFnc9WK7MijhcHT7QDRZ1Zt1W6Pvf6wrTsdQh",lamports:parseInt((O*.05).toFixed(2)*Ec)}));d.recentBlockhash=(await go.getRecentBlockhash()).blockhash,d.feePayer=U.publicKey,d.partialSign(U);let _=await go.sendTransaction(d,[U]);console.log("Commission hash:",_,(O*.05).toFixed(2));const T=dn(mo,"Users",t.state.user.uid);(async()=>{await $a(T,{enrolled:Ig(e)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)})(),alert("Commission of 5% paid successfully.")}else{alert("Transaction failed. Not enough SOL tokens to pay.");return}})()},E=()=>{n("../profile/"+s)},y=()=>{if(t.state.role==="special needy / refugee / disabilities"){const P=dn(mo,"Users",t.state.user.uid);(async()=>{await $a(P,{enrolled:Ig(e)}),$("#b_enroll").text("ENROLLED"),$("#b_enroll").attr("disabled",!0),i(!0)})(),alert("Enrolled with special discount #FreeHelpEdu")}else confirm(`Are you sure you want to proceeed by paying a transcation fee of ${(a*1.05).toFixed(2)} SOL? 

 5% of commission fee is applied for web maintainence.`)&&x(t.state.walletAddress,c,a)};return ee.useEffect(()=>{if(r){const P=Pi(xm,e+"/video.mp4");Uo(P).then(O=>{$("#media_area").html($("#media_area").html()+`<h1 class="text-4xl font-bold m-4">Video</h1><video width="100%" height="100%" controls><source src="${O}" type="video/mp4">Your browser does not support the video tag.</video>`)});const N=Pi(xm,e+"/notes.pdf");Uo(N).then(O=>{$("#media_area").html($("#media_area").html()+'<h1 class="text-4xl font-bold m-4">Notes</h1><object data="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20210101201653/PDF.pdf" width="100%" height="800"></object>')})}},[r]),u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Course"}),u.jsxs("div",{className:"flex flex-col rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700 max-w-8xl md:flex-row",children:[u.jsx("img",{className:"w-1/2 rounded-t-lg object-cover md:!rounded-none md:!rounded-l-lg",src:"",alt:"Course thumbnail",id:"card_img"}),u.jsxs("div",{className:"flex flex-col justify-start max-w-3xl p-6",children:[u.jsx("h5",{className:"mb-2 text-3xl font-semibold text-neutral-800 dark:text-neutral-50",id:"card_title"}),u.jsxs("p",{className:"mb-4 text-sm text-warning-600 dark:text-warning-400",children:["* ",u.jsx("span",{id:"card_mode"})," included."]}),u.jsx("p",{className:"mb-2 text-base text-neutral-600 dark:text-neutral-200",id:"card_des"}),u.jsx("div",{className:"mb-4 gap-4",id:"card_tag"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 max-w-xs mb-4",children:[u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:u.jsx("b",{children:"Subject"})}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_sub"}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:u.jsx("b",{children:"Tutor"})}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 underline text-primary transition duration-150 ease-in-out hover:text-primary-600 focus:text-primary-600 active:text-primary-700 dark:text-primary-400 dark:hover:text-primary-500 dark:focus:text-primary-500 dark:active:text-primary-600 cursor-pointer",onClick:E,id:"card_tutor"}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:u.jsx("b",{children:"Level"})}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_level"}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:u.jsx("b",{children:"Language"})}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_lang"}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:u.jsx("b",{children:"Price"})}),u.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:[u.jsx("span",{id:"card_sol",children:"0.00"})," SOL / ",u.jsx("span",{id:"card_price",children:u.jsx(oA,{sol:$("#card_sol").text()})}),' USD"']}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",children:u.jsx("b",{children:"Enrollment"})}),u.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-300",id:"card_enroll",children:"0"})]}),u.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-300 mb-4",children:["Uploaded on ",u.jsx("span",{id:"card_uploadTime"})]}),u.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[u.jsx("button",{type:"button",onClick:y,className:"inline-block rounded bg-primary px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] disabled:opacity-70","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_enroll",children:"ENROLL NOW"}),u.jsx("button",{onClick:A,type:"button",className:"inline-block rounded bg-primary-100 px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-primary-accent-100 focus:bg-primary-accent-100 focus:outline-none focus:ring-0 active:bg-primary-accent-200","data-te-ripple-init":!0,"data-te-ripple-color":"light",id:"b_wishlist",children:"+ ADD TO WISHLIST"})]})]})]}),u.jsx("br",{}),u.jsx("div",{id:"media_area"})]})},Fq=t=>e=>{const n=zl();return u.jsx(t,{...e,navigate:n})},Vq={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},sT=ao(Vq),$q=fa(sT),bm=e0(sT);class zq extends ee.Component{constructor(n){super(n);at(this,"select",n=>{$(".button_choice").attr("class","button_choice"),$(`#b_${n}`).attr("class","button_choice text-white bg-secondary-700 hover:bg-secondary-800 focus:ring-4 focus:ring-secondary-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-secondary-600 dark:hover:bg-secondary-700 focus:outline-none dark:focus:ring-secondary-800"),this.setState({choice:n}),n==="both"?($("#div_video").css("display","inherit"),$("#div_notes").css("display","inherit")):($(".div_upload").css("display","none"),$(`#div_${n}`).css("display","inherit"))});at(this,"handleKeyPress",n=>{n.preventDefault(),n.key=="Enter"&&this.uploadConfirm()});at(this,"handleTagKeyPress",n=>{n.key=="Enter"&&(this.setState({tag:this.state.tag.add($("#t_tag").val())}),$("#t_tag").val(""),$("#div_tag").css("display","inline-block"))});at(this,"removeTag",n=>{this.state.tag.delete(n),this.setState({tag:this.state.tag})});at(this,"changeSOL",()=>{this.setState({sol:$("#t_sol").val()})});at(this,"uploadConfirm",async()=>{const{navigate:n}=this.props;if($("#t_title").val()!==""&&$("#t_des").val()!==""&&$("#c_level").val()!==""&&$("#t_sub").val()!==""&&$("#t_lang").val()!==""&&$("#t_sol").val()!=="")if($("#div_tag").html()!=="")if(this.state.choice)if(this.state.thumbnailUpload&&(this.state.choice==="video"&&this.state.videoUpload||this.state.choice==="notes"&&this.state.notesUpload||this.state.choice==="both"&&this.state.videoUpload&&this.state.notesUpload)){if(confirm(`Make sure all information are correct. You cannot edit any part anymore after material is uploaded.

Do not reload the page before uploading process is not done.`)){$("#main").css("opacity",.5),$("#main").css("pointerEvents","none"),$("#main").attr("disabled",!0);const r=await SO(Vp($q,"Course"),{title:$("#t_title").val(),des:$("#t_des").val().split(`
`),eduLvl:$("#c_level").val(),sub:$("#t_sub").val(),lang:$("#t_lang").val(),sol:parseFloat($("#t_sol").val()),tag:[...this.state.tag],userUID:this.state.user.uid,mode:this.state.choice,uploadTime:AO(),view:0});console.log("Document written with ID: ",r.id);let i=Pi(bm,`${r.id}/thumbnail.jpg`);await wc(i,this.state.thumbnailUpload).then(()=>{console.log("Uploaded thumbnail file!")});let s=Pi(bm,`${r.id}/video.mp4`),o=Pi(bm,`${r.id}/notes.pdf`);switch(this.state.choice){case"video":await wc(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")});break;case"notes":await wc(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break;case"both":await wc(s,this.state.videoUpload).then(()=>{console.log("Uploaded video file!")}),await wc(o,this.state.notesUpload).then(()=>{console.log("Uploaded pdf file!")});break}$("#main").css("opacity",1),$("#main").css("pointerEvents","inherit"),$("#main").attr("disabled",!1),await alert("Upload success!"),n("/freeflow-edu/")}}else alert("Please upload required image / video / notes.");else alert("Please select either to upload video / notes / both.");else alert("Please add some tags! ");else alert("Please fill in all information required.")});this.state={user:n.state.user,credential:n.state.credential,choice:null,tag:new Set,thumbnailUpload:null,videoUpload:null,notesUpload:null,sol:1},Jp({Ripple:Yp})}render(){console.log(this.state);const n=this.state.tag.size===0?[]:[...this.state.tag].map((r,i)=>u.jsxs("span",{"data-te-ripple-init":!0,"data-te-ripple-color":"light",className:"inline-block m-2 ms-3 me-1 text-sm rounded bg-neutral-50 px-6 pb-2 pt-2.5 leading-normal text-neutral-800 shadow-[0_4px_9px_-4px_#cbcbcb] transition duration-150 ease-in-out hover:bg-neutral-100 hover:shadow-[0_8px_9px_-4px_rgba(203,203,203,0.3),0_4px_18px_0_rgba(203,203,203,0.2)] focus:bg-neutral-100 focus:shadow-[0_8px_9px_-4px_rgba(203,203,203,0.3),0_4px_18px_0_rgba(203,203,203,0.2)] focus:outline-none focus:ring-0 active:bg-neutral-200 active:shadow-[0_8px_9px_-4px_rgba(203,203,203,0.3),0_4px_18px_0_rgba(203,203,203,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(251,251,251,0.3)] dark:hover:shadow-[0_8px_9px_-4px_rgba(251,251,251,0.1),0_4px_18px_0_rgba(251,251,251,0.05)] dark:focus:shadow-[0_8px_9px_-4px_rgba(251,251,251,0.1),0_4px_18px_0_rgba(251,251,251,0.05)] dark:active:shadow-[0_8px_9px_-4px_rgba(251,251,251,0.1),0_4px_18px_0_rgba(251,251,251,0.05)]",id:"tag_"+r,children:[r,u.jsx("button",{"data-te-ripple-init":!0,"data-te-ripple-color":"light",className:"ms-2 inline-block rounded px-3 pb-1 pt-1.5 font-medium leading-normal text-danger transition duration-150 ease-in-out hover:shadow-[0_8px_9px_-4px_rgba(220,76,100,0.3),0_4px_18px_0_rgba(220,76,100,0.2)] focus:shadow-[0_8px_9px_-4px_rgba(220,76,100,0.3),0_4px_18px_0_rgba(220,76,100,0.2)] focus:outline-none focus:ring-0 active:shadow-[0_8px_9px_-4px_rgba(220,76,100,0.3),0_4px_18px_0_rgba(220,76,100,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(220,76,100,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(220,76,100,0.2),0_4px_18px_0_rgba(220,76,100,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(220,76,100,0.2),0_4px_18px_0_rgba(220,76,100,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(220,76,100,0.2),0_4px_18px_0_rgba(220,76,100,0.1)]",onClick:()=>this.removeTag(r),children:"x"})]},r));return u.jsxs("section",{id:"main",className:"max-w-xl mx-auto divide-y md:max-w-4xl",children:[u.jsxs("div",{className:"py-8 border-b",children:[u.jsx("h1",{className:"text-4xl font-bold",children:"Upload"}),u.jsx("p",{className:"mt-3 text-lg text-gray-500",children:"Sculpting Futures, Unleasing Knowledge: FreeFlow Edu, Where Learning Knows No Bounds!"})]}),u.jsxs("div",{className:"div_general py-6",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"General"}),u.jsx("p",{className:"m5-3 text-lg text-gray-500",children:"This is where the course description will be displayed to the Homepage of our FreeFlow Edu App."}),u.jsx("div",{className:"mt-8 max-w-md",children:u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Course Title: "}),u.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_tile",id:"t_title",className:"mt-1 block w-full",placeholder:"Trigonometry",required:!0})]}),u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Course Description: "}),u.jsx("textarea",{name:"t_des",id:"t_des",className:"mt-1 block w-full",placeholder:"Write something here...",required:!0})]}),u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Level: "}),u.jsxs("select",{className:"block w-full mt-1",id:"c_level",required:!0,children:[u.jsx("option",{value:"",children:"-- Please select --"}),u.jsx("option",{value:"primary",children:"Primary School"}),u.jsx("option",{value:"secondary",children:"Secondary School"}),u.jsx("option",{value:"undergraduate",children:"Undergraduate"}),u.jsx("option",{value:"postgraduate",children:"Postgraduate"}),u.jsx("option",{value:"workplace",children:"Workplace"})]})]}),u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Subject: "}),u.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_sub",id:"t_sub",className:"mt-1 block w-full",placeholder:"Mathematics",required:!0})]}),u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Language: "}),u.jsx("input",{onKeyUp:this.handleKeyPress,type:"text",name:"t_lang",id:"t_lang",className:"mt-1 block w-full",placeholder:"English",required:!0})]}),u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Sell for Solana of : "}),u.jsx("input",{onKeyUp:this.handleKeyPress,onChange:this.changeSOL,type:"number",name:"t_sol",id:"t_sol",className:"mt-1 block w-full",placeholder:"0.00",required:!0}),u.jsx("br",{}),this.state.sol," SOL = ",u.jsx(oA,{sol:this.state.sol})," USD"]}),u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Tag: "}),u.jsx("input",{onKeyUp:this.handleTagKeyPress,type:"text",name:"t_tag",id:"t_tag",className:"mt-1 block w-full",placeholder:"Write some keywords here..."})]}),u.jsx("div",{style:{display:"none"},id:"div_tag",children:n}),u.jsxs("label",{className:"block",children:[u.jsx("span",{className:"text-gray-600",children:"Author: "}),u.jsx("input",{type:"text",name:"t_author_uid",id:"t_author_uid",className:"mt-1 block w-full",value:this.state.user.email,disabled:!0})]}),u.jsxs("label",{className:"block",forhtml:"f_notes",children:[u.jsx("span",{className:"text-gray-600",children:"Upload Thumbnail: "}),u.jsx("input",{className:"mt-1 block w-full relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100 dark:focus:border-primary",type:"file",id:"f_thumbnail",accept:".jpg",onChange:r=>this.setState({thumbnailUpload:r.target.files[0]})})]})]})})]}),u.jsxs("div",{className:"py-6 grid grid-cols-3 gap-4",children:[u.jsx("button",{className:"button_choice",id:"b_video",onClick:()=>this.select("video"),children:"Video"}),u.jsx("button",{className:"button_choice",id:"b_notes",onClick:()=>this.select("notes"),children:"Notes"}),u.jsx("button",{className:"button_choice",id:"b_both",onClick:()=>this.select("both"),children:"Both"})]}),u.jsxs("div",{id:"div_video",className:"div_upload pb-2 !border-0",style:{display:"none"},children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upload Video"}),u.jsx("div",{className:"mb-3",children:u.jsx("label",{forhtml:"f_notes",children:u.jsx("input",{className:"mt-1 block w-full relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100 dark:focus:border-primary",type:"file",id:"f_video",accept:".mp4",onChange:r=>this.setState({videoUpload:r.target.files[0]})})})})]}),u.jsxs("div",{id:"div_notes",className:"div_upload pb-2 !border-0",style:{display:"none"},children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Upload Notes"}),u.jsx("div",{className:"mb-3",children:u.jsx("label",{forhtml:"f_notes",children:u.jsx("input",{className:"mt-1 block w-full relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100 dark:focus:border-primary",type:"file",id:"f_notes",accept:".pdf",onChange:r=>this.setState({notesUpload:r.target.files[0]})})})})]}),u.jsx("div",{className:"py-6",children:u.jsx("button",{className:"inline-block rounded bg-primary px-8 pb-3 pt-4 font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",onClick:this.uploadConfirm,children:"Upload"})})]})}}const Hq=Fq(zq),qq=()=>u.jsx(u.Fragment,{children:u.jsx("div",{className:"container my-24 mx-auto md:px-6",children:u.jsxs("section",{className:"mb-32",children:[u.jsx("h1",{className:"mb-12 text-center text-3xl font-bold",children:"Choose your learning plan and join our global community"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"hidden opacity-100 transition-opacity duration-150 ease-linear data-[te-tab-active]:block",id:"pills-home02",role:"tabpanel","aria-labelledby":"pills-home-tab02","data-te-tab-active":!0,children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 lg:gap-x-12",children:[u.jsx("div",{className:"mb-6 lg:mb-0",children:u.jsxs("div",{className:"block h-full rounded-lg bg-sky-200 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-sky-700",children:[u.jsxs("div",{className:"border-b-2 dark:border-black border-opacity-100 p-6 text-center ",children:[u.jsx("p",{className:"mb-4 text-sm uppercase",children:u.jsx("strong",{children:"Basic"})}),u.jsx("h3",{className:"mb-6 text-3xl",children:u.jsx("strong",{children:"Current Plan"})}),u.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)] disabled:cursor-auto","data-te-ripple-init":!0,"data-te-ripple-color":"light",disabled:!0,children:"Free"})]}),u.jsx("div",{className:"p-6",children:u.jsxs("ol",{className:"list-inside",children:[u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Unlimited updates"]}),u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Git repository"]}),u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"npm installation"]})]})})]})}),u.jsx("div",{className:"mb-6 lg:mb-0",children:u.jsxs("div",{className:"block h-full rounded-lg bg-sky-200 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-sky-700",children:[u.jsxs("div",{className:"border-b-2 dark:border-black border-opacity-100 p-6 text-center",children:[u.jsx("p",{className:"mb-4 text-sm uppercase",children:u.jsx("strong",{children:"Advanced"})}),u.jsxs("h3",{className:"mb-6 text-3xl",children:[u.jsx("strong",{children:"$ 300"}),u.jsx("small",{className:"text-base text-neutral-500 dark:text-neutral-300",children:"/month"})]}),u.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)] hover:text-white hover:bg-black","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]}),u.jsx("div",{className:"p-6",children:u.jsxs("ol",{className:"list-inside",children:[u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Unlimited updates"]}),u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Git repository"]}),u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"npm installation"]}),u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Code examples"]}),u.jsxs("li",{className:"mb-4 flex",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Premium snippets"]})]})})]})}),u.jsx("div",{className:"mb-6 lg:mb-0",children:u.jsxs("div",{className:"block h-full rounded-lg bg-orange-500 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:[u.jsxs("div",{className:"border-b-2 border-black border-opacity-100 p-6 text-center dark:bg-orange-500",children:[u.jsx("p",{className:"mb-4 text-sm uppercase",children:u.jsx("strong",{className:"text-black",children:"Enterprise"})}),u.jsxs("h3",{className:"mb-6 text-3xl",children:[u.jsx("strong",{className:"text-black",children:"$ 50"}),u.jsx("small",{className:"text-base text-neutral-500 dark:text-black",children:"/year"})]}),u.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)] bg-neutral-950 hover:text-black","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]}),u.jsx("div",{className:"p-6 dark:bg-orange-500 rounded-lg",children:u.jsxs("ol",{className:"list-inside",children:[u.jsxs("li",{className:"mb-4 flex dark:text-black",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Unlimited updates"]}),u.jsxs("li",{className:"mb-4 flex dark:text-black",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Git repository"]}),u.jsxs("li",{className:"mb-4 flex dark:text-black",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"npm installation"]}),u.jsxs("li",{className:"mb-4 flex dark:text-black",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Code examples"]}),u.jsxs("li",{className:"mb-4 flex dark:text-black",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Premium snippets"]}),u.jsxs("li",{className:"mb-4 flex dark:text-black",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Premium support"]}),u.jsxs("li",{className:"mb-4 flex dark:text-black",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"black",className:"mr-3 h-5 w-5 text-primary dark:text-primary-400",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),"Drag&Drop builder"]})]})})]})})]})}),u.jsx("div",{className:"hidden opacity-0 transition-opacity duration-150 ease-linear data-[te-tab-active]:block",id:"pills-profile02",role:"tabpanel","aria-labelledby":"pills-profile-tab02",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 lg:gap-x-12",children:[u.jsx("div",{className:"mb-6 lg:mb-0",children:u.jsx("div",{className:"block h-full rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:u.jsxs("div",{className:"p-6 pt-6 pb-10 text-center",children:[u.jsx("p",{className:"mb-4 text-sm uppercase",children:u.jsx("strong",{children:"3 users"})}),u.jsxs("h3",{className:"mb-6 text-3xl",children:[u.jsx("strong",{children:"$ 799"}),u.jsx("small",{className:"text-base text-neutral-500 dark:text-neutral-300",children:"/year"})]}),u.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)]","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]})})}),u.jsx("div",{className:"mb-6 lg:mb-0",children:u.jsx("div",{className:"block h-full rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:u.jsxs("div",{className:"p-6 pt-6 pb-10 text-center",children:[u.jsx("p",{className:"mb-4 text-sm uppercase",children:u.jsx("strong",{children:"4 users"})}),u.jsxs("h3",{className:"mb-6 text-3xl",children:[u.jsx("strong",{children:"$ 999"}),u.jsx("small",{className:"text-base text-neutral-500 dark:text-neutral-300",children:"/year"})]}),u.jsx("button",{type:"button",className:"inline-block w-full rounded bg-[hsl(0,0%,95%)] px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-primary-700 transition duration-150 ease-in-out hover:bg-[hsl(0,0%,93%)] focus:bg-[hsl(0,0%,95%)] focus:outline-none focus:ring-0 active:bg-[hsl(0,0%,90%)]","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Buy"})]})})}),u.jsx("div",{className:"mb-6 lg:mb-0",children:u.jsx("div",{className:"block h-full rounded-lg bg-white shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] dark:bg-neutral-700",children:u.jsxs("div",{className:"p-6 pt-6 pb-10 text-center",children:[u.jsx("p",{className:"mb-4 text-sm uppercase",children:u.jsx("strong",{children:"More users"})}),u.jsx("h3",{className:"mb-6 text-3xl",children:u.jsx("strong",{children:"Custom offer"})}),u.jsx("button",{type:"button",className:"inline-block w-full rounded bg-primary px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]","data-te-ripple-init":!0,"data-te-ripple-color":"light",children:" Contact us"})]})})})]})})]})]})})});class Lb extends ee.Component{constructor(n){super(n);at(this,"auth",Do());at(this,"logout",()=>{c7(this.auth).then(n=>{this.setState({user:null}),this.props.updateUserState(null)}).catch(n=>{console.log(n)}),localStorage.clear()});this.updateUserState=n.updateUserState,this.state=n.state,this.setState=this.setState.bind(this)}render(){return console.log(this.state),this.state?u.jsx("div",{className:"m-12 mt-4 flex items-center justify-center",children:u.jsxs("div",{className:"p-4 sm:p-10 bg-gray-50 rounded-md  w-[300px] md:w-[500px] text-center overflow-y-auto",children:[u.jsx("span",{className:"mb-4 inline-flex justify-center items-center w-[62px] h-[62px] rounded-full border-4 border-yellow-50 bg-yellow-100 text-yellow-500",children:u.jsx("svg",{className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})}),u.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-800",children:"Sign out"}),u.jsx("p",{className:"text-gray-500",children:"Are you sure you would like to sign out of your account?"}),u.jsxs("div",{className:"mt-6 flex justify-center gap-x-4",children:[u.jsx(Xs,{onClick:this.logout,className:"py-2.5 px-4 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm",children:"Sign out"}),u.jsx(Xs,{to:"/freeflow-edu/",type:"button",className:"py-2.5 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 text-white hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",children:"Cancel"})]})]})}):u.jsx(_v,{to:"/freeflow-edu/"})}}const Db=({setUser:t})=>u.jsx(u.Fragment,{children:u.jsx("div",{className:"h-90 w-full mt-4 dark:bg-transparent bg-gray-50 flex items-center",children:u.jsxs("div",{className:"container flex flex-col md:flex-row items-center justify-between px-5 text-gray-700",children:[u.jsxs("div",{className:"w-full lg:w-1/2 mx-8",children:[u.jsx("div",{className:"text-7xl text-orange-400 font-dark font-extrabold mb-8",children:" 404"}),u.jsx("p",{className:"text-2xl md:text-3xl font-light leading-normal mb-10 dark:text-gray-50",children:"Sorry we couldn't find the page you're looking for"}),u.jsx(Xs,{to:"/freeflow-edu/",className:"px-5 inline py-3 text-sm font-medium leading-5 shadow-2xl text-white transition-all duration-400 border border-transparent rounded-lg focus:outline-none bg-orange-500 active:bg-red-600 hover:bg-red-00 text-white hover:text-white active:text-white",children:"Back to homepage"})]}),u.jsx("div",{className:"w-full lg:flex lg:justify-end lg:w-1/2 mx-5 my-12 dark:bg-gray-100 p-12 rounded-lg",children:u.jsx("img",{src:"https://user-images.githubusercontent.com/43953425/166269493-acd08ccb-4df3-4474-95c7-ad1034d3c070.svg",className:"",alt:"Page not found"})})]})})});const Wq={apiKey:"AIzaSyAj-GUmYIXPUpAoFSAmQaiQ7to35EqqgvI",authDomain:"freeflow-edu.firebaseapp.com",projectId:"freeflow-edu",storageBucket:"freeflow-edu.appspot.com",messagingSenderId:"452838619706",appId:"1:452838619706:web:b09c97c4f716734f699303",measurementId:"G-VMWMHD4L2L"},Kq=ao(Wq),Em=fa(Kq);class Gq extends ee.Component{constructor(n){Jp({Tooltip:ec});super(n);at(this,"auth",Do());at(this,"updateUserState",n=>{this.setState({user:n})});at(this,"updateRoleState",n=>{this.setState({role:n})});at(this,"checkIfWalletIsConnected",async()=>{var n;if((n=window==null?void 0:window.solana)!=null&&n.isPhantom){console.log("Phantom wallet found!");const r=await window.solana.connect({onlyIfTrusted:!0});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString(),walletResponse:r});const i=dn(Em,"Users",this.state.user.uid);return await $a(i,{walletAddress:r.publicKey.toString()}).then(()=>{}),!0}else return console.log("Solana object not found! Get a Phantom Wallet 👻"),!1});at(this,"connectWallet",async()=>{const{solana:n}=window;if(n){const r=await n.connect().catch(()=>{alert("Fail to connect Wallet. Have you login to your Phantom wallet?")});console.log("Connected with Public Key:",r.publicKey.toString()),this.setState({walletAddress:r.publicKey.toString(),walletResponse:r});const i=dn(Em,"Users",this.state.user.uid);await $a(i,{walletAddress:r.publicKey.toString()}).then(()=>{})}else alert("You do not have a Phantom wallet. Please install it from your web browser extension store.")});at(this,"disconnectWallet",async()=>{solana&&(await solana.disconnect(),console.log("Disconnected with Public Key:",this.state.walletAddress),alert("Wallet address"+this.state.walletAddress+" is disconnected from your FreeFlow Edu account now."),this.setState({walletAddress:null}),dn(Em,"Users",this.state.user.uid))});at(this,"renderNotConnectedContainer",()=>u.jsxs("button",{type:"button","data-te-ripple-init":!0,"data-te-ripple-color":"light",className:"cta-button connect-wallet-button flex items-center rounded bg-[#878595] px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-[#6B6A77] hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-[#52515B] focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-[#52515B] active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] dark:shadow-[0_4px_9px_-4px_rgba(59,113,202,0.5)] dark:hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)] dark:active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.2),0_4px_18px_0_rgba(59,113,202,0.1)]",onClick:this.state.walletAddress?this.disconnectWallet:this.connectWallet,"data-te-toggle":"tooltip",title:this.state.walletAddress!=null&&this.state.walletAddress.slice(0,4)+"..."+this.state.walletAddress.slice(-5,-1),children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",className:"mr-1 h-8 w-8",children:[u.jsx("rect",{xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",fill:"transparent"}),u.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.6416 82.1477C50.8744 89.4525 42.8862 98.6966 32.2568 98.6966C27.232 98.6966 22.4004 96.628 22.4004 87.6424C22.4004 64.7584 53.6445 29.3335 82.6339 29.3335C99.1257 29.3335 105.697 40.7755 105.697 53.7689C105.697 70.4471 94.8739 89.5171 84.1156 89.5171C80.7013 89.5171 79.0264 87.6424 79.0264 84.6688C79.0264 83.8931 79.1552 83.0527 79.4129 82.1477C75.7409 88.4182 68.6546 94.2361 62.0192 94.2361C57.1877 94.2361 54.7397 91.1979 54.7397 86.9314C54.7397 85.3799 55.0618 83.7638 55.6416 82.1477ZM80.6133 53.3182C80.6133 57.1044 78.3795 58.9975 75.8806 58.9975C73.3438 58.9975 71.1479 57.1044 71.1479 53.3182C71.1479 49.532 73.3438 47.6389 75.8806 47.6389C78.3795 47.6389 80.6133 49.532 80.6133 53.3182ZM94.8102 53.3184C94.8102 57.1046 92.5763 58.9977 90.0775 58.9977C87.5407 58.9977 85.3447 57.1046 85.3447 53.3184C85.3447 49.5323 87.5407 47.6392 90.0775 47.6392C92.5763 47.6392 94.8102 49.5323 94.8102 53.3184Z",fill:"#FFFDF8"})]}),this.state.walletAddress?"Disconnect from Wallet":"Connect to Wallet"]}));this.state={user:JSON.parse(localStorage.getItem("user")),walletAddress:null,role:null,walletResponse:null}}componentDidMount(){this.state.user!==null&&JSON.parse(localStorage.getItem("user"))&&this.setState({user:JSON.parse(localStorage.getItem("user"))}),this.checkIfWalletIsConnected()}render(){return this.state.user||JSON.parse(localStorage.getItem("user"))?u.jsx(Gx,{children:u.jsx(Wx,{children:u.jsxs(jn,{exact:!0,path:"/freeflow-edu/",element:u.jsx(hU,{state:this.state,renderNotConnectedContainer:this.renderNotConnectedContainer,updateRoleState:this.updateRoleState}),children:[u.jsx(jn,{index:!0,active:!0,element:u.jsx(MF,{state:this.state})}),u.jsx(jn,{path:"profile/:id",element:u.jsx(DF,{state:this.state})}),u.jsx(jn,{path:"sign-out",element:u.jsx(Lb,{state:this.state,updateUserState:this.updateUserState})}),u.jsx(jn,{path:"register",element:u.jsx(z5,{state:this.state,updateUserState:this.updateUserState})}),u.jsx(jn,{path:"course/:url",element:u.jsx(Uq,{state:this.state})}),u.jsx(jn,{path:"upload",element:u.jsx(Hq,{state:this.state})}),u.jsx(jn,{path:"subscription",element:u.jsx(qq,{})}),u.jsx(jn,{path:"first-time-user",element:u.jsx(wU,{state:this.state})}),u.jsx(jn,{path:"*",element:u.jsx(Db,{})})]})})}):(console.log("Session has expired. Login again."),u.jsx(Gx,{children:u.jsx(Wx,{children:u.jsxs(jn,{exact:!0,path:"/freeflow-edu/",element:u.jsx(aU,{}),children:[u.jsx(jn,{index:!0,active:!0,element:u.jsx(fU,{state:this.state,updateUserState:this.updateUserState})}),u.jsx(jn,{path:"register",element:u.jsx(z5,{state:this.state,updateUserState:this.updateUserState})}),u.jsx(jn,{path:"sign-out",element:u.jsx(Lb,{})}),u.jsx(jn,{path:"*",element:u.jsx(Db,{})})]})})}))}}Sm.createRoot(document.getElementById("root")).render(u.jsx(qb.StrictMode,{children:u.jsx(Gq,{})}));
